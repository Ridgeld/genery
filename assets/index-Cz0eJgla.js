function x6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var PC={exports:{}},ef={},LC={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Symbol.for("react.element"),b6=Symbol.for("react.portal"),k6=Symbol.for("react.fragment"),S6=Symbol.for("react.strict_mode"),E6=Symbol.for("react.profiler"),T6=Symbol.for("react.provider"),I6=Symbol.for("react.context"),N6=Symbol.for("react.forward_ref"),j6=Symbol.for("react.suspense"),A6=Symbol.for("react.memo"),P6=Symbol.for("react.lazy"),_v=Symbol.iterator;function L6(t){return t===null||typeof t!="object"?null:(t=_v&&t[_v]||t["@@iterator"],typeof t=="function"?t:null)}var RC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OC=Object.assign,DC={};function za(t,e,n){this.props=t,this.context=e,this.refs=DC,this.updater=n||RC}za.prototype.isReactComponent={};za.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};za.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function MC(){}MC.prototype=za.prototype;function u0(t,e,n){this.props=t,this.context=e,this.refs=DC,this.updater=n||RC}var d0=u0.prototype=new MC;d0.constructor=u0;OC(d0,za.prototype);d0.isPureReactComponent=!0;var vv=Array.isArray,$C=Object.prototype.hasOwnProperty,h0={current:null},FC={key:!0,ref:!0,__self:!0,__source:!0};function BC(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)$C.call(e,r)&&!FC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Hc,type:t,key:o,ref:i,props:s,_owner:h0.current}}function R6(t,e){return{$$typeof:Hc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function f0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Hc}function O6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wv=/\/+/g;function Om(t,e){return typeof t=="object"&&t!==null&&t.key!=null?O6(""+t.key):e.toString(36)}function dd(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Hc:case b6:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+Om(i,0):r,vv(s)?(n="",t!=null&&(n=t.replace(wv,"$&/")+"/"),dd(s,e,n,"",function(u){return u})):s!=null&&(f0(s)&&(s=R6(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(wv,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",vv(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Om(o,a);i+=dd(o,e,n,l,s)}else if(l=L6(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Om(o,a++),i+=dd(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Su(t,e,n){if(t==null)return t;var r=[],s=0;return dd(t,r,"","",function(o){return e.call(n,o,s++)}),r}function D6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},hd={transition:null},M6={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:hd,ReactCurrentOwner:h0};function UC(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Su,forEach:function(t,e,n){Su(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Su(t,function(){e++}),e},toArray:function(t){return Su(t,function(e){return e})||[]},only:function(t){if(!f0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=za;we.Fragment=k6;we.Profiler=E6;we.PureComponent=u0;we.StrictMode=S6;we.Suspense=j6;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M6;we.act=UC;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OC({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=h0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$C.call(e,l)&&!FC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Hc,type:t.type,key:s,ref:o,props:r,_owner:i}};we.createContext=function(t){return t={$$typeof:I6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:T6,_context:t},t.Consumer=t};we.createElement=BC;we.createFactory=function(t){var e=BC.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:N6,render:t}};we.isValidElement=f0;we.lazy=function(t){return{$$typeof:P6,_payload:{_status:-1,_result:t},_init:D6}};we.memo=function(t,e){return{$$typeof:A6,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=hd.transition;hd.transition={};try{t()}finally{hd.transition=e}};we.unstable_act=UC;we.useCallback=function(t,e){return cn.current.useCallback(t,e)};we.useContext=function(t){return cn.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};we.useEffect=function(t,e){return cn.current.useEffect(t,e)};we.useId=function(){return cn.current.useId()};we.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return cn.current.useMemo(t,e)};we.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};we.useRef=function(t){return cn.current.useRef(t)};we.useState=function(t){return cn.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return cn.current.useTransition()};we.version="18.3.1";LC.exports=we;var f=LC.exports;const Rn=Jh(f),$6=x6({__proto__:null,default:Rn},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F6=f,B6=Symbol.for("react.element"),U6=Symbol.for("react.fragment"),V6=Object.prototype.hasOwnProperty,z6=F6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H6={key:!0,ref:!0,__self:!0,__source:!0};function VC(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)V6.call(e,r)&&!H6.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:B6,type:t,key:o,ref:i,props:s,_owner:z6.current}}ef.Fragment=U6;ef.jsx=VC;ef.jsxs=VC;PC.exports=ef;var c=PC.exports,zC={exports:{}},Bn={},HC={exports:{}},qC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,R){var D=I.length;I.push(R);e:for(;0<D;){var F=D-1>>>1,H=I[F];if(0<s(H,R))I[F]=R,I[D]=H,D=F;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var R=I[0],D=I.pop();if(D!==R){I[0]=D;e:for(var F=0,H=I.length,z=H>>>1;F<z;){var Q=2*(F+1)-1,ue=I[Q],ut=Q+1,Dt=I[ut];if(0>s(ue,D))ut<H&&0>s(Dt,ue)?(I[F]=Dt,I[ut]=D,F=ut):(I[F]=ue,I[Q]=D,F=Q);else if(ut<H&&0>s(Dt,D))I[F]=Dt,I[ut]=D,F=ut;else break e}}return R}function s(I,R){var D=I.sortIndex-R.sortIndex;return D!==0?D:I.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,m=3,p=!1,_=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=I)r(u),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(u)}}function C(I){if(w=!1,y(I),!_)if(n(l)!==null)_=!0,L(b);else{var R=n(u);R!==null&&P(C,R.startTime-I)}}function b(I,R){_=!1,w&&(w=!1,v(S),S=-1),p=!0;var D=m;try{for(y(R),h=n(l);h!==null&&(!(h.expirationTime>R)||I&&!A());){var F=h.callback;if(typeof F=="function"){h.callback=null,m=h.priorityLevel;var H=F(h.expirationTime<=R);R=t.unstable_now(),typeof H=="function"?h.callback=H:h===n(l)&&r(l),y(R)}else r(l);h=n(l)}if(h!==null)var z=!0;else{var Q=n(u);Q!==null&&P(C,Q.startTime-R),z=!1}return z}finally{h=null,m=D,p=!1}}var k=!1,T=null,S=-1,E=5,N=-1;function A(){return!(t.unstable_now()-N<E)}function j(){if(T!==null){var I=t.unstable_now();N=I;var R=!0;try{R=T(!0,I)}finally{R?M():(k=!1,T=null)}}else k=!1}var M;if(typeof g=="function")M=function(){g(j)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,$=O.port2;O.port1.onmessage=j,M=function(){$.postMessage(null)}}else M=function(){x(j,0)};function L(I){T=I,k||(k=!0,M())}function P(I,R){S=x(function(){I(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,L(b))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(m){case 1:case 2:case 3:var R=3;break;default:R=m}var D=m;m=R;try{return I()}finally{m=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,R){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var D=m;m=I;try{return R()}finally{m=D}},t.unstable_scheduleCallback=function(I,R,D){var F=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,I){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=D+H,I={id:d++,callback:R,priorityLevel:I,startTime:D,expirationTime:H,sortIndex:-1},D>F?(I.sortIndex=D,e(u,I),n(l)===null&&I===n(u)&&(w?(v(S),S=-1):w=!0,P(C,D-F))):(I.sortIndex=H,e(l,I),_||p||(_=!0,L(b))),I},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(I){var R=m;return function(){var D=m;m=R;try{return I.apply(this,arguments)}finally{m=D}}}})(qC);HC.exports=qC;var q6=HC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W6=f,Dn=q6;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WC=new Set,tc={};function ui(t,e){ga(t,e),ga(t+"Capture",e)}function ga(t,e){for(tc[t]=e,t=0;t<e.length;t++)WC.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),a1=Object.prototype.hasOwnProperty,G6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xv={},Cv={};function K6(t){return a1.call(Cv,t)?!0:a1.call(xv,t)?!1:G6.test(t)?Cv[t]=!0:(xv[t]=!0,!1)}function Z6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y6(t,e,n,r){if(e===null||typeof e>"u"||Z6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var m0=/[\-:]([a-z])/g;function p0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(m0,p0);Rt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(m0,p0);Rt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(m0,p0);Rt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function g0(t,e,n,r){var s=Rt.hasOwnProperty(e)?Rt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y6(e,n,s,r)&&(n=null),r||s===null?K6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ys=W6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),y0=Symbol.for("react.strict_mode"),l1=Symbol.for("react.profiler"),GC=Symbol.for("react.provider"),KC=Symbol.for("react.context"),_0=Symbol.for("react.forward_ref"),c1=Symbol.for("react.suspense"),u1=Symbol.for("react.suspense_list"),v0=Symbol.for("react.memo"),Is=Symbol.for("react.lazy"),ZC=Symbol.for("react.offscreen"),bv=Symbol.iterator;function tl(t){return t===null||typeof t!="object"?null:(t=bv&&t[bv]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Dm;function wl(t){if(Dm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dm=e&&e[1]||""}return`
`+Dm+t}var Mm=!1;function $m(t,e){if(!t||Mm)return"";Mm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Mm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wl(t):""}function Q6(t){switch(t.tag){case 5:return wl(t.type);case 16:return wl("Lazy");case 13:return wl("Suspense");case 19:return wl("SuspenseList");case 0:case 2:case 15:return t=$m(t.type,!1),t;case 11:return t=$m(t.type.render,!1),t;case 1:return t=$m(t.type,!0),t;default:return""}}function d1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $i:return"Fragment";case Mi:return"Portal";case l1:return"Profiler";case y0:return"StrictMode";case c1:return"Suspense";case u1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KC:return(t.displayName||"Context")+".Consumer";case GC:return(t._context.displayName||"Context")+".Provider";case _0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case v0:return e=t.displayName||null,e!==null?e:d1(t.type)||"Memo";case Is:e=t._payload,t=t._init;try{return d1(t(e))}catch{}}return null}function X6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return d1(e);case 8:return e===y0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J6(t){var e=YC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tu(t){t._valueTracker||(t._valueTracker=J6(t))}function QC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function h1(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XC(t,e){e=e.checked,e!=null&&g0(t,"checked",e,!1)}function f1(t,e){XC(t,e);var n=ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?m1(t,e.type,n):e.hasOwnProperty("defaultValue")&&m1(t,e.type,ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function m1(t,e,n){(e!=="number"||Md(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xl=Array.isArray;function ta(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ro(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function p1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ev(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(xl(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ro(n)}}function JC(t,e){var n=ro(e.value),r=ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function e5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function g1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Iu,t5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Iu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eE=["Webkit","ms","Moz","O"];Object.keys(Ll).forEach(function(t){eE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ll[e]=Ll[t]})});function n5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ll.hasOwnProperty(t)&&Ll[t]?(""+e).trim():e+"px"}function r5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=n5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var tE=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function y1(t,e){if(e){if(tE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function _1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v1=null;function w0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var w1=null,na=null,ra=null;function Iv(t){if(t=Gc(t)){if(typeof w1!="function")throw Error(q(280));var e=t.stateNode;e&&(e=of(e),w1(t.stateNode,t.type,e))}}function s5(t){na?ra?ra.push(t):ra=[t]:na=t}function o5(){if(na){var t=na,e=ra;if(ra=na=null,Iv(t),e)for(t=0;t<e.length;t++)Iv(e[t])}}function i5(t,e){return t(e)}function a5(){}var Fm=!1;function l5(t,e,n){if(Fm)return t(e,n);Fm=!0;try{return i5(t,e,n)}finally{Fm=!1,(na!==null||ra!==null)&&(a5(),o5())}}function rc(t,e){var n=t.stateNode;if(n===null)return null;var r=of(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var x1=!1;if(os)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){x1=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{x1=!1}function nE(t,e,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Rl=!1,$d=null,Fd=!1,C1=null,rE={onError:function(t){Rl=!0,$d=t}};function sE(t,e,n,r,s,o,i,a,l){Rl=!1,$d=null,nE.apply(rE,arguments)}function oE(t,e,n,r,s,o,i,a,l){if(sE.apply(this,arguments),Rl){if(Rl){var u=$d;Rl=!1,$d=null}else throw Error(q(198));Fd||(Fd=!0,C1=u)}}function di(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function c5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nv(t){if(di(t)!==t)throw Error(q(188))}function iE(t){var e=t.alternate;if(!e){if(e=di(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Nv(s),t;if(o===r)return Nv(s),e;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function u5(t){return t=iE(t),t!==null?d5(t):null}function d5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=d5(t);if(e!==null)return e;t=t.sibling}return null}var h5=Dn.unstable_scheduleCallback,jv=Dn.unstable_cancelCallback,aE=Dn.unstable_shouldYield,lE=Dn.unstable_requestPaint,lt=Dn.unstable_now,cE=Dn.unstable_getCurrentPriorityLevel,x0=Dn.unstable_ImmediatePriority,f5=Dn.unstable_UserBlockingPriority,Bd=Dn.unstable_NormalPriority,uE=Dn.unstable_LowPriority,m5=Dn.unstable_IdlePriority,tf=null,Ar=null;function dE(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(tf,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:mE,hE=Math.log,fE=Math.LN2;function mE(t){return t>>>=0,t===0?32:31-(hE(t)/fE|0)|0}var Nu=64,ju=4194304;function Cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ud(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=Cl(a):(o&=i,o!==0&&(r=Cl(o)))}else i=n&~s,i!==0?r=Cl(i):o!==0&&(r=Cl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lr(e),s=1<<n,r|=t[n],e&=~s;return r}function pE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-lr(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=pE(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function b1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p5(){var t=Nu;return Nu<<=1,!(Nu&4194240)&&(Nu=64),t}function Bm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lr(e),t[e]=n}function yE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-lr(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function C0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function g5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var y5,b0,_5,v5,w5,k1=!1,Au=[],Hs=null,qs=null,Ws=null,sc=new Map,oc=new Map,Ls=[],_E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Av(t,e){switch(t){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":sc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(e.pointerId)}}function rl(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Gc(e),e!==null&&b0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function vE(t,e,n,r,s){switch(e){case"focusin":return Hs=rl(Hs,t,e,n,r,s),!0;case"dragenter":return qs=rl(qs,t,e,n,r,s),!0;case"mouseover":return Ws=rl(Ws,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return sc.set(o,rl(sc.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,oc.set(o,rl(oc.get(o)||null,t,e,n,r,s)),!0}return!1}function x5(t){var e=Oo(t.target);if(e!==null){var n=di(e);if(n!==null){if(e=n.tag,e===13){if(e=c5(n),e!==null){t.blockedOn=e,w5(t.priority,function(){_5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=S1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);v1=r,n.target.dispatchEvent(r),v1=null}else return e=Gc(n),e!==null&&b0(e),t.blockedOn=n,!1;e.shift()}return!0}function Pv(t,e,n){fd(t)&&n.delete(e)}function wE(){k1=!1,Hs!==null&&fd(Hs)&&(Hs=null),qs!==null&&fd(qs)&&(qs=null),Ws!==null&&fd(Ws)&&(Ws=null),sc.forEach(Pv),oc.forEach(Pv)}function sl(t,e){t.blockedOn===e&&(t.blockedOn=null,k1||(k1=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,wE)))}function ic(t){function e(s){return sl(s,t)}if(0<Au.length){sl(Au[0],t);for(var n=1;n<Au.length;n++){var r=Au[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hs!==null&&sl(Hs,t),qs!==null&&sl(qs,t),Ws!==null&&sl(Ws,t),sc.forEach(e),oc.forEach(e),n=0;n<Ls.length;n++)r=Ls[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ls.length&&(n=Ls[0],n.blockedOn===null);)x5(n),n.blockedOn===null&&Ls.shift()}var sa=ys.ReactCurrentBatchConfig,Vd=!0;function xE(t,e,n,r){var s=Te,o=sa.transition;sa.transition=null;try{Te=1,k0(t,e,n,r)}finally{Te=s,sa.transition=o}}function CE(t,e,n,r){var s=Te,o=sa.transition;sa.transition=null;try{Te=4,k0(t,e,n,r)}finally{Te=s,sa.transition=o}}function k0(t,e,n,r){if(Vd){var s=S1(t,e,n,r);if(s===null)Ym(t,e,r,zd,n),Av(t,r);else if(vE(s,t,e,n,r))r.stopPropagation();else if(Av(t,r),e&4&&-1<_E.indexOf(t)){for(;s!==null;){var o=Gc(s);if(o!==null&&y5(o),o=S1(t,e,n,r),o===null&&Ym(t,e,r,zd,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ym(t,e,r,null,n)}}var zd=null;function S1(t,e,n,r){if(zd=null,t=w0(r),t=Oo(t),t!==null)if(e=di(t),e===null)t=null;else if(n=e.tag,n===13){if(t=c5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zd=t,null}function C5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cE()){case x0:return 1;case f5:return 4;case Bd:case uE:return 16;case m5:return 536870912;default:return 16}default:return 16}}var Bs=null,S0=null,md=null;function b5(){if(md)return md;var t,e=S0,n=e.length,r,s="value"in Bs?Bs.value:Bs.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return md=s.slice(t,1<r?1-r:void 0)}function pd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pu(){return!0}function Lv(){return!1}function Un(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pu:Lv,this.isPropagationStopped=Lv,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),e}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},E0=Un(Ha),Wc=Je({},Ha,{view:0,detail:0}),bE=Un(Wc),Um,Vm,ol,nf=Je({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:T0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(Um=t.screenX-ol.screenX,Vm=t.screenY-ol.screenY):Vm=Um=0,ol=t),Um)},movementY:function(t){return"movementY"in t?t.movementY:Vm}}),Rv=Un(nf),kE=Je({},nf,{dataTransfer:0}),SE=Un(kE),EE=Je({},Wc,{relatedTarget:0}),zm=Un(EE),TE=Je({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),IE=Un(TE),NE=Je({},Ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jE=Un(NE),AE=Je({},Ha,{data:0}),Ov=Un(AE),PE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RE[t])?!!e[t]:!1}function T0(){return OE}var DE=Je({},Wc,{key:function(t){if(t.key){var e=PE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:T0,charCode:function(t){return t.type==="keypress"?pd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ME=Un(DE),$E=Je({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=Un($E),FE=Je({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:T0}),BE=Un(FE),UE=Je({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),VE=Un(UE),zE=Je({},nf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HE=Un(zE),qE=[9,13,27,32],I0=os&&"CompositionEvent"in window,Ol=null;os&&"documentMode"in document&&(Ol=document.documentMode);var WE=os&&"TextEvent"in window&&!Ol,k5=os&&(!I0||Ol&&8<Ol&&11>=Ol),Mv=" ",$v=!1;function S5(t,e){switch(t){case"keyup":return qE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function GE(t,e){switch(t){case"compositionend":return E5(e);case"keypress":return e.which!==32?null:($v=!0,Mv);case"textInput":return t=e.data,t===Mv&&$v?null:t;default:return null}}function KE(t,e){if(Fi)return t==="compositionend"||!I0&&S5(t,e)?(t=b5(),md=S0=Bs=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return k5&&e.locale!=="ko"?null:e.data;default:return null}}var ZE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZE[t.type]:e==="textarea"}function T5(t,e,n,r){s5(r),e=Hd(e,"onChange"),0<e.length&&(n=new E0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Dl=null,ac=null;function YE(t){$5(t,0)}function rf(t){var e=Vi(t);if(QC(e))return t}function QE(t,e){if(t==="change")return e}var I5=!1;if(os){var Hm;if(os){var qm="oninput"in document;if(!qm){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),qm=typeof Bv.oninput=="function"}Hm=qm}else Hm=!1;I5=Hm&&(!document.documentMode||9<document.documentMode)}function Uv(){Dl&&(Dl.detachEvent("onpropertychange",N5),ac=Dl=null)}function N5(t){if(t.propertyName==="value"&&rf(ac)){var e=[];T5(e,ac,t,w0(t)),l5(YE,e)}}function XE(t,e,n){t==="focusin"?(Uv(),Dl=e,ac=n,Dl.attachEvent("onpropertychange",N5)):t==="focusout"&&Uv()}function JE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rf(ac)}function eT(t,e){if(t==="click")return rf(e)}function tT(t,e){if(t==="input"||t==="change")return rf(e)}function nT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:nT;function lc(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!a1.call(e,s)||!ur(t[s],e[s]))return!1}return!0}function Vv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zv(t,e){var n=Vv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vv(n)}}function j5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function A5(){for(var t=window,e=Md();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Md(t.document)}return e}function N0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rT(t){var e=A5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&j5(n.ownerDocument.documentElement,n)){if(r!==null&&N0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=zv(n,o);var i=zv(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sT=os&&"documentMode"in document&&11>=document.documentMode,Bi=null,E1=null,Ml=null,T1=!1;function Hv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T1||Bi==null||Bi!==Md(r)||(r=Bi,"selectionStart"in r&&N0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ml&&lc(Ml,r)||(Ml=r,r=Hd(E1,"onSelect"),0<r.length&&(e=new E0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bi)))}function Lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ui={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},Wm={},P5={};os&&(P5=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function sf(t){if(Wm[t])return Wm[t];if(!Ui[t])return t;var e=Ui[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in P5)return Wm[t]=e[n];return t}var L5=sf("animationend"),R5=sf("animationiteration"),O5=sf("animationstart"),D5=sf("transitionend"),M5=new Map,qv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(t,e){M5.set(t,e),ui(e,[t])}for(var Gm=0;Gm<qv.length;Gm++){var Km=qv[Gm],oT=Km.toLowerCase(),iT=Km[0].toUpperCase()+Km.slice(1);ho(oT,"on"+iT)}ho(L5,"onAnimationEnd");ho(R5,"onAnimationIteration");ho(O5,"onAnimationStart");ho("dblclick","onDoubleClick");ho("focusin","onFocus");ho("focusout","onBlur");ho(D5,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function Wv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oE(r,e,void 0,t),t.currentTarget=null}function $5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Wv(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Wv(s,a,u),o=l}}}if(Fd)throw t=C1,Fd=!1,C1=null,t}function Oe(t,e){var n=e[P1];n===void 0&&(n=e[P1]=new Set);var r=t+"__bubble";n.has(r)||(F5(e,t,2,!1),n.add(r))}function Zm(t,e,n){var r=0;e&&(r|=4),F5(n,t,r,e)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function cc(t){if(!t[Ru]){t[Ru]=!0,WC.forEach(function(n){n!=="selectionchange"&&(aT.has(n)||Zm(n,!1,t),Zm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ru]||(e[Ru]=!0,Zm("selectionchange",!1,e))}}function F5(t,e,n,r){switch(C5(e)){case 1:var s=xE;break;case 4:s=CE;break;default:s=k0}n=s.bind(null,e,n,t),s=void 0,!x1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ym(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Oo(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}l5(function(){var u=o,d=w0(n),h=[];e:{var m=M5.get(t);if(m!==void 0){var p=E0,_=t;switch(t){case"keypress":if(pd(n)===0)break e;case"keydown":case"keyup":p=ME;break;case"focusin":_="focus",p=zm;break;case"focusout":_="blur",p=zm;break;case"beforeblur":case"afterblur":p=zm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=SE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BE;break;case L5:case R5:case O5:p=IE;break;case D5:p=VE;break;case"scroll":p=bE;break;case"wheel":p=HE;break;case"copy":case"cut":case"paste":p=jE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Dv}var w=(e&4)!==0,x=!w&&t==="scroll",v=w?m!==null?m+"Capture":null:m;w=[];for(var g=u,y;g!==null;){y=g;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,v!==null&&(C=rc(g,v),C!=null&&w.push(uc(g,C,y)))),x)break;g=g.return}0<w.length&&(m=new p(m,_,null,n,d),h.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==v1&&(_=n.relatedTarget||n.fromElement)&&(Oo(_)||_[is]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Oo(_):null,_!==null&&(x=di(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(w=Rv,C="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=Dv,C="onPointerLeave",v="onPointerEnter",g="pointer"),x=p==null?m:Vi(p),y=_==null?m:Vi(_),m=new w(C,g+"leave",p,n,d),m.target=x,m.relatedTarget=y,C=null,Oo(d)===u&&(w=new w(v,g+"enter",_,n,d),w.target=y,w.relatedTarget=x,C=w),x=C,p&&_)t:{for(w=p,v=_,g=0,y=w;y;y=Ei(y))g++;for(y=0,C=v;C;C=Ei(C))y++;for(;0<g-y;)w=Ei(w),g--;for(;0<y-g;)v=Ei(v),y--;for(;g--;){if(w===v||v!==null&&w===v.alternate)break t;w=Ei(w),v=Ei(v)}w=null}else w=null;p!==null&&Gv(h,m,p,w,!1),_!==null&&x!==null&&Gv(h,x,_,w,!0)}}e:{if(m=u?Vi(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var b=QE;else if(Fv(m))if(I5)b=tT;else{b=JE;var k=XE}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=eT);if(b&&(b=b(t,u))){T5(h,b,n,d);break e}k&&k(t,m,u),t==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&m1(m,"number",m.value)}switch(k=u?Vi(u):window,t){case"focusin":(Fv(k)||k.contentEditable==="true")&&(Bi=k,E1=u,Ml=null);break;case"focusout":Ml=E1=Bi=null;break;case"mousedown":T1=!0;break;case"contextmenu":case"mouseup":case"dragend":T1=!1,Hv(h,n,d);break;case"selectionchange":if(sT)break;case"keydown":case"keyup":Hv(h,n,d)}var T;if(I0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Fi?S5(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(k5&&n.locale!=="ko"&&(Fi||S!=="onCompositionStart"?S==="onCompositionEnd"&&Fi&&(T=b5()):(Bs=d,S0="value"in Bs?Bs.value:Bs.textContent,Fi=!0)),k=Hd(u,S),0<k.length&&(S=new Ov(S,t,null,n,d),h.push({event:S,listeners:k}),T?S.data=T:(T=E5(n),T!==null&&(S.data=T)))),(T=WE?GE(t,n):KE(t,n))&&(u=Hd(u,"onBeforeInput"),0<u.length&&(d=new Ov("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}$5(h,e)})}function uc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=rc(t,n),o!=null&&r.unshift(uc(t,o,s)),o=rc(t,e),o!=null&&r.push(uc(t,o,s))),t=t.return}return r}function Ei(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gv(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=rc(n,o),l!=null&&i.unshift(uc(n,l,a))):s||(l=rc(n,o),l!=null&&i.push(uc(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var lT=/\r\n?/g,cT=/\u0000|\uFFFD/g;function Kv(t){return(typeof t=="string"?t:""+t).replace(lT,`
`).replace(cT,"")}function Ou(t,e,n){if(e=Kv(e),Kv(t)!==e&&n)throw Error(q(425))}function qd(){}var I1=null,N1=null;function j1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var A1=typeof setTimeout=="function"?setTimeout:void 0,uT=typeof clearTimeout=="function"?clearTimeout:void 0,Zv=typeof Promise=="function"?Promise:void 0,dT=typeof queueMicrotask=="function"?queueMicrotask:typeof Zv<"u"?function(t){return Zv.resolve(null).then(t).catch(hT)}:A1;function hT(t){setTimeout(function(){throw t})}function Qm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ic(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ic(e)}function Gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qa=Math.random().toString(36).slice(2),Er="__reactFiber$"+qa,dc="__reactProps$"+qa,is="__reactContainer$"+qa,P1="__reactEvents$"+qa,fT="__reactListeners$"+qa,mT="__reactHandles$"+qa;function Oo(t){var e=t[Er];if(e)return e;for(var n=t.parentNode;n;){if(e=n[is]||n[Er]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yv(t);t!==null;){if(n=t[Er])return n;t=Yv(t)}return e}t=n,n=t.parentNode}return null}function Gc(t){return t=t[Er]||t[is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function of(t){return t[dc]||null}var L1=[],zi=-1;function fo(t){return{current:t}}function $e(t){0>zi||(t.current=L1[zi],L1[zi]=null,zi--)}function Re(t,e){zi++,L1[zi]=t.current,t.current=e}var so={},Jt=fo(so),vn=fo(!1),Zo=so;function ya(t,e){var n=t.type.contextTypes;if(!n)return so;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wn(t){return t=t.childContextTypes,t!=null}function Wd(){$e(vn),$e(Jt)}function Qv(t,e,n){if(Jt.current!==so)throw Error(q(168));Re(Jt,e),Re(vn,n)}function B5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,X6(t)||"Unknown",s));return Je({},n,r)}function Gd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||so,Zo=Jt.current,Re(Jt,t),Re(vn,vn.current),!0}function Xv(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=B5(t,e,Zo),r.__reactInternalMemoizedMergedChildContext=t,$e(vn),$e(Jt),Re(Jt,t)):$e(vn),Re(vn,n)}var Hr=null,af=!1,Xm=!1;function U5(t){Hr===null?Hr=[t]:Hr.push(t)}function pT(t){af=!0,U5(t)}function mo(){if(!Xm&&Hr!==null){Xm=!0;var t=0,e=Te;try{var n=Hr;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,af=!1}catch(s){throw Hr!==null&&(Hr=Hr.slice(t+1)),h5(x0,mo),s}finally{Te=e,Xm=!1}}return null}var Hi=[],qi=0,Kd=null,Zd=0,qn=[],Wn=0,Yo=null,Gr=1,Kr="";function Io(t,e){Hi[qi++]=Zd,Hi[qi++]=Kd,Kd=t,Zd=e}function V5(t,e,n){qn[Wn++]=Gr,qn[Wn++]=Kr,qn[Wn++]=Yo,Yo=t;var r=Gr;t=Kr;var s=32-lr(r)-1;r&=~(1<<s),n+=1;var o=32-lr(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Gr=1<<32-lr(e)+s|n<<s|r,Kr=o+t}else Gr=1<<o|n<<s|r,Kr=t}function j0(t){t.return!==null&&(Io(t,1),V5(t,1,0))}function A0(t){for(;t===Kd;)Kd=Hi[--qi],Hi[qi]=null,Zd=Hi[--qi],Hi[qi]=null;for(;t===Yo;)Yo=qn[--Wn],qn[Wn]=null,Kr=qn[--Wn],qn[Wn]=null,Gr=qn[--Wn],qn[Wn]=null}var On=null,An=null,He=!1,ir=null;function z5(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,An=Gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yo!==null?{id:Gr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,An=null,!0):!1;default:return!1}}function R1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function O1(t){if(He){var e=An;if(e){var n=e;if(!Jv(t,e)){if(R1(t))throw Error(q(418));e=Gs(n.nextSibling);var r=On;e&&Jv(t,e)?z5(r,n):(t.flags=t.flags&-4097|2,He=!1,On=t)}}else{if(R1(t))throw Error(q(418));t.flags=t.flags&-4097|2,He=!1,On=t}}}function e2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function Du(t){if(t!==On)return!1;if(!He)return e2(t),He=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!j1(t.type,t.memoizedProps)),e&&(e=An)){if(R1(t))throw H5(),Error(q(418));for(;e;)z5(t,e),e=Gs(e.nextSibling)}if(e2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=Gs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=On?Gs(t.stateNode.nextSibling):null;return!0}function H5(){for(var t=An;t;)t=Gs(t.nextSibling)}function _a(){An=On=null,He=!1}function P0(t){ir===null?ir=[t]:ir.push(t)}var gT=ys.ReactCurrentBatchConfig;function il(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Mu(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function t2(t){var e=t._init;return e(t._payload)}function q5(t){function e(v,g){if(t){var y=v.deletions;y===null?(v.deletions=[g],v.flags|=16):y.push(g)}}function n(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function r(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Qs(v,g),v.index=0,v.sibling=null,v}function o(v,g,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<g?(v.flags|=2,g):y):(v.flags|=2,g)):(v.flags|=1048576,g)}function i(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,y,C){return g===null||g.tag!==6?(g=op(y,v.mode,C),g.return=v,g):(g=s(g,y),g.return=v,g)}function l(v,g,y,C){var b=y.type;return b===$i?d(v,g,y.props.children,C,y.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Is&&t2(b)===g.type)?(C=s(g,y.props),C.ref=il(v,g,y),C.return=v,C):(C=Cd(y.type,y.key,y.props,null,v.mode,C),C.ref=il(v,g,y),C.return=v,C)}function u(v,g,y,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=ip(y,v.mode,C),g.return=v,g):(g=s(g,y.children||[]),g.return=v,g)}function d(v,g,y,C,b){return g===null||g.tag!==7?(g=zo(y,v.mode,C,b),g.return=v,g):(g=s(g,y),g.return=v,g)}function h(v,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=op(""+g,v.mode,y),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Eu:return y=Cd(g.type,g.key,g.props,null,v.mode,y),y.ref=il(v,null,g),y.return=v,y;case Mi:return g=ip(g,v.mode,y),g.return=v,g;case Is:var C=g._init;return h(v,C(g._payload),y)}if(xl(g)||tl(g))return g=zo(g,v.mode,y,null),g.return=v,g;Mu(v,g)}return null}function m(v,g,y,C){var b=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(v,g,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Eu:return y.key===b?l(v,g,y,C):null;case Mi:return y.key===b?u(v,g,y,C):null;case Is:return b=y._init,m(v,g,b(y._payload),C)}if(xl(y)||tl(y))return b!==null?null:d(v,g,y,C,null);Mu(v,y)}return null}function p(v,g,y,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(y)||null,a(g,v,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Eu:return v=v.get(C.key===null?y:C.key)||null,l(g,v,C,b);case Mi:return v=v.get(C.key===null?y:C.key)||null,u(g,v,C,b);case Is:var k=C._init;return p(v,g,y,k(C._payload),b)}if(xl(C)||tl(C))return v=v.get(y)||null,d(g,v,C,b,null);Mu(g,C)}return null}function _(v,g,y,C){for(var b=null,k=null,T=g,S=g=0,E=null;T!==null&&S<y.length;S++){T.index>S?(E=T,T=null):E=T.sibling;var N=m(v,T,y[S],C);if(N===null){T===null&&(T=E);break}t&&T&&N.alternate===null&&e(v,T),g=o(N,g,S),k===null?b=N:k.sibling=N,k=N,T=E}if(S===y.length)return n(v,T),He&&Io(v,S),b;if(T===null){for(;S<y.length;S++)T=h(v,y[S],C),T!==null&&(g=o(T,g,S),k===null?b=T:k.sibling=T,k=T);return He&&Io(v,S),b}for(T=r(v,T);S<y.length;S++)E=p(T,v,S,y[S],C),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?S:E.key),g=o(E,g,S),k===null?b=E:k.sibling=E,k=E);return t&&T.forEach(function(A){return e(v,A)}),He&&Io(v,S),b}function w(v,g,y,C){var b=tl(y);if(typeof b!="function")throw Error(q(150));if(y=b.call(y),y==null)throw Error(q(151));for(var k=b=null,T=g,S=g=0,E=null,N=y.next();T!==null&&!N.done;S++,N=y.next()){T.index>S?(E=T,T=null):E=T.sibling;var A=m(v,T,N.value,C);if(A===null){T===null&&(T=E);break}t&&T&&A.alternate===null&&e(v,T),g=o(A,g,S),k===null?b=A:k.sibling=A,k=A,T=E}if(N.done)return n(v,T),He&&Io(v,S),b;if(T===null){for(;!N.done;S++,N=y.next())N=h(v,N.value,C),N!==null&&(g=o(N,g,S),k===null?b=N:k.sibling=N,k=N);return He&&Io(v,S),b}for(T=r(v,T);!N.done;S++,N=y.next())N=p(T,v,S,N.value,C),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?S:N.key),g=o(N,g,S),k===null?b=N:k.sibling=N,k=N);return t&&T.forEach(function(j){return e(v,j)}),He&&Io(v,S),b}function x(v,g,y,C){if(typeof y=="object"&&y!==null&&y.type===$i&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Eu:e:{for(var b=y.key,k=g;k!==null;){if(k.key===b){if(b=y.type,b===$i){if(k.tag===7){n(v,k.sibling),g=s(k,y.props.children),g.return=v,v=g;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Is&&t2(b)===k.type){n(v,k.sibling),g=s(k,y.props),g.ref=il(v,k,y),g.return=v,v=g;break e}n(v,k);break}else e(v,k);k=k.sibling}y.type===$i?(g=zo(y.props.children,v.mode,C,y.key),g.return=v,v=g):(C=Cd(y.type,y.key,y.props,null,v.mode,C),C.ref=il(v,g,y),C.return=v,v=C)}return i(v);case Mi:e:{for(k=y.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(v,g.sibling),g=s(g,y.children||[]),g.return=v,v=g;break e}else{n(v,g);break}else e(v,g);g=g.sibling}g=ip(y,v.mode,C),g.return=v,v=g}return i(v);case Is:return k=y._init,x(v,g,k(y._payload),C)}if(xl(y))return _(v,g,y,C);if(tl(y))return w(v,g,y,C);Mu(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(v,g.sibling),g=s(g,y),g.return=v,v=g):(n(v,g),g=op(y,v.mode,C),g.return=v,v=g),i(v)):n(v,g)}return x}var va=q5(!0),W5=q5(!1),Yd=fo(null),Qd=null,Wi=null,L0=null;function R0(){L0=Wi=Qd=null}function O0(t){var e=Yd.current;$e(Yd),t._currentValue=e}function D1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function oa(t,e){Qd=t,L0=Wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(L0!==t)if(t={context:t,memoizedValue:e,next:null},Wi===null){if(Qd===null)throw Error(q(308));Wi=t,Qd.dependencies={lanes:0,firstContext:t}}else Wi=Wi.next=t;return e}var Do=null;function D0(t){Do===null?Do=[t]:Do.push(t)}function G5(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,D0(e)):(n.next=s.next,s.next=n),e.interleaved=n,as(t,r)}function as(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ns=!1;function M0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,as(t,n)}return s=r.interleaved,s===null?(e.next=e,D0(r)):(e.next=s.next,s.next=e),r.interleaved=e,as(t,n)}function gd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C0(t,n)}}function n2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xd(t,e,n,r){var s=t.updateQueue;Ns=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,w=a;switch(m=e,p=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){h=_.call(p,h,m);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,m=typeof _=="function"?_.call(p,h,m):_,m==null)break e;h=Je({},h,m);break e;case 2:Ns=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Xo|=i,t.lanes=i,t.memoizedState=h}}function r2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var Kc={},Pr=fo(Kc),hc=fo(Kc),fc=fo(Kc);function Mo(t){if(t===Kc)throw Error(q(174));return t}function $0(t,e){switch(Re(fc,e),Re(hc,t),Re(Pr,Kc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:g1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=g1(e,t)}$e(Pr),Re(Pr,e)}function wa(){$e(Pr),$e(hc),$e(fc)}function Z5(t){Mo(fc.current);var e=Mo(Pr.current),n=g1(e,t.type);e!==n&&(Re(hc,t),Re(Pr,n))}function F0(t){hc.current===t&&($e(Pr),$e(hc))}var Ze=fo(0);function Jd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jm=[];function B0(){for(var t=0;t<Jm.length;t++)Jm[t]._workInProgressVersionPrimary=null;Jm.length=0}var yd=ys.ReactCurrentDispatcher,ep=ys.ReactCurrentBatchConfig,Qo=0,Xe=null,yt=null,bt=null,eh=!1,$l=!1,mc=0,yT=0;function Mt(){throw Error(q(321))}function U0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function V0(t,e,n,r,s,o){if(Qo=o,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yd.current=t===null||t.memoizedState===null?xT:CT,t=n(r,s),$l){o=0;do{if($l=!1,mc=0,25<=o)throw Error(q(301));o+=1,bt=yt=null,e.updateQueue=null,yd.current=bT,t=n(r,s)}while($l)}if(yd.current=th,e=yt!==null&&yt.next!==null,Qo=0,bt=yt=Xe=null,eh=!1,e)throw Error(q(300));return t}function z0(){var t=mc!==0;return mc=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Xe.memoizedState=bt=t:bt=bt.next=t,bt}function Xn(){if(yt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=bt===null?Xe.memoizedState:bt.next;if(e!==null)bt=e,yt=t;else{if(t===null)throw Error(q(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},bt===null?Xe.memoizedState=bt=t:bt=bt.next=t}return bt}function pc(t,e){return typeof e=="function"?e(t):e}function tp(t){var e=Xn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((Qo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,Xe.lanes|=d,Xo|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,ur(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Xe.lanes|=o,Xo|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function np(t){var e=Xn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);ur(o,e.memoizedState)||(_n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Y5(){}function Q5(t,e){var n=Xe,r=Xn(),s=e(),o=!ur(r.memoizedState,s);if(o&&(r.memoizedState=s,_n=!0),r=r.queue,H0(eb.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,gc(9,J5.bind(null,n,r,s,e),void 0,null),kt===null)throw Error(q(349));Qo&30||X5(n,e,s)}return s}function X5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function J5(t,e,n,r){e.value=n,e.getSnapshot=r,tb(e)&&nb(t)}function eb(t,e,n){return n(function(){tb(e)&&nb(t)})}function tb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function nb(t){var e=as(t,1);e!==null&&cr(e,t,1,-1)}function s2(t){var e=br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pc,lastRenderedState:t},e.queue=t,t=t.dispatch=wT.bind(null,Xe,t),[e.memoizedState,t]}function gc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rb(){return Xn().memoizedState}function _d(t,e,n,r){var s=br();Xe.flags|=t,s.memoizedState=gc(1|e,n,void 0,r===void 0?null:r)}function lf(t,e,n,r){var s=Xn();r=r===void 0?null:r;var o=void 0;if(yt!==null){var i=yt.memoizedState;if(o=i.destroy,r!==null&&U0(r,i.deps)){s.memoizedState=gc(e,n,o,r);return}}Xe.flags|=t,s.memoizedState=gc(1|e,n,o,r)}function o2(t,e){return _d(8390656,8,t,e)}function H0(t,e){return lf(2048,8,t,e)}function sb(t,e){return lf(4,2,t,e)}function ob(t,e){return lf(4,4,t,e)}function ib(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ab(t,e,n){return n=n!=null?n.concat([t]):null,lf(4,4,ib.bind(null,e,t),n)}function q0(){}function lb(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&U0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cb(t,e){var n=Xn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&U0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ub(t,e,n){return Qo&21?(ur(n,e)||(n=p5(),Xe.lanes|=n,Xo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function _T(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=ep.transition;ep.transition={};try{t(!1),e()}finally{Te=n,ep.transition=r}}function db(){return Xn().memoizedState}function vT(t,e,n){var r=Ys(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hb(t))fb(e,n);else if(n=G5(t,e,n,r),n!==null){var s=ln();cr(n,t,r,s),mb(n,e,r)}}function wT(t,e,n){var r=Ys(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hb(t))fb(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,ur(a,i)){var l=e.interleaved;l===null?(s.next=s,D0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=G5(t,e,s,r),n!==null&&(s=ln(),cr(n,t,r,s),mb(n,e,r))}}function hb(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function fb(t,e){$l=eh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,C0(t,n)}}var th={readContext:Qn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},xT={readContext:Qn,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:o2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_d(4194308,4,ib.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _d(4194308,4,t,e)},useInsertionEffect:function(t,e){return _d(4,2,t,e)},useMemo:function(t,e){var n=br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vT.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:s2,useDebugValue:q0,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=s2(!1),e=t[0];return t=_T.bind(null,t[1]),br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,s=br();if(He){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),kt===null)throw Error(q(349));Qo&30||X5(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,o2(eb.bind(null,r,o,t),[t]),r.flags|=2048,gc(9,J5.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=br(),e=kt.identifierPrefix;if(He){var n=Kr,r=Gr;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=mc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CT={readContext:Qn,useCallback:lb,useContext:Qn,useEffect:H0,useImperativeHandle:ab,useInsertionEffect:sb,useLayoutEffect:ob,useMemo:cb,useReducer:tp,useRef:rb,useState:function(){return tp(pc)},useDebugValue:q0,useDeferredValue:function(t){var e=Xn();return ub(e,yt.memoizedState,t)},useTransition:function(){var t=tp(pc)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:Y5,useSyncExternalStore:Q5,useId:db,unstable_isNewReconciler:!1},bT={readContext:Qn,useCallback:lb,useContext:Qn,useEffect:H0,useImperativeHandle:ab,useInsertionEffect:sb,useLayoutEffect:ob,useMemo:cb,useReducer:np,useRef:rb,useState:function(){return np(pc)},useDebugValue:q0,useDeferredValue:function(t){var e=Xn();return yt===null?e.memoizedState=t:ub(e,yt.memoizedState,t)},useTransition:function(){var t=np(pc)[0],e=Xn().memoizedState;return[t,e]},useMutableSource:Y5,useSyncExternalStore:Q5,useId:db,unstable_isNewReconciler:!1};function rr(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function M1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cf={isMounted:function(t){return(t=t._reactInternals)?di(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ln(),s=Ys(t),o=Jr(r,s);o.payload=e,n!=null&&(o.callback=n),e=Ks(t,o,s),e!==null&&(cr(e,t,s,r),gd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ln(),s=Ys(t),o=Jr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ks(t,o,s),e!==null&&(cr(e,t,s,r),gd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ln(),r=Ys(t),s=Jr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ks(t,s,r),e!==null&&(cr(e,t,r,n),gd(e,t,r))}};function i2(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!lc(n,r)||!lc(s,o):!0}function pb(t,e,n){var r=!1,s=so,o=e.contextType;return typeof o=="object"&&o!==null?o=Qn(o):(s=wn(e)?Zo:Jt.current,r=e.contextTypes,o=(r=r!=null)?ya(t,s):so),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function a2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cf.enqueueReplaceState(e,e.state,null)}function $1(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},M0(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Qn(o):(o=wn(e)?Zo:Jt.current,s.context=ya(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(M1(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&cf.enqueueReplaceState(s,s.state,null),Xd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function xa(t,e){try{var n="",r=e;do n+=Q6(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function rp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function F1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kT=typeof WeakMap=="function"?WeakMap:Map;function gb(t,e,n){n=Jr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rh||(rh=!0,Z1=r),F1(t,e)},n}function yb(t,e,n){n=Jr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){F1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){F1(t,e),typeof r!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function l2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=$T.bind(null,t,e,n),e.then(t,t))}function c2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function u2(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jr(-1,1),e.tag=2,Ks(n,e,1))),n.lanes|=1),t)}var ST=ys.ReactCurrentOwner,_n=!1;function sn(t,e,n,r){e.child=t===null?W5(e,null,n,r):va(e,t.child,n,r)}function d2(t,e,n,r,s){n=n.render;var o=e.ref;return oa(e,s),r=V0(t,e,n,r,o,s),n=z0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(He&&n&&j0(e),e.flags|=1,sn(t,e,r,s),e.child)}function h2(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!J0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,_b(t,e,o,r,s)):(t=Cd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:lc,n(i,r)&&t.ref===e.ref)return ls(t,e,s)}return e.flags|=1,t=Qs(o,r),t.ref=e.ref,t.return=e,e.child=t}function _b(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(lc(o,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,ls(t,e,s)}return B1(t,e,n,r,s)}function vb(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Ki,jn),jn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Ki,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Re(Ki,jn),jn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Re(Ki,jn),jn|=r;return sn(t,e,s,n),e.child}function wb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function B1(t,e,n,r,s){var o=wn(n)?Zo:Jt.current;return o=ya(e,o),oa(e,s),n=V0(t,e,n,r,o,s),r=z0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ls(t,e,s)):(He&&r&&j0(e),e.flags|=1,sn(t,e,n,s),e.child)}function f2(t,e,n,r,s){if(wn(n)){var o=!0;Gd(e)}else o=!1;if(oa(e,s),e.stateNode===null)vd(t,e),pb(e,n,r),$1(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=wn(n)?Zo:Jt.current,u=ya(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&a2(e,i,r,u),Ns=!1;var m=e.memoizedState;i.state=m,Xd(e,r,i,s),l=e.memoizedState,a!==r||m!==l||vn.current||Ns?(typeof d=="function"&&(M1(e,n,d,r),l=e.memoizedState),(a=Ns||i2(e,n,a,r,m,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,K5(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:rr(e.type,a),i.props=u,h=e.pendingProps,m=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=wn(n)?Zo:Jt.current,l=ya(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||m!==l)&&a2(e,i,r,l),Ns=!1,m=e.memoizedState,i.state=m,Xd(e,r,i,s);var _=e.memoizedState;a!==h||m!==_||vn.current||Ns?(typeof p=="function"&&(M1(e,n,p,r),_=e.memoizedState),(u=Ns||i2(e,n,u,r,m,_,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,_,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,_,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),i.props=r,i.state=_,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return U1(t,e,n,r,o,s)}function U1(t,e,n,r,s,o){wb(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&Xv(e,n,!1),ls(t,e,o);r=e.stateNode,ST.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=va(e,t.child,null,o),e.child=va(e,null,a,o)):sn(t,e,a,o),e.memoizedState=r.state,s&&Xv(e,n,!0),e.child}function xb(t){var e=t.stateNode;e.pendingContext?Qv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qv(t,e.context,!1),$0(t,e.containerInfo)}function m2(t,e,n,r,s){return _a(),P0(s),e.flags|=256,sn(t,e,n,r),e.child}var V1={dehydrated:null,treeContext:null,retryLane:0};function z1(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cb(t,e,n){var r=e.pendingProps,s=Ze.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Re(Ze,s&1),t===null)return O1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=hf(i,r,0,null),t=zo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=z1(n),e.memoizedState=V1,t):W0(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ET(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Qs(a,o):(o=zo(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?z1(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=V1,r}return o=t.child,t=o.sibling,r=Qs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function W0(t,e){return e=hf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $u(t,e,n,r){return r!==null&&P0(r),va(e,t.child,null,n),t=W0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ET(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=rp(Error(q(422))),$u(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=hf({mode:"visible",children:r.children},s,0,null),o=zo(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&va(e,t.child,null,i),e.child.memoizedState=z1(i),e.memoizedState=V1,o);if(!(e.mode&1))return $u(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(q(419)),r=rp(o,r,void 0),$u(t,e,i,r)}if(a=(i&t.childLanes)!==0,_n||a){if(r=kt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,as(t,s),cr(r,t,s,-1))}return X0(),r=rp(Error(q(421))),$u(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=FT.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,An=Gs(s.nextSibling),On=e,He=!0,ir=null,t!==null&&(qn[Wn++]=Gr,qn[Wn++]=Kr,qn[Wn++]=Yo,Gr=t.id,Kr=t.overflow,Yo=e),e=W0(e,r.children),e.flags|=4096,e)}function p2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),D1(t.return,e,n)}function sp(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function bb(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(sn(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p2(t,n,e);else if(t.tag===19)p2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Re(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),sp(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}sp(e,!0,n,null,o);break;case"together":sp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TT(t,e,n){switch(e.tag){case 3:xb(e),_a();break;case 5:Z5(e);break;case 1:wn(e.type)&&Gd(e);break;case 4:$0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Re(Yd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Re(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?Cb(t,e,n):(Re(Ze,Ze.current&1),t=ls(t,e,n),t!==null?t.sibling:null);Re(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Re(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,vb(t,e,n)}return ls(t,e,n)}var kb,H1,Sb,Eb;kb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};H1=function(){};Sb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Mo(Pr.current);var o=null;switch(n){case"input":s=h1(t,s),r=h1(t,r),o=[];break;case"select":s=Je({},s,{value:void 0}),r=Je({},r,{value:void 0}),o=[];break;case"textarea":s=p1(t,s),r=p1(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qd)}y1(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Eb=function(t,e,n,r){n!==r&&(e.flags|=4)};function al(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IT(t,e,n){var r=e.pendingProps;switch(A0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return wn(e.type)&&Wd(),$t(e),null;case 3:return r=e.stateNode,wa(),$e(vn),$e(Jt),B0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Du(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(X1(ir),ir=null))),H1(t,e),$t(e),null;case 5:F0(e);var s=Mo(fc.current);if(n=e.type,t!==null&&e.stateNode!=null)Sb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return $t(e),null}if(t=Mo(Pr.current),Du(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Er]=e,r[dc]=o,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<bl.length;s++)Oe(bl[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":kv(r,o),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Oe("invalid",r);break;case"textarea":Ev(r,o),Oe("invalid",r)}y1(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ou(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ou(r.textContent,a,t),s=["children",""+a]):tc.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Tu(r),Sv(r,o,!0);break;case"textarea":Tu(r),Tv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=e5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Er]=e,t[dc]=r,kb(t,e,!1,!1),e.stateNode=t;e:{switch(i=_1(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),s=r;break;case"iframe":case"object":case"embed":Oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<bl.length;s++)Oe(bl[s],t);s=r;break;case"source":Oe("error",t),s=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=r;break;case"details":Oe("toggle",t),s=r;break;case"input":kv(t,r),s=h1(t,r),Oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Je({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":Ev(t,r),s=p1(t,r),Oe("invalid",t);break;default:s=r}y1(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?r5(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&t5(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&nc(t,l):typeof l=="number"&&nc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Oe("scroll",t):l!=null&&g0(t,o,l,i))}switch(n){case"input":Tu(t),Sv(t,r,!1);break;case"textarea":Tu(t),Tv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ro(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ta(t,!!r.multiple,o,!1):r.defaultValue!=null&&ta(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)Eb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Mo(fc.current),Mo(Pr.current),Du(e)){if(r=e.stateNode,n=e.memoizedProps,r[Er]=e,(o=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:Ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ou(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Er]=e,e.stateNode=r}return $t(e),null;case 13:if($e(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&An!==null&&e.mode&1&&!(e.flags&128))H5(),_a(),e.flags|=98560,o=!1;else if(o=Du(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[Er]=e}else _a(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),o=!1}else ir!==null&&(X1(ir),ir=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?wt===0&&(wt=3):X0())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return wa(),H1(t,e),t===null&&cc(e.stateNode.containerInfo),$t(e),null;case 10:return O0(e.type._context),$t(e),null;case 17:return wn(e.type)&&Wd(),$t(e),null;case 19:if($e(Ze),o=e.memoizedState,o===null)return $t(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)al(o,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Jd(t),i!==null){for(e.flags|=128,al(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Re(Ze,Ze.current&1|2),e.child}t=t.sibling}o.tail!==null&&lt()>Ca&&(e.flags|=128,r=!0,al(o,!1),e.lanes=4194304)}else{if(!r)if(t=Jd(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!He)return $t(e),null}else 2*lt()-o.renderingStartTime>Ca&&n!==1073741824&&(e.flags|=128,r=!0,al(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=lt(),e.sibling=null,n=Ze.current,Re(Ze,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Q0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function NT(t,e){switch(A0(e),e.tag){case 1:return wn(e.type)&&Wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wa(),$e(vn),$e(Jt),B0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return F0(e),null;case 13:if($e(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));_a()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ze),null;case 4:return wa(),null;case 10:return O0(e.type._context),null;case 22:case 23:return Q0(),null;case 24:return null;default:return null}}var Fu=!1,zt=!1,jT=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function q1(t,e,n){try{n()}catch(r){st(t,e,r)}}var g2=!1;function AT(t,e){if(I1=Vd,t=A5(),N0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=i),m===o&&++d===r&&(l=i),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(N1={focusedElem:t,selectionRange:n},Vd=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,x=_.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:rr(e.type,w),x);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(C){st(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return _=g2,g2=!1,_}function Fl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&q1(e,n,o)}s=s.next}while(s!==r)}}function uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function W1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Tb(t){var e=t.alternate;e!==null&&(t.alternate=null,Tb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Er],delete e[dc],delete e[P1],delete e[fT],delete e[mT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ib(t){return t.tag===5||t.tag===3||t.tag===4}function y2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ib(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function G1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qd));else if(r!==4&&(t=t.child,t!==null))for(G1(t,e,n),t=t.sibling;t!==null;)G1(t,e,n),t=t.sibling}function K1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(K1(t,e,n),t=t.sibling;t!==null;)K1(t,e,n),t=t.sibling}var Tt=null,sr=!1;function ws(t,e,n){for(n=n.child;n!==null;)Nb(t,e,n),n=n.sibling}function Nb(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(tf,n)}catch{}switch(n.tag){case 5:zt||Gi(n,e);case 6:var r=Tt,s=sr;Tt=null,ws(t,e,n),Tt=r,sr=s,Tt!==null&&(sr?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(sr?(t=Tt,n=n.stateNode,t.nodeType===8?Qm(t.parentNode,n):t.nodeType===1&&Qm(t,n),ic(t)):Qm(Tt,n.stateNode));break;case 4:r=Tt,s=sr,Tt=n.stateNode.containerInfo,sr=!0,ws(t,e,n),Tt=r,sr=s;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&q1(n,e,i),s=s.next}while(s!==r)}ws(t,e,n);break;case 1:if(!zt&&(Gi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}ws(t,e,n);break;case 21:ws(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,ws(t,e,n),zt=r):ws(t,e,n);break;default:ws(t,e,n)}}function _2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jT),e.forEach(function(r){var s=BT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,sr=!1;break e;case 3:Tt=a.stateNode.containerInfo,sr=!0;break e;case 4:Tt=a.stateNode.containerInfo,sr=!0;break e}a=a.return}if(Tt===null)throw Error(q(160));Nb(o,i,s),Tt=null,sr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){st(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jb(e,t),e=e.sibling}function jb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(er(e,t),_r(t),r&4){try{Fl(3,t,t.return),uf(3,t)}catch(w){st(t,t.return,w)}try{Fl(5,t,t.return)}catch(w){st(t,t.return,w)}}break;case 1:er(e,t),_r(t),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(er(e,t),_r(t),r&512&&n!==null&&Gi(n,n.return),t.flags&32){var s=t.stateNode;try{nc(s,"")}catch(w){st(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&XC(s,o),_1(a,i);var u=_1(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?r5(s,h):d==="dangerouslySetInnerHTML"?t5(s,h):d==="children"?nc(s,h):g0(s,d,h,u)}switch(a){case"input":f1(s,o);break;case"textarea":JC(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?ta(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?ta(s,!!o.multiple,o.defaultValue,!0):ta(s,!!o.multiple,o.multiple?[]:"",!1))}s[dc]=o}catch(w){st(t,t.return,w)}}break;case 6:if(er(e,t),_r(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(w){st(t,t.return,w)}}break;case 3:if(er(e,t),_r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ic(e.containerInfo)}catch(w){st(t,t.return,w)}break;case 4:er(e,t),_r(t);break;case 13:er(e,t),_r(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Z0=lt())),r&4&&_2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(u=zt)||d,er(e,t),zt=u):er(e,t),_r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(m=ee,p=m.child,m.tag){case 0:case 11:case 14:case 15:Fl(4,m,m.return);break;case 1:Gi(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){st(r,n,w)}}break;case 5:Gi(m,m.return);break;case 22:if(m.memoizedState!==null){w2(h);continue}}p!==null?(p.return=m,ee=p):w2(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=n5("display",i))}catch(w){st(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){st(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:er(e,t),_r(t),r&4&&_2(t);break;case 21:break;default:er(e,t),_r(t)}}function _r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ib(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(nc(s,""),r.flags&=-33);var o=y2(t);K1(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=y2(t);G1(t,a,i);break;default:throw Error(q(161))}}catch(l){st(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PT(t,e,n){ee=t,Ab(t)}function Ab(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Fu;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||zt;a=Fu;var u=zt;if(Fu=i,(zt=l)&&!u)for(ee=s;ee!==null;)i=ee,l=i.child,i.tag===22&&i.memoizedState!==null?x2(s):l!==null?(l.return=i,ee=l):x2(s);for(;o!==null;)ee=o,Ab(o),o=o.sibling;ee=s,Fu=a,zt=u}v2(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ee=o):v2(t)}}function v2(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&r2(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}r2(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ic(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}zt||e.flags&512&&W1(e)}catch(m){st(e,e.return,m)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function w2(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function x2(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uf(4,e)}catch(l){st(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){st(e,s,l)}}var o=e.return;try{W1(e)}catch(l){st(e,o,l)}break;case 5:var i=e.return;try{W1(e)}catch(l){st(e,i,l)}}}catch(l){st(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var LT=Math.ceil,nh=ys.ReactCurrentDispatcher,G0=ys.ReactCurrentOwner,Zn=ys.ReactCurrentBatchConfig,be=0,kt=null,ft=null,Pt=0,jn=0,Ki=fo(0),wt=0,yc=null,Xo=0,df=0,K0=0,Bl=null,pn=null,Z0=0,Ca=1/0,zr=null,rh=!1,Z1=null,Zs=null,Bu=!1,Us=null,sh=0,Ul=0,Y1=null,wd=-1,xd=0;function ln(){return be&6?lt():wd!==-1?wd:wd=lt()}function Ys(t){return t.mode&1?be&2&&Pt!==0?Pt&-Pt:gT.transition!==null?(xd===0&&(xd=p5()),xd):(t=Te,t!==0||(t=window.event,t=t===void 0?16:C5(t.type)),t):1}function cr(t,e,n,r){if(50<Ul)throw Ul=0,Y1=null,Error(q(185));qc(t,n,r),(!(be&2)||t!==kt)&&(t===kt&&(!(be&2)&&(df|=n),wt===4&&Rs(t,Pt)),xn(t,r),n===1&&be===0&&!(e.mode&1)&&(Ca=lt()+500,af&&mo()))}function xn(t,e){var n=t.callbackNode;gE(t,e);var r=Ud(t,t===kt?Pt:0);if(r===0)n!==null&&jv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jv(n),e===1)t.tag===0?pT(C2.bind(null,t)):U5(C2.bind(null,t)),dT(function(){!(be&6)&&mo()}),n=null;else{switch(g5(r)){case 1:n=x0;break;case 4:n=f5;break;case 16:n=Bd;break;case 536870912:n=m5;break;default:n=Bd}n=Fb(n,Pb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Pb(t,e){if(wd=-1,xd=0,be&6)throw Error(q(327));var n=t.callbackNode;if(ia()&&t.callbackNode!==n)return null;var r=Ud(t,t===kt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oh(t,r);else{e=r;var s=be;be|=2;var o=Rb();(kt!==t||Pt!==e)&&(zr=null,Ca=lt()+500,Vo(t,e));do try{DT();break}catch(a){Lb(t,a)}while(!0);R0(),nh.current=o,be=s,ft!==null?e=0:(kt=null,Pt=0,e=wt)}if(e!==0){if(e===2&&(s=b1(t),s!==0&&(r=s,e=Q1(t,s))),e===1)throw n=yc,Vo(t,0),Rs(t,r),xn(t,lt()),n;if(e===6)Rs(t,r);else{if(s=t.current.alternate,!(r&30)&&!RT(s)&&(e=oh(t,r),e===2&&(o=b1(t),o!==0&&(r=o,e=Q1(t,o))),e===1))throw n=yc,Vo(t,0),Rs(t,r),xn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:No(t,pn,zr);break;case 3:if(Rs(t,r),(r&130023424)===r&&(e=Z0+500-lt(),10<e)){if(Ud(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ln(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=A1(No.bind(null,t,pn,zr),e);break}No(t,pn,zr);break;case 4:if(Rs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-lr(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LT(r/1960))-r,10<r){t.timeoutHandle=A1(No.bind(null,t,pn,zr),r);break}No(t,pn,zr);break;case 5:No(t,pn,zr);break;default:throw Error(q(329))}}}return xn(t,lt()),t.callbackNode===n?Pb.bind(null,t):null}function Q1(t,e){var n=Bl;return t.current.memoizedState.isDehydrated&&(Vo(t,e).flags|=256),t=oh(t,e),t!==2&&(e=pn,pn=n,e!==null&&X1(e)),t}function X1(t){pn===null?pn=t:pn.push.apply(pn,t)}function RT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ur(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rs(t,e){for(e&=~K0,e&=~df,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lr(e),r=1<<n;t[n]=-1,e&=~r}}function C2(t){if(be&6)throw Error(q(327));ia();var e=Ud(t,0);if(!(e&1))return xn(t,lt()),null;var n=oh(t,e);if(t.tag!==0&&n===2){var r=b1(t);r!==0&&(e=r,n=Q1(t,r))}if(n===1)throw n=yc,Vo(t,0),Rs(t,e),xn(t,lt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,No(t,pn,zr),xn(t,lt()),null}function Y0(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(Ca=lt()+500,af&&mo())}}function Jo(t){Us!==null&&Us.tag===0&&!(be&6)&&ia();var e=be;be|=1;var n=Zn.transition,r=Te;try{if(Zn.transition=null,Te=1,t)return t()}finally{Te=r,Zn.transition=n,be=e,!(be&6)&&mo()}}function Q0(){jn=Ki.current,$e(Ki)}function Vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,uT(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(A0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wd();break;case 3:wa(),$e(vn),$e(Jt),B0();break;case 5:F0(r);break;case 4:wa();break;case 13:$e(Ze);break;case 19:$e(Ze);break;case 10:O0(r.type._context);break;case 22:case 23:Q0()}n=n.return}if(kt=t,ft=t=Qs(t.current,null),Pt=jn=e,wt=0,yc=null,K0=df=Xo=0,pn=Bl=null,Do!==null){for(e=0;e<Do.length;e++)if(n=Do[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Do=null}return t}function Lb(t,e){do{var n=ft;try{if(R0(),yd.current=th,eh){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}eh=!1}if(Qo=0,bt=yt=Xe=null,$l=!1,mc=0,G0.current=null,n===null||n.return===null){wt=1,yc=e,ft=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=c2(i);if(p!==null){p.flags&=-257,u2(p,i,a,o,e),p.mode&1&&l2(o,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var w=new Set;w.add(l),e.updateQueue=w}else _.add(l);break e}else{if(!(e&1)){l2(o,u,e),X0();break e}l=Error(q(426))}}else if(He&&a.mode&1){var x=c2(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),u2(x,i,a,o,e),P0(xa(l,a));break e}}o=l=xa(l,a),wt!==4&&(wt=2),Bl===null?Bl=[o]:Bl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=gb(o,l,e);n2(o,v);break e;case 1:a=l;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Zs===null||!Zs.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=yb(o,a,e);n2(o,C);break e}}o=o.return}while(o!==null)}Db(n)}catch(b){e=b,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function Rb(){var t=nh.current;return nh.current=th,t===null?th:t}function X0(){(wt===0||wt===3||wt===2)&&(wt=4),kt===null||!(Xo&268435455)&&!(df&268435455)||Rs(kt,Pt)}function oh(t,e){var n=be;be|=2;var r=Rb();(kt!==t||Pt!==e)&&(zr=null,Vo(t,e));do try{OT();break}catch(s){Lb(t,s)}while(!0);if(R0(),be=n,nh.current=r,ft!==null)throw Error(q(261));return kt=null,Pt=0,wt}function OT(){for(;ft!==null;)Ob(ft)}function DT(){for(;ft!==null&&!aE();)Ob(ft)}function Ob(t){var e=$b(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?Db(t):ft=e,G0.current=null}function Db(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NT(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ft=null;return}}else if(n=IT(n,e,jn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);wt===0&&(wt=5)}function No(t,e,n){var r=Te,s=Zn.transition;try{Zn.transition=null,Te=1,MT(t,e,n,r)}finally{Zn.transition=s,Te=r}return null}function MT(t,e,n,r){do ia();while(Us!==null);if(be&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(yE(t,o),t===kt&&(ft=kt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Bu||(Bu=!0,Fb(Bd,function(){return ia(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zn.transition,Zn.transition=null;var i=Te;Te=1;var a=be;be|=4,G0.current=null,AT(t,n),jb(n,t),rT(N1),Vd=!!I1,N1=I1=null,t.current=n,PT(n),lE(),be=a,Te=i,Zn.transition=o}else t.current=n;if(Bu&&(Bu=!1,Us=t,sh=s),o=t.pendingLanes,o===0&&(Zs=null),dE(n.stateNode),xn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(rh)throw rh=!1,t=Z1,Z1=null,t;return sh&1&&t.tag!==0&&ia(),o=t.pendingLanes,o&1?t===Y1?Ul++:(Ul=0,Y1=t):Ul=0,mo(),null}function ia(){if(Us!==null){var t=g5(sh),e=Zn.transition,n=Te;try{if(Zn.transition=null,Te=16>t?16:t,Us===null)var r=!1;else{if(t=Us,Us=null,sh=0,be&6)throw Error(q(331));var s=be;for(be|=4,ee=t.current;ee!==null;){var o=ee,i=o.child;if(ee.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Fl(8,d,o)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var m=d.sibling,p=d.return;if(Tb(d),d===u){ee=null;break}if(m!==null){m.return=p,ee=m;break}ee=p}}}var _=o.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}ee=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ee=i;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fl(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ee=v;break e}ee=o.return}}var g=t.current;for(ee=g;ee!==null;){i=ee;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,ee=y;else e:for(i=g;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uf(9,a)}}catch(b){st(a,a.return,b)}if(a===i){ee=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ee=C;break e}ee=a.return}}if(be=s,mo(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(tf,t)}catch{}r=!0}return r}finally{Te=n,Zn.transition=e}}return!1}function b2(t,e,n){e=xa(n,e),e=gb(t,e,1),t=Ks(t,e,1),e=ln(),t!==null&&(qc(t,1,e),xn(t,e))}function st(t,e,n){if(t.tag===3)b2(t,t,n);else for(;e!==null;){if(e.tag===3){b2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zs===null||!Zs.has(r))){t=xa(n,t),t=yb(e,t,1),e=Ks(e,t,1),t=ln(),e!==null&&(qc(e,1,t),xn(e,t));break}}e=e.return}}function $T(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Pt&n)===n&&(wt===4||wt===3&&(Pt&130023424)===Pt&&500>lt()-Z0?Vo(t,0):K0|=n),xn(t,e)}function Mb(t,e){e===0&&(t.mode&1?(e=ju,ju<<=1,!(ju&130023424)&&(ju=4194304)):e=1);var n=ln();t=as(t,e),t!==null&&(qc(t,e,n),xn(t,n))}function FT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Mb(t,n)}function BT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),Mb(t,n)}var $b;$b=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,TT(t,e,n);_n=!!(t.flags&131072)}else _n=!1,He&&e.flags&1048576&&V5(e,Zd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vd(t,e),t=e.pendingProps;var s=ya(e,Jt.current);oa(e,n),s=V0(null,e,r,t,s,n);var o=z0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(o=!0,Gd(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,M0(e),s.updater=cf,e.stateNode=s,s._reactInternals=e,$1(e,r,t,n),e=U1(null,e,r,!0,o,n)):(e.tag=0,He&&o&&j0(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=VT(r),t=rr(r,t),s){case 0:e=B1(null,e,r,t,n);break e;case 1:e=f2(null,e,r,t,n);break e;case 11:e=d2(null,e,r,t,n);break e;case 14:e=h2(null,e,r,rr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),B1(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),f2(t,e,r,s,n);case 3:e:{if(xb(e),t===null)throw Error(q(387));r=e.pendingProps,o=e.memoizedState,s=o.element,K5(t,e),Xd(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=xa(Error(q(423)),e),e=m2(t,e,r,n,s);break e}else if(r!==s){s=xa(Error(q(424)),e),e=m2(t,e,r,n,s);break e}else for(An=Gs(e.stateNode.containerInfo.firstChild),On=e,He=!0,ir=null,n=W5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_a(),r===s){e=ls(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return Z5(e),t===null&&O1(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,j1(r,s)?i=null:o!==null&&j1(r,o)&&(e.flags|=32),wb(t,e),sn(t,e,i,n),e.child;case 6:return t===null&&O1(e),null;case 13:return Cb(t,e,n);case 4:return $0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=va(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),d2(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,Re(Yd,r._currentValue),r._currentValue=i,o!==null)if(ur(o.value,i)){if(o.children===s.children&&!vn.current){e=ls(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Jr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),D1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(q(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),D1(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,oa(e,n),s=Qn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=rr(r,e.pendingProps),s=rr(r.type,s),h2(t,e,r,s,n);case 15:return _b(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rr(r,s),vd(t,e),e.tag=1,wn(r)?(t=!0,Gd(e)):t=!1,oa(e,n),pb(e,r,s),$1(e,r,s,n),U1(null,e,r,!0,t,n);case 19:return bb(t,e,n);case 22:return vb(t,e,n)}throw Error(q(156,e.tag))};function Fb(t,e){return h5(t,e)}function UT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new UT(t,e,n,r)}function J0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VT(t){if(typeof t=="function")return J0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_0)return 11;if(t===v0)return 14}return 2}function Qs(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cd(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")J0(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case $i:return zo(n.children,s,o,e);case y0:i=8,s|=8;break;case l1:return t=Kn(12,n,e,s|2),t.elementType=l1,t.lanes=o,t;case c1:return t=Kn(13,n,e,s),t.elementType=c1,t.lanes=o,t;case u1:return t=Kn(19,n,e,s),t.elementType=u1,t.lanes=o,t;case ZC:return hf(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GC:i=10;break e;case KC:i=9;break e;case _0:i=11;break e;case v0:i=14;break e;case Is:i=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Kn(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function zo(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function hf(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=ZC,t.lanes=n,t.stateNode={isHidden:!1},t}function op(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function ip(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bm(0),this.expirationTimes=Bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ey(t,e,n,r,s,o,i,a,l){return t=new zT(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},M0(o),t}function HT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bb(t){if(!t)return so;t=t._reactInternals;e:{if(di(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(wn(n))return B5(t,n,e)}return e}function Ub(t,e,n,r,s,o,i,a,l){return t=ey(n,r,!0,t,s,o,i,a,l),t.context=Bb(null),n=t.current,r=ln(),s=Ys(n),o=Jr(r,s),o.callback=e??null,Ks(n,o,s),t.current.lanes=s,qc(t,s,r),xn(t,r),t}function ff(t,e,n,r){var s=e.current,o=ln(),i=Ys(s);return n=Bb(n),e.context===null?e.context=n:e.pendingContext=n,e=Jr(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ks(s,e,i),t!==null&&(cr(t,s,i,o),gd(t,s,i)),i}function ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function k2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ty(t,e){k2(t,e),(t=t.alternate)&&k2(t,e)}function qT(){return null}var Vb=typeof reportError=="function"?reportError:function(t){console.error(t)};function ny(t){this._internalRoot=t}mf.prototype.render=ny.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));ff(t,e,null,null)};mf.prototype.unmount=ny.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jo(function(){ff(null,t,null,null)}),e[is]=null}};function mf(t){this._internalRoot=t}mf.prototype.unstable_scheduleHydration=function(t){if(t){var e=v5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ls.length&&e!==0&&e<Ls[n].priority;n++);Ls.splice(n,0,t),n===0&&x5(t)}};function ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S2(){}function WT(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ih(i);o.call(u)}}var i=Ub(e,r,t,0,null,!1,!1,"",S2);return t._reactRootContainer=i,t[is]=i.current,cc(t.nodeType===8?t.parentNode:t),Jo(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=ih(l);a.call(u)}}var l=ey(t,0,!1,null,null,!1,!1,"",S2);return t._reactRootContainer=l,t[is]=l.current,cc(t.nodeType===8?t.parentNode:t),Jo(function(){ff(e,l,n,r)}),l}function gf(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=ih(i);a.call(l)}}ff(e,i,t,s)}else i=WT(n,e,t,s,r);return ih(i)}y5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cl(e.pendingLanes);n!==0&&(C0(e,n|1),xn(e,lt()),!(be&6)&&(Ca=lt()+500,mo()))}break;case 13:Jo(function(){var r=as(t,1);if(r!==null){var s=ln();cr(r,t,1,s)}}),ty(t,1)}};b0=function(t){if(t.tag===13){var e=as(t,134217728);if(e!==null){var n=ln();cr(e,t,134217728,n)}ty(t,134217728)}};_5=function(t){if(t.tag===13){var e=Ys(t),n=as(t,e);if(n!==null){var r=ln();cr(n,t,e,r)}ty(t,e)}};v5=function(){return Te};w5=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};w1=function(t,e,n){switch(e){case"input":if(f1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=of(r);if(!s)throw Error(q(90));QC(r),f1(r,s)}}}break;case"textarea":JC(t,n);break;case"select":e=n.value,e!=null&&ta(t,!!n.multiple,e,!1)}};i5=Y0;a5=Jo;var GT={usingClientEntryPoint:!1,Events:[Gc,Vi,of,s5,o5,Y0]},ll={findFiberByHostInstance:Oo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KT={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=u5(t),t===null?null:t.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||qT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{tf=Uu.inject(KT),Ar=Uu}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GT;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ry(e))throw Error(q(200));return HT(t,e,null,n)};Bn.createRoot=function(t,e){if(!ry(t))throw Error(q(299));var n=!1,r="",s=Vb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ey(t,1,!1,null,null,n,!1,r,s),t[is]=e.current,cc(t.nodeType===8?t.parentNode:t),new ny(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=u5(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Jo(t)};Bn.hydrate=function(t,e,n){if(!pf(e))throw Error(q(200));return gf(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!ry(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Vb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=Ub(e,null,t,1,n??null,s,!1,o,i),t[is]=e.current,cc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mf(e)};Bn.render=function(t,e,n){if(!pf(e))throw Error(q(200));return gf(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!pf(t))throw Error(q(40));return t._reactRootContainer?(Jo(function(){gf(null,null,t,!1,function(){t._reactRootContainer=null,t[is]=null})}),!0):!1};Bn.unstable_batchedUpdates=Y0;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!pf(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return gf(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function zb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zb)}catch(t){console.error(t)}}zb(),zC.exports=Bn;var ZT=zC.exports;const YT=Jh(ZT);/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}var Vs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vs||(Vs={}));const E2="popstate";function QT(t){t===void 0&&(t={});function e(s,o){let{pathname:i="/",search:a="",hash:l=""}=hi(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),J1("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Hb(o))}function r(s,o){sy(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return JT(e,n,r,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XT(){return Math.random().toString(36).substr(2,8)}function T2(t,e){return{usr:t.state,key:t.key,idx:e}}function J1(t,e,n,r){return n===void 0&&(n=null),_c({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hi(e):e,{state:n,key:e&&e.key||r||XT()})}function Hb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function JT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Vs.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(_c({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=Vs.Pop;let x=d(),v=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:v})}function m(x,v){a=Vs.Push;let g=J1(w.location,x,v);n&&n(g,x),u=d()+1;let y=T2(g,u),C=w.createHref(g);try{i.pushState(y,"",C)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(C)}o&&l&&l({action:a,location:w.location,delta:1})}function p(x,v){a=Vs.Replace;let g=J1(w.location,x,v);n&&n(g,x),u=d();let y=T2(g,u),C=w.createHref(g);i.replaceState(y,"",C),o&&l&&l({action:a,location:w.location,delta:0})}function _(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:Hb(x);return g=g.replace(/ $/,"%20"),xt(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let w={get action(){return a},get location(){return t(s,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(E2,h),l=x,()=>{s.removeEventListener(E2,h),l=null}},createHref(x){return e(s,x)},createURL:_,encodeLocation(x){let v=_(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(x){return i.go(x)}};return w}var I2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(I2||(I2={}));function eI(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?hi(e):e,s=Gb(r.pathname||"/",n);if(s==null)return null;let o=qb(t);tI(o);let i=null;for(let a=0;i==null&&a<o.length;++a){let l=fI(s);i=uI(o[a],l)}return i}function qb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ho([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(xt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qb(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:lI(u,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of Wb(o.path))s(o,i,l)}),e}function Wb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=Wb(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function tI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nI=/^:[\w-]+$/,rI=3,sI=2,oI=1,iI=10,aI=-2,N2=t=>t==="*";function lI(t,e){let n=t.split("/"),r=n.length;return n.some(N2)&&(r+=aI),e&&(r+=sI),n.filter(s=>!N2(s)).reduce((s,o)=>s+(nI.test(o)?rI:o===""?oI:iI),r)}function cI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function uI(t,e){let{routesMeta:n}=t,r={},s="/",o=[];for(let i=0;i<n.length;++i){let a=n[i],l=i===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=dI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;o.push({params:r,pathname:Ho([s,d.pathname]),pathnameBase:vI(Ho([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ho([s,d.pathnameBase]))}return o}function dI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let w=a[h]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=a[h];return p&&!_?u[m]=void 0:u[m]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function hI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function fI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?hi(t):t;return{pathname:n?n.startsWith("/")?n:pI(n,e):e,search:wI(r),hash:xI(s)}}function pI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ap(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yI(t,e){let n=gI(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _I(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=hi(t):(s=_c({},t),xt(!s.pathname||!s.pathname.includes("?"),ap("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),ap("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),ap("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=mI(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ho=t=>t.join("/").replace(/\/\/+/g,"/"),vI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Kb=["post","put","patch","delete"];new Set(Kb);const bI=["get",...Kb];new Set(bI);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}const oy=f.createContext(null),kI=f.createContext(null),yf=f.createContext(null),_f=f.createContext(null),fi=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Zb=f.createContext(null);function vf(){return f.useContext(_f)!=null}function wf(){return vf()||xt(!1),f.useContext(_f).location}function Yb(t){f.useContext(yf).static||f.useLayoutEffect(t)}function le(){let{isDataRoute:t}=f.useContext(fi);return t?MI():SI()}function SI(){vf()||xt(!1);let t=f.useContext(oy),{basename:e,future:n,navigator:r}=f.useContext(yf),{matches:s}=f.useContext(fi),{pathname:o}=wf(),i=JSON.stringify(yI(s,n.v7_relativeSplatPath)),a=f.useRef(!1);return Yb(()=>{a.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=_I(u,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ho([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,i,o,t])}function Vn(){let{matches:t}=f.useContext(fi),e=t[t.length-1];return e?e.params:{}}function EI(t,e){return TI(t,e)}function TI(t,e,n,r){vf()||xt(!1);let{navigator:s}=f.useContext(yf),{matches:o}=f.useContext(fi),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=wf(),d;if(e){var h;let x=typeof e=="string"?hi(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||xt(!1),d=x}else d=u;let m=d.pathname||"/",p=m;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=eI(t,{pathname:p}),w=PI(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ho([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ho([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&w?f.createElement(_f.Provider,{value:{location:vc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Vs.Pop}},w):w}function II(){let t=DI(),e=CI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:s},n):null,null)}const NI=f.createElement(II,null);class jI extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?f.createElement(fi.Provider,{value:this.props.routeContext},f.createElement(Zb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function AI(t){let{routeContext:e,match:n,children:r}=t,s=f.useContext(oy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(fi.Provider,{value:e},r)}function PI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||xt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=n,_=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let p,_=!1,w=null,x=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||NI,l&&(u<0&&m===0?($I("route-fallback"),_=!0,x=null):u===m&&(_=!0,x=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,m+1)),g=()=>{let y;return p?y=w:_?y=x:h.route.Component?y=f.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,f.createElement(AI,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(jI,{location:n.location,revalidation:n.revalidation,component:w,error:p,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var Qb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Qb||{}),Xb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Xb||{});function LI(t){let e=f.useContext(oy);return e||xt(!1),e}function RI(t){let e=f.useContext(kI);return e||xt(!1),e}function OI(t){let e=f.useContext(fi);return e||xt(!1),e}function Jb(t){let e=OI(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function DI(){var t;let e=f.useContext(Zb),n=RI(),r=Jb();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MI(){let{router:t}=LI(Qb.UseNavigateStable),e=Jb(Xb.UseNavigateStable),n=f.useRef(!1);return Yb(()=>{n.current=!0}),f.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,vc({fromRouteId:e},o)))},[t,e])}const j2={};function $I(t,e,n){j2[t]||(j2[t]=!0)}function eg(t){xt(!1)}function FI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Vs.Pop,navigator:o,static:i=!1,future:a}=t;vf()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:l,navigator:o,static:i,future:vc({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=hi(r));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:_="default"}=r,w=f.useMemo(()=>{let x=Gb(d,l);return x==null?null:{location:{pathname:x,search:h,hash:m,state:p,key:_},navigationType:s}},[l,d,h,m,p,_,s]);return w==null?null:f.createElement(yf.Provider,{value:u},f.createElement(_f.Provider,{children:n,value:w}))}function BI(t){let{children:e,location:n}=t;return EI(tg(e),n)}new Promise(()=>{});function tg(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(r,s)=>{if(!f.isValidElement(r))return;let o=[...e,s];if(r.type===f.Fragment){n.push.apply(n,tg(r.props.children,o));return}r.type!==eg&&xt(!1),!r.props.index||!r.props.children||xt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=tg(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ng(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function UI(t,e){let n=ng(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const VI="6";try{window.__reactRouterVersion=VI}catch{}const zI="startTransition",A2=$6[zI];function HI(t){let{basename:e,children:n,future:r,window:s}=t,o=f.useRef();o.current==null&&(o.current=QT({window:s,v5Compat:!0}));let i=o.current,[a,l]=f.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=f.useCallback(h=>{u&&A2?A2(()=>l(h)):l(h)},[l,u]);return f.useLayoutEffect(()=>i.listen(d),[i,d]),f.createElement(FI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var P2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(P2||(P2={}));var L2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(L2||(L2={}));function qI(t){let e=f.useRef(ng(t)),n=f.useRef(!1),r=wf(),s=f.useMemo(()=>UI(r.search,n.current?null:e.current),[r.search]),o=le(),i=f.useCallback((a,l)=>{const u=ng(typeof a=="function"?a(s):a);n.current=!0,o("?"+u,l)},[o,s]);return[s,i]}const WI="_container_1a1ax_1",GI={container:WI},KI="_container_1k8xw_1",ZI="_loader_1k8xw_12",R2={container:KI,loader:ZI},O2={default:{name:"default",icon_color:"#0040F9",first_color:"#0040F9",second_color:"#C3F82B",third_color:"#FF4365",gradient_first_color:"#0040F9",gradient_second_color:"#C3F82B",light_color:"#C3F82B",block_first_color:"#0040F9",block_second_color:"#C3F82B",block_third_color:"#FF4365",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#0A0B10",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},genery:{name:"genery",icon_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",gradient_first_color:"#2400FF",gradient_second_color:"#00C2FF",light_color:"#C3F82B",block_first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",block_second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",block_third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#0A0B10",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},kyrgyzstan:{name:"kyrgyzstan",icon_color:"#E3010F",first_color:"#FEF400",second_color:"#E3010F",third_color:"#FEF400",gradient_first_color:"#FEF400",gradient_second_color:"#E3010F",light_color:"#C3F82B",block_first_color:"#E3010F",block_second_color:"#FEF400",block_third_color:"#FEF400",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#DEDDDD",loader_second_color:"#A6A6A6",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#A6A6A6",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},winter_2024:{name:"winter_2024",icon_color:"#85B6FF",first_color:"#85AFED",second_color:"#A7C0E5",third_color:"#A7C0E5",gradient_first_color:"#85AFED",gradient_second_color:"#CBE0FF",light_color:"green",block_first_color:"#85AFED",block_second_color:"#A7C0E5",block_third_color:"#CBE0FF",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#85AFED",loader_second_color:"#CBE0FF",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#A6A6A6",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"}},B=f.createContext();function YI({children:t}){const e=localStorage.getItem("theme")||"default",[n,r]=f.useState(e);f.useEffect(()=>{localStorage.setItem("theme",n)},[n]);const s=a=>{O2[a]&&r(a)},[o,i]=f.useState({iconColor:"#000000",titleColor:"#000000",arrowColor:"#000000",backgroundColor:"#FFFFFF",activeButton:1});return c.jsx(B.Provider,{value:{theme:O2[n],setThemeById:s,elementColors:o,setElementColors:i},children:t})}function e4({color:t}){const{theme:e,elementColors:n,setElementColors:r}=f.useContext(B);return f.useEffect(()=>{r({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowColor:e.text_first_color,arrowLink:"#/menu",isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!1,isFooter:!1,footerBackground:e.background_color,activeElementIndex:2}),document.body.style.background=e.background_color},[e]),c.jsx("div",{className:R2.container,children:c.jsx("div",{className:R2.loader,children:c.jsx("svg",{width:"50",height:"73",viewBox:"0 0 50 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M39.7767 0.312248C40.2216 0.571102 40.5658 0.973727 40.7532 1.45435C40.9407 1.93497 40.9601 2.46517 40.8085 2.95835L32.6225 29.6566H47.7265C48.1703 29.6564 48.6045 29.7867 48.9755 30.0314C49.3464 30.2761 49.6379 30.6244 49.8138 31.0334C49.9898 31.4425 50.0425 31.8942 49.9656 32.333C49.8887 32.7718 49.6854 33.1784 49.3809 33.5025L13.0186 72.2816C12.6668 72.6571 12.1986 72.902 11.6904 72.9762C11.1821 73.0505 10.6638 72.9497 10.2199 72.6905C9.77606 72.4312 9.43275 72.0286 9.24599 71.5484C9.05922 71.0682 9.04001 70.5387 9.19148 70.0461L17.3776 43.3433H2.27355C1.82968 43.3435 1.39547 43.2132 1.02453 42.9685C0.653591 42.7238 0.362153 42.3755 0.186196 41.9665C0.0102386 41.5574 -0.0425346 41.1056 0.0343904 40.6668C0.111315 40.2281 0.31457 39.8215 0.619066 39.4973L36.9814 0.718287C37.3328 0.343267 37.8003 0.0985916 38.3078 0.0240443C38.8153 -0.0505029 39.333 0.0494621 39.7767 0.307685V0.312248Z",fill:t})})})})}var D2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},QI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},n4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;l||(p=64,i||(m=64)),r.push(n[d],n[h],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):QI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||u==null||h==null)throw new XI;const m=o<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JI=function(t){const e=t4(t);return n4.encodeByteArray(e,!0)},ah=function(t){return JI(t).replace(/\./g,"")},r4=function(t){try{return n4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=()=>eN().__FIREBASE_DEFAULTS__,nN=()=>{if(typeof process>"u"||typeof D2>"u")return;const t=D2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&r4(t[1]);return e&&JSON.parse(e)},xf=()=>{try{return tN()||nN()||rN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},s4=t=>{var e,n;return(n=(e=xf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},o4=t=>{const e=s4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i4=()=>{var t;return(t=xf())===null||t===void 0?void 0:t.config},a4=t=>{var e;return(e=xf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ah(JSON.stringify(n)),ah(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function iN(){var t;const e=(t=xf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cN(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function uN(){try{return typeof indexedDB=="object"}catch{return!1}}function dN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="FirebaseError";class Br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hN,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zc.prototype.create)}}class Zc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?fN(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Br(s,a,r)}}function fN(t,e){return t.replace(mN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const mN=/\{\$([^}]+)}/g;function pN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(M2(o)&&M2(i)){if(!lh(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function M2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Sl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function gN(t,e){const n=new yN(t,e);return n.subscribe.bind(n)}class yN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_N(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lp),s.error===void 0&&(s.error=lp),s.complete===void 0&&(s.complete=lp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _N(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xN(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wN(t){return t===jo?void 0:t}function xN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const bN={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},kN=ke.INFO,SN={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},EN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=SN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iy{constructor(e){this.name=e,this._logLevel=kN,this._logHandler=EN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const TN=(t,e)=>e.some(n=>t instanceof n);let $2,F2;function IN(){return $2||($2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NN(){return F2||(F2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const c4=new WeakMap,rg=new WeakMap,u4=new WeakMap,cp=new WeakMap,ay=new WeakMap;function jN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Xs(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&c4.set(n,t)}).catch(()=>{}),ay.set(e,t),e}function AN(t){if(rg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});rg.set(t,e)}let sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||u4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PN(t){sg=t(sg)}function LN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(up(this),e,...n);return u4.set(r,e.sort?e.sort():[e]),Xs(r)}:NN().includes(t)?function(...e){return t.apply(up(this),e),Xs(c4.get(this))}:function(...e){return Xs(t.apply(up(this),e))}}function RN(t){return typeof t=="function"?LN(t):(t instanceof IDBTransaction&&AN(t),TN(t,IN())?new Proxy(t,sg):t)}function Xs(t){if(t instanceof IDBRequest)return jN(t);if(cp.has(t))return cp.get(t);const e=RN(t);return e!==t&&(cp.set(t,e),ay.set(e,t)),e}const up=t=>ay.get(t);function ON(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Xs(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Xs(i.result),l.oldVersion,l.newVersion,Xs(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const DN=["get","getKey","getAll","getAllKeys","count"],MN=["put","add","delete","clear"],dp=new Map;function B2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=MN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||DN.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return dp.set(e,o),o}PN(t=>({...t,get:(e,n,r)=>B2(e,n)||t.get(e,n,r),has:(e,n)=>!!B2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const og="@firebase/app",U2="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new iy("@firebase/app"),BN="@firebase/app-compat",UN="@firebase/analytics-compat",VN="@firebase/analytics",zN="@firebase/app-check-compat",HN="@firebase/app-check",qN="@firebase/auth",WN="@firebase/auth-compat",GN="@firebase/database",KN="@firebase/database-compat",ZN="@firebase/functions",YN="@firebase/functions-compat",QN="@firebase/installations",XN="@firebase/installations-compat",JN="@firebase/messaging",ej="@firebase/messaging-compat",tj="@firebase/performance",nj="@firebase/performance-compat",rj="@firebase/remote-config",sj="@firebase/remote-config-compat",oj="@firebase/storage",ij="@firebase/storage-compat",aj="@firebase/firestore",lj="@firebase/firestore-compat",cj="firebase",uj="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig="[DEFAULT]",dj={[og]:"fire-core",[BN]:"fire-core-compat",[VN]:"fire-analytics",[UN]:"fire-analytics-compat",[HN]:"fire-app-check",[zN]:"fire-app-check-compat",[qN]:"fire-auth",[WN]:"fire-auth-compat",[GN]:"fire-rtdb",[KN]:"fire-rtdb-compat",[ZN]:"fire-fn",[YN]:"fire-fn-compat",[QN]:"fire-iid",[XN]:"fire-iid-compat",[JN]:"fire-fcm",[ej]:"fire-fcm-compat",[tj]:"fire-perf",[nj]:"fire-perf-compat",[rj]:"fire-rc",[sj]:"fire-rc-compat",[oj]:"fire-gcs",[ij]:"fire-gcs-compat",[aj]:"fire-fst",[lj]:"fire-fst-compat","fire-js":"fire-js",[cj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,ag=new Map;function hj(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ti(t){const e=t.name;if(ag.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;ag.set(e,t);for(const n of ch.values())hj(n,t);return!0}function Cf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Js=new Zc("app","Firebase",fj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=uj;function d4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ig,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Js.create("bad-app-name",{appName:String(s)});if(n||(n=i4()),!n)throw Js.create("no-options");const o=ch.get(s);if(o){if(lh(n,o.options)&&lh(r,o.config))return o;throw Js.create("duplicate-app",{appName:s})}const i=new CN(s);for(const l of ag.values())i.addComponent(l);const a=new mj(n,r,i);return ch.set(s,a),a}function ly(t=ig){const e=ch.get(t);if(!e&&t===ig&&i4())return d4();if(!e)throw Js.create("no-app",{appName:t});return e}function Lr(t,e,n){var r;let s=(r=dj[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}ti(new oo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="firebase-heartbeat-database",gj=1,wc="firebase-heartbeat-store";let hp=null;function h4(){return hp||(hp=ON(pj,gj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wc)}}}).catch(t=>{throw Js.create("idb-open",{originalErrorMessage:t.message})})),hp}async function yj(t){try{return await(await h4()).transaction(wc).objectStore(wc).get(f4(t))}catch(e){if(e instanceof Br)ei.warn(e.message);else{const n=Js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function V2(t,e){try{const r=(await h4()).transaction(wc,"readwrite");await r.objectStore(wc).put(e,f4(t)),await r.done}catch(n){if(n instanceof Br)ei.warn(n.message);else{const r=Js.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(r.message)}}}function f4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=1024,vj=30*24*60*60*1e3;class wj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Cj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=z2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=vj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z2(),{heartbeatsToSend:n,unsentEntries:r}=xj(this._heartbeatsCache.heartbeats),s=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function z2(){return new Date().toISOString().substring(0,10)}function xj(t,e=_j){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),H2(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),H2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Cj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uN()?dN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await yj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return V2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return V2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H2(t){return ah(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){ti(new oo("platform-logger",e=>new $N(e),"PRIVATE")),ti(new oo("heartbeat",e=>new wj(e),"PRIVATE")),Lr(og,U2,t),Lr(og,U2,"esm2017"),Lr("fire-js","")}bj("");function cy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function m4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kj=m4,p4=new Zc("auth","Firebase",m4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new iy("@firebase/auth");function Sj(t,...e){uh.logLevel<=ke.WARN&&uh.warn(`Auth (${mi}): ${t}`,...e)}function bd(t,...e){uh.logLevel<=ke.ERROR&&uh.error(`Auth (${mi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw uy(t,...e)}function Rr(t,...e){return uy(t,...e)}function Ej(t,e,n){const r=Object.assign(Object.assign({},kj()),{[e]:n});return new Zc("auth","Firebase",r).create(e,{appName:t.name})}function uy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return p4.create(t,...e)}function he(t,e,...n){if(!t)throw uy(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bd(e),new Error(e)}function cs(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Tj(){return q2()==="http:"||q2()==="https:"}function q2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Tj()||aN()||"connection"in navigator)?navigator.onLine:!0}function Nj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,cs(n>e,"Short delay should be less than long delay!"),this.isMobile=oN()||lN()}get(){return Ij()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e){cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new Qc(3e4,6e4);function po(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function go(t,e,n,r,s={}){return y4(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const a=Yc(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),g4.fetch()(_4(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function y4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},jj),e);try{const s=new Pj(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Vu(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw Vu(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw Vu(t,"user-disabled",i);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Ej(t,d,u);dr(t,d)}}catch(s){if(s instanceof Br)throw s;dr(t,"network-request-failed",{message:String(s)})}}async function Xc(t,e,n,r,s={}){const o=await go(t,e,n,r,s);return"mfaPendingCredential"in o&&dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function _4(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?dy(t.config,s):`${t.config.apiScheme}://${s}`}class Pj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),Aj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e){return go(t,"POST","/v1/accounts:delete",e)}async function Rj(t,e){return go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Oj(t,e=!1){const n=Pe(t),r=await n.getIdToken(e),s=hy(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Vl(fp(s.auth_time)),issuedAtTime:Vl(fp(s.iat)),expirationTime:Vl(fp(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function fp(t){return Number(t)*1e3}function hy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{const s=r4(n);return s?JSON.parse(s):(bd("Failed to decode base64 JWT payload"),null)}catch(s){return bd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Dj(t){const e=hy(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Br&&Mj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Mj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await xc(t,Rj(n,{idToken:r}));he(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Uj(o.providerUserInfo):[],a=Bj(t.providerData,i),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new v4(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Fj(t){const e=Pe(t);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Bj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Uj(t){return t.map(e=>{var{providerId:n}=e,r=cy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e){const n=await y4(t,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=_4(t,s,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",g4.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await Vj(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new Cc;return r&&(he(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(he(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cc,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $j(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new v4(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await xc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Oj(this,e)}reload(){return Fj(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await xc(this,Lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,i,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(i=n.photoURL)!==null&&i!==void 0?i:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:C,isAnonymous:b,providerData:k,stsTokenManager:T}=n;he(y&&T,e,"internal-error");const S=Cc.fromJSON(this.name,T);he(typeof y=="string",e,"internal-error"),xs(h,e.name),xs(m,e.name),he(typeof C=="boolean",e,"internal-error"),he(typeof b=="boolean",e,"internal-error"),xs(p,e.name),xs(_,e.name),xs(w,e.name),xs(x,e.name),xs(v,e.name),xs(g,e.name);const E=new qo({uid:y,auth:e,email:m,emailVerified:C,displayName:h,isAnonymous:b,photoURL:_,phoneNumber:p,tenantId:w,stsTokenManager:S,createdAt:v,lastLoginAt:g});return k&&Array.isArray(k)&&(E.providerData=k.map(N=>Object.assign({},N))),x&&(E._redirectEventId=x),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new Cc;s.updateFromServerResponse(n);const o=new qo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await dh(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new Map;function Yr(t){cs(t instanceof Function,"Expected a class definition");let e=W2.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,W2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}w4.type="NONE";const G2=w4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e,n){return`firebase:${t}:${e}:${n}`}class aa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=kd(this.userKey,s.apiKey,o),this.fullPersistenceKey=kd("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new aa(Yr(G2),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||Yr(G2);const i=kd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(i);if(d){const h=qo._fromJSON(e,d);u!==o&&(a=h),o=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new aa(o,e,r):(o=l[0],a&&await o._set(i,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new aa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(b4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S4(e))return"Blackberry";if(E4(e))return"Webos";if(fy(e))return"Safari";if((e.includes("chrome/")||C4(e))&&!e.includes("edge/"))return"Chrome";if(k4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function x4(t=en()){return/firefox\//i.test(t)}function fy(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C4(t=en()){return/crios\//i.test(t)}function b4(t=en()){return/iemobile/i.test(t)}function k4(t=en()){return/android/i.test(t)}function S4(t=en()){return/blackberry/i.test(t)}function E4(t=en()){return/webos/i.test(t)}function bf(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zj(t=en()){var e;return bf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Hj(){return cN()&&document.documentMode===10}function T4(t=en()){return bf(t)||k4(t)||E4(t)||S4(t)||/windows phone/i.test(t)||b4(t)}function qj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t,e=[]){let n;switch(t){case"Browser":n=K2(en());break;case"Worker":n=`${K2(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mi}/${r}`}async function N4(t,e){return go(t,"GET","/v2/recaptchaConfig",po(t,e))}function Z2(t){return t!==void 0&&t.enterprise!==void 0}class j4{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function A4(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Rr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",Wj().appendChild(r)})}function Gj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Kj="https://www.google.com/recaptcha/enterprise.js?render=",Zj="recaptcha-enterprise",Yj="NO_RECAPTCHA";class P4{constructor(e){this.type=Zj,this.auth=pi(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,a)=>{N4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new j4(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,i(u.siteKey)}}).catch(l=>{a(l)})})}function s(o,i,a){const l=window.grecaptcha;Z2(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{i(u)}).catch(()=>{i(Yj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,i)=>{r(this.auth).then(a=>{if(!n&&Z2(window.grecaptcha))s(a,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}A4(Kj+a).then(()=>{s(a,o,i)}).catch(l=>{i(l)})}}).catch(a=>{i(a)})})}}async function ba(t,e,n,r=!1){const s=new P4(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const i=Object.assign({},e);return r?Object.assign(i,{captchaResp:o}):Object.assign(i,{captchaResponse:o}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,a)=>{try{const l=e(o);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y2(this),this.idTokenSubscription=new Y2(this),this.beforeStateQueue=new Qj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Pe(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yr(e))})}async initializeRecaptchaConfig(){const e=await N4(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new j4(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new P4(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[Yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),i=this._isInitialized?Promise.resolve():this._initializationPromise;return he(i,this,"internal-error"),i.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Sj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pi(t){return Pe(t)}class Y2{constructor(e){this.auth=e,this.observer=null,this.addObserver=gN(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t,e){const n=Cf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(lh(o,e??{}))return s;dr(s,"already-initialized")}return n.initialize({options:e})}function eA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function tA(t,e,n){const r=pi(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=L4(e),{host:i,port:a}=nA(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),rA()}function L4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nA(t){const e=L4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Q2(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:Q2(i)}}}function Q2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sA(t,e){return go(t,"POST","/v1/accounts:resetPassword",po(t,e))}async function oA(t,e){return go(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t,e){return Xc(t,"POST","/v1/accounts:signInWithPassword",po(t,e))}async function iA(t,e){return go(t,"POST","/v1/accounts:sendOobCode",po(t,e))}async function pp(t,e){return iA(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(t,e){return Xc(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}async function lA(t,e){return Xc(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc extends my{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new bc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await ba(e,r,"signInWithPassword");return mp(e,s)}else return mp(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await ba(e,r,"signInWithPassword");return mp(e,o)}else return Promise.reject(s)});case"emailLink":return aA(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return oA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return lA(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(t,e){return Xc(t,"POST","/v1/accounts:signInWithIdp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="http://localhost";class ni extends my{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=cy(n,["providerId","signInMethod"]);if(!r||!s)return null;const i=new ni(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return la(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,la(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,la(e,n)}buildRequest(){const e={requestUri:cA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dA(t){const e=kl(Sl(t)).link,n=e?kl(Sl(e)).deep_link_id:null,r=kl(Sl(t)).deep_link_id;return(r?kl(Sl(r)).link:null)||r||n||e||t}class py{constructor(e){var n,r,s,o,i,a;const l=kl(Sl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=uA((s=l.mode)!==null&&s!==void 0?s:null);he(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=l.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=dA(e);try{return new py(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.providerId=Wa.PROVIDER_ID}static credential(e,n){return bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=py.parseLink(n);return he(r,"argument-error"),bc._fromEmailAndCode(e,r.code,r.tenantId)}}Wa.PROVIDER_ID="password";Wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends R4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Jc{constructor(){super("facebook.com")}static credential(e){return ni._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ni._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Jc{constructor(){super("github.com")}static credential(e){return ni._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.GITHUB_SIGN_IN_METHOD="github.com";Ms.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Jc{constructor(){super("twitter.com")}static credential(e,n){return ni._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(t,e){return Xc(t,"POST","/v1/accounts:signUp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await qo._fromIdTokenResponse(e,r,s),i=X2(r);return new ri({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=X2(r);return new ri({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function X2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Br{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new hh(e,n,r,s)}}function O4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(t,o,e,r):o})}async function hA(t,e,n=!1){const r=await xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ri._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const o=await xc(t,O4(r,s,e,t),n);he(o.idToken,r,"internal-error");const i=hy(o.idToken);he(i,r,"internal-error");const{sub:a}=i;return he(t.uid===a,r,"user-mismatch"),ri._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e,n=!1){const r="signIn",s=await O4(t,r,e),o=await ri._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function mA(t,e){return D4(pi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(t,e,n){var r;const s=pi(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const i=await ba(s,o,"getOobCode",!0);await pp(s,i)}else await pp(s,o).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ba(s,o,"getOobCode",!0);await pp(s,a)}else return Promise.reject(i)})}async function pA(t,e,n){await sA(Pe(t),{oobCode:e,newPassword:n})}async function gA(t,e,n){var r;const s=pi(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let i;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ba(s,o,"signUpPassword");i=gp(s,u)}else i=gp(s,o).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await ba(s,o,"signUpPassword");return gp(s,d)}else return Promise.reject(u)});const a=await i.catch(u=>Promise.reject(u)),l=await ri._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function yA(t,e,n){return mA(Pe(t),Wa.credential(e,n))}function _A(t,e,n,r){return Pe(t).onIdTokenChanged(e,n,r)}function vA(t,e,n){return Pe(t).beforeAuthStateChanged(e,n)}function wA(t,e,n,r){return Pe(t).onAuthStateChanged(e,n,r)}function xA(t){return Pe(t).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){const t=en();return fy(t)||bf(t)}const bA=1e3,kA=10;class F4 extends $4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=CA()&&qj(),this.fallbackToPolling=T4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(r);if(e.newValue!==i)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);Hj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,kA):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F4.type="LOCAL";const SA=F4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4 extends $4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B4.type="SESSION";const U4=B4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(i).map(async u=>u(n.origin,o)),l=await EA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((a,l)=>{const u=gy("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function IA(t){Or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function NA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AA(){return V4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4="firebaseLocalStorageDb",PA=1,mh="firebaseLocalStorage",H4="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sf(t,e){return t.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function LA(){const t=indexedDB.deleteDatabase(z4);return new eu(t).toPromise()}function cg(){const t=indexedDB.open(z4,PA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mh,{keyPath:H4})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mh)?e(r):(r.close(),await LA(),e(await cg()))})})}async function J2(t,e,n){const r=Sf(t,!0).put({[H4]:e,value:n});return new eu(r).toPromise()}async function RA(t,e){const n=Sf(t,!1).get(e),r=await new eu(n).toPromise();return r===void 0?null:r.value}function ew(t,e){const n=Sf(t,!0).delete(e);return new eu(n).toPromise()}const OA=800,DA=3;class q4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(AA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await NA(),!this.activeServiceWorker)return;this.sender=new TA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cg();return await J2(e,fh,"1"),await ew(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>RA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ew(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Sf(s,!1).getAll();return new eu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q4.type="LOCAL";const MA=q4;new Qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e){return e?Yr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy extends my{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,n){return la(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FA(t){return D4(t.auth,new yy(t),t.bypassAuthState)}function BA(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),fA(n,new yy(t),t.bypassAuthState)}async function UA(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),hA(n,new yy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FA;case"linkViaPopup":case"linkViaRedirect":return UA;case"reauthViaPopup":case"reauthViaRedirect":return BA;default:dr(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=new Qc(2e3,1e4);class Zi extends W4{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VA.get())};e()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="pendingRedirect",Sd=new Map;class HA extends W4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sd.get(this.auth._key());if(!e){try{const r=await qA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qA(t,e){const n=KA(e),r=GA(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function WA(t,e){Sd.set(t._key(),e)}function GA(t){return Yr(t._redirectPersistence)}function KA(t){return kd(zA,t.config.apiKey,t.name)}async function ZA(t,e,n=!1){const r=pi(t),s=$A(r,e),i=await new HA(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=10*60*1e3;class QA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!G4(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YA&&this.cachedEventUids.clear(),this.cachedEventUids.has(tw(e))}saveEventToCache(e){this.cachedEventUids.add(tw(e)),this.lastProcessedEventTime=Date.now()}}function tw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function G4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return G4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t,e={}){return go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tP=/^https?/;async function nP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JA(t);for(const n of e)try{if(rP(n))return}catch{}dr(t,"unauthorized-domain")}function rP(t){const e=lg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!tP.test(n))return!1;if(eP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=new Qc(3e4,6e4);function nw(){const t=Or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function oP(t){return new Promise((e,n)=>{var r,s,o;function i(){nw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nw(),n(Rr(t,"network-request-failed"))},timeout:sP.get()})}if(!((s=(r=Or().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Or().gapi)===null||o===void 0)&&o.load)i();else{const a=Gj("iframefcb");return Or()[a]=()=>{gapi.load?i():n(Rr(t,"network-request-failed"))},A4(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ed=null,e})}let Ed=null;function iP(t){return Ed=Ed||oP(t),Ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=new Qc(5e3,15e3),lP="__/auth/iframe",cP="emulator/auth/iframe",uP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hP(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?dy(e,cP):`https://${t.config.authDomain}/${lP}`,r={apiKey:e.apiKey,appName:t.name,v:mi},s=dP.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yc(r).slice(1)}`}async function fP(t){const e=await iP(t),n=Or().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:hP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=Rr(t,"network-request-failed"),a=Or().setTimeout(()=>{o(i)},aP.get());function l(){Or().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pP=500,gP=600,yP="_blank",_P="http://localhost";class rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vP(t,e,n,r=pP,s=gP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},mP),{width:r.toString(),height:s.toString(),top:o,left:i}),u=en().toLowerCase();n&&(a=C4(u)?yP:n),x4(u)&&(e=e||_P,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[p,_])=>`${m}${p}=${_},`,"");if(zj(u)&&a!=="_self")return wP(e||"",a),new rw(null);const h=window.open(e||"",a,d);he(h,t,"popup-blocked");try{h.focus()}catch{}return new rw(h)}function wP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="__/auth/handler",CP="emulator/auth/handler",bP=encodeURIComponent("fac");async function sw(t,e,n,r,s,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mi,eventId:s};if(e instanceof R4){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",pN(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof Jc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${bP}=${encodeURIComponent(l)}`:"";return`${kP(t)}?${Yc(a).slice(1)}${u}`}function kP({config:t}){return t.emulator?dy(t,CP):`https://${t.authDomain}/${xP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="webStorageSupport";class SP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U4,this._completeRedirectFn=ZA,this._overrideRedirectResult=WA}async _openPopup(e,n,r,s){var o;cs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await sw(e,n,r,lg(),s);return vP(e,i,gy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await sw(e,n,r,lg(),s);return IA(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(cs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fP(e),r=new QA(e);return n.register("authEvent",s=>(he(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yp,{type:yp},s=>{var o;const i=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[yp];i!==void 0&&n(!!i),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T4()||fy()||bf()}}const EP=SP;var ow="@firebase/auth",iw="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function NP(t){ti(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;he(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I4(t)},u=new Xj(r,s,o,l);return eA(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ti(new oo("auth-internal",e=>{const n=pi(e.getProvider("auth").getImmediate());return(r=>new TP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(ow,iw,IP(t)),Lr(ow,iw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=5*60,AP=a4("authIdTokenMaxAge")||jP;let aw=null;const PP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AP)return;const s=n==null?void 0:n.token;aw!==s&&(aw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function LP(t=ly()){const e=Cf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Jj(t,{popupRedirectResolver:EP,persistence:[MA,SA,U4]}),r=a4("authTokenSyncURL");if(r){const o=PP(r);vA(n,o,()=>o(n.currentUser)),_A(n,i=>o(i))}const s=s4("auth");return s&&tA(n,`http://${s}`),n}NP("Browser");var RP="firebase",OP="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(RP,OP,"app");var DP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,_y=_y||{},me=DP||self;function Ef(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Tf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MP(t,e,n){return t.call.apply(t.bind,arguments)}function $P(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Gt=MP:Gt=$P,Gt.apply(null,arguments)}function zu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,o){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[s].apply(r,i)}}function yo(){this.s=this.s,this.o=this.o}var FP=0;yo.prototype.s=!1;yo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),FP!=0)};yo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const K4=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function vy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function lw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ef(r)){const s=t.length||0,o=r.length||0;t.length=s+o;for(let i=0;i<o;i++)t[s+i]=r[i]}else t.push(r)}}function Kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Kt.prototype.h=function(){this.defaultPrevented=!0};var BP=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function kc(t){return/^[\s\xa0]*$/.test(t)}function If(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function Tr(t){return If().indexOf(t)!=-1}function wy(t){return wy[" "](t),t}wy[" "]=function(){};function UP(t,e){var n=RL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var VP=Tr("Opera"),ka=Tr("Trident")||Tr("MSIE"),Z4=Tr("Edge"),ug=Z4||ka,Y4=Tr("Gecko")&&!(If().toLowerCase().indexOf("webkit")!=-1&&!Tr("Edge"))&&!(Tr("Trident")||Tr("MSIE"))&&!Tr("Edge"),zP=If().toLowerCase().indexOf("webkit")!=-1&&!Tr("Edge");function Q4(){var t=me.document;return t?t.documentMode:void 0}var dg;e:{var _p="",vp=function(){var t=If();if(Y4)return/rv:([^\);]+)(\)|;)/.exec(t);if(Z4)return/Edge\/([\d\.]+)/.exec(t);if(ka)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zP)return/WebKit\/(\S+)/.exec(t);if(VP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(vp&&(_p=vp?vp[1]:""),ka){var wp=Q4();if(wp!=null&&wp>parseFloat(_p)){dg=String(wp);break e}}dg=_p}var hg;if(me.document&&ka){var cw=Q4();hg=cw||parseInt(dg,10)||void 0}else hg=void 0;var HP=hg;function Sc(t,e){if(Kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Y4){e:{try{wy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:qP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sc.$.h.call(this)}}Et(Sc,Kt);var qP={2:"touch",3:"pen",4:"mouse"};Sc.prototype.h=function(){Sc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nf="closure_listenable_"+(1e6*Math.random()|0),WP=0;function GP(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++WP,this.fa=this.ia=!1}function jf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function xy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function KP(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function X4(t){const e={};for(const n in t)e[n]=t[n];return e}const uw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J4(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let o=0;o<uw.length;o++)n=uw[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Af(t){this.src=t,this.g={},this.h=0}Af.prototype.add=function(t,e,n,r,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var i=mg(t,e,r,s);return-1<i?(e=t[i],n||(e.ia=!1)):(e=new GP(e,this.src,o,!!r,s),e.ia=n,t.push(e)),e};function fg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=K4(r,e),o;(o=0<=s)&&Array.prototype.splice.call(r,s,1),o&&(jf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function mg(t,e,n,r){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return s}return-1}var Cy="closure_lm_"+(1e6*Math.random()|0),xp={};function e9(t,e,n,r,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)e9(t,e[o],n,r,s);return null}return n=r9(n),t&&t[Nf]?t.O(e,n,Tf(r)?!!r.capture:!1,s):ZP(t,e,n,!1,r,s)}function ZP(t,e,n,r,s,o){if(!e)throw Error("Invalid event type");var i=Tf(s)?!!s.capture:!!s,a=ky(t);if(a||(t[Cy]=a=new Af(t)),n=a.add(e,n,r,i,o),n.proxy)return n;if(r=YP(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)BP||(s=i),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(n9(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function YP(){function t(n){return e.call(t.src,t.listener,n)}const e=QP;return t}function t9(t,e,n,r,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)t9(t,e[o],n,r,s);else r=Tf(r)?!!r.capture:!!r,n=r9(n),t&&t[Nf]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=mg(o,n,r,s),-1<n&&(jf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=ky(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mg(e,n,r,s)),(n=-1<t?e[t]:null)&&by(n))}function by(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Nf])fg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(n9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ky(e))?(fg(n,t),n.h==0&&(n.src=null,e[Cy]=null)):jf(t)}}}function n9(t){return t in xp?xp[t]:xp[t]="on"+t}function QP(t,e){if(t.fa)t=!0;else{e=new Sc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&by(t),t=n.call(r,e)}return t}function ky(t){return t=t[Cy],t instanceof Af?t:null}var Cp="__closure_events_fn_"+(1e9*Math.random()>>>0);function r9(t){return typeof t=="function"?t:(t[Cp]||(t[Cp]=function(e){return t.handleEvent(e)}),t[Cp])}function St(){yo.call(this),this.i=new Af(this),this.S=this,this.J=null}Et(St,yo);St.prototype[Nf]=!0;St.prototype.removeEventListener=function(t,e,n,r){t9(this,t,e,n,r)};function Lt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Kt(e,t);else if(e instanceof Kt)e.target=e.target||t;else{var s=e;e=new Kt(r,t),J4(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var i=e.g=n[o];s=Hu(i,r,!0,e)&&s}if(i=e.g=t,s=Hu(i,r,!0,e)&&s,s=Hu(i,r,!1,e)&&s,n)for(o=0;o<n.length;o++)i=e.g=n[o],s=Hu(i,r,!1,e)&&s}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)jf(n[r]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};St.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Hu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var i=e[o];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&fg(t.i,i),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Sy=me.JSON.stringify;class XP{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function JP(){var t=Ey;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class eL{constructor(){this.h=this.g=null}add(e,n){const r=s9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var s9=new XP(()=>new tL,t=>t.reset());class tL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rL(t){me.setTimeout(()=>{throw t},0)}let Ec,Tc=!1,Ey=new eL,o9=()=>{const t=me.Promise.resolve(void 0);Ec=()=>{t.then(sL)}};var sL=()=>{for(var t;t=JP();){try{t.h.call(t.g)}catch(n){rL(n)}var e=s9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Tc=!1};function Pf(t,e){St.call(this),this.h=t||1,this.g=e||me,this.j=Gt(this.qb,this),this.l=Date.now()}Et(Pf,St);Y=Pf.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Lt(this,"tick"),this.ga&&(Ty(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ty(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){Pf.$.N.call(this),Ty(this),delete this.g};function Iy(t,e,n){if(typeof t=="function")n&&(t=Gt(t,n));else if(t&&typeof t.handleEvent=="function")t=Gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function i9(t){t.g=Iy(()=>{t.g=null,t.i&&(t.i=!1,i9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class oL extends yo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:i9(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ic(t){yo.call(this),this.h=t,this.g={}}Et(Ic,yo);var dw=[];function a9(t,e,n,r){Array.isArray(n)||(n&&(dw[0]=n.toString()),n=dw);for(var s=0;s<n.length;s++){var o=e9(e,n[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function l9(t){xy(t.g,function(e,n){this.g.hasOwnProperty(n)&&by(e)},t),t.g={}}Ic.prototype.N=function(){Ic.$.N.call(this),l9(this)};Ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lf(){this.g=!0}Lf.prototype.Ea=function(){this.g=!1};function iL(t,e,n,r,s,o){t.info(function(){if(t.g)if(o)for(var i="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");i=2<=h.length&&h[1]=="type"?i+(d+"="+u+"&"):i+(d+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+i})}function aL(t,e,n,r,s,o,i){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+i})}function Yi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+cL(t,n)+(r?" "+r:"")})}function lL(t,e){t.info(function(){return"TIMEOUT: "+e})}Lf.prototype.info=function(){};function cL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var i=1;i<s.length;i++)s[i]=""}}}}return Sy(n)}catch{return e}}var gi={},hw=null;function Rf(){return hw=hw||new St}gi.Ta="serverreachability";function c9(t){Kt.call(this,gi.Ta,t)}Et(c9,Kt);function Nc(t){const e=Rf();Lt(e,new c9(e))}gi.STAT_EVENT="statevent";function u9(t,e){Kt.call(this,gi.STAT_EVENT,t),this.stat=e}Et(u9,Kt);function an(t){const e=Rf();Lt(e,new u9(e,t))}gi.Ua="timingevent";function d9(t,e){Kt.call(this,gi.Ua,t),this.size=e}Et(d9,Kt);function tu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var Of={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},h9={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ny(){}Ny.prototype.h=null;function fw(t){return t.h||(t.h=t.i())}function f9(){}var nu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jy(){Kt.call(this,"d")}Et(jy,Kt);function Ay(){Kt.call(this,"c")}Et(Ay,Kt);var pg;function Df(){}Et(Df,Ny);Df.prototype.g=function(){return new XMLHttpRequest};Df.prototype.i=function(){return{}};pg=new Df;function ru(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ic(this),this.P=uL,t=ug?125:void 0,this.V=new Pf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new m9}function m9(){this.i=null,this.g="",this.h=!1}var uL=45e3,gg={},ph={};Y=ru.prototype;Y.setTimeout=function(t){this.P=t};function yg(t,e,n){t.L=1,t.v=$f(us(e)),t.s=n,t.S=!0,p9(t,null)}function p9(t,e){t.G=Date.now(),su(t),t.A=us(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),b9(n.i,"t",r),t.C=0,n=t.l.J,t.h=new m9,t.g=H9(t.l,n?e:null,!t.s),0<t.O&&(t.M=new oL(Gt(t.Pa,t,t.g),t.O)),a9(t.U,t.g,"readystatechange",t.nb),e=t.I?X4(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Nc(),iL(t.j,t.u,t.A,t.m,t.W,t.s)}Y.nb=function(t){t=t.target;const e=this.M;e&&Ir(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const d=Ir(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||ug||this.g&&(this.h.h||this.g.ja()||yw(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Nc(3):Nc(2)),Mf(this);var n=this.g.da();this.ca=n;t:if(g9(this)){var r=yw(this.g);t="";var s=r.length,o=Ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$o(this),zl(this);var i="";break t}this.h.i=new me.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,aL(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kc(a)){var u=a;break t}}u=null}if(n=u)Yi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_g(this,n);else{this.i=!1,this.o=3,an(12),$o(this),zl(this);break e}}this.S?(y9(this,d,i),ug&&this.i&&d==3&&(a9(this.U,this.V,"tick",this.mb),this.V.start())):(Yi(this.j,this.m,i,null),_g(this,i)),d==4&&$o(this),this.i&&!this.J&&(d==4?B9(this.l,this):(this.i=!1,su(this)))}else AL(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.o=3,an(12)):(this.o=0,an(13)),$o(this),zl(this)}}}catch{}finally{}};function g9(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function y9(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=dL(t,n),s==ph){e==4&&(t.o=4,an(14),r=!1),Yi(t.j,t.m,null,"[Incomplete Response]");break}else if(s==gg){t.o=4,an(15),Yi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Yi(t.j,t.m,s,null),_g(t,s);g9(t)&&s!=ph&&s!=gg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,an(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),My(e),e.M=!0,an(11))):(Yi(t.j,t.m,n,"[Invalid Chunked Response]"),$o(t),zl(t))}Y.mb=function(){if(this.g){var t=Ir(this.g),e=this.g.ja();this.C<e.length&&(Mf(this),y9(this,t,e),this.i&&t!=4&&su(this))}};function dL(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ph:(n=Number(e.substring(n,r)),isNaN(n)?gg:(r+=1,r+n>e.length?ph:(e=e.slice(r,r+n),t.C=r+n,e)))}Y.cancel=function(){this.J=!0,$o(this)};function su(t){t.Y=Date.now()+t.P,_9(t,t.P)}function _9(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=tu(Gt(t.lb,t),e)}function Mf(t){t.B&&(me.clearTimeout(t.B),t.B=null)}Y.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(lL(this.j,this.A),this.L!=2&&(Nc(),an(17)),$o(this),this.o=2,zl(this)):_9(this,this.Y-t)};function zl(t){t.l.H==0||t.J||B9(t.l,t)}function $o(t){Mf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ty(t.V),l9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function _g(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||vg(n.i,t))){if(!t.K&&vg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)_h(n),Uf(n);else break e;Dy(n),an(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=tu(Gt(n.ib,n),6e3));if(1>=E9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Fo(n,11)}else if((t.K||n.g==t)&&_h(n),!kc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const m=u[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Py(o,o.h),o.h=null))}if(r.F){const w=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,De(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=t;if(r.wa=z9(r,r.J?r.pa:null,r.Y),i.K){T9(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.B&&(Mf(a),su(a)),r.g=i}else $9(r);0<n.j.length&&Vf(n)}else u[0]!="stop"&&u[0]!="close"||Fo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Fo(n,7):Oy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Nc(4)}catch{}}function hL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ef(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function fL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ef(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function v9(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ef(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=fL(t),r=hL(t),s=r.length,o=0;o<s;o++)e.call(void 0,r[o],n&&n[o],t)}var w9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var o=t[n].substring(0,r);s=t[n].substring(r+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Wo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wo){this.h=t.h,gh(this,t.j),this.s=t.s,this.g=t.g,yh(this,t.m),this.l=t.l;var e=t.i,n=new jc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mw(this,n),this.o=t.o}else t&&(e=String(t).match(w9))?(this.h=!1,gh(this,e[1]||"",!0),this.s=El(e[2]||""),this.g=El(e[3]||"",!0),yh(this,e[4]),this.l=El(e[5]||"",!0),mw(this,e[6]||"",!0),this.o=El(e[7]||"")):(this.h=!1,this.i=new jc(null,this.h))}Wo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Tl(e,pw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Tl(e,pw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Tl(n,n.charAt(0)=="/"?yL:gL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Tl(n,vL)),t.join("")};function us(t){return new Wo(t)}function gh(t,e,n){t.j=n?El(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mw(t,e,n){e instanceof jc?(t.i=e,wL(t.i,t.h)):(n||(e=Tl(e,_L)),t.i=new jc(e,t.h))}function De(t,e,n){t.i.set(e,n)}function $f(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function El(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Tl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,pL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var pw=/[#\/\?@]/g,gL=/[#\?:]/g,yL=/[#\?]/g,_L=/[#\?@]/g,vL=/#/g;function jc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _o(t){t.g||(t.g=new Map,t.h=0,t.i&&mL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=jc.prototype;Y.add=function(t,e){_o(this),this.i=null,t=Ga(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function x9(t,e){_o(t),e=Ga(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function C9(t,e){return _o(t),e=Ga(t,e),t.g.has(e)}Y.forEach=function(t,e){_o(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Y.ta=function(){_o(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let o=0;o<s.length;o++)n.push(e[r])}return n};Y.Z=function(t){_o(this);let e=[];if(typeof t=="string")C9(this,t)&&(e=e.concat(this.g.get(Ga(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return _o(this),this.i=null,t=Ga(this,t),C9(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function b9(t,e,n){x9(t,e),0<n.length&&(t.i=null,t.g.set(Ga(t,e),vy(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var s=o;i[r]!==""&&(s+="="+encodeURIComponent(String(i[r]))),t.push(s)}}return this.i=t.join("&")};function Ga(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wL(t,e){e&&!t.j&&(_o(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(x9(this,r),b9(this,s,n))},t)),t.j=e}var xL=class{constructor(t,e){this.g=t,this.map=e}};function k9(t){this.l=t||CL,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var CL=10;function S9(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function E9(t){return t.h?1:t.g?t.g.size:0}function vg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Py(t,e){t.g?t.g.add(e):t.h=e}function T9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}k9.prototype.cancel=function(){if(this.i=I9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function I9(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return vy(t.i)}var bL=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function kL(){this.g=new bL}function SL(t,e,n){const r=n||"";try{v9(t,function(s,o){let i=s;Tf(s)&&(i=Sy(s)),e.push(r+o+"="+encodeURIComponent(i))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function EL(t,e){const n=new Lf;if(me.Image){const r=new Image;r.onload=zu(qu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zu(qu,n,r,"TestLoadImage: error",!1,e),r.onabort=zu(qu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zu(qu,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function qu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ou(t){this.l=t.fc||null,this.j=t.ob||!1}Et(ou,Ny);ou.prototype.g=function(){return new Ff(this.l,this.j)};ou.prototype.i=function(t){return function(){return t}}({});function Ff(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ly,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Et(Ff,St);var Ly=0;Y=Ff.prototype;Y.open=function(t,e){if(this.readyState!=Ly)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ac(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,iu(this)),this.readyState=Ly};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ac(this)),this.g&&(this.readyState=3,Ac(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;N9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function N9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?iu(this):Ac(this),this.readyState==3&&N9(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,iu(this))};Y.Ya=function(t){this.g&&(this.response=t,iu(this))};Y.ka=function(){this.g&&iu(this)};function iu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ac(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ac(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ff.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var TL=me.JSON.parse;function ot(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=j9,this.L=this.M=!1}Et(ot,St);var j9="",IL=/^https?$/i,NL=["POST","PUT"];Y=ot.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pg.g(),this.C=this.u?fw(this.u):fw(pg),this.g.onreadystatechange=Gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){gw(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=me.FormData&&t instanceof me.FormData,!(0<=K4(NL,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,i]of n)this.g.setRequestHeader(o,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{L9(this),0<this.B&&((this.L=jL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.ua,this)):this.A=Iy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){gw(this,o)}};function jL(t){return ka&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof _y<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))};function gw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,A9(t),Bf(t)}function A9(t){t.F||(t.F=!0,Lt(t,"complete"),Lt(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Lt(this,"complete"),Lt(this,"abort"),Bf(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Bf(this,!0)),ot.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?P9(this):this.kb())};Y.kb=function(){P9(this)};function P9(t){if(t.h&&typeof _y<"u"&&(!t.C[1]||Ir(t)!=4||t.da()!=2)){if(t.v&&Ir(t)==4)Iy(t.La,0,t);else if(Lt(t,"readystatechange"),Ir(t)==4){t.h=!1;try{const i=t.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=i===0){var s=String(t.I).match(w9)[1]||null;!s&&me.self&&me.self.location&&(s=me.self.location.protocol.slice(0,-1)),r=!IL.test(s?s.toLowerCase():"")}n=r}if(n)Lt(t,"complete"),Lt(t,"success");else{t.m=6;try{var o=2<Ir(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",A9(t)}}finally{Bf(t)}}}}function Bf(t,e){if(t.g){L9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Lt(t,"ready");try{n.onreadystatechange=r}catch{}}}function L9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function Ir(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<Ir(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),TL(e)}};function yw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case j9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function AL(t){const e={};t=(t.g&&2<=Ir(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(kc(t[r]))continue;var n=nL(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}KP(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function R9(t){let e="";return xy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Ry(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=R9(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function cl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function O9(t){this.Ga=0,this.j=[],this.l=new Lf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cl("baseRetryDelayMs",5e3,t),this.hb=cl("retryDelaySeedMs",1e4,t),this.eb=cl("forwardChannelMaxRetries",2,t),this.xa=cl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new k9(t&&t.concurrentRequestLimit),this.Ja=new kL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=O9.prototype;Y.ra=8;Y.H=1;function Oy(t){if(D9(t),t.H==3){var e=t.W++,n=us(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),au(t,n),e=new ru(t,t.l,e),e.L=2,e.v=$f(us(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=H9(e.l,null),e.g.ha(e.v)),e.G=Date.now(),su(e)}V9(t)}function Uf(t){t.g&&(My(t),t.g.cancel(),t.g=null)}function D9(t){Uf(t),t.u&&(me.clearTimeout(t.u),t.u=null),_h(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function Vf(t){if(!S9(t.i)&&!t.m){t.m=!0;var e=t.Na;Ec||o9(),Tc||(Ec(),Tc=!0),Ey.add(e,t),t.C=0}}function PL(t,e){return E9(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=tu(Gt(t.Na,t,e),U9(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new ru(this,this.l,t);let o=this.s;if(this.U&&(o?(o=X4(o),J4(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=M9(this,s,e),n=us(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),au(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(R9(o)))+"&"+e:this.o&&Ry(n,this.o,o)),Py(this.i,s),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),s.aa=!0,yg(s,n,null)):yg(s,n,e),this.H=2}}else this.H==3&&(t?_w(this,t):this.j.length==0||S9(this.i)||_w(this))};function _w(t,e){var n;e?n=e.m:n=t.W++;const r=us(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),au(t,r),t.o&&t.s&&Ry(r,t.o,t.s),n=new ru(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=M9(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Py(t.i,n),yg(n,r,e)}function au(t,e){t.na&&xy(t.na,function(n,r){De(e,r,n)}),t.h&&v9({},function(n,r){De(e,r,n)})}function M9(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Gt(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const i=["count="+n];o==-1?0<n?(o=s[0].g,i.push("ofs="+o)):o=0:i.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const d=s[l].map;if(u-=o,0>u)o=Math.max(0,s[l].g-100),a=!1;else try{SL(d,i,"req"+u+"_")}catch{r&&r(d)}}if(a){r=i.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function $9(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ec||o9(),Tc||(Ec(),Tc=!0),Ey.add(e,t),t.A=0}}function Dy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=tu(Gt(t.Ma,t),U9(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,F9(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=tu(Gt(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,an(10),Uf(this),F9(this))};function My(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function F9(t){t.g=new ru(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=us(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),au(t,e),t.o&&t.s&&Ry(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=$f(us(e)),n.s=null,n.S=!0,p9(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,Uf(this),Dy(this),an(19))};function _h(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function B9(t,e){var n=null;if(t.g==e){_h(t),My(t),t.g=null;var r=2}else if(vg(t.i,e))n=e.F,T9(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Rf(),Lt(r,new d9(r,n)),Vf(t)}else $9(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&PL(t,e)||r==2&&Dy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Fo(t,5);break;case 4:Fo(t,10);break;case 3:Fo(t,6);break;default:Fo(t,2)}}}function U9(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Fo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Gt(t.pb,t);n||(n=new Wo("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||gh(n,"https"),$f(n)),EL(n.toString(),r)}else an(2);t.H=0,t.h&&t.h.za(e),V9(t),D9(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),an(2)):(this.l.info("Failed to ping google.com"),an(1))};function V9(t){if(t.H=0,t.ma=[],t.h){const e=I9(t.i);(e.length!=0||t.j.length!=0)&&(lw(t.ma,e),lw(t.ma,t.j),t.i.i.length=0,vy(t.j),t.j.length=0),t.h.ya()}}function z9(t,e,n){var r=n instanceof Wo?us(n):new Wo(n);if(r.g!="")e&&(r.g=e+"."+r.g),yh(r,r.m);else{var s=me.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Wo(null);r&&gh(o,r),e&&(o.g=e),s&&yh(o,s),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),au(t,r),r}function H9(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ot(new ou({ob:!0})):new ot(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function q9(){}Y=q9.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function vh(){if(ka&&!(10<=Number(HP)))throw Error("Environmental error: no available transport.")}vh.prototype.g=function(t,e){return new Mn(t,e)};function Mn(t,e){St.call(this),this.g=new O9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!kc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ka(this)}Et(Mn,St);Mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;an(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=z9(t,null,t.Y),Vf(t)};Mn.prototype.close=function(){Oy(this.g)};Mn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Sy(t),t=n);e.j.push(new xL(e.fb++,t)),e.H==3&&Vf(e)};Mn.prototype.N=function(){this.g.h=null,delete this.j,Oy(this.g),delete this.g,Mn.$.N.call(this)};function W9(t){jy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Et(W9,jy);function G9(){Ay.call(this),this.status=1}Et(G9,Ay);function Ka(t){this.g=t}Et(Ka,q9);Ka.prototype.Ba=function(){Lt(this.g,"a")};Ka.prototype.Aa=function(t){Lt(this.g,new W9(t))};Ka.prototype.za=function(t){Lt(this.g,new G9)};Ka.prototype.ya=function(){Lt(this.g,"b")};function LL(){this.blockSize=-1}function hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Et(hr,LL);hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function bp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],i=e+(o^n&(s^o))+r[0]+3614090360&4294967295;e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[1]+3905402710&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[2]+606105819&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[3]+3250441966&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[4]+4118548399&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[5]+1200080426&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[6]+2821735955&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[7]+4249261313&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[8]+1770035416&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[9]+2336552879&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[10]+4294925233&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[11]+2304563134&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[12]+1804603682&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[13]+4254626195&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[14]+2792965006&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[15]+1236535329&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(s^o&(n^s))+r[1]+4129170786&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[6]+3225465664&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[11]+643717713&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[0]+3921069994&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[5]+3593408605&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[10]+38016083&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[15]+3634488961&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[4]+3889429448&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[9]+568446438&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[14]+3275163606&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[3]+4107603335&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[8]+1163531501&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[13]+2850285829&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[2]+4243563512&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[7]+1735328473&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[12]+2368359562&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(n^s^o)+r[5]+4294588738&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[8]+2272392833&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[11]+1839030562&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[14]+4259657740&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[1]+2763975236&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[4]+1272893353&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[7]+4139469664&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[10]+3200236656&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[13]+681279174&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[0]+3936430074&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[3]+3572445317&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[6]+76029189&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[9]+3654602809&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[12]+3873151461&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[15]+530742520&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[2]+3299628645&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(s^(n|~o))+r[0]+4096336452&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[7]+1126891415&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[14]+2878612391&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[5]+4237533241&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[12]+1700485571&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[3]+2399980690&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[10]+4293915773&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[1]+2240044497&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[8]+1873313359&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[15]+4264355552&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[6]+2734768916&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[13]+1309151649&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[4]+4149444226&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[11]+3174756917&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[2]+718787259&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(i<<21&4294967295|i>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}hr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)bp(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){bp(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){bp(this,r),s=0;break}}this.h=s,this.i+=e};hr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ie(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;r&&o==e||(n[s]=o,r=!1)}this.g=n}var RL={};function $y(t){return-128<=t&&128>t?UP(t,function(e){return new Ie([e|0],0>e?-1:0)}):new Ie([t|0],0>t?-1:0)}function Nr(t){if(isNaN(t)||!isFinite(t))return ca;if(0>t)return jt(Nr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=wg;return new Ie(e,0)}function K9(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return jt(K9(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nr(Math.pow(e,8)),r=ca,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),i=parseInt(t.substring(s,s+o),e);8>o?(o=Nr(Math.pow(e,o)),r=r.R(o).add(Nr(i))):(r=r.R(n),r=r.add(Nr(i)))}return r}var wg=4294967296,ca=$y(0),xg=$y(1),vw=$y(16777216);Y=Ie.prototype;Y.ea=function(){if(Gn(this))return-jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:wg+r)*e,e*=wg}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Qr(this))return"0";if(Gn(this))return"-"+jt(this).toString(t);for(var e=Nr(Math.pow(t,6)),n=this,r="";;){var s=xh(n,e).g;n=wh(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Qr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Qr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Gn(t){return t.h==-1}Y.X=function(t){return t=wh(this,t),Gn(t)?-1:Qr(t)?0:1};function jt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ie(n,~t.h).add(xg)}Y.abs=function(){return Gn(this)?jt(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(this.D(s)&65535)+(t.D(s)&65535),i=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=i>>>16,o&=65535,i&=65535,n[s]=i<<16|o}return new Ie(n,n[n.length-1]&-2147483648?-1:0)};function wh(t,e){return t.add(jt(e))}Y.R=function(t){if(Qr(this)||Qr(t))return ca;if(Gn(this))return Gn(t)?jt(this).R(jt(t)):jt(jt(this).R(t));if(Gn(t))return jt(this.R(jt(t)));if(0>this.X(vw)&&0>t.X(vw))return Nr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var o=this.D(r)>>>16,i=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=i*l,Wu(n,2*r+2*s),n[2*r+2*s+1]+=o*l,Wu(n,2*r+2*s+1),n[2*r+2*s+1]+=i*a,Wu(n,2*r+2*s+1),n[2*r+2*s+2]+=o*a,Wu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ie(n,0)};function Wu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ul(t,e){this.g=t,this.h=e}function xh(t,e){if(Qr(e))throw Error("division by zero");if(Qr(t))return new ul(ca,ca);if(Gn(t))return e=xh(jt(t),e),new ul(jt(e.g),jt(e.h));if(Gn(e))return e=xh(t,jt(e)),new ul(jt(e.g),e.h);if(30<t.g.length){if(Gn(t)||Gn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=xg,r=e;0>=r.X(t);)n=ww(n),r=ww(r);var s=Ti(n,1),o=Ti(r,1);for(r=Ti(r,2),n=Ti(n,2);!Qr(r);){var i=o.add(r);0>=i.X(t)&&(s=s.add(n),o=i),r=Ti(r,1),n=Ti(n,1)}return e=wh(t,s.R(e)),new ul(s,e)}for(s=ca;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Nr(n),i=o.R(e);Gn(i)||0<i.X(t);)n-=r,o=Nr(n),i=o.R(e);Qr(o)&&(o=xg),s=s.add(o),t=wh(t,i)}return new ul(s,t)}Y.gb=function(t){return xh(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ie(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ie(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ie(n,this.h^t.h)};function ww(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ie(n,t.h)}function Ti(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ie(s,t.h)}vh.prototype.createWebChannel=vh.prototype.g;Mn.prototype.send=Mn.prototype.u;Mn.prototype.open=Mn.prototype.m;Mn.prototype.close=Mn.prototype.close;Of.NO_ERROR=0;Of.TIMEOUT=8;Of.HTTP_ERROR=6;h9.COMPLETE="complete";f9.EventType=nu;nu.OPEN="a";nu.CLOSE="b";nu.ERROR="c";nu.MESSAGE="d";St.prototype.listen=St.prototype.O;ot.prototype.listenOnce=ot.prototype.P;ot.prototype.getLastError=ot.prototype.Sa;ot.prototype.getLastErrorCode=ot.prototype.Ia;ot.prototype.getStatus=ot.prototype.da;ot.prototype.getResponseJson=ot.prototype.Wa;ot.prototype.getResponseText=ot.prototype.ja;ot.prototype.send=ot.prototype.ha;ot.prototype.setWithCredentials=ot.prototype.Oa;hr.prototype.digest=hr.prototype.l;hr.prototype.reset=hr.prototype.reset;hr.prototype.update=hr.prototype.j;Ie.prototype.add=Ie.prototype.add;Ie.prototype.multiply=Ie.prototype.R;Ie.prototype.modulo=Ie.prototype.gb;Ie.prototype.compare=Ie.prototype.X;Ie.prototype.toNumber=Ie.prototype.ea;Ie.prototype.toString=Ie.prototype.toString;Ie.prototype.getBits=Ie.prototype.D;Ie.fromNumber=Nr;Ie.fromString=K9;var OL=function(){return new vh},DL=function(){return Rf()},kp=Of,ML=h9,$L=gi,xw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},FL=ou,Gu=f9,BL=ot,UL=hr,ua=Ie;const Cw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new iy("@firebase/firestore");function bw(){return si.logLevel}function re(t,...e){if(si.logLevel<=ke.DEBUG){const n=e.map(Fy);si.debug(`Firestore (${Za}): ${t}`,...n)}}function ds(t,...e){if(si.logLevel<=ke.ERROR){const n=e.map(Fy);si.error(`Firestore (${Za}): ${t}`,...n)}}function Sa(t,...e){if(si.logLevel<=ke.WARN){const n=e.map(Fy);si.warn(`Firestore (${Za}): ${t}`,...n)}}function Fy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Za}) INTERNAL ASSERTION FAILED: `+t;throw ds(e),new Error(e)}function Fe(t,e){t||fe()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class zL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HL{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new es;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new es,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new es)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new Z9(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new Vt(e)}}class qL{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class WL{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new qL(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class GL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KL{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.T;return this.T=o.token,re("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?s(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.T=n.token,new GL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=ZL(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Ea(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new pt(0,0))}static max(){return new pe(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),i=n.get(s);if(o<i)return-1;if(o>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Pc{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const YL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Pc{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return YL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Me.fromString(e))}static fromName(e){return new oe(Me.fromString(e).popFirst(5))}static empty(){return new oe(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Me(e.slice()))}}function QL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new io(s,oe.empty(),e)}function XL(t){return new io(t.readTime,t.key,-1)}class io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new io(pe.min(),oe.empty(),-1)}static max(){return new io(pe.max(),oe.empty(),-1)}}function JL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==eR)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},l=>r(l))}),i=!0,o===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{i[u]=d,++a,a===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new W((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function cu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}By.ct=-1;function zf(t){return t==null}function Ch(t){return t===0&&1/t==-1/0}function nR(t){return typeof t=="number"&&Number.isInteger(t)&&!Ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Q9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=s??Nt.EMPTY,this.right=o??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Nt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,n,r,s){return this}insert(t,e,n){return new Nt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sw(this.data.getIterator())}getIteratorFrom(e){return new Sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class Sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Zt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new X9("Invalid base64 string: "+s):s}}(e);return new tn(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const rR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=rR.exec(t);if(Fe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oi(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Vy(t){const e=t.mapValue.fields.__previous_value__;return Uy(e)?Vy(e):e}function Lc(t){const e=ao(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,r,s,o,i,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Rc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu={mapValue:{}};function ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uy(t)?4:oR(t)?9007199254740991:10:fe()}function Fr(t,e){if(t===e)return!0;const n=ii(t);if(n!==ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Lc(t).isEqual(Lc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=ao(r.timestampValue),i=ao(s.timestampValue);return o.seconds===i.seconds&&o.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return oi(r.bytesValue).isEqual(oi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return ht(r.geoPointValue.latitude)===ht(s.geoPointValue.latitude)&&ht(r.geoPointValue.longitude)===ht(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ht(r.integerValue)===ht(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=ht(r.doubleValue),i=ht(s.doubleValue);return o===i?Ch(o)===Ch(i):isNaN(o)&&isNaN(i)}return!1}(t,e);case 9:return Ea(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:return function(r,s){const o=r.mapValue.fields||{},i=s.mapValue.fields||{};if(kw(o)!==kw(i))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(i[a]===void 0||!Fr(o[a],i[a])))return!1;return!0}(t,e);default:return fe()}}function Oc(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Ta(t,e){if(t===e)return 0;const n=ii(t),r=ii(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const i=ht(s.integerValue||s.doubleValue),a=ht(o.integerValue||o.doubleValue);return i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1}(t,e);case 3:return Ew(t.timestampValue,e.timestampValue);case 4:return Ew(Lc(t),Lc(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,o){const i=oi(s),a=oi(o);return i.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const i=s.split("/"),a=o.split("/");for(let l=0;l<i.length&&l<a.length;l++){const u=Se(i[l],a[l]);if(u!==0)return u}return Se(i.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const i=Se(ht(s.latitude),ht(o.latitude));return i!==0?i:Se(ht(s.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const i=s.values||[],a=o.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=Ta(i[l],a[l]);if(u)return u}return Se(i.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Zu.mapValue&&o===Zu.mapValue)return 0;if(s===Zu.mapValue)return 1;if(o===Zu.mapValue)return-1;const i=s.fields||{},a=Object.keys(i),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const h=Se(a[d],u[d]);if(h!==0)return h;const m=Ta(i[a[d]],l[u[d]]);if(m!==0)return m}return Se(a.length,u.length)}(t.mapValue,e.mapValue);default:throw fe()}}function Ew(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=ao(t),r=ao(e),s=Se(n.seconds,r.seconds);return s!==0?s:Se(n.nanos,r.nanos)}function Ia(t){return Cg(t)}function Cg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=ao(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?oi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",o=!0;for(const i of r.values||[])o?o=!1:s+=",",s+=Cg(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",i=!0;for(const a of s)i?i=!1:o+=",",o+=`${a}:${Cg(r.fields[a])}`;return o+"}"}(t.mapValue):fe();var e,n}function Tw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bg(t){return!!t&&"integerValue"in t}function zy(t){return!!t&&"arrayValue"in t}function Iw(t){return!!t&&"nullValue"in t}function Nw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function Hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hl(n)}setAll(e){let n=qt.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=Hl(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Td(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){yi(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new gn(Hl(this.value))}}function J9(t){const e=[];return yi(t.fields,(n,r)=>{const s=new qt([n]);if(Td(r)){const o=J9(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,pe.min(),pe.min(),pe.min(),gn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,pe.min(),pe.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,pe.min(),pe.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function jw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(i.referenceValue),n.key):r=Ta(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Aw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n="asc"){this.field=e,this.dir=n}}function iR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{}class mt extends e7{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lR(e,n,r):n==="array-contains"?new dR(e,r):n==="in"?new hR(e,r):n==="not-in"?new fR(e,r):n==="array-contains-any"?new mR(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cR(e,r):new uR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ta(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.matchesComparison(Ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fr extends e7{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new fr(e,n)}matches(e){return t7(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function t7(t){return t.op==="and"}function n7(t){return aR(t)&&t7(t)}function aR(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function kg(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+Ia(t.value);if(n7(t))return t.filters.map(e=>kg(e)).join(",");{const e=t.filters.map(n=>kg(n)).join(",");return`${t.op}(${e})`}}function r7(t,e){return t instanceof mt?function(n,r){return r instanceof mt&&n.op===r.op&&n.field.isEqual(r.field)&&Fr(n.value,r.value)}(t,e):t instanceof fr?function(n,r){return r instanceof fr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,o,i)=>s&&r7(o,r.filters[i]),!0):!1}(t,e):void fe()}function s7(t){return t instanceof mt?function(e){return`${e.field.canonicalString()} ${e.op} ${Ia(e.value)}`}(t):t instanceof fr?function(e){return e.op.toString()+" {"+e.getFilters().map(s7).join(" ,")+"}"}(t):"Filter"}class lR extends mt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class cR extends mt{constructor(e,n){super(e,"in",n),this.keys=o7("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uR extends mt{constructor(e,n){super(e,"not-in",n),this.keys=o7("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function o7(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class dR extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zy(n)&&Oc(n.arrayValue,this.value)}}class hR extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oc(this.value.arrayValue,n)}}class fR extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Oc(this.value.arrayValue,n)}}class mR extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.dt=null}}function Pw(t,e=null,n=[],r=[],s=null,o=null,i=null){return new pR(t,e,n,r,s,o,i)}function Hy(t){const e=ge(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),zf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ia(r)).join(",")),e.dt=n}return e.dt}function qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!r7(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Aw(t.startAt,e.startAt)&&Aw(t.endAt,e.endAt)}function Sg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function gR(t,e,n,r,s,o,i,a){return new Ya(t,e,n,r,s,o,i,a)}function Hf(t){return new Ya(t)}function Lw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Wy(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function qf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function i7(t){return t.collectionGroup!==null}function ha(t){const e=ge(t);if(e.wt===null){e.wt=[];const n=qf(e),r=Wy(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new da(n)),e.wt.push(new da(qt.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new da(qt.keyField(),o))}}}return e.wt}function hs(t){const e=ge(t);if(!e._t)if(e.limitType==="F")e._t=Pw(e.path,e.collectionGroup,ha(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of ha(e)){const i=o.dir==="desc"?"asc":"desc";n.push(new da(o.field,i))}const r=e.endAt?new bh(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new bh(e.startAt.position,e.startAt.inclusive):null;e._t=Pw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function Eg(t,e){e.getFirstInequalityField(),qf(t);const n=t.filters.concat([e]);return new Ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new Ya(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wf(t,e){return qy(hs(t),hs(e))&&t.limitType===e.limitType}function a7(t){return`${Hy(hs(t))}|lt:${t.limitType}`}function Ig(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>s7(r)).join(", ")}]`),zf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ia(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ia(r)).join(",")),`Target(${n})`}(hs(t))}; limitType=${t.limitType})`}function Gf(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):oe.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of ha(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,o,i){const a=jw(s,o,i);return s.inclusive?a<=0:a<0}(n.startAt,ha(n),r)||n.endAt&&!function(s,o,i){const a=jw(s,o,i);return s.inclusive?a>=0:a>0}(n.endAt,ha(n),r))}(t,e)}function yR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function l7(t){return(e,n)=>{let r=!1;for(const s of ha(t)){const o=_R(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function _R(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,i){const a=o.data.field(s),l=i.data.field(s);return a!==null&&l!==null?Ta(a,l):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yi(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return Q9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new et(oe.comparator);function fs(){return vR}const c7=new et(oe.comparator);function Il(...t){let e=c7;for(const n of t)e=e.insert(n.key,n);return e}function u7(t){let e=c7;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bo(){return ql()}function d7(){return ql()}function ql(){return new Qa(t=>t.toString(),(t,e)=>t.isEqual(e))}const wR=new et(oe.comparator),xR=new Zt(oe.comparator);function xe(...t){let e=xR;for(const n of t)e=e.add(n);return e}const CR=new Zt(Se);function bR(){return CR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function f7(t){return{integerValue:""+t}}function m7(t,e){return nR(e)?f7(e):h7(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this._=void 0}}function kR(t,e,n){return t instanceof Dc?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Uy(s)&&(s=Vy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Na?g7(t,e):t instanceof ja?y7(t,e):function(r,s){const o=p7(r,s),i=Rw(o)+Rw(r.gt);return bg(o)&&bg(r.gt)?f7(i):h7(r.serializer,i)}(t,e)}function SR(t,e,n){return t instanceof Na?g7(t,e):t instanceof ja?y7(t,e):n}function p7(t,e){return t instanceof Mc?bg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Dc extends Kf{}class Na extends Kf{constructor(e){super(),this.elements=e}}function g7(t,e){const n=_7(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ja extends Kf{constructor(e){super(),this.elements=e}}function y7(t,e){let n=_7(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class Mc extends Kf{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Rw(t){return ht(t.integerValue||t.doubleValue)}function _7(t){return zy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.field=e,this.transform=n}}function ER(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Na&&r instanceof Na||n instanceof ja&&r instanceof ja?Ea(n.elements,r.elements,Fr):n instanceof Mc&&r instanceof Mc?Fr(n.gt,r.gt):n instanceof Dc&&r instanceof Dc}(t.transform,e.transform)}class TR{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Id(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yf{}function v7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gy(t.key,Yn.none()):new uu(t.key,t.data,Yn.none());{const n=t.data,r=gn.empty();let s=new Zt(qt.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new vo(t.key,r,new Pn(s.toArray()),Yn.none())}}function IR(t,e,n){t instanceof uu?function(r,s,o){const i=r.value.clone(),a=Dw(r.fieldTransforms,s,o.transformResults);i.setAll(a),s.convertToFoundDocument(o.version,i).setHasCommittedMutations()}(t,e,n):t instanceof vo?function(r,s,o){if(!Id(r.precondition,s))return void s.convertToUnknownDocument(o.version);const i=Dw(r.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(w7(r)),a.setAll(i),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wl(t,e,n,r){return t instanceof uu?function(s,o,i,a){if(!Id(s.precondition,o))return i;const l=s.value.clone(),u=Mw(s.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof vo?function(s,o,i,a){if(!Id(s.precondition,o))return i;const l=Mw(s.fieldTransforms,a,o),u=o.data;return u.setAll(w7(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),i===null?null:i.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,i){return Id(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):i}(t,e,n)}function NR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=p7(r.transform,s||null);o!=null&&(n===null&&(n=gn.empty()),n.set(r.field,o))}return n||null}function Ow(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ea(n,r,(s,o)=>ER(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class uu extends Yf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class vo extends Yf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function w7(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Dw(t,e,n){const r=new Map;Fe(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,SR(i,a,n[s]))}return r}function Mw(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,kR(o,i,e))}return r}class Gy extends Yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jR extends Yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&IR(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=d7();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const l=v7(i,a);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ea(this.mutations,e.mutations,(n,r)=>Ow(n,r))&&Ea(this.baseMutations,e.baseMutations,(n,r)=>Ow(n,r))}}class Ky{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Fe(e.mutations.length===r.length);let s=wR;const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Ky(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ce;function RR(t){switch(t){default:return fe();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function x7(t){if(t===void 0)return ds("GRPC error has no .code"),U.UNKNOWN;switch(t){case dt.OK:return U.OK;case dt.CANCELLED:return U.CANCELLED;case dt.UNKNOWN:return U.UNKNOWN;case dt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case dt.INTERNAL:return U.INTERNAL;case dt.UNAVAILABLE:return U.UNAVAILABLE;case dt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case dt.NOT_FOUND:return U.NOT_FOUND;case dt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case dt.ABORTED:return U.ABORTED;case dt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case dt.DATA_LOSS:return U.DATA_LOSS;default:return fe()}}(Ce=dt||(dt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yu}static getOrCreateInstance(){return Yu===null&&(Yu=new Zy),Yu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Yu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new ua([4294967295,4294967295],0);function $w(t){const e=OR().encode(t),n=new UL;return n.update(e),new Uint8Array(n.digest())}function Fw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ua([n,r],0),new ua([s,o],0)]}class Yy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ua.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(ua.fromNumber(r)));return s.compare(DR)===1&&(s=new ua([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=$w(e),[r,s]=Fw(n);for(let o=0;o<this.hashCount;o++){const i=this.Et(r,s,o);if(!this.At(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Yy(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.It===0)return;const n=$w(e),[r,s]=Fw(n);for(let o=0;o<this.hashCount;o++){const i=this.Et(r,s,o);this.Rt(i)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qf(pe.min(),s,new et(Se),fs(),xe())}}class du{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new du(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class C7{constructor(e,n){this.targetId=e,this.Vt=n}}class b7{constructor(e,n,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Bw{constructor(){this.St=0,this.Dt=Vw(),this.Ct=tn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=xe(),n=xe(),r=xe();return this.Dt.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new du(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Vw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class MR{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=fs(),this.zt=Uw(),this.Wt=new et(Se)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,o=this.se(r);if(o){const i=o.target;if(Sg(i))if(s===0){const a=new oe(i.path);this.Yt(r,a,Ht.newNoDocument(a,pe.min()))}else Fe(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Zy.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,d,h){var m,p,_,w,x,v;const g={localCacheCount:d,existenceFilterCount:h.count},y=h.unchangedNames;return y&&(g.bloomFilter={applied:u===0,hashCount:(m=y==null?void 0:y.hashCount)!==null&&m!==void 0?m:0,bitmapLength:(w=(_=(p=y==null?void 0:y.bits)===null||p===void 0?void 0:p.bitmap)===null||_===void 0?void 0:_.length)!==null&&w!==void 0?w:0,padding:(v=(x=y==null?void 0:y.bits)===null||x===void 0?void 0:x.padding)!==null&&v!==void 0?v:0}),g}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:i=0},hashCount:a=0}=r;let l,u;try{l=oi(o).toUint8Array()}catch(d){if(d instanceof X9)return Sa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{u=new Yy(l,i,a)}catch(d){return Sa(d instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return u.It===0?1:s!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(o=>{const i=this.Gt.ue(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((o,i)=>{const a=this.se(i);if(a){if(o.current&&Sg(a.target)){const l=new oe(a.target.path);this.jt.get(l)!==null||this.ae(i,l)||this.Yt(i,l,Ht.newNoDocument(l,e))}o.Mt&&(n.set(i,o.Ot()),o.Ft())}});let r=xe();this.zt.forEach((o,i)=>{let a=!0;i.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,i)=>i.setReadTime(e));const s=new Qf(e,n,this.Wt,this.jt,r);return this.jt=fs(),this.zt=Uw(),this.Wt=new et(Se),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Bw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Zt(Se),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Bw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Uw(){return new et(oe.comparator)}function Vw(){return new et(oe.comparator)}const $R={asc:"ASCENDING",desc:"DESCENDING"},FR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BR={and:"AND",or:"OR"};class UR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ng(t,e){return t.useProto3Json||zf(e)?e:{value:e}}function kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VR(t,e){return kh(t,e.toTimestamp())}function Dr(t){return Fe(!!t),pe.fromTimestamp(function(e){const n=ao(e);return new pt(n.seconds,n.nanos)}(t))}function Qy(t,e){return function(n){return new Me(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function S7(t){const e=Me.fromString(t);return Fe(N7(e)),e}function jg(t,e){return Qy(t.databaseId,e.path)}function Sp(t,e){const n=S7(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(E7(n))}function Ag(t,e){return Qy(t.databaseId,e)}function zR(t){const e=S7(t);return e.length===4?Me.emptyPath():E7(e)}function Pg(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function E7(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zw(t,e,n){return{name:jg(t,e),fields:n.value.mapValue.fields}}function HR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Fe(u===void 0||typeof u=="string"),tn.fromBase64String(u||"")):(Fe(u===void 0||u instanceof Uint8Array),tn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(l){const u=l.code===void 0?U.UNKNOWN:x7(l.code);return new J(u,l.message||"")}(i);n=new b7(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sp(t,r.document.name),o=Dr(r.document.updateTime),i=r.document.createTime?Dr(r.document.createTime):pe.min(),a=new gn({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(s,o,i,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Nd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sp(t,r.document),o=r.readTime?Dr(r.readTime):pe.min(),i=Ht.newNoDocument(s,o),a=r.removedTargetIds||[];n=new Nd([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sp(t,r.document),o=r.removedTargetIds||[];n=new Nd([],o,s,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new LR(s,o),a=r.targetId;n=new C7(a,i)}}return n}function qR(t,e){let n;if(e instanceof uu)n={update:zw(t,e.key,e.value)};else if(e instanceof Gy)n={delete:jg(t,e.key)};else if(e instanceof vo)n={update:zw(t,e.key,e.data),updateMask:eO(e.fieldMask)};else{if(!(e instanceof jR))return fe();n={verify:jg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const i=o.transform;if(i instanceof Dc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof Na)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof ja)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof Mc)return{fieldPath:o.field.canonicalString(),increment:i.gt};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:VR(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function WR(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Dr(r.updateTime):Dr(s);return o.isEqual(pe.min())&&(o=Dr(s)),new TR(o,r.transformResults||[])}(n,e))):[]}function GR(t,e){return{documents:[Ag(t,e.path)]}}function KR(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ag(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ag(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return I7(fr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Oi(d.field),direction:QR(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const i=Ng(t,e.limit);var a;return i!==null&&(n.structuredQuery.limit=i),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function ZR(t){let e=zR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Fe(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(d){const h=T7(d);return h instanceof fr&&n7(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=n.orderBy.map(d=>function(h){return new da(Di(h.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,zf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new bh(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,m=d.values||[];return new bh(m,h)}(n.endAt)),gR(e,s,i,o,a,"F",l,u)}function YR(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function T7(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Di(e.unaryFilter.field);return mt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Di(e.unaryFilter.field);return mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Di(e.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Di(e.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(e){return mt.create(Di(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return fr.create(e.compositeFilter.filters.map(n=>T7(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(t):fe()}function QR(t){return $R[t]}function XR(t){return FR[t]}function JR(t){return BR[t]}function Oi(t){return{fieldPath:t.canonicalString()}}function Di(t){return qt.fromServerFormat(t.fieldPath)}function I7(t){return t instanceof mt?function(e){if(e.op==="=="){if(Nw(e.value))return{unaryFilter:{field:Oi(e.field),op:"IS_NAN"}};if(Iw(e.value))return{unaryFilter:{field:Oi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Nw(e.value))return{unaryFilter:{field:Oi(e.field),op:"IS_NOT_NAN"}};if(Iw(e.value))return{unaryFilter:{field:Oi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oi(e.field),op:XR(e.op),value:e.value}}}(t):t instanceof fr?function(e){const n=e.getFilters().map(r=>I7(r));return n.length===1?n[0]:{compositeFilter:{op:JR(e.op),filters:n}}}(t):fe()}function eO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function N7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r,s,o=pe.min(),i=pe.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.fe=e}}function nO(t){const e=ZR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.rn=new sO}addToCollectionParentIndex(e,n){return this.rn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(io.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(io.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class sO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Zt(Me.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Zt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Aa(0)}static Mn(){return new Aa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.changes=new Qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wl(r.mutation,s,Pn.empty(),pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=Bo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=Il();return o.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=fs();const i=ql(),a=ql();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof vo)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),Wl(d.mutation,u,d.mutation.getFieldMask(),pt.now())):i.set(u.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new iO(d,(h=i.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ql();let s=new et((i,a)=>i-a),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Pn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||xe()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=d7();d.forEach(m=>{if(!o.has(m)){const p=v7(n.get(m),r.get(m));p!==null&&h.set(m,p),o=o.add(m)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,h))}return W.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):i7(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):W.resolve(Bo());let a=-1,l=o;return i.next(u=>W.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,xe())).next(d=>({batchId:a,changes:u7(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=Il();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let o=Il();return this.indexManager.getCollectionParents(e,s).next(i=>W.forEach(i,a=>{const l=function(u,d){return new Ya(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(o=>{s.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Ht.newInvalidDocument(u)))});let i=Il();return o.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Wl(u.mutation,l,Pn.empty(),pt.now()),Gf(n,l)&&(i=i.insert(a,l))}),i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return W.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Dr(r.createTime)}),W.resolve()}getNamedQuery(e,n){return W.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:nO(r.bundledQuery),readTime:Dr(r.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.overlays=new et(oe.comparator),this.ls=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bo();return W.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.we(e,n,o)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=Bo(),o=n.length+1,i=new oe(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new et((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Bo(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Bo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return W.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new PR(n,r));let o=this.ls.get(n);o===void 0&&(o=xe(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.fs=new Zt(Ct.ds),this.ws=new Zt(Ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ct(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new oe(new Me([])),r=new Ct(n,e),s=new Ct(n,e+1),o=[];return this.ws.forEachInRange([r,s],i=>{this.ys(i),o.push(i.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new oe(new Me([])),r=new Ct(n,e),s=new Ct(n,e+1);let o=xe();return this.ws.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new Ct(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return oe.comparator(e.key,n.key)||Se(e.As,n.As)}static _s(e,n){return Se(e.As,n.As)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Zt(Ct.ds)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new AR(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.Rs=this.Rs.add(new Ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(i)}lookupMutationBatch(e,n){return W.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),o=s<0?0:s;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,s],i=>{const a=this.Ps(i.As);o.push(a)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Se);return n.forEach(s=>{const o=new Ct(s,0),i=new Ct(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,i],a=>{r=r.add(a.As)})}),W.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;oe.isDocumentKey(o)||(o=o.child(""));const i=new Ct(new oe(o),0);let a=new Zt(Se);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.As)),!0)},i),W.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Fe(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return W.forEach(n.mutations,s=>{const o=new Ct(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ct(n,0),s=this.Rs.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.Ds=e,this.docs=new et(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=fs();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Ht.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=fs();const i=n.path,a=new oe(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||JL(XL(d),r)<=0||(s.has(d.key)||Gf(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,n,r,s){fe()}Cs(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hO(this)}getSize(e){return W.resolve(this.size)}}class hO extends oO{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.persistence=e,this.xs=new Qa(n=>Hy(n),qy),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Xy,this.targetCount=0,this.Ms=Aa.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),W.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Aa(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Fn(n),W.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.xs.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(o).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.$s={},this.overlays={},this.Os=new By(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new fO(this),this.indexManager=new rO,this.remoteDocumentCache=function(r){return new dO(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new tO(n),this.qs=new lO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new uO(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new pO(this.Os.next());return this.referenceDelegate.Us(),r(s).next(o=>this.referenceDelegate.Ks(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Gs(e,n){return W.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class pO extends tR{constructor(e){super(),this.currentSequenceNumber=e}}class Jy{constructor(e){this.persistence=e,this.Qs=new Xy,this.js=null}static zs(e){return new Jy(e)}get Ws(){if(this.js)return this.js;throw fe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),W.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Ws,r=>{const s=oe.fromPath(r);return this.Hs(e,s).next(o=>{o||n.removeEntry(s,pe.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return W.or([()=>W.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=xe(),s=xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new e_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(o=>o||this.Gi(e,n,s,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(Lw(n))return W.resolve(null);let r=hs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tg(n,null,"F"),r=hs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=xe(...o);return this.Ui.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,i,l.readTime)?this.Ki(e,Tg(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,s){return Lw(n)||s.isEqual(pe.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const i=this.ji(n,o);return this.zi(n,i,r,s)?this.Qi(e,n):(bw()<=ke.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ig(n)),this.Wi(e,i,n,QL(s,-1)))})}ji(e,n){let r=new Zt(l7(e));return n.forEach((s,o)=>{Gf(e,o)&&(r=r.add(o))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Qi(e,n){return bw()<=ke.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Ig(n)),this.Ui.getDocumentsMatchingQuery(e,n,io.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new et(Se),this.Yi=new Qa(o=>Hy(o),qy),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function _O(t,e,n,r){return new yO(t,e,n,r)}async function j7(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let l=xe();for(const u of s){i.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:i,addedBatchIds:a}))})})}function vO(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(i,a,l,u){const d=l.batch,h=d.keys();let m=W.resolve();return h.forEach(p=>{m=m.next(()=>u.getEntry(a,p)).next(_=>{const w=l.docVersions.get(p);Fe(w!==null),_.version.compareTo(w)<0&&(d.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),u.addEntry(_)))})}),m.next(()=>i.mutationQueue.removeMutationBatch(a,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(i){let a=xe();for(let l=0;l<i.mutationResults.length;++l)i.mutationResults[l].transformResults.length>0&&(a=a.add(i.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function A7(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function wO(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((d,h)=>{const m=s.get(h);if(!m)return;a.push(n.Bs.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(o,d.addedDocuments,h)));let p=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(tn.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(_,w,x){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,p,d)&&a.push(n.Bs.updateTargetData(o,p))});let l=fs(),u=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(xO(o,i,e.documentUpdates).next(d=>{l=d.nr,u=d.sr})),!r.isEqual(pe.min())){const d=n.Bs.getLastRemoteSnapshotVersion(o).next(h=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=s,o))}function xO(t,e,n){let r=xe(),s=xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=fs();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:i,sr:s}})}function CO(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bO(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(o=>o?(s=o,W.resolve(s)):n.Bs.allocateTargetId(r).next(i=>(s=new zs(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function Lg(t,e,n){const r=ge(t),s=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!cu(i))throw i;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function Hw(t,e,n){const r=ge(t);let s=pe.min(),o=xe();return r.persistence.runTransaction("Execute query","readonly",i=>function(a,l,u){const d=ge(a),h=d.Yi.get(u);return h!==void 0?W.resolve(d.Ji.get(h)):d.Bs.getTargetData(l,u)}(r,i,hs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(i,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(i,e,n?s:pe.min(),n?o:xe())).next(a=>(kO(r,yR(e),a),{documents:a,ir:o})))}function kO(t,e,n){let r=t.Xi.get(e)||pe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class qw{constructor(){this.activeTargetIds=bR()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SO{constructor(){this.Hr=new qw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new qw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function Ep(){return Qu===null?Qu=268435456+Math.round(2147483648*Math.random()):Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class NO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,o){const i=Ep(),a=this.To(e,n);re("RestConnection",`Sending RPC '${e}' ${i}:`,a,r);const l={};return this.Eo(l,s,o),this.Ao(e,a,l,r).then(u=>(re("RestConnection",`Received RPC '${e}' ${i}: `,u),u),u=>{throw Sa("RestConnection",`RPC '${e}' ${i} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,s,o,i){return this.Io(e,n,r,s,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Za,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}To(e,n){const r=TO[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const o=Ep();return new Promise((i,a)=>{const l=new BL;l.setWithCredentials(!0),l.listenOnce(ML.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kp.NO_ERROR:const d=l.getResponseJson();re(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),i(d);break;case kp.TIMEOUT:re(Ft,`RPC '${e}' ${o} timed out`),a(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case kp.HTTP_ERROR:const h=l.getStatus();if(re(Ft,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const _=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(p.status);a(new J(_,p.message))}else a(new J(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(U.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{re(Ft,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);re(Ft,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const s=Ep(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=OL(),a=DL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new FL({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");re(Ft,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=i.createWebChannel(d,l);let m=!1,p=!1;const _=new IO({ro:x=>{p?re(Ft,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(re(Ft,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),re(Ft,`RPC '${e}' stream ${s} sending:`,x),h.send(x))},oo:()=>h.close()}),w=(x,v,g)=>{x.listen(v,y=>{try{g(y)}catch(C){setTimeout(()=>{throw C},0)}})};return w(h,Gu.EventType.OPEN,()=>{p||re(Ft,`RPC '${e}' stream ${s} transport opened.`)}),w(h,Gu.EventType.CLOSE,()=>{p||(p=!0,re(Ft,`RPC '${e}' stream ${s} transport closed`),_.wo())}),w(h,Gu.EventType.ERROR,x=>{p||(p=!0,Sa(Ft,`RPC '${e}' stream ${s} transport errored:`,x),_.wo(new J(U.UNAVAILABLE,"The operation could not be completed")))}),w(h,Gu.EventType.MESSAGE,x=>{var v;if(!p){const g=x.data[0];Fe(!!g);const y=g,C=y.error||((v=y[0])===null||v===void 0?void 0:v.error);if(C){re(Ft,`RPC '${e}' stream ${s} received error:`,C);const b=C.status;let k=function(S){const E=dt[S];if(E!==void 0)return x7(E)}(b),T=C.message;k===void 0&&(k=U.INTERNAL,T="Unknown error status: "+b+" with message "+C.message),p=!0,_.wo(new J(k,T)),h.close()}else re(Ft,`RPC '${e}' stream ${s} received:`,g),_._o(g)}}),w(a,$L.STAT_EVENT,x=>{x.stat===xw.PROXY?re(Ft,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===xw.NOPROXY&&re(Ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){return new UR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(e,n,r,s,o,i,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new P7(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new J(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jO extends L7{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=HR(this.serializer,e),r=function(s){if(!("targetChange"in s))return pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Dr(o.readTime):pe.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Pg(this.serializer),n.addTarget=function(s,o){let i;const a=o.target;if(i=Sg(a)?{documents:GR(s,a)}:{query:KR(s,a)},i.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){i.resumeToken=k7(s,o.resumeToken);const l=Ng(s,o.expectedCount);l!==null&&(i.expectedCount=l)}else if(o.snapshotVersion.compareTo(pe.min())>0){i.readTime=kh(s,o.snapshotVersion.toTimestamp());const l=Ng(s,o.expectedCount);l!==null&&(i.expectedCount=l)}return i}(this.serializer,e);const r=YR(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Pg(this.serializer),n.removeTarget=e,this.Wo(n)}}class AO extends L7{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=WR(e.writeResults,e.commitTime),r=Dr(e.commitTime);return this.listener.cu(r,n)}return Fe(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Pg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qR(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Io(e,n,r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(U.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.vo(e,n,r,o,i,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(U.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class LO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ds(n),this.mu=!1):re("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(i=>{r.enqueueAndForget(async()=>{_i(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ge(a);l.vu.add(4),await hu(l),l.bu.set("Unknown"),l.vu.delete(4),await Jf(l)}(this))})}),this.bu=new LO(r,s)}}async function Jf(t){if(_i(t))for(const e of t.Ru)await e(!0)}async function hu(t){for(const e of t.Ru)await e(!1)}function R7(t,e){const n=ge(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),r_(n)?n_(n):Xa(n).Ko()&&t_(n,e))}function O7(t,e){const n=ge(t),r=Xa(n);n.Au.delete(e),r.Ko()&&D7(n,e),n.Au.size===0&&(r.Ko()?r.jo():_i(n)&&n.bu.set("Unknown"))}function t_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xa(t).su(e)}function D7(t,e){t.Vu.qt(e),Xa(t).iu(e)}function n_(t){t.Vu=new MR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Xa(t).start(),t.bu.gu()}function r_(t){return _i(t)&&!Xa(t).Uo()&&t.Au.size>0}function _i(t){return ge(t).vu.size===0}function M7(t){t.Vu=void 0}async function OO(t){t.Au.forEach((e,n)=>{t_(t,e)})}async function DO(t,e){M7(t),r_(t)?(t.bu.Iu(e),n_(t)):t.bu.set("Unknown")}async function MO(t,e,n){if(t.bu.set("Online"),e instanceof b7&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const i of s.targetIds)r.Au.has(i)&&(await r.remoteSyncer.rejectListen(i,o),r.Au.delete(i),r.Vu.removeTarget(i))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sh(t,r)}else if(e instanceof Nd?t.Vu.Ht(e):e instanceof C7?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(pe.min()))try{const r=await A7(t.localStore);n.compareTo(r)>=0&&await function(s,o){const i=s.Vu.ce(o);return i.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.Au.get(l);u&&s.Au.set(l,u.withResumeToken(a.resumeToken,o))}}),i.targetMismatches.forEach((a,l)=>{const u=s.Au.get(a);if(!u)return;s.Au.set(a,u.withResumeToken(tn.EMPTY_BYTE_STRING,u.snapshotVersion)),D7(s,a);const d=new zs(u.target,a,l,u.sequenceNumber);t_(s,d)}),s.remoteSyncer.applyRemoteEvent(i)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Sh(t,r)}}async function Sh(t,e,n){if(!cu(e))throw e;t.vu.add(1),await hu(t),t.bu.set("Offline"),n||(n=()=>A7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Jf(t)})}function $7(t,e){return e().catch(n=>Sh(t,n,e))}async function em(t){const e=ge(t),n=lo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;$O(e);)try{const s=await CO(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,FO(e,s)}catch(s){await Sh(e,s)}F7(e)&&B7(e)}function $O(t){return _i(t)&&t.Eu.length<10}function FO(t,e){t.Eu.push(e);const n=lo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function F7(t){return _i(t)&&!lo(t).Uo()&&t.Eu.length>0}function B7(t){lo(t).start()}async function BO(t){lo(t).hu()}async function UO(t){const e=lo(t);for(const n of t.Eu)e.uu(n.mutations)}async function VO(t,e,n){const r=t.Eu.shift(),s=Ky.from(r,e,n);await $7(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await em(t)}async function zO(t,e){e&&lo(t).ou&&await async function(n,r){if(s=r.code,RR(s)&&s!==U.ABORTED){const o=n.Eu.shift();lo(n).Qo(),await $7(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await em(n)}var s}(t,e),F7(t)&&B7(t)}async function Gw(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=_i(n);n.vu.add(3),await hu(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Jf(n)}async function HO(t,e){const n=ge(t);e?(n.vu.delete(2),await Jf(n)):e||(n.vu.add(2),await hu(n),n.bu.set("Unknown"))}function Xa(t){return t.Su||(t.Su=function(e,n,r){const s=ge(e);return s.fu(),new jO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:OO.bind(null,t),ao:DO.bind(null,t),nu:MO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),r_(t)?n_(t):t.bu.set("Unknown")):(await t.Su.stop(),M7(t))})),t.Su}function lo(t){return t.Du||(t.Du=function(e,n,r){const s=ge(e);return s.fu(),new AO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:BO.bind(null,t),ao:zO.bind(null,t),au:UO.bind(null,t),cu:VO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await em(t)):(await t.Du.stop(),t.Eu.length>0&&(re("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new s_(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o_(t,e){if(ds("AsyncQueue",`${e}: ${t}`),cu(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new fa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.Cu=new et(oe.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):fe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pa{constructor(e,n,r,s,o,i,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Pa(e,n,fa.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.Nu=void 0,this.listeners=[]}}class WO{constructor(){this.queries=new Qa(e=>a7(e),Wf),this.onlineState="Unknown",this.ku=new Set}}async function i_(t,e){const n=ge(t),r=e.query;let s=!1,o=n.queries.get(r);if(o||(s=!0,o=new qO),s)try{o.Nu=await n.onListen(r)}catch(i){const a=o_(i,`Initialization of query '${Ig(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&l_(n)}async function a_(t,e){const n=ge(t),r=e.query;let s=!1;const o=n.queries.get(r);if(o){const i=o.listeners.indexOf(e);i>=0&&(o.listeners.splice(i,1),s=o.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function GO(t,e){const n=ge(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.listeners)a.$u(s)&&(r=!0);i.Nu=s}}r&&l_(n)}function KO(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);r.queries.delete(e)}function l_(t){t.ku.forEach(e=>{e.next()})}class c_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.key=e}}class V7{constructor(e){this.key=e}}class ZO{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=xe(),this.mutatedKeys=xe(),this.tc=l7(e),this.ec=new fa(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Kw,s=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const m=s.get(d),p=Gf(this.query,h)?h:null,_=!!m&&this.mutatedKeys.has(m.key),w=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;m&&p?m.data.isEqual(p.data)?_!==w&&(r.track({type:3,doc:p}),x=!0):this.rc(m,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.tc(p,l)>0||u&&this.tc(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),x=!0):m&&!p&&(r.track({type:1,doc:m}),x=!0,(l||u)&&(a=!0)),x&&(p?(i=i.add(p),o=w?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ec:i,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,d)=>function(h,m){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return p(h)-p(m)}(u.type,d.type)||this.tc(u.doc,d.doc)),this.oc(r);const i=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new Pa(this.query,e.ec,s,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Kw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=xe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new V7(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new U7(r))}),n}hc(e){this.Yu=e.ir,this.Zu=xe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Pa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class YO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QO{constructor(e){this.key=e,this.fc=!1}}class XO{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new Qa(a=>a7(a),Wf),this._c=new Map,this.mc=new Set,this.gc=new et(oe.comparator),this.yc=new Map,this.Ic=new Xy,this.Tc={},this.Ec=new Map,this.Ac=Aa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function JO(t,e){const n=cD(t);let r,s;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),s=o.view.lc();else{const i=await bO(n.localStore,hs(e)),a=n.sharedClientState.addLocalQueryTarget(i.targetId);r=i.targetId,s=await eD(n,e,r,a==="current",i.resumeToken),n.isPrimaryClient&&R7(n.remoteStore,i)}return s}async function eD(t,e,n,r,s){t.Rc=(h,m,p)=>async function(_,w,x,v){let g=w.view.sc(x);g.zi&&(g=await Hw(_.localStore,w.query,!1).then(({documents:b})=>w.view.sc(b,g)));const y=v&&v.targetChanges.get(w.targetId),C=w.view.applyChanges(g,_.isPrimaryClient,y);return Yw(_,w.targetId,C.cc),C.snapshot}(t,h,m,p);const o=await Hw(t.localStore,e,!0),i=new ZO(e,o.ir),a=i.sc(o.documents),l=du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(a,t.isPrimaryClient,l);Yw(t,n,u.cc);const d=new YO(e,n,i);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function tD(t,e){const n=ge(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(o=>!Wf(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Lg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),O7(n.remoteStore,r.targetId),Rg(n,r.targetId)}).catch(lu)):(Rg(n,r.targetId),await Lg(n.localStore,r.targetId,!0))}async function nD(t,e,n){const r=uD(t);try{const s=await function(o,i){const a=ge(o),l=pt.now(),u=i.reduce((m,p)=>m.add(p.key),xe());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",m=>{let p=fs(),_=xe();return a.Zi.getEntries(m,u).next(w=>{p=w,p.forEach((x,v)=>{v.isValidDocument()||(_=_.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(m,p)).next(w=>{d=w;const x=[];for(const v of i){const g=NR(v,d.get(v.key).overlayedDocument);g!=null&&x.push(new vo(v.key,g,J9(g.value.mapValue),Yn.exists(!0)))}return a.mutationQueue.addMutationBatch(m,l,x,i)}).next(w=>{h=w;const x=w.applyToLocalDocumentSet(d,_);return a.documentOverlayCache.saveOverlays(m,w.batchId,x)})}).then(()=>({batchId:h.batchId,changes:u7(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,i,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new et(Se)),l=l.insert(i,a),o.Tc[o.currentUser.toKey()]=l}(r,s.batchId,n),await fu(r,s.changes),await em(r.remoteStore)}catch(s){const o=o_(s,"Failed to persist write");n.reject(o)}}async function z7(t,e){const n=ge(t);try{const r=await wO(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.yc.get(o);i&&(Fe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?i.fc=!0:s.modifiedDocuments.size>0?Fe(i.fc):s.removedDocuments.size>0&&(Fe(i.fc),i.fc=!1))}),await fu(n,r,e)}catch(r){await lu(r)}}function Zw(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((o,i)=>{const a=i.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(o,i){const a=ge(o);a.onlineState=i;let l=!1;a.queries.forEach((u,d)=>{for(const h of d.listeners)h.Mu(i)&&(l=!0)}),l&&l_(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rD(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),o=s&&s.key;if(o){let i=new et(oe.comparator);i=i.insert(o,Ht.newNoDocument(o,pe.min()));const a=xe().add(o),l=new Qf(pe.min(),new Map,new et(Se),i,a);await z7(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),u_(r)}else await Lg(r.localStore,e,!1).then(()=>Rg(r,e,n)).catch(lu)}async function sD(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await vO(n.localStore,e);q7(n,r,null),H7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fu(n,s)}catch(s){await lu(s)}}async function oD(t,e,n){const r=ge(t);try{const s=await function(o,i){const a=ge(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,i).next(d=>(Fe(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,i)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);q7(r,e,n),H7(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fu(r,s)}catch(s){await lu(s)}}function H7(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function q7(t,e,n){const r=ge(t);let s=r.Tc[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Rg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||W7(t,r)})}function W7(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(O7(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),u_(t))}function Yw(t,e,n){for(const r of n)r instanceof U7?(t.Ic.addReference(r.key,e),iD(t,r)):r instanceof V7?(re("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||W7(t,r.key)):fe()}function iD(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(re("SyncEngine","New document in limbo: "+n),t.mc.add(r),u_(t))}function u_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new oe(Me.fromString(e)),r=t.Ac.next();t.yc.set(r,new QO(n)),t.gc=t.gc.insert(n,r),R7(t.remoteStore,new zs(hs(Hf(n.path)),r,"TargetPurposeLimboResolution",By.ct))}}async function fu(t,e,n){const r=ge(t),s=[],o=[],i=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{i.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=e_.Li(l.targetId,u);o.push(d)}}))}),await Promise.all(i),r.dc.nu(s),await async function(a,l){const u=ge(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>W.forEach(l,h=>W.forEach(h.Fi,m=>u.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>W.forEach(h.Bi,m=>u.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!cu(d))throw d;re("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const m=u.Ji.get(h),p=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(h,_)}}}(r.localStore,o))}async function aD(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await j7(n.localStore,e);n.currentUser=e,function(s,o){s.Ec.forEach(i=>{i.forEach(a=>{a.reject(new J(U.CANCELLED,o))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fu(n,r.er)}}function lD(t,e){const n=ge(t),r=n.yc.get(e);if(r&&r.fc)return xe().add(r.key);{let s=xe();const o=n._c.get(e);if(!o)return s;for(const i of o){const a=n.wc.get(i);s=s.unionWith(a.view.nc)}return s}}function cD(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=z7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rD.bind(null,e),e.dc.nu=GO.bind(null,e.eventManager),e.dc.Pc=KO.bind(null,e.eventManager),e}function uD(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oD.bind(null,e),e}class Qw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _O(this.persistence,new gO,e.initialUser,this.serializer)}createPersistence(e){return new mO(Jy.zs,this.serializer)}createSharedClientState(e){return new SO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Zw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aD.bind(null,this.syncEngine),await HO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new WO}createDatastore(e){const n=Xf(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new NO(s));var s;return function(o,i,a,l){return new PO(o,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,o=a=>Zw(this.syncEngine,a,0),i=Ww.D()?new Ww:new EO,new RO(n,r,s,o,i);var n,r,s,o,i}createSyncEngine(e,n){return function(r,s,o,i,a,l,u){const d=new XO(r,s,o,i,a,l);return u&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ge(e);re("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await hu(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vt.UNAUTHENTICATED,this.clientId=Y9.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=o_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ip(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await j7(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Xw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mD(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Gw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>Gw(e.remoteStore,o)),t._onlineComponents=e}function fD(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function mD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ip(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!fD(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await Ip(t,new Qw)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Ip(t,new Qw);return t._offlineComponents}async function G7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await Xw(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await Xw(t,new dD))),t._onlineComponents}function pD(t){return G7(t).then(e=>e.syncEngine)}async function Eh(t){const e=await G7(t),n=e.eventManager;return n.onListen=JO.bind(null,e.syncEngine),n.onUnlisten=tD.bind(null,e.syncEngine),n}function gD(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const u=new d_({next:h=>{o.enqueueAndForget(()=>a_(s,d));const m=h.docs.has(i);!m&&h.fromCache?l.reject(new J(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&a&&a.source==="server"?l.reject(new J(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new c_(Hf(i.path),u,{includeMetadataChanges:!0,Ku:!0});return i_(s,d)}(await Eh(t),t.asyncQueue,e,n,r)),r.promise}function yD(t,e,n={}){const r=new es;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const u=new d_({next:h=>{o.enqueueAndForget(()=>a_(s,d)),h.fromCache&&a.source==="server"?l.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new c_(i,u,{includeMetadataChanges:!0,Ku:!0});return i_(s,d)}(await Eh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _D(t,e,n,r){if(e===!0&&r===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ex(t){if(!oe.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tx(t){if(oe.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function tm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tm(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=K7((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class nm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nx({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nx(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new VL;switch(n.type){case"firstParty":return new WL(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Jw.get(e);n&&(re("ComponentProvider","Removing Datastore"),Jw.delete(e),n.terminate())}(this),Promise.resolve()}}function vD(t,e,n,r={}){var s;const o=(t=Cn(t,nm))._getSettings(),i=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==i&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Vt.MOCK_USER;else{a=l4(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Vt(u)}t._authCredentials=new zL(new Z9(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}}class wo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class eo extends wo{constructor(e,n,r){super(e,n,Hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new oe(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function Qt(t,e,...n){if(t=Pe(t),Z7("collection","path",e),t instanceof nm){const r=Me.fromString(e,...n);return tx(r),new eo(t,null,r)}{if(!(t instanceof Yt||t instanceof eo))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return tx(r),new eo(t.firestore,null,r)}}function G(t,e,...n){if(t=Pe(t),arguments.length===1&&(e=Y9.A()),Z7("doc","path",e),t instanceof nm){const r=Me.fromString(e,...n);return ex(r),new Yt(t,null,new oe(r))}{if(!(t instanceof Yt||t instanceof eo))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return ex(r),new Yt(t.firestore,t instanceof eo?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new P7(this,"async_queue_retry"),this.Xc=()=>{const n=Tp();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new es;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!cu(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(o){let i=o.message||"";return o.stack&&(i=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),i}(r);throw ds("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=s_.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(s),s}Zc(){this.Wc&&fe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function rx(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}let ms=class extends nm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new wD,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Y7(this),this._firestoreClient.terminate()}};function xD(t,e){const n=typeof t=="object"?t:ly(),r=typeof t=="string"?t:"(default)",s=Cf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=o4("firestore");o&&vD(s,...o)}return s}function rm(t){return t._firestoreClient||Y7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Y7(t){var e,n,r;const s=t._freezeSettings(),o=function(i,a,l,u){return new sR(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,K7(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new hD(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this._byteString=e}static fromBase64String(e){try{return new La(tn.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new La(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=/^__.*__$/;class bD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class Q7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function X7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class om{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Th(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(X7(this.ca)&&CD.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xf(e)}ya(e,n,r,s=!1){return new om({ca:e,methodName:n,ga:r,path:qt.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function im(t){const e=t._freezeSettings(),n=Xf(t._databaseId);return new kD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J7(t,e,n,r,s,o={}){const i=t.ya(o.merge||o.mergeFields?2:0,e,n,s);m_("Data must be an object, but it was:",i,r);const a=tk(r,i);let l,u;if(o.merge)l=new Pn(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const m=Og(e,h,n);if(!i.contains(m))throw new J(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);rk(d,m)||d.push(m)}l=new Pn(d),u=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=i.fieldTransforms;return new bD(new gn(a),l,u)}class am extends vi{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}function ek(t,e,n){return new om({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class f_ extends vi{_toFieldTransform(e){return new Zf(e.path,new Dc)}isEqual(e){return e instanceof f_}}class SD extends vi{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=ek(this,e,!0),r=this.pa.map(o=>wi(o,n)),s=new Na(r);return new Zf(e.path,s)}isEqual(e){return this===e}}class ED extends vi{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=ek(this,e,!0),r=this.pa.map(o=>wi(o,n)),s=new ja(r);return new Zf(e.path,s)}isEqual(e){return this===e}}class TD extends vi{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Mc(e.serializer,m7(e.serializer,this.Ia));return new Zf(e.path,n)}isEqual(e){return this===e}}function ID(t,e,n,r){const s=t.ya(1,e,n);m_("Data must be an object, but it was:",s,r);const o=[],i=gn.empty();yi(r,(l,u)=>{const d=p_(e,l,n);u=Pe(u);const h=s.da(d);if(u instanceof am)o.push(d);else{const m=wi(u,h);m!=null&&(o.push(d),i.set(d,m))}});const a=new Pn(o);return new Q7(i,a,s.fieldTransforms)}function ND(t,e,n,r,s,o){const i=t.ya(1,e,n),a=[Og(e,r,n)],l=[s];if(o.length%2!=0)throw new J(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Og(e,o[m])),l.push(o[m+1]);const u=[],d=gn.empty();for(let m=a.length-1;m>=0;--m)if(!rk(u,a[m])){const p=a[m];let _=l[m];_=Pe(_);const w=i.da(p);if(_ instanceof am)u.push(p);else{const x=wi(_,w);x!=null&&(u.push(p),d.set(p,x))}}const h=new Pn(u);return new Q7(d,h,i.fieldTransforms)}function jD(t,e,n,r=!1){return wi(n,t.ya(r?4:3,e))}function wi(t,e){if(nk(t=Pe(t)))return m_("Unsupported field value:",e,t),tk(t,e);if(t instanceof vi)return function(n,r){if(!X7(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const i of n){let a=wi(i,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Pe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return m7(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=pt.fromDate(n);return{timestampValue:kh(r.serializer,s)}}if(n instanceof pt){const s=new pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kh(r.serializer,s)}}if(n instanceof h_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof La)return{bytesValue:k7(r.serializer,n._byteString)};if(n instanceof Yt){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Qy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${tm(n)}`)}(t,e)}function tk(t,e){const n={};return Q9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yi(t,(r,s)=>{const o=wi(s,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof h_||t instanceof La||t instanceof Yt||t instanceof vi)}function m_(t,e,n){if(!nk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=tm(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Og(t,e,n){if((e=Pe(e))instanceof sm)return e._internalPath;if(typeof e=="string")return p_(t,e);throw Th("Field path arguments must be of type string or ",t,!1,void 0,n)}const AD=new RegExp("[~\\*/\\[\\]]");function p_(t,e,n){if(e.search(AD)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Th(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new J(U.INVALID_ARGUMENT,a+t+l)}function rk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PD extends sk{data(){return super.data()}}function lm(t,e){return typeof e=="string"?p_(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g_{}class ik extends g_{}function ps(t,e,...n){let r=[];e instanceof g_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(a=>a instanceof y_).length,i=s.filter(a=>a instanceof cm).length;if(o>1||o>0&&i>0)throw new J(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class cm extends ik{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cm(e,n,r)}_apply(e){const n=this._parse(e);return ak(e._query,n),new wo(e.firestore,e.converter,Eg(e._query,n))}_parse(e){const n=im(e.firestore);return function(s,o,i,a,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){ox(d,u);const m=[];for(const p of d)m.push(sx(a,s,p));h={arrayValue:{values:m}}}else h=sx(a,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||ox(d,u),h=jD(i,o,d,u==="in"||u==="not-in");return mt.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function LD(t,e,n){const r=e,s=lm("where",t);return cm._create(s,r,n)}class y_ extends g_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new y_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const i=s.getFlattenedFilters();for(const a of i)ak(o,a),o=Eg(o,a)}(e._query,n),new wo(e.firestore,e.converter,Eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class __ extends ik{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new __(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new da(s,o);return function(a,l){if(Wy(a)===null){const u=qf(a);u!==null&&lk(a,u,l.field)}}(r,i),i}(e._query,this._field,this._direction);return new wo(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Ya(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function xi(t,e="asc"){const n=e,r=lm("orderBy",t);return __._create(r,n)}function sx(t,e,n){if(typeof(n=Pe(n))=="string"){if(n==="")throw new J(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i7(e)&&n.indexOf("/")!==-1)throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!oe.isDocumentKey(r))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Tw(t,new oe(r))}if(n instanceof Yt)return Tw(t,n._key);throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tm(n)}.`)}function ox(t,e){if(!Array.isArray(t)||t.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ak(t,e){if(e.isInequality()){const r=qf(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new J(U.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const o=Wy(t);o!==null&&lk(t,s,o)}const n=function(r,s){for(const o of r)for(const i of o.getFlattenedFilters())if(s.indexOf(i.op)>=0)return i.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function lk(t,e,n){if(!n.isEqual(e))throw new J(U.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class RD{convertValue(e,n="none"){switch(ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yi(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new h_(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Vy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Lc(e));default:return null}}convertTimestamp(e){const n=ao(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Fe(N7(r));const s=new Rc(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return s.isEqual(n)||ds(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uk extends sk{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jd extends uk{data(e={}){return super.data(e)}}class dk{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jd(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(i=>{const a=new jd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new jl(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);return i.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(i=>s||i.type!==3).map(i=>{const a=new jd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new jl(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return i.type!==0&&(l=o.indexOf(i.doc.key),o=o.delete(i.doc.key)),i.type!==1&&(o=o.add(i.doc),u=o.indexOf(i.doc.key)),{type:OD(i.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function OD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t){t=Cn(t,Yt);const e=Cn(t.firestore,ms);return gD(rm(e),t._key).then(n=>hk(e,t,n))}class v_ extends RD{constructor(e){super(),this.firestore=e}convertBytes(e){return new La(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function w_(t){t=Cn(t,wo);const e=Cn(t.firestore,ms),n=rm(e),r=new v_(e);return ok(t._query),yD(n,t._query).then(s=>new dk(e,r,t,s))}function We(t,e,n){t=Cn(t,Yt);const r=Cn(t.firestore,ms),s=ck(t.converter,e,n);return dm(r,[J7(im(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Yn.none())])}function bn(t,e,n,...r){t=Cn(t,Yt);const s=Cn(t.firestore,ms),o=im(s);let i;return i=typeof(e=Pe(e))=="string"||e instanceof sm?ND(o,"updateDoc",t._key,e,n,r):ID(o,"updateDoc",t._key,e),dm(s,[i.toMutation(t._key,Yn.exists(!0))])}function Gl(t){return dm(Cn(t.firestore,ms),[new Gy(t._key,Yn.none())])}function um(t,e){const n=Cn(t.firestore,ms),r=G(t),s=ck(t.converter,e);return dm(n,[J7(im(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function mr(t,...e){var n,r,s;t=Pe(t);let o={includeMetadataChanges:!1},i=0;typeof e[i]!="object"||rx(e[i])||(o=e[i],i++);const a={includeMetadataChanges:o.includeMetadataChanges};if(rx(e[i])){const h=e[i];e[i]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[i+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[i+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,u,d;if(t instanceof Yt)u=Cn(t.firestore,ms),d=Hf(t._key.path),l={next:h=>{e[i]&&e[i](hk(u,t,h))},error:e[i+1],complete:e[i+2]};else{const h=Cn(t,wo);u=Cn(h.firestore,ms),d=h._query;const m=new v_(u);l={next:p=>{e[i]&&e[i](new dk(u,m,h,p))},error:e[i+1],complete:e[i+2]},ok(t._query)}return function(h,m,p,_){const w=new d_(_),x=new c_(m,w,p);return h.asyncQueue.enqueueAndForget(async()=>i_(await Eh(h),x)),()=>{w.Dc(),h.asyncQueue.enqueueAndForget(async()=>a_(await Eh(h),x))}}(rm(u),d,a,l)}function dm(t,e){return function(n,r){const s=new es;return n.asyncQueue.enqueueAndForget(async()=>nD(await pD(n),r,s)),s.promise}(rm(t),e)}function hk(t,e,n){const r=n.docs.get(e._key),s=new v_(t);return new uk(t,s,e._key,r,new jl(n.hasPendingWrites,n.fromCache),e.converter)}function DD(){return new f_("serverTimestamp")}function ar(...t){return new SD("arrayUnion",t)}function MD(...t){return new ED("arrayRemove",t)}function $D(t){return new TD("increment",t)}(function(t,e=!0){(function(n){Za=n})(mi),ti(new oo("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),i=new ms(new HL(n.getProvider("auth-internal")),new KL(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(a.options.projectId,l)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),i._setSettings(s),i},"PUBLIC").setMultipleInstances(!0)),Lr(Cw,"3.13.0",t),Lr(Cw,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk="firebasestorage.googleapis.com",mk="storageBucket",FD=2*60*1e3,BD=10*60*1e3,UD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends Br{constructor(e,n,r=0){super(Np(e),`Firebase Storage: ${n} (${Np(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Np(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Be;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Be||(Be={}));function Np(t){return"storage/"+t}function x_(){const t="An unknown error occurred, please check the error payload for server response.";return new tt(Be.UNKNOWN,t)}function VD(t){return new tt(Be.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function zD(t){return new tt(Be.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(Be.UNAUTHENTICATED,t)}function qD(){return new tt(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function WD(t){return new tt(Be.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function pk(){return new tt(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gk(){return new tt(Be.CANCELED,"User canceled the upload/download.")}function GD(t){return new tt(Be.INVALID_URL,"Invalid URL '"+t+"'.")}function KD(t){return new tt(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ZD(){return new tt(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mk+"' property when initializing the app?")}function yk(){return new tt(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function YD(){return new tt(Be.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function QD(){return new tt(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function XD(t){return new tt(Be.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dg(t){return new tt(Be.INVALID_ARGUMENT,t)}function _k(){return new tt(Be.APP_DELETED,"The Firebase app was deleted.")}function JD(t){return new tt(Be.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kl(t,e){return new tt(Be.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function dl(t){throw new tt(Be.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ln.makeFromUrl(e,n)}catch{return new Ln(e,"")}if(r.path==="")return r;throw KD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+s+i,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${m}`,"i"),_={bucket:1,path:3},w=n===fk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",v=new RegExp(`^https?://${w}/${s}/${x}`,"i"),y=[{regex:a,indices:l,postModify:o},{regex:p,indices:_,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<y.length;C++){const b=y[C],k=b.regex.exec(e);if(k){const T=k[b.indices.bucket];let S=k[b.indices.path];S||(S=""),r=new Ln(T,S),b.postModify(r);break}}if(r==null)throw GD(e);return r}}class eM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e,n){let r=1,s=null,o=null,i=!1,a=0;function l(){return a===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){s=setTimeout(()=>{s=null,t(p,l())},x)}function m(){o&&clearTimeout(o)}function p(x,...v){if(u){m();return}if(x){m(),d.call(null,x,...v);return}if(l()||i){m(),d.call(null,x,...v);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let _=!1;function w(x){_||(_=!0,m(),!u&&(s!==null?(x||(a=2),clearTimeout(s),h(0)):x||(a=1)))}return h(0),o=setTimeout(()=>{i=!0,w(!0)},n),w}function nM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(t){return t!==void 0}function sM(t){return typeof t=="function"}function oM(t){return typeof t=="object"&&!Array.isArray(t)}function hm(t){return typeof t=="string"||t instanceof String}function ix(t){return C_()&&t instanceof Blob}function C_(){return typeof Blob<"u"&&!iN()}function ax(t,e,n,r){if(r<e)throw Dg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Dg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function vk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Go||(Go={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e,n,r,s,o,i,a,l,u,d,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Xu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const a=o.getErrorCode()===Go.NO_ERROR,l=o.getStatus();if(!a||wk(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Go.ABORT;r(!1,new Xu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Xu(u,o))})},n=(r,s)=>{const o=this.resolve_,i=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());rM(l)?o(l):o()}catch(l){i(l)}else if(a!==null){const l=x_();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(s.canceled){const l=this.appDelete_?_k():gk();i(l)}else{const l=pk();i(l)}};this.canceled_?n(!1,new Xu(!1,null,!0)):this.backoffId_=tM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Xu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function aM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function lM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function uM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function dM(t,e,n,r,s,o,i=!0){const a=vk(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return cM(u,e),aM(u,n),lM(u,o),uM(u,r),new iM(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fM(...t){const e=hM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(C_())return new Blob(t);throw new tt(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){if(typeof atob>"u")throw XD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jp{constructor(e,n){this.data=e,this.contentType=n||null}}function gM(t,e){switch(t){case jr.RAW:return new jp(xk(e));case jr.BASE64:case jr.BASE64URL:return new jp(Ck(t,e));case jr.DATA_URL:return new jp(_M(e),vM(e))}throw x_()}function xk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,i=t.charCodeAt(++n);r=65536|(o&1023)<<10|i&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function yM(t){let e;try{e=decodeURIComponent(t)}catch{throw Kl(jr.DATA_URL,"Malformed data URL.")}return xk(e)}function Ck(t,e){switch(t){case jr.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Kl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case jr.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Kl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pM(e)}catch(s){throw s.message.includes("polyfill")?s:Kl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class bk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Kl(jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=wM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _M(t){const e=new bk(t);return e.base64?Ck(jr.BASE64,e.rest):yM(e.rest)}function vM(t){return new bk(t).contentType}function wM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){let r=0,s="";ix(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(ix(this.data_)){const r=this.data_,s=mM(r,e,n);return s===null?null:new qr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new qr(r,!0)}}static getBlob(...e){if(C_()){const n=e.map(r=>r instanceof qr?r.data_:r);return new qr(fM.apply(null,n))}else{const n=e.map(i=>hm(i)?gM(jr.RAW,i).data:i.data_);let r=0;n.forEach(i=>{r+=i.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(i=>{for(let a=0;a<i.length;a++)s[o++]=i[a]}),new qr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){let e;try{e=JSON.parse(t)}catch{return null}return oM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function CM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Sk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t,e){return e}class nn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||bM}}let Ju=null;function kM(t){return!hm(t)||t.length<2?t:Sk(t)}function fm(){if(Ju)return Ju;const t=[];t.push(new nn("bucket")),t.push(new nn("generation")),t.push(new nn("metageneration")),t.push(new nn("name","fullPath",!0));function e(o,i){return kM(i)}const n=new nn("name");n.xform=e,t.push(n);function r(o,i){return i!==void 0?Number(i):i}const s=new nn("size");return s.xform=r,t.push(s),t.push(new nn("timeCreated")),t.push(new nn("updated")),t.push(new nn("md5Hash",null,!0)),t.push(new nn("cacheControl",null,!0)),t.push(new nn("contentDisposition",null,!0)),t.push(new nn("contentEncoding",null,!0)),t.push(new nn("contentLanguage",null,!0)),t.push(new nn("contentType",null,!0)),t.push(new nn("metadata","customMetadata",!0)),Ju=t,Ju}function SM(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Ln(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function EM(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const i=n[o];r[i.local]=i.xform(r,e[i.server])}return SM(r,t),r}function Ek(t,e,n){const r=kk(e);return r===null?null:EM(t,r,n)}function TM(t,e,n,r){const s=kk(e);if(s===null||!hm(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const i=encodeURIComponent;return o.split(",").map(u=>{const d=t.bucket,h=t.fullPath,m="/b/"+i(d)+"/o/"+i(h),p=Ja(m,n,r),_=vk({alt:"media",token:u});return p+_})[0]}function Tk(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Ci{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t){if(!t)throw x_()}function b_(t,e){function n(r,s){const o=Ek(t,s,e);return ts(o!==null),o}return n}function IM(t,e){function n(r,s){const o=Ek(t,s,e);return ts(o!==null),TM(o,s,t.host,t._protocol)}return n}function mu(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=qD():s=HD():n.getStatus()===402?s=zD(t.bucket):n.getStatus()===403?s=WD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function k_(t){const e=mu(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=VD(t.path)),o.serverResponse=s.serverResponse,o}return n}function Ik(t,e,n){const r=e.fullServerUrl(),s=Ja(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new Ci(s,o,b_(t,n),i);return a.errorHandler=k_(e),a}function NM(t,e,n){const r=e.fullServerUrl(),s=Ja(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new Ci(s,o,IM(t,n),i);return a.errorHandler=k_(e),a}function jM(t,e){const n=e.fullServerUrl(),r=Ja(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function i(l,u){}const a=new Ci(r,s,i,o);return a.successCodes=[200,204],a.errorHandler=k_(e),a}function AM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Nk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=AM(null,e)),r}function jk(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let C=0;C<2;C++)y=y+Math.random().toString().slice(2);return y}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const u=Nk(e,r,s),d=Tk(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",p=qr.getBlob(h,r,m);if(p===null)throw yk();const _={name:u.fullPath},w=Ja(o,t.host,t._protocol),x="POST",v=t.maxUploadRetryTime,g=new Ci(w,x,b_(t,n),v);return g.urlParams=_,g.headers=i,g.body=p.uploadData(),g.errorHandler=mu(e),g}class Ih{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function S_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ts(!1)}return ts(!!n&&(e||["active"]).indexOf(n)!==-1),n}function PM(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i=Nk(e,r,s),a={name:i.fullPath},l=Ja(o,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},h=Tk(i,n),m=t.maxUploadRetryTime;function p(w){S_(w);let x;try{x=w.getResponseHeader("X-Goog-Upload-URL")}catch{ts(!1)}return ts(hm(x)),x}const _=new Ci(l,u,p,m);return _.urlParams=a,_.headers=d,_.body=h,_.errorHandler=mu(e),_}function LM(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function o(u){const d=S_(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ts(!1)}h||ts(!1);const m=Number(h);return ts(!isNaN(m)),new Ih(m,r.size(),d==="final")}const i="POST",a=t.maxUploadRetryTime,l=new Ci(n,i,o,a);return l.headers=s,l.errorHandler=mu(e),l}const lx=256*1024;function RM(t,e,n,r,s,o,i,a){const l=new Ih(0,0);if(i?(l.current=i.current,l.total=i.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw YD();const u=l.total-l.current;let d=u;s>0&&(d=Math.min(d,s));const h=l.current,m=h+d;let p="";d===0?p="finalize":u===d?p="upload, finalize":p="upload";const _={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,m);if(w===null)throw yk();function x(C,b){const k=S_(C,["active","final"]),T=l.current+d,S=r.size();let E;return k==="final"?E=b_(e,o)(C,b):E=null,new Ih(T,S,k==="final",E)}const v="POST",g=e.maxUploadRetryTime,y=new Ci(n,v,x,g);return y.headers=_,y.body=w.uploadData(),y.progressCallback=a||null,y.errorHandler=mu(t),y}const mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ap(t){switch(t){case"running":case"pausing":case"canceling":return mn.RUNNING;case"paused":return mn.PAUSED;case"success":return mn.SUCCESS;case"canceled":return mn.CANCELED;case"error":return mn.ERROR;default:return mn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,n,r){if(sM(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class DM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Go.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Go.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Go.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw dl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw dl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw dl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw dl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw dl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class MM extends DM{initXhr(){this.xhr_.responseType="text"}}function Wr(){return new MM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=fm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Be.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(wk(s.status,[]))if(o)s=pk();else{this.sleepTime=Math.max(this.sleepTime*2,UD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Be.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=PM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Wr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=LM(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(s,Wr,n,r);this._request=o,o.getPromise().then(i=>{i=i,this._request=void 0,this._updateProgress(i.current),this._needToFetchStatus=!1,i.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=lx*this._chunkMultiplier,n=new Ih(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,o)=>{let i;try{i=RM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(i,Wr,s,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){lx*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Ik(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Wr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=jk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Wr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=gk(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ap(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const o=new OM(n||void 0,r||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ap(this._state)){case mn.SUCCESS:Ii(this._resolve.bind(null,this.snapshot))();break;case mn.CANCELED:case mn.ERROR:const n=this._reject;Ii(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ap(this._state)){case mn.RUNNING:case mn.PAUSED:e.next&&Ii(e.next.bind(e,this.snapshot))();break;case mn.SUCCESS:e.complete&&Ii(e.complete.bind(e))();break;case mn.CANCELED:case mn.ERROR:e.error&&Ii(e.error.bind(e,this._error))();break;default:e.error&&Ii(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){this._service=e,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ai(e,n)}get root(){const e=new Ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Sk(this._location.path)}get storage(){return this._service}get parent(){const e=xM(this._location.path);if(e===null)return null;const n=new Ln(this._location.bucket,e);return new ai(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw JD(e)}}function FM(t,e,n){t._throwIfRoot("uploadBytes");const r=jk(t.storage,t._location,fm(),new qr(e,!0),n);return t.storage.makeRequestWithTokens(r,Wr).then(s=>({metadata:s,ref:t}))}function BM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new $M(t,new qr(e),n)}function UM(t){t._throwIfRoot("getMetadata");const e=Ik(t.storage,t._location,fm());return t.storage.makeRequestWithTokens(e,Wr)}function VM(t){t._throwIfRoot("getDownloadURL");const e=NM(t.storage,t._location,fm());return t.storage.makeRequestWithTokens(e,Wr).then(n=>{if(n===null)throw QD();return n})}function zM(t){t._throwIfRoot("deleteObject");const e=jM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Wr)}function HM(t,e){const n=CM(t._location.path,e),r=new Ln(t._location.bucket,n);return new ai(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qM(t){return/^[A-Za-z]+:\/\//.test(t)}function WM(t,e){return new ai(t,e)}function Ak(t,e){if(t instanceof E_){const n=t;if(n._bucket==null)throw ZD();const r=new ai(n,n._bucket);return e!=null?Ak(r,e):r}else return e!==void 0?HM(t,e):t}function GM(t,e){if(e&&qM(e)){if(t instanceof E_)return WM(t,e);throw Dg("To use ref(service, url), the first argument must be a Storage instance.")}else return Ak(t,e)}function cx(t,e){const n=e==null?void 0:e[mk];return n==null?null:Ln.makeFromBucketSpec(n,t)}function KM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:l4(s,t.app.options.projectId))}class E_{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=fk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FD,this._maxUploadRetryTime=BD,this._requests=new Set,s!=null?this._bucket=Ln.makeFromBucketSpec(s,this._host):this._bucket=cx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,e):this._bucket=cx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ax("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ax("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ai(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new eM(_k());{const i=dM(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const ux="@firebase/storage",dx="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk="storage";function pr(t,e,n){return t=Pe(t),FM(t,e,n)}function ZM(t,e,n){return t=Pe(t),BM(t,e,n)}function YM(t){return t=Pe(t),UM(t)}function $n(t){return t=Pe(t),VM(t)}function QM(t){return t=Pe(t),zM(t)}function Sn(t,e){return t=Pe(t),GM(t,e)}function XM(t=ly(),e){t=Pe(t);const r=Cf(t,Pk).getImmediate({identifier:e}),s=o4("storage");return s&&JM(r,...s),r}function JM(t,e,n,r={}){KM(t,e,n,r)}function e$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new E_(n,r,s,e,mi)}function t$(){ti(new oo(Pk,e$,"PUBLIC").setMultipleInstances(!0)),Lr(ux,dx,""),Lr(ux,dx,"esm2017")}t$();const n$={apiKey:"AIzaSyBBlQca3oj1efZEEjTu1XSmMHRcbGX_Hj8",authDomain:"genery-c83e3.firebaseapp.com",projectId:"genery-c83e3",storageBucket:"genery-c83e3.appspot.com",messagingSenderId:"179227356988",appId:"1:179227356988:web:31e0070216dbb4bf673839"},T_=d4(n$),Lk=LP(T_),V=xD(T_),En=XM(T_),Rk=f.createContext(),r$=({children:t})=>{const[e,n]=f.useState(null),[r,s]=f.useState(""),o=Lk;f.useEffect(()=>{const a=wA(o,l=>{l?(async()=>{const d=G(V,"users",l.uid,"info","preferences"),h=await se(d);if(h.exists()){const m=h.data();console.log(m),n({_id:l.uid,avatar:m.photo,name:m.name,cover:m.cover,mainGroup:m.mainGroup,email:l.email})}else console.log("No such document!")})():n(null)});return()=>{a()}},[]);const i=f.useMemo(()=>({authUser:e,setAuthUser:n,ga:o}),[e]);return c.jsx(Rk.Provider,{value:i,children:t})},ce=()=>f.useContext(Rk);function s$(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),{authUser:s}=ce();let o;const i=le();return f.useEffect(()=>{s?o="/menu":o="/about";const a=setTimeout(()=>{i(o)},3e3);return()=>clearTimeout(a)},[i]),c.jsx("div",{className:GI.container,children:c.jsx(e4,{color:t.icon_color})})}const hl={"input-container":"_input-container_oontd_1","input-inside":"_input-inside_oontd_10","show-button":"_show-button_oontd_26"};function Mr({type:t,placeholder:e,onInputChange:n,backgroundColor:r,textColor:s}){const{theme:o,elementColors:i,setElementColors:a}=f.useContext(B),[l,u]=f.useState(!1),[d,h]=f.useState(!1),[m,p]=f.useState(!1),_=()=>{u(!l)},w=[c.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M15 10.4C13.9874 10.4 13.0162 10.7793 12.3001 11.4544C11.5841 12.1295 11.1818 13.0452 11.1818 14C11.1818 14.9548 11.5841 15.8705 12.3001 16.5456C13.0162 17.2207 13.9874 17.6 15 17.6C16.0126 17.6 16.9838 17.2207 17.6999 16.5456C18.4159 15.8705 18.8182 14.9548 18.8182 14C18.8182 13.0452 18.4159 12.1295 17.6999 11.4544C16.9838 10.7793 16.0126 10.4 15 10.4ZM15 20C13.3123 20 11.6936 19.3679 10.5002 18.2426C9.30682 17.1174 8.63636 15.5913 8.63636 14C8.63636 12.4087 9.30682 10.8826 10.5002 9.75736C11.6936 8.63214 13.3123 8 15 8C16.6877 8 18.3064 8.63214 19.4998 9.75736C20.6932 10.8826 21.3636 12.4087 21.3636 14C21.3636 15.5913 20.6932 17.1174 19.4998 18.2426C18.3064 19.3679 16.6877 20 15 20ZM15 5C8.63636 5 3.20182 8.732 1 14C3.20182 19.268 8.63636 23 15 23C21.3636 23 26.7982 19.268 29 14C26.7982 8.732 21.3636 5 15 5Z",fill:o.text_first_color})})],x=[c.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7836 10.2632L18.8182 14.0884V13.8947C18.8182 12.9316 18.4159 12.0079 17.6999 11.3268C16.9838 10.6458 16.0126 10.2632 15 10.2632H14.7836ZM9.31091 11.2316L11.2836 13.1079C11.22 13.3621 11.1818 13.6163 11.1818 13.8947C11.1818 14.8579 11.5841 15.7816 12.3001 16.4627C13.0162 17.1437 13.9874 17.5263 15 17.5263C15.28 17.5263 15.56 17.49 15.8273 17.4295L17.8 19.3058C16.9473 19.7053 16.0055 19.9474 15 19.9474C13.3123 19.9474 11.6936 19.3097 10.5002 18.1746C9.30682 17.0395 8.63636 15.5 8.63636 13.8947C8.63636 12.9384 8.89091 12.0426 9.31091 11.2316ZM2.27273 4.53737L5.17455 7.29737L5.74727 7.84211C3.64727 9.41579 1.99273 11.4737 1 13.8947C3.20182 19.2089 8.63636 22.9737 15 22.9737C16.9727 22.9737 18.8564 22.6105 20.5745 21.9568L21.1218 22.4653L24.8382 26L26.4545 24.4626L3.88909 3M15 7.84211C16.6877 7.84211 18.3064 8.47979 19.4998 9.61488C20.6932 10.75 21.3636 12.2895 21.3636 13.8947C21.3636 14.6695 21.1982 15.42 20.9055 16.0979L24.6345 19.6447C26.5436 18.1316 28.0709 16.1463 29 13.8947C26.7982 8.58053 21.3636 4.81579 15 4.81579C13.2182 4.81579 11.5127 5.11842 9.90909 5.66316L12.6709 8.26579C13.3964 7.99947 14.1727 7.84211 15 7.84211Z",fill:o.text_first_color})})];let v=[c.jsx("div",{className:hl["input-container"],children:c.jsx("input",{className:hl["input-inside"],type:t,placeholder:e,onChange:n,style:{backgroundColor:r,color:s,caretColor:o.first_color,borderColor:o.first_color,outline:"none"},onFocus:()=>p(!0),onBlur:()=>p(!1)})})];return t==="password"&&(v=[c.jsxs("div",{className:hl["input-container"],children:[c.jsx("input",{className:hl["input-inside"],type:l?"text":"password",placeholder:e,onChange:n,style:{backgroundColor:r,color:s,caretColor:o.first_color,borderColor:o.first_color,outline:"none"},onFocus:()=>p(!0),onBlur:()=>p(!1)}),c.jsx("button",{className:hl["show-button"],onClick:_,children:l?x:w},"")]})]),v}const o$="_container_bxems_1",i$="_greeting_bxems_22",a$="_error_bxems_54",vr={container:o$,"auth-form":"_auth-form_bxems_12",greeting:i$,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:a$,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"},hx=[{src:"avatars/1.png"},{src:"avatars/2.png"},{src:"avatars/3.png"},{src:"avatars/4.png"},{src:"avatars/5.png"},{src:"avatars/6.png"},{src:"avatars/7.png"},{src:"avatars/8.png"},{src:"avatars/9.png"},{src:"avatars/10.png"},{src:"avatars/11.png"},{src:"avatars/12.png"},{src:"avatars/13.png"},{src:"avatars/14.png"},{src:"avatars/15.png"},{src:"avatars/16.png"},{src:"avatars/17.png"},{src:"avatars/18.png"},{src:"avatars/19.png"},{src:"avatars/20.png"}];function l$(){const t=()=>{const g=Math.floor(Math.random()*hx.length);return hx[g].src},{theme:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState(),[o,i]=f.useState(),[a,l]=f.useState(),[u,d]=f.useState(),{authUser:h,setAuthUser:m,ga:p}=ce(),[_,w]=f.useState(t()),x=le();f.useEffect(()=>{n({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!1,arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!1,footerBackground:e.background_color,activeElementIndex:3,background:e.background_color}),document.body.style.background=e.background_color},[e]);function v(g){if(g.preventDefault(),!r&&!o&&!a){d("введите email и пароль");return}else if(r)if(a){if(!o){d("введите пароль");return}}else{d("введите имя");return}else{d("введите email");return}(async()=>{try{const b=(await gA(p,r,o)).user;console.log(b);const k=G(V,"users",b.uid,"info","preferences");await We(k,{uid:b.uid,name:a,photo:_,cover:"blue",biography:"",boughtThemes:["default"],boughtColors:["default"],boughtEmojies:[],censorState:!0,balance:1e3,followers:[]},{merge:!0}),console.log("Profile updated successfully"),localStorage.setItem("censor",!0),localStorage.setItem("theme","default"),s(""),i(""),l("")}catch(C){d(C.message),console.error("Error creating user or updating profile: ",C)}})()}return f.useEffect(()=>{h&&x("/menu")},[h]),c.jsx("div",{className:vr.container,children:c.jsxs("form",{className:vr["auth-form"],children:[c.jsxs("div",{className:vr.greeting,children:[c.jsx("h2",{className:vr["greeting-title"],style:{color:e.text_first_color},children:"Давай знакомиться"}),c.jsx("h3",{className:vr["greeting-text"],style:{color:e.text_first_color},children:"Выбери желаемое имя и пароль"})]}),c.jsxs("div",{className:vr["input-container"],children:[c.jsx("div",{className:vr.error,style:{color:e.gradient_first_color},children:u}),c.jsx(Mr,{type:"email",placeholder:"Введите email",onInputChange:g=>s(g.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),c.jsx(Mr,{type:"text",placeholder:"Введите имя",onInputChange:g=>l(g.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),c.jsx(Mr,{type:"password",placeholder:"Введите пароль",onInputChange:g=>i(g.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color})]}),c.jsxs("div",{className:vr["button-container"],children:[c.jsxs("button",{onClick:v,className:vr["continue-button"],style:{background:e.first_color},children:["Регистрация",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:vr["create-account"],style:{color:e.text_first_color},onClick:()=>x("/sign-in"),children:"Уже есть аккаунт? Войти"})]})]})})}const c$="_container_bxems_1",u$="_greeting_bxems_22",d$="_error_bxems_54",tr={container:c$,"auth-form":"_auth-form_bxems_12",greeting:u$,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:d$,"forgot-password":"_forgot-password_bxems_65","button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function Ok(){const{authUser:t,ga:e}=ce(),{theme:n,setElementColors:r}=f.useContext(B),[s,o]=f.useState(""),[i,a]=f.useState(""),[l,u]=f.useState(""),d=le(),h={"auth/invalid-login-credentials":"Неверный email или пароль"};f.useEffect(()=>{r({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!1,arrowColor:n.text_first_color,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!1,footerBackground:n.background_color,activeElementIndex:3,background:n.background_color}),document.body.style.background=n.background_color},[n]);function m(p){p.preventDefault(),!s&&!i?u("введите email и пароль"):s?i||u("введите пароль"):u("введите email"),yA(e,s,i).then(()=>{const _=userCredential.user;console.log(_),o(""),a("")}).then(()=>{console.log("Profile updated successfully")}).catch(_=>{const w=h[_.code]||"Произошла ошибка";u(w)})}return f.useEffect(()=>{t&&d("/menu")},[t]),c.jsx("div",{className:tr.container,children:c.jsxs("form",{className:tr["auth-form"],children:[c.jsxs("div",{className:tr.greeting,children:[c.jsx("h2",{className:tr["greeting-title"],style:{color:n.text_first_color},children:"Представьтесь"}),c.jsx("h3",{className:tr["greeting-text"],style:{color:n.text_first_color},children:"Работа не волк, подождет, а мы нет"})]}),c.jsxs("div",{className:tr["input-container"],children:[c.jsx("div",{className:tr.error,style:{color:n.gradient_first_color},children:l}),c.jsx(Mr,{type:"email",placeholder:"Введите email",onInputChange:p=>o(p.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),c.jsx(Mr,{type:"password",placeholder:"Введите пароль",onInputChange:p=>a(p.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),c.jsx("button",{className:tr["forgot-password"],style:{color:n.text_first_color},onClick:()=>d("/resetpassword"),children:"Забыли пароль?"})]}),c.jsxs("div",{className:tr["button-container"],children:[c.jsxs("button",{onClick:m,className:tr["continue-button"],style:{background:n.first_color},children:["Войти",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:tr["create-account"],style:{color:n.text_first_color},onClick:()=>d("/sign-up"),children:"Нет аккаунта? Регистрация"})]})]})})}var Dk={},Mk={},mm={},$k={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})($k);var h$="Expected a function",fx=NaN,f$="[object Symbol]",m$=/^\s+|\s+$/g,p$=/^[-+]0x[0-9a-f]+$/i,g$=/^0b[01]+$/i,y$=/^0o[0-7]+$/i,_$=parseInt,v$=typeof qe=="object"&&qe&&qe.Object===Object&&qe,w$=typeof self=="object"&&self&&self.Object===Object&&self,x$=v$||w$||Function("return this")(),C$=Object.prototype,b$=C$.toString,k$=Math.max,S$=Math.min,Pp=function(){return x$.Date.now()};function E$(t,e,n){var r,s,o,i,a,l,u=0,d=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(h$);e=mx(e)||0,Mg(n)&&(d=!!n.leading,h="maxWait"in n,o=h?k$(mx(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m);function p(k){var T=r,S=s;return r=s=void 0,u=k,i=t.apply(S,T),i}function _(k){return u=k,a=setTimeout(v,e),d?p(k):i}function w(k){var T=k-l,S=k-u,E=e-T;return h?S$(E,o-S):E}function x(k){var T=k-l,S=k-u;return l===void 0||T>=e||T<0||h&&S>=o}function v(){var k=Pp();if(x(k))return g(k);a=setTimeout(v,w(k))}function g(k){return a=void 0,m&&r?p(k):(r=s=void 0,i)}function y(){a!==void 0&&clearTimeout(a),u=0,r=l=s=a=void 0}function C(){return a===void 0?i:g(Pp())}function b(){var k=Pp(),T=x(k);if(r=arguments,s=this,l=k,T){if(a===void 0)return _(l);if(h)return a=setTimeout(v,e),p(l)}return a===void 0&&(a=setTimeout(v,e)),i}return b.cancel=y,b.flush=C,b}function Mg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function T$(t){return!!t&&typeof t=="object"}function I$(t){return typeof t=="symbol"||T$(t)&&b$.call(t)==f$}function mx(t){if(typeof t=="number")return t;if(I$(t))return fx;if(Mg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Mg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(m$,"");var n=g$.test(t);return n||y$.test(t)?_$(t.slice(2),n?2:8):p$.test(t)?fx:+t}var N$=E$,Fk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)e.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Fk);var pm=Fk.exports,Z={},I_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(f);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(I_);Object.defineProperty(Z,"__esModule",{value:!0});Z.checkSpecKeys=Z.checkNavigable=Z.changeSlide=Z.canUseDOM=Z.canGoNext=void 0;Z.clamp=Uk;Z.extractObject=void 0;Z.filterSettings=H$;Z.validSettings=Z.swipeStart=Z.swipeMove=Z.swipeEnd=Z.slidesOnRight=Z.slidesOnLeft=Z.slideHandler=Z.siblingDirection=Z.safePreventDefault=Z.lazyStartIndex=Z.lazySlidesOnRight=Z.lazySlidesOnLeft=Z.lazyEndIndex=Z.keyHandler=Z.initializedState=Z.getWidth=Z.getTrackLeft=Z.getTrackCSS=Z.getTrackAnimateCSS=Z.getTotalSlides=Z.getSwipeDirection=Z.getSlideCount=Z.getRequiredLazySlides=Z.getPreClones=Z.getPostClones=Z.getOnDemandLazySlides=Z.getNavigableIndexes=Z.getHeight=void 0;var j$=Bk(f),A$=Bk(I_);function Bk(t){return t&&t.__esModule?t:{default:t}}function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?px(Object(n),!0).forEach(function(r){P$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):px(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P$(t,e,n){return e=L$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=R$(t,"string");return $c(e)=="symbol"?e:String(e)}function R$(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uk(t,e,n){return Math.max(e,Math.min(t,n))}var ma=Z.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},Vk=Z.getOnDemandLazySlides=function(e){for(var n=[],r=zk(e),s=Hk(e),o=r;o<s;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};Z.getRequiredLazySlides=function(e){for(var n=[],r=zk(e),s=Hk(e),o=r;o<s;o++)n.push(o);return n};var zk=Z.lazyStartIndex=function(e){return e.currentSlide-O$(e)},Hk=Z.lazyEndIndex=function(e){return e.currentSlide+D$(e)},O$=Z.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},D$=Z.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},$g=Z.getWidth=function(e){return e&&e.offsetWidth||0},qk=Z.getHeight=function(e){return e&&e.offsetHeight||0},Wk=Z.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,s,o,i;return r=e.startX-e.curX,s=e.startY-e.curY,o=Math.atan2(s,r),i=Math.round(o*180/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":n===!0?i>=35&&i<=135?"up":"down":"vertical"},Gk=Z.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};Z.extractObject=function(e,n){var r={};return n.forEach(function(s){return r[s]=e[s]}),r};Z.initializedState=function(e){var n=j$.default.Children.count(e.children),r=e.listRef,s=Math.ceil($g(r)),o=e.trackRef&&e.trackRef.node,i=Math.ceil($g(o)),a;if(e.vertical)a=s;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=s/100),a=Math.ceil((s-l)/e.slidesToShow)}var u=r&&qk(r.querySelector('[data-index="0"]')),d=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],p=Vk(ze(ze({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(p);var _={slideCount:n,slideWidth:a,listWidth:s,trackWidth:i,currentSlide:h,slideHeight:u,listHeight:d,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(_.autoplaying="playing"),_};Z.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,s=e.fade,o=e.infinite,i=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,p=e.useCSS,_=e.lazyLoadedList;if(n&&r)return{};var w=i,x,v,g,y={},C={},b=o?i:Uk(i,0,a-1);if(s){if(!o&&(i<0||i>=a))return{};i<0?w=i+a:i>=a&&(w=i-a),l&&_.indexOf(w)<0&&(_=_.concat(w)),y={animating:!0,currentSlide:w,lazyLoadedList:_,targetSlide:w},C={animating:!1,targetSlide:w}}else x=w,w<0?(x=w+a,o?a%h!==0&&(x=a-a%h):x=0):!Gk(e)&&w>u?w=x=u:d&&w>=a?(w=o?a:a-1,x=o?0:a-1):w>=a&&(x=w-a,o?a%h!==0&&(x=0):x=a-m),!o&&w+m>=a&&(x=a-m),v=jh(ze(ze({},e),{},{slideIndex:w})),g=jh(ze(ze({},e),{},{slideIndex:x})),o||(v===g&&(w=x),v=g),l&&(_=_.concat(Vk(ze(ze({},e),{},{currentSlide:w})))),p?(y={animating:!0,currentSlide:x,trackStyle:Kk(ze(ze({},e),{},{left:v})),lazyLoadedList:_,targetSlide:b},C={animating:!1,currentSlide:x,trackStyle:Nh(ze(ze({},e),{},{left:g})),swipeLeft:null,targetSlide:b}):y={currentSlide:x,trackStyle:Nh(ze(ze({},e),{},{left:g})),lazyLoadedList:_,targetSlide:b};return{state:y,nextState:C}};Z.changeSlide=function(e,n){var r,s,o,i,a,l=e.slidesToScroll,u=e.slidesToShow,d=e.slideCount,h=e.currentSlide,m=e.targetSlide,p=e.lazyLoad,_=e.infinite;if(i=d%l!==0,r=i?0:(d-h)%l,n.message==="previous")o=r===0?l:u-r,a=h-o,p&&!_&&(s=h-o,a=s===-1?d-1:s),_||(a=m-l);else if(n.message==="next")o=r===0?l:r,a=h+o,p&&!_&&(a=(h+l)%d+r),_||(a=m+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,_){var w=B$(ze(ze({},e),{},{targetSlide:a}));a>n.currentSlide&&w==="left"?a=a-d:a<n.currentSlide&&w==="right"&&(a=a+d)}}else n.message==="index"&&(a=Number(n.index));return a};Z.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};Z.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&ma(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};Z.swipeMove=function(e,n){var r=n.scrolling,s=n.animating,o=n.vertical,i=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,d=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,p=n.swiped,_=n.swiping,w=n.slideCount,x=n.slidesToScroll,v=n.infinite,g=n.touchObject,y=n.swipeEvent,C=n.listHeight,b=n.listWidth;if(!r){if(s)return ma(e);o&&i&&a&&ma(e);var k,T={},S=jh(n);g.curX=e.touches?e.touches[0].pageX:e.clientX,g.curY=e.touches?e.touches[0].pageY:e.clientY,g.swipeLength=Math.round(Math.sqrt(Math.pow(g.curX-g.startX,2)));var E=Math.round(Math.sqrt(Math.pow(g.curY-g.startY,2)));if(!a&&!_&&E>10)return{scrolling:!0};a&&(g.swipeLength=E);var N=(l?-1:1)*(g.curX>g.startX?1:-1);a&&(N=g.curY>g.startY?1:-1);var A=Math.ceil(w/x),j=Wk(n.touchObject,a),M=g.swipeLength;return v||(u===0&&(j==="right"||j==="down")||u+1>=A&&(j==="left"||j==="up")||!Gk(n)&&(j==="left"||j==="up"))&&(M=g.swipeLength*d,h===!1&&m&&(m(j),T.edgeDragged=!0)),!p&&y&&(y(j),T.swiped=!0),o?k=S+M*(C/b)*N:l?k=S-M*N:k=S+M*N,a&&(k=S+M*N),T=ze(ze({},T),{},{touchObject:g,swipeLeft:k,trackStyle:Nh(ze(ze({},n),{},{left:k}))}),Math.abs(g.curX-g.startX)<Math.abs(g.curY-g.startY)*.8||g.swipeLength>10&&(T.swiping=!0,ma(e)),T}};Z.swipeEnd=function(e,n){var r=n.dragging,s=n.swipe,o=n.touchObject,i=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,d=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,p=n.targetSlide,_=n.currentSlide,w=n.infinite;if(!r)return s&&ma(e),{};var x=l?u/a:i/a,v=Wk(o,l),g={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!o.swipeLength)return g;if(o.swipeLength>x){ma(e),m&&m(v);var y,C,b=w?_:p;switch(v){case"left":case"up":C=b+yx(n),y=d?gx(n,C):C,g.currentDirection=0;break;case"right":case"down":C=b-yx(n),y=d?gx(n,C):C,g.currentDirection=1;break;default:y=b}g.triggerSlideHandler=y}else{var k=jh(n);g.trackStyle=Kk(ze(ze({},n),{},{left:k}))}return g};var M$=Z.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,s=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=s+e.slidesToScroll,s+=Math.min(e.slidesToScroll,e.slidesToShow);return o},gx=Z.checkNavigable=function(e,n){var r=M$(e),s=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=s;break}s=r[o]}return n},yx=Z.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,s=e.listRef,o=s.querySelectorAll&&s.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(e.vertical){if(l.offsetTop+qk(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+$g(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var i=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-i)||1;return a}else return e.slidesToScroll},N_=Z.checkSpecKeys=function(e,n){return n.reduce(function(r,s){return r&&e.hasOwnProperty(s)},!0)?null:console.error("Keys Missing:",e)},Nh=Z.getTrackCSS=function(e){N_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,s=e.slideCount+2*e.slidesToShow;e.vertical?r=s*e.slideHeight:n=F$(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=ze(ze({},o),{},{WebkitTransform:i,transform:a,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},Kk=Z.getTrackAnimateCSS=function(e){N_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Nh(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},jh=Z.getTrackLeft=function(e){if(e.unslick)return 0;N_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,s=e.infinite,o=e.centerMode,i=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,m=e.slideHeight,p=e.fade,_=e.vertical,w=0,x,v,g=0;if(p||e.slideCount===1)return 0;var y=0;if(s?(y=-Ad(e),i%l!==0&&n+l>i&&(y=-(n>i?a-(n-i):i%l)),o&&(y+=parseInt(a/2))):(i%l!==0&&n+l>i&&(y=a-i%l),o&&(y=parseInt(a/2))),w=y*u,g=y*m,_?x=n*m*-1+g:x=n*u*-1+w,h===!0){var C,b=r&&r.node;if(C=n+Ad(e),v=b&&b.childNodes[C],x=v?v.offsetLeft*-1:0,o===!0){C=s?n+Ad(e):n,v=b&&b.children[C],x=0;for(var k=0;k<C;k++)x-=b&&b.children[k]&&b.children[k].offsetWidth;x-=parseInt(e.centerPadding),x+=v&&(d-v.offsetWidth)/2}}return x},Ad=Z.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},$$=Z.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},F$=Z.getTotalSlides=function(e){return e.slideCount===1?1:Ad(e)+e.slideCount+$$(e)},B$=Z.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+U$(e)?"left":"right":e.targetSlide<e.currentSlide-V$(e)?"right":"left"},U$=Z.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,o=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),s&&n%2===0&&(i+=1),i}return s?0:n-1},V$=Z.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,o=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),!s&&n%2===0&&(i+=1),i}return s?n-1:0};Z.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var z$=Z.validSettings=Object.keys(A$.default);function H$(t){return z$.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var gm={};Object.defineProperty(gm,"__esModule",{value:!0});gm.Track=void 0;var js=Zk(f),Lp=Zk(pm),Rp=Z;function Zk(t){return t&&t.__esModule?t:{default:t}}function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}function Fg(){return Fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fg.apply(this,arguments)}function q$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qk(r.key),r)}}function G$(t,e,n){return e&&W$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bg(t,e)}function Bg(t,e){return Bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Bg(t,e)}function Z$(t){var e=Yk();return function(){var r=Ah(t),s;if(e){var o=Ah(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Y$(this,s)}}function Y$(t,e){if(e&&(Ra(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ug(t)}function Ug(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yk=function(){return!!t})()}function Ah(t){return Ah=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ah(t)}function _x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_x(Object(n),!0).forEach(function(r){Vg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vg(t,e,n){return e=Qk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qk(t){var e=Q$(t,"string");return Ra(e)=="symbol"?e:String(e)}function Q$(t,e){if(Ra(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ra(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Op=function(e){var n,r,s,o,i;e.rtl?i=e.slideCount-1-e.index:i=e.index,s=i<0||i>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(i-e.currentSlide)%e.slideCount===0,i>e.currentSlide-o-1&&i<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=i&&i<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=i===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":s,"slick-current":l}},X$=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Dp=function(e,n){return e.key||n},J$=function(e){var n,r=[],s=[],o=[],i=js.default.Children.count(e.children),a=(0,Rp.lazyStartIndex)(e),l=(0,Rp.lazyEndIndex)(e);return js.default.Children.forEach(e.children,function(u,d){var h,m={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=u:h=js.default.createElement("div",null);var p=X$(hn(hn({},e),{},{index:d})),_=h.props.className||"",w=Op(hn(hn({},e),{},{index:d}));if(r.push(js.default.cloneElement(h,{key:"original"+Dp(h,d),"data-index":d,className:(0,Lp.default)(w,_),tabIndex:"-1","aria-hidden":!w["slick-active"],style:hn(hn({outline:"none"},h.props.style||{}),p),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&e.fade===!1){var x=i-d;x<=(0,Rp.getPreClones)(e)&&(n=-x,n>=a&&(h=u),w=Op(hn(hn({},e),{},{index:n})),s.push(js.default.cloneElement(h,{key:"precloned"+Dp(h,n),"data-index":n,tabIndex:"-1",className:(0,Lp.default)(w,_),"aria-hidden":!w["slick-active"],style:hn(hn({},h.props.style||{}),p),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}}))),n=i+d,n<l&&(h=u),w=Op(hn(hn({},e),{},{index:n})),o.push(js.default.cloneElement(h,{key:"postcloned"+Dp(h,n),"data-index":n,tabIndex:"-1",className:(0,Lp.default)(w,_),"aria-hidden":!w["slick-active"],style:hn(hn({},h.props.style||{}),p),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}}))}}),e.rtl?s.concat(r,o).reverse():s.concat(r,o)};gm.Track=function(t){K$(n,t);var e=Z$(n);function n(){var r;q$(this,n);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o)),Vg(Ug(r),"node",null),Vg(Ug(r),"handleRef",function(a){r.node=a}),r}return G$(n,[{key:"render",value:function(){var s=J$(this.props),o=this.props,i=o.onMouseEnter,a=o.onMouseOver,l=o.onMouseLeave,u={onMouseEnter:i,onMouseOver:a,onMouseLeave:l};return js.default.createElement("div",Fg({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),s)}}]),n}(js.default.PureComponent);var ym={};function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}Object.defineProperty(ym,"__esModule",{value:!0});ym.Dots=void 0;var ed=Xk(f),eF=Xk(pm),vx=Z;function Xk(t){return t&&t.__esModule?t:{default:t}}function wx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function tF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wx(Object(n),!0).forEach(function(r){nF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nF(t,e,n){return e=Jk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jk(r.key),r)}}function oF(t,e,n){return e&&sF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jk(t){var e=iF(t,"string");return Oa(e)=="symbol"?e:String(e)}function iF(t,e){if(Oa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zg(t,e)}function zg(t,e){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},zg(t,e)}function lF(t){var e=eS();return function(){var r=Ph(t),s;if(e){var o=Ph(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return cF(this,s)}}function cF(t,e){if(e&&(Oa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uF(t)}function uF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eS=function(){return!!t})()}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ph(t)}var dF=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};ym.Dots=function(t){aF(n,t);var e=lF(n);function n(){return rF(this,n),e.apply(this,arguments)}return oF(n,[{key:"clickHandler",value:function(s,o){o.preventDefault(),this.props.clickHandler(s)}},{key:"render",value:function(){for(var s=this.props,o=s.onMouseEnter,i=s.onMouseOver,a=s.onMouseLeave,l=s.infinite,u=s.slidesToScroll,d=s.slidesToShow,h=s.slideCount,m=s.currentSlide,p=dF({slideCount:h,slidesToScroll:u,slidesToShow:d,infinite:l}),_={onMouseEnter:o,onMouseOver:i,onMouseLeave:a},w=[],x=0;x<p;x++){var v=(x+1)*u-1,g=l?v:(0,vx.clamp)(v,0,h-1),y=g-(u-1),C=l?y:(0,vx.clamp)(y,0,h-1),b=(0,eF.default)({"slick-active":l?m>=C&&m<=g:m===C}),k={message:"dots",index:x,slidesToScroll:u,currentSlide:m},T=this.clickHandler.bind(this,k);w=w.concat(ed.default.createElement("li",{key:x,className:b},ed.default.cloneElement(this.props.customPaging(x),{onClick:T})))}return ed.default.cloneElement(this.props.appendDots(w),tF({className:this.props.dotsClass},_))}}]),n}(ed.default.PureComponent);var Da={};function Ma(t){"@babel/helpers - typeof";return Ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ma(t)}Object.defineProperty(Da,"__esModule",{value:!0});Da.PrevArrow=Da.NextArrow=void 0;var pa=nS(f),tS=nS(pm),hF=Z;function nS(t){return t&&t.__esModule?t:{default:t}}function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}function xx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xx(Object(n),!0).forEach(function(r){fF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fF(t,e,n){return e=oS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rS(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oS(r.key),r)}}function sS(t,e,n){return e&&mF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oS(t){var e=pF(t,"string");return Ma(e)=="symbol"?e:String(e)}function pF(t,e){if(Ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hg(t,e)}function Hg(t,e){return Hg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Hg(t,e)}function aS(t){var e=lS();return function(){var r=Oh(t),s;if(e){var o=Oh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return gF(this,s)}}function gF(t,e){if(e&&(Ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yF(t)}function yF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lS=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oh(t)}Da.PrevArrow=function(t){iS(n,t);var e=aS(n);function n(){return rS(this,n),e.apply(this,arguments)}return sS(n,[{key:"clickHandler",value:function(s,o){o&&o.preventDefault(),this.props.clickHandler(s,o)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(s["slick-disabled"]=!0,o=null);var i={key:"0","data-role":"none",className:(0,tS.default)(s),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=pa.default.cloneElement(this.props.prevArrow,Rh(Rh({},i),a)):l=pa.default.createElement("button",Lh({key:"0",type:"button"},i)," ","Previous"),l}}]),n}(pa.default.PureComponent);Da.NextArrow=function(t){iS(n,t);var e=aS(n);function n(){return rS(this,n),e.apply(this,arguments)}return sS(n,[{key:"clickHandler",value:function(s,o){o&&o.preventDefault(),this.props.clickHandler(s,o)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,hF.canGoNext)(this.props)||(s["slick-disabled"]=!0,o=null);var i={key:"1","data-role":"none",className:(0,tS.default)(s),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=pa.default.cloneElement(this.props.nextArrow,Rh(Rh({},i),a)):l=pa.default.createElement("button",Lh({key:"1",type:"button"},i)," ","Next"),l}}]),n}(pa.default.PureComponent);var cS=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(s,o){return s[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},e.prototype.set=function(n,r){var s=t(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,s=t(r,n);~s&&r.splice(s,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,o=this.__entries__;s<o.length;s++){var i=o[s];n.call(r,i[1],i[0])}},e}()}(),qg=typeof window<"u"&&typeof document<"u"&&window.document===document,Dh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),_F=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Dh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),vF=2;function wF(t,e){var n=!1,r=!1,s=0;function o(){n&&(n=!1,t()),r&&a()}function i(){_F(o)}function a(){var l=Date.now();if(n){if(l-s<vF)return;r=!0}else n=!0,r=!1,setTimeout(i,e);s=l}return a}var xF=20,CF=["top","right","bottom","left","width","height","size","weight"],bF=typeof MutationObserver<"u",kF=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=wF(this.refresh.bind(this),xF)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!qg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),bF?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!qg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,s=CF.some(function(o){return!!~r.indexOf(o)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),uS=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},$a=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Dh},dS=_m(0,0,0,0);function Mh(t){return parseFloat(t)||0}function Cx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,s){var o=t["border-"+s+"-width"];return r+Mh(o)},0)}function SF(t){for(var e=["top","right","bottom","left"],n={},r=0,s=e;r<s.length;r++){var o=s[r],i=t["padding-"+o];n[o]=Mh(i)}return n}function EF(t){var e=t.getBBox();return _m(0,0,e.width,e.height)}function TF(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return dS;var r=$a(t).getComputedStyle(t),s=SF(r),o=s.left+s.right,i=s.top+s.bottom,a=Mh(r.width),l=Mh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=Cx(r,"left","right")+o),Math.round(l+i)!==n&&(l-=Cx(r,"top","bottom")+i)),!NF(t)){var u=Math.round(a+o)-e,d=Math.round(l+i)-n;Math.abs(u)!==1&&(a-=u),Math.abs(d)!==1&&(l-=d)}return _m(s.left,s.top,a,l)}var IF=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof $a(t).SVGGraphicsElement}:function(t){return t instanceof $a(t).SVGElement&&typeof t.getBBox=="function"}}();function NF(t){return t===$a(t).document.documentElement}function jF(t){return qg?IF(t)?EF(t):TF(t):dS}function AF(t){var e=t.x,n=t.y,r=t.width,s=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,i=Object.create(o.prototype);return uS(i,{x:e,y:n,width:r,height:s,top:n,right:e+r,bottom:s+n,left:e}),i}function _m(t,e,n,r){return{x:t,y:e,width:n,height:r}}var PF=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=_m(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=jF(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),LF=function(){function t(e,n){var r=AF(n);uS(this,{target:e,contentRect:r})}return t}(),RF=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new cS,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof $a(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new PF(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof $a(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new LF(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),hS=typeof WeakMap<"u"?new WeakMap:new cS,fS=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=kF.getInstance(),r=new RF(e,n,this);hS.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){fS.prototype[t]=function(){var e;return(e=hS.get(this))[t].apply(e,arguments)}});var OF=function(){return typeof Dh.ResizeObserver<"u"?Dh.ResizeObserver:fS}();const DF=Object.freeze(Object.defineProperty({__proto__:null,default:OF},Symbol.toStringTag,{value:"Module"})),MF=C6(DF);Object.defineProperty(mm,"__esModule",{value:!0});mm.InnerSlider=void 0;var rn=pu(f),$F=pu($k),FF=pu(N$),BF=pu(pm),Ge=Z,UF=gm,VF=ym,bx=Da,zF=pu(MF);function pu(t){return t&&t.__esModule?t:{default:t}}function li(t){"@babel/helpers - typeof";return li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},li(t)}function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$h.apply(this,arguments)}function HF(t,e){if(t==null)return{};var n=qF(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function kx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kx(Object(n),!0).forEach(function(r){_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pS(r.key),r)}}function KF(t,e,n){return e&&GF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wg(t,e)}function Wg(t,e){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Wg(t,e)}function YF(t){var e=mS();return function(){var r=Fh(t),s;if(e){var o=Fh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return QF(this,s)}}function QF(t,e){if(e&&(li(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ye(t)}function ye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mS=function(){return!!t})()}function Fh(t){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fh(t)}function _e(t,e,n){return e=pS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pS(t){var e=XF(t,"string");return li(e)=="symbol"?e:String(e)}function XF(t,e){if(li(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(li(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}mm.InnerSlider=function(t){ZF(n,t);var e=YF(n);function n(r){var s;WF(this,n),s=e.call(this,r),_e(ye(s),"listRefHandler",function(i){return s.list=i}),_e(ye(s),"trackRefHandler",function(i){return s.track=i}),_e(ye(s),"adaptHeight",function(){if(s.props.adaptiveHeight&&s.list){var i=s.list.querySelector('[data-index="'.concat(s.state.currentSlide,'"]'));s.list.style.height=(0,Ge.getHeight)(i)+"px"}}),_e(ye(s),"componentDidMount",function(){if(s.props.onInit&&s.props.onInit(),s.props.lazyLoad){var i=(0,Ge.getOnDemandLazySlides)(ie(ie({},s.props),s.state));i.length>0&&(s.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(i)}}),s.props.onLazyLoad&&s.props.onLazyLoad(i))}var a=ie({listRef:s.list,trackRef:s.track},s.props);s.updateState(a,!0,function(){s.adaptHeight(),s.props.autoplay&&s.autoPlay("update")}),s.props.lazyLoad==="progressive"&&(s.lazyLoadTimer=setInterval(s.progressiveLazyLoad,1e3)),s.ro=new zF.default(function(){s.state.animating?(s.onWindowResized(!1),s.callbackTimers.push(setTimeout(function(){return s.onWindowResized()},s.props.speed))):s.onWindowResized()}),s.ro.observe(s.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=s.props.pauseOnFocus?s.onSlideFocus:null,l.onblur=s.props.pauseOnFocus?s.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",s.onWindowResized):window.attachEvent("onresize",s.onWindowResized)}),_e(ye(s),"componentWillUnmount",function(){s.animationEndCallback&&clearTimeout(s.animationEndCallback),s.lazyLoadTimer&&clearInterval(s.lazyLoadTimer),s.callbackTimers.length&&(s.callbackTimers.forEach(function(i){return clearTimeout(i)}),s.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",s.onWindowResized):window.detachEvent("onresize",s.onWindowResized),s.autoplayTimer&&clearInterval(s.autoplayTimer),s.ro.disconnect()}),_e(ye(s),"componentDidUpdate",function(i){if(s.checkImagesLoad(),s.props.onReInit&&s.props.onReInit(),s.props.lazyLoad){var a=(0,Ge.getOnDemandLazySlides)(ie(ie({},s.props),s.state));a.length>0&&(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),s.props.onLazyLoad&&s.props.onLazyLoad(a))}s.adaptHeight();var l=ie(ie({listRef:s.list,trackRef:s.track},s.props),s.state),u=s.didPropsChange(i);u&&s.updateState(l,u,function(){s.state.currentSlide>=rn.default.Children.count(s.props.children)&&s.changeSlide({message:"index",index:rn.default.Children.count(s.props.children)-s.props.slidesToShow,currentSlide:s.state.currentSlide}),s.props.autoplay?s.autoPlay("update"):s.pause("paused")})}),_e(ye(s),"onWindowResized",function(i){s.debouncedResize&&s.debouncedResize.cancel(),s.debouncedResize=(0,FF.default)(function(){return s.resizeWindow(i)},50),s.debouncedResize()}),_e(ye(s),"resizeWindow",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(s.track&&s.track.node);if(a){var l=ie(ie({listRef:s.list,trackRef:s.track},s.props),s.state);s.updateState(l,i,function(){s.props.autoplay?s.autoPlay("update"):s.pause("paused")}),s.setState({animating:!1}),clearTimeout(s.animationEndCallback),delete s.animationEndCallback}}),_e(ye(s),"updateState",function(i,a,l){var u=(0,Ge.initializedState)(i);i=ie(ie(ie({},i),u),{},{slideIndex:u.currentSlide});var d=(0,Ge.getTrackLeft)(i);i=ie(ie({},i),{},{left:d});var h=(0,Ge.getTrackCSS)(i);(a||rn.default.Children.count(s.props.children)!==rn.default.Children.count(i.children))&&(u.trackStyle=h),s.setState(u,l)}),_e(ye(s),"ssrInit",function(){if(s.props.variableWidth){var i=0,a=0,l=[],u=(0,Ge.getPreClones)(ie(ie(ie({},s.props),s.state),{},{slideCount:s.props.children.length})),d=(0,Ge.getPostClones)(ie(ie(ie({},s.props),s.state),{},{slideCount:s.props.children.length}));s.props.children.forEach(function(T){l.push(T.props.style.width),i+=T.props.style.width});for(var h=0;h<u;h++)a+=l[l.length-1-h],i+=l[l.length-1-h];for(var m=0;m<d;m++)i+=l[m];for(var p=0;p<s.state.currentSlide;p++)a+=l[p];var _={width:i+"px",left:-a+"px"};if(s.props.centerMode){var w="".concat(l[s.state.currentSlide],"px");_.left="calc(".concat(_.left," + (100% - ").concat(w,") / 2 ) ")}return{trackStyle:_}}var x=rn.default.Children.count(s.props.children),v=ie(ie(ie({},s.props),s.state),{},{slideCount:x}),g=(0,Ge.getPreClones)(v)+(0,Ge.getPostClones)(v)+x,y=100/s.props.slidesToShow*g,C=100/g,b=-C*((0,Ge.getPreClones)(v)+s.state.currentSlide)*y/100;s.props.centerMode&&(b+=(100-C*y/100)/2);var k={width:y+"%",left:b+"%"};return{slideWidth:C+"%",trackStyle:k}}),_e(ye(s),"checkImagesLoad",function(){var i=s.list&&s.list.querySelectorAll&&s.list.querySelectorAll(".slick-slide img")||[],a=i.length,l=0;Array.prototype.forEach.call(i,function(u){var d=function(){return++l&&l>=a&&s.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(m){h(m),u.parentNode.focus()}}u.onload||(s.props.lazyLoad?u.onload=function(){s.adaptHeight(),s.callbackTimers.push(setTimeout(s.onWindowResized,s.props.speed))}:(u.onload=d,u.onerror=function(){d(),s.props.onLazyLoadError&&s.props.onLazyLoadError()}))})}),_e(ye(s),"progressiveLazyLoad",function(){for(var i=[],a=ie(ie({},s.props),s.state),l=s.state.currentSlide;l<s.state.slideCount+(0,Ge.getPostClones)(a);l++)if(s.state.lazyLoadedList.indexOf(l)<0){i.push(l);break}for(var u=s.state.currentSlide-1;u>=-(0,Ge.getPreClones)(a);u--)if(s.state.lazyLoadedList.indexOf(u)<0){i.push(u);break}i.length>0?(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(i)}}),s.props.onLazyLoad&&s.props.onLazyLoad(i)):s.lazyLoadTimer&&(clearInterval(s.lazyLoadTimer),delete s.lazyLoadTimer)}),_e(ye(s),"slideHandler",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=s.props,u=l.asNavFor,d=l.beforeChange,h=l.onLazyLoad,m=l.speed,p=l.afterChange,_=s.state.currentSlide,w=(0,Ge.slideHandler)(ie(ie(ie({index:i},s.props),s.state),{},{trackRef:s.track,useCSS:s.props.useCSS&&!a})),x=w.state,v=w.nextState;if(x){d&&d(_,x.currentSlide);var g=x.lazyLoadedList.filter(function(y){return s.state.lazyLoadedList.indexOf(y)<0});h&&g.length>0&&h(g),!s.props.waitForAnimate&&s.animationEndCallback&&(clearTimeout(s.animationEndCallback),p&&p(_),delete s.animationEndCallback),s.setState(x,function(){u&&s.asNavForIndex!==i&&(s.asNavForIndex=i,u.innerSlider.slideHandler(i)),v&&(s.animationEndCallback=setTimeout(function(){var y=v.animating,C=HF(v,["animating"]);s.setState(C,function(){s.callbackTimers.push(setTimeout(function(){return s.setState({animating:y})},10)),p&&p(x.currentSlide),delete s.animationEndCallback})},m))})}}),_e(ye(s),"changeSlide",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=ie(ie({},s.props),s.state),u=(0,Ge.changeSlide)(l,i);if(!(u!==0&&!u)&&(a===!0?s.slideHandler(u,a):s.slideHandler(u),s.props.autoplay&&s.autoPlay("update"),s.props.focusOnSelect)){var d=s.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),_e(ye(s),"clickHandler",function(i){s.clickable===!1&&(i.stopPropagation(),i.preventDefault()),s.clickable=!0}),_e(ye(s),"keyHandler",function(i){var a=(0,Ge.keyHandler)(i,s.props.accessibility,s.props.rtl);a!==""&&s.changeSlide({message:a})}),_e(ye(s),"selectHandler",function(i){s.changeSlide(i)}),_e(ye(s),"disableBodyScroll",function(){var i=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=i}),_e(ye(s),"enableBodyScroll",function(){window.ontouchmove=null}),_e(ye(s),"swipeStart",function(i){s.props.verticalSwiping&&s.disableBodyScroll();var a=(0,Ge.swipeStart)(i,s.props.swipe,s.props.draggable);a!==""&&s.setState(a)}),_e(ye(s),"swipeMove",function(i){var a=(0,Ge.swipeMove)(i,ie(ie(ie({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));a&&(a.swiping&&(s.clickable=!1),s.setState(a))}),_e(ye(s),"swipeEnd",function(i){var a=(0,Ge.swipeEnd)(i,ie(ie(ie({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,s.setState(a),l!==void 0&&(s.slideHandler(l),s.props.verticalSwiping&&s.enableBodyScroll())}}),_e(ye(s),"touchEnd",function(i){s.swipeEnd(i),s.clickable=!0}),_e(ye(s),"slickPrev",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"previous"})},0))}),_e(ye(s),"slickNext",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"next"})},0))}),_e(ye(s),"slickGoTo",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i=Number(i),isNaN(i))return"";s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"index",index:i,currentSlide:s.state.currentSlide},a)},0))}),_e(ye(s),"play",function(){var i;if(s.props.rtl)i=s.state.currentSlide-s.props.slidesToScroll;else if((0,Ge.canGoNext)(ie(ie({},s.props),s.state)))i=s.state.currentSlide+s.props.slidesToScroll;else return!1;s.slideHandler(i)}),_e(ye(s),"autoPlay",function(i){s.autoplayTimer&&clearInterval(s.autoplayTimer);var a=s.state.autoplaying;if(i==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(i==="leave"){if(a==="paused"||a==="focused")return}else if(i==="blur"&&(a==="paused"||a==="hovered"))return;s.autoplayTimer=setInterval(s.play,s.props.autoplaySpeed+50),s.setState({autoplaying:"playing"})}),_e(ye(s),"pause",function(i){s.autoplayTimer&&(clearInterval(s.autoplayTimer),s.autoplayTimer=null);var a=s.state.autoplaying;i==="paused"?s.setState({autoplaying:"paused"}):i==="focused"?(a==="hovered"||a==="playing")&&s.setState({autoplaying:"focused"}):a==="playing"&&s.setState({autoplaying:"hovered"})}),_e(ye(s),"onDotsOver",function(){return s.props.autoplay&&s.pause("hovered")}),_e(ye(s),"onDotsLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),_e(ye(s),"onTrackOver",function(){return s.props.autoplay&&s.pause("hovered")}),_e(ye(s),"onTrackLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),_e(ye(s),"onSlideFocus",function(){return s.props.autoplay&&s.pause("focused")}),_e(ye(s),"onSlideBlur",function(){return s.props.autoplay&&s.state.autoplaying==="focused"&&s.autoPlay("blur")}),_e(ye(s),"render",function(){var i=(0,BF.default)("slick-slider",s.props.className,{"slick-vertical":s.props.vertical,"slick-initialized":!0}),a=ie(ie({},s.props),s.state),l=(0,Ge.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=s.props.pauseOnHover;l=ie(ie({},l),{},{onMouseEnter:u?s.onTrackOver:null,onMouseLeave:u?s.onTrackLeave:null,onMouseOver:u?s.onTrackOver:null,focusOnSelect:s.props.focusOnSelect&&s.clickable?s.selectHandler:null});var d;if(s.props.dots===!0&&s.state.slideCount>=s.props.slidesToShow){var h=(0,Ge.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=s.props.pauseOnDotsHover;h=ie(ie({},h),{},{clickHandler:s.changeSlide,onMouseEnter:m?s.onDotsLeave:null,onMouseOver:m?s.onDotsOver:null,onMouseLeave:m?s.onDotsLeave:null}),d=rn.default.createElement(VF.Dots,h)}var p,_,w=(0,Ge.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);w.clickHandler=s.changeSlide,s.props.arrows&&(p=rn.default.createElement(bx.PrevArrow,w),_=rn.default.createElement(bx.NextArrow,w));var x=null;s.props.vertical&&(x={height:s.state.listHeight});var v=null;s.props.vertical===!1?s.props.centerMode===!0&&(v={padding:"0px "+s.props.centerPadding}):s.props.centerMode===!0&&(v={padding:s.props.centerPadding+" 0px"});var g=ie(ie({},x),v),y=s.props.touchMove,C={className:"slick-list",style:g,onClick:s.clickHandler,onMouseDown:y?s.swipeStart:null,onMouseMove:s.state.dragging&&y?s.swipeMove:null,onMouseUp:y?s.swipeEnd:null,onMouseLeave:s.state.dragging&&y?s.swipeEnd:null,onTouchStart:y?s.swipeStart:null,onTouchMove:s.state.dragging&&y?s.swipeMove:null,onTouchEnd:y?s.touchEnd:null,onTouchCancel:s.state.dragging&&y?s.swipeEnd:null,onKeyDown:s.props.accessibility?s.keyHandler:null},b={className:i,dir:"ltr",style:s.props.style};return s.props.unslick&&(C={className:"slick-list"},b={className:i}),rn.default.createElement("div",b,s.props.unslick?"":p,rn.default.createElement("div",$h({ref:s.listRefHandler},C),rn.default.createElement(UF.Track,$h({ref:s.trackRefHandler},l),s.props.children)),s.props.unslick?"":_,s.props.unslick?"":d)}),s.list=null,s.track=null,s.state=ie(ie({},$F.default),{},{currentSlide:s.props.initialSlide,targetSlide:s.props.initialSlide?s.props.initialSlide:0,slideCount:rn.default.Children.count(s.props.children)}),s.callbackTimers=[],s.clickable=!0,s.debouncedResize=null;var o=s.ssrInit();return s.state=ie(ie({},s.state),o),s}return KF(n,[{key:"didPropsChange",value:function(s){for(var o=!1,i=0,a=Object.keys(this.props);i<a.length;i++){var l=a[i];if(!s.hasOwnProperty(l)){o=!0;break}if(!(li(s[l])==="object"||typeof s[l]=="function"||isNaN(s[l]))&&s[l]!==this.props[l]){o=!0;break}}return o||rn.default.Children.count(this.props.children)!==rn.default.Children.count(s.children)}}]),n}(rn.default.Component);var JF=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},eB=JF,tB=eB,nB=function(t){var e=/[height|width]$/;return e.test(t)},Sx=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,s){var o=t[r];r=tB(r),nB(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",s<n.length-1&&(e+=" and ")}),e},rB=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=Sx(n),r<t.length-1&&(e+=", ")}),e):Sx(t)},sB=rB,Mp,Ex;function oB(){if(Ex)return Mp;Ex=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Mp=t,Mp}var $p,Tx;function gS(){if(Tx)return $p;Tx=1;function t(r,s){var o=0,i=r.length,a;for(o;o<i&&(a=s(r[o],o),a!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return $p={isFunction:n,isArray:e,each:t},$p}var Fp,Ix;function iB(){if(Ix)return Fp;Ix=1;var t=oB(),e=gS().each;function n(r,s){this.query=r,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(i){o.mql=i.currentTarget||i,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var s=new t(r);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(r){var s=this.handlers;e(s,function(o,i){if(o.equals(r))return o.destroy(),!s.splice(i,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(s){s[r]()})}},Fp=n,Fp}var Bp,Nx;function aB(){if(Nx)return Bp;Nx=1;var t=iB(),e=gS(),n=e.each,r=e.isFunction,s=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(i,a,l){var u=this.queries,d=l&&this.browserIsIncapable;return u[i]||(u[i]=new t(i,d)),r(a)&&(a={match:a}),s(a)||(a=[a]),n(a,function(h){r(h)&&(h={match:h}),u[i].addHandler(h)}),this},unregister:function(i,a){var l=this.queries[i];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[i])),this}},Bp=o,Bp}var Up,jx;function lB(){if(jx)return Up;jx=1;var t=aB();return Up=new t,Up}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(f),n=mm,r=i(sB),s=i(I_),o=Z;function i(E){return E&&E.__esModule?E:{default:E}}function a(E){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},a(E)}function l(){return l=Object.assign?Object.assign.bind():function(E){for(var N=1;N<arguments.length;N++){var A=arguments[N];for(var j in A)Object.prototype.hasOwnProperty.call(A,j)&&(E[j]=A[j])}return E},l.apply(this,arguments)}function u(E,N){var A=Object.keys(E);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(E);N&&(j=j.filter(function(M){return Object.getOwnPropertyDescriptor(E,M).enumerable})),A.push.apply(A,j)}return A}function d(E){for(var N=1;N<arguments.length;N++){var A=arguments[N]!=null?arguments[N]:{};N%2?u(Object(A),!0).forEach(function(j){b(E,j,A[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(A)):u(Object(A)).forEach(function(j){Object.defineProperty(E,j,Object.getOwnPropertyDescriptor(A,j))})}return E}function h(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}function m(E,N){for(var A=0;A<N.length;A++){var j=N[A];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(E,k(j.key),j)}}function p(E,N,A){return N&&m(E.prototype,N),Object.defineProperty(E,"prototype",{writable:!1}),E}function _(E,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),N&&w(E,N)}function w(E,N){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,M){return j.__proto__=M,j},w(E,N)}function x(E){var N=y();return function(){var j=C(E),M;if(N){var O=C(this).constructor;M=Reflect.construct(j,arguments,O)}else M=j.apply(this,arguments);return v(this,M)}}function v(E,N){if(N&&(a(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(E)}function g(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function y(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y=function(){return!!E})()}function C(E){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},C(E)}function b(E,N,A){return N=k(N),N in E?Object.defineProperty(E,N,{value:A,enumerable:!0,configurable:!0,writable:!0}):E[N]=A,E}function k(E){var N=T(E,"string");return a(N)=="symbol"?N:String(N)}function T(E,N){if(a(E)!="object"||!E)return E;var A=E[Symbol.toPrimitive];if(A!==void 0){var j=A.call(E,N);if(a(j)!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(E)}var S=(0,o.canUseDOM)()&&lB();t.default=function(E){_(A,E);var N=x(A);function A(j){var M;return h(this,A),M=N.call(this,j),b(g(M),"innerSliderRefHandler",function(O){return M.innerSlider=O}),b(g(M),"slickPrev",function(){return M.innerSlider.slickPrev()}),b(g(M),"slickNext",function(){return M.innerSlider.slickNext()}),b(g(M),"slickGoTo",function(O){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return M.innerSlider.slickGoTo(O,$)}),b(g(M),"slickPause",function(){return M.innerSlider.pause("paused")}),b(g(M),"slickPlay",function(){return M.innerSlider.autoPlay("play")}),M.state={breakpoint:null},M._responsiveMediaHandlers=[],M}return p(A,[{key:"media",value:function(M,O){S.register(M,O),this._responsiveMediaHandlers.push({query:M,handler:O})}},{key:"componentDidMount",value:function(){var M=this;if(this.props.responsive){var O=this.props.responsive.map(function(L){return L.breakpoint});O.sort(function(L,P){return L-P}),O.forEach(function(L,P){var I;P===0?I=(0,r.default)({minWidth:0,maxWidth:L}):I=(0,r.default)({minWidth:O[P-1]+1,maxWidth:L}),(0,o.canUseDOM)()&&M.media(I,function(){M.setState({breakpoint:L})})});var $=(0,r.default)({minWidth:O.slice(-1)[0]});(0,o.canUseDOM)()&&this.media($,function(){M.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(M){S.unregister(M.query,M.handler)})}},{key:"render",value:function(){var M=this,O,$;this.state.breakpoint?($=this.props.responsive.filter(function(ue){return ue.breakpoint===M.state.breakpoint}),O=$[0].settings==="unslick"?"unslick":d(d(d({},s.default),this.props),$[0].settings)):O=d(d({},s.default),this.props),O.centerMode&&(O.slidesToScroll>1,O.slidesToScroll=1),O.fade&&(O.slidesToShow>1,O.slidesToScroll>1,O.slidesToShow=1,O.slidesToScroll=1);var L=e.default.Children.toArray(this.props.children);L=L.filter(function(ue){return typeof ue=="string"?!!ue.trim():!!ue}),O.variableWidth&&(O.rows>1||O.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),O.variableWidth=!1);for(var P=[],I=null,R=0;R<L.length;R+=O.rows*O.slidesPerRow){for(var D=[],F=R;F<R+O.rows*O.slidesPerRow;F+=O.slidesPerRow){for(var H=[],z=F;z<F+O.slidesPerRow&&(O.variableWidth&&L[z].props.style&&(I=L[z].props.style.width),!(z>=L.length));z+=1)H.push(e.default.cloneElement(L[z],{key:100*R+10*F+z,tabIndex:-1,style:{width:"".concat(100/O.slidesPerRow,"%"),display:"inline-block"}}));D.push(e.default.createElement("div",{key:10*R+F},H))}O.variableWidth?P.push(e.default.createElement("div",{key:R,style:{width:I}},D)):P.push(e.default.createElement("div",{key:R},D))}if(O==="unslick"){var Q="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Q},L)}else P.length<=O.slidesToShow&&!O.infinite&&(O.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(O)),P)}}]),A}(e.default.Component)})(Mk);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Mk);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(Dk);const cB=Jh(Dk);function uB(t){const{className:e,style:n,onClick:r}=t;return c.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function dB(t){const{className:e,style:n,onClick:r}=t;return c.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function hB(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState(0);f.useEffect(()=>{const i=document.querySelector(".slick-active"),a=parseInt(i.getAttribute("data-index")),l=["#C3F82B","#FF4365","#0040F9"],u={0:{iconColor:"#0A0B10",titleColor:"#0A0B10",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},1:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},2:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0}};document.body.style.background=l[a],document.body.style.transition="0.5s",n(u[a])},[r]);const o={customPaging:function(i){return c.jsx("a",{children:c.jsx("div",{className:"dots"})})},dots:!0,dotsClass:"slick-dots slick-thumb",infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:c.jsx(uB,{}),prevArrow:c.jsx(dB,{}),afterChange:i=>{s(i)}};return c.jsx("div",{className:"slider_container",children:c.jsxs(cB,{...o,children:[c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"1.png"})}),c.jsx("h2",{className:"title black",children:"Играй. Общайся. Развивайся."}),c.jsx("h3",{className:"text black",children:"Выигрывай в гонке или проигрывай все в казино."})]})}),c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"2.png"})}),c.jsx("h2",{className:"title white",children:"Учить - не значит запомнить"}),c.jsx("h3",{className:"text white",children:"Эту и многие другие цитаты ты узнаешь"})]})}),c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"3.png"})}),c.jsx("h2",{className:"title white",children:"Я забыл права дома. Честно"}),c.jsx("h3",{className:"text white",children:"Вот ты и попался, а использовал бы наши причины, мог быть на свободе"})]})})]})})}const fB="_button_rb0y4_1",mB="_arrow_rb0y4_18",Ax={button:fB,arrow:mB};function pB({linkTo:t,name:e}){const n=le(),r=()=>{n(t)};return c.jsxs("button",{className:Ax.button,onClick:r,children:[e,c.jsx("div",{className:Ax.arrow,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:"white"})})})]})}const gB="_container_8awvt_1",yB="_button_container_8awvt_13",Px={container:gB,button_container:yB};function _B({setHeaderColor:t}){const{authUser:e,ga:n}=ce();le();const[r,s]=f.useState(0);return c.jsxs("div",{className:Px.container,children:[c.jsx(hB,{}),c.jsx("div",{className:Px.button_container,children:c.jsx(pB,{name:"Начать",linkTo:"/sign-in"})})]})}const vB="_block_is8th_1",wB="_info_is8th_17",xB="_title_is8th_24",CB="_text_is8th_30",Ni={block:vB,info:wB,title:xB,text:CB,"arrow-container":"_arrow-container_is8th_36","circle-arrow":"_circle-arrow_is8th_43"};function or({backgroundColor:t,isBorder:e,borderColor:n,textColor:r,name:s,description:o,linkTo:i,arrowBackgroundColor:a,arrowColor:l}){const u=le(),d=()=>{u(i)};return c.jsxs("div",{className:Ni.block,style:{background:t,transition:"0.5s ease",border:e?`2px solid ${n}`:"none"},onClick:d,children:[c.jsxs("div",{className:Ni.info,children:[c.jsx("div",{className:Ni.title,style:{color:r},children:s}),c.jsxs("div",{className:Ni.text,style:{color:r},children:[" ",o," "]})]}),c.jsx("div",{className:Ni["arrow-container"],children:c.jsx("div",{className:Ni["circle-arrow"],style:{background:a},children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:l})})})})]})}const bB="_wrapper_zkxlw_1",kB="_container_zkxlw_9",Lx={wrapper:bB,container:kB},fl={"block-body":"_block-body_1az4j_1","block-name":"_block-name_1az4j_10","block-text":"_block-text_1az4j_15","block-arrow":"_block-arrow_1az4j_21","circle-arrow":"_circle-arrow_1az4j_29"};function SB({name:t,text:e,circleColor:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=f.useContext(B);return c.jsxs("div",{className:fl["block-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:fl["block-name"],style:{color:r.text_first_color},children:t}),c.jsx("div",{className:fl["block-text"],style:{color:r.text_first_color},children:e}),c.jsx("div",{className:fl["block-arrow"],children:c.jsx("div",{className:fl["circle-arrow"],style:{background:n},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.text_first_color})})})})]})}const Rx=["Пока не доказано - не ебет, что сказанно. - Т. Радмир","И рыбку съесть и нахуй сесть. - М. Даниэль","Скажем дружно: 'Нахуй нужно'. - М. Даниэль","Громко и уверенно: 'Пошла нахуй'. - Т. Радмир","Соси хуй и не психуй.","Скажи арбуз. (P.S. Не делай этого). - М. Амир","Кто свистит - тот трансвистит. Т. Радмир","Сразу нахуй. Чисто нахуй. Быстро нахуй. Р-Радик. О. Бекмырза","Только и делает, что стоит.","Тест-минутка.","Репортаж из зоопарка.","Кастет Жопарожевна.","Тимур Харкович.","Айсанина мандавошка.kg","Дикция - жок, интонация - жок, мамка - жок. - М. Даниэль","Отсосал! - О. Бекмырза","На сухую конспект не идет.","Между первой и второй, перерывчик небольшой.",'"Где этот Ли?". - "Он в другой группе". - "Два!".',"В Америке такой тест за минуту пишут, а вы за полсекунды должны.","Теркулов, че поругаться охота?","Чего пришел? Иди хохлов стреляй и адабият не забудь выучить.","Максим не боится никаких вызовов. Он говорит 'На мужика' перед тем, как пойти на рандеву с тремя мужиками одновременно. Он знает, что многозадачность - его второе имя!","Третья кабинка - имба!","Лучше иметь друга, чем друг друга.","Лучше посрать и опоздать, чем прийти и обосраться - А. Байсал","Если пьянка неизбежна - пей первым.","Работа не волк, работа - work, а walk - это ходить.","Запомни: одна ошибка и ты ошибся.","Все полезно, что в рот полезло.","Жы шы пишы от душы. - К. Глеб","Запомни: синус на синус - ебало минус! - Т. Радмир","Сдесь сидит Арс! - К. Глеб","Стрелку метнул, хуй заглотнул! - К. Глеб","Никогда не откладывай на завтра то, что можно сделать послезавтра.","Делай как надо, как не надо не делай!","Лучше 5 сантиметров спереди, чем 25 сзади!","Кто не пьет - тот наливает!","Нет - пидора ответ!","Не тот счастлив у кого много денег, а тот у кого жена верна!","Если заблудился в лесу, иди домой! - С. Канторо","Учеба не сцепление, можно и бросить!","Лучше быть в конце, чем на конце!","Запомни, а то забудешь!","Не важно кто ты нахуй, важно что ты нахуй!","Если ты не выиграл - значит проиграл!","У каждого волка есть шкура, но не у каждой шкуры есть волк!","Если дают - бери. Не дают - отбери! - Б. Сергей","Не мы такие, жизнь такая ...","Это на зубы! - О. Бекмырза","Какой хороший день, чтоб пойти на СВО!","Все что хорошое закончится плохим, все что плохое закончится хорошим - Ж. Бектур","Лучше понять и не сделать, чем списать и не понять!","Не бойся, тебе задачка посложнее! - Б. Сергей","Учить, не значить запомнить! - К. Глеб","Во рту может быть только хуй!","Букварь создал вселенную! - Е. Максим","Запомни: если все съебывают, надо остаться! Но если никто не съебался, надо уйти! - Р. Адиль","Запомни: когда голова работает, диплом нахуй не нужен! - М. Арсений","Имей ввиду, что очко - понятие растяжимое.","Слово не воробей, вылетит не поймаешь","Без труда не вытащить и рыбку из пруда","Лучшая зарядка - балтика девятка","Розы любят воду, а пацаны свободу","Чем меньше знаешь, тем ты тупее","Базар - он как вода, чем лучше фильтруешь, тем здоровее почки","Пацаны, запомните одну простую вещь - одна полоска означает подлежащее, а две полоски означают, что пора идти за хлебом","Без внятного ТЗ, результат ХЗ","Надо сдания сделать - К. Глеб","Если жизнь дает мне лимоны, я съебываю! - К. Глеб","Нормальные пацаны налево не ходят! - А. Байсал","Мне два раза повторять не надо, мне и с первого похуй - К. Глеб","Аналитики сказали ставить все на 7 черное! - Е. Максим","Почему один? Жизнь такая ...","Не важно в какой ты жопе, главное, чтобы никто не был в твоей","Сегодня делаем бизнес","Сто грамм по вечерам это норма! - Б. Сергей","Настанет час ///мечты","Может и не получится , но попробовать стоит всегда","Спасибо матери с отцом, что я родился ПАЦАНОМ!","Мудрецу даны знания, мужику умения, пацану — понятия","Пусть цитаты не делают нас умней, но некоторые из них заставляют задуматься о чем-то","Запомни: нет выхода только из гроба - Ж. Бектур"],EB="_body_aiao4_2",td={body:EB,"stroke-fill":"_stroke-fill_aiao4_12","stories-body":"_stories-body_aiao4_26"},TB=[{name:"download",img:"stories-cover.png",link:"/banner"}];function IB(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),r=le();return c.jsx("div",{className:td.body,children:TB.map(s=>c.jsx("div",{className:td["stroke-fill"],style:{background:`linear-gradient(135deg,${t.gradient_first_color} 0%,${t.gradient_second_color} 100%)`},children:c.jsx("div",{className:td["stories-body"],style:{background:t.background_color},onClick:()=>r(s.link),children:c.jsx("img",{src:s.img,className:td["stories-img"]})})}))})}function NB(){const[t,e]=f.useState(""),{authUser:n}=ce();le();const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=f.useContext(B),a=()=>{const u=Math.floor(Math.random()*Rx.length);return Rx[u]},l=async()=>{const u=await a();e(u),localStorage.setItem("dailyQuote",u),localStorage.setItem("quoteDate",new Date().toISOString())};return f.useEffect(()=>{const u=localStorage.getItem("dailyQuote"),d=localStorage.getItem("quoteDate"),h=new Date().toISOString().split("T")[0];u&&d&&d.split("T")[0]===h?e(u):l();const m=setInterval(l,24*60*60*1e3);return()=>clearInterval(m)},[]),f.useEffect(()=>{i({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:0,background:r.background_color}),document.body.style.background=r.background_color},[B]),c.jsxs("div",{className:Lx.wrapper,children:[c.jsx(IB,{}),c.jsxs("div",{className:Lx.container,children:[c.jsx(SB,{name:"Ежедневная цитата",text:t,circleColor:r.block_arrow_first_color}),c.jsx(or,{name:"Обновления",description:"Будь в курсе событий",backgroundColor:r.block_first_color,isBorder:!0,borderColor:r.block_border_color,textColor:r.text_first_color,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_first_color,linkTo:"/updates"}),c.jsx(or,{name:"Меню игр",description:"Сделаешь ставку?",backgroundColor:r.block_second_color,isBorder:!1,borderColor:r.block_border_color,textColor:r.text_second_color,arrowColor:r.text_second_color,arrowBackgroundColor:r.block_arrow_second_color,linkTo:"/game-menu"}),c.jsx(or,{name:"Расписание",description:"Какой сейчас урок?",backgroundColor:r.block_third_color,isBorder:!1,borderColor:r.block_border_color,textColor:r.text_first_color,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_third_color,linkTo:`/timetable/${n.mainGroup}`}),c.jsx(or,{name:"Магазин",description:"Прояви себя",backgroundColor:r.block_first_color,isBorder:!0,borderColor:r.block_border_color,textColor:r.text_first_color,isCircleArrow:!1,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_first_color,linkTo:"/shop"})]})]})}const jB="_container_6lq07_2",AB="_categories_6lq07_149",PB="_active_6lq07_169",LB="_greeting_6lq07_212",RB="_image_0_6lq07_337",OB="_image_1_6lq07_353",DB="_image_2_6lq07_369",MB="_image_3_6lq07_385",$B="_image_4_6lq07_401",FB="_moveGradient_6lq07_1",BB="_moveGradientHigh_6lq07_1",Ke={container:jB,"background-cover":"_background-cover_6lq07_12","input-container":"_input-container_6lq07_25","message-action":"_message-action_6lq07_37","add-file":"_add-file_6lq07_45","input-body":"_input-body_6lq07_64","smile-button":"_smile-button_6lq07_76","input-message":"_input-message_6lq07_97","send-button":"_send-button_6lq07_116","emoji-panel":"_emoji-panel_6lq07_135",categories:AB,"emoji-category":"_emoji-category_6lq07_157",active:PB,"emojies-container":"_emojies-container_6lq07_173","category-name":"_category-name_6lq07_180","emojies-body":"_emojies-body_6lq07_188","emojies-content":"_emojies-content_6lq07_196","messages-container":"_messages-container_6lq07_204",greeting:LB,"greeting-title":"_greeting-title_6lq07_220","greeting-text":"_greeting-text_6lq07_230","data-container":"_data-container_6lq07_240","message-body":"_message-body_6lq07_252","images-body":"_images-body_6lq07_262","images-wrapper_1":"_images-wrapper_1_6lq07_267","images-wrapper_2":"_images-wrapper_2_6lq07_281","images-wrapper_3":"_images-wrapper_3_6lq07_295","images-wrapper_4":"_images-wrapper_4_6lq07_309","images-wrapper_5":"_images-wrapper_5_6lq07_323",image_0:RB,image_1:OB,image_2:DB,image_3:MB,image_4:$B,"user-container":"_user-container_6lq07_431","user-photo":"_user-photo_6lq07_439","user-name":"_user-name_6lq07_452","message-text":"_message-text_6lq07_457","skeleton-high":"_skeleton-high_6lq07_473",moveGradient:FB,"skeleton-meduim":"_skeleton-meduim_6lq07_494","skeleton-small":"_skeleton-small_6lq07_515",moveGradientHigh:BB},Ox={default:{name:"default",img:"themes/default/preview.png"},genery:{name:"genery",img:"themes/genery/preview.png"},kyrgyzstan:{name:"kyrgyzstan",img:"themes/kyrgyzstan/preview.png"},winter_2024:{name:"winter_2024",img:"themes/winter_2024/preview.png"}},vm=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),wm=f.createContext({}),xm=f.createContext(null),j_=typeof document<"u",A_=j_?f.useLayoutEffect:f.useEffect,yS=f.createContext({strict:!1}),P_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UB="framerAppearId",_S="data-"+P_(UB),VB={useManualTiming:!1};class Dx{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function zB(t){let e=new Dx,n=new Dx,r=0,s=!1,o=!1;const i=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&s,m=h?e:n;return u&&i.add(l),m.add(l)&&h&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];i.has(d)&&(a.schedule(d),t()),d(l)}s=!1,o&&(o=!1,a.process(l))}};return a}const nd=["read","resolveKeyframes","update","preRender","render","postRender"],HB=40;function vS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=nd.reduce((h,m)=>(h[m]=zB(()=>n=!0),h),{}),i=h=>{o[h].process(s)},a=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,HB),1),s.timestamp=h,s.isProcessing=!0,nd.forEach(i),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:nd.reduce((h,m)=>{const p=o[m];return h[m]=(_,w=!1,x=!1)=>(n||l(),p.schedule(_,w,x)),h},{}),cancel:h=>nd.forEach(m=>o[m].cancel(h)),state:s,steps:o}}const{schedule:L_}=vS(queueMicrotask,!1);function Qi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const wS=f.createContext({});let Mx=!1;function qB(t,e,n,r,s){const{visualElement:o}=f.useContext(wm),i=f.useContext(yS),a=f.useContext(xm),l=f.useContext(vm).reducedMotion,u=f.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=f.useContext(wS);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&GB(u.current,n,s,h),f.useInsertionEffect(()=>{d&&d.update(n,a)});const m=f.useRef(!!(n[_S]&&!window.HandoffComplete));return A_(()=>{d&&(d.updateFeatures(),L_.render(d.render),m.current&&d.animationState&&d.animationState.animateChanges())}),f.useEffect(()=>{d&&(!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(m.current=!1,Mx||(Mx=!0,queueMicrotask(WB))))}),d}function WB(){window.HandoffComplete=!0}function GB(t,e,n,r){const{layoutId:s,layout:o,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xS(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!i||a&&Qi(a),visualElement:t,scheduleRender:()=>t.scheduleRender(),animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function xS(t){if(t)return t.options.allowProjection!==!1?t.projection:xS(t.parent)}function KB(t,e,n){return f.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qi(n)&&(n.current=r))},[e])}function Fc(t){return typeof t=="string"||Array.isArray(t)}function Cm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const R_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],O_=["initial",...R_];function bm(t){return Cm(t.animate)||O_.some(e=>Fc(t[e]))}function CS(t){return!!(bm(t)||t.variants)}function ZB(t,e){if(bm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Fc(n)?n:void 0,animate:Fc(r)?r:void 0}}return t.inherit!==!1?e:{}}function YB(t){const{initial:e,animate:n}=ZB(t,f.useContext(wm));return f.useMemo(()=>({initial:e,animate:n}),[$x(e),$x(n)])}function $x(t){return Array.isArray(t)?t.join(" "):t}const Fx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fa={};for(const t in Fx)Fa[t]={isEnabled:e=>Fx[t].some(n=>!!e[n])};function QB(t){for(const e in t)Fa[e]={...Fa[e],...t[e]}}const Bc=f.createContext({}),XB=Symbol.for("motionComponentSymbol"),Xt=t=>t;let bS=Xt;function JB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&QB(t);function o(a,l){let u;const d={...f.useContext(vm),...a,layoutId:eU(a)},{isStatic:h}=d,m=YB(a),p=r(a,h);if(!h&&j_){tU();const _=nU(d);u=_.MeasureLayout,m.visualElement=qB(s,p,d,e,_.ProjectionNode)}return c.jsxs(wm.Provider,{value:m,children:[u&&m.visualElement?c.jsx(u,{visualElement:m.visualElement,...d}):null,n(s,a,KB(p,m.visualElement,l),p,h,m.visualElement)]})}const i=f.forwardRef(o);return i[XB]=s,i}function eU({layoutId:t}){const e=f.useContext(Bc).id;return e&&t!==void 0?e+"-"+t:t}function tU(t,e){f.useContext(yS).strict}function nU(t){const{drag:e,layout:n}=Fa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function rU(t){function e(r,s={}){return JB(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const sU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D_(t){return typeof t!="string"||t.includes("-")?!1:!!(sU.indexOf(t)>-1||/[A-Z]/u.test(t))}const Bh={};function oU(t){Object.assign(Bh,t)}const gu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bi=new Set(gu);function kS(t,{layout:e,layoutId:n}){return bi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bh[t]||t==="opacity")}const Wt=t=>!!(t&&t.getVelocity),iU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aU=gu.length;function lU(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<aU;i++){const a=gu[i];if(t[a]!==void 0){const l=iU[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const SS=t=>e=>typeof e=="string"&&e.startsWith(t),ES=SS("--"),cU=SS("var(--"),M_=t=>cU(t)?uU.test(t.split("/*")[0].trim()):!1,uU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,co=(t,e,n)=>n>e?e:n<t?t:n,el={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Zl={...el,transform:t=>co(0,1,t)},rd={...el,default:1},Yl=t=>Math.round(t*1e5)/1e5,$_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,hU=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,fU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function yu(t){return typeof t=="string"}const _u=t=>({test:e=>yu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ts=_u("deg"),$r=_u("%"),ae=_u("px"),mU=_u("vh"),pU=_u("vw"),Bx={...$r,parse:t=>$r.parse(t)/100,transform:t=>$r.transform(t*100)},Ux={...el,transform:Math.round},TS={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,radius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,size:ae,top:ae,right:ae,bottom:ae,left:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,rotate:Ts,rotateX:Ts,rotateY:Ts,rotateZ:Ts,scale:rd,scaleX:rd,scaleY:rd,scaleZ:rd,skew:Ts,skewX:Ts,skewY:Ts,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:Zl,originX:Bx,originY:Bx,originZ:ae,zIndex:Ux,backgroundPositionX:ae,backgroundPositionY:ae,fillOpacity:Zl,strokeOpacity:Zl,numOctaves:Ux};function F_(t,e,n,r){const{style:s,vars:o,transform:i,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const m=e[h];if(ES(h)){o[h]=m;continue}const p=TS[h],_=dU(m,p);if(bi.has(h)){if(l=!0,i[h]=_,!d)continue;m!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=_):s[h]=_}if(e.transform||(l||r?s.transform=lU(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:p=0}=a;s.transformOrigin=`${h} ${m} ${p}`}}const B_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IS(t,e,n){for(const r in e)!Wt(e[r])&&!kS(r,n)&&(t[r]=e[r])}function gU({transformTemplate:t},e,n){return f.useMemo(()=>{const r=B_();return F_(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function yU(t,e,n){const r=t.style||{},s={};return IS(s,r,t),Object.assign(s,gU(t,e,n)),s}function _U(t,e,n){const r={},s=yU(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const vU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vU.has(t)}let NS=t=>!Uh(t);function wU(t){t&&(NS=e=>e.startsWith("on")?!Uh(e):t(e))}try{wU(require("@emotion/is-prop-valid").default)}catch{}function xU(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(NS(s)||n===!0&&Uh(s)||!e&&!Uh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Vx(t,e,n){return typeof t=="string"?t:ae.transform(e+n*t)}function CU(t,e,n){const r=Vx(e,t.x,t.width),s=Vx(n,t.y,t.height);return`${r} ${s}`}const bU={offset:"stroke-dashoffset",array:"stroke-dasharray"},kU={offset:"strokeDashoffset",array:"strokeDasharray"};function SU(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?bU:kU;t[o.offset]=ae.transform(-r);const i=ae.transform(e),a=ae.transform(n);t[o.array]=`${i} ${a}`}function U_(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},d,h,m){if(F_(t,u,d,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:_,dimensions:w}=t;p.transform&&(w&&(_.transform=p.transform),delete p.transform),w&&(s!==void 0||o!==void 0||_.transform)&&(_.transformOrigin=CU(w,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&SU(p,i,a,l,!1)}const jS=()=>({...B_(),attrs:{}}),V_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function EU(t,e,n,r){const s=f.useMemo(()=>{const o=jS();return U_(o,e,{enableHardwareAcceleration:!1},V_(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};IS(o,t.style,t),s.style={...o,...s.style}}return s}function TU(t=!1){return(n,r,s,{latestValues:o},i)=>{const l=(D_(n)?EU:_U)(r,o,i,n),u=xU(r,typeof n=="string",t),d=n!==f.Fragment?{...u,...l,ref:s}:{},{children:h}=r,m=f.useMemo(()=>Wt(h)?h.get():h,[h]);return f.createElement(n,{...d,children:m})}}function AS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const PS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LS(t,e,n,r){AS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(PS.has(s)?s:P_(s),e.attrs[s])}function z_(t,e,n){var r;const{style:s}=t,o={};for(const i in s)(Wt(s[i])||e.style&&Wt(e.style[i])||kS(i,t)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=s[i]);return o}function RS(t,e,n){const r=z_(t,e,n);for(const s in t)if(Wt(t[s])||Wt(e[s])){const o=gu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function zx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function H_(t,e,n,r){if(typeof e=="function"){const[s,o]=zx(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=zx(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function q_(t){const e=f.useRef(null);return e.current===null&&(e.current=t()),e.current}const Gg=t=>Array.isArray(t),IU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),NU=t=>Gg(t)?t[t.length-1]||0:t;function Pd(t){const e=Wt(t)?t.get():t;return IU(e)?e.toValue():e}function jU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const i={latestValues:AU(r,s,o,t),renderState:e()};return n&&(i.mount=a=>n(r,a,i)),i}const OS=t=>(e,n)=>{const r=f.useContext(wm),s=f.useContext(xm),o=()=>jU(t,e,r,s);return n?o():q_(o)};function AU(t,e,n,r){const s={},o=r(t,{});for(const m in o)s[m]=Pd(o[m]);let{initial:i,animate:a}=t;const l=bm(t),u=CS(t);e&&u&&!l&&t.inherit!==!1&&(i===void 0&&(i=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const h=d?a:i;return h&&typeof h!="boolean"&&!Cm(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const _=H_(t,p);if(!_)return;const{transitionEnd:w,transition:x,...v}=_;for(const g in v){let y=v[g];if(Array.isArray(y)){const C=d?y.length-1:0;y=y[C]}y!==null&&(s[g]=y)}for(const g in w)s[g]=w[g]}),s}const{schedule:Ee,cancel:gs,state:It,steps:Vp}=vS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xt,!0),PU={useVisualState:OS({scrapeMotionValuesFromProps:RS,createRenderState:jS,onMount:(t,e,{renderState:n,latestValues:r})=>{Ee.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ee.render(()=>{U_(n,r,{enableHardwareAcceleration:!1},V_(e.tagName),t.transformTemplate),LS(e,n)})}})},LU={useVisualState:OS({scrapeMotionValuesFromProps:z_,createRenderState:B_})};function RU(t,{forwardMotionProps:e=!1},n,r){return{...D_(t)?PU:LU,preloadedFeatures:n,useRender:TU(e),createVisualElement:r,Component:t}}function Xr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const DS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function km(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const OU=t=>e=>DS(e)&&t(e,km(e));function ns(t,e,n,r){return Xr(t,e,OU(n),r)}const DU=(t,e)=>n=>e(t(n)),rs=(...t)=>t.reduce(DU);function MS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Hx=MS("dragHorizontal"),qx=MS("dragVertical");function $S(t){let e=!1;if(t==="y")e=qx();else if(t==="x")e=Hx();else{const n=Hx(),r=qx();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function FS(){const t=$S(!0);return t?(t(),!1):!0}class xo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Wx(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(o,i)=>{if(o.pointerType==="touch"||FS())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ee.postRender(()=>l(o,i))};return ns(t.current,n,s,{passive:!t.getProps()[r]})}class MU extends xo{mount(){this.unmount=rs(Wx(this.node,!0),Wx(this.node,!1))}unmount(){}}class $U extends xo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rs(Xr(this.node.current,"focus",()=>this.onFocus()),Xr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const BS=(t,e)=>e?t===e?!0:BS(t,e.parentElement):!1;function zp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,km(n))}class FU extends xo{constructor(){super(...arguments),this.removeStartListeners=Xt,this.removeEndListeners=Xt,this.removeAccessibleListeners=Xt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=ns(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),m=!h&&!BS(this.node.current,a.target)?d:u;m&&Ee.update(()=>m(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=ns(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=rs(o,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||zp("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Ee.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Xr(this.node.current,"keyup",i),zp("down",(a,l)=>{this.startPress(a,l)})},n=Xr(this.node.current,"keydown",e),r=()=>{this.isPressing&&zp("cancel",(o,i)=>this.cancelPress(o,i))},s=Xr(this.node.current,"blur",r);this.removeAccessibleListeners=rs(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ee.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!FS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ee.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ns(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Xr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=rs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Kg=new WeakMap,Hp=new WeakMap,BU=t=>{const e=Kg.get(t.target);e&&e(t)},UU=t=>{t.forEach(BU)};function VU({root:t,...e}){const n=t||document;Hp.has(n)||Hp.set(n,{});const r=Hp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(UU,{root:t,...e})),r[s]}function zU(t,e,n){const r=VU(e);return Kg.set(t,n),r.observe(t),()=>{Kg.delete(t),r.unobserve(t)}}const HU={some:0,all:1};class qU extends xo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:HU[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(l)};return zU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(WU(e,n))&&this.startObserver()}unmount(){}}function WU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const GU={inView:{Feature:qU},tap:{Feature:FU},focus:{Feature:$U},hover:{Feature:MU}};function US(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Sm(t,e,n){const r=t.getProps();return H_(r,e,n!==void 0?n:r.custom,t)}const to=t=>t*1e3,ss=t=>t/1e3,KU={type:"spring",stiffness:500,damping:25,restSpeed:10},ZU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YU={type:"keyframes",duration:.8},QU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XU=(t,{keyframes:e})=>e.length>2?YU:bi.has(t)?t.startsWith("scale")?ZU(e[1]):KU:QU;function JU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function W_(t,e){return t[e]||t.default||t}const eV=t=>t!==null;function Em(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(eV),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}let Ld;function tV(){Ld=void 0}const no={now:()=>(Ld===void 0&&no.set(It.isProcessing||VB.useManualTiming?It.timestamp:performance.now()),Ld),set:t=>{Ld=t,queueMicrotask(tV)}},VS=t=>/^0[^.\s]+$/u.test(t);function nV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||VS(t):!0}const zS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),rV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sV(t){const e=rV.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function HS(t,e,n=1){const[r,s]=sV(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return zS(i)?parseFloat(i):i}return M_(s)?HS(s,e,n+1):s}const oV=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Gx=t=>t===el||t===ae,Kx=(t,e)=>parseFloat(t.split(", ")[e]),Zx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Kx(s[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?Kx(o[1],t):0}},iV=new Set(["x","y","z"]),aV=gu.filter(t=>!iV.has(t));function lV(t){const e=[];return aV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ba={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Zx(4,13),y:Zx(5,14)};Ba.translateX=Ba.x;Ba.translateY=Ba.y;const qS=t=>e=>e.test(t),cV={test:t=>t==="auto",parse:t=>t},WS=[el,ae,$r,Ts,pU,mU,cV],Yx=t=>WS.find(qS(t)),Ko=new Set;let Zg=!1,Yg=!1;function GS(){if(Yg){const t=Array.from(Ko).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=lV(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,i])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(i)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yg=!1,Zg=!1,Ko.forEach(t=>t.complete()),Ko.clear()}function KS(){Ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yg=!0)})}function uV(){KS(),GS()}class G_{constructor(e,n,r,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ko.add(this),Zg||(Zg=!0,Ee.read(KS),Ee.resolveKeyframes(GS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ko.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ko.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const K_=(t,e)=>n=>!!(yu(n)&&fU.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ZS=(t,e,n)=>r=>{if(!yu(r))return r;const[s,o,i,a]=r.match($_);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},dV=t=>co(0,255,t),qp={...el,transform:t=>Math.round(dV(t))},Uo={test:K_("rgb","red"),parse:ZS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qp.transform(t)+", "+qp.transform(e)+", "+qp.transform(n)+", "+Yl(Zl.transform(r))+")"};function hV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Qg={test:K_("#"),parse:hV,transform:Uo.transform},Xi={test:K_("hsl","hue"),parse:ZS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+$r.transform(Yl(e))+", "+$r.transform(Yl(n))+", "+Yl(Zl.transform(r))+")"},Ut={test:t=>Uo.test(t)||Qg.test(t)||Xi.test(t),parse:t=>Uo.test(t)?Uo.parse(t):Xi.test(t)?Xi.parse(t):Qg.parse(t),transform:t=>yu(t)?t:t.hasOwnProperty("red")?Uo.transform(t):Xi.transform(t)};function fV(t){var e,n;return isNaN(t)&&yu(t)&&(((e=t.match($_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(hU))===null||n===void 0?void 0:n.length)||0)>0}const YS="number",QS="color",mV="var",pV="var(",Qx="${}",gV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const a=e.replace(gV,l=>(Ut.test(l)?(r.color.push(o),s.push(QS),n.push(Ut.parse(l))):l.startsWith(pV)?(r.var.push(o),s.push(mV),n.push(l)):(r.number.push(o),s.push(YS),n.push(parseFloat(l))),++o,Qx)).split(Qx);return{values:n,split:a,indexes:r,types:s}}function XS(t){return Uc(t).values}function JS(t){const{split:e,types:n}=Uc(t),r=e.length;return s=>{let o="";for(let i=0;i<r;i++)if(o+=e[i],s[i]!==void 0){const a=n[i];a===YS?o+=Yl(s[i]):a===QS?o+=Ut.transform(s[i]):o+=s[i]}return o}}const yV=t=>typeof t=="number"?0:t;function _V(t){const e=XS(t);return JS(t)(e.map(yV))}const uo={test:fV,parse:XS,createTransformer:JS,getAnimatableNone:_V},vV=new Set(["brightness","contrast","saturate","opacity"]);function wV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match($_)||[];if(!r)return t;const s=n.replace(r,"");let o=vV.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const xV=/\b([a-z-]*)\(.*?\)/gu,Xg={...uo,getAnimatableNone:t=>{const e=t.match(xV);return e?e.map(wV).join(" "):t}},CV={...TS,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:Xg,WebkitFilter:Xg},Z_=t=>CV[t];function e8(t,e){let n=Z_(t);return n!==Xg&&(n=uo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const bV=new Set(["auto","none","0"]);function kV(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!bV.has(o)&&Uc(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=e8(n,s)}class t8 extends G_{constructor(e,n,r,s){super(e,n,r,s,s==null?void 0:s.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),M_(u))){const d=HS(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!oV.has(r)||e.length!==2)return;const[s,o]=e,i=Yx(s),a=Yx(o);if(i!==a)if(Gx(i)&&Gx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)nV(e[s])&&r.push(s);r.length&&kV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ba[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=Ba[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function n8(t){let e;return()=>(e===void 0&&(e=t()),e)}const Xx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(uo.test(t)||t==="0")&&!t.startsWith("url("));function SV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function EV(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],i=Xx(s,e),a=Xx(o,e);return!i||!a?!1:SV(t)||n==="spring"&&r}class r8{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uV(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:i,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!EV(e,r,s,o))if(i)this.options.duration=0;else{l==null||l(Em(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function s8(t,e){return e?t*(1e3/e):0}const TV=5;function o8(t,e,n){const r=Math.max(e-TV,0);return s8(n-t(r),e-r)}const Jx=.001,IV=.01,NV=10,jV=.05,AV=1;function PV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o,i=1-e;i=co(jV,AV,i),t=co(IV,NV,ss(t)),i<1?(s=u=>{const d=u*i,h=d*t,m=d-n,p=Jg(u,i),_=Math.exp(-h);return Jx-m/p*_},o=u=>{const h=u*i*t,m=h*n+n,p=Math.pow(i,2)*Math.pow(u,2)*t,_=Math.exp(-h),w=Jg(Math.pow(u,2),i);return(-s(u)+Jx>0?-1:1)*((m-p)*_)/w}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-.001+d*h},o=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=RV(s,o,a);if(t=to(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const LV=12;function RV(t,e,n){let r=n;for(let s=1;s<LV;s++)r=r-t(r)/e(r);return r}function Jg(t,e){return t*Math.sqrt(1-e*e)}const OV=["duration","bounce"],DV=["stiffness","damping","mass"];function e3(t,e){return e.some(n=>t[n]!==void 0)}function MV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!e3(t,DV)&&e3(t,OV)){const n=PV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function i8({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],i={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=MV({...r,velocity:-ss(r.velocity||0)}),p=h||0,_=l/(2*Math.sqrt(a*u)),w=o-s,x=ss(Math.sqrt(a/u)),v=Math.abs(w)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let g;if(_<1){const y=Jg(x,_);g=C=>{const b=Math.exp(-_*x*C);return o-b*((p+_*x*w)/y*Math.sin(y*C)+w*Math.cos(y*C))}}else if(_===1)g=y=>o-Math.exp(-x*y)*(w+(p+x*w)*y);else{const y=x*Math.sqrt(_*_-1);g=C=>{const b=Math.exp(-_*x*C),k=Math.min(y*C,300);return o-b*((p+_*x*w)*Math.sinh(k)+y*w*Math.cosh(k))/y}}return{calculatedDuration:m&&d||null,next:y=>{const C=g(y);if(m)i.done=y>=d;else{let b=p;y!==0&&(_<1?b=o8(g,y,C):b=0);const k=Math.abs(b)<=n,T=Math.abs(o-C)<=e;i.done=k&&T}return i.value=i.done?o:C,i}}}function t3({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},p=S=>a!==void 0&&S<a||l!==void 0&&S>l,_=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let w=n*e;const x=h+w,v=i===void 0?x:i(x);v!==x&&(w=v-h);const g=S=>-w*Math.exp(-S/r),y=S=>v+g(S),C=S=>{const E=g(S),N=y(S);m.done=Math.abs(E)<=u,m.value=m.done?v:N};let b,k;const T=S=>{p(m.value)&&(b=S,k=i8({keyframes:[m.value,_(m.value)],velocity:o8(y,S,m.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:S=>{let E=!1;return!k&&b===void 0&&(E=!0,C(S),T(S)),b!==void 0&&S>=b?k.next(S-b):(!E&&C(S),m)}}}const a8=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$V=1e-7,FV=12;function BV(t,e,n,r,s){let o,i,a=0;do i=e+(n-e)/2,o=a8(i,r,s)-t,o>0?n=i:e=i;while(Math.abs(o)>$V&&++a<FV);return i}function vu(t,e,n,r){if(t===e&&n===r)return Xt;const s=o=>BV(o,0,1,t,n);return o=>o===0||o===1?o:a8(s(o),e,r)}const UV=vu(.42,0,1,1),VV=vu(0,0,.58,1),l8=vu(.42,0,.58,1),zV=t=>Array.isArray(t)&&typeof t[0]!="number",c8=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,u8=t=>e=>1-t(1-e),Y_=t=>1-Math.sin(Math.acos(t)),d8=u8(Y_),HV=c8(Y_),h8=vu(.33,1.53,.69,.99),Q_=u8(h8),qV=c8(Q_),WV=t=>(t*=2)<1?.5*Q_(t):.5*(2-Math.pow(2,-10*(t-1))),GV={linear:Xt,easeIn:UV,easeInOut:l8,easeOut:VV,circIn:Y_,circInOut:HV,circOut:d8,backIn:Q_,backInOut:qV,backOut:h8,anticipate:WV},n3=t=>{if(Array.isArray(t)){bS(t.length===4);const[e,n,r,s]=t;return vu(e,n,r,s)}else if(typeof t=="string")return GV[t];return t},Vc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ye=(t,e,n)=>t+(e-t)*n;function Wp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function KV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,i=0;if(!e)s=o=i=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Wp(l,a,t+1/3),o=Wp(l,a,t),i=Wp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Vh(t,e){return n=>n>0?e:t}const Gp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},ZV=[Qg,Uo,Xi],YV=t=>ZV.find(e=>e.test(t));function r3(t){const e=YV(t);if(!e)return!1;let n=e.parse(t);return e===Xi&&(n=KV(n)),n}const s3=(t,e)=>{const n=r3(t),r=r3(e);if(!n||!r)return Vh(t,e);const s={...n};return o=>(s.red=Gp(n.red,r.red,o),s.green=Gp(n.green,r.green,o),s.blue=Gp(n.blue,r.blue,o),s.alpha=Ye(n.alpha,r.alpha,o),Uo.transform(s))},e0=new Set(["none","hidden"]);function QV(t,e){return e0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function XV(t,e){return n=>Ye(t,e,n)}function X_(t){return typeof t=="number"?XV:typeof t=="string"?M_(t)?Vh:Ut.test(t)?s3:tz:Array.isArray(t)?f8:typeof t=="object"?Ut.test(t)?s3:JV:Vh}function f8(t,e){const n=[...t],r=n.length,s=t.map((o,i)=>X_(o)(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}}function JV(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=X_(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function ez(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const i=e.types[o],a=t.indexes[i][s[i]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[o]=l,s[i]++}return r}const tz=(t,e)=>{const n=uo.createTransformer(e),r=Uc(t),s=Uc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?e0.has(t)&&!s.values.length||e0.has(e)&&!r.values.length?QV(t,e):rs(f8(ez(r,s),s.values),n):Vh(t,e)};function m8(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ye(t,e,n):X_(t)(t,e)}function nz(t,e,n){const r=[],s=n||m8,o=t.length-1;for(let i=0;i<o;i++){let a=s(t[i],t[i+1]);if(e){const l=Array.isArray(e)?e[i]||Xt:e;a=rs(l,a)}r.push(a)}return r}function rz(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(bS(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=nz(e,r,s),a=i.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Vc(t[d],t[d+1],u);return i[d](h)};return n?u=>l(co(t[0],t[o-1],u)):l}function sz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Vc(0,e,r);t.push(Ye(n,1,s))}}function oz(t){const e=[0];return sz(e,t.length-1),e}function iz(t,e){return t.map(n=>n*e)}function az(t,e){return t.map(()=>e||l8).splice(0,t.length-1)}function zh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=zV(r)?r.map(n3):n3(r),o={done:!1,value:e[0]},i=iz(n&&n.length===e.length?n:oz(e),t),a=rz(i,e,{ease:Array.isArray(s)?s:az(e,s)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const o3=2e4;function lz(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<o3;)e+=n,r=t.next(e);return e>=o3?1/0:e}const cz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ee.update(e,!0),stop:()=>gs(e),now:()=>It.isProcessing?It.timestamp:no.now()}},uz={decay:t3,inertia:t3,tween:zh,keyframes:zh,spring:i8},dz=t=>t/100;class J_ extends r8{constructor({KeyframeResolver:e=G_,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:s,keyframes:o}=this.options,i=(a,l)=>this.onKeyframesResolved(a,l);r&&s&&s.owner?this.resolver=s.owner.resolveKeyframes(o,i,r,s):this.resolver=new e(o,i,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=this.options,a=uz[n]||zh;let l,u;a!==zh&&typeof e[0]!="number"&&(l=rs(dz,m8(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});o==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=lz(d));const{calculatedDuration:h}=d,m=h+s,p=m*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return o.next(0);const{delay:m,repeat:p,repeatType:_,repeatDelay:w,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),g=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,C=o;if(p){const S=Math.min(this.currentTime,d)/h;let E=Math.floor(S),N=S%1;!N&&S>=1&&(N=1),N===1&&E--,E=Math.min(E,p+1),!!(E%2)&&(_==="reverse"?(N=1-N,w&&(N-=w/h)):_==="mirror"&&(C=i)),y=co(0,1,N)*h}const b=g?{done:!1,value:l[0]}:C.next(y);a&&(b.value=a(b.value));let{done:k}=b;!g&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&s!==void 0&&(b.value=Em(l,this.options,s)),x&&x(b.value),T&&this.finish(),b}get duration(){const{resolved:e}=this;return e?ss(e.calculatedDuration):0}get time(){return ss(this.currentTime)}set time(e){e=to(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ss(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=cz,onPlay:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const p8=t=>Array.isArray(t)&&typeof t[0]=="number";function g8(t){return!!(!t||typeof t=="string"&&t in ev||p8(t)||Array.isArray(t)&&t.every(g8))}const Al=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ev={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Al([0,.65,.55,1]),circOut:Al([.55,0,1,.45]),backIn:Al([.31,.01,.66,-.59]),backOut:Al([.33,1.53,.69,.99])};function hz(t){return y8(t)||ev.easeOut}function y8(t){if(t)return p8(t)?Al(t):Array.isArray(t)?t.map(hz):ev[t]}function fz(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=y8(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}const mz=n8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),pz=new Set(["opacity","clipPath","filter","transform"]),Hh=10,gz=2e4;function yz(t){return t.type==="spring"||t.name==="backgroundColor"||!g8(t.ease)}function _z(t,e){const n=new J_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let o=0;for(;!r.done&&o<gz;)r=n.sample(o),s.push(r.value),o+=Hh;return{times:void 0,keyframes:s,duration:o-Hh,ease:"linear"}}class i3 extends r8{constructor(e){super(e);const{name:n,motionValue:r,keyframes:s}=this.options;this.resolver=new t8(s,(o,i)=>this.onKeyframesResolved(o,i),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:o,ease:i,type:a,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(yz(this.options)){const{onComplete:h,onUpdate:m,motionValue:p,..._}=this.options,w=_z(e,_);e=w.keyframes,e.length===1&&(e[1]=e[0]),s=w.duration,o=w.times,i=w.ease,a="keyframes"}const d=fz(l.owner.current,u,e,{...this.options,duration:s,times:o,ease:i});return d.startTime=no.now(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(Em(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:o,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ss(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ss(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=to(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Xt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Xt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:o,ease:i,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:d,...h}=this.options,m=new J_({...h,keyframes:r,duration:s,type:o,ease:i,times:a,isGenerator:!0}),p=to(this.time);l.setWithVelocity(m.sample(p-Hh).value,m.sample(p).value,Hh)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:i,type:a}=e;return mz()&&r&&pz.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&o!=="mirror"&&i!==0&&a!=="inertia"}}function vz(t,e){let n;const r=()=>{const{currentTime:s}=e,i=(s===null?0:s.value)/100;n!==i&&t(i),n=i};return Ee.update(r,!0),()=>gs(r)}const wz=n8(()=>window.ScrollTimeline!==void 0);class xz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(wz()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),vz(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const tv=(t,e,n,r={},s,o)=>i=>{const a=W_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-to(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:s};JU(a)||(d={...d,...XU(t,d)}),d.duration&&(d.duration=to(d.duration)),d.repeatDelay&&(d.repeatDelay=to(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!o&&e.get()!==void 0){const m=Em(d.keyframes,a);if(m!==void 0)return Ee.update(()=>{d.onUpdate(m),d.onComplete()}),new xz([])}return!o&&i3.supports(d)?new i3(d):new J_(d)};function qh(t){return!!(Wt(t)&&t.add)}function nv(t,e){t.indexOf(e)===-1&&t.push(e)}function rv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class sv{constructor(){this.subscriptions=[]}add(e){return nv(this.subscriptions,e),()=>rv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const a3=30,Cz=t=>!isNaN(parseFloat(t));class bz{constructor(e,n={}){this.version="11.2.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=no.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=no.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Cz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sv);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=no.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>a3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,a3);return s8(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ua(t,e){return new bz(t,e)}function kz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ua(n))}function Sz(t,e){const n=Sm(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const i in o){const a=NU(o[i]);kz(t,i,a)}}function _8(t){return t.getProps()[_S]}function Ez({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function v8(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;const u=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const m in l){const p=t.getValue(m,(o=t.latestValues[m])!==null&&o!==void 0?o:null),_=l[m];if(_===void 0||h&&Ez(h,m))continue;const w={delay:n,elapsed:0,...W_(i||{},m)};let x=!1;if(window.HandoffAppearAnimations){const g=_8(t);if(g){const y=window.HandoffAppearAnimations(g,m,p,Ee);y!==null&&(w.elapsed=y,x=!0)}}p.start(tv(m,p,_,t.shouldReduceMotion&&bi.has(m)?{type:!1}:w,t,x));const v=p.animation;v&&(qh(u)&&(u.add(m),v.then(()=>u.remove(m))),d.push(v))}return a&&Promise.all(d).then(()=>{Ee.update(()=>{a&&Sz(t,a)})}),d}function t0(t,e,n={}){var r;const s=Sm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const i=s?()=>Promise.all(v8(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=o;return Tz(t,e,d+u,h,m,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function Tz(t,e,n=0,r=0,s=1,o){const i=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Iz).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(t0(u,e,{...o,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function Iz(t,e){return t.sortNodePosition(e)}function Nz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>t0(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=t0(t,e,n);else{const s=typeof e=="function"?Sm(t,e,n.custom):e;r=Promise.all(v8(t,s,n))}return r.then(()=>{Ee.postRender(()=>{t.notify("AnimationComplete",e)})})}const jz=[...R_].reverse(),Az=R_.length;function Pz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Nz(t,n,r)))}function Lz(t){let e=Pz(t),n=l3(),r=!0;const s=l=>(u,d)=>{var h;const m=Sm(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:_,...w}=m;u={...u,...w,..._}}return u};function o(l){e=l(t)}function i(l){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],m=new Set;let p={},_=1/0;for(let x=0;x<Az;x++){const v=jz[x],g=n[v],y=u[v]!==void 0?u[v]:d[v],C=Fc(y),b=v===l?g.isActive:null;b===!1&&(_=x);let k=y===d[v]&&y!==u[v]&&C;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),g.protectedKeys={...p},!g.isActive&&b===null||!y&&!g.prevProp||Cm(y)||typeof y=="boolean")continue;let S=Rz(g.prevProp,y)||v===l&&g.isActive&&!k&&C||x>_&&C,E=!1;const N=Array.isArray(y)?y:[y];let A=N.reduce(s(v),{});b===!1&&(A={});const{prevResolvedValues:j={}}=g,M={...j,...A},O=$=>{S=!0,m.has($)&&(E=!0,m.delete($)),g.needsAnimating[$]=!0;const L=t.getValue($);L&&(L.liveStyle=!1)};for(const $ in M){const L=A[$],P=j[$];if(p.hasOwnProperty($))continue;let I=!1;Gg(L)&&Gg(P)?I=!US(L,P):I=L!==P,I?L!=null?O($):m.add($):L!==void 0&&m.has($)?O($):g.protectedKeys[$]=!0}g.prevProp=y,g.prevResolvedValues=A,g.isActive&&(p={...p,...A}),r&&t.blockInitialAnimation&&(S=!1),S&&(!k||E)&&h.push(...N.map($=>({animation:$,options:{type:v}})))}if(m.size){const x={};m.forEach(v=>{const g=t.getBaseTarget(v),y=t.getValue(v);y&&(y.liveStyle=!0),x[v]=g??null}),h.push({animation:x})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=i(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=l3(),r=!0}}}function Rz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!US(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function l3(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class Oz extends xo{constructor(e){super(e),e.animationState||(e.animationState=Lz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Dz=0;class Mz extends xo{constructor(){super(...arguments),this.id=Dz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const $z={animation:{Feature:Oz},exit:{Feature:Mz}},c3=(t,e)=>Math.abs(t-e);function Fz(t,e){const n=c3(t.x,e.x),r=c3(t.y,e.y);return Math.sqrt(n**2+r**2)}class w8{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Zp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=Fz(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:_}=h,{timestamp:w}=It;this.history.push({..._,timestamp:w});const{onStart:x,onMove:v}=this.handlers;m||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Kp(m,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:_,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Zp(h.type==="pointercancel"?this.lastMoveEventInfo:Kp(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),_&&_(h,x)},!DS(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=km(e),a=Kp(i,this.transformPagePoint),{point:l}=a,{timestamp:u}=It;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Zp(a,this.history)),this.removeListeners=rs(ns(this.contextWindow,"pointermove",this.handlePointerMove),ns(this.contextWindow,"pointerup",this.handlePointerUp),ns(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function Kp(t,e){return e?{point:e(t.point)}:t}function u3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Zp({point:t},e){return{point:t,delta:u3(t,x8(e)),offset:u3(t,Bz(e)),velocity:Uz(e,.1)}}function Bz(t){return t[0]}function x8(t){return t[t.length-1]}function Uz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=x8(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>to(e)));)n--;if(!r)return{x:0,y:0};const o=ss(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Fn(t){return t.max-t.min}function n0(t,e=0,n=.01){return Math.abs(t-e)<=n}function d3(t,e,n,r=.5){t.origin=r,t.originPoint=Ye(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),(n0(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ye(n.min,n.max,t.origin)-t.originPoint,(n0(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ql(t,e,n,r){d3(t.x,e.x,n.x,r?r.originX:void 0),d3(t.y,e.y,n.y,r?r.originY:void 0)}function h3(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function Vz(t,e,n){h3(t.x,e.x,n.x),h3(t.y,e.y,n.y)}function f3(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Xl(t,e,n){f3(t.x,e.x,n.x),f3(t.y,e.y,n.y)}function zz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ye(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ye(n,t,r.max):Math.min(t,n)),t}function m3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Hz(t,{top:e,left:n,bottom:r,right:s}){return{x:m3(t.x,n,s),y:m3(t.y,e,r)}}function p3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function qz(t,e){return{x:p3(t.x,e.x),y:p3(t.y,e.y)}}function Wz(t,e){let n=.5;const r=Fn(t),s=Fn(e);return s>r?n=Vc(e.min,e.max-r,t.min):r>s&&(n=Vc(t.min,t.max-s,e.min)),co(0,1,n)}function Gz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const r0=.35;function Kz(t=r0){return t===!1?t=0:t===!0&&(t=r0),{x:g3(t,"left","right"),y:g3(t,"top","bottom")}}function g3(t,e,n){return{min:y3(t,e),max:y3(t,n)}}function y3(t,e){return typeof t=="number"?t:t[e]||0}const _3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ji=()=>({x:_3(),y:_3()}),v3=()=>({min:0,max:0}),at=()=>({x:v3(),y:v3()});function Hn(t){return[t("x"),t("y")]}function C8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Zz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Yz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Yp(t){return t===void 0||t===1}function s0({scale:t,scaleX:e,scaleY:n}){return!Yp(t)||!Yp(e)||!Yp(n)}function Ao(t){return s0(t)||b8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function b8(t){return w3(t.x)||w3(t.y)}function w3(t){return t&&t!=="0%"}function Wh(t,e,n){const r=t-n,s=e*r;return n+s}function x3(t,e,n,r,s){return s!==void 0&&(t=Wh(t,s,r)),Wh(t,n,r)+e}function o0(t,e=0,n=1,r,s){t.min=x3(t.min,e,n,r,s),t.max=x3(t.max,e,n,r,s)}function k8(t,{x:e,y:n}){o0(t.x,e.translate,e.scale,e.originPoint),o0(t.y,n.translate,n.scale,n.originPoint)}function Qz(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,i;for(let a=0;a<s;a++){o=n[a],i=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ea(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,k8(t,i)),r&&Ao(o.latestValues)&&ea(t,o.latestValues))}e.x=C3(e.x),e.y=C3(e.y)}function C3(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function As(t,e){t.min=t.min+e,t.max=t.max+e}function b3(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,i=Ye(t.min,t.max,o);o0(t,e[n],e[r],i,e.scale)}const Xz=["x","scaleX","originX"],Jz=["y","scaleY","originY"];function ea(t,e){b3(t.x,e,Xz),b3(t.y,e,Jz)}function S8(t,e){return C8(Yz(t.getBoundingClientRect(),e))}function eH(t,e,n){const r=S8(t,n),{scroll:s}=e;return s&&(As(r.x,s.offset.x),As(r.y,s.offset.y)),r}const E8=({current:t})=>t?t.ownerDocument.defaultView:null,tH=new WeakMap;class nH{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(km(d,"page").point)},o=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:_}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$S(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(x=>{let v=this.getAxisMotionValue(x).get()||0;if($r.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[x];y&&(v=Fn(y)*(parseFloat(v)/100))}}this.originPoint[x]=v}),_&&Ee.postRender(()=>_(d,h));const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:_,onDrag:w}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=rH(x),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Hn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new w8(e,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:E8(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ee.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!sd(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=zz(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Qi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Hz(s.layoutBox,n):this.constraints=!1,this.elastic=Kz(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Gz(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=eH(r,s.root,this.visualElement.getTransformPagePoint());let i=qz(s.layout.layoutBox,o);if(n){const a=n(Zz(i));this.hasMutatedConstraints=!!a,a&&(i=C8(a))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Hn(d=>{if(!sd(d,n,this.currentDirection))return;let h=l&&l[d]||{};i&&(h={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,_)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(tv(e,r,0,n,this.visualElement))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!sd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:a}=s.layout.layoutBox[n];o.set(e[n]-Ye(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();s[i]=Wz({min:l,max:l},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(i=>{if(!sd(i,e,null))return;const a=this.getAxisMotionValue(i),{min:l,max:u}=this.constraints[i];a.set(Ye(l,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;tH.set(this.visualElement,this);const e=this.visualElement.current,n=ns(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Qi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ee.read(r);const i=Xr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=r0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function sd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function rH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sH extends xo{constructor(e){super(e),this.removeGroupControls=Xt,this.removeListeners=Xt,this.controls=new nH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const k3=t=>(e,n)=>{t&&Ee.postRender(()=>t(e,n))};class oH extends xo{constructor(){super(...arguments),this.removePointerDownListener=Xt}onPointerDown(e){this.session=new w8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:E8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:k3(e),onStart:k3(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&Ee.postRender(()=>s(o,i))}}}mount(){this.removePointerDownListener=ns(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function iH(){const t=f.useContext(xm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=f.useId();return f.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ml={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ae.test(t))t=parseFloat(t);else return t;const n=S3(t,e.target.x),r=S3(t,e.target.y);return`${n}% ${r}%`}},aH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=uo.parse(t);if(s.length>5)return r;const o=uo.createTransformer(t),i=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+i]/=a,s[1+i]/=l;const u=Ye(a,l,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class lH extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;oU(cH),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Ee.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),L_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function T8(t){const[e,n]=iH(),r=f.useContext(Bc);return c.jsx(lH,{...t,layoutGroup:r,switchLayoutGroup:f.useContext(wS),isPresent:e,safeToRemove:n})}const cH={borderRadius:{...ml,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ml,borderTopRightRadius:ml,borderBottomLeftRadius:ml,borderBottomRightRadius:ml,boxShadow:aH},I8=["TopLeft","TopRight","BottomLeft","BottomRight"],uH=I8.length,E3=t=>typeof t=="string"?parseFloat(t):t,T3=t=>typeof t=="number"||ae.test(t);function dH(t,e,n,r,s,o){s?(t.opacity=Ye(0,n.opacity!==void 0?n.opacity:1,hH(r)),t.opacityExit=Ye(e.opacity!==void 0?e.opacity:1,0,fH(r))):o&&(t.opacity=Ye(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<uH;i++){const a=`border${I8[i]}Radius`;let l=I3(e,a),u=I3(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||T3(l)===T3(u)?(t[a]=Math.max(Ye(E3(l),E3(u),r),0),($r.test(u)||$r.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ye(e.rotate||0,n.rotate||0,r))}function I3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hH=N8(0,.5,d8),fH=N8(.5,.95,Xt);function N8(t,e,n){return r=>r<t?0:r>e?1:n(Vc(t,e,r))}function N3(t,e){t.min=e.min,t.max=e.max}function zn(t,e){N3(t.x,e.x),N3(t.y,e.y)}function j3(t,e,n,r,s){return t-=e,t=Wh(t,1/n,r),s!==void 0&&(t=Wh(t,1/s,r)),t}function mH(t,e=0,n=1,r=.5,s,o=t,i=t){if($r.test(e)&&(e=parseFloat(e),e=Ye(i.min,i.max,e/100)-i.min),typeof e!="number")return;let a=Ye(o.min,o.max,r);t===o&&(a-=e),t.min=j3(t.min,e,n,a,s),t.max=j3(t.max,e,n,a,s)}function A3(t,e,[n,r,s],o,i){mH(t,e[n],e[r],e[s],e.scale,o,i)}const pH=["x","scaleX","originX"],gH=["y","scaleY","originY"];function P3(t,e,n,r){A3(t.x,e,pH,n?n.x:void 0,r?r.x:void 0),A3(t.y,e,gH,n?n.y:void 0,r?r.y:void 0)}function L3(t){return t.translate===0&&t.scale===1}function j8(t){return L3(t.x)&&L3(t.y)}function yH(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function A8(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function R3(t){return Fn(t.x)/Fn(t.y)}class _H{constructor(){this.members=[]}add(e){nv(this.members,e),e.scheduleRender()}remove(e){if(rv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function O3(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,i=(n==null?void 0:n.z)||0;if((s||o||i)&&(r=`translate3d(${s}px, ${o}px, ${i}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:_}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const vH=(t,e)=>t.depth-e.depth;class wH{constructor(){this.children=[],this.isDirty=!1}add(e){nv(this.children,e),this.isDirty=!0}remove(e){rv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vH),this.isDirty=!1,this.children.forEach(e)}}function xH(t,e){const n=no.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(gs(r),t(o-e))};return Ee.read(r,!0),()=>gs(r)}function CH(t){window.MotionDebug&&window.MotionDebug.record(t)}function bH(t){return t instanceof SVGElement&&t.tagName!=="svg"}function kH(t,e,n){const r=Wt(t)?t:Ua(t);return r.start(tv("",r,e,n)),r.animation}const Qp=["","X","Y","Z"],SH={visibility:"hidden"},D3=1e3;let EH=0;const Po={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Xp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function P8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?_8(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?P8(t.parent):!1:!1}function L8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=e==null?void 0:e()){this.id=EH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Po.totalNodes=Po.resolvedTargetDeltas=Po.recalculatedProjection=0,this.nodes.forEach(NH),this.nodes.forEach(RH),this.nodes.forEach(OH),this.nodes.forEach(jH),CH(Po)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new wH)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new sv),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bH(i),this.instance=i;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=xH(m,250),Rd.hasAnimatedSinceResize&&(Rd.hasAnimatedSinceResize=!1,this.nodes.forEach($3))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||BH,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=d.getProps(),g=!this.targetLayout||!A8(this.targetLayout,_)||p,y=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||m&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const C={...W_(w,"layout"),onPlay:x,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||$3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(DH),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&P8(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(M3);return}this.isUpdating||this.nodes.forEach(PH),this.isUpdating=!1,this.nodes.forEach(LH),this.nodes.forEach(TH),this.nodes.forEach(IH),this.clearAllSnapshots();const a=no.now();It.delta=co(0,1e3/60,a-It.timestamp),It.timestamp=a,It.isProcessing=!0,Vp.update.process(It),Vp.preRender.process(It),Vp.render.process(It),It.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,L_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AH),this.sharedNodes.forEach(MH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!j8(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(a||Ao(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),UH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return at();const a=i.measureViewportBox(),{scroll:l}=this.root;return l&&(As(a.x,l.offset.x),As(a.y,l.offset.y)),a}removeElementScroll(i){const a=at();zn(a,i);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){zn(a,i);const{scroll:m}=this.root;m&&(As(a.x,-m.offset.x),As(a.y,-m.offset.y))}As(a.x,d.offset.x),As(a.y,d.offset.y)}}return a}applyTransform(i,a=!1){const l=at();zn(l,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ea(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ao(d.latestValues)&&ea(l,d.latestValues)}return Ao(this.latestValues)&&ea(l,this.latestValues),l}removeTransform(i){const a=at();zn(a,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ao(u.latestValues))continue;s0(u.latestValues)&&u.updateSnapshot();const d=at(),h=u.measurePageBox();zn(d,h),P3(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ao(this.latestValues)&&P3(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==It.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=It.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),Xl(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),k8(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),Xl(this.relativeTargetOrigin,this.target,p.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Po.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||s0(this.parent.latestValues)||b8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===It.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;zn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;Qz(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=at());const{target:_}=a;if(!_){this.projectionTransform&&(this.projectionDelta=Ji(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ji(),this.projectionDeltaWithTransform=Ji());const w=this.projectionTransform;Ql(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=O3(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Po.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Ji();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=at(),p=l?l.source:void 0,_=this.layout?this.layout.source:void 0,w=p!==_,x=this.getStack(),v=!x||x.members.length<=1,g=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(FH));this.animationProgress=0;let y;this.mixTargetDelta=C=>{const b=C/1e3;F3(h.x,i.x,b),F3(h.y,i.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$H(this.relativeTarget,this.relativeTargetOrigin,m,b),y&&yH(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=at()),zn(y,this.relativeTarget)),w&&(this.animationValues=d,dH(d,u,this.latestValues,b,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{Rd.hasAnimatedSinceResize=!0,this.currentAnimation=kH(0,D3,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=i;if(!(!a||!l||!u)){if(this!==i&&this.layout&&u&&R8(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||at();const h=Fn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+h;const m=Fn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+m}zn(a,l),ea(a,d),Ql(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new _H),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Xp("z",i,u,this.animationValues);for(let d=0;d<Qp.length;d++)Xp(`rotate${Qp[d]}`,i,u,this.animationValues),Xp(`skew${Qp[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return SH;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Pd(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Pd(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Ao(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=O3(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:_}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${_.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in Bh){if(m[w]===void 0)continue;const{correct:x,applyTo:v}=Bh[w],g=u.transform==="none"?m[w]:x(m[w],h);if(v){const y=v.length;for(let C=0;C<y;C++)u[v[C]]=g}else u[w]=g}return this.options.layoutId&&(u.pointerEvents=h===this?Pd(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(M3),this.root.sharedNodes.clear()}}}function TH(t){t.updateLayout()}function IH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,i=n.source!==t.layout.source;o==="size"?Hn(h=>{const m=i?n.measuredBox[h]:n.layoutBox[h],p=Fn(m);m.min=r[h].min,m.max=m.min+p}):R8(o,n.layoutBox,r)&&Hn(h=>{const m=i?n.measuredBox[h]:n.layoutBox[h],p=Fn(r[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Ji();Ql(a,r,n.layoutBox);const l=Ji();i?Ql(l,t.applyTransform(s,!0),n.measuredBox):Ql(l,r,n.layoutBox);const u=!j8(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const _=at();Xl(_,n.layoutBox,m.layoutBox);const w=at();Xl(w,r,p.layoutBox),A8(_,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function NH(t){Po.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function jH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AH(t){t.clearSnapshot()}function M3(t){t.clearMeasurements()}function PH(t){t.isLayoutDirty=!1}function LH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function RH(t){t.resolveTargetDelta()}function OH(t){t.calcProjection()}function DH(t){t.resetSkewAndRotation()}function MH(t){t.removeLeadSnapshot()}function F3(t,e,n){t.translate=Ye(e.translate,0,n),t.scale=Ye(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function B3(t,e,n,r){t.min=Ye(e.min,n.min,r),t.max=Ye(e.max,n.max,r)}function $H(t,e,n,r){B3(t.x,e.x,n.x,r),B3(t.y,e.y,n.y,r)}function FH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const BH={duration:.45,ease:[.4,0,.1,1]},U3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),V3=U3("applewebkit/")&&!U3("chrome/")?Math.round:Xt;function z3(t){t.min=V3(t.min),t.max=V3(t.max)}function UH(t){z3(t.x),z3(t.y)}function R8(t,e,n){return t==="position"||t==="preserve-aspect"&&!n0(R3(e),R3(n),.2)}const VH=L8({attachResizeListener:(t,e)=>Xr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jp={current:void 0},O8=L8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Jp.current){const t=new VH({});t.mount(window),t.setOptions({layoutScroll:!0}),Jp.current=t}return Jp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),zH={pan:{Feature:oH},drag:{Feature:sH,ProjectionNode:O8,MeasureLayout:T8}},i0={current:null},D8={current:!1};function HH(){if(D8.current=!0,!!j_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>i0.current=t.matches;t.addListener(e),e()}else i0.current=!1}function qH(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],i=n[s];if(Wt(o))t.addValue(s,o),qh(r)&&r.add(s);else if(Wt(i))t.addValue(s,Ua(o,{owner:t})),qh(r)&&r.remove(s);else if(i!==o)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(o):a.hasAnimated||a.set(o)}else{const a=t.getStaticValue(s);t.addValue(s,Ua(a!==void 0?a:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const H3=new WeakMap,WH=[...WS,Ut,uo],GH=t=>WH.find(qS(t)),q3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],KH=O_.length;class ZH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},a={}){this.resolveKeyframes=(m,p,_,w)=>new this.KeyframeResolver(m,p,_,w,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=G_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ee.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=bm(n),this.isVariantNode=CS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const p=h[m];l[m]!==void 0&&Wt(p)&&(p.set(l[m],!1),qh(d)&&d.add(m))}}mount(e){this.current=e,H3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),D8.current||HH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:i0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){H3.delete(this.current),this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=bi.has(e),s=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&Ee.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fa){const n=Fa[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<q3.length;r++){const s=q3[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=e[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=qH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<KH;r++){const s=O_[r],o=this.props[s];(Fc(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ua(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(zS(s)||VS(s))?s=parseFloat(s):!GH(s)&&uo.test(n)&&(s=e8(e,n)),this.setBaseTarget(e,Wt(s)?s.get():s)),Wt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=H_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Wt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class M8 extends ZH{constructor(){super(...arguments),this.KeyframeResolver=t8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function YH(t){return window.getComputedStyle(t)}class QH extends M8{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(bi.has(n)){const r=Z_(n);return r&&r.default||0}else{const r=YH(e),s=(ES(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return S8(e,n)}build(e,n,r,s){F_(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return z_(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){AS(e,n,r,s)}}class XH extends M8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bi.has(n)){const r=Z_(n);return r&&r.default||0}return n=PS.has(n)?n:P_(n),e.getAttribute(n)}measureInstanceViewportBox(){return at()}scrapeMotionValuesFromProps(e,n,r){return RS(e,n,r)}build(e,n,r,s){U_(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){LS(e,n,r,s)}mount(e){this.isSVGTag=V_(e.tagName),super.mount(e)}}const JH=(t,e)=>D_(t)?new XH(e,{enableHardwareAcceleration:!1}):new QH(e,{allowProjection:t!==f.Fragment,enableHardwareAcceleration:!0}),eq={layout:{ProjectionNode:O8,MeasureLayout:T8}},tq={...$z,...GU,...zH,...eq},Qe=rU((t,e)=>RU(t,e,tq,JH));function $8(){const t=f.useRef(!1);return A_(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function F8(){const t=$8(),[e,n]=f.useState(0),r=f.useCallback(()=>{t.current&&n(e+1)},[e]);return[f.useCallback(()=>Ee.postRender(r),[r]),e]}class nq extends f.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function rq({children:t,isPresent:e}){const n=f.useId(),r=f.useRef(null),s=f.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=f.useContext(vm);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:u}=s.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),c.jsx(nq,{isPresent:e,childRef:r,sizeRef:s,children:f.cloneElement(t,{ref:r})})}const e1=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const a=q_(sq),l=f.useId(),u=f.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),o?[Math.random()]:[n]);return f.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(t=c.jsx(rq,{isPresent:n,children:t})),c.jsx(xm.Provider,{value:u,children:t})};function sq(){return new Map}function oq(t){return f.useEffect(()=>()=>t(),[])}const Lo=t=>t.key||"";function iq(t,e){t.forEach(n=>{const r=Lo(n);e.set(r,n)})}function aq(t){const e=[];return f.Children.forEach(t,n=>{f.isValidElement(n)&&e.push(n)}),e}const lq=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const a=f.useContext(Bc).forceRender||F8()[0],l=$8(),u=aq(t);let d=u;const h=f.useRef(new Map).current,m=f.useRef(d),p=f.useRef(new Map).current,_=f.useRef(!0);if(A_(()=>{_.current=!1,iq(u,p),m.current=d}),oq(()=>{_.current=!0,p.clear(),h.clear()}),_.current)return c.jsx(c.Fragment,{children:d.map(g=>c.jsx(e1,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i,children:g},Lo(g)))});d=[...d];const w=m.current.map(Lo),x=u.map(Lo),v=w.length;for(let g=0;g<v;g++){const y=w[g];x.indexOf(y)===-1&&!h.has(y)&&h.set(y,void 0)}return i==="wait"&&h.size&&(d=[]),h.forEach((g,y)=>{if(x.indexOf(y)!==-1)return;const C=p.get(y);if(!C)return;const b=w.indexOf(y);let k=g;if(!k){const T=()=>{h.delete(y);const S=Array.from(p.keys()).filter(E=>!x.includes(E));if(S.forEach(E=>p.delete(E)),m.current=u.filter(E=>{const N=Lo(E);return N===y||S.includes(N)}),!h.size){if(l.current===!1)return;a(),r&&r()}};k=c.jsx(e1,{isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:o,mode:i,children:C},Lo(C)),h.set(y,k)}d.splice(b,0,k)}),d=d.map(g=>{const y=g.key;return h.has(y)?g:c.jsx(e1,{isPresent:!0,presenceAffectsLayout:o,mode:i,children:g},Lo(g))}),c.jsx(c.Fragment,{children:h.size?d:d.map(g=>f.cloneElement(g))})},cq=f.createContext(null),uq=t=>!t.isLayoutDirty&&t.willUpdate(!1);function W3(){const t=new Set,e=new WeakMap,n=()=>t.forEach(uq);return{add:r=>{t.add(r),e.set(r,r.addEventListener("willUpdate",n))},remove:r=>{t.delete(r);const s=e.get(r);s&&(s(),e.delete(r)),n()},dirty:n}}const B8=t=>t===!0,dq=t=>B8(t===!0)||t==="id",hq=({children:t,id:e,inherit:n=!0})=>{const r=f.useContext(Bc),s=f.useContext(cq),[o,i]=F8(),a=f.useRef(null),l=r.id||s;a.current===null&&(dq(n)&&l&&(e=e?l+"-"+e:l),a.current={id:e,group:B8(n)&&r.group||W3()});const u=f.useMemo(()=>({...a.current,forceRender:o}),[i]);return c.jsx(Bc.Provider,{value:u,children:t})};function U8(t){const e=q_(()=>Ua(t)),{isStatic:n}=f.useContext(vm);if(n){const[,r]=f.useState(t);f.useEffect(()=>e.on("change",r),[])}return e}var V8={},ov={},iv={};Object.defineProperty(iv,"__esModule",{value:!0});var G3="html",K3="head",od="body",fq=/<([a-zA-Z]+[0-9]?)/,Z3=/<head[^]*>/i,Y3=/<body[^]*>/i,Gh=function(t,e){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},a0=function(t,e){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Q3=typeof window=="object"&&window.DOMParser;if(typeof Q3=="function"){var mq=new Q3,pq="text/html";a0=function(t,e){return e&&(t="<".concat(e,">").concat(t,"</").concat(e,">")),mq.parseFromString(t,pq)},Gh=a0}if(typeof document=="object"&&document.implementation){var id=document.implementation.createHTMLDocument();Gh=function(t,e){if(e){var n=id.documentElement.querySelector(e);return n&&(n.innerHTML=t),id}return id.documentElement.innerHTML=t,id}}var ad=typeof document=="object"&&document.createElement("template"),l0;ad&&ad.content&&(l0=function(t){return ad.innerHTML=t,ad.content.childNodes});function gq(t){var e,n,r=t.match(fq),s=r&&r[1]?r[1].toLowerCase():"";switch(s){case G3:{var o=a0(t);if(!Z3.test(t)){var i=o.querySelector(K3);(e=i==null?void 0:i.parentNode)===null||e===void 0||e.removeChild(i)}if(!Y3.test(t)){var i=o.querySelector(od);(n=i==null?void 0:i.parentNode)===null||n===void 0||n.removeChild(i)}return o.querySelectorAll(G3)}case K3:case od:{var a=Gh(t).querySelectorAll(s);return Y3.test(t)&&Z3.test(t)?a[0].parentNode.childNodes:a}default:{if(l0)return l0(t);var i=Gh(t,od).querySelector(od);return i.childNodes}}}iv.default=gq;var Va={},av={},lv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(lv);var ve={},Co=qe&&qe.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jl=qe&&qe.__assign||function(){return Jl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Jl.apply(this,arguments)};Object.defineProperty(ve,"__esModule",{value:!0});ve.cloneNode=ve.hasChildren=ve.isDocument=ve.isDirective=ve.isComment=ve.isText=ve.isCDATA=ve.isTag=ve.Element=ve.Document=ve.CDATA=ve.NodeWithChildren=ve.ProcessingInstruction=ve.Comment=ve.Text=ve.DataNode=ve.Node=void 0;var kn=lv,cv=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),uv(this,e)},t}();ve.Node=cv;var Tm=function(t){Co(e,t);function e(n){var r=t.call(this)||this;return r.data=n,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(cv);ve.DataNode=Tm;var z8=function(t){Co(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=kn.ElementType.Text,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(Tm);ve.Text=z8;var H8=function(t){Co(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=kn.ElementType.Comment,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(Tm);ve.Comment=H8;var q8=function(t){Co(e,t);function e(n,r){var s=t.call(this,r)||this;return s.name=n,s.type=kn.ElementType.Directive,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(Tm);ve.ProcessingInstruction=q8;var Im=function(t){Co(e,t);function e(n){var r=t.call(this)||this;return r.children=n,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(cv);ve.NodeWithChildren=Im;var W8=function(t){Co(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=kn.ElementType.CDATA,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(Im);ve.CDATA=W8;var G8=function(t){Co(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=kn.ElementType.Root,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(Im);ve.Document=G8;var K8=function(t){Co(e,t);function e(n,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=n==="script"?kn.ElementType.Script:n==="style"?kn.ElementType.Style:kn.ElementType.Tag);var i=t.call(this,s)||this;return i.name=n,i.attribs=r,i.type=o,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,o;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(o=n["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(Im);ve.Element=K8;function Z8(t){return(0,kn.isTag)(t)}ve.isTag=Z8;function Y8(t){return t.type===kn.ElementType.CDATA}ve.isCDATA=Y8;function Q8(t){return t.type===kn.ElementType.Text}ve.isText=Q8;function X8(t){return t.type===kn.ElementType.Comment}ve.isComment=X8;function J8(t){return t.type===kn.ElementType.Directive}ve.isDirective=J8;function e6(t){return t.type===kn.ElementType.Root}ve.isDocument=e6;function yq(t){return Object.prototype.hasOwnProperty.call(t,"children")}ve.hasChildren=yq;function uv(t,e){e===void 0&&(e=!1);var n;if(Q8(t))n=new z8(t.data);else if(X8(t))n=new H8(t.data);else if(Z8(t)){var r=e?t1(t.children):[],s=new K8(t.name,Jl({},t.attribs),r);r.forEach(function(l){return l.parent=s}),t.namespace!=null&&(s.namespace=t.namespace),t["x-attribsNamespace"]&&(s["x-attribsNamespace"]=Jl({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(s["x-attribsPrefix"]=Jl({},t["x-attribsPrefix"])),n=s}else if(Y8(t)){var r=e?t1(t.children):[],o=new W8(r);r.forEach(function(u){return u.parent=o}),n=o}else if(e6(t)){var r=e?t1(t.children):[],i=new G8(r);r.forEach(function(u){return u.parent=i}),t["x-mode"]&&(i["x-mode"]=t["x-mode"]),n=i}else if(J8(t)){var a=new q8(t.name,t.data);t["x-name"]!=null&&(a["x-name"]=t["x-name"],a["x-publicId"]=t["x-publicId"],a["x-systemId"]=t["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}ve.cloneNode=uv;function t1(t){for(var e=t.map(function(r){return uv(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}(function(t){var e=qe&&qe.__createBinding||(Object.create?function(a,l,u,d){d===void 0&&(d=u);var h=Object.getOwnPropertyDescriptor(l,u);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,d,h)}:function(a,l,u,d){d===void 0&&(d=u),a[d]=l[u]}),n=qe&&qe.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&e(l,a,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=lv,s=ve;n(ve,t);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},i=function(){function a(l,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=o),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??o,this.elementCB=d??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new s.Element(l,u,void 0,d);this.addNode(h),this.tagStack.push(h)},a.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(l);this.addNode(d),this.lastNode=d}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new s.Comment(l);this.addNode(u),this.lastNode=u},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new s.Text(""),u=new s.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,u){var d=new s.ProcessingInstruction(l,u);this.addNode(d)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),d&&(l.prev=d,d.next=l),l.parent=u,this.lastNode=null},a}();t.DomHandler=i,t.default=i})(av);var t6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{})})(t6);Object.defineProperty(Va,"__esModule",{value:!0});Va.formatDOM=Va.formatAttributes=void 0;var ld=av,_q=t6;function vq(t){return _q.CASE_SENSITIVE_TAG_NAMES_MAP[t]}function n6(t){for(var e={},n=0,r=t.length;n<r;n++){var s=t[n];e[s.name]=s.value}return e}Va.formatAttributes=n6;function wq(t){t=t.toLowerCase();var e=vq(t);return e||t}function r6(t,e,n){e===void 0&&(e=null);for(var r=[],s,o=0,i=t.length;o<i;o++){var a=t[o];switch(a.nodeType){case 1:{var l=wq(a.nodeName);s=new ld.Element(l,n6(a.attributes)),s.children=r6(l==="template"?a.content.childNodes:a.childNodes,s);break}case 3:s=new ld.Text(a.nodeValue);break;case 8:s=new ld.Comment(a.nodeValue);break;default:continue}var u=r[o-1]||null;u&&(u.next=s),s.parent=e,s.prev=u,s.next=null,r.push(s)}return n&&(s=new ld.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),s.next=r[0]||null,s.parent=e,r.unshift(s),r[1]&&(r[1].prev=r[0])),r}Va.formatDOM=r6;var xq=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ov,"__esModule",{value:!0});var Cq=xq(iv),bq=Va,kq=/<(![a-zA-Z\s]+)>/;function Sq(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];var e=t.match(kq),n=e?e[1]:void 0;return(0,bq.formatDOM)((0,Cq.default)(t),null,n)}ov.default=Sq;var Nm={},yr={},jm={},Eq=0;jm.SAME=Eq;var Tq=1;jm.CAMELCASE=Tq;jm.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const s6=0,bo=1,Am=2,Pm=3,dv=4,o6=5,i6=6;function Iq(t){return Ot.hasOwnProperty(t)?Ot[t]:null}function dn(t,e,n,r,s,o,i){this.acceptsBooleans=e===Am||e===Pm||e===dv,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}const Ot={},Nq=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Nq.forEach(t=>{Ot[t]=new dn(t,s6,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,e])=>{Ot[t]=new dn(t,bo,!1,e,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(t=>{Ot[t]=new dn(t,Am,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{Ot[t]=new dn(t,Am,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{Ot[t]=new dn(t,Pm,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(t=>{Ot[t]=new dn(t,Pm,!0,t,null,!1,!1)});["capture","download"].forEach(t=>{Ot[t]=new dn(t,dv,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(t=>{Ot[t]=new dn(t,i6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(t=>{Ot[t]=new dn(t,o6,!1,t.toLowerCase(),null,!1,!1)});const hv=/[\-\:]([a-z])/g,fv=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const e=t.replace(hv,fv);Ot[e]=new dn(e,bo,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const e=t.replace(hv,fv);Ot[e]=new dn(e,bo,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(t=>{const e=t.replace(hv,fv);Ot[e]=new dn(e,bo,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(t=>{Ot[t]=new dn(t,bo,!1,t.toLowerCase(),null,!1,!1)});const jq="xlinkHref";Ot[jq]=new dn("xlinkHref",bo,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(t=>{Ot[t]=new dn(t,bo,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:Aq,SAME:Pq,possibleStandardNames:X3}=jm,Lq=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Rq=Lq+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Oq=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+Rq+"]*$")),Dq=Object.keys(X3).reduce((t,e)=>{const n=X3[e];return n===Pq?t[e]=e:n===Aq?t[e.toLowerCase()]=e:t[e]=n,t},{});yr.BOOLEAN=Pm;yr.BOOLEANISH_STRING=Am;yr.NUMERIC=o6;yr.OVERLOADED_BOOLEAN=dv;yr.POSITIVE_NUMERIC=i6;yr.RESERVED=s6;yr.STRING=bo;yr.getPropertyInfo=Iq;yr.isCustomAttribute=Oq;yr.possibleStandardNames=Dq;var mv={},pv={},J3=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Mq=/\n/g,$q=/^\s*/,Fq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Bq=/^:\s*/,Uq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Vq=/^[;\s]*/,zq=/^\s+|\s+$/g,Hq=`
`,eC="/",tC="*",Ro="",qq="comment",Wq="declaration",Gq=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function s(_){var w=_.match(Mq);w&&(n+=w.length);var x=_.lastIndexOf(Hq);r=~x?_.length-x:r+_.length}function o(){var _={line:n,column:r};return function(w){return w.position=new i(_),u(),w}}function i(_){this.start=_,this.end={line:n,column:r},this.source=e.source}i.prototype.content=t;function a(_){var w=new Error(e.source+":"+n+":"+r+": "+_);if(w.reason=_,w.filename=e.source,w.line=n,w.column=r,w.source=t,!e.silent)throw w}function l(_){var w=_.exec(t);if(w){var x=w[0];return s(x),t=t.slice(x.length),w}}function u(){l($q)}function d(_){var w;for(_=_||[];w=h();)w!==!1&&_.push(w);return _}function h(){var _=o();if(!(eC!=t.charAt(0)||tC!=t.charAt(1))){for(var w=2;Ro!=t.charAt(w)&&(tC!=t.charAt(w)||eC!=t.charAt(w+1));)++w;if(w+=2,Ro===t.charAt(w-1))return a("End of comment missing");var x=t.slice(2,w-2);return r+=2,s(x),t=t.slice(w),r+=2,_({type:qq,comment:x})}}function m(){var _=o(),w=l(Fq);if(w){if(h(),!l(Bq))return a("property missing ':'");var x=l(Uq),v=_({type:Wq,property:nC(w[0].replace(J3,Ro)),value:x?nC(x[0].replace(J3,Ro)):Ro});return l(Vq),v}}function p(){var _=[];d(_);for(var w;w=m();)w!==!1&&(_.push(w),d(_));return _}return u(),p()};function nC(t){return t?t.replace(zq,Ro):Ro}var Kq=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pv,"__esModule",{value:!0});var Zq=Kq(Gq);function Yq(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,Zq.default)(t),s=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var i=o.property,a=o.value;s?e(i,a,o):a&&(n=n||{},n[i]=a)}}),n}pv.default=Yq;var Lm={};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.camelCase=void 0;var Qq=/^--[a-zA-Z0-9-]+$/,Xq=/-([a-z])/g,Jq=/^[^-]+$/,eW=/^-(webkit|moz|ms|o|khtml)-/,tW=/^-(ms)-/,nW=function(t){return!t||Jq.test(t)||Qq.test(t)},rW=function(t,e){return e.toUpperCase()},rC=function(t,e){return"".concat(e,"-")},sW=function(t,e){return e===void 0&&(e={}),nW(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(tW,rC):t=t.replace(eW,rC),t.replace(Xq,rW))};Lm.camelCase=sW;var oW=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},iW=oW(pv),aW=Lm;function c0(t,e){var n={};return!t||typeof t!="string"||(0,iW.default)(t,function(r,s){r&&s&&(n[(0,aW.camelCase)(r,e)]=s)}),n}c0.default=c0;var lW=c0;(function(t){var e=qe&&qe.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var n=f,r=e(lW),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(d,h){return d.includes("-")?!s.has(d):!!(h&&typeof h.is=="string")}t.isCustomComponent=o;var i={reactCompat:!0};function a(d,h){if(typeof d=="string"){if(!d.trim()){h.style={};return}try{h.style=(0,r.default)(d,i)}catch{h.style={}}}}t.setStyleProp=a,t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(d){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};t.canTextBeChildOfNode=l;var u=function(d){return d};t.returnFirstArg=u})(mv);Object.defineProperty(Nm,"__esModule",{value:!0});var Pl=yr,sC=mv,cW=["checked","value"],uW=["input","select","textarea"],dW={reset:!0,submit:!0};function hW(t,e){t===void 0&&(t={});var n={},r=!!(t.type&&dW[t.type]);for(var s in t){var o=t[s];if((0,Pl.isCustomAttribute)(s)){n[s]=o;continue}var i=s.toLowerCase(),a=oC(i);if(a){var l=(0,Pl.getPropertyInfo)(a);switch(cW.includes(a)&&uW.includes(e)&&!r&&(a=oC("default"+i)),n[a]=o,l&&l.type){case Pl.BOOLEAN:n[a]=!0;break;case Pl.OVERLOADED_BOOLEAN:o===""&&(n[a]=!0);break}continue}sC.PRESERVE_CUSTOM_ATTRIBUTES&&(n[s]=o)}return(0,sC.setStyleProp)(t.style,n),n}Nm.default=hW;function oC(t){return Pl.possibleStandardNames[t]}var gv={},fW=qe&&qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gv,"__esModule",{value:!0});var n1=f,mW=fW(Nm),ec=mv,pW={cloneElement:n1.cloneElement,createElement:n1.createElement,isValidElement:n1.isValidElement};function a6(t,e){e===void 0&&(e={});for(var n=[],r=typeof e.replace=="function",s=e.transform||ec.returnFirstArg,o=e.library||pW,i=o.cloneElement,a=o.createElement,l=o.isValidElement,u=t.length,d=0;d<u;d++){var h=t[d];if(r){var m=e.replace(h,d);if(l(m)){u>1&&(m=i(m,{key:m.key||d})),n.push(s(m,h,d));continue}}if(h.type==="text"){var p=!h.data.trim().length;if(p&&h.parent&&!(0,ec.canTextBeChildOfNode)(h.parent)||e.trim&&p)continue;n.push(s(h.data,h,d));continue}var _=h,w={};gW(_)?((0,ec.setStyleProp)(_.attribs.style,_.attribs),w=_.attribs):_.attribs&&(w=(0,mW.default)(_.attribs,_.name));var x=void 0;switch(h.type){case"script":case"style":h.children[0]&&(w.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?w.defaultValue=h.children[0].data:h.children&&h.children.length&&(x=a6(h.children,e));break;default:continue}u>1&&(w.key=d),n.push(s(a(h.name,w,x),h,d))}return n.length===1?n[0]:n}gv.default=a6;function gW(t){return ec.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&(0,ec.isCustomComponent)(t.name,t.attribs)}(function(t){var e=qe&&qe.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var n=e(ov);t.htmlToDOM=n.default;var r=e(Nm);t.attributesToProps=r.default;var s=e(gv);t.domToReact=s.default;var o=av;Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return o.Text}});var i={lowerCaseAttributeNames:!1};function a(l,u){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,s.default)((0,n.default)(l,(u==null?void 0:u.htmlparser2)||i),u):[]}t.default=a})(V8);const iC=Jh(V8),gr=iC.default||iC;function yW({messages:t,backgroundColor:e,textColor:n,date:r,photoClick:s}){const o=(h,m)=>{s(h,m)},{authUser:i}=ce(),{theme:a,setThemeById:l,elementColors:u,setElementColors:d}=f.useContext(B);return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Ke["data-container"],style:{background:e,color:n},children:r}),t.map((h,m)=>c.jsxs("div",{className:Ke["message-body"],children:[c.jsxs("div",{className:Ke["user-container"],children:[c.jsx("div",{className:Ke["user-photo"],children:h.isUser?c.jsx("img",{src:i.avatar,className:Ke["user-avatar"]}):c.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[c.jsx("stop",{"stop-color":a.gradient_first_color}),c.jsx("stop",{offset:"1","stop-color":a.gradient_second_color})]})})]})}),c.jsx("div",{className:Ke["user-name"],style:{color:n},children:h.isUser?h.userName:"Genery"})]}),h.photos&&c.jsx("div",{className:Ke["images-body"],children:c.jsx("div",{className:Ke[`images-wrapper_${h.photos.length}`],children:h.photos.map((p,_)=>c.jsx(Qe.div,{className:Ke[`image_${_}`],whileTap:{scale:1.5},children:c.jsx("img",{src:p,onClick:()=>o(h.photos,_)})}))})}),c.jsx("div",{className:Ke["message-text"],style:{color:n},children:gr(h.text)})]},m))]})}function _W({textColor:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=f.useContext(B);return c.jsxs("div",{className:Ke["message-body"],children:[c.jsxs("div",{className:Ke["user-container"],children:[c.jsx("div",{className:Ke["user-photo"],children:c.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[c.jsx("stop",{"stop-color":e.first_color}),c.jsx("stop",{offset:"1","stop-color":e.element_first_color})]})})]})}),c.jsx("div",{className:Ke["user-name"],style:{color:t},children:"Genery"})]}),c.jsx("div",{className:Ke["skeleton-high"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),c.jsx("div",{className:Ke["skeleton-meduim"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),c.jsx("div",{className:Ke["skeleton-small"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}})]})}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=["user","model","function","system"];var kr;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(kr||(kr={}));var Sr;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Sr||(Sr={}));var lC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(lC||(lC={}));var cC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(cC||(cC={}));var Kh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(Kh||(Kh={}));var uC;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(uC||(uC={}));var dC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(dC||(dC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hC;(function(t){t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(hC||(hC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class ji extends on{constructor(e,n){super(e),this.response=n}}class fC extends on{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class Od extends on{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW="https://generativelanguage.googleapis.com",wW="v1beta",xW="0.10.0",CW="genai-js";var ci;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ci||(ci={}));class l6{constructor(e,n,r,s,o){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=o}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||wW;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||vW}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function bW(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${CW}/${xW}`),e.join(" ")}async function kW(t){const e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",bW(t.requestOptions)),e.append("x-goog-api-key",t.apiKey);let n=t.requestOptions.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(r){throw new Od(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${r.message}`)}for(const[r,s]of n.entries()){if(r==="x-goog-api-key")throw new Od(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new Od(`Header name ${r} can only be set using the apiClient field`);e.append(r,s)}}return e}async function SW(t,e,n,r,s,o){const i=new l6(t,e,n,r,o);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},TW(o)),{method:"POST",headers:await kW(i),body:s})}}async function wu(t,e,n,r,s,o){return EW(t,e,n,r,s,o,fetch)}async function EW(t,e,n,r,s,o,i=fetch){const a=new l6(t,e,n,r,o);let l;try{const u=await SW(t,e,n,r,s,o);if(l=await i(u.url,u.fetchOptions),!l.ok){let d="",h;try{const m=await l.json();d=m.error.message,m.error.details&&(d+=` ${JSON.stringify(m.error.details)}`,h=m.error.details)}catch{}throw new fC(`Error fetching from ${a.toString()}: [${l.status} ${l.statusText}] ${d}`,l.status,l.statusText,h)}}catch(u){let d=u;throw u instanceof fC||u instanceof Od||(d=new on(`Error fetching from ${a.toString()}: ${u.message}`),d.stack=u.stack),d}return l}function TW(t){const e={};if((t==null?void 0:t.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),t.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Dd(t.candidates[0]))throw new ji(`${Ps(t)}`,t);return IW(t)}else if(t.promptFeedback)throw new ji(`Text not available. ${Ps(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Dd(t.candidates[0]))throw new ji(`${Ps(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),mC(t)[0]}else if(t.promptFeedback)throw new ji(`Function call not available. ${Ps(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Dd(t.candidates[0]))throw new ji(`${Ps(t)}`,t);return mC(t)}else if(t.promptFeedback)throw new ji(`Function call not available. ${Ps(t)}`,t)},t}function IW(t){var e,n,r,s;return!((s=(r=(n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?t.candidates[0].content.parts.map(({text:o})=>o).join(""):""}function mC(t){var e,n,r,s;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const i of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)i.functionCall&&o.push(i.functionCall);if(o.length>0)return o}const NW=[Kh.RECITATION,Kh.SAFETY];function Dd(t){return!!t.finishReason&&NW.includes(t.finishReason)}function Ps(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];Dd(o)&&(s+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(s+=`: ${o.finishMessage}`))}return s}function zc(t){return this instanceof zc?(this.v=t,this):new zc(t)}function jW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(m){r[m]&&(s[m]=function(p){return new Promise(function(_,w){o.push([m,p,_,w])>1||a(m,p)})})}function a(m,p){try{l(r[m](p))}catch(_){h(o[0][3],_)}}function l(m){m.value instanceof zc?Promise.resolve(m.value.v).then(u,d):h(o[0][2],m)}function u(m){a("next",m)}function d(m){a("throw",m)}function h(m,p){m(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function AW(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=RW(e),[r,s]=n.tee();return{stream:LW(r),response:PW(s)}}async function PW(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return yv(OW(e));e.push(s)}}function LW(t){return jW(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield zc(n.read());if(s)break;yield yield zc(yv(r))}})}function RW(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return o();function o(){return e.read().then(({value:i,done:a})=>{if(a){if(s.trim()){r.error(new on("Failed to parse stream"));return}r.close();return}s+=i;let l=s.match(pC),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new on(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(pC)}return o()})}}})}function OW(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const s of r.candidates){const o=s.index;if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:s.index}),n.candidates[o].citationMetadata=s.citationMetadata,n.candidates[o].finishReason=s.finishReason,n.candidates[o].finishMessage=s.finishMessage,n.candidates[o].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[o].content||(n.candidates[o].content={role:s.content.role||"user",parts:[]});const i={};for(const a of s.content.parts)a.text&&(i.text=a.text),a.functionCall&&(i.functionCall=a.functionCall),Object.keys(i).length===0&&(i.text=""),n.candidates[o].content.parts.push(i)}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e,n,r){const s=await wu(e,ci.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return AW(s)}async function u6(t,e,n,r){const o=await(await wu(e,ci.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:yv(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Zh(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return DW(e)}function DW(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),s=!0):(e.parts.push(o),r=!0);if(r&&s)throw new on("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new on("No content is provided for sending chat message.");return r?e:n}function r1(t){let e;return t.contents?e=t:e={contents:[Zh(t)]},t.systemInstruction&&(e.systemInstruction=d6(t.systemInstruction)),e}function MW(t){return typeof t=="string"||Array.isArray(t)?{content:Zh(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=["text","inlineData","functionCall","functionResponse"],$W={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},yC={user:["model"],function:["model"],model:["user","function"],system:[]};function FW(t){let e;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new on(`First content should be with role 'user', got ${r}`);if(!aC.includes(r))throw new on(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(aC)}`);if(!Array.isArray(s))throw new on("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new on("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0};for(const a of s)for(const l of gC)l in a&&(o[l]+=1);const i=$W[r];for(const a of gC)if(!i.includes(a)&&o[a]>0)throw new on(`Content with role '${r}' can't contain '${a}' part`);if(e&&!yC[r].includes(e.role))throw new on(`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(yC)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="SILENT_ERROR";class BW{constructor(e,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(FW(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r,s,o,i;await this._sendPromise;const a=Zh(e),l={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,contents:[...this._history,a]};let u;return this._sendPromise=this._sendPromise.then(()=>u6(this._apiKey,this.model,l,this.requestOptions)).then(d=>{var h;if(d.response.candidates&&d.response.candidates.length>0){this._history.push(a);const m=Object.assign({parts:[],role:"model"},(h=d.response.candidates)===null||h===void 0?void 0:h[0].content);this._history.push(m)}else{const m=Ps(d.response);m&&console.warn(`sendMessage() was unsuccessful. ${m}. Inspect response object for details.`)}u=d}),await this._sendPromise,u}async sendMessageStream(e){var n,r,s,o,i;await this._sendPromise;const a=Zh(e),l={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,contents:[...this._history,a]},u=c6(this._apiKey,this.model,l,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>u).catch(d=>{throw new Error(_C)}).then(d=>d.response).then(d=>{if(d.candidates&&d.candidates.length>0){this._history.push(a);const h=Object.assign({},d.candidates[0].content);h.role||(h.role="model"),this._history.push(h)}else{const h=Ps(d);h&&console.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(d=>{d.message!==_C&&console.error(d)}),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UW(t,e,n,r){return(await wu(e,ci.COUNT_TOKENS,t,!1,JSON.stringify(Object.assign(Object.assign({},n),{model:e})),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VW(t,e,n,r){return(await wu(e,ci.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function zW(t,e,n,r){const s=n.requests.map(i=>Object.assign(Object.assign({},i),{model:e}));return(await wu(e,ci.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,n,r){this.apiKey=e,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=d6(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=r1(e);return u6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}async generateContentStream(e){const n=r1(e);return c6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}startChat(e){return new BW(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},e),this.requestOptions)}async countTokens(e){const n=r1(e);return UW(this.apiKey,this.model,n,this.requestOptions)}async embedContent(e){const n=MW(e);return VW(this.apiKey,this.model,n,this.requestOptions)}async batchEmbedContents(e){return zW(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new on("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new HW(this.apiKey,e,n)}}async function WW(t){return{inlineData:{data:await new Promise(n=>{const r=new FileReader;r.onloadend=()=>n(r.result.split(",")[1]),r.readAsDataURL(t)}),mimeType:t.type}}}async function GW(t,e){const r=localStorage.getItem("censor")==="true"?[{category:kr.HARM_CATEGORY_HARASSMENT,threshold:Sr.BLOCK_LOW_AND_ABOVE},{category:kr.HARM_CATEGORY_HATE_SPEECH,threshold:Sr.BLOCK_LOW_AND_ABOVE},{category:kr.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Sr.BLOCK_LOW_AND_ABOVE},{category:kr.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Sr.BLOCK_LOW_AND_ABOVE}]:[{category:kr.HARM_CATEGORY_HARASSMENT,threshold:Sr.BLOCK_NONE},{category:kr.HARM_CATEGORY_HATE_SPEECH,threshold:Sr.BLOCK_NONE},{category:kr.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:Sr.BLOCK_NONE},{category:kr.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:Sr.BLOCK_NONE}],s="tunedModels/untitled-tuned-model-br14g0ftksw6",o="AIzaSyCkA6qe0gFiRJctb3l9iGnI7YTyyN3kTkg",a=new qW(o).getGenerativeModel({model:s}),l={temperature:.5,topK:1,topP:1,maxOutputTokens:2048};try{const u=await Promise.all(e.map(WW));let d;e.length>0?d=await a.generateContent([t,...u]):d=await a.generateContent({contents:[{role:"user",userInput:t}],generationConfig:l,safetySettings:r});const h=await d.response.text();return console.log(h),[h,!1]}catch(u){return console.error("Ошибка при запросе к Google Generative AI:",u),["Ошибка при генерации ответа",!1]}}const Tn={"input-container":"_input-container_hubm7_1","button-circle":"_button-circle_hubm7_28","input-message-body":"_input-message-body_hubm7_45","image-previewer":"_image-previewer_hubm7_56","image-wrapper":"_image-wrapper_hubm7_66","remove-image":"_remove-image_hubm7_81","image-no-select":"_image-no-select_hubm7_102","input-message-wrapper":"_input-message-wrapper_hubm7_111","emoji-button":"_emoji-button_hubm7_120","message-input":"_message-input_hubm7_138","send-button":"_send-button_hubm7_171","emoji-img":"_emoji-img_hubm7_192"},KW="_show_esoz4_22",ZW="_categories_esoz4_27",YW="_emoji_esoz4_2",nr={"emoji-panel":"_emoji-panel_esoz4_2",show:KW,categories:ZW,"emoji-category":"_emoji-category_esoz4_50","emojies-container":"_emojies-container_esoz4_69","category-name":"_category-name_esoz4_78","emojies-body":"_emojies-body_esoz4_86","emojies-content":"_emojies-content_esoz4_95",emoji:YW,"emoji-img":"_emoji-img_esoz4_116","emoji-img-text":"_emoji-img-text_esoz4_124"},vC=[{name:"smiles",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M7.99985 15C8.84985 15.63 9.88485 16 10.9998 16C12.1148 16 13.1498 15.63 13.9998 15" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M14.9998 9.50003C14.9998 10.328 14.5518 11 13.9998 11C13.4478 11 12.9998 10.328 12.9998 9.50003C12.9998 8.67203 13.4478 8.00003 13.9998 8.00003C14.5518 8.00003 14.9998 8.67203 14.9998 9.50003Z" fill="{theme.text_first_color}"/>
                <path d="M7.99994 11C8.55222 11 8.99994 10.3285 8.99994 9.50003C8.99994 8.6716 8.55222 8.00003 7.99994 8.00003C7.44765 8.00003 6.99994 8.6716 6.99994 9.50003C6.99994 10.3285 7.44765 11 7.99994 11Z" fill="{theme.text_first_color}"/>
            </svg>
         
        `,isImgEmoji:!1,emojis:["😀","😃","😄","😁","😆","😅","😂","🤣","😭","😉","😗","😙","😚","😘","🥰","😍","🤩","🥳","🙃","🙂","🥲","🥹","😋","😛","😝","😜","🤪","😇","😊","😊","😏","😏","😌","😔","😑","😐","😶","🫡","🤔","🤫","🫢","🤭","🥱","🤗","🫣","😱","🤨","🧐","😒","🙄","😮‍💨","😤","😠","😡","🤬","🥺","😟","😟","😢","☹️","🙁","🫤","😕","🤐","😰","😨","😧","😦","😮","😯","😲","😳","🤯","😬","😓","😞","😖","😣","😩","😫","😵","😵‍💫","🫥","😴","😪","🤤","🌛","🌜","🌚","🌝","🌞","🫠","😶‍🌫️","🥴","🥵","🥶","🤢","🤮","🤧","🤒","🤕","😷","🤠","🤠","😎","🤓","🥸","🤥","🤡","👻","💩","👽","🤖","🎃","😈","👿","👹","👺","🔥","💫","⭐","🌟","✨","💥","💯","💢","💨","💦","🫧","💤","🕳️","🎉","🎊","🙈","🙉","🙊","😺","😸","😹","😻","😼","😽","🙀","😿","😾","👶","🧒","👦","👧","🧑","👱‍♂️","👱‍♀️","👨","👩","🧔","👨‍🦰","👩‍🦰","👨‍🦱","👩‍🦱","👨‍🦳","👩‍🦳","👨‍🦲","👩‍🦲","👱","👴","👵","🧓","👲","👳‍♂️","👳‍♀️","🧕","👮‍♂️","👮‍♀️","👷‍♂️","👷‍♀️","💂‍♂️","💂‍♀️","🕵️‍♂️","🕵️‍♀️","👩‍⚕️","👨‍⚕️","👩‍🌾","👨‍🌾","👩‍🍳","👨‍🍳","👩‍🎓","👨‍🎓","👩‍🏫","👨‍🏫","👩‍⚖️","👨‍⚖️","👩‍🌾","👨‍🌾","👩‍⚕️","👨‍⚕️","👩‍💻","👨‍💻","👩‍💼","👨‍💼","👩‍🔧","👨‍🔧","👩‍🔬","👨‍🔬","👩‍🎨","👨‍🎨","👩‍🚒","👨‍🚒","👩‍✈️","👨‍✈️","👩‍🚀","👨‍🚀","👩‍⚖️","👨‍⚖️","👰","🤵","👸","🤴","🤶","🎅","🧙‍♀️","🧙‍♂️","🧝‍♀️","🧝‍♂️","🧛‍♀️","🧛‍♂️","🧟‍♀️","🧟‍♂️","🧞‍♀️","🧞‍♂️","🧜‍♀️","🧜‍♂️","🧚‍♀️","🧚‍♂️","👼","🤰","🤱","👩‍🍼","👨‍🍼","🙇‍♀️","🙇‍♂️","💁‍♀️","💁‍♂️","🙅‍♀️","🙅‍♂️","🙆‍♀️","🙆‍♂️","🙋‍♀️","🙋‍♂️","🧏‍♀️","🧏‍♂️","🙎‍♀️","🙎‍♂️","🙍‍♀️","🙍‍♂️","💇‍♀️","💇‍♂️","💆‍♀️","💆‍♂️","🧖‍♀️","🧖‍♂️","🧘‍♀️","🧘‍♂️","🛀","🛌","🕴️","💃","🕺","👯‍♀️","👯‍♂️","🕴️","🚶‍♀️","🚶‍♂️","🏃‍♀️","🏃‍♂️","👭","👫","👬","💑","👩‍❤️‍👩","👨‍❤️‍👨","👩‍❤️‍👨","🧑‍🤝‍🧑","👭","👫","👬","💏","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨"]},{name:"animals",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="30" height="23" viewBox="0 0 30 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24.94 8.924C26.4954 10.7636 26.172 13.0148 26.172 15C26.172 20.4684 18.7982 22 15 22C11.2018 22 3.82798 20.4684 3.82798 15C3.82798 13.0148 3.50458 10.7636 5.05998 8.924M24.94 8.924C24.667 8.602 24.338 8.294 23.9376 8M24.94 8.924C25.92 9.4882 26.1706 7.377 26.172 6.6868V4.0632C26.172 1.7882 24.6082 1 23.267 1C21.9272 1 19.2448 3.1882 18.3516 3.1882C17.2792 3.1882 17.072 2.9684 15 2.9684C12.928 2.9684 12.7208 3.1882 11.6484 3.1882C10.7552 3.1882 8.07278 1 6.73298 1C5.39178 1 3.82798 1.7882 3.82798 4.0632V6.6882C3.83078 7.377 4.07998 9.4882 5.05998 8.924M5.05998 8.924C5.33298 8.602 5.66198 8.294 6.06238 8" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M16.1564 16.4C16.1564 16.6422 15.651 16.8382 15.0266 16.8382C14.4036 16.8382 13.8982 16.6422 13.8982 16.4C13.8982 16.1578 14.4036 15.9632 15.0266 15.9632C15.651 15.9632 16.1564 16.1592 16.1564 16.4ZM19.9 13.0316C19.9 13.635 19.5962 14.125 19.2224 14.125C18.8486 14.125 18.5448 13.635 18.5448 13.0316C18.5448 12.4268 18.8486 11.9382 19.2224 11.9382C19.5962 11.9382 19.9 12.4296 19.9 13.0316ZM11.5 13.0316C11.5 13.635 11.1962 14.125 10.8224 14.125C10.4486 14.125 10.1448 13.635 10.1448 13.0316C10.1448 12.4268 10.4486 11.9382 10.8224 11.9382C11.1962 11.9382 11.5 12.4296 11.5 13.0316Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M29 15.6566C28.3238 15.2184 25.388 14.125 24.2582 14.125M26.7418 19.1566C26.0642 18.7184 24.4836 17.625 23.3538 17.625M1 15.6566C1.6776 15.2184 4.612 14.125 5.7418 14.125M3.2582 19.1566C3.9358 18.7184 5.5164 17.625 6.6462 17.625" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🙈","🙉","🙊","🐵","🦁","🐯","🐱","🐶","🐺","🐻","🐻‍❄️","🐨","🐼","🐹","🐭","🐰","🦊","🦝","🐮","🐷","🐽","🐗","🦓","🦄","🐴","🐸","🐲","🦎","🐉","🦖","🦕","🐢","🐊","🐍","🐁","🐀","🐇","🐈","🐈‍⬛","🐩","🐕","🦮","🐕‍🦺","🐕‍🦺","🐆","🐎","🐖","🐄","🐂","🐃","🦬","🐏","🐑","🐐","🦌","🦙","🦥","🦘","🐘","🦣","🦏","🦛","🦒","🐒","🦍","🦧","🐪","🐫","🐿️","🦫","🦨","🦡","🦔","🦦","🦇","🪶","🪶","🦉","🐓","🐔","🐣","🐤","🐥","🐦","🦜","🕊️","🕊️","🦢","🦩","🦚","🦃","🦆","🐧","🦭","🦈","🦈","🐬","🐋","🐳","🐟","🐠","🐡","🦐","🦞","🦀","🦑","🐙","🦪","🪸","🦂","🕷️","🕸️","🐚","🐌","🐜","🦗","🪲","🦟","🪳","🪰","🐝","🐞","🦋","🐛","🪱","🦠","🐾"]},{name:"food",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.4286 7.28573C8.86121 7.28573 1 4.1632 1 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 12C1 19.8368 5.71835 23 7.28571 23C8.85308 23 8.86121 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28573C11.9959 7.28573 19.8571 4.1632 19.8571 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M19.8653 11.9879C19.8653 19.8247 15.1388 23 13.5714 23C12.0041 23 11.9959 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4285 7.28571C10.4285 2.58362 7.28568 1 7.28568 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C10.4286 1.01626 13.5755 2.56736 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C15.1306 5.71835 16.7102 4.13473 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>

        `,isImgEmoji:!1,emojis:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🫒","🥑","🍆","🥔","🥕","🌽","🌶️","🫑","🥒","🥬","🥦","🧄","🧅","🍄","🥜","🫘","🌰","🍞","🥐","🥖","🫓","🥨","🥯","🥞","🧇","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🫔","🥙","🧆","🥚","🍳","🥘","🍲","🫕","🥣","🥗","🍿","🧈","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🦪","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🫖","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🫗","🥤","🧋","🧃","🧉","🧊","🥢","🍽️","🍴","🥄"]},{name:"exercise",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 11C21 16.523 16.523 21 11 21C5.477 21 1 16.523 1 11C1 5.477 5.477 1 11 1C16.523 1 21 5.477 21 11Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 4C7.99 7.52 8.01 14.462 4 18M18 18C13.99 14.462 14.01 7.52 18 4" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🥅","🏒","🏑","🏏","⛳","🪁","🥌","🛷","🥋","⛸️","🥊","🥋","🥅","🥋","🥌","🛷","⛷️","🏂","🏋️‍♀️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸‍♂️","⛹️‍♀️","⛹️‍♂️","🤺","🤾‍♀️","🤾‍♂️","🏌️‍♀️","🏌️‍♂️","🏇","🧘‍♀️","🧘‍♂️","🏄‍♀️","🏄‍♂️","🏊‍♀️","🏊‍♂️","🤽‍♀️","🤽‍♂️","🚣‍♀️","🚣‍♂️","🚴‍♀️","🚴‍♂️","🚵‍♀️","🚵‍♂️","🎽","🏅","🎖️","🥇","🥈","🥉","🏆","🏵️","🎗️","🎫","🎟️","🎭","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🎷","🎺","🎸","🎻","🎲","🎯","🎳","🎮","🎰"]},{name:"transport",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22.3341 8.30094H23.4404C23.7495 8.30094 24 8.55146 24 8.8605V8.8605C24 9.16954 23.7495 9.42006 23.4404 9.42006H23.167C22.707 9.42006 22.3341 9.79299 22.3341 10.253V16C22.3341 17.1046 21.4387 18 20.3341 18H18.601C17.9535 18 17.4286 17.4751 17.4286 16.8276V16.8276C17.4286 16.1801 16.9037 15.6552 16.2562 15.6552H12.5H8.74385C8.09634 15.6552 7.57143 16.1801 7.57143 16.8276V16.8276C7.57143 17.4751 7.04652 18 6.39902 18H4.66592C3.56136 18 2.66592 17.1046 2.66592 16V10.253C2.66592 9.79299 2.293 9.42006 1.83297 9.42006H1.55957C1.25054 9.42006 1.00001 9.16954 1.00001 8.8605V8.8605C1.00001 8.55146 1.25054 8.30094 1.55957 8.30094H2.66592M22.3341 8.30094L19.2752 2.11364C18.938 1.43164 18.2431 1 17.4823 1H12.5H7.51769C6.7569 1 6.062 1.43164 5.72483 2.11364L2.66592 8.30094M22.3341 8.30094H2.66592" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <circle cx="6.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
                <circle cx="18.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🚚","🚛","🚜","🛴","🚲","🛵","🏍️","🛺","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","⚓","🚧","⛽","🚏","🚦","🚥","🛑","🚧","⚠️","🚸","🚨","🛑","⚠️","🚏","🛣️","🛤️","🛢️","💈","🛎️","🧭","🧱","🛠️","🪛","🧰","🔧","🔨","⚒️","🪓","🔩","⚙️","🗜️","🧲","🪚","🔪","🗡️","⚔️","🛡️","🔫","🪃","🪚","🪓","🧲","🛠️","🧱","⚙️","🔩","🔨","🛢️","🧭","🛤️","🛣️","🛑","🛎️","🛠️","🧰","🧱","🧲","🔧","🔨","⚒️","🪓","🔩","⚙️","🗜️","🪚","🔪","🗡️","⚔️","🛡️","🔫","🪃"]},{name:"objects",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.501 18.5012C6.501 17.7872 6.501 17.4312 6.462 17.1942C6.34 16.4312 6.319 16.3822 5.832 15.7822C5.68 15.5952 5.12 15.0942 4 14.0902C2.86788 13.0776 2.06988 11.7452 1.71159 10.2692C1.3533 8.79316 1.45161 7.24315 1.9935 5.82422C2.53539 4.4053 3.49533 3.18434 4.7463 2.3229C5.99727 1.46147 7.48031 1.00015 8.99919 1C10.5181 0.999848 12.0012 1.46086 13.2523 2.32205C14.5035 3.18324 15.4637 4.404 16.0058 5.82282C16.548 7.24164 16.6466 8.79164 16.2886 10.2677C15.9306 11.7438 15.1329 13.0764 14.001 14.0892C12.88 15.0932 12.32 15.5952 12.169 15.7812C11.682 16.3812 11.661 16.4302 11.538 17.1932C11.5 17.4302 11.5 17.7872 11.5 18.5002H6.5C6.5 19.4352 6.5 19.9022 6.701 20.2502C6.83265 20.4782 7.02199 20.6676 7.25 20.7992C7.598 21.0002 8.065 21.0002 9 21.0002C9.935 21.0002 10.402 21.0002 10.751 20.8002C10.979 20.6686 11.1684 20.4792 11.3 20.2512C11.501 19.9032 11.501 19.4362 11.501 18.5012" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M9.00001 16.0002V14.0002M9.00001 14.0002C9.35106 14.0002 9.69593 13.9077 9.99996 13.7322C10.304 13.5567 10.5565 13.3042 10.732 13.0002M9.00001 14.0002C8.64895 14.0002 8.30408 13.9077 8.00005 13.7322C7.69602 13.5567 7.44355 13.3042 7.26801 13.0002" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","💰","💳","💎","⚖️","🪜","🧰","🧲","🪛","🔧","🔨","⚒️","🛠️","⛏️","🪚","🔩","⚙️","🗜️","⚗️","🧪","🧫","🧬","🔬","🔭","📡","💉","🩸","💊","🩹","🩺","🚪","🛏️","🛋️","🪑","🚽","🚿","🛁","🪠","🪣","🧹","🧺","🧻","🪟","🪑","🛌","🛋️","🚪","🛏️","🛋️","🪑","🚽","🚿","🛁","🪠","🪣","🧹","🧺","🧻","🪟","🛒","🎁","🎈","🎏","🎀","🎊","🎉","🎎","🏮","🎐","🧧","📩","📨","📧","💌","📮","📪","📫","📬","📭","📦","📤","📥","📜","📃","📄","📑","📊","📈","📉","📁","📂","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","📅","📆","🗳️","🔒","🔓","🔏","🔐","🔑","🗝️","🪙","🧾","💼","📁","📂","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","📅","📆","🗳️","🔒","🔓","🔏","🔐","🔑","🗝️","🪙","🧾","💼","❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🛗","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","⚧️","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🔟","🔢","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","🔀","🔁","🔂","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","🔄","↪️","↩️","⤴️","⤵️","🔃","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","⬛","⬜","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","➕","➖","➗","✖️","♾️","‼️","⁉️","❓","❔","❗","❕","🔀","🔁","🔂","🕛","🕧","🕐","🕜","🕑","🕝","🕒","🕞","🕓","🕟","🕔","🕠","🕕","🕡","🕖","🕢","🕗","🕣","🕘","🕤","🕙","🕥","🕚","🕦"]},{name:"flags",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 12.9675C2.06816 11.9163 3.50427 11.3274 5 11.3274C6.49573 11.3274 7.93184 11.9163 9 12.9675C10.0682 14.0188 11.5043 14.6076 13 14.6076C14.4957 14.6076 15.9318 14.0188 17 12.9675V2.6401C15.9318 3.69136 14.4957 4.28019 13 4.28019C11.5043 4.28019 10.0682 3.69136 9 2.6401C7.93184 1.58884 6.49573 1 5 1C3.50427 1 2.06816 1.58884 1 2.6401V12.9675ZM1 12.9675V21" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🏁","🚩","🎌","🏴","🏳️","🏳️‍🌈","🏳️‍⚧️","🏴‍☠️","🇦🇫","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇨","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇦","🇧🇼","🇧🇷","🇮🇴","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇨🇻","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇰🇾","🇨🇫","🇹🇩","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇨🇮","🇯🇲","🇯🇵","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇰","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇲🇵","🇰🇵","🇲🇰","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇬🇸","🇸🇧","🇸🇴","🇿🇦","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇲🇫","🇵🇲","🇻🇨","🇸🇩","🇸🇷","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🇺🇸","🇻🇮","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]},{name:"genery",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/genery/icon.png",isImgEmoji:!0,emojis:["emojies/genery/1.png","emojies/genery/2.png","emojies/genery/3.png","emojies/genery/4.png","emojies/genery/5.png","emojies/genery/6.png","emojies/genery/7.png","emojies/genery/8.png","emojies/genery/9.png","emojies/genery/10.png","emojies/genery/11.png","emojies/genery/12.png","emojies/genery/13.png","emojies/genery/14.png","emojies/genery/15.png","emojies/genery/16.png","emojies/genery/17.png","emojies/genery/18.png","emojies/genery/19.png","emojies/genery/20.png","emojies/genery/21.png","emojies/genery/22.png","emojies/genery/23.png","emojies/genery/24.png"]},{name:"kyrgyzstan",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/kyrgyzstan/icon.png",isImgEmoji:!0,emojis:["emojies/kyrgyzstan/1.png","emojies/kyrgyzstan/2.png","emojies/kyrgyzstan/3.png","emojies/kyrgyzstan/4.png","emojies/kyrgyzstan/5.png","emojies/kyrgyzstan/6.png","emojies/kyrgyzstan/7.png","emojies/kyrgyzstan/8.png","emojies/kyrgyzstan/9.png","emojies/kyrgyzstan/10.png","emojies/kyrgyzstan/11.png","emojies/kyrgyzstan/12.png"]},{name:"winter_2024",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/winter_2024/icon.png",isImgEmoji:!0,emojis:["emojies/winter_2024/1.png","emojies/winter_2024/2.png","emojies/winter_2024/3.png","emojies/winter_2024/4.png","emojies/winter_2024/5.png","emojies/winter_2024/6.png","emojies/winter_2024/7.png","emojies/winter_2024/8.png","emojies/winter_2024/9.png","emojies/winter_2024/10.png","emojies/winter_2024/11.png","emojies/winter_2024/12.png"]}];function QW({isShow:t,isImages:e,isTop:n,marginTop:r,onEmojiSelect:s}){const{theme:o,setThemeById:i,elementColors:a,setElementColors:l}=f.useContext(B),{authUser:u}=ce(),[d,h]=f.useState(vC[0].name),[m,p]=f.useState(["smiles","animals","food","exercise","transport","objects","flags"]),_=f.useRef({}),w=f.useRef(),x=f.useRef(),[v,g]=f.useState(),[y,C]=f.useState([]);f.useEffect(()=>{g(r)},[r]);const b=(S,E)=>{if(h(S),_.current[S]&&x.current){const N=_.current[S].offsetTop-x.current.offsetTop;x.current.scrollTo({top:N,behavior:"smooth"})}},k=(S,E,N)=>{s(S,E,N)};f.useEffect(()=>{(async()=>{if(u&&u._id){const E=G(V,"users",u._id,"info","preferences"),N=await se(E);if(N.exists()){const A=N.data();p(j=>[...j,...A.boughtEmojies])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const T=m?vC.filter(S=>m.includes(S.name)):[];return f.useEffect(()=>{const S=N=>{w.current&&(w.current.scrollLeft+=N.deltaY/5)},E=w.current;return E&&E.addEventListener("wheel",S),()=>{E&&E.removeEventListener("wheel",S)}},[]),f.useEffect(()=>{const S={root:x.current,rootMargin:"0px",threshold:Array.from({length:101},(A,j)=>j/100)},E=new IntersectionObserver(A=>{A.forEach(j=>{j.isIntersecting&&h(j.target.getAttribute("data-category"))})},S),N=Object.values(_.current);return N.forEach(A=>{E.observe(A)}),()=>{N.forEach(A=>{E.unobserve(A)})}},[]),c.jsxs("div",{className:`${nr["emoji-panel"]} ${t?nr.show:""}`,style:{background:o.element_first_color,bottom:n?"auto":"50px",top:n?`${r}`:"auto",transformOrigin:n?"top left":"bottom left",boxShadow:`0 5px 10px 5px ${o.shadow_color}`},children:[c.jsx("style",{children:`
                    div::-webkit-scrollbar {
                      width: 6px; /* Ширина ползунка */
                    }

                    /* Стилизация ползунка скроллбара */
                    div::-webkit-scrollbar-thumb {
                      background-color: ${o.text_second_color}; /* Цвет ползунка */
                      border-radius: 5px; /* Закругление углов ползунка */
                      cursor: pointer;
                    }

                    /* Стилизация фона скроллбара */
                    div::-webkit-scrollbar-track {
                      border-radius: 0 0 50px 0;
                      background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                    }
                `}),c.jsx("div",{className:nr.categories,style:{},ref:w,children:T.map(S=>{const E=S.icon.replace(/{theme.text_first_color}/g,o.text_first_color);return c.jsx("button",{className:nr["emoji-category"],onClick:()=>b(S.name,S.isCustom),onMouseEnter:N=>{N.currentTarget.style.background=o.element_second_color},onMouseLeave:N=>{N.currentTarget.style.background=d===S.name?o.element_second_color:"none"},style:{background:d===S.name?o.element_second_color:"none","--font":S.fontFamily},children:S.emojiIcon?S.icon:S.emojiIconImg?c.jsx("img",{src:S.icon,className:nr["emoji-img"]}):gr(E)},S.name)})}),c.jsx("div",{className:nr["emojies-container"],ref:x,children:T.map(S=>c.jsxs("div",{className:nr["emojies-body"],"data-category":S.name,ref:E=>_.current[S.name]=E,children:[c.jsx("h2",{className:nr["category-name"],style:{color:o.text_first_color},children:S.name}),c.jsx("div",{className:nr["emojies-content"],children:S.emojis.map((E,N)=>S.isImgEmoji?c.jsx("img",{src:E,className:nr["emoji-img-text"],onClick:()=>k(E,S.isImgEmoji,S.fontFamily),onMouseEnter:A=>{A.currentTarget.style.background=o.element_second_color},onMouseLeave:A=>{A.currentTarget.style.background="none"}},N):c.jsx("span",{className:nr.emoji,style:{fontFamily:S.fontFamily},onClick:()=>k(E,S.isImgEmoji,S.fontFamily),onMouseEnter:A=>{A.currentTarget.style.background=o.element_second_color},onMouseLeave:A=>{A.currentTarget.style.background="none"},children:E},N))})]},S.name))})]})}const wC={"notif-area":"_notif-area_1bj00_1","notif-body":"_notif-body_1bj00_14"};function ct({text:t,isShow:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),o={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,top:"70%"},hidden:{opacity:1,top:"100%"}};return c.jsx(Qe.div,{className:wC["notif-area"],animate:e?"open":"closed",variants:o,transition:{duration:.3},children:c.jsx(Qe.div,{className:wC["notif-body"],variants:o,initial:"hidden",animate:e?"show":"hidden",transition:{duration:.4},style:{background:n.element_first_color,color:n.text_first_color},children:t})})}function xu({isPanelTop:t,placeholder:e,Addtext:n,onClearText:r,onSend:s,addFiles:o}){const{theme:i,setElementColors:a}=f.useContext(B),l=f.useRef(null);f.useRef(null);const[u,d]=f.useState(""),[h,m]=f.useState(!1),[p,_]=f.useState([]),w=f.useRef(),x=f.useRef(null),[v,g]=f.useState(50),[y,C]=f.useState({isShow:!1,text:""});f.useEffect(()=>{n&&d(n+"​")},[n]),f.useEffect(()=>{if(y.isShow){const A=setTimeout(()=>{C({isShow:!1})},1e3);return()=>clearTimeout(A)}},[y]),f.useEffect(()=>{if(u===""){r&&r(),l.current.style.height="auto",x.current.style.height="10px",g(50);return}const A=parseInt(x.current.style.height.replace("px",""),10);A>40&&t&&(A>90?g(120):g(`${A+20}px`))},[u]);const b=()=>{u===""&&p.length===0||(s(u,p),d(""),_([]),m(!1),x.current.style.lineHeight="30px",x.current.style.height="10px",l.current.style.height="auto")},k=A=>{A.key==="Enter"&&(A.preventDefault(),b())},T=(A,j,M)=>{let O;if(j){O=`<img class="${Tn["emoji-img"]}" src="${A}" style="width: 22px; height: 22px"/>`,d(u+O+"​");return}const $=`<span class="${Tn.emoji}" style="font-family: ${M}">${A}</span>`;d(u+$+"​")},S=A=>{let j=A.target.innerHTML;d(j)};f.useEffect(()=>{if(p.length>0){g(160);return}g(50)},[p]);const E=A=>{g($=>$+100);const j=A.target.files;if(j.length>5){C({isShow:!0,text:"Максимально возможное число фотографий - 5"});return}for(let $=0;$<j.length;$++){const L=j[$];if(!L.type.startsWith("image/")){C({isShow:!0,text:`Файл ${L.name} не является изображением. Выберите только изображения.`});return}}if(j.length>5)return;Array.from(A.target.files).forEach($=>{console.log($),_(L=>[...L,$])}),w.current.value=""},N=A=>{_(j=>j.filter((M,O)=>O!==A))};return f.useEffect(()=>{const A=document.createRange();A.selectNodeContents(x.current),A.collapse(!1);const j=window.getSelection();j.removeAllRanges(),j.addRange(A)},[u]),f.useEffect(()=>{const A=M=>{x.current&&(x.current.scrollTop+=M.deltaY)},j=x.current;return j&&j.addEventListener("wheel",A),()=>{j&&j.removeEventListener("wheel",A)}},[]),c.jsx(c.Fragment,{children:c.jsxs("section",{className:Tn["input-container"],children:[c.jsx(ct,{isShow:y.isShow,text:y.text}),c.jsx(QW,{isShow:h,isTop:t,marginTop:`${v}px`,isImages:p.length>0&&!0,onEmojiSelect:T}),o&&c.jsxs("button",{className:Tn["button-circle"],style:{background:i.element_first_color},onClick:()=>document.getElementById("file-input").click(),children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"})}),c.jsx("input",{type:"file",id:"file-input",multiple:!0,ref:w,style:{display:"none"},onChange:E})]}),c.jsxs("div",{className:Tn["input-message-body"],style:{background:i.element_first_color},children:[p.length>0&&c.jsx("div",{className:Tn["image-previewer"],children:p.map((A,j)=>c.jsxs("div",{className:Tn["image-wrapper"],children:[c.jsx("button",{className:Tn["remove-image"],onClick:()=>N(j),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})}),c.jsx("div",{className:Tn["image-no-select"]}),A&&c.jsx("img",{src:URL.createObjectURL(A),alt:"Preview"})]},j))}),c.jsxs("div",{className:Tn["input-message-wrapper"],ref:l,style:{alignItems:t?"flex-end":"flex-start"},children:[c.jsx("button",{className:Tn["emoji-button"],onClick:()=>m(!h),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",stroke:i.text_first_color,"stroke-width":"2"}),c.jsx("path",{d:"M8.25049 15.5C9.13085 16.1525 10.2028 16.5357 11.3576 16.5357C12.5125 16.5357 13.5844 16.1525 14.4648 15.5",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"}),c.jsx("path",{d:"M15.5006 9.80356C15.5006 10.6611 15.0366 11.3571 14.4649 11.3571C13.8932 11.3571 13.4292 10.6611 13.4292 9.80356C13.4292 8.94599 13.8932 8.24999 14.4649 8.24999C15.0366 8.24999 15.5006 8.94599 15.5006 9.80356Z",fill:i.text_first_color}),c.jsx("path",{d:"M8.25007 11.3571C8.82208 11.3571 9.28578 10.6616 9.28578 9.80356C9.28578 8.94555 8.82208 8.24999 8.25007 8.24999C7.67806 8.24999 7.21436 8.94555 7.21436 9.80356C7.21436 10.6616 7.67806 11.3571 8.25007 11.3571Z",fill:i.text_first_color})]})}),c.jsx("div",{ref:x,className:Tn["message-input"],contentEditable:!0,onInput:S,onKeyPress:k,"data-placeholder":e,dangerouslySetInnerHTML:{__html:u},suppressContentEditableWarning:!0,style:{color:i.text_first_color,caretColor:i.first_color,"--placeholder-color":i.text_third_color}}),c.jsx("button",{className:Tn["send-button"],style:{background:i.first_color},onClick:b,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 11.2071C1.81658 11.5976 1.18342 11.5976 0.792893 11.2071C0.402369 10.8166 0.402369 10.1834 0.792893 9.79289L2.20711 11.2071ZM10.5 0.5C11.0523 0.5 11.5 0.947715 11.5 1.5L11.5 10.5C11.5 11.0523 11.0523 11.5 10.5 11.5C9.94772 11.5 9.5 11.0523 9.5 10.5L9.5 2.5L1.5 2.5C0.947715 2.5 0.5 2.05228 0.5 1.5C0.5 0.947715 0.947715 0.5 1.5 0.5L10.5 0.5ZM0.792893 9.79289L9.79289 0.792893L11.2071 2.20711L2.20711 11.2071L0.792893 9.79289Z",fill:i.text_first_color})})})]})]})]})})}const XW="_animated_ra5ui_14",JW="_show_ra5ui_34",eG="_close_ra5ui_76",tG="_download_ra5ui_84",fn={"viewer-area":"_viewer-area_ra5ui_1",animated:XW,"image-view":"_image-view_ra5ui_18","viewer-actions":"_viewer-actions_ra5ui_23","prev-button":"_prev-button_ra5ui_28","next-button":"_next-button_ra5ui_31",show:JW,"viewer-button":"_viewer-button_ra5ui_65",close:eG,download:tG,"image-wrapper":"_image-wrapper_ra5ui_91","image-view-bg":"_image-view-bg_ra5ui_159","image-no-select":"_image-no-select_ra5ui_174"};function Ur({isShow:t,images:e,index:n,onClose:r}){const{theme:s,setElementColors:o}=f.useContext(B),[i,a]=f.useState(n),[l,u]=f.useState([]),[d,h]=f.useState(!1),m=U8(0);f.useEffect(()=>{console.log(e);let C=[];Array.isArray(e)?u(e):(C.push(e),u(C),console.log(C))},[e]),f.useEffect(()=>{a(n)},[n]);const p=()=>{a(C=>C===l.length-1?0:C+1)},_=()=>{a(C=>C===0?l.length-1:C-1)},w=()=>{h(!0)},x=()=>{h(!1),m.get()<-50?a(C=>C===0?l.length-1:C-1):m.get()>50&&a(C=>C===l.length-1?0:C+1),m.set(0)},v=C=>{const b=decodeURIComponent(C),k=b.indexOf("post_photos/"),T=b.indexOf("?alt=media");if(k===-1||T===-1)throw new Error("Не удалось найти путь в URL");return b.substring(k,T)},g=()=>{const C=l[i],b=document.createElement("a");console.log("URL:",C);const k="повестка.png";if(C.startsWith("blob:"))console.log("Downloading blob URL"),b.href=C,b.download=k,document.body.appendChild(b),b.click(),document.body.removeChild(b);else if(C.startsWith("https://firebasestorage.googleapis.com")){console.log("Downloading from Firebase Storage");try{const T=v(C);$n(Sn(En,T)).then(S=>{console.log("Firebase download URL:",S),fetch(S).then(E=>{if(!E.ok)throw new Error("Network response was not ok.");return E.blob()}).then(E=>{console.log("Blob:",E);const N=window.URL.createObjectURL(E);console.log("Blob URL:",N),b.href=N,b.download=k,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(N)}).catch(E=>{console.error("Error fetching file:",E)})}).catch(S=>{console.error("Error getting download URL from Firebase:",S)})}catch(T){console.error("Error converting Firebase URL:",T)}}else console.log("Downloading from other URL"),b.href=C,b.download=k,document.body.appendChild(b),b.click(),document.body.removeChild(b)},y={enter:{opacity:0,x:90,scale:.5,transition:{duration:.2}},center:{opacity:1,x:0,scale:1,transition:{duration:.2}},exit:{opacity:0,x:-90,scale:.5,transition:{duration:.2}}};return c.jsxs("div",{className:`${fn["viewer-area"]} ${fn.animated} ${t?fn.show:""}`,children:[c.jsxs("div",{className:fn["viewer-actions"],children:[c.jsx("button",{className:`${fn["viewer-button"]} ${fn.download}`,onClick:g,children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1C8.5 0.447715 8.05228 2.41411e-08 7.5 0C6.94772 -2.41411e-08 6.5 0.447715 6.5 1L8.5 1ZM6.79289 14.435C7.18342 14.8256 7.81658 14.8256 8.20711 14.435L14.5711 8.07107C14.9616 7.68054 14.9616 7.04738 14.5711 6.65685C14.1805 6.26633 13.5474 6.26633 13.1569 6.65685L7.5 12.3137L1.84315 6.65685C1.45262 6.26633 0.819456 6.26633 0.428932 6.65685C0.0384075 7.04738 0.0384075 7.68054 0.428932 8.07107L6.79289 14.435ZM6.5 1L6.5 13.7279L8.5 13.7279L8.5 1L6.5 1Z",fill:s.text_first_color})})}),c.jsx("button",{className:`${fn["viewer-button"]} ${fn.close}`,onClick:r,children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:s.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]}),c.jsxs("div",{className:fn["image-wrapper"],children:[l.length>1&&c.jsx("button",{className:fn["prev-button"],onClick:_,children:c.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.3638 6.36395C14.9161 6.36395 15.3638 6.81167 15.3638 7.36395C15.3638 7.91624 14.9161 8.36395 14.3638 8.36395L14.3638 6.36395ZM0.92874 8.07106C0.538216 7.68053 0.538216 7.04737 0.92874 6.65684L7.2927 0.292884C7.68323 -0.0976401 8.31639 -0.09764 8.70692 0.292884C9.09744 0.683409 9.09744 1.31657 8.70692 1.7071L3.05006 7.36395L8.70691 13.0208C9.09744 13.4113 9.09744 14.0445 8.70691 14.435C8.31639 14.8255 7.68322 14.8255 7.2927 14.435L0.92874 8.07106ZM14.3638 8.36395L1.63585 8.36395L1.63585 6.36395L14.3638 6.36395L14.3638 8.36395Z",fill:s.text_first_color})})}),c.jsx(Qe.div,{className:fn["image-view"],variants:y,style:{x:m},drag:"x",dragConstraints:{left:0,right:0},onDragStart:w,onDragEnd:x,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween"},children:c.jsxs("div",{className:fn["image-view-bg"],children:[c.jsx("div",{className:fn["image-no-select"]}),c.jsx("img",{src:l&&l[i]},l[i])]})},l[i]),l.length>1&&c.jsx("button",{className:fn["next-button"],onClick:p,children:c.jsx("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9C0.447715 9 0 8.55228 0 8C0 7.44772 0.447715 7 1 7L1 9ZM14.435 7.29289C14.8256 7.68342 14.8256 8.31658 14.435 8.70711L8.07107 15.0711C7.68054 15.4616 7.04738 15.4616 6.65685 15.0711C6.26633 14.6805 6.26633 14.0474 6.65685 13.6569L12.3137 8L6.65685 2.34315C6.26633 1.95262 6.26633 1.31946 6.65685 0.928932C7.04738 0.538408 7.68054 0.538408 8.07107 0.928932L14.435 7.29289ZM1 7L13.7279 7V9L1 9L1 7Z",fill:s.text_first_color})})})]})]})}function nG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),[s,o]=f.useState(""),[i,a]=f.useState({}),[l,u]=f.useState(),{authUser:d}=ce();f.useRef(null);const h=f.useRef(null),[m,p]=f.useState(!1),[_,w]=f.useState(!0);f.useEffect(()=>{w(Object.keys(i).length===0)},[i]);const[x,v]=f.useState({isShow:!1,images:[],index:null}),g=le();f.useEffect(()=>{h.current&&window.scrollTo(0,1e6)},[i]),f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>g("/menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[B]),f.useEffect(()=>{const k=mr(ps(Qt(V,"users",d._id,"messages"),xi("timestamp","asc")),T=>{const S={};T.forEach(E=>{const N=E.data(),A=new Date(N.timestamp),j=N.isUser,M=A.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});S[M]||(S[M]=[]);const O={...N,isUser:j,userName:d.name};S[M].push(O)}),a(S)});return()=>{k()}},[]);const y=async(k,T)=>{try{const S=new Date().toISOString();await um(Qt(V,"users",d._id,"messages"),{text:k.text,timestamp:S,isUser:T,userName:d.name,photos:k.images}),console.log("Message saved successfully.")}catch(S){console.error("Error adding document: ",S)}},C=async(k,T)=>{try{const S=new Date().toISOString();let E=[];for(const O of T){const $=Sn(En,`messenger_photos/${d._id}/${S}_${O.name}`);await pr($,O);const L=await $n($);E.push(L)}await y({text:k,images:E},!0),u(!0);const[A,j]=await GW(k,T);await y({text:A,images:[]},j),u(!1)}catch(S){console.error("Error handling send: ",S),u(!1)}finally{u(!1)}},b=(k,T)=>{v({isShow:!0,images:k,index:T})};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Ke["background-cover"],style:{background:t.background_color},children:c.jsx(xu,{placeholder:"Сообщение",isPanelTop:!1,onSend:C})}),c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsxs("div",{className:Ke.container,children:[c.jsx(Ur,{isShow:x.isShow,images:x.images,index:x.index,onClose:()=>v({isShow:!1})}),c.jsxs("div",{className:Ke["messages-container"],ref:h,style:{background:t.background_color},children:[_?c.jsxs("div",{className:Ke.greeting,children:[c.jsxs("div",{className:Ke["greeting-title"],style:{background:`linear-gradient(90deg,${t.gradient_first_color} 0%,${t.gradient_second_color} 50%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Привет, ",d.name,"!"]}),c.jsx("div",{className:Ke["greeting-text"],style:{color:t.text_second_color},children:"Чем я могу помочь?"})]}):Object.keys(i).map(k=>c.jsx(yW,{date:k,messages:i[k],textColor:t.text_first_color,backgroundColor:t.element_first_color,photoClick:b},k)),l&&c.jsx(_W,{textColor:t.text_first_color},"loading")]})]})]})}const rG="_container_r65pq_1",sG="_week_r65pq_11",oG="_day_r65pq_20",iG="_edit_r65pq_92",aG="_circle_r65pq_121",lG="_button_r65pq_131",Ne={container:rG,week:sG,day:oG,"day-date":"_day-date_r65pq_35","lessons-container":"_lessons-container_r65pq_40","lesson-body":"_lesson-body_r65pq_49","lesson-circle":"_lesson-circle_r65pq_60","lesson-name":"_lesson-name_r65pq_69","lesson-time":"_lesson-time_r65pq_74","lesson-room":"_lesson-room_r65pq_79","info-body":"_info-body_r65pq_85",edit:iG,"add-body":"_add-body_r65pq_112",circle:aG,button:lG};function cG({color:t,backgroundColor:e,textColor:n,lessonName:r,lessonTimeStart:s,lessonTimeEnd:o,lessonRoom:i,arrowColor:a}){const{theme:l,elementColors:u,setElementColors:d}=f.useContext(B),[h,m]=f.useState("var(--first-color)"),[p,_]=f.useState("var(--text-first-color)");return c.jsxs("div",{className:Ne["lesson-body"],style:{background:e},children:[c.jsx("circle",{className:Ne["lesson-circle"],style:{background:t},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.29289 10.7071C9.68342 11.0976 10.3166 11.0976 10.7071 10.7071C11.0976 10.3166 11.0976 9.68342 10.7071 9.29289L9.29289 10.7071ZM1 4.72575e-08C0.447715 -3.74211e-07 -3.74211e-07 0.447715 4.72575e-08 1L-1.63477e-07 10C-1.63477e-07 10.5523 0.447715 11 1 11C1.55228 11 2 10.5523 2 10L2 2L10 2C10.5523 2 11 1.55228 11 1C11 0.447715 10.5523 -1.63477e-07 10 -1.63477e-07L1 4.72575e-08ZM10.7071 9.29289L1.70711 0.292893L0.292893 1.70711L9.29289 10.7071L10.7071 9.29289Z",fill:a})})}),c.jsxs("div",{className:Ne["lesson-info"],children:[c.jsx("div",{className:Ne["lesson-name"],style:{color:n},children:r}),c.jsx("div",{className:Ne["lesson-time"],style:{color:n},children:`${s} - ${o}`})]}),c.jsx("div",{className:Ne["lesson-room"],style:{color:n},children:i})]})}const uG="_area_1d870_1",dG="_body_1d870_14",hG="_header_1d870_21",fG="_line_1d870_30",mG="_title_1d870_35",pG="_close_1d870_40",gG="_border_1d870_59",yG="_circle_1d870_71",_G="_text_1d870_80",vG="_progress_1d870_119",Ae={area:uG,body:dG,header:hG,line:fG,title:mG,close:pG,"add-area":"_add-area_1d870_51",border:gG,circle:yG,text:_G,"file-body":"_file-body_1d870_85","file-wrapper":"_file-wrapper_1d870_96","remove-button":"_remove-button_1d870_104","file-info":"_file-info_1d870_109","progress-bar":"_progress-bar_1d870_119",progress:vG,"input-container":"_input-container_1d870_128","input-body":"_input-body_1d870_136","error-container":"_error-container_1d870_154","color-container":"_color-container_1d870_164","circles-container":"_circles-container_1d870_174","color-circle":"_color-circle_1d870_184","active-circle":"_active-circle_1d870_194","button-container":"_button-container_1d870_201","main-button":"_main-button_1d870_209"},ki=[{name:"default",colors:["#0040F9","#C3F82B","#FF4365"]},{name:"genery",colors:["linear-gradient(75deg, #2400FF 0%, #00C2FF 80%)","linear-gradient(75deg, #C3F82B 0%, #00FF66 80%)","linear-gradient(75deg, #FF4365 0%, #AD00FF 80%)"]},{name:"kyrgyzstan",colors:["#E3010F","#FEF400"]},{name:"winter_2024",colors:["#CBE0FF","#85AFED"]}];function wG({id:t,isShow:e,close:n}){const{theme:r,elementColors:s,setElementColors:o}=f.useContext(B),[i,a]=f.useState([]),{authUser:l}=ce(),[u,d]=f.useState(r.first_color),[h,m]=f.useState(""),[p,_]=f.useState(),[w,x]=f.useState(!1),[v,g]=f.useState(0),[y,C]=f.useState({isShow:!1,text:""}),[b,k]=f.useState({isShow:!1,text:""}),T={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};f.useEffect(()=>{(async()=>{if(l&&l._id){const L=G(V,"users",l._id,"info","preferences"),P=await se(L);if(P.exists()){const I=P.data();a(R=>[...R,...I.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[l]);const S=i?ki.filter($=>i.includes($.name)):[],E=async()=>{if(h.length<3){C({isShow:!0,text:"Название должно быть более 3 символов"});return}else C({isShow:!1,text:""});if(p)k({isShow:!1,text:""});else{k({isShow:!0,text:"Прикрепите файл"});return}x(!0);try{const $=Sn(En,`groups_files/${t}/${p.name}`);try{await YM($),k({isShow:!0,text:"Файл с таким именем уже существует"}),x(!1);return}catch(P){if(P.code==="storage/object-not-found")console.log("File does not exist, proceeding with upload.");else{console.error("Error checking file existence:",P),k({isShow:!0,text:"Ошибка при проверке наличия файла"}),x(!1);return}}const L=ZM($,p);L.on("state_changed",P=>{const I=P.bytesTransferred/P.totalBytes*100;g(I)},P=>{console.error("Error uploading file:",P),k({isShow:!0,text:"Ошибка при загрузке файла"}),x(!1)},async()=>{const P=await $n(L.snapshot.ref),I={color:u,link:P,name:h},R=G(V,"groups",t,"info","downloads"),D=await se(R);let F=[];D.exists()&&(F=D.data().files||[]),F.push(I),await We(R,{files:F},{merge:!0}),x(!1),m(""),_(null),d(r.first_color),n()})}catch($){console.error("Error uploading file:",$),k({isShow:!0,text:"Ошибка при загрузке файла"}),x(!1)}finally{m(""),_(null),d(r.first_color)}},N=$=>{_($.target.files[0])},A=()=>{document.getElementById("fileInput").click()},j=()=>{_(null)},M=()=>{m(""),_(null),d(r.first_color),n()};function O($){if(!$)return!1;let L,P,I;if($.startsWith("#"))if($.length===4)L=parseInt($[1]+$[1],16),P=parseInt($[2]+$[2],16),I=parseInt($[3]+$[3],16);else if($.length===7)L=parseInt($.slice(1,3),16),P=parseInt($.slice(3,5),16),I=parseInt($.slice(5,7),16);else return!1;else if($.startsWith("rgb")){const D=$.substring($.indexOf("(")+1,$.lastIndexOf(")")).split(",").map(Number);if(D.length===3)L=D[0],P=D[1],I=D[2];else return!1}else{const D=document.createElement("div");D.style.color=$,document.body.appendChild(D);const F=window.getComputedStyle(D).color;if(document.body.removeChild(D),F.startsWith("rgb")){const H=F.substring(F.indexOf("(")+1,F.lastIndexOf(")")).split(",").map(Number);if(H.length===3)L=H[0],P=H[1],I=H[2];else return!1}else return!1}return(L*299+P*587+I*114)/1e3>180}return c.jsx(Qe.div,{className:Ae.area,animate:e?"open":"closed",variants:T,transition:{duration:.1},children:c.jsxs(Qe.section,{className:Ae.body,style:{background:r.element_first_color},animate:e?"show":"hidden",variants:T,transition:{duration:.5},children:[c.jsxs("header",{className:Ae.header,children:[c.jsx("div",{className:Ae.title,style:{color:r.text_third_color},children:"Добавление файла"}),c.jsx("button",{className:Ae.close,style:{background:r.element_second_color},onClick:M,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})})]}),c.jsx("line",{className:Ae.line,style:{background:r.element_second_color}}),c.jsxs("div",{className:Ae["add-area"],children:[p?c.jsxs("div",{className:Ae["file-body"],style:{border:`1px solid ${r.element_second_color}`},children:[c.jsxs("div",{className:Ae["file-wrapper"],children:[c.jsx("button",{className:Ae["remove-button"],style:{background:r.element_second_color,color:r.text_first_color,border:"none",borderRadius:"3px",cursor:"pointer"},onClick:j,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})}),c.jsxs("div",{className:Ae["file-info"],style:{color:r.text_first_color},children:[c.jsx("div",{children:p.name}),c.jsxs("div",{children:[(p.size/(1024*1024)).toFixed(2)," MB"]})]})]}),w&&c.jsx("div",{className:Ae["progress-bar"],style:{background:r.element_second_color},children:c.jsx("div",{className:Ae.progress,style:{background:r.first_color,width:`${v}%`}})})]}):c.jsxs("div",{className:Ae.border,style:{border:`1px solid ${r.element_second_color}`},onClick:A,children:[c.jsx("div",{className:Ae.circle,style:{background:r.element_second_color},children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 1.5L9 9M9 16.5L9 9M9 9L16.5 9M9 9L1.5 9",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})})}),c.jsx("div",{className:Ae.text,style:{color:r.text_third_color},children:"Загрузите файл размером до 300мб"})]}),c.jsx("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:N})]}),b.isShow&&c.jsx("div",{className:Ae["error-container"],style:{color:r.text_first_color},children:b.text}),c.jsx("div",{className:Ae["input-container"],children:c.jsx("input",{className:Ae["input-body"],placeholder:"Название",style:{background:r.element_second_color,color:r.text_first_color,caretColor:r.first_color,"--placeholder-color":r.text_third_color},value:h,onInput:$=>m($.target.value)})}),y.isShow&&c.jsx("div",{className:Ae["error-container"],style:{color:r.text_first_color},children:y.text}),c.jsxs("div",{className:Ae["color-container"],children:[c.jsx("div",{className:Ae.title,style:{color:r.text_first_color},children:"Выберите цвет"}),c.jsx("div",{className:Ae["circles-container"],children:S.map($=>c.jsx(c.Fragment,{children:$.colors.map((L,P)=>c.jsx("div",{className:Ae["color-circle"],style:{background:L},onClick:()=>d(L),children:u===L&&c.jsx("div",{className:Ae["active-circle"],style:{borderColor:O(L)?"#0A0B10":"#fff"}})},P))}))})]}),c.jsx("div",{className:Ae["button-container"],children:c.jsx("button",{className:Ae["main-button"],style:{background:r.first_color,color:r.text_first_color},onClick:E,children:"Добавить"})})]})})}function xG({color:t,backgroundColor:e,textColor:n,arrowColor:r,lessonName:s,lessonTimeStart:o,lessonTimeEnd:i,lessonRoom:a,onRemove:l}){const{theme:u,elementColors:d,setElementColors:h}=f.useContext(B),[m,p]=f.useState("var(--first-color)"),[_,w]=f.useState("var(--text-first-color)");return c.jsxs("div",{className:Ne["lesson-body"],style:{background:e},children:[c.jsx("circle",{className:Ne["lesson-circle"],style:{background:t},onClick:l,children:c.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.8031 1.1967L6.49984 6.5M1.19654 11.8033L6.49984 6.5M6.49984 6.5L11.8031 11.8033M6.49984 6.5L1.19654 1.1967",stroke:r,"stroke-width":"2","stroke-linecap":"round"})})}),c.jsxs("div",{className:Ne["lesson-info"],children:[c.jsx("div",{className:Ne["lesson-name"],style:{color:n},children:s}),c.jsx("div",{className:Ne["lesson-time"],style:{color:n},children:`${o} - ${i}`})]}),c.jsx("div",{className:Ne["lesson-room"],style:{color:n},children:a})]})}const Cs={"notif-area":"_notif-area_gbq6r_1","notif-body":"_notif-body_gbq6r_14","notif-info":"_notif-info_gbq6r_25","notif-title":"_notif-title_gbq6r_34","notif-text":"_notif-text_gbq6r_43","button-container":"_button-container_gbq6r_52","first-button":"_first-button_gbq6r_60","second-button":"_second-button_gbq6r_85"};function ko({title:t,text:e,isShow:n,firstButtonName:r,secondButtonName:s,firstButtonOnClick:o,secondButtonOnClick:i}){const{theme:a,elementColors:l,setElementColors:u}=f.useContext(B),d={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};return c.jsx(Qe.div,{className:Cs["notif-area"],animate:n?"open":"closed",variants:d,transition:{duration:.1},children:c.jsxs(Qe.div,{className:Cs["notif-body"],style:{background:a.element_first_color},animate:n?"show":"hidden",variants:d,transition:{duration:.5},children:[c.jsxs("div",{className:Cs["notif-info"],children:[c.jsx("div",{className:Cs["notif-title"],style:{color:a.text_first_color},children:t}),c.jsx("div",{className:Cs["notif-text"],style:{color:a.text_first_color},children:e})]}),c.jsxs("div",{className:Cs["button-container"],children:[c.jsx("button",{className:Cs["first-button"],style:{background:a.element_second_color,color:a.text_first_color},onClick:o,children:r}),c.jsx("button",{className:Cs["second-button"],style:{background:a.first_color,color:a.text_first_color},onClick:i,children:s})]})]})})}const CG="_area_1s5gc_1",bG="_body_1s5gc_14",kG="_header_1s5gc_21",SG="_line_1s5gc_30",EG="_title_1s5gc_35",TG="_close_1s5gc_40",Ue={area:CG,body:bG,header:kG,line:SG,title:EG,close:TG,"input-container":"_input-container_1s5gc_128","input-body":"_input-body_1s5gc_136","time-container":"_time-container_1s5gc_154","input-wrapper":"_input-wrapper_1s5gc_164","error-container":"_error-container_1s5gc_172","color-container":"_color-container_1s5gc_182","circles-container":"_circles-container_1s5gc_192","color-circle":"_color-circle_1s5gc_202","active-circle":"_active-circle_1s5gc_212","button-container":"_button-container_1s5gc_219","main-button":"_main-button_1s5gc_227"};function IG({activeDay:t,id:e,isShow:n,close:r}){const{theme:s,elementColors:o,setElementColors:i}=f.useContext(B),[a,l]=f.useState([]),{authUser:u}=ce(),[d,h]=f.useState(s.first_color),[m,p]=f.useState(""),[_,w]=f.useState(),[x,v]=f.useState(""),[g,y]=f.useState(""),[C,b]=f.useState(""),[k,T]=f.useState([]),[S,E]=f.useState({isShow:!1,text:""}),[N,A]=f.useState({isShow:!1,text:""}),j={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};f.useEffect(()=>{(async()=>{if(u&&u._id){const I=G(V,"users",u._id,"info","preferences"),R=await se(I);if(R.exists()){const D=R.data();l(F=>[...F,...D.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[u]);const M=a?ki.filter(P=>a.includes(P.name)):[],O=async()=>{if(m.length<3){E({isShow:!0,text:"Название должно быть более 3 символов"});return}else E({isShow:!1,text:""});try{const P=G(V,"groups",e,"info","timetable"),I=await se(P);if(I.exists()){const D=I.data().timetable||[],F={name:m,timeStart:x,timeEnd:g,room:C,color:d};D[t]?D[t].lessons.push(F):D[t]={day:"",lessons:[F]},await We(P,{timetable:D},{merge:!0}),T(D),p(""),v(""),y(""),b(""),h(s.first_color),r()}else console.log("No such document!"),T([])}catch(P){console.error("Error adding lesson:",P)}finally{p(""),v(""),y(""),b(""),h(s.first_color)}},$=()=>{p(""),w(null),h(s.first_color),r()};function L(P){if(!P)return!1;let I,R,D;if(P.startsWith("#"))if(P.length===4)I=parseInt(P[1]+P[1],16),R=parseInt(P[2]+P[2],16),D=parseInt(P[3]+P[3],16);else if(P.length===7)I=parseInt(P.slice(1,3),16),R=parseInt(P.slice(3,5),16),D=parseInt(P.slice(5,7),16);else return!1;else if(P.startsWith("rgb")){const H=P.substring(P.indexOf("(")+1,P.lastIndexOf(")")).split(",").map(Number);if(H.length===3)I=H[0],R=H[1],D=H[2];else return!1}else{const H=document.createElement("div");H.style.color=P,document.body.appendChild(H);const z=window.getComputedStyle(H).color;if(document.body.removeChild(H),z.startsWith("rgb")){const Q=z.substring(z.indexOf("(")+1,z.lastIndexOf(")")).split(",").map(Number);if(Q.length===3)I=Q[0],R=Q[1],D=Q[2];else return!1}else return!1}return(I*299+R*587+D*114)/1e3>180}return c.jsx(Qe.div,{className:Ue.area,animate:n?"open":"closed",variants:j,transition:{duration:.1},children:c.jsxs(Qe.section,{className:Ue.body,style:{background:s.element_first_color},animate:n?"show":"hidden",variants:j,transition:{duration:.5},children:[c.jsxs("header",{className:Ue.header,children:[c.jsx("div",{className:Ue.title,style:{color:s.text_third_color},children:"Добавление урока"}),c.jsx("button",{className:Ue.close,style:{background:s.element_second_color},onClick:$,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:s.text_first_color,"stroke-linecap":"round"})})})]}),c.jsx("line",{className:Ue.line,style:{background:s.element_second_color}}),c.jsx("div",{className:Ue["input-container"],children:c.jsx("input",{className:Ue["input-body"],placeholder:"Название",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:m,onInput:P=>p(P.target.value)})}),S.isShow&&c.jsx("div",{className:Ue["error-container"],style:{color:s.text_first_color},children:S.text}),c.jsxs("div",{className:Ue["time-container"],children:[c.jsx("div",{className:Ue.title,style:{color:s.text_first_color},children:"Введите время"}),c.jsxs("div",{className:Ue["input-wrapper"],children:[c.jsx("input",{className:Ue["input-body"],placeholder:"Начало",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:x,onInput:P=>v(P.target.value)}),c.jsx("line",{className:Ue.line,style:{background:s.element_second_color}}),c.jsx("input",{className:Ue["input-body"],placeholder:"Конец",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:g,onInput:P=>y(P.target.value)})]})]}),c.jsx("div",{className:Ue["input-container"],children:c.jsx("input",{className:Ue["input-body"],placeholder:"Кабинет",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:C,onInput:P=>b(P.target.value)})}),c.jsxs("div",{className:Ue["color-container"],children:[c.jsx("div",{className:Ue.title,style:{color:s.text_first_color},children:"Выберите цвет"}),c.jsx("div",{className:Ue["circles-container"],children:M.map(P=>c.jsx(c.Fragment,{children:P.colors.map((I,R)=>c.jsx("div",{className:Ue["color-circle"],style:{background:I},onClick:()=>h(I),children:d===I&&c.jsx("div",{className:Ue["active-circle"],style:{borderColor:L(I)?"#0A0B10":"#fff"}})},R))}))})]}),c.jsx("div",{className:Ue["button-container"],children:c.jsx("button",{className:Ue["main-button"],style:{background:s.first_color,color:s.text_first_color},onClick:O,children:"Добавить"})})]})})}const xC=[{day:"ПН",lessons:[]},{day:"ВТ",lessons:[]},{day:"СР",lessons:[]},{day:"ЧТ",lessons:[]},{day:"ПТ",lessons:[]},{day:"СБ",lessons:[]},{day:"ВС",lessons:[]}];function NG({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState([]),[a,l]=f.useState(0),[u,d]=f.useState(),[h,m]=f.useState(),[p,_]=f.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[w,x]=f.useState(),{authUser:v}=ce();le(),f.useEffect(()=>{(async()=>{try{const S=G(V,"groups",t,"info","info"),E=await se(S);if(E.exists()){const N=E.data();x(N.owner)}else console.error("Group not found")}catch(S){console.error("Error fetching group data:",S)}finally{}})()},[t]);const g=async()=>{if(t)try{const T=G(V,"groups",t,"info","timetable"),S=await se(T);if(S.exists()){const E=S.data();i(E.timetable),console.log(E.timetable)}else console.log("No such document! Creating a new one with initial data."),await We(T,{timetable:xC}),i(xC)}catch(T){console.error("Error fetching group data:",T),i([])}else console.error("ID группы не указан"),i([])};f.useEffect(()=>{g()},[t]),f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:()=>e(),isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[B]);const y=(T,S)=>{const E=[...o];E[T].lessons.splice(S,1),i(E);const N=G(V,"groups",t,"info","timetable");We(N,{timetable:E},{merge:!0})},C=async()=>{await g(),m(!1)};function b(T){if(!T)return!1;let S,E,N;if(T.startsWith("#"))if(T.length===4)S=parseInt(T[1]+T[1],16),E=parseInt(T[2]+T[2],16),N=parseInt(T[3]+T[3],16);else if(T.length===7)S=parseInt(T.slice(1,3),16),E=parseInt(T.slice(3,5),16),N=parseInt(T.slice(5,7),16);else return!1;else if(T.startsWith("rgb")){const j=T.substring(T.indexOf("(")+1,T.lastIndexOf(")")).split(",").map(Number);if(j.length===3)S=j[0],E=j[1],N=j[2];else return!1}else{const j=document.createElement("div");j.style.color=T,document.body.appendChild(j);const M=window.getComputedStyle(j).color;if(document.body.removeChild(j),M.startsWith("rgb")){const O=M.substring(M.indexOf("(")+1,M.lastIndexOf(")")).split(",").map(Number);if(O.length===3)S=O[0],E=O[1],N=O[2];else return!1}else return!1}return(S*299+E*587+N*114)/1e3>180}const k=T=>{const S=new Date,E=S.getDay(),N=E===0?6:E-1,A=T-N,j=new Date(S);return j.setDate(S.getDate()+A),j.toLocaleDateString("ru-RU",{day:"numeric"})};return c.jsxs(c.Fragment,{children:[c.jsx(ko,{title:p.title,text:p.text,isShow:p.isShow,firstButtonName:p.firstButtonName,secondButtonName:p.secondButtonName,firstButtonOnClick:p.firstButtonOnClick,secondButtonOnClick:p.secondButtonOnClick}),c.jsx(IG,{activeDay:a,id:t,isShow:h,close:C}),c.jsx("div",{className:Ne.week,children:o&&o.length>0&&o.map((T,S)=>c.jsxs("div",{onClick:()=>l(S),className:`${Ne.day} ${a===S?Ne.active:""}`,style:{background:a===S?n.first_color:n.element_first_color,color:n.text_first_color},children:[T.day,c.jsx("div",{className:Ne["day-date"],children:k(S)})]},S))}),c.jsxs("div",{className:Ne["lessons-container"],children:[o&&o.length>0&&o[a]&&c.jsxs(c.Fragment,{children:[o[a].lessons.map((T,S)=>c.jsx(xG,{color:T.color,backgroundColor:n.element_first_color,circleBackgroundColor:n.first_color,arrowColor:b(T.color)?"#0A0B10":"#fff",textColor:n.text_first_color,lessonName:T.name,lessonTimeStart:T.timeStart,lessonTimeEnd:T.timeEnd,lessonRoom:T.room,onRemove:()=>y(a,S)},S)),c.jsx("div",{className:Ne["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>m(!0),children:c.jsx("div",{className:Ne.circle,style:{background:n.element_first_color},children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})})]}),c.jsx("button",{className:Ne.button,style:{background:n.first_color,color:n.text_first_color},onClick:e,children:"Сохранить"})]})]})}function jG(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),{id:r}=Vn(),[s,o]=f.useState(),[i,a]=f.useState([]),[l,u]=f.useState(),{authUser:d}=ce(),h=le(),[m,p]=f.useState(!1);f.useEffect(()=>{const y=new Date().getDay(),C=y===0?6:y-1;i&&i.length>0&&i[C]?o(C):i&&i.length>0&&o(0)},[i]),f.useEffect(()=>{(async()=>{try{const C=G(V,"groups",r,"info","info"),b=await se(C);if(b.exists()){const k=b.data();u(k.owner)}else console.error("Group not found")}catch(C){console.error("Error fetching group data:",C)}finally{}})()},[r]);const _=async()=>{if(r)try{const y=G(V,"groups",r,"info","timetable"),C=await se(y);if(C.exists()){const b=C.data();a(b.timetable),console.log(b.timetable)}else console.log("No such document!"),a([])}catch(y){console.error("Error fetching group data:",y),a([])}else console.error("ID группы не указан"),a([])};f.useEffect(()=>{_()},[r]),f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${r}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[B]);const w=()=>{p(!0)},x=async()=>{p(!1),await _()};function v(y){if(!y)return!1;let C,b,k;if(y.startsWith("#"))if(y.length===4)C=parseInt(y[1]+y[1],16),b=parseInt(y[2]+y[2],16),k=parseInt(y[3]+y[3],16);else if(y.length===7)C=parseInt(y.slice(1,3),16),b=parseInt(y.slice(3,5),16),k=parseInt(y.slice(5,7),16);else return!1;else if(y.startsWith("rgb")){const S=y.substring(y.indexOf("(")+1,y.lastIndexOf(")")).split(",").map(Number);if(S.length===3)C=S[0],b=S[1],k=S[2];else return!1}else{const S=document.createElement("div");S.style.color=y,document.body.appendChild(S);const E=window.getComputedStyle(S).color;if(document.body.removeChild(S),E.startsWith("rgb")){const N=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(N.length===3)C=N[0],b=N[1],k=N[2];else return!1}else return!1}return(C*299+b*587+k*114)/1e3>180}const g=y=>{const C=new Date,b=C.getDay(),k=b===0?6:b-1,T=y-k,S=new Date(C);return S.setDate(C.getDate()+T),S.toLocaleDateString("ru-RU",{day:"numeric"})};return c.jsx("div",{className:Ne.container,children:m?c.jsx(NG,{id:r,handleEdit:x}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Ne.week,children:i&&i.length>0&&i.map((y,C)=>c.jsxs("div",{onClick:()=>o(C),className:`${Ne.day} ${s===C?Ne.active:""}`,style:{background:s===C?t.first_color:t.element_first_color,color:t.text_first_color},children:[y.day,c.jsx("div",{className:Ne["day-date"],children:g(C)})]},C))}),c.jsx("div",{className:Ne["lessons-container"],children:i&&i.length>0&&i[s]?i[s].lessons.map((y,C)=>c.jsx(cG,{color:y.color,backgroundColor:t.element_first_color,circleBackgroundColor:t.first_color,arrowColor:v(y.color)?"#0A0B10":"#fff",textColor:t.text_first_color,lessonName:y.name,lessonTimeStart:y.timeStart,lessonTimeEnd:y.timeEnd,lessonRoom:y.room},C)):c.jsx("div",{className:Ne["info-body"],style:{color:t.text_first_color},children:"Тут пока пусто ..."})}),l&&l===d._id&&c.jsx("button",{className:Ne.edit,style:{background:t.first_color},onClick:w,children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_first_color})})})]})})}const AG="_container_1ue5g_1",Fs={container:AG,"category-name":"_category-name_1ue5g_12","contact-category":"_contact-category_1ue5g_17","category-container":"_category-container_1ue5g_23","item-body":"_item-body_1ue5g_30","item-icon":"_item-icon_1ue5g_43","item-name":"_item-name_1ue5g_51","item-info":"_item-info_1ue5g_56","item-circle":"_item-circle_1ue5g_64"},PG=[{category:"запросы",items:[{name:"Загрузки",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 21V27.6667C31 28.5507 30.6488 29.3986 30.0237 30.0237C29.3986 30.6488 28.5507 31 27.6667 31H4.33333C3.44928 31 2.60143 30.6488 1.97631 30.0237C1.35119 29.3986 1 28.5507 1 27.6667V21M7.66667 12.6667L16 21M16 21L24.3333 12.6667M16 21V1" stroke="{theme.text_first_color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"/downloads",category:"second"},{name:"Расписание",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 31C24.2845 31 31 24.2845 31 16C31 7.7155 24.2845 1 16 1C7.7155 1 1 7.7155 1 16C1 24.2845 7.7155 31 16 31Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linejoin="round"/>
                        <path d="M16.0059 7V16.0075L22.3651 22.3675" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
            `,link:"/timetable",category:"first"},{name:"Профиль",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 27C1 24.8783 1.73974 22.8434 3.05648 21.3431C4.37323 19.8429 6.15912 19 8.02128 19H23.9787C25.8409 19 27.6268 19.8429 28.9435 21.3431C30.2603 22.8434 31 24.8783 31 27C31 28.0609 30.6301 29.0783 29.9718 29.8284C29.3134 30.5786 28.4204 31 27.4894 31H4.51064C3.57956 31 2.68661 30.5786 2.02824 29.8284C1.36987 29.0783 1 28.0609 1 27Z" stroke="{theme.text_first_color}" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M16 13C19.3137 13 22 10.3137 22 7C22 3.68629 19.3137 1 16 1C12.6863 1 10 3.68629 10 7C10 10.3137 12.6863 13 16 13Z" stroke="{theme.text_first_color}" stroke-width="2"/>
                    </svg>
            `,link:"/profile",category:"first"}]},{category:"развелечения",items:[{name:"Кешбэк",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.196 28.804C5.395 31 8.929 31 16 31C23.071 31 26.6065 31 28.8025 28.8025C31 26.608 31 23.071 31 16C31 8.929 31 5.3935 28.8025 3.196C26.608 1 23.071 1 16 1C8.929 1 5.3935 1 3.196 3.196C1 5.395 1 8.929 1 16C1 23.071 1 26.608 3.196 28.804Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                        <path d="M25 10.75H19M25 19.75H19M25 24.25H19M13 10.75H10M10 10.75H7M10 10.75V7.75M10 10.75V13.75M12.25 19.75L10 22M10 22L7.75 24.25M10 22L7.75 19.75M10 22L12.25 24.25" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>`,link:"/cashback",category:"third"},{name:"Goosling",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 31L23.7617 23.7617M23.7617 23.7617C24.9999 22.5236 25.982 21.0537 26.6521 19.436C27.3222 17.8183 27.667 16.0845 27.667 14.3335C27.667 12.5825 27.3222 10.8487 26.6521 9.23101C25.982 7.61331 24.9999 6.14343 23.7617 4.9053C22.5236 3.66717 21.0537 2.68503 19.436 2.01495C17.8183 1.34488 16.0845 1 14.3335 1C12.5825 1 10.8487 1.34488 9.23101 2.01495C7.61331 2.68503 6.14343 3.66717 4.9053 4.9053C2.40478 7.40582 1 10.7973 1 14.3335C1 17.8698 2.40478 21.2612 4.9053 23.7617C7.40582 26.2623 10.7973 27.667 14.3335 27.667C17.8698 27.667 21.2612 26.2623 23.7617 23.7617Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"https://ridgeld.github.io/causegenerator.github.io/rayn_gosling.html",category:"first"}]},{category:"контакты",items:[{name:"Telegram",icon:`<svg width="36" height="30" viewBox="0 0 36 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M32.271 0.205239C32.7136 0.0235109 33.1981 -0.039166 33.674 0.0237315C34.1499 0.086629 34.5998 0.272802 34.9769 0.562873C35.354 0.852943 35.6445 1.23631 35.8182 1.67306C35.9918 2.10982 36.0423 2.584 35.9644 3.04625L31.902 27.083C31.508 29.4016 28.9001 30.7312 26.7202 29.5763C24.8968 28.6101 22.1886 27.1214 19.7526 25.5681C18.5347 24.7906 14.8037 22.3008 15.2622 20.5291C15.6563 19.0142 21.9253 13.3217 25.5076 9.93735C26.9137 8.6077 26.2724 7.84066 24.612 9.06373C20.487 12.1004 13.8687 16.7184 11.6799 18.0183C9.74905 19.1645 8.74242 19.3602 7.53876 19.1645C5.34281 18.8081 3.30627 18.2559 1.64408 17.5833C-0.602028 16.6747 -0.492768 13.6625 1.64229 12.7853L32.271 0.205239Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://t.me/genery_dm",category:"contact"},{name:"Vk",icon:`<svg width="36" height="21" viewBox="0 0 36 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M34.5534 20.9983H30.6117C29.121 20.9983 28.6719 19.8127 25.9997 17.1872C23.6644 14.9772 22.678 14.7024 22.0873 14.7024C21.2703 14.7024 21.0475 14.9229 21.0475 16.027V19.5074C21.0475 20.4488 20.7365 21 18.2319 21C15.8021 20.8397 13.4458 20.1149 11.3571 18.8852C9.26844 17.6556 7.50717 15.9563 6.21837 13.9273C3.15822 10.1874 1.02898 5.79801 0 1.10816C0 0.528092 0.224552 0.00230128 1.35077 0.00230128H5.28907C6.30128 0.00230128 6.66575 0.444983 7.06303 1.46773C8.97518 6.99362 12.2381 11.8004 13.563 11.8004C14.0708 11.8004 14.2919 11.5799 14.2919 10.3366V4.64452C14.1243 2.0478 12.72 1.829 12.72 0.889361C12.7378 0.641461 12.8533 0.410126 13.0419 0.244493C13.2306 0.0788594 13.4776 -0.00802255 13.7305 0.00230128H19.9212C20.7676 0.00230128 21.0475 0.416149 21.0475 1.41006V9.09339C21.0475 9.92278 21.4102 10.1975 21.6658 10.1975C22.1737 10.1975 22.564 9.92278 23.4951 9.01028C25.4907 6.62045 27.1212 3.95789 28.335 1.10646C28.4593 0.764109 28.6942 0.47106 29.0039 0.27201C29.3135 0.0729603 29.681 -0.021163 30.0503 0.00399725H33.9903C35.1718 0.00399725 35.4223 0.584064 35.1718 1.41176C33.7388 4.56382 31.9656 7.55588 29.8827 10.3366C29.4578 10.9727 29.2885 11.3034 29.8827 12.0497C30.2731 12.6298 31.655 13.7627 32.5825 14.8398C33.9333 16.1627 35.0543 17.6926 35.9025 19.3684C36.241 20.4471 35.6779 20.9983 34.5534 20.9983Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://vk.com/generatordm",category:"contact"},{name:"X",icon:`<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.2786 12.7995L28.1143 0H23.7243L16.2171 9.7755L9.55714 0H0L11.1514 16.365L0.671429 30H5.06286L13.2129 19.395L20.4429 30H30L18.2786 12.7995ZM14.8786 17.2245L12.8143 14.196L4.8 2.4405H8.1L14.5686 11.916L16.63 14.946L25.2271 27.5595H21.9271L14.8786 17.2245Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://x.com/GeneryDM",category:"contact"}]}];function LG({name:t,textColor:e,icon:n,link:r,category:s}){const{theme:o,setThemeById:i,elementColors:a,setElementColors:l}=f.useContext(B),[u,d]=f.useState(o.text_first_color),[h,m]=f.useState(o.first_color),[p,_]=f.useState(o.text_first_color),w=le(),{authUser:x}=ce(),v=C=>{if(C.includes("https:"))window.location.href=C;else{if(C==="/timetable"){w(`/timetable/${x.mainGroup}`);return}if(C==="/downloads"){w(`/download/${x.mainGroup}`);return}w(C)}},g={first:{circle:o.first_color,icon:o.text_first_color},second:{circle:o.second_color,icon:o.text_second_color},third:{circle:o.third_color,icon:o.text_first_color},contact:{circle:o.element_first_color,icon:o.text_first_color}};f.useEffect(()=>{s in g?(m(g[s].circle),_(g[s].icon)):(m(o.first_color),_(o.second_color))},[s]);const y=n.replace(/{theme.text_first_color}/g,o.text_first_color);return c.jsxs("div",{className:Fs["item-body"],style:{border:`2px solid ${o.element_first_color}`},onClick:()=>v(r),children:[c.jsxs("div",{className:Fs["item-info"],children:[c.jsx("div",{className:Fs["item-icon"],children:gr(y)}),c.jsx("div",{className:Fs["item-name"],style:{color:e},children:t})]}),c.jsx("div",{className:Fs["item-circle"],style:{background:h},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:p})})})]})}function RG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B);return f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[t]),c.jsxs("div",{className:Fs.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),PG.map((s,o)=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Fs[`${s.category==="контакты"?"contact-category":"category-name"}`],style:{color:t.text_first_color},children:s.category},o),c.jsx("div",{className:Fs["category-container"],children:s.items.map((i,a)=>c.jsx(LG,{name:i.name,textColor:t.text_first_color,category:i.category,icon:i.icon,link:i.link},a))})]}))]})}const OG="_container_b2k7s_2",DG="_hashtags_b2k7s_180",MG="_comment_b2k7s_247",$G="_image_0_b2k7s_557",FG="_image_1_b2k7s_573",BG="_image_2_b2k7s_589",UG="_image_3_b2k7s_605",VG="_image_4_b2k7s_621",zG="_emoji_b2k7s_637",de={container:OG,"fixed-post-input":"_fixed-post-input_b2k7s_14","post-body":"_post-body_b2k7s_23","fixed-post":"_fixed-post_b2k7s_14","post-body-empty":"_post-body-empty_b2k7s_43","post-info":"_post-info_b2k7s_53","post-author":"_post-author_b2k7s_62","author-photo":"_author-photo_b2k7s_70","author-photo-empty":"_author-photo-empty_b2k7s_86","author-name":"_author-name_b2k7s_96","author-name-empty":"_author-name-empty_b2k7s_102","post-delete":"_post-delete_b2k7s_109","post-more":"_post-more_b2k7s_118","post-date":"_post-date_b2k7s_125","post-data":"_post-data_b2k7s_135","post-photo":"_post-photo_b2k7s_145","post-text":"_post-text_b2k7s_157","post-text-empty":"_post-text-empty_b2k7s_169",hashtags:DG,"post-buttons":"_post-buttons_b2k7s_184","post-actions":"_post-actions_b2k7s_191","action-like":"_action-like_b2k7s_200","action-comment":"_action-comment_b2k7s_219","action-send":"_action-send_b2k7s_233","comments-container":"_comments-container_b2k7s_247","comments-container-preview":"_comments-container-preview_b2k7s_259","fixed-input":"_fixed-input_b2k7s_265",comment:MG,"author-info":"_author-info_b2k7s_282","comment-text":"_comment-text_b2k7s_290","comment-actions":"_comment-actions_b2k7s_295","answer-button":"_answer-button_b2k7s_303","replies-container":"_replies-container_b2k7s_312","show-answers":"_show-answers_b2k7s_319","input-container":"_input-container_b2k7s_332","message-action":"_message-action_b2k7s_344","add-file":"_add-file_b2k7s_352","input-body":"_input-body_b2k7s_371","image-preview":"_image-preview_b2k7s_381","remove-image":"_remove-image_b2k7s_394","input-component":"_input-component_b2k7s_413","smile-button":"_smile-button_b2k7s_424","input-message":"_input-message_b2k7s_445","send-button":"_send-button_b2k7s_464","images-body":"_images-body_b2k7s_483","images-wrapper_1":"_images-wrapper_1_b2k7s_487","images-wrapper_2":"_images-wrapper_2_b2k7s_501","images-wrapper_3":"_images-wrapper_3_b2k7s_515","images-wrapper_4":"_images-wrapper_4_b2k7s_529","images-wrapper_5":"_images-wrapper_5_b2k7s_543",image_0:$G,image_1:FG,image_2:BG,image_3:UG,image_4:VG,emoji:zG},HG="_body_unqzg_1",pl={body:HG,"item-body":"_item-body_unqzg_17","item-info":"_item-info_unqzg_28","item-icon":"_item-icon_unqzg_35","item-name":"_item-name_unqzg_44"},qG=[{name:"Удалить",icon:`
            <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 6V16H3V6H11ZM9.5 0H4.5L3.5 1H0V3H14V1H10.5L9.5 0ZM13 4H1V16C1 17.1 1.9 18 3 18H11C12.1 18 13 17.1 13 16V4Z" fill="{theme.text_first_color}"/>
            </svg>
        `,borderRadius:"15px",id:"delete"}];function h6({isShow:t,onClick:e}){const{theme:n,setElementColors:r}=f.useContext(B),s=i=>{e(i)},o={open:{opacity:1,scale:1},closed:{opacity:0,scale:0}};return c.jsx(Qe.div,{className:pl.body,animate:t?"open":"closed",variants:o,transition:{duration:.1},style:{background:n.element_second_color,boxShadow:`0 5px 10px 5px ${n.shadow_color}`},children:qG.map((i,a)=>{const l=i.icon.replace(/{theme.text_first_color}/g,n.text_first_color);return c.jsx("div",{className:pl["item-body"],onClick:()=>s(i.id),onMouseEnter:u=>{u.currentTarget.style.background=n.active_element_color},onMouseLeave:u=>{u.currentTarget.style.background="none"},children:c.jsxs("div",{className:pl["item-info"],children:[c.jsx("div",{className:pl["item-icon"],children:gr(l)}),c.jsx("div",{className:pl["item-name"],style:{color:n.text_first_color},children:i.name})]})},a)})})}const In={"comment-wrapper":"_comment-wrapper_le8s3_2","comment-info":"_comment-info_le8s3_9","post-delete":"_post-delete_le8s3_15","post-more":"_post-more_le8s3_24","author-info":"_author-info_le8s3_31","author-photo":"_author-photo_le8s3_39","author-name":"_author-name_le8s3_55","comment-body":"_comment-body_le8s3_61","comment-text":"_comment-text_le8s3_70","comment-actions":"_comment-actions_le8s3_82","answer-button":"_answer-button_le8s3_90"};function CC({isReply:t,userId:e,userPhoto:n,userName:r,text:s,showUserProfile:o,onReply:i,replies:a,timestamp:l,commentId:u,commentAction:d}){const[h,m]=f.useState(!1),{authUser:p}=ce(),{theme:_,elementColors:w,setElementColors:x}=f.useContext(B),[v,g]=f.useState(!1);le();const y=T=>typeof T=="string"?T.replace(/(#[\wа-яА-Я_]+)/g,S=>`<div class="${In.hashtags}">${S}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map((S,E)=>S.startsWith("<div")?gr(S):S):T,C=T=>{if(typeof T=="string")return y(T);if(Rn.isValidElement(T)){const S=Rn.Children.map(T.props.children,C);return Rn.cloneElement(T,{children:S})}return T},b=T=>{const S=gr(T);return C(S)},k=T=>{d(T,u),m(!1)};return c.jsx("div",{className:In["comment-wrapper"],children:c.jsxs("div",{className:In["comment-body"],style:{},children:[c.jsx(h6,{isShow:h,onClick:k}),c.jsxs("div",{className:In["comment-info"],children:[c.jsxs("div",{className:In["author-info"],onClick:()=>o(e),children:[c.jsx("div",{className:In["author-photo"],children:c.jsx("img",{className:In.avatar,src:n})}),c.jsx("div",{className:In["author-name"],style:{color:_.text_first_color},children:r})]}),e===p._id&&c.jsx("div",{className:In["post-delete"],onClick:()=>m(!h),children:c.jsxs("div",{className:In["post-more"],children:[c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:_.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:_.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:_.text_first_color})})]})})]}),c.jsx("div",{className:In["comment-text"],style:{color:_.text_first_color},children:b(s)}),c.jsx("div",{className:In["comment-actions"],children:!t&&c.jsx("button",{className:In["answer-button"],style:{color:_.element_second_color},onClick:()=>i({userName:r,commentId:u}),children:"Ответить"})})]})})}function Cu({postId:t,userPhoto:e,groupOwnerId:n,userId:r,userName:s,postData:o,postText:i,postPhotos:a,likesArray:l,commentCount:u,photoClick:d,postAction:h,commentsArray:m}){const p=le(),[_,w]=f.useState(!1),{theme:x,setThemeById:v,elementColors:g,setElementColors:y}=f.useContext(B),{authUser:C}=ce(),[b,k]=f.useState(!1);f.useEffect(()=>{C&&l.includes(C._id)&&w(!0)},[C._id]);const T=async()=>{const L=G(V,"posts",t);_?(await bn(L,{likesArray:MD(C._id)}),w(!1)):(await bn(L,{likesArray:ar(C._id)}),w(!0))},S=L=>{h(L,t),k(!1)},E=(L,P)=>{d(L,P)},N=L=>typeof L=="string"?L.replace(/(#[\wа-яА-Я_]+)/g,P=>`<div class="${de.hashtags}">${P}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map((P,I)=>P.startsWith("<div")?gr(P):P):L,A=L=>{if(typeof L=="string")return N(L);if(Rn.isValidElement(L)){const P=Rn.Children.map(L.props.children,A);return Rn.cloneElement(L,{children:P})}return L},j=L=>{const P=gr(L);return A(P)},M=L=>{p(n?`/group/${L}`:`/profile/${L}`)},O=()=>{p(`/post/${t}`)};f.useEffect(()=>{C._id===r&&console.log("Это ваш пост: "+t)},[t]);const $=()=>{navigator.share?navigator.share({title:i,url:`https://ridgeld.github.io/genery/#/post/${t}`}).then(()=>console.log("Успешно поделились!")).catch(L=>console.error("Ошибка при попытке поделиться: ",L)):alert("Ваш браузер не поддерживает возможность отправки через Share API.")};return c.jsxs("div",{className:de["post-body"],style:{"--hashtag-color":x.icon_color},children:[c.jsx(h6,{isShow:b,onClick:S}),c.jsxs("div",{className:de["post-info"],children:[c.jsxs("div",{className:de["post-author"],onClick:()=>M(r),children:[c.jsx("div",{className:de["author-photo"],children:c.jsx("img",{src:e,className:de["user-avatar"]})}),c.jsx("div",{className:de["author-name"],style:{color:x.text_first_color},children:s})]}),(r===C._id||n===C._id)&&c.jsx("div",{className:de["post-delete"],onClick:()=>k(!b),children:c.jsxs("div",{className:de["post-more"],children:[c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})})]})})]}),c.jsxs("div",{className:de["post-data"],children:[a&&c.jsx("div",{className:de["images-body"],children:c.jsx("div",{className:de[`images-wrapper_${a.length}`],children:a.map((L,P)=>c.jsx(Qe.div,{className:de[`image_${P}`],whileTap:{scale:1.5},children:c.jsx("img",{src:L,onClick:()=>E(a,P)})}))})}),i&&c.jsx("div",{className:de["post-text"],style:{color:x.text_first_color},children:j(i)})]}),c.jsxs("div",{className:de["post-actions"],children:[c.jsx("div",{className:de["post-date"],style:{color:x.text_first_color},children:o}),c.jsxs("div",{className:de["post-buttons"],children:[c.jsx("div",{className:de["like-count"],style:{color:x.text_first_color},children:l.length}),c.jsx("div",{className:de["action-like"],style:{background:x.third_color},onClick:T,children:c.jsx(Qe.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 32",fill:"none",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileTap:{scale:3,opacity:.5},children:_?c.jsx(Qe.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",fill:x.text_first_color},"heart-filled"):c.jsx(Qe.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",stroke:x.text_first_color,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"},"heart-outline")})}),c.jsx("div",{className:de["like-count"],style:{color:x.text_first_color},children:u}),c.jsx("div",{className:de["action-comment"],style:{background:x.second_color},onClick:O,children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M10 19C11.78 19 13.5201 18.4722 15.0001 17.4832C16.4802 16.4943 17.6337 15.0887 18.3149 13.4442C18.9961 11.7996 19.1743 9.99002 18.8271 8.24419C18.4798 6.49836 17.6226 4.89471 16.364 3.63604C15.1053 2.37737 13.5016 1.5202 11.7558 1.17294C10.01 0.82567 8.20038 1.0039 6.55585 1.68509C4.91131 2.36628 3.50571 3.51983 2.51677 4.99987C1.52784 6.47991 1 8.21997 1 10C1 11.488 1.36 12.891 2 14.127L1 19L5.873 18C7.109 18.64 8.513 19 10 19Z",stroke:x.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}),c.jsx("div",{className:de["action-send"],style:{background:x.first_color},onClick:$,children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:x.text_first_color})})})]})]}),c.jsx("div",{className:de["comments-container-preview"],children:m&&c.jsxs("div",{className:de.comment,style:{background:x.element_first_color},children:[c.jsxs("div",{className:de["author-info"],children:[c.jsx("div",{className:de["author-photo"],children:c.jsx("img",{className:de.avatar,src:m.userPhoto})}),c.jsx("div",{className:de["author-name"],style:{color:x.text_first_color},children:m.userName})]}),c.jsx("div",{className:de["comment-text"],style:{color:x.text_first_color},children:j(m.text)}),c.jsx("div",{className:de["comment-actions"],children:c.jsx("div",{className:de["answer-button"],style:{color:x.element_second_color},onClick:()=>p(`/post/${t}`),children:"Ответить"})})]})})]})}const bC={"circle-skeleton":"_circle-skeleton_1fo8g_2","rect-skeleton":"_rect-skeleton_1fo8g_20"};function _t({width:t,height:e,shape:n}){const{theme:r,setElementColors:s}=f.useContext(B),o=()=>c.jsx("div",{className:bC["circle-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}}),i=()=>c.jsx("div",{className:bC["rect-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}});return c.jsx(c.Fragment,{children:n==="rect"?i():o()})}function At(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B);return c.jsxs("div",{className:de["post-body-empty"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:de["post-info"],children:[c.jsxs("div",{className:de["post-author"],children:[c.jsx("div",{className:de["author-photo-empty"],children:c.jsx(_t,{width:"100%",height:"100%",shape:"circle"})}),c.jsx("div",{className:de["author-name"],style:{color:t.text_first_color},children:c.jsx(_t,{width:"50%",height:"15px",shape:"rect"})})]}),c.jsx("div",{className:de["post-date"],style:{color:t.text_first_color},children:c.jsx(_t,{width:"30%",height:"15px",shape:"rect"})})]}),c.jsx("div",{className:de["post-data"],children:c.jsxs("div",{className:de["post-text-empty"],children:[c.jsx(_t,{width:"100%",height:"15px",shape:"rect"}),c.jsx(_t,{width:"90%",height:"15px",shape:"rect"})]})})]})}function WG(){const[t,e]=f.useState([]),n=le();f.useRef(null);const{theme:r,elementColors:s,setElementColors:o}=f.useContext(B),{authUser:i}=ce(),[a,l]=f.useState(!0),[u,d]=f.useState({isShow:!1,images:[],index:null}),[h,m]=f.useState({isShow:!1,text:""}),[p,_]=f.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"});f.useEffect(()=>{if(h.isShow){const b=setTimeout(()=>{m({isShow:!1})},1e3);return()=>clearTimeout(b)}},[h]),f.useEffect(()=>{o({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,arrowLink:()=>n("/menu"),isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:3}),document.body.style.background=r.background_color},[B]),f.useEffect(()=>{const b=mr(ps(Qt(V,"posts"),xi("timestamp","desc")),async k=>{const T=k.docs.map(async E=>{const N=E.data(),j=new Date(N.timestamp).toLocaleDateString("ru-RU",{day:"2-digit",month:"long"}),M=Qt(V,"posts",E.id,"comments"),$=(await w_(M)).docs.map(I=>({commentId:I.id,...I.data()})),L=$.map(I=>({...I,replyCount:$.filter(R=>R.replyTo===I.commentId).length}));let P=null;return L.length&&(P=L.reduce((I,R)=>R.replyCount>I.replyCount?R:I,L[0])),{id:E.id,userId:N.userId,groupOwnerId:N.groupOwnerId,userName:N.userName,userPhoto:N.userPhoto,postText:N.text,postPhoto:N.photos,postData:j,likesArray:N.likesArray,commentsArray:L,topComment:P}}),S=await Promise.all(T);e(S),l(!1)});return()=>b()},[]);const w=async(b,k)=>{try{const T=new Date().toISOString();let S=[];for(const E of k){const N=Sn(En,`post_photos/${i._id}/${T}_${E.name}`);await pr(N,E);const A=await $n(N);S.push(A)}await x(b,S)}catch(T){console.error("Error handling send: ",T)}},x=async(b,k)=>{try{const T=new Date().toISOString();await um(Qt(V,"posts"),{photos:k,text:b,timestamp:T,userId:i._id,userName:i.name,userPhoto:i.avatar,likesArray:[],commentsArray:[]}),console.log("Message saved successfully.")}catch(T){console.error("Error adding document: ",T)}},v=(b,k)=>{d({isShow:!0,images:b,index:k})},g=()=>{_({isShow:!1})},y=async b=>{_({isShow:!1});try{await Gl(G(V,"posts",b))}catch(k){console.error("Error deleting post: ",k)}finally{m({isShow:!0,text:"Пост удален"})}},C=(b,k)=>{switch(b){case"delete":return _({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:g,secondButtonOnClick:()=>y(k)});default:return _({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:de.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${r.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(Ur,{isShow:u.isShow,images:u.images,index:u.index,onClose:()=>d({isShow:!1})}),c.jsx("div",{className:de["fixed-post-input"],style:{background:r.background_color},children:c.jsx(xu,{placeholder:"Что у вас нового?",isPanelTop:!0,addFiles:!0,onSend:w})}),c.jsx(ko,{title:p.title,text:p.text,isShow:p.isShow,firstButtonName:p.firstButtonName,secondButtonName:p.secondButtonName,firstButtonOnClick:p.firstButtonOnClick,secondButtonOnClick:p.secondButtonOnClick}),c.jsx(ct,{isShow:h.isShow,text:h.text}),a?c.jsxs(c.Fragment,{children:[c.jsx(At,{}),c.jsx(At,{}),c.jsx(At,{}),c.jsx(At,{})]}):t.map(b=>c.jsx(Cu,{postId:b.id,userId:b.userId,groupOwnerId:b.groupOwnerId,userName:b.userName,userPhoto:b.userPhoto,postData:b.postData,postText:b.postText,postPhotos:b.postPhoto,likesArray:b.likesArray,photoClick:v,postAction:C,commentCount:b.commentsArray.length,commentsArray:b.commentsArray?b.topComment:[],onSend:""},b.id))]})}const GG="_container_1bhxs_1",KG="_circle_1bhxs_189",Le={container:GG,"category-container":"_category-container_1bhxs_12","category-name":"_category-name_1bhxs_21","item-body":"_item-body_1bhxs_30","item-info":"_item-info_1bhxs_39","item-icon":"_item-icon_1bhxs_47","item-name":"_item-name_1bhxs_55","check-box":"_check-box_1bhxs_60","check-box-circle":"_check-box-circle_1bhxs_81","themes-body":"_themes-body_1bhxs_89","themes-name":"_themes-name_1bhxs_100","themes-container":"_themes-container_1bhxs_109","theme-body":"_theme-body_1bhxs_117","theme-active":"_theme-active_1bhxs_134","block-body":"_block-body_1bhxs_150","block-title":"_block-title_1bhxs_161","block-text":"_block-text_1bhxs_166","block-arrow":"_block-arrow_1bhxs_171","reset-password":"_reset-password_1bhxs_178",circle:KG},ZG=[{category:"запросы",items:[{name:"Цензура",icon:`
                <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.86667 5.6418C2.46706 8.22887 1 11.6931 1 15.5C1 23.5081 7.49187 30 15.5 30C19.3069 30 22.7711 28.5329 25.3582 26.1333M4.86667 5.6418C7.51484 2.78674 11.2988 1 15.5 1C23.5081 1 30 7.49187 30 15.5C30 19.7012 28.2133 23.4852 25.3582 26.1333M4.86667 5.6418L25.3582 26.1333" stroke="{theme.text_first_color}" stroke-width="2"/>
                </svg>                                                                
            `}]}];function YG({itemName:t,itemIcon:e,authUserCensor:n,onCensorChange:r}){console.log(`Пришло значение: ${n}`);const{theme:s,setThemeById:o,elementColors:i,setElementColors:a}=f.useContext(B),l=()=>{if(t==="Цензура"){const d=!n;console.log(`Изменено при клике на: ${d}`),r(d)}},u=e.replace(/{theme.text_first_color}/g,s.text_first_color);return c.jsxs("div",{className:Le["item-body"],style:{background:s.element_first_color},children:[c.jsxs("div",{className:Le["item-info"],children:[c.jsx("div",{className:Le["item-icon"],children:gr(u)}),c.jsx("div",{className:Le["item-name"],style:{color:s.text_first_color},children:t})]}),c.jsx("div",{className:Le["check-box"],style:{background:n&&t==="Цензура"?s.first_color:s.element_second_color},onClick:l,children:c.jsx("div",{className:Le["check-box-circle"],style:{background:s.text_first_color,marginLeft:n&&t==="Цензура"?"29px":"0"}})})]})}function QG({name:t,img:e,activeTheme:n,onThemeChange:r}){const{theme:s,elementColors:o,setElementColors:i}=f.useContext(B),a=()=>{r(t)};return c.jsxs("div",{className:Le["theme-body"],style:{border:n===t?`2px solid ${s.gradient_first_color}`:"none"},onClick:a,children:[c.jsx("img",{src:e,alt:t}),n===t&&c.jsx("div",{className:Le["theme-active"],style:{background:s.first_color},children:c.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.14645 4.64645C0.951184 4.84171 0.951184 5.15829 1.14645 5.35355C1.34171 5.54882 1.65829 5.54882 1.85355 5.35355L1.14645 4.64645ZM6 1C6 0.723858 5.77614 0.5 5.5 0.5L1 0.5C0.723858 0.5 0.5 0.723858 0.5 1C0.5 1.27614 0.723858 1.5 1 1.5L5 1.5L5 5.5C5 5.77614 5.22386 6 5.5 6C5.77614 6 6 5.77614 6 5.5L6 1ZM1.85355 5.35355L5.85355 1.35355L5.14645 0.646447L1.14645 4.64645L1.85355 5.35355Z",fill:s.text_first_color})})})]})}function XG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=localStorage.getItem("censor")==="true",[o,i]=f.useState(s);console.log(`Состояние из хранилища ${s}`);const{authUser:a}=ce(),[l,u]=f.useState([]),[d,h]=f.useState({isShow:!1,text:""}),m=le();f.useEffect(()=>{if(d.isShow){const x=setTimeout(()=>{h({isShow:!1})},1e3);return()=>clearTimeout(x)}},[d]),f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>m("/list-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{(async()=>{if(a&&a._id){const v=G(V,"users",a._id,"info","preferences"),g=await se(v);if(g.exists()){const y=g.data();u(y.boughtThemes)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const p=l?l.filter(x=>Ox[x]).map(x=>Ox[x]):[],_=async x=>{e(x),h({isShow:!0,text:`Выбрана тема: ${x}`})},w=x=>{i(x),localStorage.setItem("censor",x)};return c.jsxs("div",{className:Le.container,children:[c.jsx(ct,{text:d.text,isShow:d.isShow}),ZG.map(x=>c.jsxs("div",{className:Le["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:Le["category-name"],children:x.category}),x.items.map(v=>c.jsx(YG,{itemIcon:v.icon,itemName:v.name,authUserCensor:o,onCensorChange:w}))]})),c.jsxs("div",{className:Le["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:Le["category-name"],style:{color:t.text_first_color},children:"Темы"}),c.jsxs("div",{className:Le["themes-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:Le["themes-name"],style:{color:t.text_first_color},children:"Доступные темы:"}),c.jsx("div",{className:Le["themes-container"],children:p.map(x=>c.jsx(QG,{img:x.img,name:x.name,activeTheme:t.name,onThemeChange:_}))})]})]}),c.jsxs("div",{className:Le["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:Le["category-name"],style:{color:t.text_first_color},children:"Безопасность и личные данные"}),c.jsxs("button",{className:Le["reset-password"],style:{color:t.text_first_color,background:t.element_first_color},onClick:()=>m("/authresetpassword"),children:["Сбросить пароль",c.jsx("div",{className:Le.circle,style:{background:t.element_first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:"white"})})})]})]}),c.jsxs("div",{className:Le["category-container"],children:[c.jsx("div",{className:Le["category-name"],style:{color:t.text_first_color},children:"информация"}),c.jsxs("div",{className:Le["block-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:Le["block-title"],style:{color:t.text_first_color},children:"GENERY"}),c.jsx("div",{className:Le["block-text"],style:{color:t.text_first_color},children:"Genery 5.4.1"}),c.jsx("div",{className:Le["block-arrow"],children:c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:t.text_first_color})})})]})]})]})}const JG="_container_1wjrk_1",gl={container:JG,"block-body":"_block-body_1wjrk_11","block-name":"_block-name_1wjrk_20","block-text":"_block-text_1wjrk_25","block-price":"_block-price_1wjrk_30"},eK="_button_rb0y4_1",tK="_arrow_rb0y4_18",kC={button:eK,arrow:tK};function nK({name:t,backgroundColor:e,textColor:n,onButtonClick:r}){return c.jsxs("button",{className:kC.button,style:{background:e,color:n},onClick:r,children:[t,c.jsx("div",{className:kC.arrow,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:n})})})]})}function rK(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState("0 c"),[o,i]=f.useState(""),[a,l]=f.useState(""),[u,d]=f.useState(!1),h=le(),m=()=>{d(!0),o!==" "&&a!==" "&&s(o*a+" с")};return f.useEffect(()=>{if(u){const p=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(p)}},[u]),f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>h("/list-menu"),arrowColor:t.background_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]),c.jsxs("div",{className:gl.container,children:[c.jsxs("div",{className:gl["block-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:gl["block-name"],style:{color:t.text_first_color},children:"1X ГЛЕБ"}),c.jsx("div",{className:gl["block-text"],style:{color:t.text_first_color},children:"Ваш выигрыш составил:"}),c.jsx("div",{className:gl["block-price"],style:{color:t.text_first_color},children:r})]}),c.jsx(Mr,{type:"number",placeholder:"Введите сумму ставки",onInputChange:p=>i(p.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},1),c.jsx(Mr,{type:"number",placeholder:"Введите коэффициент ставки",onInputChange:p=>l(p.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},2),c.jsx(nK,{name:"Рассчитать",backgroundColor:t.first_color,textColor:t.text_first_color,onButtonClick:m})]})}const sK="_container_1uk81_1",oK="_hidden_1uk81_123",rt={container:sK,"category-container":"_category-container_1uk81_12","balance-container":"_balance-container_1uk81_19","image-cover":"_image-cover_1uk81_26","no-select":"_no-select_1uk81_37","back-image":"_back-image_1uk81_47","text-image":"_text-image_1uk81_51","items-container":"_items-container_1uk81_56","card-body":"_card-body_1uk81_64","card-photo-body":"_card-photo-body_1uk81_77","card-photo":"_card-photo_1uk81_77","card-info":"_card-info_1uk81_90","card-name":"_card-name_1uk81_98","card-label":"_card-label_1uk81_103","card-action":"_card-action_1uk81_113",hidden:oK,"card-price":"_card-price_1uk81_128","card-buy":"_card-buy_1uk81_137","buy-button":"_buy-button_1uk81_153","button-price":"_button-price_1uk81_167"},iK=[{category:"winter_2024",img:"shop/winter_2024/cover.png",textImg:"shop/winter_2024/text-img.png",items:[{id:"winter_2024",category:"theme",img:"shop/winter_2024/img-1.png",name:"Морозная свежесть",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"colors",img:"shop/winter_2024/img-2.png",name:"Морозная палитра",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"emojies",img:"shop/winter_2024/img-3.png",name:"Морозные эмодзи",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"all",img:"shop/winter_2024/img-4.png",name:"Морозный пак",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0}]},{category:"kyrgyzstan",img:"shop/kyrgyzstan/cover.png",textImg:"shop/kyrgyzstan/text-img.png",items:[{id:"kyrgyzstan",category:"theme",img:"shop/kyrgyzstan/img-2.png",name:"Тема",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"emojies",img:"shop/kyrgyzstan/img-1.png",name:"Смайлы",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"colors",img:"shop/kyrgyzstan/img-3.png",name:"Пак цветов",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"all",img:"shop/kyrgyzstan/img-4.png",name:'Пак "Родина"',label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0}]},{category:"genery",img:"shop/genery/cover.png",textImg:"shop/genery/text-img.png",items:[{id:"genery",category:"theme",img:"shop/genery/img-1.png",name:"Тема",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:1e3},{id:"genery",img:"shop/genery/img-2.png",category:"colors",name:"Пак смайлов",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:250},{id:"genery",img:"shop/genery/img-3.png",category:"emojies",name:"Пак смайлов",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:500},{id:"genery",img:"shop/genery/img-4.png",category:"all",name:"Набор Genery",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:0}]}];function aK({img:t,textImg:e}){return c.jsxs("div",{className:rt["image-cover"],children:[c.jsx("div",{className:rt["no-select"]}),c.jsx("img",{src:t,className:rt["back-image"]}),c.jsx("img",{src:e,className:rt["text-image"]})]})}const SC={"coin-outer":"_coin-outer_1t7ga_1","coin-inner":"_coin-inner_1t7ga_10"};function Yh({color:t}){return c.jsx("div",{className:SC["coin-outer"],style:{background:t},children:c.jsx("div",{className:SC["coin-inner"]})})}function lK({category:t,id:e,photo:n,name:r,label:s,labelTextColor:o,labelColor:i,isBought:a,isFree:l,price:u,onBuyItem:d}){const{theme:h,elementColors:m,setElementColors:p}=f.useContext(B);return c.jsxs("div",{className:rt["card-body"],style:{background:h.element_first_color},children:[c.jsxs("div",{className:rt["card-photo-body"],style:{background:h.background_color},children:[c.jsx("div",{className:rt["no-select"]}),c.jsx("img",{src:n,className:rt["card-photo"]})]}),c.jsxs("div",{className:rt["card-info"],children:[c.jsx("div",{className:rt["card-name"],style:{color:h.text_first_color},children:r}),c.jsx("div",{className:rt["card-label"],style:{background:i,color:o},children:s})]}),c.jsxs("div",{className:rt["card-action"],children:[c.jsx("div",{className:rt["card-price"],style:{color:h.text_first_color},children:a?"Куплено":l?"Бесплатно":c.jsxs(c.Fragment,{children:[u,c.jsx(Yh,{color:h.first_color})]})}),c.jsx("div",{className:rt["card-arrow"],children:c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:h.text_first_color})})})]}),!a&&c.jsx("div",{className:`${rt["card-buy"]} ${rt.hidden}`,children:c.jsx("button",{className:rt["buy-button"],style:{background:h.first_color,color:h.text_first_color},onClick:()=>d(t,e,u),children:l?c.jsx(c.Fragment,{children:"Бесплатно"}):c.jsxs(c.Fragment,{children:["Купить за",c.jsxs("div",{className:rt["button-price"],children:[u,c.jsx(Yh,{color:h.text_first_color})]})]})})})]})}const cd={"score-container":"_score-container_71jb4_1","name-body":"_name-body_71jb4_9","count-body":"_count-body_71jb4_22","balance-body":"_balance-body_71jb4_35"};function bu({name:t,count:e,isBalance:n}){const{theme:r,elementColors:s,setElementColors:o}=f.useContext(B);return c.jsxs("div",{className:cd["score-container"],children:[c.jsx("div",{className:cd["name-body"],style:{background:r.element_first_color,color:r.text_first_color},children:t}),c.jsx("div",{className:cd["count-body"],style:{background:r.element_first_color,color:r.text_first_color},children:n?c.jsxs("div",{className:cd["balance-body"],style:{color:r.text_first_color},children:[e,c.jsx(Yh,{color:r.first_color})]}):e})]})}function cK(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState({isShow:!1,text:""}),[o,i]=f.useState([]),[a,l]=f.useState([]),[u,d]=f.useState([]),[h,m]=f.useState(""),[p,_]=f.useState(0),{authUser:w}=ce(),x=le();f.useEffect(()=>{if(r.isShow){const C=setTimeout(()=>{s({isShow:!1})},1e3);return()=>clearTimeout(C)}},[r]),f.useEffect(()=>{(async()=>{if(w&&w._id){const b=G(V,"users",w._id,"info","preferences"),k=await se(b);if(k.exists()){const T=k.data();_(T.balance),i(T.boughtThemes),l(T.boughtColors),d(T.boughtEmojies)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[p,o,a,u]),f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>x("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[B]);const v=async C=>{if(w&&w._id)try{const b=G(V,"users",w._id,"info","preferences");await bn(b,{balance:C}),console.log(`Balance updated to ${C}`)}catch(b){console.error("Error updating balance:",b)}else console.error("authUser or authUser._id is undefined")},g=async(C,b,k)=>{const T=G(V,"users",w._id,"info","preferences");if(p<k){s({isShow:!0,text:"У вас недостаточно средств для покупки"});return}_(p-k),v(p-k);let S={},E="";switch(C){case"colors":S={boughtColors:ar(b)},E=`вы приобрели цвета: ${b}`;break;case"emojies":S={boughtEmojies:ar(b)},E=`вы приобрели пак эмодзи: ${b}`;break;case"theme":S={boughtThemes:ar(b)},E=`вы приобрели тему: ${b}`;break;case"all":S={boughtColors:ar(b),boughtEmojies:ar(b),boughtThemes:ar(b)},E=`вы приобрели коллекцию: ${b}`;break;default:return}await bn(T,S),s({isShow:!0,text:E})},y=(C,b)=>{switch(C){case"colors":return a.includes(b);case"theme":return o.includes(b);case"emojies":return u.includes(b);case"all":return a.includes(b)&&o.includes(b)&&u.includes(b);default:return!1}};return c.jsxs("div",{className:rt.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(ct,{isShow:r.isShow,text:r.text}),c.jsx("div",{className:rt["balance-container"],style:{background:t.background_color},children:c.jsx(bu,{name:"Баланс",isBalance:!0,count:p})}),iK.map(C=>c.jsxs("div",{className:rt["category-container"],children:[c.jsx(aK,{img:C.img,textImg:C.textImg}),c.jsx("div",{className:rt["items-container"],children:C.items.map((b,k)=>c.jsx(lK,{category:b.category,id:b.id,photo:b.img,name:b.name,label:b.label,labelTextColor:b.labelTextColor,labelColor:b.labelColor,isBought:y(b.category,b.id),isFree:b.isFree,price:b.price,onBuyItem:g},k))})]}))]})}const uK="_container_1lamj_1",dK="_area_1lamj_9",hK="_table_1lamj_19",fK="_item_1lamj_28",mK="_circle_1lamj_40",pK="_spin_1lamj_51",Ai={container:uK,area:dK,table:hK,item:fK,circle:mK,spin:pK},gK=t=>[{grid:"row",size:"1/4",name:0,isZero:!0,isCircle:!1,background:t.casino_first_color,border:"20px 0 0 20px",circleColor:""},{grid:"column",size:"",name:3,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:6,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:9,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:12,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:15,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:18,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:21,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:24,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:27,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:30,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:33,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:36,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"1st",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 20px 0 0",circleColor:t.casino_third_color},{grid:"column",size:"",name:2,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:5,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:8,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:11,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:14,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:17,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:20,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:23,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:26,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:29,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:32,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:35,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:"2nd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:1,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:4,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:7,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:10,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:13,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:16,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:19,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:22,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:25,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:28,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:31,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:34,isZero:!1,isCircle:!0,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"3rd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 20px",circleColor:t.casino_third_color},{grid:"column",size:"2/8",name:"1-18",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"8/14",name:"19-36",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"2/5",name:"even",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 0 20px",circleColor:t.casino_second_color},{grid:"column",size:"5/8",name:"red",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"8/11",name:"black",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"11/14",name:"odd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color}],yK="_overlay_usz7u_1",_K="_animated_usz7u_14",vK="_wheel_usz7u_18",wK="_show_usz7u_24",xK="_spin_usz7u_47",CK="_arrow_usz7u_66",Pi={overlay:yK,animated:_K,wheel:vK,show:wK,spin:xK,arrow:CK};function bK(t,e){const n=r=>{if(r>=t.length){e();return}const s=document.createElement("script");s.src=t[r],s.async=!0,s.onload=()=>n(r+1),document.body.appendChild(s)};n(0)}function kK({isShow:t,onStop:e}){const[n,r]=f.useState(null),s=f.useRef(null);getComputedStyle(document.documentElement);const{theme:o,elementColors:i,setElementColors:a}=f.useContext(B),[l,u]=f.useState(125),[d,h]=f.useState(100),[m,p]=f.useState("center"),_=()=>{window.innerWidth<=700?(u(125),h(100),p("outer")):(u(155),h(100),p("center"))};f.useEffect(()=>(_(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}),[]),f.useEffect(()=>{const x=["https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js","script/Winwheel.min.js"],v={green:o.casino_first_color,red:o.casino_second_color,black:o.casino_third_color};bK(x,()=>{const g=new Winwheel({canvasId:s.current.id,numSegments:37,outerRadius:l,innerRadius:d,textFontSize:12,textOrientation:"curved",textAlignment:m,segments:[{fillStyle:v.green,text:"0",textFillStyle:o.text_first_color},{fillStyle:v.red,text:"32",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"15",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"19",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"4",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"21",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"2",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"25",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"17",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"34",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"6",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"27",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"13",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"36",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"11",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"30",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"8",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"23",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"10",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"5",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"24",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"16",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"33",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"1",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"20",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"14",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"31",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"9",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"22",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"18",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"29",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"7",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"28",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"12",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"35",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"3",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"26",textFillStyle:o.text_third_color}],animation:{type:"spinToStop",duration:5,spins:8,callbackFinished:e}});r(g)})},[t]);const w=()=>{n&&n.startAnimation()};return c.jsx("div",{className:`${Pi.overlay} ${Pi.animated} ${t?Pi.show:""}`,children:c.jsxs("div",{className:Pi.wheel,style:{background:o.casino_first_color,border:`10px solid ${o.element_second_color}`},children:[c.jsx("canvas",{ref:s,id:"canvas",width:"310",height:"310",children:"Canvas not supported, use another browser."}),c.jsx("div",{className:Pi.arrow,children:c.jsx("svg",{width:"40",height:"18",viewBox:"0 0 40 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M40 0L20 18L0 0H40Z",fill:o.element_second_color})})}),c.jsx("button",{className:Pi.spin,style:{background:o.element_first_color,border:`10px solid ${o.element_second_color}`,color:o.text_first_color},onClick:w,children:"крутить"})]})})}const EC={"chip-body":"_chip-body_n5j63_1","chip-inner":"_chip-inner_n5j63_12"};function SK({price:t}){return c.jsx("div",{className:EC["chip-body"],children:c.jsx("div",{className:EC["chip-inner"],children:t})})}const EK={0:["green"],1:["red","1-18","odd"],2:["black","1-18","even"],3:["red","1-18","odd"],4:["black","1-18","even"],5:["red","1-18","odd"],6:["black","1-18","even"],7:["red","1-18","odd"],8:["black","1-18","even"],9:["red","1-18","odd"],10:["black","1-18","even"],11:["black","1-18","odd"],12:["red","1-18","even"],13:["black","1-18","odd"],14:["red","1-18","even"],15:["black","1-18","odd"],16:["red","1-18","even"],17:["black","1-18","odd"],18:["red","1-18","even"],19:["red","19-36","odd"],20:["black","19-36","even"],21:["red","19-36","odd"],22:["black","19-36","even"],23:["red","19-36","odd"],24:["black","19-36","even"],25:["red","19-36","odd"],26:["black","19-36","even"],27:["red","19-36","odd"],28:["black","19-36","even"],29:["black","19-36","odd"],30:["red","19-36","even"],31:["black","19-36","odd"],32:["red","19-36","even"],33:["black","19-36","odd"],34:["red","19-36","even"],35:["black","19-36","odd"],36:["red","19-36","even"]};function TK(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),r=gK(t),s=le(),[o,i]=f.useState(!1),{authUser:a}=ce(),[l,u]=f.useState(0),[d,h]=f.useState([]),[m,p]=f.useState(0),[_,w]=f.useState(!1),[x,v]=f.useState(null),[g,y]=f.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[C,b]=f.useState({isShow:!1,text:""});f.useEffect(()=>{if(C.isShow){const M=setTimeout(()=>{b({isShow:!1})},1e3);return()=>clearTimeout(M)}},[C]);const k=()=>{y({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),i(!1),h([]),p(0),w(!1)},T=()=>{s("/menu")},S=()=>{i(!0)};f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{(async()=>{if(a&&a._id){const O=G(V,"users",a._id,"info","preferences"),$=await se(O);if($.exists()){const L=$.data();console.log(L),u(L.balance<100?1e3:L.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const E=async M=>{if(a&&a._id)try{const O=G(V,"users",a._id,"info","preferences");await bn(O,{balance:M}),console.log(`Balance updated to ${M}`)}catch(O){console.error("Error updating balance:",O)}else console.error("authUser or authUser._id is undefined")},N=M=>{if(l<100){b({isShow:!0,text:"У вас недостаточно средств для ставки"});return}h(O=>{if(O.some(L=>L.item===M)){const L=O.filter(P=>P.item!==M);return u(l+100),L}else{const L=[...O,{item:M,bet:100}];return u(l-100),L}})},A=M=>{w(!0),v(Number(M.text)),console.log(Number(M.text))};f.useEffect(()=>{console.log(d),_&&j(x)},[d,_]);const j=M=>{const O=EK[M];let $=0,L=0;d.forEach(I=>{(I.item===M||O.includes(I.item))&&(L+=I.bet)});const P=d.some(I=>I.item===M);if(console.log("Base bet:",L),console.log("Has number bet:",P),P)$=L*4;else{const I=d.filter(R=>O.includes(R.item)).length;$=L*I}p($),u(l+$),E(l+$),y({isShow:!0,title:"Вы выиграли",text:`Ваш выигрыш составил: ${$}`,firstButtonName:"Выйти",secondButtonName:"Играть",firstButtonOnClick:T,secondButtonOnClick:k})};return c.jsxs("div",{className:Ai.container,children:[c.jsx(ko,{title:g.title,text:g.text,isShow:g.isShow,firstButtonName:g.firstButtonName,secondButtonName:g.secondButtonName,firstButtonOnClick:g.firstButtonOnClick,secondButtonOnClick:g.secondButtonOnClick}),c.jsx(ct,{isShow:C.isShow,text:C.text}),c.jsx(kK,{isShow:o,onStop:A}),c.jsxs("div",{className:Ai.area,children:[c.jsx(bu,{name:"Баланс",isBalance:!0,count:l}),c.jsxs("div",{className:Ai.table,children:[r.map(M=>c.jsxs("div",{className:Ai.item,style:{background:M.isZero?M.background:"transparent",gridColumn:M.grid==="column"?M.size:"",gridRow:M.grid==="row"?M.size:"",border:`1px solid ${t.element_first_color}`,borderRadius:M.border,color:t.text_first_color},onClick:()=>N(M.name),children:[d.some(O=>O.item===M.name)&&c.jsx(SK,{price:100}),M.isCircle?c.jsx("div",{className:Ai.circle,style:{background:M.circleColor,color:t.text_first_color},children:M.name}):M.name]},M.name)),c.jsx("button",{className:Ai.spin,style:{background:t.element_first_color,color:t.text_first_color},onClick:S,children:"крутить"})]})]})]})}const IK="_container_1vtou_1",NK="_title_1vtou_36",jK="_text_1vtou_27",Vr={container:IK,"update-body":"_update-body_1vtou_12","update-data":"_update-data_1vtou_22","text-container":"_text-container_1vtou_27",title:NK,text:jK},AK=[{data:"27.03.2025",update:"Добавлена возможность сброса и восстановления пароля по email. Добавлена возможность скачать приложение. Добавлена возможность удалять комментарии",corrections:"Изменен размер отображения картинок в режиме показа картинки. Изменено отображение комментариев. Изменено отображение тэга в ответе на комментарий"},{data:"25.03.2025",update:"Добавлена возможность оставлять комментарии и делиться публикациями"},{data:"23.03.2025",update:'Добавлена игра "Угадай линию"'},{data:"19.01.2025",corrections:"Исправлен цвет иконок на светлых цветах"},{data:"16.01.2025",update:"Добавлена возможность просмотра профилей пользователей. Добавлена возможность подписки на пользователей. Добавлено отображение подписчиков. Добавлено отображение дат в расписании. Добавлено отображение количество лайков в постах.",corrections:"Цвет иконок на карточке урока теперь зависит от фонового цвета."},{data:"31.08.2024",update:'Добавлена новая категория товаров: "Родина"'},{data:"29.08.2024",update:"Добавлен отображение повестки в военкомат после игры в тест"},{data:"19.08.2024",update:"Добавлена возможность скачивать картинки в окне просмотра фотографии. Добавлена возможность создавать группы. Добавлена возможность загружать файлы, создавать расписание и делать публикации в своей группе. Добавлен раздел основной группы в меню навигации.",corrections:"Изменен внешний вид публикаций."},{data:"03.07.2024",update:"Добавлена новая игра - тест минутка."},{data:"29.06.2024",update:"Добавлена система промокодов.",corrections:'Исправлена возможность случайного клика на текст "Баланс"'},{data:"27.06.2024",update:`Добавлена новая игра: GCOIN TAP.
Добавлена новая игра: Ракетка.`,corrections:"Изменена высота расположения панели смайлов при загруженных изображения."},{data:"25.06.2024",update:`Добавлена стартовая страница.
Добавлена система входа и регистрации.
Обновлены все меню.
Добавлена возможность отправлять фотографии и смайлы в чат.
Добавлена система цензуры(по умолчанию включена).
Добавлена система публикаций.
Добавлена возможность публиковать до 5 фотографий и сколько угодно текста.
Добавлена система монет(несгораемая сумма состовляет 1000 монет).
Добавлена возможность заработать монеты в казино.
Добавлена система магазина.
Добавлена возможность покупки тем, цветов для обложки профиля, смайлов
Добавлена возможность смены темы.
Добавлена страница профиля.
Добавлена система аватаров(по умполчанию выбирается рандомно)
Появилась возмножность изменить имя, описание, аватар и цвет обложки
Добавлена возможность посмотреть фотографии в исходном размере(для этого необходими кликнуть на неё).
Добавлена система эмодзи(по умолчанию доступны стандартные, но дополнительные можно купить в магазине.
В обновления добавлен раздел "Исправления".`,corrections:`Сумма выигрыша теперь зависит от коэффициента.
Изменилась система подсчета выигрыша в казино(если вы точно угадали число, то +400 монет, если угадали один из параметров числа: odd/even, red/black, 1-18/19-36 - то за каждое совпадание +100 монет.`},{data:"14.02.2024",update:`Добавлено 2 новые игры.
Добавлено 5 новых цитат.
Добавлено 5 новых причин.
Добавлены новые функции в публикации.
Добавлена сортировка по датам в запросы.`,corrections:`Обновлено расписание уроков.
Заменена иконка выхода в меню в играх.`},{data:"21.01.2024",update:`Добавлена новая стартовая страница.
Добавлено новое меню навигации.`,corrections:`Исправлен выход меню из игры.
Заменена иконка выхода в меню в играх.`},{data:"19.12.2023",update:`Новая игра - пианино.
Добавлены звуки: при проирыше, при победе.
Добавлен сезонный приз - зеленая змея.
Добавлен новогодний стартовый экран.`},{data:"11.12.2023",update:"Новая игра - 2048"},{data:"04.12.2023",update:"Новая игра - тетрис"},{data:"03.12.2023",update:"Добавлена генерация полезных цитат для Вашего развития"},{data:"02.12.2023",update:`Добавлена новая страница с фотографиями.
Добавлены интерактивные элементы.`},{data:"11.11.2023",update:"Добавлено 2 новые игры.",corrections:"Внесены правки в игру змейка."},{data:"28.10.2023",update:`Обновлен дизайн сайта.
Изменена система генерации причин и цитат.
Добавлено 20 новых цитат.
Добавлено 10 новых причин.`,corrections:`Удалена генерация оскорблений.
Название сайта изменено на GENERY.
Изменена механика игр.
Изменена система подбора культурных слов.
Изменена система отображения расписания.
Изменено меню выбора игр.
Изменена система подсчета кешбэка.
Обновлена система уведломений.
Изменена система загрузки файлов.`},{data:"29.09.2023",update:`Добавлено две новых цитаты.
Исправлены ошибки в тексте.`,corrections:"Правки кода."},{data:"04.09.2023",update:`Добавлено актуальное расписание уроков.
Добавлено 5 новых причин.
Добавлено 100 новых профессий.
Добавлена версия для ПК.
Добавлена новая игра.`,corrections:"Изменена система отображения обновлений."},{data:"01.08.2023",update:`Добавлено 2 игры.
Добавлен раздел с играми.`,corrections:"Правки кода."},{data:"19.07.2023",update:`Полностью обновлен дизайн.
Добавлен раздел связи с разработчиком.
Добавлена динамическая загрузка расписания.
Добавлен стартовый экран.`},{data:"15.07.2023",update:`Добавлены новые культурные версии для матов.
Добавлен раздел с загрузками.`,corrections:"Заменена иконка раздела оскорблений."},{data:"30.06.2023",update:`Добавлен раздел подбора культурных слов к матам.
Добавлен раздел генерации профессий.`,corrections:'Название сайта изменено на "Мега генератор"'},{data:"11.06.2023",update:`Добавлен раздел генерации оскорблений.
Число пацанских цитат составляет 70.`},{data:"02.06.2023",update:`Сайт снова работает.
Добавлено 100 новых пацанских цитат.`},{data:"05.05.2023",update:`Удален раздел с анекдотами.
Добавлен раздел регистрации и входа в аккаунт.
Добавлено 5 новых цитат.`},{data:"03.05.2023",corrections:`Сайт перенес на другой хостинг
Смена темы больше не доступна.
Причины идти на урок больше не доступны.`},{data:"01.05.2023",update:`Добавлено 5 новых причин не идти на урок.
Добавлен раздел подсчета выигрыша на ставках`},{data:"30.04.2023",update:"Добавлен функционал к разделу с расписанием."},{data:"30.04.2023",update:`Добавлено новое меню.
Добавлен раздел с расписанием уроков.`,corrections:"Раздел обновлений перенесен в новое меню."},{data:"28.04.2023",update:`Добавлен раздел великих цитат.
Добавлено более 30 самых крутых цитат и случаев.`,corrections:"Цитаты разделены на две группы: с матами, и без них."},{data:"28.04.2023",update:"Ведется разработка новых разделов.",corrections:"Кнопка смены темы теперь закреплена при прокрутке."},{data:"28.04.2023",update:"Ведется разработка новых разделов.",corrections:"Кнопка смены темы теперь закреплена при прокрутке."},{data:"28.04.2023",update:`Добавлено меню для переключения страниц в нижней части экрана.
Добавлены разделы: обновлений, анекдотов, причин.
Увеличино разрешение иконок.`},{data:"26.04.2023",update:`Добавлена возможность изменить цветовую тему сайта.
Добавлено изменение генерации причин при смене темы.`},{data:"26.04.2023",update:`Добавлена страница генерации причин
Увеличено количество причин идти/не идти на урок.`},{data:"26.04.2023",update:`Запущен сайт для генерации причин не идти на урок.
Добавлено 36 причин не идти на урок.`}];function PK({data:t,update:e,corrections:n}){const{theme:r,elementColors:s,setElementColors:o}=f.useContext(B),i=e?e.split(`
`):[],a=n?n.split(`
`):[];return c.jsxs("div",{className:Vr["update-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:Vr["update-data"],style:{color:r.text_first_color},children:t}),e&&c.jsxs("div",{className:Vr["text-container"],children:[c.jsx("div",{className:Vr.title,style:{color:r.text_first_color},children:"Новые функции:"}),c.jsx("div",{className:Vr.text,style:{color:r.text_first_color},children:i.map((l,u)=>c.jsxs(Rn.Fragment,{children:[l,c.jsx("br",{})]},u))})]}),n&&c.jsxs("div",{className:Vr["text-container"],children:[c.jsx("div",{className:Vr.title,style:{color:r.text_first_color},children:"Исправления:"}),c.jsx("div",{className:Vr.text,style:{color:r.text_first_color},children:a.map((l,u)=>c.jsxs(Rn.Fragment,{children:[l,c.jsx("br",{})]},u))})]})]})}function LK(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),r=le();return f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>r("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[B]),c.jsxs("div",{className:Vr.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),AK.map(s=>c.jsx(PK,{data:s.data,update:s.update,corrections:s.corrections}))]})}const RK="_container_1qgb1_1",OK="_title_1qgb1_12",DK="_circle_1qgb1_47",MK="_edit_1qgb1_93",$K="_button_1qgb1_113",vt={container:RK,title:OK,"files-container":"_files-container_1qgb1_18","download-body":"_download-body_1qgb1_28","add-body":"_add-body_1qgb1_38",circle:DK,"download-name":"_download-name_1qgb1_57","download-name-empty":"_download-name-empty_1qgb1_63","download-button":"_download-button_1qgb1_70","download-button-empty":"_download-button-empty_1qgb1_87",edit:MK,button:$K};function FK({color:t,name:e,url:n,id:r}){const{theme:s,elementColors:o,setElementColors:i}=f.useContext(B),a=(l,u)=>{const d=new XMLHttpRequest;d.responseType="blob",d.onload=h=>{const m=d.response,p=document.createElement("a");p.href=window.URL.createObjectURL(m),p.download=u,document.body.appendChild(p),p.click(),document.body.removeChild(p)},d.open("GET",l),d.send()};return c.jsxs("div",{className:vt["download-body"],style:{border:`2px solid ${s.element_first_color}`},children:[c.jsx("div",{className:vt["download-name"],style:{color:s.text_first_color},children:e}),c.jsx("button",{className:vt["download-button"],style:{background:t},onClick:l=>{l.preventDefault(),a(n,e)},children:c.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 1C9 0.447715 8.55228 2.41411e-08 8 0C7.44772 -2.41411e-08 7 0.447715 7 1L9 1ZM7.29289 14.435C7.68342 14.8256 8.31658 14.8256 8.70711 14.435L15.0711 8.07107C15.4616 7.68054 15.4616 7.04738 15.0711 6.65685C14.6805 6.26633 14.0474 6.26633 13.6569 6.65685L8 12.3137L2.34315 6.65685C1.95262 6.26633 1.31946 6.26633 0.928932 6.65685C0.538408 7.04738 0.538408 7.68054 0.928932 8.07107L7.29289 14.435ZM7 1L7 13.7279L9 13.7279L9 1L7 1Z",fill:s.text_first_color})})})]})}function Qh(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B);return c.jsxs("div",{className:vt["download-body"],style:{border:`2px solid ${t.element_first_color}`},children:[c.jsx("div",{className:vt["download-name-empty"],style:{color:t.text_first_color},children:c.jsx(_t,{width:"100%",height:"18px",shape:"rect"})}),c.jsx("div",{className:vt["download-button-empty"],children:c.jsx(_t,{width:"32px",height:"32px",shape:"circle"})})]})}function BK({color:t,name:e,url:n,id:r,onDelete:s}){const{theme:o,elementColors:i,setElementColors:a}=f.useContext(B);return c.jsxs("div",{className:vt["download-body"],style:{border:`2px solid ${o.element_first_color}`},children:[c.jsx("div",{className:vt["download-name"],style:{color:o.text_first_color},children:e}),c.jsx("button",{className:vt["download-button"],style:{background:t},onClick:s,children:c.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:o.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function UK({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState([]),[a,l]=f.useState(),[u,d]=f.useState(),[h,m]=f.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[p,_]=f.useState(),{authUser:w}=ce();le(),f.useEffect(()=>{(async()=>{try{const b=G(V,"groups",t,"info","info"),k=await se(b);if(k.exists()){const T=k.data();_(T.owner)}else console.error("Group not found")}catch(b){console.error("Error fetching group data:",b)}finally{}})()},[t]);const x=async()=>{if(t)try{const C=G(V,"groups",t,"info","downloads"),b=await se(C);if(b.exists()){const k=b.data();i(k.files||[]),console.log(k.files)}else console.log("No such document!"),i([])}catch(C){console.error("Error fetching group data:",C),i([])}finally{l(!1)}else console.error("ID группы не указан"),i([]),l(!1)};f.useEffect(()=>{x()},[t]),f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:e,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[B]);const v=C=>{m({isShow:!0,title:"Удаление файла",text:`Вы действительно хотите удалить файл ${C.name}?`,firstButtonName:"Отмена",firstButtonOnClick:()=>m({isShow:!1}),secondButtonName:"Удалить",secondButtonOnClick:()=>g(C)})},g=async C=>{if(!C||!C.link){console.error("Invalid file or file URL:",C);return}m({isShow:!1});try{const b=C.link;console.log("File URL:",b);let T=b.replace("https://firebasestorage.googleapis.com/v0/b/genery-c83e3.appspot.com/o/","");T=decodeURIComponent(T);const[S]=T.split("?");console.log("File Path:",S);const E=Sn(En,S);await QM(E),console.log("File deleted from Firebase Storage");const N=G(V,"groups",t,"info","downloads"),A=await se(N);if(A.exists()){const M=(A.data().files||[]).filter(O=>O.link!==b);await We(N,{files:M},{merge:!0}),i(M),console.log("File deleted from Firestore")}else console.log("No such document in Firestore!")}catch(b){console.error("Error deleting file:",b)}},y=async()=>{await x(),d(!1)};return c.jsxs(c.Fragment,{children:[c.jsx(ko,{title:h.title,text:h.text,isShow:h.isShow,firstButtonName:h.firstButtonName,secondButtonName:h.secondButtonName,firstButtonOnClick:h.firstButtonOnClick,secondButtonOnClick:h.secondButtonOnClick}),c.jsx(wG,{id:t,isShow:u,close:y}),c.jsx("div",{className:vt.title,style:{color:n.text_first_color},children:"Файлы"}),c.jsx("div",{className:vt["files-container"],children:a?c.jsxs(c.Fragment,{children:[c.jsx(Qh,{}),c.jsx(Qh,{})]}):c.jsxs(c.Fragment,{children:[o.map(C=>c.jsx(BK,{color:C.color,name:C.name,url:C.link,id:t,onDelete:()=>v(C)},C.name)),c.jsx("div",{className:vt["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>d(!0),children:c.jsx("div",{className:vt.circle,style:{background:n.element_first_color},children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})}),c.jsx("button",{className:vt.button,style:{background:n.first_color,color:n.text_first_color},onClick:e,children:"Сохранить"})]})})]})}function VK(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState([]),[o,i]=f.useState(),{id:a}=Vn(),[l,u]=f.useState(),{authUser:d}=ce(),h=le(),[m,p]=f.useState(!1);f.useEffect(()=>{(async()=>{try{const g=G(V,"groups",a,"info","info"),y=await se(g);if(y.exists()){const C=y.data();u(C.owner)}else console.error("Group not found")}catch(g){console.error("Error fetching group data:",g)}finally{}})()},[a]);const _=async()=>{if(a)try{const v=G(V,"groups",a,"info","downloads"),g=await se(v);if(g.exists()){const y=g.data();s(y.files||[]),console.log(y.files)}else console.log("No such document!"),s([])}catch(v){console.error("Error fetching group data:",v),s([])}finally{i(!1)}else console.error("ID группы не указан"),s([]),i(!1)};f.useEffect(()=>{_()},[a]),f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${a}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[B]);const w=()=>{p(!0)},x=()=>{p(!1)};return c.jsx("div",{className:vt.container,children:m?c.jsx(UK,{id:a,handleEdit:x}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:vt.title,style:{color:t.text_first_color},children:"Файлы"}),c.jsx("div",{className:vt["files-container"],children:o?c.jsxs(c.Fragment,{children:[c.jsx(Qh,{}),c.jsx(Qh,{})]}):r.length>0?r.map(v=>c.jsx(FK,{color:v.color,name:v.name,url:v.link,id:a},v.name)):c.jsx("div",{className:vt["info-body"],style:{color:t.text_first_color},children:"Тут пока пусто ..."})}),l&&l===d._id&&c.jsx("button",{className:vt.edit,style:{background:t.first_color},onClick:w,children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_first_color})})})]})})}const zK="_container_143zk_2",HK="_cover_143zk_22",qK="_label_143zk_189",te={container:zK,"profile-container":"_profile-container_143zk_13","cover-container":"_cover-container_143zk_22",cover:HK,"cover-pattern":"_cover-pattern_143zk_41","user-photo":"_user-photo_143zk_49","change-photo-button":"_change-photo-button_143zk_68","user-actions":"_user-actions_143zk_86","user-info":"_user-info_143zk_92","user-name":"_user-name_143zk_99","circle-button":"_circle-button_143zk_104","user-biography":"_user-biography_143zk_121","button-container":"_button-container_143zk_126","quit-button":"_quit-button_143zk_135","colors-container":"_colors-container_143zk_152","color-circle":"_color-circle_143zk_162","active-circle":"_active-circle_143zk_172","input-data-container":"_input-data-container_143zk_179",label:qK,"input-data":"_input-data_143zk_179","item-body":"_item-body_143zk_205","item-icon":"_item-icon_143zk_218","item-name":"_item-name_143zk_226","item-info":"_item-info_143zk_233","item-circle":"_item-circle_143zk_241","posts-container":"_posts-container_143zk_258"};function WK({fetchUserPreferences:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),{authUser:o}=ce(),[i,a]=f.useState(o.name),[l,u]=f.useState(o.biography),[d,h]=f.useState(!0),[m,p]=f.useState(null),[_,w]=f.useState(o.cover),[x,v]=f.useState([]),[g,y]=f.useState({isShow:!1,text:""});f.useEffect(()=>{(async()=>{if(o&&o._id){const N=G(V,"users",o._id,"info","preferences"),A=await se(N);if(A.exists()){const j=A.data();console.log(j),a(j.name),u(j.biography),w(j.cover),v(M=>[...M,...j.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const C=x?ki.filter(E=>x.includes(E.name)):[];f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),f.useEffect(()=>{if(g.isShow){const E=setTimeout(()=>{y({isShow:!1})},1500);return()=>clearTimeout(E)}},[g.isShow]);const b=E=>{E.target.files[0]&&(p(E.target.files[0]),console.log(E.target.files[0]))},k=E=>{w(E)},T=async()=>{let E=null;const N=new Date().toISOString();if(m){const A=Sn(En,`users_photo/${o._id}/${N}_${m.name}`);await pr(A,m),E=await $n(A)}if(o&&o._id){const A=G(V,"users",o._id,"info","preferences");try{await We(A,{name:i,biography:l,photo:m?E:o.avatar,cover:_},{merge:!0}),await t(),e()}catch(j){console.error("Error updating document: ",j)}}};function S(E){if(!E)return!1;let N,A,j;if(E.startsWith("#"))if(E.length===4)N=parseInt(E[1]+E[1],16),A=parseInt(E[2]+E[2],16),j=parseInt(E[3]+E[3],16);else if(E.length===7)N=parseInt(E.slice(1,3),16),A=parseInt(E.slice(3,5),16),j=parseInt(E.slice(5,7),16);else return!1;else if(E.startsWith("rgb")){const O=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(O.length===3)N=O[0],A=O[1],j=O[2];else return!1}else{const O=document.createElement("div");O.style.color=E,document.body.appendChild(O);const $=window.getComputedStyle(O).color;if(document.body.removeChild(O),$.startsWith("rgb")){const L=$.substring($.indexOf("(")+1,$.lastIndexOf(")")).split(",").map(Number);if(L.length===3)N=L[0],A=L[1],j=L[2];else return!1}else return!1}return(N*299+A*587+j*114)/1e3>180}return c.jsxs("div",{className:te["profile-container"],children:[c.jsx(ct,{isShow:g.isShow,text:g.text}),c.jsx("div",{className:te["cover-container"],children:c.jsx("div",{className:te.cover,style:{background:_},children:c.jsx("div",{className:te["cover-pattern"]})})}),c.jsxs("div",{className:te["user-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[c.jsx("button",{className:te["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:m?URL.createObjectURL(m):o.avatar}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:b})]}),c.jsx("div",{className:te["colors-container"],style:{background:n.element_first_color},children:C.map(E=>c.jsx(c.Fragment,{children:E.colors.map((N,A)=>c.jsx("div",{className:te["color-circle"],style:{background:N},onClick:()=>k(N),children:_===N&&c.jsx("div",{className:te["active-circle"],style:{borderColor:S(N)?"#0A0B10":"#fff"}})},A))}))}),c.jsxs("div",{className:te["user-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:te["input-data-container"],children:[c.jsx("div",{className:te.label,style:{color:n.first_color},children:"Имя"}),c.jsx("input",{type:"text",value:i,className:te["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>a(E.target.value)})]}),c.jsxs("div",{className:te["input-data-container"],children:[c.jsx("div",{className:te.label,style:{color:n.first_color},children:"О себе"}),c.jsx("input",{type:"text",value:l,className:te["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>u(E.target.value)})]}),c.jsx("div",{className:te["button-container"],children:c.jsx("button",{className:te["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:T,children:"Сохранить"})})]})]})}function GK({id:t}){const{theme:e,elementColors:n,setElementColors:r}=f.useContext(B),{authUser:s,ga:o}=ce(),[i,a]=f.useState({name:s.name,biography:s.biography,photo:s.avatar}),l=le(),[u,d]=f.useState(!1),[h,m]=f.useState({isShow:!1,text:""}),[p,_]=f.useState({isShow:!1,images:[],index:null});f.useEffect(()=>{r({iconColor:e.text_first_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>l("/list-menu"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const w=async()=>{if(s&&s._id){const y=G(V,"users",s._id,"info","preferences"),C=await se(y);if(C.exists()){const b=C.data();console.log(b),a({name:b.name,biography:b.biography,photo:b.photo,cover:b.cover,balance:b.balance,followers:b.followers})}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")};f.useEffect(()=>{w()},[]);const x=()=>{navigator.clipboard.writeText(s._id).then(()=>{m({isShow:!0,text:"id скопирован в буфер обмена"})}).catch(y=>{m({isShow:!0,text:`Не удалось скопировать id ${y}`})})};f.useEffect(()=>{if(h.isShow){const y=setTimeout(()=>{m({isShow:!1})},1500);return()=>clearTimeout(y)}},[h.isShow]);const v=()=>{d(!1),m({isShow:!0,text:"изменения успешно сохранены"})},g=y=>{_({isShow:!0,images:y,index:0})};return c.jsxs("div",{className:te.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(Ur,{isShow:p.isShow,images:p.images,index:p.index,onClose:()=>_({isShow:!1})}),u?c.jsx(WK,{handleEdit:v,fetchUserPreferences:w}):c.jsxs("div",{className:te["profile-container"],children:[c.jsx(ct,{isShow:h.isShow,text:h.text}),c.jsx("div",{className:te["cover-container"],children:c.jsx("div",{className:te.cover,style:{background:i.cover},children:c.jsx("div",{className:te["cover-pattern"]})})}),c.jsx("div",{className:te["user-photo"],style:{borderColor:e.background_color},children:c.jsx("img",{src:i.photo,onClick:()=>g(i.photo)})}),c.jsxs("div",{className:te["user-actions"],style:{background:e.element_first_color},children:[c.jsxs("div",{className:te["user-info"],children:[c.jsx("div",{className:te["user-name"],style:{color:e.text_first_color},children:i.name}),c.jsx("button",{className:te["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:x,children:"#"})]}),c.jsx("div",{className:te["user-biography"],style:{color:e.text_first_color},children:i.biography}),c.jsxs("div",{className:te["button-container"],children:[c.jsx("button",{className:te["quit-button"],style:{background:e.element_second_color,color:e.text_first_color},onClick:()=>xA(o),children:"Выйти"}),c.jsx("button",{className:te["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:()=>d(!0),children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:e.text_first_color})})})]})]}),c.jsxs("div",{className:te["item-body"],style:{border:`2px solid ${e.element_first_color}`},children:[c.jsx("div",{className:te["item-info"],children:c.jsxs("div",{className:te["item-name"],style:{color:e.text_first_color},children:["Баланс:  ",i.balance," ",c.jsx(Yh,{color:e.first_color})]})}),c.jsx("div",{className:te["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:te["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l(`/subscribers/${t}?isGroup=false`),children:[c.jsx("div",{className:te["item-info"],children:c.jsxs("div",{className:te["item-name"],style:{color:e.text_first_color},children:["Подписчики: ",i.followers?i.followers.length:0]})}),c.jsx("div",{className:te["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:te["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l("/settings"),children:[c.jsxs("div",{className:te["item-info"],children:[c.jsx("div",{className:te["item-icon"],children:c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.0001 1C16.7522 1 17.4936 1.05571 18.2158 1.16286L19.3043 4.46066C20.2579 4.7328 21.1643 5.12065 22.0043 5.60921L25.1328 4.10067C26.2406 4.95137 27.2263 5.95421 28.0578 7.07705L26.4935 10.1777C26.9671 11.0263 27.3399 11.9391 27.5949 12.8991L30.8734 14.0412C31.0541 15.4276 31.0418 16.8324 30.837 18.2154L27.5392 19.304C27.2689 20.2478 26.8831 21.1547 26.3906 22.004L27.8992 25.1325C27.0473 26.2406 26.0456 27.225 24.9228 28.0574L21.8221 26.4932C20.9644 26.9722 20.0502 27.3422 19.1008 27.5946L17.9586 30.8731C16.5722 31.0537 15.1675 31.0415 13.7844 30.8367L12.6959 27.5389C11.752 27.2686 10.8452 26.8828 9.9959 26.3903L6.86738 27.8989C5.75923 27.047 4.77484 26.0453 3.94243 24.9225L5.50669 21.8218C5.02886 20.9635 4.65892 20.0495 4.40528 19.1004L1.12676 17.9562C0.946317 16.5704 0.958576 15.1664 1.16318 13.7841L4.46099 12.6955C4.73313 11.742 5.12098 10.8356 5.60954 9.99557L4.10099 6.86705C4.95285 5.75891 5.95455 4.77451 7.07738 3.9421L10.178 5.50636C11.0358 5.02737 11.95 4.65737 12.8994 4.40495L14.0437 1.12643C14.6924 1.04203 15.3459 0.999799 16.0001 1Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),c.jsx("path",{d:"M16.0002 22.4282C19.5506 22.4282 22.4287 19.5501 22.4287 15.9998C22.4287 12.4494 19.5506 9.57129 16.0002 9.57129C12.4499 9.57129 9.57178 12.4494 9.57178 15.9998C9.57178 19.5501 12.4499 22.4282 16.0002 22.4282Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}),c.jsx("div",{className:te["item-name"],style:{color:e.text_first_color},children:"Настройки"})]}),c.jsx("div",{className:te["item-circle"],style:{background:e.second_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.background_color})})})]})]})]})}function KK({id:t}){const{authUser:e}=ce(),{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState({isShow:!0}),[a,l]=f.useState({isShow:!1,text:""}),u=le(),[d,h]=f.useState([]),[m,p]=f.useState(!1),[_,w]=f.useState({isShow:!1,images:[],index:null});f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>u("/posts"),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),f.useEffect(()=>{x()},[t]);const x=async()=>{if(t){const k=G(V,"users",t,"info","preferences"),T=await se(k);if(T.exists()){const S=T.data();console.log(S),i({id:S.uid,isUser:!0,name:S.name,biography:S.biography,photo:S.photo,cover:S.cover,followers:S.followers||[]})}else console.log("No such document!"),i({isUser:!1,name:"Пользователь не найден",biography:""})}else console.error("authUser or authUser._id is undefined")};f.useEffect(()=>{if(a.isShow){const k=setTimeout(()=>{l({isShow:!1})},1500);return()=>clearTimeout(k)}},[a.isShow]),f.useEffect(()=>{const k=mr(ps(Qt(V,"posts"),xi("timestamp","desc")),T=>{const S=[];T.forEach(E=>{const N=E.data();if(N.userId===t){const A=new Date(N.timestamp),j=N.likesArray,M=A.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});S.push({id:E.id,userId:N.userId,userName:N.userName,groupOwnerId:N.groupOwnerId,userPhoto:N.userPhoto,postText:N.text,postPhoto:N.photos,postData:M,likesArray:j})}}),h(S),p(!1)});return()=>{k()}},[t]);const v=(k,T)=>{w({isShow:!0,images:k,index:T})},g=(k,T)=>{switch(k){case"delete":return setAlertProp({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(T)});default:return setAlertProp({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}},y=k=>{w({isShow:!0,images:k,index:0})},C=async()=>{if(e._id){const k=G(V,"users",t,"info","preferences"),T=G(V,"users",e._id,"info","preferences");try{const S=await se(k),E=await se(T);if(S.exists()&&E.exists()){const N=S.data(),A=E.data(),j=N.followers||[],M=A.subscribes||[];let O,$;j.includes(e._id)?(O=j.filter(L=>L!==e._id),$=M.filter(L=>L!==t)):(O=[...j,e._id],$=[...M,t]),await We(k,{followers:O},{merge:!0}),await We(T,{subscribes:$},{merge:!0}),await x(),console.log("Subscription updated successfully")}else console.error("Group or user document does not exist")}catch(S){console.error("Error updating subscription:",S)}}else console.error("User is not authenticated")},b=()=>{navigator.clipboard.writeText(o.id).then(()=>{l({isShow:!0,text:"id скопирован в буфер обмена"})}).catch(k=>{l({isShow:!0,text:`Не удалось скопировать id ${k}`})})};return c.jsxs("div",{className:te.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${n.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(Ur,{isShow:_.isShow,images:_.images,index:_.index,onClose:()=>w({isShow:!1})}),c.jsx(ct,{isShow:a.isShow,text:a.text}),c.jsx("div",{className:te["cover-container"],children:c.jsx("div",{className:te.cover,style:{background:o.cover},children:c.jsx("div",{className:te["cover-pattern"]})})}),c.jsx("div",{className:te["user-photo"],style:{borderColor:n.background_color},children:c.jsx("img",{src:o.photo,onClick:()=>y(o.photo)})}),o.isUser?c.jsxs("div",{className:te["user-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:te["user-info"],children:[c.jsx("div",{className:te["user-name"],style:{color:n.text_first_color},children:o.name}),c.jsx("button",{className:te["circle-button"],style:{color:"var(--text-first-color)",background:"var(--first-color)"},onClick:b,children:"#"})]}),c.jsx("div",{className:te["user-biography"],style:{color:n.text_first_color},children:o.biography}),c.jsxs("div",{className:te["button-container"],children:[c.jsx("button",{className:te["quit-button"],style:{background:o.followers.includes(e._id)?n.element_second_color:n.first_color,color:n.text_first_color},onClick:C,children:o.followers&&o.followers.includes(e._id)?"Отписаться":"Подписаться"}),c.jsx("button",{className:te["quit-button"],style:{background:n.element_second_color,color:n.text_first_color},onClick:()=>u(`/chat/${t}_${e._id}`),children:"Сообщение"})]})]}):c.jsx("div",{className:te["user-actions"],style:{background:n.element_first_color},children:c.jsx("div",{className:te["user-info"],children:c.jsx("div",{className:te["user-name"],style:{color:n.text_first_color},children:o.name})})}),c.jsxs("div",{className:te["item-body"],style:{border:`2px solid ${n.element_first_color}`},onClick:()=>u(`/subscribers/${t}?isGroup=false`),children:[c.jsx("div",{className:te["item-info"],children:c.jsxs("div",{className:te["item-name"],style:{color:n.text_first_color},children:["Подписчики: ",o.followers?o.followers.length:0]})}),c.jsx("div",{className:te["item-circle"],style:{background:n.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n.text_first_color})})})]}),c.jsx("div",{className:te["posts-container"],children:m?c.jsxs(c.Fragment,{children:[c.jsx(At,{}),c.jsx(At,{}),c.jsx(At,{}),c.jsx(At,{})]}):d.map(k=>c.jsx(Cu,{postId:k.id,groupOwnerId:k.groupOwnerId,userId:k.userId,userName:k.userName,userPhoto:k.userPhoto,postData:k.postData,postText:k.postText,postPhotos:k.postPhoto,likesArray:k.likesArray,photoClick:v,postAction:g},k.id))})]})}function ZK(){const{authUser:t}=ce(),{id:e}=Vn();return!e||e===t._id?c.jsx(GK,{id:t._id}):c.jsx(KK,{id:e})}const YK="_container_84yn6_1",QK={container:YK},yl={"block-body":"_block-body_1qf46_1","block-name":"_block-name_1qf46_10","block-button":"_block-button_1qf46_15","button-circle":"_button-circle_1qf46_25","button-name":"_button-name_1qf46_41"};function XK({name:t,buttonText:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=f.useContext(B);return c.jsxs("div",{className:yl["block-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:yl["block-name"],style:{color:r.text_first_color},children:t}),c.jsxs("button",{className:yl["block-button"],style:{background:r.first_color},onClick:n,children:[c.jsx("h4",{className:yl["button-name"],style:{color:r.text_first_color},children:e}),c.jsx("div",{className:yl["button-circle"],style:{background:r.text_first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.background_color})})})]})]})}const JK="_overlay_1y7wn_1",eZ="_line_1y7wn_25",tZ="_content_1y7wn_36",bs={overlay:JK,"menu-wrapper":"_menu-wrapper_1y7wn_11",line:eZ,"content-wrapper":"_content-wrapper_1y7wn_36","menu-title":"_menu-title_1y7wn_46",content:tZ,"input-promo":"_input-promo_1y7wn_64","main-button":"_main-button_1y7wn_80"};function nZ({isShow:t,setShow:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=f.useContext(B),{authUser:a}=ce(),[l,u]=f.useState(Array(6).fill("")),[d,h]=f.useState([]),[m,p]=f.useState(!1),[_,w]=f.useState(!0),[x,v]=f.useState(),[g,y]=f.useState(),C=f.useRef(),b=f.useRef([]),[k,T]=f.useState({isShow:!1,text:""});f.useEffect(()=>{if(k.isShow){const $=setTimeout(()=>{T({isShow:!1})},1e3);return()=>clearTimeout($)}},[k]);const S=U8(0),E={hidden:{opacity:0,visibility:"hidden"},show:{opacity:1,visibility:"visible"},close:{marginTop:"100%"},open:{marginTop:"30%"}},N=($,L)=>{const P=$.target.value,I=[...l];I[L]=P,u(I),P.length===1&&L<b.current.length-1?b.current[L+1].focus():P.length===0&&L>0&&b.current[L-1].focus();const R=I.filter(D=>D!=="");w(R.length<6)},A=($,L)=>{const[P,I,R]=$.split(".").map(Number),[D,F]=L.split(":").map(Number);return new Date(R,I-1,P,D,F)},j=async()=>{u(Array(6).fill("")),w(!0);const $=l.join("").toUpperCase(),L=G(V,"promocodes",$),P=await se(L);if(P.exists()){const I=P.data();A(I.time.data,I.time.time)>new Date?(n("found",I.money),e(!1)):n("time exist",0)}else n("not found",0)},M=()=>{p(!0)},O=()=>{p(!1);const $=S.get();console.log("dragY:",$),C.current&&($<-70?C.current.style.marginTop="2%":$>10&&$<50?C.current.style.marginTop="3%":$>70&&e(!1)),S.set(0)};return c.jsxs(Qe.div,{className:bs.overlay,variants:E,initial:"hidden",animate:t?"show":"hidden",children:[c.jsx(ct,{isShow:k.isShow,text:k.text}),c.jsxs(Qe.section,{className:bs["menu-wrapper"],style:{y:S,background:r.element_first_color},ref:C,variants:E,initial:"close",animate:t?"open":"close",drag:"y",dragConstraints:{top:window.innerWidth>700?-300:-50,bottom:0},transition:{type:"spring",damping:40,stiffness:400},onDragStart:M,onDragEnd:O,children:[c.jsx("div",{className:bs.line,style:{background:r.element_second_color}}),c.jsxs("div",{className:bs["content-wrapper"],children:[c.jsx("h3",{className:bs["menu-title"],style:{color:r.text_first_color},children:"Промокод"}),c.jsx("div",{className:bs.content,children:l.map(($,L)=>c.jsx("input",{type:"text",className:bs["input-promo"],style:{color:r.text_first_color,background:r.element_second_color,"--focusColor":r.gradient_first_color},maxLength:1,value:$,onChange:P=>N(P,L),ref:P=>b.current[L]=P},L))}),c.jsx("button",{className:bs["main-button"],style:{background:_?r.element_second_color:r.first_color,color:r.text_first_color},disabled:_,onClick:j,children:"Активировать"})]})]})]})}function rZ(){const{authUser:t}=ce(),{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState(!1),[a,l]=f.useState(),[u,d]=f.useState(),h=le(),[m,p]=f.useState({isShow:!1,text:""});f.useEffect(()=>{if(m.isShow){const v=setTimeout(()=>{p({isShow:!1})},1e3);return()=>clearTimeout(v)}},[m]),f.useEffect(()=>{s({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>h("/group-list"),arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:0,background:e.background_color}),document.body.style.background=e.background_color},[B]),f.useEffect(()=>{(async()=>{if(t&&t._id){const g=G(V,"users",t._id,"info","preferences"),y=await se(g);if(y.exists()){const C=y.data();l(C.balance),d(C.promoLastActivated?new Date(C.promoLastActivated):null)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const _=async(v,g)=>{if(t&&t._id){const y=G(V,"users",t._id,"info","preferences"),C=await se(y),b=new Date;if(C.exists()){const k=C.data(),T=k.promoLastActivated?new Date(k.promoLastActivated):null;if(T&&b-T<24*60*60*1e3){p({isShow:!0,text:"Промокод можно активировать только раз в сутки"});return}}try{await bn(y,{balance:v,promoLastActivated:b.toISOString()}),p({isShow:!0,text:`Промод активирован. Ваш баланс пополнен на ${g}`}),console.log(`Balance updated to ${v}`)}catch(k){console.error("Error updating balance:",k)}}else console.error("authUser or authUser._id is undefined")},w=(v,g)=>{switch(v){case"not found":return[p({isShow:!0,text:"Промокод не найден"}),i(!1)];case"time exist":return[p({isShow:!0,text:"Действие промокода закончилось"}),i(!1)];case"found":return[_(a+g,g)]}},x=()=>{i(!0)};return c.jsxs("div",{className:QK.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 5px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.element_first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
        `}),c.jsx(ct,{isShow:m.isShow,text:m.text}),c.jsx(nZ,{isShow:o,setShow:i,onClick:w}),c.jsx(XK,{name:"Активируйте промокод",buttonText:"Активировать",onClick:x}),c.jsx(or,{name:"Казино",description:"Последний деп?",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_first_color,linkTo:"/casino"}),c.jsx(or,{name:"GCOIN",description:"тапай по экрану",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_second_color,linkTo:"/tapcoin"}),c.jsx(or,{name:"Ракетка",description:"Не входи в азарт",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/rocket"}),c.jsx(or,{name:"Тест",description:"поступи на СВО",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/quiz"}),c.jsx(or,{name:"Flyppi bird",description:"9/11",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/flippybird"}),c.jsx(or,{name:"Рейтинг студентов",description:"Баллы получай, IQ повышай",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/rating"}),c.jsx(or,{name:"Угадай линию",description:"Ну могу 2 балла поставить",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/guessline"})]})}const sZ=()=>{const t=f.useRef(null),e=f.useRef(null),[n,r]=f.useState(null),s=async()=>{try{const a=await navigator.mediaDevices.getUserMedia({video:!0});t.current.srcObject=a,t.current.play()}catch(a){console.error("Error accessing camera: ",a)}},o=()=>{t.current.srcObject.getTracks().forEach(u=>{u.stop()}),t.current.srcObject=null},i=()=>{e.current.getContext("2d").drawImage(t.current,0,0,e.current.width,e.current.height);const l=e.current.toDataURL("image/png");r(l)};return c.jsxs("div",{children:[c.jsx("video",{ref:t,width:"640",height:"480",autoPlay:!0}),c.jsx("canvas",{ref:e,width:"640",height:"480",style:{display:"none"}}),c.jsxs("div",{children:[c.jsx("button",{onClick:s,children:"Start Camera"}),c.jsx("button",{onClick:i,children:"Capture Photo"}),c.jsx("button",{onClick:o,children:"Stop Camera"})]}),n&&c.jsxs("div",{children:[c.jsx("h2",{children:"Captured Image:"}),c.jsx("img",{src:n,alt:"Captured"})]})]})},oZ="_container_1ka4o_1",iZ="_coin_1ka4o_34",aZ="_limit_1ka4o_120",lZ="_icon_1ka4o_126",cZ="_data_1ka4o_113",Bt={container:oZ,"score-container":"_score-container_1ka4o_12","wrapper-action":"_wrapper-action_1ka4o_17","score-add":"_score-add_1ka4o_26",coin:iZ,"control-point-1":"_control-point-1_1ka4o_45","control-point-2":"_control-point-2_1ka4o_55","control-point-3":"_control-point-3_1ka4o_64","control-point-4":"_control-point-4_1ka4o_74","control-point-center":"_control-point-center_1ka4o_84","coin-outer":"_coin-outer_1ka4o_93","coin-inner":"_coin-inner_1ka4o_104","data-container":"_data-container_1ka4o_113",limit:aZ,icon:lZ,data:cZ};function uZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),{authUser:s}=ce(),[o,i]=f.useState(),[a,l]=f.useState(0),[u,d]=f.useState(),h=f.useRef(),[m,p]=f.useState(0),[_,w]=f.useState([]),x=le();f.useEffect(()=>{d(a)},[a]),f.useEffect(()=>{(async()=>{if(s&&s._id){const C=G(V,"users",s._id,"info","preferences"),b=await se(C);if(b.exists()){const k=b.data();i(k.balance),l(k.limit)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const v=async y=>{if(s&&s._id)try{const C=G(V,"users",s._id,"info","preferences");await bn(C,{balance:y}),console.log(`Balance updated to ${y}`)}catch(C){console.error("Error updating balance:",C)}else console.error("authUser or authUser._id is undefined")};f.useEffect(()=>{v(o)},[o]),f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>x("/game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{if(u<a){const y=setTimeout(()=>{d(u+1)},500);return()=>clearTimeout(y)}},[u]);const g=y=>{if(u<=0)return;i(o+1),d(u-1);const C={x:y.clientX,y:y.clientY,id:Date.now()};w(b=>[...b,C]),setTimeout(()=>{w(b=>b.filter(k=>k.id!==C.id))},10)};return f.useEffect(()=>{h.current&&(h.current.style.transform=`rotateY(${m}deg)`,m&&setTimeout(()=>{p(0)},70))},[m]),c.jsxs("div",{className:Bt.container,children:[c.jsx(lq,{children:_.map(y=>c.jsx(Qe.div,{className:Bt["score-add"],initial:{opacity:1,top:y.y-10,left:y.x-10},animate:{opacity:0,top:y.y-40,left:y.x-10},exit:{opacity:0},style:{color:t.text_first_color},children:"+1"},y.id))}),c.jsx("div",{className:Bt["score-container"],children:c.jsx(bu,{name:"Баланс",count:o,isBalance:!0})}),c.jsx("div",{className:Bt["wrapper-action"],children:c.jsxs("div",{className:Bt.coin,ref:h,onClick:g,children:[c.jsx("div",{className:Bt["control-point-1"],onClick:()=>p(30)}),c.jsx("div",{className:Bt["control-point-2"],onClick:()=>p(-30)}),c.jsx("div",{className:Bt["control-point-3"],onClick:()=>p(30)}),c.jsx("div",{className:Bt["control-point-4"],onClick:()=>p(-30)}),c.jsx("div",{className:Bt["control-point-center"]}),c.jsx("div",{className:Bt["coin-outer"],style:{background:t.first_color},children:c.jsx("div",{className:Bt["coin-inner"]})})]})}),c.jsx("div",{className:Bt["data-container"],children:c.jsxs("div",{className:Bt.limit,children:[c.jsx("div",{className:Bt.icon,children:c.jsx("svg",{width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.17925 0.737957C9.28191 0.797057 9.36135 0.88898 9.4046 0.998711C9.44784 1.10844 9.45234 1.22949 9.41735 1.34209L7.52826 7.43758H11.0138C11.1162 7.43754 11.2164 7.46728 11.302 7.52314C11.3876 7.57901 11.4549 7.65854 11.4955 7.75192C11.5361 7.84531 11.5483 7.94846 11.5305 8.04864C11.5128 8.14882 11.4659 8.24164 11.3956 8.31565L3.0043 17.1693C2.9231 17.2551 2.81506 17.311 2.69778 17.3279C2.58049 17.3449 2.46089 17.3219 2.35845 17.2627C2.25601 17.2035 2.17679 17.1116 2.13369 17.0019C2.09059 16.8923 2.08616 16.7714 2.12111 16.6589L4.0102 10.5624H0.524666C0.422234 10.5624 0.322033 10.5327 0.236431 10.4768C0.150829 10.421 0.0835737 10.3414 0.0429683 10.248C0.00236276 10.1547 -0.00981566 10.0515 0.00793624 9.95134C0.0256882 9.85116 0.0725932 9.75833 0.142861 9.68432L8.53417 0.83066C8.61526 0.745039 8.72314 0.689177 8.84025 0.672158C8.95737 0.655138 9.07685 0.677961 9.17925 0.736916V0.737957Z",fill:t.light_color})})}),c.jsx("div",{className:Bt.data,style:{color:t.text_first_color},children:`${u} / ${a}`})]})})]})}const dZ="_overlay_1r3zo_2",hZ="_container_1r3zo_14",fZ="_koeff_1r3zo_36",mZ="_action_text_1r3zo_48",pZ="_track_1r3zo_59",gZ="_rocket_1r3zo_70",yZ="_cloud_1r3zo_81",it={overlay:dZ,container:hZ,"score-container":"_score-container_1r3zo_24","view-container":"_view-container_1r3zo_29",koeff:fZ,action_text:mZ,track:pZ,"track-bg":"_track-bg_1r3zo_65",rocket:gZ,"cloud-container":"_cloud-container_1r3zo_81",cloud:yZ,"bet-container":"_bet-container_1r3zo_104","input-container":"_input-container_1r3zo_114","input-button":"_input-button_1r3zo_124","input-bet":"_input-bet_1r3zo_137","add-bet":"_add-bet_1r3zo_154"};function _Z(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),{authUser:s}=ce(),[o,i]=f.useState(),[a,l]=f.useState(!1),[u,d]=f.useState(0),[h,m]=f.useState(100),[p,_]=f.useState("Ставка"),[w,x]=f.useState("Успей забрать"),[v,g]=f.useState(!1),[y,C]=f.useState(!1),[b,k]=f.useState(!1),[T,S]=f.useState({isShow:!1,text:""}),[E,N]=f.useState({}),A=le();f.useEffect(()=>{const I=()=>{window.innerWidth>700?N({stop:{right:-100,top:30},fly:{right:-600,top:-60}}):N({stop:{right:-20,top:120},fly:{right:-150,top:60}})};return I(),window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I)}},[]);const j=f.useRef(),M=(I,R)=>{I=I.replace("#","");let D=parseInt(I.substring(0,2),16),F=parseInt(I.substring(2,4),16),H=parseInt(I.substring(4,6),16);return`rgba(${D}, ${F}, ${H}, ${R})`};f.useEffect(()=>{const I=j.current,R=I.getContext("2d");R.clearRect(0,0,I.width,I.height),R.beginPath(),R.moveTo(0,I.height),R.quadraticCurveTo(250,I.height/2,I.width,0),R.lineTo(I.width,I.height),R.closePath();const D=M(t.gradient_first_color,.5);R.fillStyle=D,R.fill(),R.strokeStyle=t.gradient_first_color,R.lineWidth=2,R.stroke()},[]),f.useEffect(()=>{if(T.isShow){const I=setTimeout(()=>{S({isShow:!1})},1e3);return()=>clearTimeout(I)}},[T]),f.useEffect(()=>{(async()=>{if(s&&s._id){const R=G(V,"users",s._id,"info","preferences"),D=await se(R);if(D.exists()){const F=D.data();i(F.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]),f.useEffect(()=>{if(!v){m(100),k(!1),C(!1),_("Ставка"),x(a?"Улетел":"Успей забрать");return}if(v){d(0),_("Забрать"),x("Успей забрать"),C(!0),k(!0),l(!1);const I=2e3+Math.random()*18e3,R=setTimeout(()=>{l(!0),g(!1),k(!1)},I);return()=>clearTimeout(R)}},[v]);const O=async I=>{if(s&&s._id)try{const R=G(V,"users",s._id,"info","preferences");await bn(R,{balance:I}),console.log(`Balance updated to ${I}`)}catch(R){console.error("Error updating balance:",R)}else console.error("authUser or authUser._id is undefined")};f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>A("game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{if(!b)return;const I=setInterval(()=>{d(R=>parseFloat((R+.01).toFixed(2)))},70);return()=>clearInterval(I)},[b]);const $=I=>{const R=I.target.value;m(R===""?"":parseInt(R,10))},L=()=>{if(h>o){S({isShow:!0,text:"У вас недостаточно средств для ставки"});return}i(o-h),O(o-h),g(!0)},P=()=>{S({isShow:!0,text:`Вы выиграли ${Math.floor(h*u)}`}),i(I=>Math.floor(I+h*u)),O(o+Math.floor(h*u)),g(!1)};return c.jsx("div",{className:it.overlay,children:c.jsxs("div",{className:it.container,children:[c.jsx(ct,{text:T.text,isShow:T.isShow}),c.jsx("div",{className:it["score-container"],children:c.jsx(bu,{name:"Баланс",count:o,isBalance:!0})}),c.jsxs("div",{className:it["view-container"],children:[c.jsx("h3",{className:it.koeff,style:{color:t.text_first_color},children:`x${u}`}),c.jsx("h4",{className:it.action_text,style:{color:t.text_first_color},children:w}),c.jsx("div",{className:it.track,children:c.jsx("canvas",{ref:j,className:it["track-bg"]})}),c.jsx(Qe.div,{variants:E,animate:a?"fly":"stop",className:it.rocket,transition:{duration:.3},children:c.jsx("img",{src:"rocket.png"})}),c.jsxs("div",{className:it["cloud-container"],children:[c.jsx("div",{className:it.cloud,children:c.jsx("img",{src:"cloud_1.png"})}),c.jsx("div",{className:it.cloud,children:c.jsx("img",{src:"cloud_2.png"})}),c.jsx("div",{className:it.cloud,children:c.jsx("img",{src:"cloud_3.png"})}),c.jsx("div",{className:it.cloud,children:c.jsx("img",{src:"cloud_2.png"})}),c.jsx("div",{className:it.cloud,children:c.jsx("img",{src:"cloud_1.png"})})]})]}),c.jsxs("div",{className:it["bet-container"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:it["input-container"],children:[c.jsx("button",{className:it["input-button"],style:{background:t.element_second_color},onClick:()=>m(I=>I-1),disabled:y,children:c.jsx("svg",{width:"18",height:"4",viewBox:"0 0 18 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M16 2H9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})}),c.jsx("input",{type:"number",placeholder:"Ставка",min:0,value:h,onChange:$,className:it["input-bet"],style:{color:t.text_first_color,caretColor:t.first_color,"--placeholderColor":t.text_third_color}}),c.jsx("button",{className:it["input-button"],style:{background:t.element_second_color},onClick:()=>m(I=>I+1),disabled:y,children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 2V9M9 16V9M9 9H16M9 9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})})]}),c.jsx("button",{className:it["add-bet"],style:{background:t.first_color,color:t.text_first_color},onClick:p==="Ставка"?L:P,children:p})]})]})})}const vZ="_container_1lqg5_1",wZ="_title_1lqg5_11",xZ="_block_1lqg5_26",yn={container:vZ,title:wZ,block:xZ,"block-info":"_block-info_1lqg5_40","block-name":"_block-name_1lqg5_49","block-label":"_block-label_1lqg5_56","block-arrow":"_block-arrow_1lqg5_65","question-index":"_question-index_1lqg5_74","question-body":"_question-body_1lqg5_85","variants-container":"_variants-container_1lqg5_96","variant-body":"_variant-body_1lqg5_105","variant-name":"_variant-name_1lqg5_115","variant-circle":"_variant-circle_1lqg5_123"},TC={"progress-body":"_progress-body_5eai3_1","progress-line":"_progress-line_5eai3_11"};function CZ({color:t,progress:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B);return c.jsx("section",{className:TC["progress-body"],style:{background:n.element_first_color},children:c.jsx("div",{className:TC["progress-line"],style:{background:t,width:e}})})}function bZ({name:t,state:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=f.useContext(B),a={correct:{isBackground:!0,color:r.first_color,svg:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(-45deg)",isBorder:!1},incorrect:{isBackground:!0,color:r.third_color,svg:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(45deg)",isBorder:!1},base:{isBackground:!1,color:r.element_first_color,svg:"",transform:"none",isBorder:!0}},l=a[e]||a.base;return c.jsxs("section",{variants:a,className:yn["variant-body"],style:{border:`2px solid ${l.color}`},onClick:n,children:[c.jsx("h4",{className:yn["variant-name"],style:{color:r.text_first_color},children:t}),c.jsx("div",{className:yn["variant-circle"],style:{background:l.isBackground?l.color:"none",border:l.isBorder?`2px solid ${r.element_first_color}`:"none",transform:l.transform},children:l.svg})]})}const kZ=[{question:"What is the name of Russia's highest military award, often referred to as the 'Hero of the Russian Federation'?",answers:[{name:"Order of Lenin"},{name:"Order of the Red Banner"},{name:"Order of St. George"},{name:"Order of Courage"}],correctAnswerIndex:3},{question:"Which military branch of Russia operates the strategic missile forces responsible for nuclear deterrence?",answers:[{name:"Russian Ground Forces"},{name:"Russian Aerospace Forces"},{name:"Russian Navy"},{name:"Strategic Missile Troops"}],correctAnswerIndex:3},{question:"What is the name of Russia's only aircraft carrier, currently in service with the Russian Navy?",answers:[{name:"Admiral Kuznetsov"},{name:"Admiral Gorshkov"},{name:"Peter the Great"},{name:"Varyag"}],correctAnswerIndex:0},{question:"Which city hosts the headquarters of the Russian Navy's Northern Fleet?",answers:[{name:"Moscow"},{name:"Saint Petersburg"},{name:"Murmansk"},{name:"Sevastopol"}],correctAnswerIndex:2},{question:"In what year was the Russian Federation officially established, marking the modern era of the Russian military?",answers:[{name:"1991"},{name:"1993"},{name:"1995"},{name:"1999"}],correctAnswerIndex:0},{question:"Which Russian military operation annexed Crimea from Ukraine in 2014?",answers:[{name:"Operation Polar Star"},{name:"Operation Arctic Fox"},{name:"Operation Siberian Shield"},{name:"Operation Crimea"}],correctAnswerIndex:3},{question:"What is the name of Russia's main battle tank, known for its formidable firepower and armor?",answers:[{name:"T-72"},{name:"T-80"},{name:"T-90"},{name:"T-14 Armata"}],correctAnswerIndex:3},{question:"Which military exercise series, initiated by Russia, is one of the largest in the world, involving thousands of troops?",answers:[{name:"Exercise Suvorov"},{name:"Exercise Zapad"},{name:"Exercise Kavkaz"},{name:"Exercise Vostok"}],correctAnswerIndex:3},{question:"What is the name of Russia's primary combat aircraft, known for its versatility and role in air superiority?",answers:[{name:"Su-30"},{name:"MiG-31"},{name:"Su-57"},{name:"Tu-160"}],correctAnswerIndex:2},{question:"Which Russian military unit is famous for its demonstration of precision and coordination in military parades?",answers:[{name:"Spetsnaz"},{name:"VDV (Airborne Forces)"},{name:"Marines"},{name:"Presidential Regiment"}],correctAnswerIndex:3},{question:"What is the Russian term for a nuclear-powered ballistic missile submarine?",answers:[{name:"Kirov-class"},{name:"Yasen-class"},{name:"Typhoon-class"},{name:"Akula-class"}],correctAnswerIndex:2},{question:"Which Russian military figure is known as the 'Father of the Russian Navy' for his reforms and modernization efforts?",answers:[{name:"Peter the Great"},{name:"Admiral Kuznetsov"},{name:"Vladimir Putin"},{name:"Admiral Gorshkov"}],correctAnswerIndex:3},{question:"In which conflict did Russia deploy its military forces to support the Syrian government?",answers:[{name:"Libyan Civil War"},{name:"Yemeni Civil War"},{name:"Syrian Civil War"},{name:"Iraqi Civil War"}],correctAnswerIndex:2},{question:"What is the name of Russia's main strategic bomber, capable of carrying nuclear weapons and conducting long-range missions?",answers:[{name:"Tu-95"},{name:"Tu-22M"},{name:"Tu-160"},{name:"Su-24"}],correctAnswerIndex:2},{question:"Which Russian military branch is responsible for space operations and satellite launches?",answers:[{name:"Russian Space Forces"},{name:"Russian Strategic Missile Troops"},{name:"Russian Aerospace Forces"},{name:"Russian Airborne Troops"}],correctAnswerIndex:2},{question:"What is the name of Russia's primary infantry combat vehicle, widely used by its ground forces?",answers:[{name:"BMP-3"},{name:"BTR-80"},{name:"T-14 Armata"},{name:"Kurganets-25"}],correctAnswerIndex:0},{question:"Which military base, located in the Kaliningrad region, serves as a strategic outpost for Russia in Europe?",answers:[{name:"Sevastopol Naval Base"},{name:"Kronstadt Naval Base"},{name:"Luga Air Base"},{name:"Baltiysk Naval Base"}],correctAnswerIndex:3},{question:"What is the name of Russia's main anti-aircraft missile system, designed to defend against aerial threats?",answers:[{name:"S-300"},{name:"S-400"},{name:"Pantsir-S"},{name:"Tor-M2"}],correctAnswerIndex:1},{question:"Which Russian military doctrine emphasizes the use of nuclear weapons in response to conventional threats?",answers:[{name:"Gerasimov Doctrine"},{name:"Primakov Doctrine"},{name:"Makarov Doctrine"},{name:"Putin Doctrine"}],correctAnswerIndex:0},{question:"What is the name of Russia's main armored personnel carrier, widely used for troop transport?",answers:[{name:"BTR-82A"},{name:"BMP-2"},{name:"MT-LB"},{name:"Kurganets-25"}],correctAnswerIndex:0}],SZ=[{question:"Сколько будет 15 + 7?",answers:[{name:"21"},{name:"22"},{name:"23"},{name:"24"}],correctAnswerIndex:1},{question:"Если у каждого танка есть 5 орудий, а в полку 24 таких танка, сколько всего орудий в полку?",answers:[{name:"110"},{name:"115"},{name:"120"},{name:"125"}],correctAnswerIndex:2},{question:"Если в каждом отряде 12 солдат, а в батальоне 4 таких отряда, сколько всего человек в мире?",answers:[{name:"1"},{name:"1488"},{name:"8 млн."},{name:"8 млрд."}],correctAnswerIndex:3},{question:"Если в каждом танке 3 боевых бойца, а в дивизионе 10 таких танков, то куда летит самолет?",answers:[{name:"На север"},{name:"На юг"},{name:"На восток"},{name:"На хуй"}],correctAnswerIndex:3},{question:"Если в каждой эскадрилье 6 истребителей, а в авиагруппе 4 таких эскадрильи, сколько всего истребителей в авиагруппе?",answers:[{name:"20"},{name:"22"},{name:"24"},{name:"26"}],correctAnswerIndex:2},{question:"Если в каждой морской пехотной дивизии 24 танка, а в бригаде 3 таких дивизии, то какое звание у лейтенанта?",answers:[{name:"лейтенант"},{name:"майор"},{name:"генерал"},{name:"ефрейтор"}],correctAnswerIndex:0},{question:"Если в каждом отряде 20 солдат, а в роте 5 отрядов, сколько всего солдат в роте?",answers:[{name:"В роте может быть только хуй"},{name:"Хз"},{name:"100"},{name:"34"}],correctAnswerIndex:2},{question:"Если в каждом батальоне 10 танков, а в полку 8 батальонов, сколько всего танков в полку?",answers:[{name:"70"},{name:"75"},{name:"80"},{name:"85"}],correctAnswerIndex:2},{question:"Если в каждом отделении 8 солдат, а в роте 6 отделений, сколько всего солдат в роте?",answers:[{name:"42"},{name:"44"},{name:"46"},{name:"48"}],correctAnswerIndex:3},{question:"Если в каждой роте 3 танка, а в батальоне 4 роты, сколько всего танков в батальоне?",answers:[{name:"8"},{name:"10"},{name:"12"},{name:"14"}],correctAnswerIndex:2},{question:"Если в каждом полку 4 батальона, а в каждом батальоне 8 бронированных машин, сколько всего бронированных машин в полку?",answers:[{name:"24"},{name:"28"},{name:"32"},{name:"36"}],correctAnswerIndex:2},{question:"Если в каждом батальоне 5 отрядов, а в каждом отряде 40 солдат, сколько всего солдат в батальоне?",answers:[{name:"180"},{name:"200"},{name:"220"},{name:"240"}],correctAnswerIndex:1},{question:"Если в каждой роте 5 бронетранспортеров, а в полку 6 рот, сколько всего бронетранспортеров в полку?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1},{question:"Если в каждом отделении 10 солдат, а в батальоне 5 отделений, сколько всего солдат в батальоне?",answers:[{name:"45"},{name:"50"},{name:"55"},{name:"60"}],correctAnswerIndex:1},{question:"Если в каждом батальоне 6 танков, а в полку 8 батальонов. Сколько весит танк?",answers:[{name:"40 тонн"},{name:"45 тонн"},{name:"5 кг"},{name:"65 кг"}],correctAnswerIndex:2},{question:"Если в каждой эскадрилье 8 истребителей, а в авиагруппе 4 таких эскадрильи, сколько всего истребителей в авиагруппе?",answers:[{name:"28"},{name:"30"},{name:"32"},{name:"34"}],correctAnswerIndex:2},{question:"Если в каждой морской пехотной дивизии 20 танков, а в бригаде 5 таких дивизии, сколько всего танков в бригаде?",answers:[{name:"90"},{name:"100"},{name:"110"},{name:"120"}],correctAnswerIndex:1},{question:"Если в каждой роте 4 бронетранспортера, а в батальоне 6 рот, сколько всего бронетранспортеров в батальоне?",answers:[{name:"20"},{name:"24"},{name:"28"},{name:"32"}],correctAnswerIndex:1},{question:"Если в каждом отряде 18 солдат, а в роте 5 отрядов, сколько всего солдат в роте?",answers:[{name:"85"},{name:"90"},{name:"95"},{name:"100"}],correctAnswerIndex:1},{question:"Если в каждом полку 3 батальона, а в каждом батальоне 10 танков, сколько всего танков в полку?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1}],EZ=[{question:"Какое слово является множественным числом: книга, книги, книжка, книгу?",answers:[{name:"Книга"},{name:"Книги"},{name:"Книжка"},{name:"Книгу"}],correctAnswerIndex:1},{question:"Какое слово является противоположным слову 'горячий'?",answers:[{name:"Холодный"},{name:"Теплый"},{name:"Зимний"},{name:"Горячечный"}],correctAnswerIndex:0},{question:"Какой из глаголов является несовершенным: пел, поет, поют, пляшет?",answers:[{name:"Пел"},{name:"Поет"},{name:"Поют"},{name:"Пляшет"}],correctAnswerIndex:1},{question:"Какой предлог указывает на местоположение: на, под, из, от?",answers:[{name:"На"},{name:"Под"},{name:"Из"},{name:"От"}],correctAnswerIndex:0},{question:"Какое слово является множественным числом: стол, столы, столик, стола?",answers:[{name:"Стол"},{name:"Столы"},{name:"Столик"},{name:"Стола"}],correctAnswerIndex:1},{question:"Какое слово является синонимом слова 'смешной'?",answers:[{name:"Серьезный"},{name:"Веселый"},{name:"Тяжелый"},{name:"Грустный"}],correctAnswerIndex:1},{question:"Какой вариант предложения правильный: 'Она пошла домой' или 'Она пошла дома'?",answers:[{name:"Она пошла домой"},{name:"Она пошла дома"}],correctAnswerIndex:0},{question:"Какое слово является множественным числом: стекло, стекла, стеклышко, стеклом?",answers:[{name:"Стекло"},{name:"Стекла"},{name:"Стеклышко"},{name:"Стеклом"}],correctAnswerIndex:1},{question:"Какой из слов является союзом: и, книга, мяч, вода?",answers:[{name:"Книга"},{name:"Мяч"},{name:"Вода"},{name:"И"}],correctAnswerIndex:3},{question:"Какое слово является синонимом слова 'быстрый'?",answers:[{name:"Медленный"},{name:"Скорый"},{name:"Тяжелый"},{name:"Легкий"}],correctAnswerIndex:1},{question:"Какая ракетная система считается основной тактической ядерной системой Российской Федерации?",answers:[{name:"Искандер"},{name:"Тополь"},{name:"Булава"},{name:"Калибр"}],correctAnswerIndex:0},{question:"Какой тип военного самолета является основным истребителем в Российских Военно-воздушных силах?",answers:[{name:"Сухой Су-35"},{name:"МиГ-29"},{name:"Сухой Су-57"},{name:"МиГ-31"}],correctAnswerIndex:0},{question:"Как называется российский бронированный автомобиль с усиленной защитой и вооруженный пулеметом?",answers:[{name:"Тигр"},{name:"Буран"},{name:"Урал"},{name:"Камаз"}],correctAnswerIndex:0},{question:"Какой танк считается основным боевым танком Российской армии?",answers:[{name:"Т-90"},{name:"Т-80"},{name:"Т-72"},{name:"Армата"}],correctAnswerIndex:0},{question:"Какой тип вооружения используется на российских кораблях для уничтожения подводных лодок?",answers:[{name:"Торпеды"},{name:"Ракеты Калибр"},{name:"ПЗРК Игла"},{name:"Антиподводные ракеты"}],correctAnswerIndex:0},{question:"Как называется новейший российский беспилотный летательный аппарат, предназначенный для боевых задач?",answers:[{name:"Охотник"},{name:"Стриж"},{name:"Истребитель"},{name:"Мурман"}],correctAnswerIndex:0},{question:"Какая зенитная ракетная система предназначена для уничтожения воздушных целей и баллистических ракет?",answers:[{name:"С-400"},{name:"С-300"},{name:"С-500"},{name:"С-200"}],correctAnswerIndex:0},{question:"Какое стратегическое ядерное оружие является основным средством вторжения?",answers:[{name:"Баллистическая ракета"},{name:"Бомбардировщик Ту-160"},{name:"Подводная лодка"},{name:"Крылатая ракета"}],correctAnswerIndex:0},{question:"Какое средство является основным беспилотным летательным аппаратом Российских Военно-воздушных сил?",answers:[{name:"Орлан"},{name:"Байкал"},{name:"Истребитель"},{name:"Сухой"}],correctAnswerIndex:0},{question:"Какой пулемет используют для установки на танки Российских Военно-воздушных сил?",answers:[{name:"Калашников"},{name:"Максим"},{name:"Миномет"},{name:"Дробовик"}],correctAnswerIndex:0},{question:"Какое оружие используется для борьбы с танками?",answers:[{name:"РПГ-7"},{name:"Метательный оружие"},{name:"Снайпер"},{name:"Танковое оружие"}],correctAnswerIndex:0},{question:"Какой стратегический бомбардировщик используется для стратегических воздушных атак?",answers:[{name:"Ту-95"},{name:"Су-30"},{name:"МиГ-35"},{name:"Ту-22"}],correctAnswerIndex:0},{question:"Какое средство является основным воздушным кораблем в Российских Военно-воздушных силах?",answers:[{name:"Истребитель"},{name:"Ракета"},{name:"Корабль"},{name:"Дирижабль"}],correctAnswerIndex:0},{question:"Как называется новейший российский военный танк?",answers:[{name:"Армата"},{name:"Т-72"},{name:"Т-90"},{name:"Сухой"}],correctAnswerIndex:0},{question:"Какое вооружение используется для борьбы с воздушными целями?",answers:[{name:"Ракеты"},{name:"Самолеты"},{name:"Боевые вертолеты"},{name:"ПВО"}],correctAnswerIndex:0},{question:"Какой военный корабль используется в Российских Военно-воздушных силах?",answers:[{name:"Ракета"},{name:"Корабль"},{name:"Танк"},{name:"Линкор"}],correctAnswerIndex:0},{question:"Какой военный вертолет используется для боевых действий?",answers:[{name:"Ми-24"},{name:"Сухой"},{name:"Истребитель"},{name:"Боевой"}],correctAnswerIndex:0},{question:"Как называется новейший российский военный беспилотный летательный аппарат?",answers:[{name:"Охотник"},{name:"Стриж"},{name:"Истребитель"},{name:"Мурман"}],correctAnswerIndex:0},{question:"Какое оружие является основным для строительства Российской империи?",answers:[{name:"Снаряд"},{name:"Ракеты"},{name:"Взрывчатое вещество"},{name:"Калибр"}],correctAnswerIndex:0}],TZ=[{question:"Манас эпосунун аткысуун жазып жаткан кандай кыргыз ашык?",answers:[{name:"Чыңгыз"},{name:"Манас"},{name:"Борубай"},{name:"Сейтек"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'балык' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Күй"},{name:"Жабык"},{name:"Тамак"},{name:"Төрөл"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'жашын' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жыл"},{name:"Жол"},{name:"Жуу"},{name:"Жапа"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'айыл' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жашын"},{name:"Жол"},{name:"Жамгыр"},{name:"Жороо"}],correctAnswerIndex:2},{question:"Кыргыз тилинде 'көз' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Куу"},{name:"Кара"},{name:"Камчы"},{name:"Кымбат"}],correctAnswerIndex:3},{question:"Кыргыз тилинде 'кайын' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Кайык"},{name:"Кайыр"},{name:"Кайнак"},{name:"Кайырмак"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'кайырмак' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Кайыр"},{name:"Кайык"},{name:"Кайын"},{name:"Кайынак"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'төрөл' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Торгон"},{name:"Тамак"},{name:"Толкун"},{name:"Тиркеме"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'өзгөчө' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Өзгө"},{name:"Өзүн"},{name:"Өз"},{name:"Өздөр"}],correctAnswerIndex:3},{question:"Кыргыз тилинде 'жүрөк' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жаңы"},{name:"Жаткан"},{name:"Жана"},{name:"Жүрөктөр"}],correctAnswerIndex:2},{question:"Кыргызстандын мамлекеттик тили кандай?",answers:[{name:"Кыргыз тили"},{name:"Рус тили"},{name:"Англис тили"},{name:"Француз тили"}],correctAnswerIndex:0},{question:"Кыргызстандын абалдуу өнүгүү кандай тартилет?",answers:[{name:"Тор жарактуу"},{name:"Чок көчөндүруү"},{name:"Терөө бурчулуу"},{name:"Жооп көрсөтүү"}],correctAnswerIndex:0},{question:"Ата-энен деген сөз кандай тилде тартылат?",answers:[{name:"Кыргыз тили"},{name:"Рус тили"},{name:"Англис тили"},{name:"Түрк тили"}],correctAnswerIndex:0},{question:"Кыргызстандын астанасы ким?",answers:[{name:"Манас"},{name:"Чыңгыз айтматов"},{name:"Жүсүп абдыкадыров"},{name:"Мырза алаш"}],correctAnswerIndex:0},{question:"Кыргызстандын кайрыктуу өнүгүү кандай тартилет?",answers:[{name:"Алаңдатуу"},{name:"Алаша чатат"},{name:"Куу суу айтат"},{name:"Жооп көрсөтүү"}],correctAnswerIndex:1},{question:"Кыргызстандын аталышы кандай?",answers:[{name:"Кыргызстан"},{name:"Казастан"},{name:"Узбекстан"},{name:"Төркистан"}],correctAnswerIndex:0},{question:"Кыргызстандын эне-кеңеш деген сөз кандай тартылат?",answers:[{name:"Ата-энен"},{name:"Карындаш"},{name:"Баласы"},{name:"Көрүшү"}],correctAnswerIndex:0},{question:"Кыргызстандын жери кандай?",answers:[{name:"Жамияткан"},{name:"Күрөнүшкөн"},{name:"Желөөк"},{name:"Жалынуучу"}],correctAnswerIndex:1},{question:"Кыргызстандын туура тарапы кандай?",answers:[{name:"Ысык-көл"},{name:"Чолпон-ата"},{name:"Алай"},{name:"Талас"}],correctAnswerIndex:0},{question:"Кыргызстандын булуттары кандай?",answers:[{name:"Таң аралык"},{name:"Ала-туулук"},{name:"Кызыл катын"},{name:"Калын ара"}],correctAnswerIndex:1},{question:"Кыргызстандын айыл чөйрөктөри кандай?",answers:[{name:"Жаркынбек"},{name:"Айыл-чөйрөк"},{name:"Жаны-базар"},{name:"Кыргыз"}],correctAnswerIndex:1},{question:"Кыргызстандын аяктары кандай?",answers:[{name:"Сары-булак"},{name:"Ак-булак"},{name:"Кызыл-төк"},{name:"Чоң курум"}],correctAnswerIndex:2},{question:"Кыргызстандын көлдөрү кандай?",answers:[{name:"Ысык-көл"},{name:"Чолпон-ата"},{name:"Торткөл"},{name:"Алай"}],correctAnswerIndex:0},{question:"Кыргызстандын курулуштары кандай?",answers:[{name:"Кара-дарыя"},{name:"Көл-дарыя"},{name:"Туу-дарыя"},{name:"Темир-дарыя"}],correctAnswerIndex:3},{question:"Кыргызстандын аркылы кандай тийиш?",answers:[{name:"Айтар"},{name:"Сыйлык"},{name:"Сыйлык"},{name:"Манипуляция"}],correctAnswerIndex:2},{question:"Кыргызстандын аркылы кандай күрүшүн?",answers:[{name:"Жамияткан"},{name:"Күрөнүшкөн"},{name:"Алча-туу"},{name:"Желөөк"}],correctAnswerIndex:1},{question:"Кыргызстандын аркылы кандай өнүүдү тартылат?",answers:[{name:"Чүү"},{name:"Эс"},{name:"Алды"},{name:"Бүтүн"}],correctAnswerIndex:0},{question:"Кыргызстандын аркылы кандай экилик?",answers:[{name:"Чолпон-ата"},{name:"Чыңгыз айтматов"},{name:"Манас"},{name:"Мырза алаш"}],correctAnswerIndex:3},{question:"Кыргызстандын аркылы кандай дары?",answers:[{name:"Айыл"},{name:"Айл"},{name:"Айыл"},{name:"Айл"}],correctAnswerIndex:0}];function IZ({mode:t}){const[e,n]=f.useState(""),[r,s]=f.useState(),{authUser:o}=ce(),i=f.useRef(null),{theme:a,setThemeById:l,elementColors:u,setElementColors:d}=f.useContext(B),h=le(),p={english:{questions:kZ,timePerQuestion:5},math:{questions:SZ,timePerQuestion:20},russian:{questions:EZ,timePerQuestion:15},kyrgyz:{questions:TZ,timePerQuestion:20}}[t];f.useEffect(()=>{d({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!0,arrowLink:()=>h("/quiz"),arrowColor:a.text_first_color,isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:0,background:a.background_color}),document.body.style.background=a.background_color},[B]);const _=(ne,je)=>[...ne].sort(()=>.5-Math.random()).slice(0,je),[w,x]=f.useState([]),[v,g]=f.useState(0),[y,C]=f.useState(new Array(4).fill("base")),[b,k]=f.useState(0),[T,S]=f.useState(0),[E,N]=f.useState(!1),[A,j]=f.useState(!1),[M,O]=f.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[$,L]=f.useState({isShow:!1,images:[],index:null});f.useEffect(()=>{fetch("https://api.ipify.org?format=json").then(ne=>ne.json()).then(ne=>{n(ne.ip)}).catch(ne=>{console.error("Error fetching IP address:",ne)})},[]),f.useEffect(()=>{fetch("https://ipinfo.io/json?token=daabefc348f9fc").then(ne=>ne.json()).then(ne=>{console.log("IP Address:",ne.ip),console.log("City:",ne.city),console.log("Region:",ne.region),console.log("Country:",ne.country),console.log("Location:",ne.loc),console.log("Street:",ne.org),n({ip:ne.ip,city:ne.city,region:ne.region,location:ne.loc})}).catch(ne=>{console.error("Error fetching IP address and location:",ne)})},[]);const P=ne=>["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][ne],I=ne=>new Promise((je,nt)=>{const Jn=new Image;Jn.src=ne,Jn.onload=()=>je(Jn),Jn.onerror=vs=>nt(vs)}),R=async ne=>{try{const je=i.current,nt=je.getContext("2d"),Jn=await I("SMO.jpg"),vs=await I("print.png");nt.drawImage(Jn,0,0,je.width,je.height),nt.font="20px Times New Roman",nt.fillStyle="#000",nt.fillText(o.name,145,48);const ku=Math.floor(Math.random()*9001)+1e3;nt.font="16px Times New Roman",nt.fillText(`по адресу:  город ${e.city}, ${e.location}, IP адрес: ${e.ip} `,170,68),nt.font="20px Times New Roman",nt.fillText(ku,680,95);const Si=new Date;Si.setDate(Si.getDate()+1);const y6=Si.getDate(),_6=Si.getMonth(),v6=P(_6);nt.fillText(y6,420,138),nt.fillText(v6,470,138),nt.drawImage(vs,450,140,200,200);const w6=je.toDataURL("image/png");ne(w6,ku)}catch(je){console.error("Ошибка загрузки изображения:",je)}};f.useEffect(()=>{if(!p)return;const ne=_(p.questions,10);x(ne),S(p.timePerQuestion)},[t]);const D=ne=>{const je=Math.floor(ne/60),nt=ne%60;return`${je}:${nt<10?"0":""}${nt}`};f.useEffect(()=>{let ne;return T>0&&!E&&!A?ne=setInterval(()=>{S(je=>je-1)},1e3):T===0&&!A&&H(),()=>clearInterval(ne)},[T,E,A]),f.useEffect(()=>{w[v]&&(C(new Array(w[v].answers.length).fill("base")),S(p.timePerQuestion),N(!1))},[v,w]);const F=ne=>{var je;if(!E&&!A){const nt=(je=w[v])==null?void 0:je.correctAnswerIndex,Jn=ne===nt,vs=y.map((ku,Si)=>Si===ne?Jn?"correct":"incorrect":ku);Jn||(vs[nt]="correct"),C(vs),Jn&&k(b+5),N(!0),setTimeout(()=>ut(),2e3)}},H=()=>{var ne;if(!E&&!A){const je=(ne=w[v])==null?void 0:ne.correctAnswerIndex;if(je!==void 0){const nt=y.map((Jn,vs)=>vs===je?"correct":"base");C(nt),N(!0),setTimeout(()=>ut(),2e3)}}},z=()=>{h("/quiz")},[Q,ue]=f.useState(!1);f.useEffect(()=>{!$.isShow&&Q&&(O({...M,isShow:!0}),ue(!1))},[$.isShow]);const ut=async()=>{v<w.length-1?g(v+1):(j(!0),t==="kyrgyz"?b>40?R(ne=>{L({isShow:!0,images:[ne],index:0}),ue(!0),O({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в Улуттук гвардия на бюджетную форму обучения!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:z,secondButtonOnClick:Dt})}):b<20&&R(ne=>{L({isShow:!0,images:[ne],index:0}),ue(!0),O({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в Улуттук гвардия на бюджетную форму обучения!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:z,secondButtonOnClick:Dt})}):t==="russian"?b>40?R(ne=>{L({isShow:!0,images:[ne],index:0}),ue(!0),O({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской армии на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:z,secondButtonOnClick:Dt})}):b<20&&R(ne=>{L({isShow:!0,images:[ne],index:0}),ue(!0),O({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской армии, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:z,secondButtonOnClick:Dt})}):t==="math"?b>40?R(ne=>{L({isShow:!0,images:[ne],index:0}),ue(!0),O({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды военных инженеров СВО на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:z,secondButtonOnClick:Dt})}):b<20&&R(ne=>{L({isShow:!0,images:[ne],index:0}),ue(!0),O({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды военных инженеров СВО, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:z,secondButtonOnClick:Dt})}):t==="english"&&(b>40?R(ne=>{L({isShow:!0,images:[ne],index:0}),ue(!0),O({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской разведки на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:z,secondButtonOnClick:Dt})}):b<20&&R(ne=>{L({isShow:!0,images:[ne],index:0}),ue(!0),O({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской разведки, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:z,secondButtonOnClick:Dt})})))},Dt=()=>{j(!1),x(_(p.questions,10)),g(0),C(new Array(4).fill("base")),k(0),S(p.timePerQuestion),N(!1),O({isShow:!1})},_s=(v+1)/w.length*100;return w[v]?c.jsxs("div",{className:yn.container,children:[c.jsx("canvas",{ref:i,width:"816",height:"367",style:{display:"none"}}),c.jsx(Ur,{isShow:$.isShow,images:$.images,index:$.index,onClose:()=>L({isShow:!1})}),c.jsx(ko,{title:M.title,text:M.text,isShow:M.isShow,firstButtonName:M.firstButtonName,secondButtonName:M.secondButtonName,firstButtonOnClick:M.firstButtonOnClick,secondButtonOnClick:M.secondButtonOnClick}),c.jsx(bu,{name:"Время",isBalance:!1,count:D(T)}),c.jsxs("h3",{className:yn["question-index"],style:{color:a.text_first_color},children:["Вопрос: ",v+1," / ",w.length]}),c.jsx(CZ,{color:a.first_color,progress:`${_s}%`}),c.jsx("div",{className:yn["question-body"],style:{color:a.text_first_color},children:w[v].question}),c.jsx("div",{className:yn["variants-container"],children:w[v].answers.map((ne,je)=>c.jsx(bZ,{name:ne.name,state:y[je],onClick:()=>F(je)},je))})]}):null}function NZ({blockColor:t,name:e,textColor:n,arrowBackground:r,labelColor:s,labelTextColor:o,labelName:i,onClick:a}){const{theme:l,setThemeById:u,elementColors:d,setElementColors:h}=f.useContext(B);return c.jsxs("div",{className:yn.block,style:{background:t},onClick:a,children:[c.jsxs("section",{className:yn["block-info"],children:[c.jsx("h5",{className:yn["block-name"],style:{color:n},children:e}),c.jsx("div",{className:yn["block-label"],style:{background:s,color:o},children:i})]}),c.jsx("div",{className:yn["block-arrow"],style:{background:r},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n})})})]})}function jZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=le(),[o,i]=f.useState(),a=[{blockColor:t.second_color,name:"English",labelName:"5 секунд",textColor:t.background_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/english")},{blockColor:t.third_color,name:"Кыргызский язык",labelName:"20 секунд",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/kyrgyz")},{blockColor:t.first_color,name:"Русский язык",labelName:"15 секунд",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/russian")},{blockColor:t.second_color,name:"Математика",labelName:"20 секунд",textColor:t.background_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/math")}];return f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[B]),c.jsxs("div",{className:yn.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx("h4",{className:yn.title,style:{color:t.text_first_color},children:"Выберите режим:"}),a.map((l,u)=>c.jsx(NZ,{blockColor:l.blockColor,name:l.name,textColor:l.textColor,labelColor:l.labelcolor,labelName:l.labelName,labelTextColor:l.labelTextColor,arrowBackground:l.arrowBackground,onClick:l.onClick},u))]})}function AZ(){const{mode:t}=Vn();return t?c.jsx(IZ,{mode:t}):c.jsx(jZ,{})}const PZ="_container_8l478_2",LZ="_add_8l478_31",ks={container:PZ,"search-input-container":"_search-input-container_8l478_12","search-container":"_search-container_8l478_23",add:LZ,"empty-body":"_empty-body_8l478_51","empty-photo":"_empty-photo_8l478_60","empty-info":"_empty-info_8l478_70","empty-name":"_empty-name_8l478_79"},RZ="_container_1qk2k_1",OZ="_icon_1qk2k_10",DZ="_input_1qk2k_16",s1={container:RZ,icon:OZ,input:DZ};function f6({value:t,onChange:e,placeholder:n}){const{theme:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState("");return c.jsxs("div",{className:s1.container,style:{background:r.element_first_color},children:[c.jsx("div",{className:s1.icon,children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.8637 11.7356C12.8296 10.5965 13.4157 9.10026 13.4157 7.46154C13.4157 3.89293 10.6363 1 7.20785 1C3.77935 1 1 3.89293 1 7.46154C1 11.0301 3.77935 13.9231 7.20785 13.9231C9.06196 13.9231 10.7262 13.077 11.8637 11.7356ZM11.8637 11.7356L15 15",stroke:r.text_first_color,"stroke-linejoin":"round"})})}),c.jsx("input",{className:s1.input,placeholder:n,onChange:e,style:{"--caret-color":r.first_color,"--placeholder-color":r.text_third_color,color:r.text_first_color}})]})}const MZ="_body_1amdf_2",$Z="_photo_1amdf_11",FZ="_info_1amdf_27",BZ="_name_1amdf_36",ud={body:MZ,photo:$Z,info:FZ,name:BZ};function m6({id:t,name:e,photo:n,onClick:r}){const{theme:s,setElementColors:o}=f.useContext(B),i=()=>{r(t)};return c.jsxs("div",{className:ud.body,style:{borderTop:`1px solid ${s.element_first_color}`},onClick:i,children:[c.jsx("div",{className:ud.photo,children:c.jsx("img",{src:n,alt:"ава"})}),c.jsx("div",{className:ud.info,children:c.jsx("div",{className:ud.name,style:{color:s.text_first_color},children:e})})]})}function UZ(){const{theme:t,setElementColors:e}=f.useContext(B),{authUser:n}=ce(),[r,s]=f.useState([]),[o,i]=f.useState(""),[a,l]=f.useState(!1),u=le();f.useEffect(()=>{e({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>u("/home"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]);const d=async()=>{const _=Qt(V,"groups"),w=await w_(_),x=[];return await Promise.all(w.docs.map(async v=>{const g=v.id,y=G(V,"groups",g,"info","info"),C=await se(y);if(C.exists()){const b=C.data();x.push({id:g,name:b.name,photo:b.photo,membersCount:b.members?b.members.length:0,isGroup:!0})}})),x.sort((v,g)=>g.membersCount-v.membersCount),x};f.useEffect(()=>{(async()=>{try{l(!0);const w=await d();s([...w])}catch(w){console.error("Error fetching data:",w)}finally{l(!1)}})()},[]);const h=_=>{i(_.target.value)},m=r.filter(_=>_.name.toLowerCase().includes(o.toLowerCase())||_.id.toLowerCase().includes(o.toLowerCase())),p=(_,w)=>{u(w?`/group/${_}`:`/profile/${_}`)};return c.jsxs("div",{className:ks.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color};
                  border-radius: 5px;
                  cursor: pointer;
                }
                ::-webkit-scrollbar-track {
                  background-color: rgba(0, 0, 0, 0.3);
                }
            `}),c.jsx("div",{className:ks["search-input-container"],style:{background:t.background_color},children:c.jsx(f6,{value:o,onChange:h,placeholder:"Поиск группы или пользователя"})}),c.jsx("div",{className:ks["search-container"],children:a?Array.from({length:2}).map((_,w)=>c.jsxs("div",{className:ks["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:ks["empty-photo"],children:c.jsx(_t,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:ks["empty-info"],children:c.jsx("div",{className:ks["empty-name"],style:{color:t.text_first_color},children:c.jsx(_t,{height:"10px",width:"100px",shape:"rect"})})})]},w)):m.map((_,w)=>c.jsx(m6,{id:_.id,name:_.name,photo:_.photo,onClick:()=>p(_.id,_.isGroup)},w))}),c.jsx("button",{className:ks.add,style:{background:t.first_color},onClick:()=>u("/create-group"),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:t.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})]})}const VZ="_container_bn3pq_2",zZ="_cover_bn3pq_22",HZ="_label_bn3pq_189",K={container:VZ,"profile-container":"_profile-container_bn3pq_13","cover-container":"_cover-container_bn3pq_22",cover:zZ,"cover-pattern":"_cover-pattern_bn3pq_41","group-photo":"_group-photo_bn3pq_49","change-photo-button":"_change-photo-button_bn3pq_68","group-actions":"_group-actions_bn3pq_86","group-info":"_group-info_bn3pq_92","group-name":"_group-name_bn3pq_99","circle-button":"_circle-button_bn3pq_104","group-description":"_group-description_bn3pq_121","button-container":"_button-container_bn3pq_126","quit-button":"_quit-button_bn3pq_135","colors-container":"_colors-container_bn3pq_152","color-circle":"_color-circle_bn3pq_162","active-circle":"_active-circle_bn3pq_172","input-data-container":"_input-data-container_bn3pq_179",label:HZ,"input-data":"_input-data_bn3pq_179","item-body":"_item-body_bn3pq_205","item-name":"_item-name_bn3pq_226","item-info":"_item-info_bn3pq_233","item-circle":"_item-circle_bn3pq_241","posts-container":"_posts-container_bn3pq_258"};function qZ({fetchGroupData:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),{authUser:o}=ce(),{id:i}=Vn(),[a,l]=f.useState(""),[u,d]=f.useState(""),[h,m]=f.useState(!0),[p,_]=f.useState(null),[w,x]=f.useState(""),[v,g]=f.useState([]),[y,C]=f.useState({isShow:!1,text:""}),[b,k]=f.useState([]);f.useEffect(()=>{(async()=>{if(i)try{const j=G(V,"groups",i,"info","info"),M=await se(j);if(M.exists()){const O=M.data();x(O.cover),l(O.name),d(O.description),k(O),console.log(O)}else console.log("No such document!")}catch(j){console.error("Error fetching group data:",j)}else console.error("ID группы не указан")})()},[i]),f.useEffect(()=>{(async()=>{if(o&&o._id){const j=G(V,"users",o._id,"info","preferences"),M=await se(j);if(M.exists()){const O=M.data();g($=>[...$,...O.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const T=v?ki.filter(A=>v.includes(A.name)):[];f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),f.useEffect(()=>{if(y.isShow){const A=setTimeout(()=>{C({isShow:!1})},1500);return()=>clearTimeout(A)}},[y.isShow]);const S=A=>{A.target.files[0]&&(_(A.target.files[0]),console.log(A.target.files[0]))},E=A=>{x(A)},N=async()=>{let A=null;const j=new Date().toISOString();if(p){const M=Sn(En,`groups_photo/${i}/${j}_${p.name}`);await pr(M,p),A=await $n(M)}if(i){const M=G(V,"groups",i,"info","info");try{await We(M,{name:a,description:u,photo:p?A:b.photo,cover:w},{merge:!0}),await t(),e()}catch(O){console.error("Error updating document: ",O)}}};return c.jsxs("div",{className:K["profile-container"],children:[c.jsx(ct,{isShow:y.isShow,text:y.text}),c.jsx("div",{className:K["cover-container"],children:c.jsx("div",{className:K.cover,style:{background:w},children:c.jsx("div",{className:K["cover-pattern"]})})}),c.jsxs("div",{className:K["group-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[c.jsx("button",{className:K["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:p?URL.createObjectURL(p):b.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:S})]}),c.jsx("div",{className:K["colors-container"],style:{background:n.element_first_color},children:T.map(A=>c.jsx(c.Fragment,{children:A.colors.map((j,M)=>c.jsx("div",{className:K["color-circle"],style:{background:j},onClick:()=>E(j),children:w===j&&c.jsx("div",{className:K["active-circle"],style:{borderColor:n.text_first_color}})},M))}))}),c.jsxs("div",{className:K["group-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:K["input-data-container"],children:[c.jsx("div",{className:K.label,style:{color:n.first_color},children:"Имя"}),c.jsx("input",{type:"text",value:a,className:K["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:A=>l(A.target.value)})]}),c.jsxs("div",{className:K["input-data-container"],children:[c.jsx("div",{className:K.label,style:{color:n.text_first_color},children:"О себе"}),c.jsx("input",{type:"text",value:u,className:K["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:A=>d(A.target.value)})]}),c.jsx("div",{className:K["button-container"],children:c.jsx("button",{className:K["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:N,children:"Сохранить"})})]})]})}function WZ(){const{theme:t,setElementColors:e}=f.useContext(B),{authUser:n,ga:r}=ce(),[s,o]=f.useState({}),i=le(),{id:a}=Vn(),[l,u]=f.useState(!1),[d,h]=f.useState({isShow:!1,text:""}),[m,p]=f.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[_,w]=f.useState({isShow:!1,images:[],index:null}),[x,v]=f.useState([]),[g,y]=f.useState(!1),[C,b]=f.useState(!1),[k,T]=f.useState(!1);f.useEffect(()=>{e({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>i("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]);const S=async()=>{if(a)try{const R=G(V,"groups",a,"info","info"),D=await se(R);if(D.exists()){const F=D.data();o(F),console.log(F)}else console.log("No such document!"),o({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null})}catch(R){console.error("Error fetching group data:",R)}else console.error("ID группы не указан")};f.useEffect(()=>{S()},[a]),f.useEffect(()=>{if(!(n!=null&&n._id))return;const R=G(V,"chats",a),D=mr(R,F=>{T(F.exists())});return()=>{D()}},[n,a]);const E=()=>{navigator.clipboard.writeText(a).then(()=>{h({isShow:!0,text:"ID группы скопирован в буфер обмена"}),console.log(s)}).catch(R=>{h({isShow:!0,text:`Не удалось скопировать ID: ${R}`})})};f.useEffect(()=>{if(d.isShow){const R=setTimeout(()=>{h({isShow:!1})},1500);return()=>clearTimeout(R)}},[d.isShow]);const N=()=>{u(!1),h({isShow:!0,text:"Изменения успешно сохранены"})},A=R=>{w({isShow:!0,images:R,index:0})},j=async()=>{if(n._id){const R=G(V,"groups",a,"info","info"),D=G(V,"users",n._id,"info","preferences");try{const F=await se(D),H=await se(R);if(H.exists()){let z;const Q=H.data().members||[];Q.includes(n._id)?(z=Q.filter(ue=>ue!==n._id),F.exists()&&await We(D,{mainGroup:null},{merge:!0})):(z=[...Q,n._id],F.exists()&&await We(D,{mainGroup:a},{merge:!0})),await We(R,{members:z},{merge:!0}),await S()}else console.error("No such document!")}catch(F){console.error("Error updating document: ",F)}}};f.useEffect(()=>{const R=mr(ps(Qt(V,"posts"),xi("timestamp","desc")),D=>{const F=[];D.forEach(H=>{const z=H.data();if(z.userId===a){const Q=new Date(z.timestamp),ue=z.likesArray,ut=Q.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});F.push({id:H.id,userId:z.userId,userName:z.userName,groupOwnerId:z.groupOwnerId,userPhoto:z.userPhoto,postText:z.text,postPhoto:z.photos,postData:ut,likesArray:ue})}}),v(F),y(!1)});return()=>{R()}},[a]);const M=async(R,D)=>{try{const F=new Date().toISOString();let H=[];for(const z of D){const Q=Sn(En,`groups_photo/${a}/${F}_${z.name}`);await pr(Q,z);const ue=await $n(Q);H.push(ue)}await O(R,H)}catch(F){console.error("Error handling send: ",F)}},O=async(R,D)=>{try{const F=new Date().toISOString();await um(Qt(V,"posts"),{photos:D,text:R,timestamp:F,userId:a,groupOwnerId:s.owner,userName:s.name,userPhoto:s.photo,likesArray:[]}),console.log("Message saved successfully.")}catch(F){console.error("Error adding document: ",F)}},$=(R,D)=>{w({isShow:!0,images:R,index:D})},L=()=>{p({isShow:!1})},P=async R=>{p({isShow:!1});try{await Gl(G(V,"posts",R))}catch(D){console.error("Error deleting post: ",D)}finally{h({isShow:!0,text:"Пост удален"})}},I=(R,D)=>{switch(R){case"delete":return p({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:L,secondButtonOnClick:()=>P(D)});default:return p({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:K.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(Ur,{isShow:_.isShow,images:_.images,index:_.index,onClose:()=>w({isShow:!1})}),c.jsx(ko,{title:m.title,text:m.text,isShow:m.isShow,firstButtonName:m.firstButtonName,secondButtonName:m.secondButtonName,firstButtonOnClick:m.firstButtonOnClick,secondButtonOnClick:m.secondButtonOnClick}),c.jsx(ct,{isShow:d.isShow,text:d.text}),l?c.jsx(qZ,{handleEdit:N,fetchGroupData:S,id:s.userId}):c.jsxs("div",{className:K["profile-container"],children:[c.jsx("div",{className:K["cover-container"],children:c.jsx("div",{className:K.cover,style:{background:s.cover},children:c.jsx("div",{className:K["cover-pattern"]})})}),c.jsx("div",{className:K["group-photo"],style:{borderColor:t.background_color},children:c.jsx("img",{src:s.photo,onClick:()=>A(s.photo)})}),c.jsxs("div",{className:K["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:K["group-info"],children:[c.jsx("div",{className:K["group-name"],style:{color:t.text_first_color},children:s.name}),c.jsx("button",{className:K["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:E,children:"#"})]}),c.jsx("div",{className:K["group-description"],style:{color:t.text_first_color},children:s.description}),c.jsxs("div",{className:K["button-container"],children:[c.jsx("button",{className:K["quit-button"],style:{background:s.members&&s.members.includes(n._id)?t.element_second_color:t.first_color,color:t.text_first_color},onClick:j,children:s.members&&s.members.includes(n._id)?"Отписаться":"Подписаться"}),c.jsx("button",{className:K["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:()=>u(!0),children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:t.text_first_color})})})]})]}),c.jsxs("div",{className:K["item-body"],style:{background:t.first_color},onClick:k?()=>i(`/chat/${a}`):()=>i(`/create-chat/${a}`),children:[c.jsx("div",{className:K["item-info"],children:c.jsx("div",{className:K["item-name"],style:{color:t.text_first_color},children:k?"Открыть чат":"Создать чат"})}),c.jsx("div",{className:K["item-circle"],children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),c.jsxs("div",{className:K["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/subscribers/${a}?isGroup=true`),children:[c.jsx("div",{className:K["item-info"],children:c.jsxs("div",{className:K["item-name"],style:{color:t.text_first_color},children:["Подписчики: ",s.members?s.members.length:0]})}),c.jsx("div",{className:K["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),c.jsxs("div",{className:K["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/timetable/${a}`),children:[c.jsx("div",{className:K["item-info"],children:c.jsx("div",{className:K["item-name"],style:{color:t.text_first_color},children:"Посмотреть расписание"})}),c.jsx("div",{className:K["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),c.jsxs("div",{className:K["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/download/${a}`),children:[c.jsx("div",{className:K["item-info"],children:c.jsx("div",{className:K["item-name"],style:{color:t.text_first_color},children:"Посмотреть файлы"})}),c.jsx("div",{className:K["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),c.jsx(xu,{placeholder:"Что нового?",isPanelTop:!1,onSend:M,addFiles:!0}),c.jsx("div",{className:K["posts-container"],children:g?c.jsxs(c.Fragment,{children:[c.jsx(At,{}),c.jsx(At,{}),c.jsx(At,{}),c.jsx(At,{})]}):x.map(R=>c.jsx(Cu,{postId:R.id,groupOwnerId:R.groupOwnerId,userId:R.userId,userName:R.userName,userPhoto:R.userPhoto,postData:R.postData,postText:R.postText,postPhotos:R.postPhoto,likesArray:R.likesArray,photoClick:$,postAction:I},R.id))})]})]})}function GZ({id:t}){const{theme:e,setElementColors:n}=f.useContext(B),{authUser:r}=ce(),[s,o]=f.useState({name:"",description:"",photo:"",cover:"",balance:0,members:[]}),[i,a]=f.useState({isShow:!1,text:""}),[l,u]=f.useState([]),[d,h]=f.useState(!1),[m,p]=f.useState({isShow:!1,images:[],index:null}),_=le();f.useEffect(()=>{n({iconColor:e.text_first_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>_("/search"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const w=async()=>{if(t)try{const y=G(V,"groups",t,"info","info"),C=await se(y);if(C.exists()){const b=C.data();o(b),console.log(b)}else console.log("No such document!"),o({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null})}catch(y){console.error("Error fetching group data:",y)}else console.error("ID группы не указан")};f.useEffect(()=>{w()},[t]),f.useEffect(()=>{if(i.isShow){const y=setTimeout(()=>{a({isShow:!1})},1500);return()=>clearTimeout(y)}},[i.isShow]);const x=async()=>{if(r._id){const y=G(V,"groups",t,"info","info"),C=G(V,"users",r._id,"info","preferences");try{const b=await se(C),k=await se(y);if(k.exists()){let T;const S=k.data().members||[];S.includes(r._id)?(T=S.filter(E=>E!==r._id),b.exists()&&await We(C,{mainGroup:null},{merge:!0})):(T=[...S,r._id],b.exists()&&await We(C,{mainGroup:t},{merge:!0})),await We(y,{members:T},{merge:!0}),await w()}else console.error("No such document!")}catch(b){console.error("Error updating document: ",b)}}};f.useEffect(()=>{const y=mr(ps(Qt(V,"posts"),xi("timestamp","desc")),C=>{const b=[];C.forEach(k=>{const T=k.data();if(T.userId===t){const S=new Date(T.timestamp),E=T.likesArray,N=S.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});b.push({id:k.id,userId:T.userId,userName:T.userName,groupOwnerId:T.groupOwnerId,userPhoto:T.userPhoto,postText:T.text,postPhoto:T.photos,postData:N,likesArray:E})}}),u(b),h(!1)});return()=>{y()}},[t]);const v=(y,C)=>{p({isShow:!0,images:y,index:C})},g=(y,C)=>{switch(y){case"delete":return setAlertProp({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(C)});default:return setAlertProp({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:K.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(Ur,{isShow:m.isShow,images:m.images,index:m.index,onClose:()=>p({isShow:!1})}),c.jsx(ct,{isShow:i.isShow,text:i.text}),c.jsx("div",{className:K["cover-container"],children:c.jsx("div",{className:K.cover,style:{background:s.cover},children:c.jsx("div",{className:K["cover-pattern"]})})}),c.jsx("div",{className:K["group-photo"],style:{borderColor:e.background_color},onClick:()=>p({images:[s.photo]}),children:c.jsx("img",{src:s.photo||"/genery/public/1.png",alt:`${s.name} photo`})}),c.jsxs("div",{className:K["group-actions"],style:{background:e.element_first_color},children:[c.jsx("div",{className:K["group-info"],children:c.jsx("div",{className:K["group-name"],style:{color:e.text_first_color},children:s.name})}),c.jsx("div",{className:K["group-biography"],style:{color:e.text_first_color},children:s.description}),c.jsx("div",{className:K["button-container"],children:c.jsx("button",{className:K["quit-button"],style:{background:s.members.includes(r._id)?e.element_second_color:e.first_color,color:e.text_first_color},onClick:x,children:s.members&&s.members.includes(r._id)?"Отписаться":"Подписаться"})})]}),c.jsxs("div",{className:K["item-body"],style:{background:e.first_color},onClick:()=>_(`/chat/${t}?isGroup=true`),children:[c.jsx("div",{className:K["item-info"],children:c.jsx("div",{className:K["item-name"],style:{color:e.text_first_color},children:"Открыть чат"})}),c.jsx("div",{className:K["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:K["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>_(`/subscribers/${t}?isGroup=true`),children:[c.jsx("div",{className:K["item-info"],children:c.jsxs("div",{className:K["item-name"],style:{color:e.text_first_color},children:["Подписчики: ",s.members?s.members.length:0]})}),c.jsx("div",{className:K["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:K["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>_(`/timetable/${t}`),children:[c.jsx("div",{className:K["item-info"],children:c.jsx("div",{className:K["item-name"],style:{color:e.text_first_color},children:"Посмотреть расписание"})}),c.jsx("div",{className:K["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:K["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>_(`/download/${t}`),children:[c.jsx("div",{className:K["item-info"],children:c.jsx("div",{className:K["item-name"],style:{color:e.text_first_color},children:"Посмотреть файлы"})}),c.jsx("div",{className:K["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsx("div",{className:K["posts-container"],children:d?c.jsxs(c.Fragment,{children:[c.jsx(At,{}),c.jsx(At,{}),c.jsx(At,{}),c.jsx(At,{})]}):l.map(y=>c.jsx(Cu,{postId:y.id,groupOwnerId:y.groupOwnerId,userId:y.userId,userName:y.userName,userPhoto:y.userPhoto,postData:y.postData,postText:y.postText,postPhotos:y.postPhoto,likesArray:y.likesArray,photoClick:v,postAction:g},y.id))})]})}function KZ(){const{authUser:t}=ce(),{id:e}=Vn(),[n,r]=f.useState(null),[s,o]=f.useState(!0);return f.useEffect(()=>{(async()=>{try{const a=G(V,"groups",e,"info","info"),l=await se(a);if(l.exists()){const u=l.data();r(u.owner)}else console.error("Group not found")}catch(a){console.error("Error fetching group data:",a)}finally{o(!1)}})()},[e]),n===t._id?c.jsx(WZ,{id:e}):c.jsx(GZ,{id:e})}const ZZ="_container_1hmv2_2",_l={container:ZZ,"empty-body":"_empty-body_1hmv2_9","empty-photo":"_empty-photo_1hmv2_18","empty-info":"_empty-info_1hmv2_28","empty-name":"_empty-name_1hmv2_37"};function YZ(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),{authUser:r}=ce(),[s,o]=f.useState(!1),[i,a]=f.useState(null),l=le(),[u,d]=f.useState(),[h,m]=f.useState();f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>l("/search"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{let _;return(async()=>{if(r){const x=G(V,"users",r._id,"info","preferences");_=mr(x,async v=>{if(v.exists()){const g=v.data(),y=g.mainGroup;if(m(g.mainGroup),y){const C=G(V,"groups",y,"info","info"),b=await se(C);b.exists()?a(b.data()):a({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null}),o(!1)}}})}})(),()=>{_&&_()}},[r]);const p=_=>{l(`/group/${_}`)};return c.jsx("div",{className:_l.container,children:s?c.jsxs("div",{className:_l["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:_l["empty-photo"],children:c.jsx(_t,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:_l["empty-info"],children:c.jsx("div",{className:_l["empty-name"],style:{color:t.text_first_color},children:c.jsx(_t,{height:"10px",width:"100px",shape:"rect"})})})]}):i&&c.jsx(m6,{name:i.name,photo:i.photo,id:h,onClick:p})})}const QZ="_container_144b8_2",XZ="_cover_144b8_22",JZ="_label_144b8_189",gt={container:QZ,"profile-container":"_profile-container_144b8_13","cover-container":"_cover-container_144b8_22",cover:XZ,"cover-pattern":"_cover-pattern_144b8_41","group-photo":"_group-photo_144b8_49","change-photo-button":"_change-photo-button_144b8_68","group-actions":"_group-actions_144b8_86","button-container":"_button-container_144b8_126","quit-button":"_quit-button_144b8_135","colors-container":"_colors-container_144b8_152","color-circle":"_color-circle_144b8_162","active-circle":"_active-circle_144b8_172","input-data-container":"_input-data-container_144b8_179",label:JZ,"input-data":"_input-data_144b8_179"};var p6=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};function eY({}){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),{authUser:r}=ce(),{id:s}=Vn(),[o,i]=f.useState(""),[a,l]=f.useState(""),[u,d]=f.useState(!0),[h,m]=f.useState(null),[p,_]=f.useState("#0040F9"),[w,x]=f.useState([]),[v,g]=f.useState({isShow:!1,text:""}),[y,C]=f.useState([]),b=le(),k=[t.first_color,t.second_color,t.third_color];f.useEffect(()=>{(async()=>{if(r&&r._id){const M=G(V,"users",r._id,"info","preferences"),O=await se(M);if(O.exists()){const $=O.data();x(L=>[...L,...$.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[r]);const T=w?ki.filter(j=>w.includes(j.name)):[];f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>b("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{if(v.isShow){const j=setTimeout(()=>{g({isShow:!1})},1500);return()=>clearTimeout(j)}},[v.isShow]);const S=j=>{j.target.files[0]&&(m(j.target.files[0]),console.log(j.target.files[0]))},E=j=>{_(j)},N=async()=>{let j=null;const M=new Date().toISOString();if(o.length<=3){g({isShow:!0,text:"Название должно быть больше 3-х символов"});return}if(h){const O=Sn(En,`groups_photo/${M}_${h.name}`);await pr(O,h),j=await $n(O)}else{const O=p6(500,500),$=O.getContext("2d"),L=k[Math.floor(Math.random()*k.length)];$.fillStyle=L,$.fillRect(0,0,O.width,O.height),$.fillStyle="white",$.font="bold 250px Inter",$.textAlign="center",$.textBaseline="middle",$.fillText(o[0].toUpperCase(),O.width/2,O.height/2);const P=await new Promise(R=>O.toBlob(R)),I=Sn(En,`groups_photo/${M}_${o}_default.png`);await pr(I,P),j=await $n(I)}try{const O=Qt(V,"groups"),L=(await um(O,{})).id,P=G(V,"groups",L,"info","info");await We(P,{name:o,description:a,photo:j,cover:p,owner:r._id,members:[r._id]},{merge:!0}),b(`/group/${L}`)}catch(O){console.error("Error creating document: ",O)}};function A(j){if(!j)return!1;let M,O,$;if(j.startsWith("#"))if(j.length===4)M=parseInt(j[1]+j[1],16),O=parseInt(j[2]+j[2],16),$=parseInt(j[3]+j[3],16);else if(j.length===7)M=parseInt(j.slice(1,3),16),O=parseInt(j.slice(3,5),16),$=parseInt(j.slice(5,7),16);else return!1;else if(j.startsWith("rgb")){const P=j.substring(j.indexOf("(")+1,j.lastIndexOf(")")).split(",").map(Number);if(P.length===3)M=P[0],O=P[1],$=P[2];else return!1}else{const P=document.createElement("div");P.style.color=j,document.body.appendChild(P);const I=window.getComputedStyle(P).color;if(document.body.removeChild(P),I.startsWith("rgb")){const R=I.substring(I.indexOf("(")+1,I.lastIndexOf(")")).split(",").map(Number);if(R.length===3)M=R[0],O=R[1],$=R[2];else return!1}else return!1}return(M*299+O*587+$*114)/1e3>180}return c.jsx("div",{className:gt.container,children:c.jsxs("div",{className:gt["profile-container"],children:[c.jsx(ct,{isShow:v.isShow,text:v.text}),c.jsx("div",{className:gt["cover-container"],children:c.jsx("div",{className:gt.cover,style:{background:p},children:c.jsx("div",{className:gt["cover-pattern"]})})}),c.jsxs("div",{className:gt["group-photo"],style:{borderColor:t.background_color,background:t.background_color},children:[c.jsx("button",{className:gt["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:h?URL.createObjectURL(h):y.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:S})]}),c.jsx("div",{className:gt["colors-container"],style:{background:t.element_first_color},children:T.map(j=>c.jsx(c.Fragment,{children:j.colors.map((M,O)=>c.jsx("div",{className:gt["color-circle"],style:{background:M},onClick:()=>E(M),children:p===M&&c.jsx("div",{className:gt["active-circle"],style:{borderColor:A(M)?"#0A0B10":"#fff"}})},O))}))}),c.jsxs("div",{className:gt["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:gt["input-data-container"],children:[c.jsx("div",{className:gt.label,style:{color:t.first_color},children:"Название"}),c.jsx("input",{type:"text",value:o,className:gt["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:j=>i(j.target.value)})]}),c.jsxs("div",{className:gt["input-data-container"],children:[c.jsx("div",{className:gt.label,style:{color:t.first_color},children:"Описание"}),c.jsx("input",{type:"text",value:a,className:gt["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:j=>l(j.target.value)})]}),c.jsx("div",{className:gt["button-container"],children:c.jsx("button",{className:gt["quit-button"],style:{color:t.text_first_color,background:t.first_color},onClick:N,children:"Создать"})})]})]})})}const tY="_container_yjc12_1",o1={container:tY,"main-button":"_main-button_yjc12_12"};function nY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B);f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[B]);const[s,o]=f.useState([[1,2],[3,4]]),[i,a]=f.useState([]),l=_=>_[0].map((x,v)=>_.map(g=>g[v])),u=[[1,2],[3,4]],d=[[1,2,3],[4,5,6]],h=(_,w)=>{const x=_.length,v=_[0].length,g=w.length,y=w[0].length;if(v!==g)throw new Error("Количество столбцов в A должно быть равно количеству строк в B");const C=Array.from({length:x},()=>Array(y).fill(0));for(let b=0;b<x;b++)for(let k=0;k<y;k++)for(let T=0;T<v;T++)C[b][k]+=_[b][T]*w[T][k];return C},m=()=>{console.log(l(d))},p=()=>{console.log(h(u,d))};return c.jsxs("div",{className:o1.container,children:[c.jsx("button",{className:o1["main-button"],style:{background:t.first_color},onClick:m,children:"Транспонировать"}),c.jsx("button",{className:o1["main-button"],style:{background:t.first_color},onClick:p,children:"Умножить"})]})}const rY="_container_1pzp3_1",sY="_game_1pzp3_18",IC={container:rY,game:sY};function oY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=le();f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/group-list"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[B]);const[o,i]=f.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),a=f.useRef(),[l,u]=f.useState(0),[d,h]=f.useState({width:360,height:500});let m,p=d.width,_=d.height,w;const x=70,v=70,g=d.width/8,y=d.height/2;let C,b={x:g,y,width:x,height:v},k=[];const T=60,S=400,E=d.width,N=0;let A,j,M=-2,O=0,$=.4,L=!1;const P=()=>{const z=window.innerWidth<768,Q=Math.min(window.innerWidth,360),ue=z?700:Math.min(window.innerHeight,100);h({width:Q,height:ue})};f.useEffect(()=>(window.addEventListener("resize",P),P(),()=>{window.removeEventListener("resize",P)}),[]),f.useEffect(()=>{const z=a.current;if(!z)return;m=z,m.height=_,m.width=p,w=m.getContext("2d"),C=new Image,C.src="flippybird/flappybird.png",C.onload=()=>{w.drawImage(C,b.x,b.y,b.width,b.height)},A=new Image,A.src="flippybird/toppipe.png",j=new Image,j.src="flippybird/bottompipe.png",requestAnimationFrame(I);const Q=setInterval(D,1500);return document.addEventListener("click",F),()=>{clearInterval(Q),document.removeEventListener("click",F)}},[C]);const I=()=>{if(requestAnimationFrame(I),!L){w.clearRect(0,0,m.width,m.height),O+=$,b.y=Math.max(b.y+O,0),w.drawImage(C,b.x,b.y,b.width,b.height),b.y>m.height&&(L=!0);for(let z=0;z<k.length;z++){let Q=k[z];Q.x+=M,w.drawImage(Q.img,Q.x,Q.y,Q.width,Q.height),!Q.passed&&b.x>Q.x+Q.width&&(u(ue=>ue+=.5),Q.passed=!0),H(b,Q)&&(L=!0)}for(;k.length>0&&k[0].x<-60;)k.shift();w.fillStyle="white",w.font="15px sans-serif",L&&i({isShow:!0,title:"Вы проиграли!",text:`Ваш счет: ${l}`,firstButtonName:"Выйти",secondButtonName:"Играть",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:()=>R()})}},R=()=>{L=!1,b={x:g,y,width:x,height:v},k=[],u(0),i({isShow:!1})},D=()=>{if(L)return;let z=N-S/4-Math.random()*(S/2),Q=m.height/4,ue={img:A,x:E,y:z,width:T,height:S,passed:!1};k.push(ue);let ut={img:j,x:E,y:z+S+Q,width:T,height:S,passed:!1};k.push(ut)},F=z=>{O=-6},H=(z,Q)=>z.x<Q.x+Q.width&&z.x+z.width>Q.x&&z.y<Q.y+Q.height&&z.y+z.height>Q.y;return c.jsx("div",{className:IC.container,children:c.jsx("iframe",{className:IC.game,src:"https://ridgeld.github.io/game/",allowfullscreen:!0})})}const iY="_container_isjmo_1",aY="_game_isjmo_12",NC={container:iY,game:aY};function lY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=le();f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[B]);const[o,i]=f.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"});return c.jsx("div",{className:NC.container,children:c.jsx("iframe",{className:NC.game,src:"https://students-rating-private-ridgelds-projects.vercel.app/"})})}const cY="_container_zepfk_2",Li={container:cY,"search-container":"_search-container_zepfk_12","empty-body":"_empty-body_zepfk_40","empty-photo":"_empty-photo_zepfk_49","empty-info":"_empty-info_zepfk_59","empty-name":"_empty-name_zepfk_68"},uY="_body_1fpzm_2",dY="_photo_1fpzm_19",hY="_info_1fpzm_13",fY="_name_1fpzm_44",mY="_selected_1fpzm_49",Ss={body:uY,"info-group":"_info-group_1fpzm_13",photo:dY,info:hY,name:fY,selected:mY,"inside-circle":"_inside-circle_1fpzm_56","delete-button":"_delete-button_1fpzm_62"};function Rm({id:t,name:e,photo:n,onClick:r,canDelete:s,removeUser:o,isSelect:i}){const{theme:a,setElementColors:l}=f.useContext(B),u=h=>{r(t)},d=h=>{h.stopPropagation(),o(t,e)};return c.jsxs("div",{className:Ss.body,style:{borderTop:`1px solid ${a.element_first_color}`},onClick:u,children:[c.jsxs("div",{className:Ss["info-group"],children:[c.jsx("div",{className:Ss.photo,children:c.jsx("img",{src:n,alt:"ава"})}),c.jsx("div",{className:Ss.info,children:c.jsx("div",{className:Ss.name,style:{color:a.text_first_color},children:e})})]}),i&&c.jsx("div",{className:Ss.selected,style:{background:a.first_color},children:c.jsx("div",{className:Ss["inside-circle"],style:{background:a.text_first_color}})}),s&&c.jsx("button",{className:Ss["delete-button"],style:{background:a.element_first_color},onClick:d,children:c.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:a.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function pY(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),r=le(),[s]=qI(),{id:o}=Vn(),{authUser:i}=ce(),a=s.get("isGroup")==="true",[l,u]=f.useState([]),[d,h]=f.useState(""),[m,p]=f.useState(!1),[_,w]=f.useState(!1),[x,v]=f.useState({isShow:!1,text:""}),g=async()=>{try{if(p(!0),!o){console.error("ID не найден в параметрах запроса");return}const k=G(V,a?"groups":"users",o,"info",a?"info":"preferences"),T=await se(k);if(T.exists()){const S=T.data(),E=a?S.members:S.followers||[];(a?S.owner:S.uid)===i._id&&w(!0);const A=await Promise.all(E.map(async j=>{const M=G(V,"users",j,"info","preferences"),O=await se(M);if(O.exists()){const $=O.data();return{uid:j,name:$.name||"Без имени",photo:$.photo||""}}return null}));u(A.filter(Boolean))}}catch(k){console.error("Ошибка загрузки данных:",k)}finally{p(!1)}};f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:a?()=>r(`/group/${o}`):()=>r(`/profile/${o}`),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t,o,a,r]),f.useEffect(()=>{g()},[o,a]);const y=k=>{h(k.target.value)},C=l.filter(k=>k.name.toLowerCase().includes(d.toLowerCase())),b=async(k,T)=>{try{if(a){const S=G(V,"groups",o,"info","info"),E=await se(S);if(E.exists()){const A=E.data().members.filter(j=>j!==k);await We(S,{members:A},{merge:!0}),v({isShow:!0,text:`Вы удалили ${T} из подписчиков `}),g(),console.log(`Пользователь ${k} удалён из группы`)}}else{const S=G(V,"users",o,"info","preferences"),E=await se(S);if(E.exists()){const A=E.data().subscribers.filter(j=>j!==k);await We(S,{followers:A},{merge:!0}),v({isShow:!0,text:`Вы удалили ${T} из подписчиков `}),g(),console.log(`Пользователь ${k} удалён из подписчиков`)}}}catch(S){console.error("Ошибка при удалении пользователя:",S)}};return c.jsxs("div",{className:Li.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                    width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                    background: ${t.first_color};
                    border-radius: 5px;
                }
                ::-webkit-scrollbar-track {
                    background-color: rgba(0, 0, 0, 0.3);
                }
            `}),c.jsx(ct,{isShow:x.isShow,text:x.text}),c.jsx(f6,{value:d,onChange:y,placeholder:"Подписчики"}),c.jsx("div",{className:Li["search-container"],children:m?Array.from({length:2}).map((k,T)=>c.jsxs("div",{className:Li["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:Li["empty-photo"],children:c.jsx(_t,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:Li["empty-info"],children:c.jsx("div",{className:Li["empty-name"],style:{color:t.text_first_color},children:c.jsx(_t,{height:"10px",width:"100px",shape:"rect"})})})]},T)):C.map((k,T)=>c.jsx(Rm,{id:k.uid,name:k.name,photo:k.photo,canDelete:_,removeUser:b,onClick:()=>r(`/profile/${k.uid}`)},T))})]})}const gY="_container_1e7tt_1",yY="_board_1e7tt_8",_Y="_controls_1e7tt_15",Nn={container:gY,board:yY,controls:_Y,"input-container":"_input-container_1e7tt_22","input-data":"_input-data_1e7tt_30","check-button":"_check-button_1e7tt_48","show-name-button":"_show-name-button_1e7tt_65","next-button":"_next-button_1e7tt_82","bottom-controls":"_bottom-controls_1e7tt_99","answer-display":"_answer-display_1e7tt_107"},Eo=[{id:1,name:"Горизонтальная линия уровня",frontalProjection:[{x:2,y:5},{x:8,y:5}],horizontalProjection:[{x:2,y:3},{x:8,y:6}]},{id:2,name:"Фронтально проецирующая линия",frontalProjection:[{x:5,y:5}],horizontalProjection:[{x:5,y:2},{x:5,y:6}]},{id:3,name:"Линия общего положения",frontalProjection:[{x:1,y:3},{x:9,y:7}],horizontalProjection:[{x:1,y:7},{x:9,y:3}]},{id:4,name:"Фронтальная линия уровня",frontalProjection:[{x:3,y:5},{x:4,y:4},{x:5,y:3.5},{x:6,y:3.2},{x:7,y:3.5},{x:8,y:4},{x:9,y:5}],horizontalProjection:[{x:3,y:5},{x:9,y:5}]},{id:5,name:"Горизонтально проецирующая линия",frontalProjection:[{x:5,y:3},{x:5,y:7}],horizontalProjection:[{x:5,y:4}]},{id:6,name:"Профильная линия уровня",frontalProjection:[{x:5,y:3},{x:5,y:7}],horizontalProjection:[{x:5,y:3},{x:5,y:7}]},{id:7,name:"Профильно проецирующая линия",frontalProjection:[{x:4,y:5},{x:9,y:5}],horizontalProjection:[{x:4,y:5},{x:9,y:5}]},{id:8,name:"Фронтально проецирующая плоскость",frontalProjection:[{x:4,y:3},{x:9,y:5}],horizontalProjection:[{x:4,y:3},{x:9,y:5},null,{x:9,y:3},{x:4,y:5}]},{id:9,name:"Фронтальная плоскость уровня",frontalProjection:[{x:4,y:3},{x:9,y:3},null,{x:4,y:6},{x:9,y:6}],horizontalProjection:[{x:4,y:5},{x:9,y:5}]},{id:10,name:"Фронтальная плоскость уровня",frontalProjection:[{x:2.5,y:3},{x:1,y:3},{x:1,y:6},{x:2.5,y:6},null,{x:1,y:4.5},{x:2.5,y:4.5},null,{x:3.5,y:3},{x:3.5,y:6},{x:5,y:6},null,{x:6.3,y:3},{x:6,y:3},{x:6,y:6},{x:6.3,y:6},{x:7,y:5.7},{x:7.5,y:5},{x:7.5,y:4},{x:7,y:3.3},{x:6.3,y:3},null,{x:8.5,y:6},{x:9.25,y:3},{x:10,y:6},null,{x:8.75,y:5},{x:9.75,y:5},null,{x:11,y:6},{x:11,y:3},{x:12.5,y:6},{x:12.5,y:3}],horizontalProjection:[{x:1,y:5},{x:2.5,y:5},null,{x:3.5,y:5},{x:5,y:5},null,{x:6,y:5},{x:7.5,y:5},null,{x:8.5,y:5},{x:10,y:5},null,{x:11,y:5},{x:12.5,y:5},null]},{id:11,name:"Фронтально проецирующая плоскость",frontalProjection:[{x:4,y:3},{x:9,y:5}],horizontalProjection:[{x:4,y:3},{x:9,y:3},null,{x:4,y:6},{x:9,y:6}]},{id:12,name:"Zа наших!",frontalProjection:[{x:4,y:3},{x:9,y:3},{x:4,y:6},{x:9,y:6}],horizontalProjection:[{x:4,y:3},{x:6.5,y:6},{x:9,y:3}]},{id:13,name:"Горизонтально проецирующая плоскость",frontalProjection:[{x:4,y:6},{x:6.5,y:3},{x:9,y:6},{x:4,y:6}],horizontalProjection:[{x:4,y:3},{x:9,y:5}]},{id:14,name:"Горизонтальная плоскость уровня",frontalProjection:[{x:4,y:5},{x:9,y:5}],horizontalProjection:[{x:4,y:6},{x:4.5,y:5},{x:5.5,y:4.2},{x:6.5,y:4},{x:7.5,y:4.2},{x:8.5,y:5},{x:9,y:6}]},{id:15,name:"Плоскость общего положения",frontalProjection:[{x:4,y:3},{x:9,y:6}],horizontalProjection:[{x:4,y:2},{x:9,y:5},null,{x:4,y:4},{x:9,y:7}]},{id:16,name:"Плоскость общего положения",frontalProjection:[{x:6,y:7},{x:8,y:7},{x:9.5,y:5},{x:8,y:3},{x:6,y:3},{x:4.5,y:5},{x:6,y:7}],horizontalProjection:[{x:6,y:7},{x:8,y:7},{x:9.5,y:5},{x:8,y:3},{x:6,y:3},{x:4.5,y:5},{x:6,y:7}]}];function vY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=le(),o=f.useRef(),[i,a]=f.useState(0),[l,u]=f.useState(0),[d,h]=f.useState(""),[m,p]=f.useState(!1),[_,w]=f.useState(null),[x,v]=f.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[g,y]=f.useState({width:400,height:600});f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[t]);const C=()=>{const A=window.innerWidth<768,j=A?window.innerWidth-40:600,M=A?350:Math.min(window.innerHeight-100,300);y({width:Math.min(window.innerWidth-40,j),height:M})};f.useEffect(()=>{window.addEventListener("resize",C),C();const A=Math.floor(Math.random()*Eo.length);return u(A),()=>{window.removeEventListener("resize",C)}},[]),f.useEffect(()=>{const A=o.current;if(!A)return;const j=A.getContext("2d"),M=20,O=Math.floor(g.width/M),$=Math.floor(g.height/M);j.clearRect(0,0,g.width,g.height),b(j,M,O,$);const L={x:0,y:0,width:g.width,height:g.height/2},P={x:0,y:g.height/2,width:g.width,height:g.height/2};j.beginPath(),j.moveTo(0,g.height/2),j.lineTo(g.width,g.height/2),j.strokeStyle=t.text_first_color,j.lineWidth=2,j.stroke();const I=Eo[l];k(j,I.frontalProjection,M,L,t.third_color),k(j,I.horizontalProjection,M,P,t.first_color),j.font="16px Inter",j.fillStyle=t.text_first_color,j.fillText("Фронтальная проекция",10,20),j.fillText("Горизонтальная проекция",10,g.height/2+20)},[g,l]);const b=(A,j,M,O)=>{A.beginPath(),A.strokeStyle=t.element_second_color,A.lineWidth=.5;for(let $=0;$<=M;$++)A.moveTo($*j,0),A.lineTo($*j,g.height);for(let $=0;$<=O;$++)A.moveTo(0,$*j),A.lineTo(g.width,$*j);A.stroke()},k=(A,j,M,O,$)=>{if(j.length===0)return;A.strokeStyle=$,A.lineWidth=2,A.fillStyle=$;let L=null;j.forEach((P,I)=>{if(P===null){L=null;return}const R=O.x+P.x*M,D=O.y+P.y*M;L!==null&&(A.beginPath(),A.moveTo(L.x,L.y),A.lineTo(R,D),A.stroke()),A.beginPath(),A.arc(R,D,4,0,Math.PI*2),A.fill(),L={x:R,y:D}})},T=A=>{h(A.target.value),w(null)},S=()=>{const A=Eo[l].name.toLowerCase();d.toLowerCase()===A?(w(!0),a(M=>M+1),v({isShow:!0,title:"Правильно!",text:"Вы правильно определили линию.",firstButtonName:"Выйти",secondButtonName:"Далее",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:E})):(w(!1),v({isShow:!0,title:"Неверно!",text:`Правильный ответ: ${Eo[l].name}`,firstButtonName:"Выйти",secondButtonName:"Далее",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:E}))},E=()=>{let A;do A=Math.floor(Math.random()*Eo.length);while(A===l&&Eo.length>1);u(A),h(""),p(!1),w(null),v({isShow:!1})},N=()=>{p(!0)};return c.jsxs("div",{className:Nn.container,children:[c.jsx(ko,{title:x.title,text:x.text,isShow:x.isShow,firstButtonName:x.firstButtonName,secondButtonName:x.secondButtonName,firstButtonOnClick:x.firstButtonOnClick,secondButtonOnClick:x.secondButtonOnClick}),c.jsx("canvas",{ref:o,width:g.width,height:g.height,className:Nn.board,style:{background:t.element_first_color}}),m&&c.jsxs("div",{className:Nn["answer-display"],style:{background:t.element_first_color,color:t.text_first_color,border:`1px solid ${t.text_first_color}`},children:["Название: ",Eo[l].name]}),c.jsxs("div",{className:Nn.controls,children:[c.jsxs("div",{className:Nn["input-container"],children:[c.jsx("input",{type:"text",placeholder:"Название",value:d,className:Nn["input-data"],style:{color:t.text_first_color,caretColor:t.first_color,backgroundColor:t.element_first_color,"--placeholder-color":t.text_third_color},onChange:T}),c.jsx("button",{className:Nn["check-button"],style:{color:t.text_first_color,background:t.first_color},onClick:S,children:"Проверить"})]}),c.jsxs("div",{className:Nn["bottom-controls"],children:[c.jsx("button",{className:Nn["show-name-button"],style:{color:t.text_first_color,background:t.element_first_color},onClick:N,children:"Показать название"}),c.jsx("button",{className:Nn["next-button"],style:{color:t.text_first_color,background:t.first_color},onClick:E,children:"Далее"})]}),_!==null&&!x.isShow&&c.jsx("div",{className:`${Nn.result} ${_?Nn.correct:Nn.incorrect}`,children:_?"Правильно!":"Неверно!"})]})]})}const wY=()=>{const{id:t}=Vn(),e=le();f.useRef(null);const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),{authUser:o}=ce(),[i,a]=f.useState(null),[l,u]=f.useState(null),[d,h]=f.useState(!0),[m,p]=f.useState({isShow:!1,images:[],index:null}),[_,w]=f.useState({isShow:!1,text:""}),[x,v]=f.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[g,y]=f.useState(!1);f.useEffect(()=>{if(_.isShow){const D=setTimeout(()=>{w({isShow:!1})},1e3);return()=>clearTimeout(D)}},[_]),f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:()=>e("/posts"),isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:3}),document.body.style.background=n.background_color},[n,s,e]),f.useEffect(()=>{(async()=>{try{const F=G(V,"posts",t),H=await se(F);if(H.exists()){const z=H.data(),ue=new Date(z.timestamp).toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});a({id:H.id,userId:z.userId,groupOwnerId:z.groupOwnerId,userName:z.userName,userPhoto:z.userPhoto,postText:z.text,postPhotos:z.photos,postData:ue,likesArray:z.likesArray})}}catch(F){console.error("Ошибка при загрузке поста:",F)}finally{h(!1)}})()},[t]),f.useEffect(()=>{const D=Qt(V,"posts",t,"comments"),F=ps(D,xi("timestamp","asc")),H=mr(F,z=>{const Q=z.docs.map(ue=>({commentId:ue.id,...ue.data()}));u(Q)});return()=>H()},[t]);const C=(D,F)=>{p({isShow:!0,images:D,index:F})},b=()=>{v({isShow:!1})},k=async D=>{v({isShow:!1});try{await Gl(G(V,"posts",D))}catch(F){console.error("Error deleting post: ",F)}finally{w({isShow:!0,text:"Пост удален"})}},T=(D,F)=>{switch(D){case"delete":return v({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:b,secondButtonOnClick:()=>k(F)});default:return v({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}},S=async D=>{v({isShow:!1});try{(await w_(ps(Qt(V,"posts",t,"comments"),LD("replyTo","==",D)))).forEach(async H=>{await Gl(G(V,"posts",t,"comments",H.id))}),await Gl(G(V,"posts",t,"comments",D))}catch(F){console.error("Error deleting comment: ",F)}finally{w({isShow:!0,text:"Комментарий и ответы удалены"})}},E=(D,F)=>{switch(D){case"delete":return v({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить комментарий?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:b,secondButtonOnClick:()=>S(F)});default:return v({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}},[N,A]=f.useState(null),j=async D=>{try{const F=G(Qt(V,"posts",t,"comments")),z={commentId:F.id,text:D,timestamp:Date.now(),userId:o._id,userName:o.name,userPhoto:o.avatar,replyTo:N?N.commentId:null,isReply:!!N};if(await We(F,z),N){const Q=G(V,"posts",t,"comments",N.commentId);await bn(Q,{replyCount:$D(1)})}A(null),O("")}catch(F){console.error("Ошибка при добавлении комментария: ",F)}},[M,O]=f.useState(null),$=D=>{e(`/profile/${D}`)},L=D=>{console.log("Ответ на комментарий:",D),A(D),O(`@${D.userName} `)};if(d)return c.jsx(At,{});if(!i)return c.jsx("p",{children:"Пост не найден."});l.filter(D=>!D.replyTo);const P=D=>l.filter(F=>F.replyTo===D),I=()=>{O("")},R=D=>{D=D.replace("#","");const F=parseInt(D.substring(0,2),16),H=parseInt(D.substring(2,4),16),z=parseInt(D.substring(4,6),16);return`rgba(${F}, ${H}, ${z}, 0.2)`};return c.jsxs("div",{className:de.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${n.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(Ur,{isShow:m.isShow,images:m.images,index:m.index,onClose:()=>p({isShow:!1})}),c.jsx(ko,{title:x.title,text:x.text,isShow:x.isShow,firstButtonName:x.firstButtonName,secondButtonName:x.secondButtonName,firstButtonOnClick:x.firstButtonOnClick,secondButtonOnClick:x.secondButtonOnClick}),c.jsx(ct,{isShow:_.isShow,text:_.text}),c.jsx(Cu,{postId:i.id,userId:i.userId,groupOwnerId:i.groupOwnerId,userName:i.userName,userPhoto:i.userPhoto,postData:i.postData,postText:i.postText,postPhotos:i.postPhotos,likesArray:i.likesArray,commentCount:l.length,photoClick:C,postAction:T},i.id),c.jsxs("div",{className:de["comments-container"],children:[l&&l.filter(D=>!D.isReply).map(D=>c.jsxs(c.Fragment,{children:[c.jsx(CC,{userId:D.userId,userPhoto:D.userPhoto,userName:D.userName,text:D.text,showUserProfile:$,onReply:L,timestamp:D.timestamp,commentId:D.commentId,commentAction:E}),P(D.commentId).length>0&&c.jsx("button",{onClick:()=>y(!g),className:de["show-answers"],style:{color:n.first_color,background:R(n.first_color)},children:g?"Скрыть ответы":`Показать ответы (${P(D.commentId).length})`}),g&&P(D.commentId).length>0&&c.jsx("div",{className:de["replies-container"],children:P(D.commentId).map(F=>c.jsx(CC,{userId:F.userId,userPhoto:F.userPhoto,userName:F.userName,text:F.text,showUserProfile:$,timestamp:F.timestamp,commentId:F.commentId,commentAction:E,isReply:!0},F.commentId))})]})),c.jsx("div",{className:de["fixed-input"],style:{background:n.background_color},children:c.jsx(xu,{placeholder:"Оставьте комментарий",Addtext:M&&`<div style="color: ${n.first_color};">${M}</div>`,onClearText:I,isPanelTop:!1,onSend:j,addFiles:!1})})]})]})},xY="_wrapper_sos77_1",CY="_info_sos77_36",bY="_text_sos77_70",Es={wrapper:xY,"close-button":"_close-button_sos77_13",info:CY,text:bY,"absolute-svg":"_absolute-svg_sos77_84","skip-button":"_skip-button_sos77_91"};function kY(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState(localStorage.getItem("isBannerShow")),o=le();f.useEffect(()=>{const a=document.querySelector(".install_button");return a&&(a.style.display="flex"),()=>{a&&(a.style.display="none")}},[]);const i=()=>{localStorage.setItem("isBannerShow",!1),o("/menu")};return c.jsxs("div",{className:Es.wrapper,style:{background:"#0040F9"},children:[c.jsx("button",{className:Es["close-button"],onClick:()=>o("/menu"),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.4467 1.5533L9 9.10661M16.5533 16.6599L9 9.10661M9 9.10661L16.5533 1.5533M9 9.10661L1.4467 16.6599",stroke:"#fff","stroke-width":"2","stroke-linecap":"round"})})}),c.jsxs("div",{className:Es.info,children:[c.jsx("h4",{className:Es.hashtag,children:"# 2 года"}),c.jsxs("h1",{className:Es.title,children:["СКАЧАЙ ",c.jsx("br",{})," ПРИЛОЖЕНИЕ"]}),c.jsxs("span",{className:Es.text,children:["Устал искать ссылку на сайт?",c.jsx("br",{}),"Добавь его на главный экран и не парься"]})]}),c.jsx("div",{className:Es["absolute-svg"],children:c.jsx("svg",{width:"1203",height:"345",viewBox:"0 0 1203 345",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 96.3389L82.8243 170.06L156.649 96.3389L230.473 170.06L278.517 81.5166L328.905 236.37L386.715 117.792L437.103 195.024L506.631 39L559.362 298L633 66L704 236.37L789 117.792L866 236.37L978 81.5166L1024 195.024L1096.5 96.3389L1192.5 236.37",stroke:"#C3F82B","stroke-width":"23.4802"})})}),c.jsx("button",{className:Es["skip-button"],onClick:i,children:"Пропустить"})]})}const SY={};function EY(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),r=le();return f.useEffect(()=>{n({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!1,arrowColor:t.text_first_color,arrowLink:()=>r("/posts"),isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t,n,r]),c.jsx("div",{className:SY.container,children:c.jsx(kY,{})})}const TY="_container_bxems_1",IY="_greeting_bxems_22",NY="_error_bxems_54",wr={container:TY,"auth-form":"_auth-form_bxems_12",greeting:IY,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:NY,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function jY(){const[t,e]=f.useState(""),[n,r]=f.useState(""),{authUser:s,ga:o}=ce(),i=le(),{theme:a,setElementColors:l}=f.useContext(B);f.useEffect(()=>{l({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!1,arrowColor:a.text_first_color,isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:3,background:a.background_color}),document.body.style.background=a.background_color},[a]);const u=async d=>{d.preventDefault();try{await M4(o,t),r("Письмо для сброса пароля отправлено! Проверьте почту.")}catch(h){r("Ошибка: "+h.message)}};return c.jsx("div",{className:wr.container,children:c.jsxs("form",{className:wr["auth-form"],onSubmit:u,children:[c.jsxs("div",{className:wr.greeting,children:[c.jsx("h2",{className:wr["greeting-title"],style:{color:a.text_first_color},children:"Введите свой email"}),c.jsx("h3",{className:wr["greeting-text"],style:{color:a.text_first_color},children:"И мы отправим вас в ссылку"})]}),c.jsxs("div",{className:wr["input-container"],children:[c.jsx("div",{className:wr.error,style:{color:a.gradient_first_color},children:n}),c.jsx(Mr,{type:"email",placeholder:"Введите email",onInputChange:d=>e(d.target.value),backgroundColor:a.element_first_color,textColor:a.text_first_color,placeholderColor:a.text_second_color})]}),c.jsxs("div",{className:wr["button-container"],children:[c.jsxs("button",{type:"submit",className:wr["continue-button"],style:{background:a.first_color},children:["Отправить письмо",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:wr["create-account"],style:{color:a.text_first_color},onClick:()=>i("/sign-in"),children:"Войти"})]})]})})}const AY="_container_bxems_1",PY="_greeting_bxems_22",LY="_error_bxems_54",xr={container:AY,"auth-form":"_auth-form_bxems_12",greeting:PY,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:LY,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function RY(){const[t,e]=f.useState(""),[n,r]=f.useState(""),[s,o]=f.useState("null"),[i,a]=f.useState(""),[l,u]=f.useState(""),d=wf(),{authUser:h,ga:m}=ce(),{theme:p,setElementColors:_}=f.useContext(B),w=le();f.useEffect(()=>{_({iconColor:p.icon_color,titleColor:p.text_first_color,showArrow:!1,arrowColor:p.text_first_color,isHeaderBackground:!0,headerBackground:p.background_color,isHeader:!0,isFooter:!1,footerBackground:p.background_color,activeElementIndex:3,background:p.background_color}),document.body.style.background=p.background_color},[p]),f.useEffect(()=>{const g=new URLSearchParams(d.search).get("oobCode");console.log("oobCode:",g),g?u(g):a("Ошибка: код сброса отсутствует.")},[]);const x=async v=>{if(v.preventDefault(),n.length<6){a("Пароль должен содержать минимум 6 символов");return}if(n!==s){a("Пароли не совпадают");return}try{await pA(m,l,n),a("Пароль успешно изменен! Теперь вы можете войти."),setTimeout(()=>w("/sign-in"),3e3)}catch(g){a("Ошибка: "+g.message)}};return c.jsx("div",{className:xr.container,children:c.jsxs("form",{className:xr["auth-form"],onSubmit:x,children:[c.jsxs("div",{className:xr.greeting,children:[c.jsx("h2",{className:xr["greeting-title"],style:{color:p.text_first_color},children:"Придумайте новый пароль"}),c.jsx("h3",{className:xr["greeting-text"],style:{color:p.text_first_color},children:"А мы его все равно узнаем"})]}),c.jsxs("div",{className:xr["input-container"],children:[c.jsx("div",{className:xr.error,style:{color:p.gradient_first_color},children:i}),c.jsx(Mr,{type:"password",placeholder:"Введите пароль",onInputChange:v=>r(v.target.value),backgroundColor:p.element_first_color,textColor:p.text_first_color,placeholderColor:p.text_second_color}),c.jsx(Mr,{type:"password",placeholder:"Повторите пароль",onInputChange:v=>o(v.target.value),backgroundColor:p.element_first_color,textColor:p.text_first_color,placeholderColor:p.text_second_color})]}),c.jsxs("div",{className:xr["button-container"],children:[c.jsxs("button",{type:"submit",className:xr["continue-button"],style:{background:p.first_color},children:["Подтвердить",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:xr["create-account"],style:{color:p.text_first_color},onClick:()=>w("/sign-in"),children:"Войти"})]})]})})}const OY="_container_9sinb_1",DY="_greeting_9sinb_22",MY="_error_9sinb_55",Cr={container:OY,"auth-form":"_auth-form_9sinb_12",greeting:DY,"greeting-title":"_greeting-title_9sinb_31","greeting-text":"_greeting-text_9sinb_38","input-container":"_input-container_9sinb_45",error:MY,"button-container":"_button-container_9sinb_78","continue-button":"_continue-button_9sinb_85","create-account":"_create-account_9sinb_105"};function $Y(){const[t,e]=f.useState(""),[n,r]=f.useState(""),{authUser:s,ga:o}=ce(),i=le(),{theme:a,setElementColors:l}=f.useContext(B);f.useEffect(()=>{l({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!0,arrowColor:a.text_first_color,arrowLink:()=>i("/settings"),isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:3,background:a.background_color}),document.body.style.background=a.background_color},[a]);const u=async d=>{d.preventDefault();try{await M4(o,s.email),r("Письмо для сброса пароля отправлено! Проверьте почту.")}catch(h){r("Ошибка: "+h.message)}};return c.jsx("div",{className:Cr.container,children:c.jsxs("form",{className:Cr["auth-form"],onSubmit:u,children:[c.jsxs("div",{className:Cr.greeting,children:[c.jsx("h2",{className:Cr["greeting-title"],style:{color:a.text_first_color},children:"Мы отправим письмо на ваш email"}),c.jsx("h3",{className:Cr["greeting-text"],style:{color:a.text_first_color},children:"Перейдите по ссылке в письме для сброса пароля"})]}),c.jsx("div",{className:Cr["input-container"],children:c.jsx("div",{className:Cr.error,style:{color:a.gradient_first_color},children:n})}),c.jsxs("div",{className:Cr["button-container"],children:[c.jsxs("button",{type:"submit",className:Cr["continue-button"],style:{background:a.first_color},children:["Отправить письмо",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:Cr["create-account"],style:{color:a.text_first_color},onClick:()=>i("/settings"),children:"Отмена"})]})]})})}const FY="_container_1nwl3_2",BY="_cover_1nwl3_123",UY="_label_1nwl3_298",VY="_add_1nwl3_387",X={container:FY,"info-container":"_info-container_1nwl3_12","message-container":"_message-container_1nwl3_23","chat-body":"_chat-body_1nwl3_32","chat-photo":"_chat-photo_1nwl3_41","chat-info":"_chat-info_1nwl3_54","chat-name":"_chat-name_1nwl3_64","chat-last-message":"_chat-last-message_1nwl3_69","input-wrapper":"_input-wrapper_1nwl3_76","data-header":"_data-header_1nwl3_88","data-body":"_data-body_1nwl3_95","create-container":"_create-container_1nwl3_102","profile-container":"_profile-container_1nwl3_113","cover-container":"_cover-container_1nwl3_123",cover:BY,"cover-pattern":"_cover-pattern_1nwl3_142","group-photo":"_group-photo_1nwl3_150","change-photo-button":"_change-photo-button_1nwl3_169","group-actions":"_group-actions_1nwl3_187","group-info":"_group-info_1nwl3_193","group-name":"_group-name_1nwl3_200","group-biography":"_group-biography_1nwl3_206","button-container":"_button-container_1nwl3_234","quit-button":"_quit-button_1nwl3_243","colors-container":"_colors-container_1nwl3_260","color-circle":"_color-circle_1nwl3_271","active-circle":"_active-circle_1nwl3_281","input-data-container":"_input-data-container_1nwl3_288",label:UY,"input-data":"_input-data_1nwl3_288","members-container":"_members-container_1nwl3_379",add:VY};function zY({id:t,name:e,photo:n,lastMessage:r,onClick:s}){const{theme:o,setElementColors:i}=f.useContext(B);return c.jsxs("div",{className:X["chat-body"],style:{},onClick:()=>s(t),children:[c.jsx("div",{className:X["chat-photo"],children:c.jsx("img",{src:n,alt:"ава"})}),c.jsxs("div",{className:X["chat-info"],children:[c.jsx("div",{className:X["chat-name"],style:{color:o.text_first_color},children:e}),c.jsx("div",{className:X["chat-last-message"],style:{color:o.element_second_color},children:r})]})]})}function HY(){const{authUser:t}=ce(),{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState([]),a=le();f.useEffect(()=>{s({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!1,arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:2,background:e.background_color}),document.body.style.background=e.background_color},[B]),f.useEffect(()=>{if(!(t!=null&&t._id))return;const u=G(V,"users",t._id,"info","preferences"),d=mr(u,async h=>{if(!h.exists()){i([]);return}const p=h.data().chats||[];if(p.length===0){i([]);return}const _=p.map(v=>G(V,"chats",v)),x=(await Promise.all(_.map(se))).filter(v=>v.exists()).map(v=>{const g=v.data();let y="Неизвестный чат",C="";if(g.isPrivate&&g.userData){const b=Object.keys(g.userData).find(k=>k!==t._id);if(b){const k=g.userData[b];y=(k==null?void 0:k.name)||"Неизвестный",C=(k==null?void 0:k.photo)||""}}else y=g.name||y,C=g.photo||C;return{id:v.id,name:y,photo:C,...g}});i(x)});return()=>{d()}},[t]);const l=u=>{a(`/chat/${u}`)};return c.jsx("div",{className:X.container,children:o.map(u=>(console.log(u.name),X["chat-body"],u.name,c.jsx(zY,{id:u.id,name:u.name,photo:u.photo,lastMessage:u.lastMessage,onClick:l})))})}const qY="_body_1ros9_2",WY="_photo_1ros9_15",GY="_info_1ros9_28",KY="_name_1ros9_38",ZY="_members_1ros9_47",YY="_arrow_1ros9_59",Ri={body:qY,photo:WY,info:GY,name:KY,members:ZY,arrow:YY};function QY({id:t,photo:e,name:n,members:r,onClick:s,onHeaderClick:o}){const{theme:i,setElementColors:a,elementColors:l}=f.useContext(B);return c.jsxs("header",{className:Ri.body,style:{background:i.element_first_color},onClick:()=>o(t,!0),children:[c.jsx("div",{className:Ri.photo,children:c.jsx("img",{src:e})}),c.jsxs("div",{className:Ri.info,children:[c.jsx("h4",{className:Ri.name,style:{color:i.text_first_color},children:n}),c.jsx("h6",{className:Ri.members,style:{color:i.element_second_color},children:`${r} участника`})]}),c.jsx("button",{className:Ri.arrow,onClick:s,children:c.jsx("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M21 9C21.5523 9 22 8.55228 22 8C22 7.44772 21.5523 7 21 7L21 9ZM0.292893 7.2929C-0.0976311 7.68342 -0.097631 8.31658 0.292893 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928933C7.68054 0.538409 7.04738 0.538409 6.65685 0.928933L0.292893 7.2929ZM21 7L1 7L1 9L21 9L21 7Z",fill:l.titleColor})})})]})}const XY="_wrapper_oldz7_2",JY="_body_oldz7_23",eQ="_text_oldz7_36",tQ="_time_oldz7_58",nQ="_image_0_oldz7_139",rQ="_image_1_oldz7_155",sQ="_image_2_oldz7_171",oQ="_image_3_oldz7_187",iQ="_image_4_oldz7_203",Ve={wrapper:XY,"user-photo":"_user-photo_oldz7_10",body:JY,"user-name":"_user-name_oldz7_30",text:eQ,"text-empty":"_text-empty_oldz7_49",time:tQ,"images-body":"_images-body_oldz7_64","images-wrapper_1":"_images-wrapper_1_oldz7_69","images-wrapper_2":"_images-wrapper_2_oldz7_83","images-wrapper_3":"_images-wrapper_3_oldz7_97","images-wrapper_4":"_images-wrapper_4_oldz7_111","images-wrapper_5":"_images-wrapper_5_oldz7_125",image_0:nQ,image_1:rQ,image_2:sQ,image_3:oQ,image_4:iQ};function jC(t){const e=o=>typeof o=="string"?o.replace(/(#[\wа-яА-Я_]+)/g,i=>`<div class="${styles.hashtags}">${i}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map(i=>i.startsWith("<div")?gr(i):i).join(""):o,n=o=>{if(typeof o=="string")return e(o);if(Rn.isValidElement(o)){const i=Rn.Children.map(o.props.children,n);return Rn.cloneElement(o,{children:i})}return o};return(o=>{const i=gr(o);return n(i)})(t)}function aQ({userId:t,userName:e,nameColor:n,userPhoto:r,photos:s,handlePhotoClick:o,text:i,time:a}){const{theme:l,setElementColors:u}=f.useContext(B),{authUser:d}=ce(),h=[c.jsx("div",{className:Ve.wrapper,style:{justifyContent:"flex-end"},children:c.jsxs("div",{className:Ve.body,style:{background:t===d._id?l.first_color:l.element_first_color,borderRadius:t===d._id?"10px 10px 0 10px":"10px 10px 10px 0"},children:[s&&c.jsx("div",{className:Ve["images-body"],style:{borderRadius:"8px"},children:c.jsx("div",{className:Ve[`images-wrapper_${s.length}`],children:s.map((p,_)=>c.jsx(Qe.div,{className:Ve[`image_${_}`],whileTap:{scale:1.5},children:c.jsx("img",{src:p,onClick:()=>o(s,_)})}))})}),i&&c.jsx("div",{className:Ve.text,style:{color:l.text_first_color},children:jC(i)}),c.jsx("div",{className:Ve.time,style:{color:l.text_first_color,marginLeft:"auto"},children:a})]})})],m=[c.jsxs("div",{className:Ve.wrapper,style:{},children:[c.jsx("div",{className:Ve["user-photo"],children:c.jsx("img",{src:r})}),c.jsxs("div",{className:Ve.body,style:{background:t===d._id?l.first_color:l.element_first_color,borderRadius:t===d._id?"10px 10px 0 10px":"10px 10px 10px 0"},children:[c.jsx("div",{className:Ve["user-name"],style:{color:n},children:e}),s&&c.jsx("div",{className:Ve["images-body"],children:c.jsx("div",{className:Ve[`images-wrapper_${s.length}`],children:s.map((p,_)=>c.jsx(Qe.div,{className:Ve[`image_${_}`],whileTap:{scale:1.5},children:c.jsx("img",{src:p,onClick:()=>o(s,_)})}))})}),c.jsx("div",{className:Ve.text,style:{color:l.text_first_color},children:jC(i)}),c.jsx("div",{className:Ve.time,style:{color:l.element_second_color,marginLeft:t===d._id?"9":"auto"},children:a})]})]})];return t===d._id?h:m}function i1({isAuthUser:t}){const{theme:e,elementColors:n,setElementColors:r}=f.useContext(B),s=[c.jsx("div",{className:Ve.wrapper,style:{justifyContent:"flex-end"},children:c.jsxs("div",{className:Ve.body,style:{background:t?e.first_color:e.element_first_color,borderRadius:t?"10px 10px 0 10px":"10px 10px 10px 0"},children:[c.jsxs("div",{className:Ve["text-empty"],style:{color:e.text_first_color},children:[c.jsx(_t,{width:"100px",height:"16px",shape:"rect"}),c.jsx(_t,{width:"70px",height:"16px",shape:"rect"})]}),c.jsx("div",{className:Ve.time,style:{color:e.text_first_color,marginLeft:"auto"},children:c.jsx(_t,{width:"100%",height:"100%",shape:"rect"})})]})})],o=[c.jsx("div",{className:Ve.wrapper,style:{justifyContent:"flex-start"},children:c.jsxs("div",{className:Ve.body,style:{background:e.element_first_color,borderRadius:"10px 10px 10px 0"},children:[c.jsxs("div",{className:Ve["text-empty"],style:{color:e.text_first_color},children:[c.jsx(_t,{width:"100px",height:"16px",shape:"rect"}),c.jsx(_t,{width:"60px",height:"16px",shape:"rect"})]}),c.jsx("div",{className:Ve.time,style:{color:e.text_first_color,marginLeft:"auto"}})]})})];return t?s:o}function g6({fetchGroupData:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),{authUser:o}=ce(),{id:i}=Vn(),[a,l]=f.useState(""),[u,d]=f.useState(""),[h,m]=f.useState(!0),[p,_]=f.useState(null),[w,x]=f.useState(""),[v,g]=f.useState([]),[y,C]=f.useState({isShow:!1,text:""}),[b,k]=f.useState([]),[T,S]=f.useState([]),[E,N]=f.useState([]);f.useEffect(()=>{(async()=>{if(i)try{const P=G(V,"chats",i),I=await se(P);if(I.exists()){const R=I.data();x(R.cover),l(R.name),d(R.description),k(R),console.log(R)}else console.log("No such document!")}catch(P){console.error("Error fetching group data:",P)}else console.error("ID группы не указан")})()},[i]),f.useEffect(()=>{(async()=>{if(o&&o._id){const P=G(V,"users",o._id,"info","preferences"),I=await se(P);if(I.exists()){const R=I.data();g(D=>[...D,...R.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const A=v?ki.filter(L=>v.includes(L.name)):[];f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!1,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),f.useEffect(()=>{if(y.isShow){const L=setTimeout(()=>{C({isShow:!1})},1500);return()=>clearTimeout(L)}},[y.isShow]);const j=L=>{L.target.files[0]&&(_(L.target.files[0]),console.log(L.target.files[0]))},M=L=>{x(L)},O=async()=>{let L=null;const P=new Date().toISOString();if(p){const I=Sn(En,`chats_photo/${i}/${P}_${p.name}`);await pr(I,p),L=await $n(I)}if(i){const I=G(V,"chats",i);try{await We(I,{name:a,description:u,photo:p?L:b.photo,cover:w,members:E},{merge:!0});const D=[...E,o._id].map(async F=>{const H=G(V,"users",F,"info","preferences");await bn(H,{chats:ar(i)})});await Promise.all(D),await t(),e()}catch(R){console.error("Error updating document: ",R)}}};f.useEffect(()=>{if(!i)return;(async()=>{try{const P=G(V,"groups",i,"info","info"),I=await se(P);if(!I.exists()){S([]);return}const D=I.data().members||[];if(D.length===0){S([]);return}const F=D.map(Q=>G(V,"users",Q,"info","preferences")),z=(await Promise.all(F.map(se))).filter(Q=>Q.exists()).map(Q=>{const ue=Q.data();return{id:ue.uid,name:ue.name||"Неизвестный",photo:ue.photo||""}});S(z),console.log(z)}catch(P){console.error("Ошибка при получении участников группы:",P),S([])}})()},[i]);const $=L=>{N(P=>P.includes(L)?P.filter(I=>I!==L):[...P,L])};return c.jsxs("div",{className:X["profile-container"],children:[c.jsx(ct,{isShow:y.isShow,text:y.text}),c.jsx("div",{className:X["cover-container"],children:c.jsx("div",{className:X.cover,style:{background:w},children:c.jsx("div",{className:X["cover-pattern"]})})}),c.jsxs("div",{className:X["group-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[c.jsx("button",{className:X["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:p?URL.createObjectURL(p):b.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:j})]}),c.jsx("div",{className:X["colors-container"],style:{background:n.element_first_color},children:A.map(L=>c.jsx(c.Fragment,{children:L.colors.map((P,I)=>c.jsx("div",{className:X["color-circle"],style:{background:P},onClick:()=>M(P),children:w===P&&c.jsx("div",{className:X["active-circle"],style:{borderColor:n.text_first_color}})},I))}))}),c.jsxs("div",{className:X["group-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:X["input-data-container"],children:[c.jsx("div",{className:X.label,style:{color:n.text_first_color},children:"Название"}),c.jsx("input",{type:"text",value:a,className:X["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:L=>l(L.target.value)})]}),c.jsxs("div",{className:X["input-data-container"],children:[c.jsx("div",{className:X.label,style:{color:n.text_first_color},children:"Описание"}),c.jsx("input",{type:"text",value:u,className:X["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:L=>d(L.target.value)})]})]}),c.jsxs("div",{className:X["group-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:X["input-data-container"],children:[c.jsx("div",{className:X.label,style:{color:n.text_first_color},children:"Добавить участников"}),c.jsx("div",{className:X["members-container"],children:T.map(L=>{var I;const P=E.includes(L.id)||((I=b.members)==null?void 0:I.includes(L.id));return c.jsx(Rm,{id:L.id,name:L.name,photo:L.photo,isSelect:P,onClick:()=>$(L.id)},L.id)})})]}),c.jsx("div",{className:X["button-container"],children:c.jsx("button",{className:X["quit-button"],style:{color:n.text_first_color,background:n.first_color},onClick:O,children:"Сохранить"})})]})]})}function lQ({id:t,handleShowInfo:e}){const{theme:n,setElementColors:r}=f.useContext(B),{authUser:s}=ce(),[o,i]=f.useState({name:"",description:"",photo:"",cover:"",balance:0,members:[]}),[a,l]=f.useState({isShow:!1,text:""}),[u,d]=f.useState([]),[h,m]=f.useState(!1),[p,_]=f.useState({isShow:!1,images:[],index:null}),[w,x]=f.useState(!1),[v,g]=f.useState([]),y=le();f.useEffect(()=>{r({iconColor:n.text_first_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!1,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n,w]);const C=async()=>{if(!t){console.error("ID группы не указан");return}try{const k=G(V,"chats",t),T=await se(k);if(!T.exists()){console.log("No such document!"),i({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null});return}const S=T.data();i(S);const E=S.members||[];if(E.length===0){g([]);return}const N=E.map(M=>G(V,"users",M,"info","preferences")),j=(await Promise.all(N.map(se))).filter(M=>M.exists()).map(M=>({id:M.id,...M.data()}));g(j)}catch(k){console.error("Error fetching group data:",k)}};f.useEffect(()=>{C()},[t]),f.useEffect(()=>{if(a.isShow){const k=setTimeout(()=>{l({isShow:!1})},1500);return()=>clearTimeout(k)}},[a.isShow]);const b=()=>{x(!1),l({isShow:!0,text:"Изменения успешно сохранены"})};return w?c.jsx(g6,{handleEdit:b,fetchGroupData:C}):c.jsxs("div",{className:X["info-container"],children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                    width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                    background: ${n.first_color};
                    border-radius: 5px;
                    cursor: pointer;
                }
                ::-webkit-scrollbar-track {
                    background-color: rgba(0, 0, 0, 0.3);
                }
            `}),c.jsx(Ur,{isShow:p.isShow,images:p.images,index:p.index,onClose:()=>_({isShow:!1})}),c.jsx(ct,{isShow:a.isShow,text:a.text}),c.jsx("button",{className:X.add,style:{background:n.first_color},onClick:()=>x(!0),children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:n.text_first_color})})}),c.jsx("div",{className:X["cover-container"],children:c.jsx("div",{className:X.cover,style:{background:o.cover},children:c.jsx("div",{className:X["cover-pattern"]})})}),c.jsx("div",{className:X["group-photo"],style:{borderColor:n.background_color},onClick:()=>_({isShow:!0,images:o.photo,index:0}),children:c.jsx("img",{src:o.photo||"/genery/public/1.png",alt:`${o.name} photo`})}),c.jsxs("div",{className:X["group-actions"],style:{background:n.element_first_color},children:[c.jsx("div",{className:X["group-info"],children:c.jsx("div",{className:X["group-name"],style:{color:n.text_first_color},children:o.name})}),c.jsx("div",{className:X["group-biography"],style:{color:n.element_second_color},children:o.description})]}),c.jsxs("div",{className:X["group-actions"],style:{background:n.element_first_color},children:[c.jsx("div",{className:X["group-info"],children:c.jsx("div",{className:X["group-name"],style:{color:n.text_first_color},children:"Участники"})}),c.jsx("div",{className:X["members-container"],children:v.map(k=>c.jsx(Rm,{id:k.id,name:k.name,photo:k.photo,onClick:()=>y(`/profile/${k.uid}`)},k.id))})]})]})}function cQ({}){const{theme:t,setElementColors:e}=f.useContext(B),{id:n}=Vn(),{authUser:r}=ce(),s=le(),[o,i]=f.useState([]),[a,l]=f.useState([]),[u,d]=f.useState(!1),[h,m]=f.useState(!0),[p,_]=f.useState({isShow:!1,images:[],index:null}),[w,x]=f.useState({isShow:!1,text:""}),[v,g]=f.useState(!1),[y,C]=f.useState(!1),[b,k]=f.useState(!0);f.useEffect(()=>{e({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/chats"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!1,isFooter:!1,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[B]),f.useEffect(()=>{if(!n)return;(async()=>{const $=G(V,"chats",n),L=mr($,P=>{if(P.exists()){const I=P.data();if(I.isPrivate&&I.userData){const R=r._id,[D,F]=n.split("_");m(!0);const H=R===D?F:D,z=I.userData[H]||{};i({id:P.id,userId:H,name:z.name||"Не найден",photo:z.photo||"",...I})}else m(!1),i({id:P.id,...I})}else{const[I,R]=n.split("_"),D=r._id===I?R:I,F=G(V,"users",D,"info","preferences");se(F).then(H=>{if(H.exists()){const z=H.data();d(!0),i({id:n,userId:D,name:z.name||"Не найден",photo:z.photo||""})}else i({id:n,userId:D,name:"Не найден",photo:""})}).catch(H=>{console.error("Error getting user:",H),i({id:n,userId:D,name:"Не найден",photo:""})})}});return()=>{L()}})()},[n]),f.useEffect(()=>{k(!0);const O=ps(Qt(V,"chats",n,"messages")),$=ps(O,xi("timestamp","asc")),L=mr($,P=>{const I=P.docs.map(R=>{var F,H;const D=R.data();return{messageId:R.id,...D,time:((F=D.time)==null?void 0:F.time)||"",date:((H=D.time)==null?void 0:H.date)||""}});l(I),k(!1)});return()=>L()},[n]);const T=()=>{s("/chats")},S=async(O,$)=>{try{const L=new Date().toISOString();let P=[];for(const I of $){const R=Sn(En,`chat_photos/${r._id}/${L}_${I.name}`);await pr(R,I);const D=await $n(R);P.push(D)}await E(O,P)}catch(L){console.error("Error handling send: ",L)}},E=async(O,$)=>{try{const[L,P]=n.split("_"),I=u?`${r._id}_${L}`:n;if(!I)throw new Error("Не удалось определить chatId");const R=G(V,"chats",I),D=G(Qt(V,"chats",I,"messages")),F=D.id,H={date:new Date().toLocaleDateString("ru-RU"),time:new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})},z={date:"25.01.2025",time:"14:30"},Q=pt.fromDate(new Date("1980-05-07T15:54:57Z")),ue={messageId:F,text:O,time:H,timestamp:DD(),userId:r._id,userName:r.name,nameColor:"#0060cf",userPhoto:r.avatar,photos:$};if(await We(D,ue),u){const ut=G(V,"users",L,"info","preferences"),Dt=await se(ut),_s=Dt.exists()?Dt.data():null;await We(R,{isPrivate:!0,userData:{[r._id]:{name:r.name,photo:r.avatar},[L]:{name:(_s==null?void 0:_s.name)??"Неизвестный",photo:(_s==null?void 0:_s.photo)??""}},lastMessage:`${r.name}: ${O}`,lastMessageTime:H});const ne=G(V,"users",r._id,"info","preferences"),je=G(V,"users",L,"info","preferences");await bn(ne,{chats:ar(I)}),await bn(je,{chats:ar(I)}),s(`/chat/${I}`)}else await bn(R,{lastMessage:`${r.name}: ${O}`,lastMessageTime:H})}catch(L){console.error("Ошибка при отправке сообщения: ",L)}},N=a.reduce((O,$)=>(O[$.date]||(O[$.date]=[]),O[$.date].push($),O),{}),A=(O,$)=>{_({isShow:!0,images:O,index:$})},j=O=>{h?s(`/profile/${O}`):g(!0)},M=()=>{C(!1),x({isShow:!0,text:"Изменения успешно сохранены"})};return c.jsx("div",{className:X.container,children:v?c.jsx(lQ,{id:n,handleShowInfo:()=>g(!1)}):y?c.jsx(g6,{handleEdit:M,fetchGroupData}):c.jsxs(c.Fragment,{children:[c.jsx(ct,{isShow:w.isShow,text:w.text}),c.jsx(Ur,{isShow:p.isShow,images:p.images,index:p.index,onClose:()=>_({isShow:!1})}),c.jsx(QY,{id:o.userId,photo:o.photo,name:o.name,members:o.members?o.members.length:"0",onHeaderClick:j,onClick:T}),b?c.jsxs("div",{className:X["message-container"],children:[c.jsx("div",{className:X["data-header"],children:c.jsx("span",{className:X["data-body"],style:{background:t.element_first_color,color:t.text_first_color},children:c.jsx(_t,{width:"100px",height:"16px",shape:"rect"})})}),c.jsx(i1,{isAuthUser:!1}),c.jsx(i1,{isAuthUser:!0}),c.jsx(i1,{isAuthUser:!1})]}):Object.entries(N).map(([O,$])=>c.jsxs("div",{className:X["message-container"],children:[c.jsx("div",{className:X["data-header"],children:c.jsx("span",{className:X["data-body"],style:{background:t.element_first_color,color:t.text_first_color},children:O})}),$.map(L=>c.jsx(aQ,{userId:L.userId,userName:L.userName,nameColor:L.nameColor,userPhoto:L.userPhoto,photos:L.photos,handlePhotoClick:A,text:L.text,time:L.time},L.messageId))]},O)),c.jsx("div",{className:X["input-wrapper"],style:{background:t.background_color},children:c.jsx(xu,{placeholder:"Сообщение",Addtext:"",onClearText:"",isPanelTop:!1,onSend:S,addFiles:!0})})]})})}function uQ({}){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),{authUser:r}=ce(),{id:s}=Vn(),[o,i]=f.useState(""),[a,l]=f.useState(""),[u,d]=f.useState(!0),[h,m]=f.useState(null),[p,_]=f.useState("#0040F9"),[w,x]=f.useState([]),[v,g]=f.useState({isShow:!1,text:""}),[y,C]=f.useState([]),b=le(),k=[t.first_color,t.second_color,t.third_color],[T,S]=f.useState([]);f.useEffect(()=>{(async()=>{if(r&&r._id){const I=G(V,"users",r._id,"info","preferences"),R=await se(I);if(R.exists()){const D=R.data();x(F=>[...F,...D.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[r]);const E=w?ki.filter(P=>w.includes(P.name)):[];f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>b("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{if(v.isShow){const P=setTimeout(()=>{g({isShow:!1})},1500);return()=>clearTimeout(P)}},[v.isShow]);const N=P=>{P.target.files[0]&&(m(P.target.files[0]),console.log(P.target.files[0]))},A=P=>{_(P)};f.useEffect(()=>{if(!s)return;(async()=>{try{const I=G(V,"groups",s,"info","info"),R=await se(I);if(!R.exists()){S([]);return}const F=R.data().members||[];if(F.length===0){S([]);return}const H=F.map(ue=>G(V,"users",ue,"info","preferences")),Q=(await Promise.all(H.map(se))).filter(ue=>ue.exists()).map(ue=>{const ut=ue.data();return{id:ut.uid,name:ut.name||"Неизвестный",photo:ut.photo||""}});S(Q),console.log(Q)}catch(I){console.error("Ошибка при получении участников группы:",I),S([])}})()},[s]);const j=async()=>{let P=null;const I=new Date().toISOString();if(o.length<=3){g({isShow:!0,text:"Название должно быть больше 3-х символов"});return}if(h){const R=Sn(En,`chat_photo/${I}_${h.name}`);await pr(R,h),P=await $n(R)}else{const R=p6(500,500),D=R.getContext("2d"),F=k[Math.floor(Math.random()*k.length)];D.fillStyle=F,D.fillRect(0,0,R.width,R.height),D.fillStyle="white",D.font="bold 250px Inter",D.textAlign="center",D.textBaseline="middle",D.fillText(o[0].toUpperCase(),R.width/2,R.height/2);const H=await new Promise(Q=>R.toBlob(Q)),z=Sn(En,`chat_photo/${I}_${o}_avatar.png`);await pr(z,H),P=await $n(z)}try{const R=s,D=G(V,"chats",s);await We(D,{name:o,description:a,photo:P,cover:p,owner:r._id,isPrivate:!1,members:[...O,r._id]});const H=[...O,r._id].map(async z=>{const Q=G(V,"users",z,"info","preferences");await bn(Q,{chats:ar(s)})});await Promise.all(H),b(`/chat/${s}`)}catch(R){console.error("Ошибка при создании группы:",R)}},M=P=>{if(!P)return!1;let I,R,D;if(P.startsWith("#"))if(P.length===4)I=parseInt(P[1]+P[1],16),R=parseInt(P[2]+P[2],16),D=parseInt(P[3]+P[3],16);else if(P.length===7)I=parseInt(P.slice(1,3),16),R=parseInt(P.slice(3,5),16),D=parseInt(P.slice(5,7),16);else return!1;else if(P.startsWith("rgb")){const H=P.substring(P.indexOf("(")+1,P.lastIndexOf(")")).split(",").map(Number);if(H.length===3)I=H[0],R=H[1],D=H[2];else return!1}else{const H=document.createElement("div");H.style.color=P,document.body.appendChild(H);const z=window.getComputedStyle(H).color;if(document.body.removeChild(H),z.startsWith("rgb")){const Q=z.substring(z.indexOf("(")+1,z.lastIndexOf(")")).split(",").map(Number);if(Q.length===3)I=Q[0],R=Q[1],D=Q[2];else return!1}else return!1}return(I*299+R*587+D*114)/1e3>180},[O,$]=f.useState([]),L=P=>{$(I=>I.includes(P)?I.filter(R=>R!==P):[...I,P])};return c.jsx("div",{className:X["create-container"],children:c.jsxs("div",{className:X["profile-container"],children:[c.jsx(ct,{isShow:v.isShow,text:v.text}),c.jsx("div",{className:X["cover-container"],children:c.jsx("div",{className:X.cover,style:{background:p},children:c.jsx("div",{className:X["cover-pattern"]})})}),c.jsxs("div",{className:X["group-photo"],style:{borderColor:t.background_color,background:t.background_color},children:[c.jsx("button",{className:X["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:h?URL.createObjectURL(h):y.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:N})]}),c.jsx("div",{className:X["colors-container"],style:{background:t.element_first_color},children:E.map(P=>c.jsx(c.Fragment,{children:P.colors.map((I,R)=>c.jsx("div",{className:X["color-circle"],style:{background:I},onClick:()=>A(I),children:p===I&&c.jsx("div",{className:X["active-circle"],style:{borderColor:M(I)?"#0A0B10":"#fff"}})},R))}))}),c.jsxs("div",{className:X["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:X["input-data-container"],children:[c.jsx("div",{className:X.label,style:{color:t.text_first_color},children:"Название"}),c.jsx("input",{type:"text",value:o,className:X["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:P=>i(P.target.value)})]}),c.jsxs("div",{className:X["input-data-container"],children:[c.jsx("div",{className:X.label,style:{color:t.text_first_color},children:"Описание"}),c.jsx("input",{type:"text",value:a,className:X["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:P=>l(P.target.value)})]})]}),c.jsxs("div",{className:X["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:X["input-data-container"],children:[c.jsx("div",{className:X.label,style:{color:t.text_first_color},children:"Добавить участников"}),c.jsx("div",{className:X["members-container"],children:T.map(P=>{const I=O.includes(P.id);return c.jsx(Rm,{id:P.id,name:P.name,photo:P.photo,isSelect:I,onClick:()=>L(P.id)},P.id)})})]}),c.jsx("div",{className:X["button-container"],children:c.jsx("button",{className:X["quit-button"],style:{color:t.text_first_color,background:t.first_color},onClick:j,children:"Создать"})})]})]})})}const dQ=[{path:"/",exact:!0,component:c.jsx(s$,{}),auth:!1},{path:"/sign-up",exact:!1,component:c.jsx(l$,{}),auth:!1},{path:"/sign-in",exact:!1,component:c.jsx(Ok,{}),auth:!0},{path:"/resetpassword",exact:!0,component:c.jsx(jY,{}),banner:!0,auth:!1},{path:"/authresetpassword",exact:!0,component:c.jsx($Y,{}),banner:!0,auth:!0},{path:"/setnewpassword/*",exact:!1,component:c.jsx(RY,{}),banner:!0,auth:!1},{path:"/about",exact:!1,component:c.jsx(_B,{}),auth:!1},{path:"/menu",exact:!0,component:c.jsx(NB,{}),auth:!0},{path:"/messenger",exact:!0,component:c.jsx(nG,{}),auth:!0},{path:"/timetable/:id?",exact:!0,component:c.jsx(jG,{}),auth:!0},{path:"/list-menu",exact:!0,component:c.jsx(RG,{}),auth:!0},{path:"/posts",exact:!0,component:c.jsx(WG,{}),auth:!0},{path:"/post/:id?",exact:!0,component:c.jsx(wY,{}),auth:!0},{path:"/settings",exact:!0,component:c.jsx(XG,{}),auth:!0},{path:"/cashback",exact:!0,component:c.jsx(rK,{}),auth:!1},{path:"/shop",exact:!0,component:c.jsx(cK,{}),auth:!0},{path:"/casino",exact:!0,component:c.jsx(TK,{}),auth:!0},{path:"/updates",exact:!0,component:c.jsx(LK,{}),auth:!0},{path:"/download/:id?",exact:!1,component:c.jsx(VK,{}),auth:!0},{path:"/profile/:id?",exact:!1,component:c.jsx(ZK,{}),auth:!0},{path:"/game-menu",exact:!0,component:c.jsx(rZ,{}),auth:!0},{path:"/tapcoin",exact:!0,component:c.jsx(uZ,{}),auth:!0},{path:"/rocket",exact:!0,component:c.jsx(_Z,{}),auth:!0},{path:"/quiz/:mode?",exact:!1,component:c.jsx(AZ,{}),auth:!0},{path:"/search",exact:!0,component:c.jsx(UZ,{}),auth:!0},{path:"/test",exact:!0,component:c.jsx(sZ,{}),auth:!0},{path:"/group/:id?",exact:!1,component:c.jsx(KZ,{}),auth:!0},{path:"/subscribers/:id?",exact:!1,component:c.jsx(pY,{}),auth:!0},{path:"/group-list",exact:!1,component:c.jsx(YZ,{}),auth:!0},{path:"/create-group",exact:!1,component:c.jsx(eY,{}),auth:!0},{path:"/matrix",exact:!0,component:c.jsx(nY,{}),auth:!1},{path:"/flippybird",exact:!0,component:c.jsx(oY,{}),auth:!1},{path:"/rating",exact:!0,component:c.jsx(lY,{}),auth:!1},{path:"/guessline",exact:!0,component:c.jsx(vY,{}),auth:!1},{path:"/banner",exact:!0,component:c.jsx(EY,{}),banner:!0,auth:!1},{path:"/chats",exact:!0,component:c.jsx(HY,{}),banner:!0,auth:!1},{path:"/chat/:id?",exact:!0,component:c.jsx(cQ,{}),banner:!0,auth:!1},{path:"/create-chat/:id?",exact:!0,component:c.jsx(uQ,{}),banner:!0,auth:!1}],hQ="_heading_qnxvq_34",vl={"content-wrapper":"_content-wrapper_qnxvq_1","img-wrapper":"_img-wrapper_qnxvq_13","image-no-select":"_image-no-select_qnxvq_26",heading:hQ};function fQ(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B);return f.useEffect(()=>{n({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:"#/menu",isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[B]),c.jsxs("div",{className:vl.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsxs("div",{className:vl["content-wrapper"],style:{background:t.first_color},children:[c.jsxs("div",{className:vl["img-wrapper"],children:[c.jsx("div",{className:vl["image-no-select"]}),c.jsx("img",{src:"4.png"})]}),c.jsx("h3",{className:vl.heading,style:{color:t.text_first_color},children:"Страница не найдена"})]})]})}function mQ(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),{authUser:r}=ce(),[s,o]=f.useState(!1);return f.useEffect(()=>{const i=Lk.onAuthStateChanged(a=>{o(!0)});return()=>i()},[]),s?c.jsx(HI,{children:c.jsxs(BI,{children:[dQ.map(i=>c.jsx(eg,{path:i.path,element:i.auth&&!r?c.jsx(Ok,{}):i.component,exact:i.exact},i.path)),c.jsx(eg,{path:"*",element:c.jsx(fQ,{})})," "]})}):c.jsx(e4,{color:t.icon_color})}function pQ(){return c.jsx(r$,{children:c.jsx(mQ,{})})}const gQ="_header_oh6ql_1",yQ="_logo_container_oh6ql_14",_Q="_icon_oh6ql_22",vQ="_masked_oh6ql_28",wQ="_title_oh6ql_34",xQ="_show_oh6ql_41",CQ="_hide_oh6ql_51",To={header:gQ,logo_container:yQ,icon:_Q,masked:vQ,title:wQ,show:xQ,hide:CQ};function bQ(t){const{elementColors:e}=f.useContext(B);return e.isHeader?c.jsxs("div",{className:To.header,style:{background:e.isHeaderBackground?e.headerBackground:"transparent"},children:[c.jsxs("div",{className:To.logo_container,children:[c.jsxs("div",{className:To.icon,children:[c.jsx("div",{className:To.masked,style:{background:e.iconColor}}),c.jsx("svg",{width:"0",height:"0",children:c.jsx("clipPath",{id:"light",children:c.jsx("path",{d:"M9.54642 0.0769926C9.65318 0.14082 9.7358 0.240097 9.78078 0.358606C9.82576 0.477116 9.83043 0.607851 9.79404 0.729455L7.82939 7.31258H11.4543C11.5609 7.31254 11.6651 7.34466 11.7541 7.405C11.8431 7.46533 11.9131 7.55122 11.9553 7.65208C11.9975 7.75293 12.0102 7.86433 11.9917 7.97253C11.9733 8.08072 11.9245 8.18097 11.8514 8.2609L3.12447 17.8229C3.04003 17.9155 2.92766 17.9758 2.80569 17.9941C2.68371 18.0124 2.55932 17.9876 2.45279 17.9237C2.34625 17.8597 2.26386 17.7605 2.21904 17.6421C2.17421 17.5237 2.1696 17.3931 2.20596 17.2716L4.17061 10.6874H0.545652C0.439123 10.6874 0.334914 10.6553 0.245888 10.595C0.156862 10.5346 0.0869167 10.4487 0.044687 10.3479C0.00245728 10.247 -0.0102083 10.1356 0.00825369 10.0274C0.0267157 9.91925 0.0754969 9.819 0.148576 9.73907L8.87553 0.177112C8.95987 0.0846411 9.07206 0.0243103 9.19387 0.00592874C9.31567 -0.0124528 9.43992 0.0121961 9.54642 0.0758676V0.0769926Z"})})})]}),c.jsx("div",{className:To.title,style:{color:e.titleColor},children:"GENERY"})]}),c.jsx("a",{onClick:e.arrowLink,className:e.showArrow?To.show:To.hide,children:c.jsx("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M21 9C21.5523 9 22 8.55228 22 8C22 7.44772 21.5523 7 21 7L21 9ZM0.292893 7.2929C-0.0976311 7.68342 -0.097631 8.31658 0.292893 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928933C7.68054 0.538409 7.04738 0.538409 6.65685 0.928933L0.292893 7.2929ZM21 7L1 7L1 9L21 9L21 7Z",fill:e.titleColor})})})]}):null}const kQ="_footer_frqas_1",SQ="_item_frqas_14",Xh={footer:kQ,"item-body":"_item-body_frqas_14",item:SQ,"item-bg":"_item-bg_frqas_34"};function EQ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B);return c.jsx(Qe.div,{className:Xh["item-bg"],layoutId:"activeItem",style:{background:t.active_element_color}})}function TQ({icon:t,link:e,isActive:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=f.useContext(B);return c.jsxs(Qe.a,{className:Xh["item-body"],layout:!0,onMouseEnter:a=>{a.currentTarget.style.background=r.active_element_color},onMouseLeave:a=>{a.currentTarget.style.background="none"},href:e,children:[c.jsx("div",{className:Xh.item,children:t}),n&&c.jsx(EQ,{})]})}function IQ(){const{elementColors:t,theme:e}=f.useContext(B),n=[{icon:c.jsx("svg",{width:"26",height:"25",viewBox:"0 0 26 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M24.5 21.4781V12.988C24.5 12.3039 24.359 11.6269 24.0855 10.9982C23.812 10.3696 23.4118 9.80239 22.9092 9.3312L14.7608 1.69353C14.2858 1.24827 13.6557 1 13.0006 1C12.3455 1 11.7154 1.24827 11.2405 1.69353L3.09083 9.3312C2.58822 9.80239 2.188 10.3696 1.91452 10.9982C1.64103 11.6269 1.5 12.3039 1.5 12.988V21.4781C1.5 22.1469 1.76925 22.7884 2.2485 23.2613C2.72776 23.7343 3.37778 24 4.05556 24H21.9444C22.6222 24 23.2722 23.7343 23.7515 23.2613C24.2308 22.7884 24.5 22.1469 24.5 21.4781Z",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),link:"#/menu"},{icon:c.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M19.0976 18.396C20.6844 16.5982 21.6472 14.2366 21.6472 11.6501C21.6472 6.01758 17.0811 1.45151 11.4486 1.45151C5.81607 1.45151 1.25 6.01758 1.25 11.6501C1.25 17.2827 5.81607 21.8487 11.4486 21.8487C14.4947 21.8487 17.2288 20.5133 19.0976 18.396ZM19.0976 18.396L24.25 23.5485",stroke:e.text_first_color,"stroke-width":"2","stroke-linejoin":"round"})}),link:"#/search"},{icon:c.jsx("svg",{width:"26",height:"25",viewBox:"0 0 26 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.66667 7.38889H18.3333M7.66667 12.5H15.6667M14.3333 18.8889L7.66667 22.7222V18.8889H5C3.93913 18.8889 2.92172 18.485 2.17157 17.7661C1.42143 17.0472 1 16.0722 1 15.0556V4.83333C1 3.81667 1.42143 2.84165 2.17157 2.12276C2.92172 1.40387 3.93913 1 5 1H21C22.0609 1 23.0783 1.40387 23.8284 2.12276C24.5786 2.84165 25 3.81667 25 4.83333V11.8611M22.3333 16.3333L19.6667 20.1667H25L22.3333 24",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),link:"#/chats"},{icon:c.jsxs("svg",{width:"26",height:"27",viewBox:"0 0 26 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M16.8333 7.74997H16.8461M14.9167 24.3611H5.33333C4.31667 24.3611 3.34165 23.9572 2.62276 23.2383C1.90387 22.5194 1.5 21.5444 1.5 20.5278V5.19442C1.5 4.17775 1.90387 3.20273 2.62276 2.48384C3.34165 1.76495 4.31667 1.36108 5.33333 1.36108H20.6667C21.6833 1.36108 22.6584 1.76495 23.3772 2.48384C24.0961 3.20273 24.5 4.17775 24.5 5.19442V13.5",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M1.5 17.9721L7.88889 11.5832C9.07467 10.4422 10.5364 10.4422 11.7222 11.5832L16.8333 16.6944",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M15.5557 15.4167L16.8334 14.1389C17.6883 13.3173 18.6862 13.0873 19.619 13.4489M21.9446 17.9723L19.389 21.8056H24.5001L21.9446 25.6389",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),link:"#/posts"},{icon:c.jsxs("svg",{width:"26",height:"17",viewBox:"0 0 26 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M1 1.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M1 8.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M1 15.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"})]}),link:"#/list-menu"}];return t.isFooter&&c.jsx("div",{className:Xh.footer,style:{background:t.footerBackground},children:c.jsx(hq,{id:"footer",children:n.map((r,s)=>c.jsx(TQ,{icon:r.icon,link:r.link,isActive:s===t.activeElementIndex},s))})})}const NQ="_wrapper_u6s2n_1",jQ="_content_u6s2n_12",AC={wrapper:NQ,content:jQ};function AQ({children:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState(e.background_color);return f.useEffect(()=>{i(r.background)},[r]),c.jsxs(c.Fragment,{children:[c.jsx(bQ,{}),c.jsx("div",{className:AC.wrapper,children:c.jsx("div",{className:AC.content,children:t})}),c.jsx(IQ,{})]})}if("serviceWorker"in navigator){navigator.serviceWorker.register("/serviceworker.js",{scope:"/"}).then(e=>{console.log("Сервис-воркер зарегистрирован",e)}).catch(e=>{console.error("Ошибка при регистрации сервис-воркера:",e)});let t;window.addEventListener("beforeinstallprompt",e=>{console.log("Событие beforeinstallprompt поймано"),e.preventDefault(),t=e;const n=document.createElement("button");n.textContent="Установить приложение",n.className="install_button",document.body.appendChild(n);const r=document.createElement("div");r.innerHTML=`<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6.5 1.13605C6.5 0.583763 6.94772 0.136047 7.5 0.136047C8.05228 0.136047 8.5 0.583763 8.5 1.13605L6.5 1.13605ZM8.20711 14.5711C7.81658 14.9616 7.18342 14.9616 6.79289 14.5711L0.428932 8.20712C0.0384076 7.81659 0.0384076 7.18343 0.428932 6.7929C0.819456 6.40238 1.45262 6.40238 1.84315 6.7929L7.5 12.4498L13.1569 6.7929C13.5474 6.40238 14.1805 6.40238 14.5711 6.7929C14.9616 7.18343 14.9616 7.81659 14.5711 8.20712L8.20711 14.5711ZM8.5 1.13605L8.5 13.864L6.5 13.864L6.5 1.13605L8.5 1.13605Z" fill="#fff"/>
    </svg>`,r.className="circle",n.appendChild(r),n.addEventListener("click",()=>{t&&(t.prompt(),t.userChoice.then(s=>{s.outcome==="accepted"?console.log("Пользователь установил приложение"):(console.log("Пользователь отклонил установку"),navigateTo("/menu"))}).catch(s=>{console.error("Ошибка при установке приложения:",s)}),t=null)})})}else console.log("Service Worker не поддерживается в этом браузере.");YT.createRoot(document.getElementById("main")).render(c.jsx(Rn.StrictMode,{children:c.jsx(YI,{children:c.jsx(AQ,{children:c.jsx(pQ,{})})})}));
