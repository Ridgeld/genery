function Q6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var u5={exports:{}},Hh={},d5={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),Y6=Symbol.for("react.portal"),J6=Symbol.for("react.fragment"),eS=Symbol.for("react.strict_mode"),tS=Symbol.for("react.profiler"),nS=Symbol.for("react.provider"),rS=Symbol.for("react.context"),sS=Symbol.for("react.forward_ref"),oS=Symbol.for("react.suspense"),iS=Symbol.for("react.memo"),aS=Symbol.for("react.lazy"),cv=Symbol.iterator;function lS(t){return t===null||typeof t!="object"?null:(t=cv&&t[cv]||t["@@iterator"],typeof t=="function"?t:null)}var h5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f5=Object.assign,m5={};function Fa(t,e,n){this.props=t,this.context=e,this.refs=m5,this.updater=n||h5}Fa.prototype.isReactComponent={};Fa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p5(){}p5.prototype=Fa.prototype;function n0(t,e,n){this.props=t,this.context=e,this.refs=m5,this.updater=n||h5}var r0=n0.prototype=new p5;r0.constructor=n0;f5(r0,Fa.prototype);r0.isPureReactComponent=!0;var uv=Array.isArray,g5=Object.prototype.hasOwnProperty,s0={current:null},_5={key:!0,ref:!0,__self:!0,__source:!0};function y5(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)g5.call(e,r)&&!_5.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fc,type:t,key:o,ref:i,props:s,_owner:s0.current}}function cS(t,e){return{$$typeof:Fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function o0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fc}function uS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dv=/\/+/g;function Em(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uS(""+t.key):e.toString(36)}function od(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Fc:case Y6:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+Em(i,0):r,uv(s)?(n="",t!=null&&(n=t.replace(dv,"$&/")+"/"),od(s,e,n,"",function(u){return u})):s!=null&&(o0(s)&&(s=cS(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(dv,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",uv(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Em(o,a);i+=od(o,e,n,l,s)}else if(l=lS(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Em(o,a++),i+=od(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function vu(t,e,n){if(t==null)return t;var r=[],s=0;return od(t,r,"","",function(o){return e.call(n,o,s++)}),r}function dS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},id={transition:null},hS={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:id,ReactCurrentOwner:s0};function v5(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:vu,forEach:function(t,e,n){vu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vu(t,function(){e++}),e},toArray:function(t){return vu(t,function(e){return e})||[]},only:function(t){if(!o0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};we.Component=Fa;we.Fragment=J6;we.Profiler=tS;we.PureComponent=n0;we.StrictMode=eS;we.Suspense=oS;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hS;we.act=v5;we.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=f5({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=s0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)g5.call(e,l)&&!_5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fc,type:t.type,key:s,ref:o,props:r,_owner:i}};we.createContext=function(t){return t={$$typeof:rS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:nS,_context:t},t.Consumer=t};we.createElement=y5;we.createFactory=function(t){var e=y5.bind(null,t);return e.type=t,e};we.createRef=function(){return{current:null}};we.forwardRef=function(t){return{$$typeof:sS,render:t}};we.isValidElement=o0;we.lazy=function(t){return{$$typeof:aS,_payload:{_status:-1,_result:t},_init:dS}};we.memo=function(t,e){return{$$typeof:iS,type:t,compare:e===void 0?null:e}};we.startTransition=function(t){var e=id.transition;id.transition={};try{t()}finally{id.transition=e}};we.unstable_act=v5;we.useCallback=function(t,e){return ln.current.useCallback(t,e)};we.useContext=function(t){return ln.current.useContext(t)};we.useDebugValue=function(){};we.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};we.useEffect=function(t,e){return ln.current.useEffect(t,e)};we.useId=function(){return ln.current.useId()};we.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};we.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};we.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};we.useMemo=function(t,e){return ln.current.useMemo(t,e)};we.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};we.useRef=function(t){return ln.current.useRef(t)};we.useState=function(t){return ln.current.useState(t)};we.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};we.useTransition=function(){return ln.current.useTransition()};we.version="18.3.1";d5.exports=we;var f=d5.exports;const Rn=zh(f),fS=Q6({__proto__:null,default:Rn},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS=f,pS=Symbol.for("react.element"),gS=Symbol.for("react.fragment"),_S=Object.prototype.hasOwnProperty,yS=mS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vS={key:!0,ref:!0,__self:!0,__source:!0};function w5(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)_S.call(e,r)&&!vS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:pS,type:t,key:o,ref:i,props:s,_owner:yS.current}}Hh.Fragment=gS;Hh.jsx=w5;Hh.jsxs=w5;u5.exports=Hh;var c=u5.exports,x5={exports:{}},Bn={},C5={exports:{}},b5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,L){var D=N.length;N.push(L);e:for(;0<D;){var F=D-1>>>1,V=N[F];if(0<s(V,L))N[F]=L,N[D]=V,D=F;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var L=N[0],D=N.pop();if(D!==L){N[0]=D;e:for(var F=0,V=N.length,z=V>>>1;F<z;){var K=2*(F+1)-1,ue=N[K],ut=K+1,Ot=N[ut];if(0>s(ue,D))ut<V&&0>s(Ot,ue)?(N[F]=Ot,N[ut]=D,F=ut):(N[F]=ue,N[K]=D,F=K);else if(ut<V&&0>s(Ot,D))N[F]=Ot,N[ut]=D,F=ut;else break e}}return L}function s(N,L){var D=N.sortIndex-L.sortIndex;return D!==0?D:N.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,m=3,p=!1,_=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=N)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function b(N){if(v=!1,w(N),!_)if(n(l)!==null)_=!0,M(C);else{var L=n(u);L!==null&&j(b,L.startTime-N)}}function C(N,L){_=!1,v&&(v=!1,y(S),S=-1),p=!0;var D=m;try{for(w(L),h=n(l);h!==null&&(!(h.expirationTime>L)||N&&!R());){var F=h.callback;if(typeof F=="function"){h.callback=null,m=h.priorityLevel;var V=F(h.expirationTime<=L);L=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&r(l),w(L)}else r(l);h=n(l)}if(h!==null)var z=!0;else{var K=n(u);K!==null&&j(b,K.startTime-L),z=!1}return z}finally{h=null,m=D,p=!1}}var k=!1,T=null,S=-1,E=5,I=-1;function R(){return!(t.unstable_now()-I<E)}function P(){if(T!==null){var N=t.unstable_now();I=N;var L=!0;try{L=T(!0,N)}finally{L?O():(k=!1,T=null)}}else k=!1}var O;if(typeof g=="function")O=function(){g(P)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,$=A.port2;A.port1.onmessage=P,O=function(){$.postMessage(null)}}else O=function(){x(P,0)};function M(N){T=N,k||(k=!0,O())}function j(N,L){S=x(function(){N(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,M(C))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var D=m;m=L;try{return N()}finally{m=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,L){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var D=m;m=N;try{return L()}finally{m=D}},t.unstable_scheduleCallback=function(N,L,D){var F=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?F+D:F):D=F,N){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=D+V,N={id:d++,callback:L,priorityLevel:N,startTime:D,expirationTime:V,sortIndex:-1},D>F?(N.sortIndex=D,e(u,N),n(l)===null&&N===n(u)&&(v?(y(S),S=-1):v=!0,j(b,D-F))):(N.sortIndex=V,e(l,N),_||p||(_=!0,M(C))),N},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(N){var L=m;return function(){var D=m;m=L;try{return N.apply(this,arguments)}finally{m=D}}}})(b5);C5.exports=b5;var wS=C5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xS=f,On=wS;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k5=new Set,Xl={};function oi(t,e){ha(t,e),ha(t+"Capture",e)}function ha(t,e){for(Xl[t]=e,t=0;t<e.length;t++)k5.add(e[t])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yp=Object.prototype.hasOwnProperty,CS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hv={},fv={};function bS(t){return Yp.call(fv,t)?!0:Yp.call(hv,t)?!1:CS.test(t)?fv[t]=!0:(hv[t]=!0,!1)}function kS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SS(t,e,n,r){if(e===null||typeof e>"u"||kS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var i0=/[\-:]([a-z])/g;function a0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i0,a0);Rt[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i0,a0);Rt[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i0,a0);Rt[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function l0(t,e,n,r){var s=Rt.hasOwnProperty(e)?Rt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SS(e,n,s,r)&&(n=null),r||s===null?bS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ms=xS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wu=Symbol.for("react.element"),Li=Symbol.for("react.portal"),Ai=Symbol.for("react.fragment"),c0=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),S5=Symbol.for("react.provider"),E5=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),e1=Symbol.for("react.suspense"),t1=Symbol.for("react.suspense_list"),d0=Symbol.for("react.memo"),Ss=Symbol.for("react.lazy"),T5=Symbol.for("react.offscreen"),mv=Symbol.iterator;function Xa(t){return t===null||typeof t!="object"?null:(t=mv&&t[mv]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Tm;function gl(t){if(Tm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tm=e&&e[1]||""}return`
`+Tm+t}var Im=!1;function Nm(t,e){if(!t||Im)return"";Im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Im=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gl(t):""}function ES(t){switch(t.tag){case 5:return gl(t.type);case 16:return gl("Lazy");case 13:return gl("Suspense");case 19:return gl("SuspenseList");case 0:case 2:case 15:return t=Nm(t.type,!1),t;case 11:return t=Nm(t.type.render,!1),t;case 1:return t=Nm(t.type,!0),t;default:return""}}function n1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ai:return"Fragment";case Li:return"Portal";case Jp:return"Profiler";case c0:return"StrictMode";case e1:return"Suspense";case t1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E5:return(t.displayName||"Context")+".Consumer";case S5:return(t._context.displayName||"Context")+".Provider";case u0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case d0:return e=t.displayName||null,e!==null?e:n1(t.type)||"Memo";case Ss:e=t._payload,t=t._init;try{return n1(t(e))}catch{}}return null}function TS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return n1(e);case 8:return e===c0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IS(t){var e=I5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=IS(t))}function N5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=I5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function r1(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Js(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function j5(t,e){e=e.checked,e!=null&&l0(t,"checked",e,!1)}function s1(t,e){j5(t,e);var n=Js(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?o1(t,e.type,n):e.hasOwnProperty("defaultValue")&&o1(t,e.type,Js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function o1(t,e,n){(e!=="number"||Nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _l=Array.isArray;function Xi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Js(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function i1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _v(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(_l(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Js(n)}}function P5(t,e){var n=Js(e.value),r=Js(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function L5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?L5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cu,A5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cu=Cu||document.createElement("div"),Cu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NS=["Webkit","ms","Moz","O"];Object.keys(Nl).forEach(function(t){NS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nl[e]=Nl[t]})});function R5(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nl.hasOwnProperty(t)&&Nl[t]?(""+e).trim():e+"px"}function D5(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=R5(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var jS=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l1(t,e){if(e){if(jS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function c1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u1=null;function h0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var d1=null,Yi=null,Ji=null;function vv(t){if(t=Vc(t)){if(typeof d1!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Zh(e),d1(t.stateNode,t.type,e))}}function O5(t){Yi?Ji?Ji.push(t):Ji=[t]:Yi=t}function M5(){if(Yi){var t=Yi,e=Ji;if(Ji=Yi=null,vv(t),e)for(t=0;t<e.length;t++)vv(e[t])}}function $5(t,e){return t(e)}function F5(){}var jm=!1;function B5(t,e,n){if(jm)return t(e,n);jm=!0;try{return $5(t,e,n)}finally{jm=!1,(Yi!==null||Ji!==null)&&(F5(),M5())}}function Jl(t,e){var n=t.stateNode;if(n===null)return null;var r=Zh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var h1=!1;if(ns)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){h1=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{h1=!1}function PS(t,e,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var jl=!1,jd=null,Pd=!1,f1=null,LS={onError:function(t){jl=!0,jd=t}};function AS(t,e,n,r,s,o,i,a,l){jl=!1,jd=null,PS.apply(LS,arguments)}function RS(t,e,n,r,s,o,i,a,l){if(AS.apply(this,arguments),jl){if(jl){var u=jd;jl=!1,jd=null}else throw Error(q(198));Pd||(Pd=!0,f1=u)}}function ii(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function U5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wv(t){if(ii(t)!==t)throw Error(q(188))}function DS(t){var e=t.alternate;if(!e){if(e=ii(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return wv(s),t;if(o===r)return wv(s),e;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function V5(t){return t=DS(t),t!==null?z5(t):null}function z5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z5(t);if(e!==null)return e;t=t.sibling}return null}var H5=On.unstable_scheduleCallback,xv=On.unstable_cancelCallback,OS=On.unstable_shouldYield,MS=On.unstable_requestPaint,lt=On.unstable_now,$S=On.unstable_getCurrentPriorityLevel,f0=On.unstable_ImmediatePriority,q5=On.unstable_UserBlockingPriority,Ld=On.unstable_NormalPriority,FS=On.unstable_LowPriority,W5=On.unstable_IdlePriority,qh=null,Tr=null;function BS(t){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(qh,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:zS,US=Math.log,VS=Math.LN2;function zS(t){return t>>>=0,t===0?32:31-(US(t)/VS|0)|0}var bu=64,ku=4194304;function yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=yl(a):(o&=i,o!==0&&(r=yl(o)))}else i=n&~s,i!==0?r=yl(i):o!==0&&(r=yl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lr(e),s=1<<n,r|=t[n],e&=~s;return r}function HS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-lr(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=HS(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function m1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function G5(){var t=bu;return bu<<=1,!(bu&4194240)&&(bu=64),t}function Pm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lr(e),t[e]=n}function WS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-lr(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function m0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Te=0;function K5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Z5,p0,Q5,X5,Y5,p1=!1,Su=[],Bs=null,Us=null,Vs=null,ec=new Map,tc=new Map,Ns=[],GS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cv(t,e){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(e.pointerId)}}function Ja(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Vc(e),e!==null&&p0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function KS(t,e,n,r,s){switch(e){case"focusin":return Bs=Ja(Bs,t,e,n,r,s),!0;case"dragenter":return Us=Ja(Us,t,e,n,r,s),!0;case"mouseover":return Vs=Ja(Vs,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return ec.set(o,Ja(ec.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,tc.set(o,Ja(tc.get(o)||null,t,e,n,r,s)),!0}return!1}function J5(t){var e=Po(t.target);if(e!==null){var n=ii(e);if(n!==null){if(e=n.tag,e===13){if(e=U5(n),e!==null){t.blockedOn=e,Y5(t.priority,function(){Q5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ad(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=g1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);u1=r,n.target.dispatchEvent(r),u1=null}else return e=Vc(n),e!==null&&p0(e),t.blockedOn=n,!1;e.shift()}return!0}function bv(t,e,n){ad(t)&&n.delete(e)}function ZS(){p1=!1,Bs!==null&&ad(Bs)&&(Bs=null),Us!==null&&ad(Us)&&(Us=null),Vs!==null&&ad(Vs)&&(Vs=null),ec.forEach(bv),tc.forEach(bv)}function el(t,e){t.blockedOn===e&&(t.blockedOn=null,p1||(p1=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,ZS)))}function nc(t){function e(s){return el(s,t)}if(0<Su.length){el(Su[0],t);for(var n=1;n<Su.length;n++){var r=Su[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bs!==null&&el(Bs,t),Us!==null&&el(Us,t),Vs!==null&&el(Vs,t),ec.forEach(e),tc.forEach(e),n=0;n<Ns.length;n++)r=Ns[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ns.length&&(n=Ns[0],n.blockedOn===null);)J5(n),n.blockedOn===null&&Ns.shift()}var ea=ms.ReactCurrentBatchConfig,Rd=!0;function QS(t,e,n,r){var s=Te,o=ea.transition;ea.transition=null;try{Te=1,g0(t,e,n,r)}finally{Te=s,ea.transition=o}}function XS(t,e,n,r){var s=Te,o=ea.transition;ea.transition=null;try{Te=4,g0(t,e,n,r)}finally{Te=s,ea.transition=o}}function g0(t,e,n,r){if(Rd){var s=g1(t,e,n,r);if(s===null)Um(t,e,r,Dd,n),Cv(t,r);else if(KS(s,t,e,n,r))r.stopPropagation();else if(Cv(t,r),e&4&&-1<GS.indexOf(t)){for(;s!==null;){var o=Vc(s);if(o!==null&&Z5(o),o=g1(t,e,n,r),o===null&&Um(t,e,r,Dd,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Um(t,e,r,null,n)}}var Dd=null;function g1(t,e,n,r){if(Dd=null,t=h0(r),t=Po(t),t!==null)if(e=ii(t),e===null)t=null;else if(n=e.tag,n===13){if(t=U5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dd=t,null}function eC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($S()){case f0:return 1;case q5:return 4;case Ld:case FS:return 16;case W5:return 536870912;default:return 16}default:return 16}}var Os=null,_0=null,ld=null;function tC(){if(ld)return ld;var t,e=_0,n=e.length,r,s="value"in Os?Os.value:Os.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return ld=s.slice(t,1<r?1-r:void 0)}function cd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Eu(){return!0}function kv(){return!1}function Un(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Eu:kv,this.isPropagationStopped=kv,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Eu)},persist:function(){},isPersistent:Eu}),e}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y0=Un(Ba),Uc=Je({},Ba,{view:0,detail:0}),YS=Un(Uc),Lm,Am,tl,Wh=Je({},Uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:v0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tl&&(tl&&t.type==="mousemove"?(Lm=t.screenX-tl.screenX,Am=t.screenY-tl.screenY):Am=Lm=0,tl=t),Lm)},movementY:function(t){return"movementY"in t?t.movementY:Am}}),Sv=Un(Wh),JS=Je({},Wh,{dataTransfer:0}),eE=Un(JS),tE=Je({},Uc,{relatedTarget:0}),Rm=Un(tE),nE=Je({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),rE=Un(nE),sE=Je({},Ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oE=Un(sE),iE=Je({},Ba,{data:0}),Ev=Un(iE),aE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cE[t])?!!e[t]:!1}function v0(){return uE}var dE=Je({},Uc,{key:function(t){if(t.key){var e=aE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:v0,charCode:function(t){return t.type==="keypress"?cd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hE=Un(dE),fE=Je({},Wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tv=Un(fE),mE=Je({},Uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:v0}),pE=Un(mE),gE=Je({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),_E=Un(gE),yE=Je({},Wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vE=Un(yE),wE=[9,13,27,32],w0=ns&&"CompositionEvent"in window,Pl=null;ns&&"documentMode"in document&&(Pl=document.documentMode);var xE=ns&&"TextEvent"in window&&!Pl,nC=ns&&(!w0||Pl&&8<Pl&&11>=Pl),Iv=" ",Nv=!1;function rC(t,e){switch(t){case"keyup":return wE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ri=!1;function CE(t,e){switch(t){case"compositionend":return sC(e);case"keypress":return e.which!==32?null:(Nv=!0,Iv);case"textInput":return t=e.data,t===Iv&&Nv?null:t;default:return null}}function bE(t,e){if(Ri)return t==="compositionend"||!w0&&rC(t,e)?(t=tC(),ld=_0=Os=null,Ri=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nC&&e.locale!=="ko"?null:e.data;default:return null}}var kE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kE[t.type]:e==="textarea"}function oC(t,e,n,r){O5(r),e=Od(e,"onChange"),0<e.length&&(n=new y0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ll=null,rc=null;function SE(t){gC(t,0)}function Gh(t){var e=Mi(t);if(N5(e))return t}function EE(t,e){if(t==="change")return e}var iC=!1;if(ns){var Dm;if(ns){var Om="oninput"in document;if(!Om){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),Om=typeof Pv.oninput=="function"}Dm=Om}else Dm=!1;iC=Dm&&(!document.documentMode||9<document.documentMode)}function Lv(){Ll&&(Ll.detachEvent("onpropertychange",aC),rc=Ll=null)}function aC(t){if(t.propertyName==="value"&&Gh(rc)){var e=[];oC(e,rc,t,h0(t)),B5(SE,e)}}function TE(t,e,n){t==="focusin"?(Lv(),Ll=e,rc=n,Ll.attachEvent("onpropertychange",aC)):t==="focusout"&&Lv()}function IE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gh(rc)}function NE(t,e){if(t==="click")return Gh(e)}function jE(t,e){if(t==="input"||t==="change")return Gh(e)}function PE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:PE;function sc(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yp.call(e,s)||!ur(t[s],e[s]))return!1}return!0}function Av(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rv(t,e){var n=Av(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Av(n)}}function lC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cC(){for(var t=window,e=Nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nd(t.document)}return e}function x0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LE(t){var e=cC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lC(n.ownerDocument.documentElement,n)){if(r!==null&&x0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Rv(n,o);var i=Rv(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AE=ns&&"documentMode"in document&&11>=document.documentMode,Di=null,_1=null,Al=null,y1=!1;function Dv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;y1||Di==null||Di!==Nd(r)||(r=Di,"selectionStart"in r&&x0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Al&&sc(Al,r)||(Al=r,r=Od(_1,"onSelect"),0<r.length&&(e=new y0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Di)))}function Tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oi={animationend:Tu("Animation","AnimationEnd"),animationiteration:Tu("Animation","AnimationIteration"),animationstart:Tu("Animation","AnimationStart"),transitionend:Tu("Transition","TransitionEnd")},Mm={},uC={};ns&&(uC=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Kh(t){if(Mm[t])return Mm[t];if(!Oi[t])return t;var e=Oi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uC)return Mm[t]=e[n];return t}var dC=Kh("animationend"),hC=Kh("animationiteration"),fC=Kh("animationstart"),mC=Kh("transitionend"),pC=new Map,Ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(t,e){pC.set(t,e),oi(e,[t])}for(var $m=0;$m<Ov.length;$m++){var Fm=Ov[$m],RE=Fm.toLowerCase(),DE=Fm[0].toUpperCase()+Fm.slice(1);ao(RE,"on"+DE)}ao(dC,"onAnimationEnd");ao(hC,"onAnimationIteration");ao(fC,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(mC,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OE=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function Mv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RS(r,e,void 0,t),t.currentTarget=null}function gC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Mv(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Mv(s,a,u),o=l}}}if(Pd)throw t=f1,Pd=!1,f1=null,t}function Oe(t,e){var n=e[b1];n===void 0&&(n=e[b1]=new Set);var r=t+"__bubble";n.has(r)||(_C(e,t,2,!1),n.add(r))}function Bm(t,e,n){var r=0;e&&(r|=4),_C(n,t,r,e)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function oc(t){if(!t[Iu]){t[Iu]=!0,k5.forEach(function(n){n!=="selectionchange"&&(OE.has(n)||Bm(n,!1,t),Bm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Iu]||(e[Iu]=!0,Bm("selectionchange",!1,e))}}function _C(t,e,n,r){switch(eC(e)){case 1:var s=QS;break;case 4:s=XS;break;default:s=g0}n=s.bind(null,e,n,t),s=void 0,!h1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Um(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Po(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}B5(function(){var u=o,d=h0(n),h=[];e:{var m=pC.get(t);if(m!==void 0){var p=y0,_=t;switch(t){case"keypress":if(cd(n)===0)break e;case"keydown":case"keyup":p=hE;break;case"focusin":_="focus",p=Rm;break;case"focusout":_="blur",p=Rm;break;case"beforeblur":case"afterblur":p=Rm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Sv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pE;break;case dC:case hC:case fC:p=rE;break;case mC:p=_E;break;case"scroll":p=YS;break;case"wheel":p=vE;break;case"copy":case"cut":case"paste":p=oE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Tv}var v=(e&4)!==0,x=!v&&t==="scroll",y=v?m!==null?m+"Capture":null:m;v=[];for(var g=u,w;g!==null;){w=g;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,y!==null&&(b=Jl(g,y),b!=null&&v.push(ic(g,b,w)))),x)break;g=g.return}0<v.length&&(m=new p(m,_,null,n,d),h.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==u1&&(_=n.relatedTarget||n.fromElement)&&(Po(_)||_[rs]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Po(_):null,_!==null&&(x=ii(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(v=Sv,b="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=Tv,b="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?m:Mi(p),w=_==null?m:Mi(_),m=new v(b,g+"leave",p,n,d),m.target=x,m.relatedTarget=w,b=null,Po(d)===u&&(v=new v(y,g+"enter",_,n,d),v.target=w,v.relatedTarget=x,b=v),x=b,p&&_)t:{for(v=p,y=_,g=0,w=v;w;w=xi(w))g++;for(w=0,b=y;b;b=xi(b))w++;for(;0<g-w;)v=xi(v),g--;for(;0<w-g;)y=xi(y),w--;for(;g--;){if(v===y||y!==null&&v===y.alternate)break t;v=xi(v),y=xi(y)}v=null}else v=null;p!==null&&$v(h,m,p,v,!1),_!==null&&x!==null&&$v(h,x,_,v,!0)}}e:{if(m=u?Mi(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var C=EE;else if(jv(m))if(iC)C=jE;else{C=IE;var k=TE}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=NE);if(C&&(C=C(t,u))){oC(h,C,n,d);break e}k&&k(t,m,u),t==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&o1(m,"number",m.value)}switch(k=u?Mi(u):window,t){case"focusin":(jv(k)||k.contentEditable==="true")&&(Di=k,_1=u,Al=null);break;case"focusout":Al=_1=Di=null;break;case"mousedown":y1=!0;break;case"contextmenu":case"mouseup":case"dragend":y1=!1,Dv(h,n,d);break;case"selectionchange":if(AE)break;case"keydown":case"keyup":Dv(h,n,d)}var T;if(w0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ri?rC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(nC&&n.locale!=="ko"&&(Ri||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ri&&(T=tC()):(Os=d,_0="value"in Os?Os.value:Os.textContent,Ri=!0)),k=Od(u,S),0<k.length&&(S=new Ev(S,t,null,n,d),h.push({event:S,listeners:k}),T?S.data=T:(T=sC(n),T!==null&&(S.data=T)))),(T=xE?CE(t,n):bE(t,n))&&(u=Od(u,"onBeforeInput"),0<u.length&&(d=new Ev("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}gC(h,e)})}function ic(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Od(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Jl(t,n),o!=null&&r.unshift(ic(t,o,s)),o=Jl(t,e),o!=null&&r.push(ic(t,o,s))),t=t.return}return r}function xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $v(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Jl(n,o),l!=null&&i.unshift(ic(n,l,a))):s||(l=Jl(n,o),l!=null&&i.push(ic(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var ME=/\r\n?/g,$E=/\u0000|\uFFFD/g;function Fv(t){return(typeof t=="string"?t:""+t).replace(ME,`
`).replace($E,"")}function Nu(t,e,n){if(e=Fv(e),Fv(t)!==e&&n)throw Error(q(425))}function Md(){}var v1=null,w1=null;function x1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var C1=typeof setTimeout=="function"?setTimeout:void 0,FE=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(UE)}:C1;function UE(t){setTimeout(function(){throw t})}function Vm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),nc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);nc(e)}function zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Ua,ac="__reactProps$"+Ua,rs="__reactContainer$"+Ua,b1="__reactEvents$"+Ua,VE="__reactListeners$"+Ua,zE="__reactHandles$"+Ua;function Po(t){var e=t[Cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rs]||n[Cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uv(t);t!==null;){if(n=t[Cr])return n;t=Uv(t)}return e}t=n,n=t.parentNode}return null}function Vc(t){return t=t[Cr]||t[rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Zh(t){return t[ac]||null}var k1=[],$i=-1;function lo(t){return{current:t}}function Fe(t){0>$i||(t.current=k1[$i],k1[$i]=null,$i--)}function De(t,e){$i++,k1[$i]=t.current,t.current=e}var eo={},Jt=lo(eo),yn=lo(!1),qo=eo;function fa(t,e){var n=t.type.contextTypes;if(!n)return eo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function vn(t){return t=t.childContextTypes,t!=null}function $d(){Fe(yn),Fe(Jt)}function Vv(t,e,n){if(Jt.current!==eo)throw Error(q(168));De(Jt,e),De(yn,n)}function yC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,TS(t)||"Unknown",s));return Je({},n,r)}function Fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||eo,qo=Jt.current,De(Jt,t),De(yn,yn.current),!0}function zv(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=yC(t,e,qo),r.__reactInternalMemoizedMergedChildContext=t,Fe(yn),Fe(Jt),De(Jt,t)):Fe(yn),De(yn,n)}var Ur=null,Qh=!1,zm=!1;function vC(t){Ur===null?Ur=[t]:Ur.push(t)}function HE(t){Qh=!0,vC(t)}function co(){if(!zm&&Ur!==null){zm=!0;var t=0,e=Te;try{var n=Ur;for(Te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ur=null,Qh=!1}catch(s){throw Ur!==null&&(Ur=Ur.slice(t+1)),H5(f0,co),s}finally{Te=e,zm=!1}}return null}var Fi=[],Bi=0,Bd=null,Ud=0,qn=[],Wn=0,Wo=null,Hr=1,qr="";function ko(t,e){Fi[Bi++]=Ud,Fi[Bi++]=Bd,Bd=t,Ud=e}function wC(t,e,n){qn[Wn++]=Hr,qn[Wn++]=qr,qn[Wn++]=Wo,Wo=t;var r=Hr;t=qr;var s=32-lr(r)-1;r&=~(1<<s),n+=1;var o=32-lr(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Hr=1<<32-lr(e)+s|n<<s|r,qr=o+t}else Hr=1<<o|n<<s|r,qr=t}function C0(t){t.return!==null&&(ko(t,1),wC(t,1,0))}function b0(t){for(;t===Bd;)Bd=Fi[--Bi],Fi[Bi]=null,Ud=Fi[--Bi],Fi[Bi]=null;for(;t===Wo;)Wo=qn[--Wn],qn[Wn]=null,qr=qn[--Wn],qn[Wn]=null,Hr=qn[--Wn],qn[Wn]=null}var Dn=null,Pn=null,qe=!1,ir=null;function xC(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,Pn=zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wo!==null?{id:Hr,overflow:qr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,Pn=null,!0):!1;default:return!1}}function S1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function E1(t){if(qe){var e=Pn;if(e){var n=e;if(!Hv(t,e)){if(S1(t))throw Error(q(418));e=zs(n.nextSibling);var r=Dn;e&&Hv(t,e)?xC(r,n):(t.flags=t.flags&-4097|2,qe=!1,Dn=t)}}else{if(S1(t))throw Error(q(418));t.flags=t.flags&-4097|2,qe=!1,Dn=t}}}function qv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function ju(t){if(t!==Dn)return!1;if(!qe)return qv(t),qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!x1(t.type,t.memoizedProps)),e&&(e=Pn)){if(S1(t))throw CC(),Error(q(418));for(;e;)xC(t,e),e=zs(e.nextSibling)}if(qv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=Dn?zs(t.stateNode.nextSibling):null;return!0}function CC(){for(var t=Pn;t;)t=zs(t.nextSibling)}function ma(){Pn=Dn=null,qe=!1}function k0(t){ir===null?ir=[t]:ir.push(t)}var qE=ms.ReactCurrentBatchConfig;function nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wv(t){var e=t._init;return e(t._payload)}function bC(t){function e(y,g){if(t){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function s(y,g){return y=Gs(y,g),y.index=0,y.sibling=null,y}function o(y,g,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function i(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,w,b){return g===null||g.tag!==6?(g=Qm(w,y.mode,b),g.return=y,g):(g=s(g,w),g.return=y,g)}function l(y,g,w,b){var C=w.type;return C===Ai?d(y,g,w.props.children,b,w.key):g!==null&&(g.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ss&&Wv(C)===g.type)?(b=s(g,w.props),b.ref=nl(y,g,w),b.return=y,b):(b=gd(w.type,w.key,w.props,null,y.mode,b),b.ref=nl(y,g,w),b.return=y,b)}function u(y,g,w,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Xm(w,y.mode,b),g.return=y,g):(g=s(g,w.children||[]),g.return=y,g)}function d(y,g,w,b,C){return g===null||g.tag!==7?(g=Fo(w,y.mode,b,C),g.return=y,g):(g=s(g,w),g.return=y,g)}function h(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Qm(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wu:return w=gd(g.type,g.key,g.props,null,y.mode,w),w.ref=nl(y,null,g),w.return=y,w;case Li:return g=Xm(g,y.mode,w),g.return=y,g;case Ss:var b=g._init;return h(y,b(g._payload),w)}if(_l(g)||Xa(g))return g=Fo(g,y.mode,w,null),g.return=y,g;Pu(y,g)}return null}function m(y,g,w,b){var C=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return C!==null?null:a(y,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wu:return w.key===C?l(y,g,w,b):null;case Li:return w.key===C?u(y,g,w,b):null;case Ss:return C=w._init,m(y,g,C(w._payload),b)}if(_l(w)||Xa(w))return C!==null?null:d(y,g,w,b,null);Pu(y,w)}return null}function p(y,g,w,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(w)||null,a(g,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case wu:return y=y.get(b.key===null?w:b.key)||null,l(g,y,b,C);case Li:return y=y.get(b.key===null?w:b.key)||null,u(g,y,b,C);case Ss:var k=b._init;return p(y,g,w,k(b._payload),C)}if(_l(b)||Xa(b))return y=y.get(w)||null,d(g,y,b,C,null);Pu(g,b)}return null}function _(y,g,w,b){for(var C=null,k=null,T=g,S=g=0,E=null;T!==null&&S<w.length;S++){T.index>S?(E=T,T=null):E=T.sibling;var I=m(y,T,w[S],b);if(I===null){T===null&&(T=E);break}t&&T&&I.alternate===null&&e(y,T),g=o(I,g,S),k===null?C=I:k.sibling=I,k=I,T=E}if(S===w.length)return n(y,T),qe&&ko(y,S),C;if(T===null){for(;S<w.length;S++)T=h(y,w[S],b),T!==null&&(g=o(T,g,S),k===null?C=T:k.sibling=T,k=T);return qe&&ko(y,S),C}for(T=r(y,T);S<w.length;S++)E=p(T,y,S,w[S],b),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?S:E.key),g=o(E,g,S),k===null?C=E:k.sibling=E,k=E);return t&&T.forEach(function(R){return e(y,R)}),qe&&ko(y,S),C}function v(y,g,w,b){var C=Xa(w);if(typeof C!="function")throw Error(q(150));if(w=C.call(w),w==null)throw Error(q(151));for(var k=C=null,T=g,S=g=0,E=null,I=w.next();T!==null&&!I.done;S++,I=w.next()){T.index>S?(E=T,T=null):E=T.sibling;var R=m(y,T,I.value,b);if(R===null){T===null&&(T=E);break}t&&T&&R.alternate===null&&e(y,T),g=o(R,g,S),k===null?C=R:k.sibling=R,k=R,T=E}if(I.done)return n(y,T),qe&&ko(y,S),C;if(T===null){for(;!I.done;S++,I=w.next())I=h(y,I.value,b),I!==null&&(g=o(I,g,S),k===null?C=I:k.sibling=I,k=I);return qe&&ko(y,S),C}for(T=r(y,T);!I.done;S++,I=w.next())I=p(T,y,S,I.value,b),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?S:I.key),g=o(I,g,S),k===null?C=I:k.sibling=I,k=I);return t&&T.forEach(function(P){return e(y,P)}),qe&&ko(y,S),C}function x(y,g,w,b){if(typeof w=="object"&&w!==null&&w.type===Ai&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wu:e:{for(var C=w.key,k=g;k!==null;){if(k.key===C){if(C=w.type,C===Ai){if(k.tag===7){n(y,k.sibling),g=s(k,w.props.children),g.return=y,y=g;break e}}else if(k.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ss&&Wv(C)===k.type){n(y,k.sibling),g=s(k,w.props),g.ref=nl(y,k,w),g.return=y,y=g;break e}n(y,k);break}else e(y,k);k=k.sibling}w.type===Ai?(g=Fo(w.props.children,y.mode,b,w.key),g.return=y,y=g):(b=gd(w.type,w.key,w.props,null,y.mode,b),b.ref=nl(y,g,w),b.return=y,y=b)}return i(y);case Li:e:{for(k=w.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=s(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Xm(w,y.mode,b),g.return=y,y=g}return i(y);case Ss:return k=w._init,x(y,g,k(w._payload),b)}if(_l(w))return _(y,g,w,b);if(Xa(w))return v(y,g,w,b);Pu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=s(g,w),g.return=y,y=g):(n(y,g),g=Qm(w,y.mode,b),g.return=y,y=g),i(y)):n(y,g)}return x}var pa=bC(!0),kC=bC(!1),Vd=lo(null),zd=null,Ui=null,S0=null;function E0(){S0=Ui=zd=null}function T0(t){var e=Vd.current;Fe(Vd),t._currentValue=e}function T1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ta(t,e){zd=t,S0=Ui=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_n=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(S0!==t)if(t={context:t,memoizedValue:e,next:null},Ui===null){if(zd===null)throw Error(q(308));Ui=t,zd.dependencies={lanes:0,firstContext:t}}else Ui=Ui.next=t;return e}var Lo=null;function I0(t){Lo===null?Lo=[t]:Lo.push(t)}function SC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,I0(e)):(n.next=s.next,s.next=n),e.interleaved=n,ss(t,r)}function ss(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Es=!1;function N0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Hs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ss(t,n)}return s=r.interleaved,s===null?(e.next=e,I0(r)):(e.next=s.next,s.next=e),r.interleaved=e,ss(t,n)}function ud(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m0(t,n)}}function Gv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hd(t,e,n,r){var s=t.updateQueue;Es=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var m=a.lane,p=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,v=a;switch(m=e,p=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){h=_.call(p,h,m);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,m=typeof _=="function"?_.call(p,h,m):_,m==null)break e;h=Je({},h,m);break e;case 2:Es=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,i|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ko|=i,t.lanes=i,t.memoizedState=h}}function Kv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var zc={},Ir=lo(zc),lc=lo(zc),cc=lo(zc);function Ao(t){if(t===zc)throw Error(q(174));return t}function j0(t,e){switch(De(cc,e),De(lc,t),De(Ir,zc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:a1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=a1(e,t)}Fe(Ir),De(Ir,e)}function ga(){Fe(Ir),Fe(lc),Fe(cc)}function TC(t){Ao(cc.current);var e=Ao(Ir.current),n=a1(e,t.type);e!==n&&(De(lc,t),De(Ir,n))}function P0(t){lc.current===t&&(Fe(Ir),Fe(lc))}var Qe=lo(0);function qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hm=[];function L0(){for(var t=0;t<Hm.length;t++)Hm[t]._workInProgressVersionPrimary=null;Hm.length=0}var dd=ms.ReactCurrentDispatcher,qm=ms.ReactCurrentBatchConfig,Go=0,Ye=null,_t=null,bt=null,Wd=!1,Rl=!1,uc=0,WE=0;function Mt(){throw Error(q(321))}function A0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function R0(t,e,n,r,s,o){if(Go=o,Ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dd.current=t===null||t.memoizedState===null?QE:XE,t=n(r,s),Rl){o=0;do{if(Rl=!1,uc=0,25<=o)throw Error(q(301));o+=1,bt=_t=null,e.updateQueue=null,dd.current=YE,t=n(r,s)}while(Rl)}if(dd.current=Gd,e=_t!==null&&_t.next!==null,Go=0,bt=_t=Ye=null,Wd=!1,e)throw Error(q(300));return t}function D0(){var t=uc!==0;return uc=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ye.memoizedState=bt=t:bt=bt.next=t,bt}function Yn(){if(_t===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=bt===null?Ye.memoizedState:bt.next;if(e!==null)bt=e,_t=t;else{if(t===null)throw Error(q(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},bt===null?Ye.memoizedState=bt=t:bt=bt.next=t}return bt}function dc(t,e){return typeof e=="function"?e(t):e}function Wm(t){var e=Yn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=_t,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((Go&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,Ye.lanes|=d,Ko|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,ur(r,e.memoizedState)||(_n=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Ye.lanes|=o,Ko|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gm(t){var e=Yn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);ur(o,e.memoizedState)||(_n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function IC(){}function NC(t,e){var n=Ye,r=Yn(),s=e(),o=!ur(r.memoizedState,s);if(o&&(r.memoizedState=s,_n=!0),r=r.queue,O0(LC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||bt!==null&&bt.memoizedState.tag&1){if(n.flags|=2048,hc(9,PC.bind(null,n,r,s,e),void 0,null),kt===null)throw Error(q(349));Go&30||jC(n,e,s)}return s}function jC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PC(t,e,n,r){e.value=n,e.getSnapshot=r,AC(e)&&RC(t)}function LC(t,e,n){return n(function(){AC(e)&&RC(t)})}function AC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function RC(t){var e=ss(t,1);e!==null&&cr(e,t,1,-1)}function Zv(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:t},e.queue=t,t=t.dispatch=ZE.bind(null,Ye,t),[e.memoizedState,t]}function hc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ye.updateQueue,e===null?(e={lastEffect:null,stores:null},Ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DC(){return Yn().memoizedState}function hd(t,e,n,r){var s=xr();Ye.flags|=t,s.memoizedState=hc(1|e,n,void 0,r===void 0?null:r)}function Xh(t,e,n,r){var s=Yn();r=r===void 0?null:r;var o=void 0;if(_t!==null){var i=_t.memoizedState;if(o=i.destroy,r!==null&&A0(r,i.deps)){s.memoizedState=hc(e,n,o,r);return}}Ye.flags|=t,s.memoizedState=hc(1|e,n,o,r)}function Qv(t,e){return hd(8390656,8,t,e)}function O0(t,e){return Xh(2048,8,t,e)}function OC(t,e){return Xh(4,2,t,e)}function MC(t,e){return Xh(4,4,t,e)}function $C(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FC(t,e,n){return n=n!=null?n.concat([t]):null,Xh(4,4,$C.bind(null,e,t),n)}function M0(){}function BC(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UC(t,e){var n=Yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VC(t,e,n){return Go&21?(ur(n,e)||(n=G5(),Ye.lanes|=n,Ko|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_n=!0),t.memoizedState=n)}function GE(t,e){var n=Te;Te=n!==0&&4>n?n:4,t(!0);var r=qm.transition;qm.transition={};try{t(!1),e()}finally{Te=n,qm.transition=r}}function zC(){return Yn().memoizedState}function KE(t,e,n){var r=Ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HC(t))qC(e,n);else if(n=SC(t,e,n,r),n!==null){var s=an();cr(n,t,r,s),WC(n,e,r)}}function ZE(t,e,n){var r=Ws(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HC(t))qC(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,ur(a,i)){var l=e.interleaved;l===null?(s.next=s,I0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=SC(t,e,s,r),n!==null&&(s=an(),cr(n,t,r,s),WC(n,e,r))}}function HC(t){var e=t.alternate;return t===Ye||e!==null&&e===Ye}function qC(t,e){Rl=Wd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m0(t,n)}}var Gd={readContext:Xn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},QE={readContext:Xn,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:Qv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hd(4194308,4,$C.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return hd(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KE.bind(null,Ye,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:Zv,useDebugValue:M0,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=Zv(!1),e=t[0];return t=GE.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ye,s=xr();if(qe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),kt===null)throw Error(q(349));Go&30||jC(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Qv(LC.bind(null,r,o,t),[t]),r.flags|=2048,hc(9,PC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xr(),e=kt.identifierPrefix;if(qe){var n=qr,r=Hr;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},XE={readContext:Xn,useCallback:BC,useContext:Xn,useEffect:O0,useImperativeHandle:FC,useInsertionEffect:OC,useLayoutEffect:MC,useMemo:UC,useReducer:Wm,useRef:DC,useState:function(){return Wm(dc)},useDebugValue:M0,useDeferredValue:function(t){var e=Yn();return VC(e,_t.memoizedState,t)},useTransition:function(){var t=Wm(dc)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:IC,useSyncExternalStore:NC,useId:zC,unstable_isNewReconciler:!1},YE={readContext:Xn,useCallback:BC,useContext:Xn,useEffect:O0,useImperativeHandle:FC,useInsertionEffect:OC,useLayoutEffect:MC,useMemo:UC,useReducer:Gm,useRef:DC,useState:function(){return Gm(dc)},useDebugValue:M0,useDeferredValue:function(t){var e=Yn();return _t===null?e.memoizedState=t:VC(e,_t.memoizedState,t)},useTransition:function(){var t=Gm(dc)[0],e=Yn().memoizedState;return[t,e]},useMutableSource:IC,useSyncExternalStore:NC,useId:zC,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function I1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yh={isMounted:function(t){return(t=t._reactInternals)?ii(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ws(t),o=Qr(r,s);o.payload=e,n!=null&&(o.callback=n),e=Hs(t,o,s),e!==null&&(cr(e,t,s,r),ud(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ws(t),o=Qr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Hs(t,o,s),e!==null&&(cr(e,t,s,r),ud(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Ws(t),s=Qr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Hs(t,s,r),e!==null&&(cr(e,t,r,n),ud(e,t,r))}};function Xv(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!sc(n,r)||!sc(s,o):!0}function GC(t,e,n){var r=!1,s=eo,o=e.contextType;return typeof o=="object"&&o!==null?o=Xn(o):(s=vn(e)?qo:Jt.current,r=e.contextTypes,o=(r=r!=null)?fa(t,s):eo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Yv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function N1(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},N0(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Xn(o):(o=vn(e)?qo:Jt.current,s.context=fa(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(I1(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yh.enqueueReplaceState(s,s.state,null),Hd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function _a(t,e){try{var n="",r=e;do n+=ES(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function j1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JE=typeof WeakMap=="function"?WeakMap:Map;function KC(t,e,n){n=Qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zd||(Zd=!0,B1=r),j1(t,e)},n}function ZC(t,e,n){n=Qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){j1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){j1(t,e),typeof r!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Jv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JE;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=fT.bind(null,t,e,n),e.then(t,t))}function e2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t2(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qr(-1,1),e.tag=2,Hs(n,e,1))),n.lanes|=1),t)}var eT=ms.ReactCurrentOwner,_n=!1;function sn(t,e,n,r){e.child=t===null?kC(e,null,n,r):pa(e,t.child,n,r)}function n2(t,e,n,r,s){n=n.render;var o=e.ref;return ta(e,s),r=R0(t,e,n,r,o,s),n=D0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,os(t,e,s)):(qe&&n&&C0(e),e.flags|=1,sn(t,e,r,s),e.child)}function r2(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!q0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,QC(t,e,o,r,s)):(t=gd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:sc,n(i,r)&&t.ref===e.ref)return os(t,e,s)}return e.flags|=1,t=Gs(o,r),t.ref=e.ref,t.return=e,e.child=t}function QC(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(sc(o,r)&&t.ref===e.ref)if(_n=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(_n=!0);else return e.lanes=t.lanes,os(t,e,s)}return P1(t,e,n,r,s)}function XC(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(zi,jn),jn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(zi,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,De(zi,jn),jn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,De(zi,jn),jn|=r;return sn(t,e,s,n),e.child}function YC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function P1(t,e,n,r,s){var o=vn(n)?qo:Jt.current;return o=fa(e,o),ta(e,s),n=R0(t,e,n,r,o,s),r=D0(),t!==null&&!_n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,os(t,e,s)):(qe&&r&&C0(e),e.flags|=1,sn(t,e,n,s),e.child)}function s2(t,e,n,r,s){if(vn(n)){var o=!0;Fd(e)}else o=!1;if(ta(e,s),e.stateNode===null)fd(t,e),GC(e,n,r),N1(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xn(u):(u=vn(n)?qo:Jt.current,u=fa(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Yv(e,i,r,u),Es=!1;var m=e.memoizedState;i.state=m,Hd(e,r,i,s),l=e.memoizedState,a!==r||m!==l||yn.current||Es?(typeof d=="function"&&(I1(e,n,d,r),l=e.memoizedState),(a=Es||Xv(e,n,a,r,m,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,EC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:sr(e.type,a),i.props=u,h=e.pendingProps,m=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=vn(n)?qo:Jt.current,l=fa(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||m!==l)&&Yv(e,i,r,l),Es=!1,m=e.memoizedState,i.state=m,Hd(e,r,i,s);var _=e.memoizedState;a!==h||m!==_||yn.current||Es?(typeof p=="function"&&(I1(e,n,p,r),_=e.memoizedState),(u=Es||Xv(e,n,u,r,m,_,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,_,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,_,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),i.props=r,i.state=_,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return L1(t,e,n,r,o,s)}function L1(t,e,n,r,s,o){YC(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&zv(e,n,!1),os(t,e,o);r=e.stateNode,eT.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=pa(e,t.child,null,o),e.child=pa(e,null,a,o)):sn(t,e,a,o),e.memoizedState=r.state,s&&zv(e,n,!0),e.child}function JC(t){var e=t.stateNode;e.pendingContext?Vv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vv(t,e.context,!1),j0(t,e.containerInfo)}function o2(t,e,n,r,s){return ma(),k0(s),e.flags|=256,sn(t,e,n,r),e.child}var A1={dehydrated:null,treeContext:null,retryLane:0};function R1(t){return{baseLanes:t,cachePool:null,transitions:null}}function eb(t,e,n){var r=e.pendingProps,s=Qe.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),De(Qe,s&1),t===null)return E1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=tf(i,r,0,null),t=Fo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=R1(n),e.memoizedState=A1,t):$0(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return tT(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Gs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Gs(a,o):(o=Fo(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?R1(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=A1,r}return o=t.child,t=o.sibling,r=Gs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $0(t,e){return e=tf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lu(t,e,n,r){return r!==null&&k0(r),pa(e,t.child,null,n),t=$0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tT(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Km(Error(q(422))),Lu(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=tf({mode:"visible",children:r.children},s,0,null),o=Fo(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&pa(e,t.child,null,i),e.child.memoizedState=R1(i),e.memoizedState=A1,o);if(!(e.mode&1))return Lu(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(q(419)),r=Km(o,r,void 0),Lu(t,e,i,r)}if(a=(i&t.childLanes)!==0,_n||a){if(r=kt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ss(t,s),cr(r,t,s,-1))}return H0(),r=Km(Error(q(421))),Lu(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=mT.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Pn=zs(s.nextSibling),Dn=e,qe=!0,ir=null,t!==null&&(qn[Wn++]=Hr,qn[Wn++]=qr,qn[Wn++]=Wo,Hr=t.id,qr=t.overflow,Wo=e),e=$0(e,r.children),e.flags|=4096,e)}function i2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),T1(t.return,e,n)}function Zm(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function tb(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(sn(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i2(t,n,e);else if(t.tag===19)i2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zm(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zm(e,!0,n,null,o);break;case"together":Zm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function os(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ko|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=Gs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nT(t,e,n){switch(e.tag){case 3:JC(e),ma();break;case 5:TC(e);break;case 1:vn(e.type)&&Fd(e);break;case 4:j0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;De(Vd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?eb(t,e,n):(De(Qe,Qe.current&1),t=os(t,e,n),t!==null?t.sibling:null);De(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tb(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),De(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,XC(t,e,n)}return os(t,e,n)}var nb,D1,rb,sb;nb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D1=function(){};rb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ao(Ir.current);var o=null;switch(n){case"input":s=r1(t,s),r=r1(t,r),o=[];break;case"select":s=Je({},s,{value:void 0}),r=Je({},r,{value:void 0}),o=[];break;case"textarea":s=i1(t,s),r=i1(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Md)}l1(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Xl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};sb=function(t,e,n,r){n!==r&&(e.flags|=4)};function rl(t,e){if(!qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rT(t,e,n){var r=e.pendingProps;switch(b0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return vn(e.type)&&$d(),$t(e),null;case 3:return r=e.stateNode,ga(),Fe(yn),Fe(Jt),L0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ir!==null&&(z1(ir),ir=null))),D1(t,e),$t(e),null;case 5:P0(e);var s=Ao(cc.current);if(n=e.type,t!==null&&e.stateNode!=null)rb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return $t(e),null}if(t=Ao(Ir.current),ju(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Cr]=e,r[ac]=o,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<vl.length;s++)Oe(vl[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":pv(r,o),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Oe("invalid",r);break;case"textarea":_v(r,o),Oe("invalid",r)}l1(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Nu(r.textContent,a,t),s=["children",""+a]):Xl.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Oe("scroll",r)}switch(n){case"input":xu(r),gv(r,o,!0);break;case"textarea":xu(r),yv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Md)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=L5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Cr]=e,t[ac]=r,nb(t,e,!1,!1),e.stateNode=t;e:{switch(i=c1(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),s=r;break;case"iframe":case"object":case"embed":Oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<vl.length;s++)Oe(vl[s],t);s=r;break;case"source":Oe("error",t),s=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=r;break;case"details":Oe("toggle",t),s=r;break;case"input":pv(t,r),s=r1(t,r),Oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Je({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":_v(t,r),s=i1(t,r),Oe("invalid",t);break;default:s=r}l1(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?D5(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&A5(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yl(t,l):typeof l=="number"&&Yl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Oe("scroll",t):l!=null&&l0(t,o,l,i))}switch(n){case"input":xu(t),gv(t,r,!1);break;case"textarea":xu(t),yv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Js(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Xi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Xi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)sb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Ao(cc.current),Ao(Ir.current),ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cr]=e,(o=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:Nu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cr]=e,e.stateNode=r}return $t(e),null;case 13:if(Fe(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&Pn!==null&&e.mode&1&&!(e.flags&128))CC(),ma(),e.flags|=98560,o=!1;else if(o=ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[Cr]=e}else ma(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),o=!1}else ir!==null&&(z1(ir),ir=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?wt===0&&(wt=3):H0())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return ga(),D1(t,e),t===null&&oc(e.stateNode.containerInfo),$t(e),null;case 10:return T0(e.type._context),$t(e),null;case 17:return vn(e.type)&&$d(),$t(e),null;case 19:if(Fe(Qe),o=e.memoizedState,o===null)return $t(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)rl(o,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=qd(t),i!==null){for(e.flags|=128,rl(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Qe,Qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&lt()>ya&&(e.flags|=128,r=!0,rl(o,!1),e.lanes=4194304)}else{if(!r)if(t=qd(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!qe)return $t(e),null}else 2*lt()-o.renderingStartTime>ya&&n!==1073741824&&(e.flags|=128,r=!0,rl(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=lt(),e.sibling=null,n=Qe.current,De(Qe,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return z0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function sT(t,e){switch(b0(e),e.tag){case 1:return vn(e.type)&&$d(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),Fe(yn),Fe(Jt),L0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return P0(e),null;case 13:if(Fe(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));ma()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Fe(Qe),null;case 4:return ga(),null;case 10:return T0(e.type._context),null;case 22:case 23:return z0(),null;case 24:return null;default:return null}}var Au=!1,zt=!1,oT=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Vi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function O1(t,e,n){try{n()}catch(r){st(t,e,r)}}var a2=!1;function iT(t,e){if(v1=Rd,t=cC(),x0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++u===s&&(a=i),m===o&&++d===r&&(l=i),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(w1={focusedElem:t,selectionRange:n},Rd=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,x=_.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:sr(e.type,v),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(b){st(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return _=a2,a2=!1,_}function Dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&O1(e,n,o)}s=s.next}while(s!==r)}}function Jh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function M1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ob(t){var e=t.alternate;e!==null&&(t.alternate=null,ob(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cr],delete e[ac],delete e[b1],delete e[VE],delete e[zE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ib(t){return t.tag===5||t.tag===3||t.tag===4}function l2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ib(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Md));else if(r!==4&&(t=t.child,t!==null))for($1(t,e,n),t=t.sibling;t!==null;)$1(t,e,n),t=t.sibling}function F1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(F1(t,e,n),t=t.sibling;t!==null;)F1(t,e,n),t=t.sibling}var Tt=null,or=!1;function _s(t,e,n){for(n=n.child;n!==null;)ab(t,e,n),n=n.sibling}function ab(t,e,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(qh,n)}catch{}switch(n.tag){case 5:zt||Vi(n,e);case 6:var r=Tt,s=or;Tt=null,_s(t,e,n),Tt=r,or=s,Tt!==null&&(or?(t=Tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tt.removeChild(n.stateNode));break;case 18:Tt!==null&&(or?(t=Tt,n=n.stateNode,t.nodeType===8?Vm(t.parentNode,n):t.nodeType===1&&Vm(t,n),nc(t)):Vm(Tt,n.stateNode));break;case 4:r=Tt,s=or,Tt=n.stateNode.containerInfo,or=!0,_s(t,e,n),Tt=r,or=s;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&O1(n,e,i),s=s.next}while(s!==r)}_s(t,e,n);break;case 1:if(!zt&&(Vi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}_s(t,e,n);break;case 21:_s(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,_s(t,e,n),zt=r):_s(t,e,n);break;default:_s(t,e,n)}}function c2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oT),e.forEach(function(r){var s=pT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Tt=a.stateNode,or=!1;break e;case 3:Tt=a.stateNode.containerInfo,or=!0;break e;case 4:Tt=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(Tt===null)throw Error(q(160));ab(o,i,s),Tt=null,or=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){st(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lb(e,t),e=e.sibling}function lb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tr(e,t),gr(t),r&4){try{Dl(3,t,t.return),Jh(3,t)}catch(v){st(t,t.return,v)}try{Dl(5,t,t.return)}catch(v){st(t,t.return,v)}}break;case 1:tr(e,t),gr(t),r&512&&n!==null&&Vi(n,n.return);break;case 5:if(tr(e,t),gr(t),r&512&&n!==null&&Vi(n,n.return),t.flags&32){var s=t.stateNode;try{Yl(s,"")}catch(v){st(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&j5(s,o),c1(a,i);var u=c1(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?D5(s,h):d==="dangerouslySetInnerHTML"?A5(s,h):d==="children"?Yl(s,h):l0(s,d,h,u)}switch(a){case"input":s1(s,o);break;case"textarea":P5(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Xi(s,!!o.multiple,p,!1):m!==!!o.multiple&&(o.defaultValue!=null?Xi(s,!!o.multiple,o.defaultValue,!0):Xi(s,!!o.multiple,o.multiple?[]:"",!1))}s[ac]=o}catch(v){st(t,t.return,v)}}break;case 6:if(tr(e,t),gr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(v){st(t,t.return,v)}}break;case 3:if(tr(e,t),gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nc(e.containerInfo)}catch(v){st(t,t.return,v)}break;case 4:tr(e,t),gr(t);break;case 13:tr(e,t),gr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(U0=lt())),r&4&&c2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(u=zt)||d,tr(e,t),zt=u):tr(e,t),gr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(h=ee=d;ee!==null;){switch(m=ee,p=m.child,m.tag){case 0:case 11:case 14:case 15:Dl(4,m,m.return);break;case 1:Vi(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(v){st(r,n,v)}}break;case 5:Vi(m,m.return);break;case 22:if(m.memoizedState!==null){d2(h);continue}}p!==null?(p.return=m,ee=p):d2(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=R5("display",i))}catch(v){st(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){st(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tr(e,t),gr(t),r&4&&c2(t);break;case 21:break;default:tr(e,t),gr(t)}}function gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ib(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yl(s,""),r.flags&=-33);var o=l2(t);F1(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=l2(t);$1(t,a,i);break;default:throw Error(q(161))}}catch(l){st(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aT(t,e,n){ee=t,cb(t)}function cb(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Au;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||zt;a=Au;var u=zt;if(Au=i,(zt=l)&&!u)for(ee=s;ee!==null;)i=ee,l=i.child,i.tag===22&&i.memoizedState!==null?h2(s):l!==null?(l.return=i,ee=l):h2(s);for(;o!==null;)ee=o,cb(o),o=o.sibling;ee=s,Au=a,zt=u}u2(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ee=o):u2(t)}}function u2(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||Jh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Kv(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kv(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&nc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}zt||e.flags&512&&M1(e)}catch(m){st(e,e.return,m)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function d2(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function h2(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jh(4,e)}catch(l){st(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){st(e,s,l)}}var o=e.return;try{M1(e)}catch(l){st(e,o,l)}break;case 5:var i=e.return;try{M1(e)}catch(l){st(e,i,l)}}}catch(l){st(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var lT=Math.ceil,Kd=ms.ReactCurrentDispatcher,F0=ms.ReactCurrentOwner,Zn=ms.ReactCurrentBatchConfig,be=0,kt=null,ft=null,Lt=0,jn=0,zi=lo(0),wt=0,fc=null,Ko=0,ef=0,B0=0,Ol=null,mn=null,U0=0,ya=1/0,Br=null,Zd=!1,B1=null,qs=null,Ru=!1,Ms=null,Qd=0,Ml=0,U1=null,md=-1,pd=0;function an(){return be&6?lt():md!==-1?md:md=lt()}function Ws(t){return t.mode&1?be&2&&Lt!==0?Lt&-Lt:qE.transition!==null?(pd===0&&(pd=G5()),pd):(t=Te,t!==0||(t=window.event,t=t===void 0?16:eC(t.type)),t):1}function cr(t,e,n,r){if(50<Ml)throw Ml=0,U1=null,Error(q(185));Bc(t,n,r),(!(be&2)||t!==kt)&&(t===kt&&(!(be&2)&&(ef|=n),wt===4&&js(t,Lt)),wn(t,r),n===1&&be===0&&!(e.mode&1)&&(ya=lt()+500,Qh&&co()))}function wn(t,e){var n=t.callbackNode;qS(t,e);var r=Ad(t,t===kt?Lt:0);if(r===0)n!==null&&xv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xv(n),e===1)t.tag===0?HE(f2.bind(null,t)):vC(f2.bind(null,t)),BE(function(){!(be&6)&&co()}),n=null;else{switch(K5(r)){case 1:n=f0;break;case 4:n=q5;break;case 16:n=Ld;break;case 536870912:n=W5;break;default:n=Ld}n=_b(n,ub.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ub(t,e){if(md=-1,pd=0,be&6)throw Error(q(327));var n=t.callbackNode;if(na()&&t.callbackNode!==n)return null;var r=Ad(t,t===kt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xd(t,r);else{e=r;var s=be;be|=2;var o=hb();(kt!==t||Lt!==e)&&(Br=null,ya=lt()+500,$o(t,e));do try{dT();break}catch(a){db(t,a)}while(!0);E0(),Kd.current=o,be=s,ft!==null?e=0:(kt=null,Lt=0,e=wt)}if(e!==0){if(e===2&&(s=m1(t),s!==0&&(r=s,e=V1(t,s))),e===1)throw n=fc,$o(t,0),js(t,r),wn(t,lt()),n;if(e===6)js(t,r);else{if(s=t.current.alternate,!(r&30)&&!cT(s)&&(e=Xd(t,r),e===2&&(o=m1(t),o!==0&&(r=o,e=V1(t,o))),e===1))throw n=fc,$o(t,0),js(t,r),wn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:So(t,mn,Br);break;case 3:if(js(t,r),(r&130023424)===r&&(e=U0+500-lt(),10<e)){if(Ad(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=C1(So.bind(null,t,mn,Br),e);break}So(t,mn,Br);break;case 4:if(js(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-lr(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lT(r/1960))-r,10<r){t.timeoutHandle=C1(So.bind(null,t,mn,Br),r);break}So(t,mn,Br);break;case 5:So(t,mn,Br);break;default:throw Error(q(329))}}}return wn(t,lt()),t.callbackNode===n?ub.bind(null,t):null}function V1(t,e){var n=Ol;return t.current.memoizedState.isDehydrated&&($o(t,e).flags|=256),t=Xd(t,e),t!==2&&(e=mn,mn=n,e!==null&&z1(e)),t}function z1(t){mn===null?mn=t:mn.push.apply(mn,t)}function cT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!ur(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function js(t,e){for(e&=~B0,e&=~ef,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lr(e),r=1<<n;t[n]=-1,e&=~r}}function f2(t){if(be&6)throw Error(q(327));na();var e=Ad(t,0);if(!(e&1))return wn(t,lt()),null;var n=Xd(t,e);if(t.tag!==0&&n===2){var r=m1(t);r!==0&&(e=r,n=V1(t,r))}if(n===1)throw n=fc,$o(t,0),js(t,e),wn(t,lt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,So(t,mn,Br),wn(t,lt()),null}function V0(t,e){var n=be;be|=1;try{return t(e)}finally{be=n,be===0&&(ya=lt()+500,Qh&&co())}}function Zo(t){Ms!==null&&Ms.tag===0&&!(be&6)&&na();var e=be;be|=1;var n=Zn.transition,r=Te;try{if(Zn.transition=null,Te=1,t)return t()}finally{Te=r,Zn.transition=n,be=e,!(be&6)&&co()}}function z0(){jn=zi.current,Fe(zi)}function $o(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FE(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(b0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$d();break;case 3:ga(),Fe(yn),Fe(Jt),L0();break;case 5:P0(r);break;case 4:ga();break;case 13:Fe(Qe);break;case 19:Fe(Qe);break;case 10:T0(r.type._context);break;case 22:case 23:z0()}n=n.return}if(kt=t,ft=t=Gs(t.current,null),Lt=jn=e,wt=0,fc=null,B0=ef=Ko=0,mn=Ol=null,Lo!==null){for(e=0;e<Lo.length;e++)if(n=Lo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Lo=null}return t}function db(t,e){do{var n=ft;try{if(E0(),dd.current=Gd,Wd){for(var r=Ye.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wd=!1}if(Go=0,bt=_t=Ye=null,Rl=!1,uc=0,F0.current=null,n===null||n.return===null){wt=1,fc=e,ft=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=Lt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=e2(i);if(p!==null){p.flags&=-257,t2(p,i,a,o,e),p.mode&1&&Jv(o,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var v=new Set;v.add(l),e.updateQueue=v}else _.add(l);break e}else{if(!(e&1)){Jv(o,u,e),H0();break e}l=Error(q(426))}}else if(qe&&a.mode&1){var x=e2(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),t2(x,i,a,o,e),k0(_a(l,a));break e}}o=l=_a(l,a),wt!==4&&(wt=2),Ol===null?Ol=[o]:Ol.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=KC(o,l,e);Gv(o,y);break e;case 1:a=l;var g=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qs===null||!qs.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var b=ZC(o,a,e);Gv(o,b);break e}}o=o.return}while(o!==null)}mb(n)}catch(C){e=C,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function hb(){var t=Kd.current;return Kd.current=Gd,t===null?Gd:t}function H0(){(wt===0||wt===3||wt===2)&&(wt=4),kt===null||!(Ko&268435455)&&!(ef&268435455)||js(kt,Lt)}function Xd(t,e){var n=be;be|=2;var r=hb();(kt!==t||Lt!==e)&&(Br=null,$o(t,e));do try{uT();break}catch(s){db(t,s)}while(!0);if(E0(),be=n,Kd.current=r,ft!==null)throw Error(q(261));return kt=null,Lt=0,wt}function uT(){for(;ft!==null;)fb(ft)}function dT(){for(;ft!==null&&!OS();)fb(ft)}function fb(t){var e=gb(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?mb(t):ft=e,F0.current=null}function mb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sT(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ft=null;return}}else if(n=rT(n,e,jn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);wt===0&&(wt=5)}function So(t,e,n){var r=Te,s=Zn.transition;try{Zn.transition=null,Te=1,hT(t,e,n,r)}finally{Zn.transition=s,Te=r}return null}function hT(t,e,n,r){do na();while(Ms!==null);if(be&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(WS(t,o),t===kt&&(ft=kt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ru||(Ru=!0,_b(Ld,function(){return na(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zn.transition,Zn.transition=null;var i=Te;Te=1;var a=be;be|=4,F0.current=null,iT(t,n),lb(n,t),LE(w1),Rd=!!v1,w1=v1=null,t.current=n,aT(n),MS(),be=a,Te=i,Zn.transition=o}else t.current=n;if(Ru&&(Ru=!1,Ms=t,Qd=s),o=t.pendingLanes,o===0&&(qs=null),BS(n.stateNode),wn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zd)throw Zd=!1,t=B1,B1=null,t;return Qd&1&&t.tag!==0&&na(),o=t.pendingLanes,o&1?t===U1?Ml++:(Ml=0,U1=t):Ml=0,co(),null}function na(){if(Ms!==null){var t=K5(Qd),e=Zn.transition,n=Te;try{if(Zn.transition=null,Te=16>t?16:t,Ms===null)var r=!1;else{if(t=Ms,Ms=null,Qd=0,be&6)throw Error(q(331));var s=be;for(be|=4,ee=t.current;ee!==null;){var o=ee,i=o.child;if(ee.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Dl(8,d,o)}var h=d.child;if(h!==null)h.return=d,ee=h;else for(;ee!==null;){d=ee;var m=d.sibling,p=d.return;if(ob(d),d===u){ee=null;break}if(m!==null){m.return=p,ee=m;break}ee=p}}}var _=o.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ee=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ee=i;else e:for(;ee!==null;){if(o=ee,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Dl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,ee=y;break e}ee=o.return}}var g=t.current;for(ee=g;ee!==null;){i=ee;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ee=w;else e:for(i=g;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jh(9,a)}}catch(C){st(a,a.return,C)}if(a===i){ee=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,ee=b;break e}ee=a.return}}if(be=s,co(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(qh,t)}catch{}r=!0}return r}finally{Te=n,Zn.transition=e}}return!1}function m2(t,e,n){e=_a(n,e),e=KC(t,e,1),t=Hs(t,e,1),e=an(),t!==null&&(Bc(t,1,e),wn(t,e))}function st(t,e,n){if(t.tag===3)m2(t,t,n);else for(;e!==null;){if(e.tag===3){m2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qs===null||!qs.has(r))){t=_a(n,t),t=ZC(e,t,1),e=Hs(e,t,1),t=an(),e!==null&&(Bc(e,1,t),wn(e,t));break}}e=e.return}}function fT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Lt&n)===n&&(wt===4||wt===3&&(Lt&130023424)===Lt&&500>lt()-U0?$o(t,0):B0|=n),wn(t,e)}function pb(t,e){e===0&&(t.mode&1?(e=ku,ku<<=1,!(ku&130023424)&&(ku=4194304)):e=1);var n=an();t=ss(t,e),t!==null&&(Bc(t,e,n),wn(t,n))}function mT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pb(t,n)}function pT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),pb(t,n)}var gb;gb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)_n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _n=!1,nT(t,e,n);_n=!!(t.flags&131072)}else _n=!1,qe&&e.flags&1048576&&wC(e,Ud,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fd(t,e),t=e.pendingProps;var s=fa(e,Jt.current);ta(e,n),s=R0(null,e,r,t,s,n);var o=D0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(r)?(o=!0,Fd(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,N0(e),s.updater=Yh,e.stateNode=s,s._reactInternals=e,N1(e,r,t,n),e=L1(null,e,r,!0,o,n)):(e.tag=0,qe&&o&&C0(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=_T(r),t=sr(r,t),s){case 0:e=P1(null,e,r,t,n);break e;case 1:e=s2(null,e,r,t,n);break e;case 11:e=n2(null,e,r,t,n);break e;case 14:e=r2(null,e,r,sr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),P1(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),s2(t,e,r,s,n);case 3:e:{if(JC(e),t===null)throw Error(q(387));r=e.pendingProps,o=e.memoizedState,s=o.element,EC(t,e),Hd(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=_a(Error(q(423)),e),e=o2(t,e,r,n,s);break e}else if(r!==s){s=_a(Error(q(424)),e),e=o2(t,e,r,n,s);break e}else for(Pn=zs(e.stateNode.containerInfo.firstChild),Dn=e,qe=!0,ir=null,n=kC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ma(),r===s){e=os(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return TC(e),t===null&&E1(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,x1(r,s)?i=null:o!==null&&x1(r,o)&&(e.flags|=32),YC(t,e),sn(t,e,i,n),e.child;case 6:return t===null&&E1(e),null;case 13:return eb(t,e,n);case 4:return j0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pa(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),n2(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,De(Vd,r._currentValue),r._currentValue=i,o!==null)if(ur(o.value,i)){if(o.children===s.children&&!yn.current){e=os(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Qr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),T1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(q(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),T1(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ta(e,n),s=Xn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=sr(r,e.pendingProps),s=sr(r.type,s),r2(t,e,r,s,n);case 15:return QC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:sr(r,s),fd(t,e),e.tag=1,vn(r)?(t=!0,Fd(e)):t=!1,ta(e,n),GC(e,r,s),N1(e,r,s,n),L1(null,e,r,!0,t,n);case 19:return tb(t,e,n);case 22:return XC(t,e,n)}throw Error(q(156,e.tag))};function _b(t,e){return H5(t,e)}function gT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new gT(t,e,n,r)}function q0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _T(t){if(typeof t=="function")return q0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===u0)return 11;if(t===d0)return 14}return 2}function Gs(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gd(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")q0(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Ai:return Fo(n.children,s,o,e);case c0:i=8,s|=8;break;case Jp:return t=Kn(12,n,e,s|2),t.elementType=Jp,t.lanes=o,t;case e1:return t=Kn(13,n,e,s),t.elementType=e1,t.lanes=o,t;case t1:return t=Kn(19,n,e,s),t.elementType=t1,t.lanes=o,t;case T5:return tf(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S5:i=10;break e;case E5:i=9;break e;case u0:i=11;break e;case d0:i=14;break e;case Ss:i=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Kn(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Fo(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function tf(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=T5,t.lanes=n,t.stateNode={isHidden:!1},t}function Qm(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function Xm(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function yT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pm(0),this.expirationTimes=Pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function W0(t,e,n,r,s,o,i,a,l){return t=new yT(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Kn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},N0(o),t}function vT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Li,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yb(t){if(!t)return eo;t=t._reactInternals;e:{if(ii(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(vn(n))return yC(t,n,e)}return e}function vb(t,e,n,r,s,o,i,a,l){return t=W0(n,r,!0,t,s,o,i,a,l),t.context=yb(null),n=t.current,r=an(),s=Ws(n),o=Qr(r,s),o.callback=e??null,Hs(n,o,s),t.current.lanes=s,Bc(t,s,r),wn(t,r),t}function nf(t,e,n,r){var s=e.current,o=an(),i=Ws(s);return n=yb(n),e.context===null?e.context=n:e.pendingContext=n,e=Qr(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Hs(s,e,i),t!==null&&(cr(t,s,i,o),ud(t,s,i)),i}function Yd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function p2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function G0(t,e){p2(t,e),(t=t.alternate)&&p2(t,e)}function wT(){return null}var wb=typeof reportError=="function"?reportError:function(t){console.error(t)};function K0(t){this._internalRoot=t}rf.prototype.render=K0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));nf(t,e,null,null)};rf.prototype.unmount=K0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zo(function(){nf(null,t,null,null)}),e[rs]=null}};function rf(t){this._internalRoot=t}rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=X5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ns.length&&e!==0&&e<Ns[n].priority;n++);Ns.splice(n,0,t),n===0&&J5(t)}};function Z0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g2(){}function xT(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Yd(i);o.call(u)}}var i=vb(e,r,t,0,null,!1,!1,"",g2);return t._reactRootContainer=i,t[rs]=i.current,oc(t.nodeType===8?t.parentNode:t),Zo(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Yd(l);a.call(u)}}var l=W0(t,0,!1,null,null,!1,!1,"",g2);return t._reactRootContainer=l,t[rs]=l.current,oc(t.nodeType===8?t.parentNode:t),Zo(function(){nf(e,l,n,r)}),l}function of(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Yd(i);a.call(l)}}nf(e,i,t,s)}else i=xT(n,e,t,s,r);return Yd(i)}Z5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yl(e.pendingLanes);n!==0&&(m0(e,n|1),wn(e,lt()),!(be&6)&&(ya=lt()+500,co()))}break;case 13:Zo(function(){var r=ss(t,1);if(r!==null){var s=an();cr(r,t,1,s)}}),G0(t,1)}};p0=function(t){if(t.tag===13){var e=ss(t,134217728);if(e!==null){var n=an();cr(e,t,134217728,n)}G0(t,134217728)}};Q5=function(t){if(t.tag===13){var e=Ws(t),n=ss(t,e);if(n!==null){var r=an();cr(n,t,e,r)}G0(t,e)}};X5=function(){return Te};Y5=function(t,e){var n=Te;try{return Te=t,e()}finally{Te=n}};d1=function(t,e,n){switch(e){case"input":if(s1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Zh(r);if(!s)throw Error(q(90));N5(r),s1(r,s)}}}break;case"textarea":P5(t,n);break;case"select":e=n.value,e!=null&&Xi(t,!!n.multiple,e,!1)}};$5=V0;F5=Zo;var CT={usingClientEntryPoint:!1,Events:[Vc,Mi,Zh,O5,M5,V0]},sl={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bT={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ms.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=V5(t),t===null?null:t.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||wT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{qh=Du.inject(bT),Tr=Du}catch{}}Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CT;Bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z0(e))throw Error(q(200));return vT(t,e,null,n)};Bn.createRoot=function(t,e){if(!Z0(t))throw Error(q(299));var n=!1,r="",s=wb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=W0(t,1,!1,null,null,n,!1,r,s),t[rs]=e.current,oc(t.nodeType===8?t.parentNode:t),new K0(e)};Bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=V5(e),t=t===null?null:t.stateNode,t};Bn.flushSync=function(t){return Zo(t)};Bn.hydrate=function(t,e,n){if(!sf(e))throw Error(q(200));return of(null,t,e,!0,n)};Bn.hydrateRoot=function(t,e,n){if(!Z0(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=wb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=vb(e,null,t,1,n??null,s,!1,o,i),t[rs]=e.current,oc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new rf(e)};Bn.render=function(t,e,n){if(!sf(e))throw Error(q(200));return of(null,t,e,!1,n)};Bn.unmountComponentAtNode=function(t){if(!sf(t))throw Error(q(40));return t._reactRootContainer?(Zo(function(){of(null,null,t,!1,function(){t._reactRootContainer=null,t[rs]=null})}),!0):!1};Bn.unstable_batchedUpdates=V0;Bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sf(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return of(t,e,n,!1,r)};Bn.version="18.3.1-next-f1338f8080-20240426";function xb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xb)}catch(t){console.error(t)}}xb(),x5.exports=Bn;var kT=x5.exports;const ST=zh(kT);/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}var $s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($s||($s={}));const _2="popstate";function ET(t){t===void 0&&(t={});function e(s,o){let{pathname:i="/",search:a="",hash:l=""}=ai(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),H1("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Cb(o))}function r(s,o){Q0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return IT(e,n,r,t)}function xt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Q0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TT(){return Math.random().toString(36).substr(2,8)}function y2(t,e){return{usr:t.state,key:t.key,idx:e}}function H1(t,e,n,r){return n===void 0&&(n=null),mc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ai(e):e,{state:n,key:e&&e.key||r||TT()})}function Cb(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function IT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=$s.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(mc({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=$s.Pop;let x=d(),y=x==null?null:x-u;u=x,l&&l({action:a,location:v.location,delta:y})}function m(x,y){a=$s.Push;let g=H1(v.location,x,y);n&&n(g,x),u=d()+1;let w=y2(g,u),b=v.createHref(g);try{i.pushState(w,"",b)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(b)}o&&l&&l({action:a,location:v.location,delta:1})}function p(x,y){a=$s.Replace;let g=H1(v.location,x,y);n&&n(g,x),u=d();let w=y2(g,u),b=v.createHref(g);i.replaceState(w,"",b),o&&l&&l({action:a,location:v.location,delta:0})}function _(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof x=="string"?x:Cb(x);return g=g.replace(/ $/,"%20"),xt(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let v={get action(){return a},get location(){return t(s,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(_2,h),l=x,()=>{s.removeEventListener(_2,h),l=null}},createHref(x){return e(s,x)},createURL:_,encodeLocation(x){let y=_(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:p,go(x){return i.go(x)}};return v}var v2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(v2||(v2={}));function NT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ai(e):e,s=Sb(r.pathname||"/",n);if(s==null)return null;let o=bb(t);jT(o);let i=null;for(let a=0;i==null&&a<o.length;++a){let l=VT(s);i=FT(o[a],l)}return i}function bb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(xt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Bo([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(xt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bb(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:MT(u,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of kb(o.path))s(o,i,l)}),e}function kb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=kb(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function jT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$T(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PT=/^:[\w-]+$/,LT=3,AT=2,RT=1,DT=10,OT=-2,w2=t=>t==="*";function MT(t,e){let n=t.split("/"),r=n.length;return n.some(w2)&&(r+=OT),e&&(r+=AT),n.filter(s=>!w2(s)).reduce((s,o)=>s+(PT.test(o)?LT:o===""?RT:DT),r)}function $T(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function FT(t,e){let{routesMeta:n}=t,r={},s="/",o=[];for(let i=0;i<n.length;++i){let a=n[i],l=i===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=BT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;o.push({params:r,pathname:Bo([s,d.pathname]),pathnameBase:KT(Bo([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Bo([s,d.pathnameBase]))}return o}function BT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let v=a[h]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const _=a[h];return p&&!_?u[m]=void 0:u[m]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function UT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Q0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function VT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Q0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Sb(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ai(t):t;return{pathname:n?n.startsWith("/")?n:HT(n,e):e,search:ZT(r),hash:QT(s)}}function HT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ym(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WT(t,e){let n=qT(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function GT(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ai(t):(s=mc({},t),xt(!s.pathname||!s.pathname.includes("?"),Ym("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),Ym("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),Ym("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=zT(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Bo=t=>t.join("/").replace(/\/\/+/g,"/"),KT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Eb=["post","put","patch","delete"];new Set(Eb);const YT=["get",...Eb];new Set(YT);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}const X0=f.createContext(null),JT=f.createContext(null),af=f.createContext(null),lf=f.createContext(null),li=f.createContext({outlet:null,matches:[],isDataRoute:!1}),Tb=f.createContext(null);function cf(){return f.useContext(lf)!=null}function uf(){return cf()||xt(!1),f.useContext(lf).location}function Ib(t){f.useContext(af).static||f.useLayoutEffect(t)}function ie(){let{isDataRoute:t}=f.useContext(li);return t?hI():eI()}function eI(){cf()||xt(!1);let t=f.useContext(X0),{basename:e,future:n,navigator:r}=f.useContext(af),{matches:s}=f.useContext(li),{pathname:o}=uf(),i=JSON.stringify(WT(s,n.v7_relativeSplatPath)),a=f.useRef(!1);return Ib(()=>{a.current=!0}),f.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=GT(u,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Bo([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,i,o,t])}function Vn(){let{matches:t}=f.useContext(li),e=t[t.length-1];return e?e.params:{}}function tI(t,e){return nI(t,e)}function nI(t,e,n,r){cf()||xt(!1);let{navigator:s}=f.useContext(af),{matches:o}=f.useContext(li),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=uf(),d;if(e){var h;let x=typeof e=="string"?ai(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||xt(!1),d=x}else d=u;let m=d.pathname||"/",p=m;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=NT(t,{pathname:p}),v=aI(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Bo([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Bo([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&v?f.createElement(lf.Provider,{value:{location:pc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$s.Pop}},v):v}function rI(){let t=dI(),e=XT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:s},n):null,null)}const sI=f.createElement(rI,null);class oI extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?f.createElement(li.Provider,{value:this.props.routeContext},f.createElement(Tb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iI(t){let{routeContext:e,match:n,children:r}=t,s=f.useContext(X0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(li.Provider,{value:e},r)}function aI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||xt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=n,_=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let p,_=!1,v=null,x=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,v=h.route.errorElement||sI,l&&(u<0&&m===0?(fI("route-fallback"),_=!0,x=null):u===m&&(_=!0,x=h.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,m+1)),g=()=>{let w;return p?w=v:_?w=x:h.route.Component?w=f.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,f.createElement(iI,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?f.createElement(oI,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var Nb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Nb||{}),jb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(jb||{});function lI(t){let e=f.useContext(X0);return e||xt(!1),e}function cI(t){let e=f.useContext(JT);return e||xt(!1),e}function uI(t){let e=f.useContext(li);return e||xt(!1),e}function Pb(t){let e=uI(),n=e.matches[e.matches.length-1];return n.route.id||xt(!1),n.route.id}function dI(){var t;let e=f.useContext(Tb),n=cI(),r=Pb();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hI(){let{router:t}=lI(Nb.UseNavigateStable),e=Pb(jb.UseNavigateStable),n=f.useRef(!1);return Ib(()=>{n.current=!0}),f.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,pc({fromRouteId:e},o)))},[t,e])}const x2={};function fI(t,e,n){x2[t]||(x2[t]=!0)}function q1(t){xt(!1)}function mI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=$s.Pop,navigator:o,static:i=!1,future:a}=t;cf()&&xt(!1);let l=e.replace(/^\/*/,"/"),u=f.useMemo(()=>({basename:l,navigator:o,static:i,future:pc({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=ai(r));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:_="default"}=r,v=f.useMemo(()=>{let x=Sb(d,l);return x==null?null:{location:{pathname:x,search:h,hash:m,state:p,key:_},navigationType:s}},[l,d,h,m,p,_,s]);return v==null?null:f.createElement(af.Provider,{value:u},f.createElement(lf.Provider,{children:n,value:v}))}function pI(t){let{children:e,location:n}=t;return tI(W1(e),n)}new Promise(()=>{});function W1(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(r,s)=>{if(!f.isValidElement(r))return;let o=[...e,s];if(r.type===f.Fragment){n.push.apply(n,W1(r.props.children,o));return}r.type!==q1&&xt(!1),!r.props.index||!r.props.children||xt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=W1(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function G1(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function gI(t,e){let n=G1(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const _I="6";try{window.__reactRouterVersion=_I}catch{}const yI="startTransition",C2=fS[yI];function vI(t){let{basename:e,children:n,future:r,window:s}=t,o=f.useRef();o.current==null&&(o.current=ET({window:s,v5Compat:!0}));let i=o.current,[a,l]=f.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=f.useCallback(h=>{u&&C2?C2(()=>l(h)):l(h)},[l,u]);return f.useLayoutEffect(()=>i.listen(d),[i,d]),f.createElement(mI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var b2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(b2||(b2={}));var k2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(k2||(k2={}));function wI(t){let e=f.useRef(G1(t)),n=f.useRef(!1),r=uf(),s=f.useMemo(()=>gI(r.search,n.current?null:e.current),[r.search]),o=ie(),i=f.useCallback((a,l)=>{const u=G1(typeof a=="function"?a(s):a);n.current=!0,o("?"+u,l)},[o,s]);return[s,i]}const xI="_container_1a1ax_1",CI={container:xI},bI="_container_1k8xw_1",kI="_loader_1k8xw_12",S2={container:bI,loader:kI},E2={default:{name:"default",icon_color:"#0040F9",first_color:"#0040F9",second_color:"#C3F82B",third_color:"#FF4365",gradient_first_color:"#0040F9",gradient_second_color:"#C3F82B",light_color:"#C3F82B",block_first_color:"#0040F9",block_second_color:"#C3F82B",block_third_color:"#FF4365",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#E1E1E1",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},genery:{name:"genery",icon_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",gradient_first_color:"#2400FF",gradient_second_color:"#00C2FF",light_color:"#C3F82B",block_first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",block_second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",block_third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#E1E1E1",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},kyrgyzstan:{name:"kyrgyzstan",icon_color:"#E3010F",first_color:"#FEF400",second_color:"#E3010F",third_color:"#FEF400",gradient_first_color:"#FEF400",gradient_second_color:"#E3010F",light_color:"#C3F82B",block_first_color:"#E3010F",block_second_color:"#FEF400",block_third_color:"#FEF400",block_border_color:!1,block_arrow_first_color:!1,block_arrow_second_color:!1,block_arrow_third_color:!1,background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#DEDDDD",loader_second_color:"#A6A6A6",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#000",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},winter_2024:{name:"winter_2024",icon_color:"#85B6FF",first_color:"#85AFED",second_color:"#A7C0E5",third_color:"#A7C0E5",gradient_first_color:"#85AFED",gradient_second_color:"#CBE0FF",light_color:"green",block_first_color:"#85AFED",block_second_color:"#A7C0E5",block_third_color:"#CBE0FF",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#85AFED",loader_second_color:"#CBE0FF",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#000",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},simple_light:{name:"simple_light",icon_color:"#000000",first_color:"#000",second_color:"#E8E8E8",third_color:"#E8E8E8",gradient_first_color:"#000",gradient_second_color:"#000",light_color:"green",block_first_color:"#FCFCFC",block_second_color:"#E8E8E8",block_third_color:"#E8E8E8",block_border_color:"#E8E8E8",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#E8E8E8",loader_second_color:"#fff",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#fff",arrow_background_color:"#131318",element_first_color:"#E8E8E8",element_second_color:"#fff",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},material_ui:{name:"material_ui",icon_color:"#97C5E7",first_color:"#97C5E7",second_color:"#D297E7",third_color:"#A2E797",gradient_first_color:"#97C5E7",gradient_second_color:"#97C5E7",light_color:"#C3F82B",block_first_color:"#131318",block_second_color:"#131318",block_third_color:"#131318",block_border_color:"none",block_arrow_first_color:"#97C5E7",block_arrow_second_color:"#D297E7",block_arrow_third_color:"#A2E797",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#E1E1E1",text_third_color:"#000",arrow_background_color:"#131318",element_first_color:"#131318",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"}},B=f.createContext();function SI({children:t}){const e=localStorage.getItem("theme")||"default",[n,r]=f.useState(e);f.useEffect(()=>{localStorage.setItem("theme",n)},[n]);const s=a=>{E2[a]&&r(a)},[o,i]=f.useState({iconColor:"#000000",titleColor:"#000000",arrowColor:"#000000",backgroundColor:"#FFFFFF",activeButton:1});return c.jsx(B.Provider,{value:{theme:E2[n],setThemeById:s,elementColors:o,setElementColors:i},children:t})}function Lb({color:t}){const{theme:e,elementColors:n,setElementColors:r}=f.useContext(B);return f.useEffect(()=>{r({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowColor:e.text_first_color,arrowLink:"#/menu",isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!1,isFooter:!1,footerBackground:e.background_color,activeElementIndex:2}),document.body.style.background=e.background_color},[e]),c.jsx("div",{className:S2.container,children:c.jsx("div",{className:S2.loader,children:c.jsx("svg",{width:"50",height:"73",viewBox:"0 0 50 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M39.7767 0.312248C40.2216 0.571102 40.5658 0.973727 40.7532 1.45435C40.9407 1.93497 40.9601 2.46517 40.8085 2.95835L32.6225 29.6566H47.7265C48.1703 29.6564 48.6045 29.7867 48.9755 30.0314C49.3464 30.2761 49.6379 30.6244 49.8138 31.0334C49.9898 31.4425 50.0425 31.8942 49.9656 32.333C49.8887 32.7718 49.6854 33.1784 49.3809 33.5025L13.0186 72.2816C12.6668 72.6571 12.1986 72.902 11.6904 72.9762C11.1821 73.0505 10.6638 72.9497 10.2199 72.6905C9.77606 72.4312 9.43275 72.0286 9.24599 71.5484C9.05922 71.0682 9.04001 70.5387 9.19148 70.0461L17.3776 43.3433H2.27355C1.82968 43.3435 1.39547 43.2132 1.02453 42.9685C0.653591 42.7238 0.362153 42.3755 0.186196 41.9665C0.0102386 41.5574 -0.0425346 41.1056 0.0343904 40.6668C0.111315 40.2281 0.31457 39.8215 0.619066 39.4973L36.9814 0.718287C37.3328 0.343267 37.8003 0.0985916 38.3078 0.0240443C38.8153 -0.0505029 39.333 0.0494621 39.7767 0.307685V0.312248Z",fill:t})})})})}var T2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},EI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},Rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;l||(p=64,i||(m=64)),r.push(n[d],n[h],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ab(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||u==null||h==null)throw new TI;const m=o<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const II=function(t){const e=Ab(t);return Rb.encodeByteArray(e,!0)},Jd=function(t){return II(t).replace(/\./g,"")},Db=function(t){try{return Rb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=()=>NI().__FIREBASE_DEFAULTS__,PI=()=>{if(typeof process>"u"||typeof T2>"u")return;const t=T2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Db(t[1]);return e&&JSON.parse(e)},df=()=>{try{return jI()||PI()||LI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ob=t=>{var e,n;return(n=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Mb=t=>{const e=Ob(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$b=()=>{var t;return(t=df())===null||t===void 0?void 0:t.config},Fb=t=>{var e;return(e=df())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jd(JSON.stringify(n)),Jd(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function DI(){var t;const e=(t=df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $I(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FI(){try{return typeof indexedDB=="object"}catch{return!1}}function BI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="FirebaseError";class Mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UI,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hc.prototype.create)}}class Hc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?VI(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Mr(s,a,r)}}function VI(t,e){return t.replace(zI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zI=/\{\$([^}]+)}/g;function HI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function eh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(I2(o)&&I2(i)){if(!eh(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function I2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function xl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qI(t,e){const n=new WI(t,e);return n.subscribe.bind(n)}class WI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GI(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Jm),s.error===void 0&&(s.error=Jm),s.complete===void 0&&(s.complete=Jm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t){return t&&t._delegate?t._delegate:t}class to{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QI(e))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Eo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Eo){return this.instances.has(e)}getOptions(e=Eo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Eo){return this.component?this.component.multipleInstances?e:Eo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZI(t){return t===Eo?void 0:t}function QI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const YI={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},JI=ke.INFO,eN={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},tN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=eN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y0{constructor(e){this.name=e,this._logLevel=JI,this._logHandler=tN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const nN=(t,e)=>e.some(n=>t instanceof n);let N2,j2;function rN(){return N2||(N2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sN(){return j2||(j2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ub=new WeakMap,K1=new WeakMap,Vb=new WeakMap,ep=new WeakMap,J0=new WeakMap;function oN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Ks(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&Ub.set(n,t)}).catch(()=>{}),J0.set(e,t),e}function iN(t){if(K1.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});K1.set(t,e)}let Z1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return K1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Vb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aN(t){Z1=t(Z1)}function lN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tp(this),e,...n);return Vb.set(r,e.sort?e.sort():[e]),Ks(r)}:sN().includes(t)?function(...e){return t.apply(tp(this),e),Ks(Ub.get(this))}:function(...e){return Ks(t.apply(tp(this),e))}}function cN(t){return typeof t=="function"?lN(t):(t instanceof IDBTransaction&&iN(t),nN(t,rN())?new Proxy(t,Z1):t)}function Ks(t){if(t instanceof IDBRequest)return oN(t);if(ep.has(t))return ep.get(t);const e=cN(t);return e!==t&&(ep.set(t,e),J0.set(e,t)),e}const tp=t=>J0.get(t);function uN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Ks(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Ks(i.result),l.oldVersion,l.newVersion,Ks(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const dN=["get","getKey","getAll","getAllKeys","count"],hN=["put","add","delete","clear"],np=new Map;function P2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=hN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||dN.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return np.set(e,o),o}aN(t=>({...t,get:(e,n,r)=>P2(e,n)||t.get(e,n,r),has:(e,n)=>!!P2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Q1="@firebase/app",L2="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Y0("@firebase/app"),pN="@firebase/app-compat",gN="@firebase/analytics-compat",_N="@firebase/analytics",yN="@firebase/app-check-compat",vN="@firebase/app-check",wN="@firebase/auth",xN="@firebase/auth-compat",CN="@firebase/database",bN="@firebase/database-compat",kN="@firebase/functions",SN="@firebase/functions-compat",EN="@firebase/installations",TN="@firebase/installations-compat",IN="@firebase/messaging",NN="@firebase/messaging-compat",jN="@firebase/performance",PN="@firebase/performance-compat",LN="@firebase/remote-config",AN="@firebase/remote-config-compat",RN="@firebase/storage",DN="@firebase/storage-compat",ON="@firebase/firestore",MN="@firebase/firestore-compat",$N="firebase",FN="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="[DEFAULT]",BN={[Q1]:"fire-core",[pN]:"fire-core-compat",[_N]:"fire-analytics",[gN]:"fire-analytics-compat",[vN]:"fire-app-check",[yN]:"fire-app-check-compat",[wN]:"fire-auth",[xN]:"fire-auth-compat",[CN]:"fire-rtdb",[bN]:"fire-rtdb-compat",[kN]:"fire-fn",[SN]:"fire-fn-compat",[EN]:"fire-iid",[TN]:"fire-iid-compat",[IN]:"fire-fcm",[NN]:"fire-fcm-compat",[jN]:"fire-perf",[PN]:"fire-perf-compat",[LN]:"fire-rc",[AN]:"fire-rc-compat",[RN]:"fire-gcs",[DN]:"fire-gcs-compat",[ON]:"fire-fst",[MN]:"fire-fst-compat","fire-js":"fire-js",[$N]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,Y1=new Map;function UN(t,e){try{t.container.addComponent(e)}catch(n){Qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xo(t){const e=t.name;if(Y1.has(e))return Qo.debug(`There were multiple attempts to register component ${e}.`),!1;Y1.set(e,t);for(const n of th.values())UN(n,t);return!0}function hf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Zs=new Hc("app","Firebase",VN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=FN;function zb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:X1,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Zs.create("bad-app-name",{appName:String(s)});if(n||(n=$b()),!n)throw Zs.create("no-options");const o=th.get(s);if(o){if(eh(n,o.options)&&eh(r,o.config))return o;throw Zs.create("duplicate-app",{appName:s})}const i=new XI(s);for(const l of Y1.values())i.addComponent(l);const a=new zN(n,r,i);return th.set(s,a),a}function e_(t=X1){const e=th.get(t);if(!e&&t===X1&&$b())return zb();if(!e)throw Zs.create("no-app",{appName:t});return e}function Nr(t,e,n){var r;let s=(r=BN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qo.warn(a.join(" "));return}Xo(new to(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="firebase-heartbeat-database",qN=1,gc="firebase-heartbeat-store";let rp=null;function Hb(){return rp||(rp=uN(HN,qN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gc)}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),rp}async function WN(t){try{return await(await Hb()).transaction(gc).objectStore(gc).get(qb(t))}catch(e){if(e instanceof Mr)Qo.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qo.warn(n.message)}}}async function A2(t,e){try{const r=(await Hb()).transaction(gc,"readwrite");await r.objectStore(gc).put(e,qb(t)),await r.done}catch(n){if(n instanceof Mr)Qo.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qo.warn(r.message)}}}function qb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1024,KN=30*24*60*60*1e3;class ZN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=KN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R2(),{heartbeatsToSend:n,unsentEntries:r}=QN(this._heartbeatsCache.heartbeats),s=Jd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function R2(){return new Date().toISOString().substring(0,10)}function QN(t,e=GN){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),D2(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),D2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FI()?BI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await WN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return A2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return A2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function D2(t){return Jd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t){Xo(new to("platform-logger",e=>new fN(e),"PRIVATE")),Xo(new to("heartbeat",e=>new ZN(e),"PRIVATE")),Nr(Q1,L2,t),Nr(Q1,L2,"esm2017"),Nr("fire-js","")}YN("");function t_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Wb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JN=Wb,Gb=new Hc("auth","Firebase",Wb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Y0("@firebase/auth");function ej(t,...e){nh.logLevel<=ke.WARN&&nh.warn(`Auth (${ci}): ${t}`,...e)}function _d(t,...e){nh.logLevel<=ke.ERROR&&nh.error(`Auth (${ci}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw n_(t,...e)}function jr(t,...e){return n_(t,...e)}function tj(t,e,n){const r=Object.assign(Object.assign({},JN()),{[e]:n});return new Hc("auth","Firebase",r).create(e,{appName:t.name})}function n_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gb.create(t,...e)}function he(t,e,...n){if(!t)throw n_(e,...n)}function Wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _d(e),new Error(e)}function is(t,e){t||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nj(){return O2()==="http:"||O2()==="https:"}function O2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nj()||OI()||"connection"in navigator)?navigator.onLine:!0}function sj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n){this.shortDelay=e,this.longDelay=n,is(n>e,"Short delay should be less than long delay!"),this.isMobile=RI()||MI()}get(){return rj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t,e){is(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new Wc(3e4,6e4);function uo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ho(t,e,n,r,s={}){return Zb(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const a=qc(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Kb.fetch()(Qb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function Zb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oj),e);try{const s=new aj(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Ou(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw Ou(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw Ou(t,"user-disabled",i);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tj(t,d,u);dr(t,d)}}catch(s){if(s instanceof Mr)throw s;dr(t,"network-request-failed",{message:String(s)})}}async function Gc(t,e,n,r,s={}){const o=await ho(t,e,n,r,s);return"mfaPendingCredential"in o&&dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function Qb(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?r_(t.config,s):`${t.config.apiScheme}://${s}`}class aj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),ij.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=jr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return ho(t,"POST","/v1/accounts:delete",e)}async function cj(t,e){return ho(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uj(t,e=!1){const n=Ae(t),r=await n.getIdToken(e),s=s_(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:$l(sp(s.auth_time)),issuedAtTime:$l(sp(s.iat)),expirationTime:$l(sp(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sp(t){return Number(t)*1e3}function s_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _d("JWT malformed, contained fewer than 3 sections"),null;try{const s=Db(n);return s?JSON.parse(s):(_d("Failed to decode base64 JWT payload"),null)}catch(s){return _d("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function dj(t){const e=s_(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mr&&hj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await _c(t,cj(n,{idToken:r}));he(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?gj(o.providerUserInfo):[],a=pj(t.providerData,i),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xb(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function mj(t){const e=Ae(t);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function gj(t){return t.map(e=>{var{providerId:n}=e,r=t_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){const n=await Zb(t,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=Qb(t,s,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Kb.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return he(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await _j(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new yc;return r&&(he(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(he(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yc,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Uo{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=t_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uj(this,e)}reload(){return mj(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Uo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _c(this,lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,i,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(i=n.photoURL)!==null&&i!==void 0?i:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:w,emailVerified:b,isAnonymous:C,providerData:k,stsTokenManager:T}=n;he(w&&T,e,"internal-error");const S=yc.fromJSON(this.name,T);he(typeof w=="string",e,"internal-error"),ys(h,e.name),ys(m,e.name),he(typeof b=="boolean",e,"internal-error"),he(typeof C=="boolean",e,"internal-error"),ys(p,e.name),ys(_,e.name),ys(v,e.name),ys(x,e.name),ys(y,e.name),ys(g,e.name);const E=new Uo({uid:w,auth:e,email:m,emailVerified:b,displayName:h,isAnonymous:C,photoURL:_,phoneNumber:p,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return k&&Array.isArray(k)&&(E.providerData=k.map(I=>Object.assign({},I))),x&&(E._redirectEventId=x),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new yc;s.updateFromServerResponse(n);const o=new Uo({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await rh(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new Map;function Gr(t){is(t instanceof Function,"Expected a class definition");let e=M2.get(t);return e?(is(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Yb.type="NONE";const $2=Yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e,n){return`firebase:${t}:${e}:${n}`}class ra{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=yd(this.userKey,s.apiKey,o),this.fullPersistenceKey=yd("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Uo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ra(Gr($2),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||Gr($2);const i=yd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(i);if(d){const h=Uo._fromJSON(e,d);u!==o&&(a=h),o=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ra(o,e,r):(o=l[0],a&&await o._set(i,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new ra(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r4(e))return"Blackberry";if(s4(e))return"Webos";if(o_(e))return"Safari";if((e.includes("chrome/")||e4(e))&&!e.includes("edge/"))return"Chrome";if(n4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Jb(t=en()){return/firefox\//i.test(t)}function o_(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e4(t=en()){return/crios\//i.test(t)}function t4(t=en()){return/iemobile/i.test(t)}function n4(t=en()){return/android/i.test(t)}function r4(t=en()){return/blackberry/i.test(t)}function s4(t=en()){return/webos/i.test(t)}function ff(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yj(t=en()){var e;return ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vj(){return $I()&&document.documentMode===10}function o4(t=en()){return ff(t)||n4(t)||s4(t)||r4(t)||/windows phone/i.test(t)||t4(t)}function wj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t,e=[]){let n;switch(t){case"Browser":n=F2(en());break;case"Worker":n=`${F2(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ci}/${r}`}async function a4(t,e){return ho(t,"GET","/v2/recaptchaConfig",uo(t,e))}function B2(t){return t!==void 0&&t.enterprise!==void 0}class l4{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function c4(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=jr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",xj().appendChild(r)})}function Cj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const bj="https://www.google.com/recaptcha/enterprise.js?render=",kj="recaptcha-enterprise",Sj="NO_RECAPTCHA";class u4{constructor(e){this.type=kj,this.auth=ui(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,a)=>{a4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new l4(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,i(u.siteKey)}}).catch(l=>{a(l)})})}function s(o,i,a){const l=window.grecaptcha;B2(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{i(u)}).catch(()=>{i(Sj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,i)=>{r(this.auth).then(a=>{if(!n&&B2(window.grecaptcha))s(a,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}c4(bj+a).then(()=>{s(a,o,i)}).catch(l=>{i(l)})}}).catch(a=>{i(a)})})}}async function va(t,e,n,r=!1){const s=new u4(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const i=Object.assign({},e);return r?Object.assign(i,{captchaResp:o}):Object.assign(i,{captchaResponse:o}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,a)=>{try{const l=e(o);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U2(this),this.idTokenSubscription=new U2(this),this.beforeStateQueue=new Ej(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Gr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ae(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}async initializeRecaptchaConfig(){const e=await a4(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new l4(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new u4(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Gr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[Gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),i=this._isInitialized?Promise.resolve():this._initializationPromise;return he(i,this,"internal-error"),i.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ej(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ui(t){return Ae(t)}class U2{constructor(e){this.auth=e,this.observer=null,this.addObserver=qI(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t,e){const n=hf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(eh(o,e??{}))return s;dr(s,"already-initialized")}return n.initialize({options:e})}function Nj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jj(t,e,n){const r=ui(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=d4(e),{host:i,port:a}=Pj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),Lj()}function d4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Pj(t){const e=d4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:V2(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:V2(i)}}}function V2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Lj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,n){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e){return ho(t,"POST","/v1/accounts:resetPassword",uo(t,e))}async function Rj(t,e){return ho(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function op(t,e){return Gc(t,"POST","/v1/accounts:signInWithPassword",uo(t,e))}async function Dj(t,e){return ho(t,"POST","/v1/accounts:sendOobCode",uo(t,e))}async function ip(t,e){return Dj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(t,e){return Gc(t,"POST","/v1/accounts:signInWithEmailLink",uo(t,e))}async function Mj(t,e){return Gc(t,"POST","/v1/accounts:signInWithEmailLink",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends i_{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new vc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await va(e,r,"signInWithPassword");return op(e,s)}else return op(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await va(e,r,"signInWithPassword");return op(e,o)}else return Promise.reject(s)});case"emailLink":return Oj(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Rj(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Mj(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t,e){return Gc(t,"POST","/v1/accounts:signInWithIdp",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j="http://localhost";class Yo extends i_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=t_(n,["providerId","signInMethod"]);if(!r||!s)return null;const i=new Yo(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sa(e,n)}buildRequest(){const e={requestUri:$j,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bj(t){const e=wl(xl(t)).link,n=e?wl(xl(e)).deep_link_id:null,r=wl(xl(t)).deep_link_id;return(r?wl(xl(r)).link:null)||r||n||e||t}class a_{constructor(e){var n,r,s,o,i,a;const l=wl(xl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Fj((s=l.mode)!==null&&s!==void 0?s:null);he(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=l.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Bj(e);try{return new a_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(){this.providerId=Va.PROVIDER_ID}static credential(e,n){return vc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=a_.parseLink(n);return he(r,"argument-error"),vc._fromEmailAndCode(e,r.code,r.tenantId)}}Va.PROVIDER_ID="password";Va.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends h4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Kc{constructor(){super("facebook.com")}static credential(e){return Yo._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Kc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yo._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ls.credential(n,r)}catch{return null}}}Ls.GOOGLE_SIGN_IN_METHOD="google.com";Ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Kc{constructor(){super("github.com")}static credential(e){return Yo._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends Kc{constructor(){super("twitter.com")}static credential(e,n){return Yo._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Rs.credential(n,r)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t,e){return Gc(t,"POST","/v1/accounts:signUp",uo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Uo._fromIdTokenResponse(e,r,s),i=z2(r);return new Jo({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=z2(r);return new Jo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function z2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Mr{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new sh(e,n,r,s)}}function f4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(t,o,e,r):o})}async function Uj(t,e,n=!1){const r=await _c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const o=await _c(t,f4(r,s,e,t),n);he(o.idToken,r,"internal-error");const i=s_(o.idToken);he(i,r,"internal-error");const{sub:a}=i;return he(t.uid===a,r,"user-mismatch"),Jo._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(t,e,n=!1){const r="signIn",s=await f4(t,r,e),o=await Jo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function zj(t,e){return m4(ui(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e,n){var r;const s=ui(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const i=await va(s,o,"getOobCode",!0);await ip(s,i)}else await ip(s,o).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await va(s,o,"getOobCode",!0);await ip(s,a)}else return Promise.reject(i)})}async function Hj(t,e,n){await Aj(Ae(t),{oobCode:e,newPassword:n})}async function qj(t,e,n){var r;const s=ui(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let i;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await va(s,o,"signUpPassword");i=ap(s,u)}else i=ap(s,o).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await va(s,o,"signUpPassword");return ap(s,d)}else return Promise.reject(u)});const a=await i.catch(u=>Promise.reject(u)),l=await Jo._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function Wj(t,e,n){return zj(Ae(t),Va.credential(e,n))}function Gj(t,e,n,r){return Ae(t).onIdTokenChanged(e,n,r)}function Kj(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function Zj(t,e,n,r){return Ae(t).onAuthStateChanged(e,n,r)}function Qj(t){return Ae(t).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(){const t=en();return o_(t)||ff(t)}const Yj=1e3,Jj=10;class _4 extends g4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Xj()&&wj(),this.fallbackToPolling=o4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(r);if(e.newValue!==i)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);vj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Jj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_4.type="LOCAL";const eP=_4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4 extends g4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}y4.type="SESSION";const v4=y4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(i).map(async u=>u(n.origin,o)),l=await tP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((a,l)=>{const u=l_("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(){return window}function rP(t){Pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(){return typeof Pr().WorkerGlobalScope<"u"&&typeof Pr().importScripts=="function"}async function sP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iP(){return w4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="firebaseLocalStorageDb",aP=1,ih="firebaseLocalStorage",C4="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(t,e){return t.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function lP(){const t=indexedDB.deleteDatabase(x4);return new Zc(t).toPromise()}function eg(){const t=indexedDB.open(x4,aP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ih,{keyPath:C4})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ih)?e(r):(r.close(),await lP(),e(await eg()))})})}async function H2(t,e,n){const r=pf(t,!0).put({[C4]:e,value:n});return new Zc(r).toPromise()}async function cP(t,e){const n=pf(t,!1).get(e),r=await new Zc(n).toPromise();return r===void 0?null:r.value}function q2(t,e){const n=pf(t,!0).delete(e);return new Zc(n).toPromise()}const uP=800,dP=3;class b4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(iP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sP(),!this.activeServiceWorker)return;this.sender=new nP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eg();return await H2(e,oh,"1"),await q2(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=pf(s,!1).getAll();return new Zc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b4.type="LOCAL";const hP=b4;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t,e){return e?Gr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_ extends i_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mP(t){return m4(t.auth,new c_(t),t.bypassAuthState)}function pP(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Vj(n,new c_(t),t.bypassAuthState)}async function gP(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Uj(n,new c_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mP;case"linkViaPopup":case"linkViaRedirect":return gP;case"reauthViaPopup":case"reauthViaRedirect":return pP;default:dr(this.auth,"internal-error")}}resolve(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new Wc(2e3,1e4);class Hi extends k4{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const e=l_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_P.get())};e()}}Hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="pendingRedirect",vd=new Map;class vP extends k4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const r=await wP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wP(t,e){const n=bP(e),r=CP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xP(t,e){vd.set(t._key(),e)}function CP(t){return Gr(t._redirectPersistence)}function bP(t){return yd(yP,t.config.apiKey,t.name)}async function kP(t,e,n=!1){const r=ui(t),s=fP(r,e),i=await new vP(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=10*60*1e3;class EP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!S4(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SP&&this.cachedEventUids.clear(),this.cachedEventUids.has(W2(e))}saveEventToCache(e){this.cachedEventUids.add(W2(e)),this.lastProcessedEventTime=Date.now()}}function W2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function S4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t,e={}){return ho(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jP=/^https?/;async function PP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IP(t);for(const n of e)try{if(LP(n))return}catch{}dr(t,"unauthorized-domain")}function LP(t){const e=J1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!jP.test(n))return!1;if(NP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new Wc(3e4,6e4);function G2(){const t=Pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RP(t){return new Promise((e,n)=>{var r,s,o;function i(){G2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G2(),n(jr(t,"network-request-failed"))},timeout:AP.get()})}if(!((s=(r=Pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Pr().gapi)===null||o===void 0)&&o.load)i();else{const a=Cj("iframefcb");return Pr()[a]=()=>{gapi.load?i():n(jr(t,"network-request-failed"))},c4(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wd=null,e})}let wd=null;function DP(t){return wd=wd||RP(t),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new Wc(5e3,15e3),MP="__/auth/iframe",$P="emulator/auth/iframe",FP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UP(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?r_(e,$P):`https://${t.config.authDomain}/${MP}`,r={apiKey:e.apiKey,appName:t.name,v:ci},s=BP.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${qc(r).slice(1)}`}async function VP(t){const e=await DP(t),n=Pr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:UP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=jr(t,"network-request-failed"),a=Pr().setTimeout(()=>{o(i)},OP.get());function l(){Pr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HP=500,qP=600,WP="_blank",GP="http://localhost";class K2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KP(t,e,n,r=HP,s=qP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zP),{width:r.toString(),height:s.toString(),top:o,left:i}),u=en().toLowerCase();n&&(a=e4(u)?WP:n),Jb(u)&&(e=e||GP,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[p,_])=>`${m}${p}=${_},`,"");if(yj(u)&&a!=="_self")return ZP(e||"",a),new K2(null);const h=window.open(e||"",a,d);he(h,t,"popup-blocked");try{h.focus()}catch{}return new K2(h)}function ZP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="__/auth/handler",XP="emulator/auth/handler",YP=encodeURIComponent("fac");async function Z2(t,e,n,r,s,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ci,eventId:s};if(e instanceof h4){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",HI(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof Kc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${YP}=${encodeURIComponent(l)}`:"";return`${JP(t)}?${qc(a).slice(1)}${u}`}function JP({config:t}){return t.emulator?r_(t,XP):`https://${t.authDomain}/${QP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class eL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=v4,this._completeRedirectFn=kP,this._overrideRedirectResult=xP}async _openPopup(e,n,r,s){var o;is((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Z2(e,n,r,J1(),s);return KP(e,i,l_())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await Z2(e,n,r,J1(),s);return rP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(is(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VP(e),r=new EP(e);return n.register("authEvent",s=>(he(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lp,{type:lp},s=>{var o;const i=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[lp];i!==void 0&&n(!!i),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return o4()||o_()||ff()}}const tL=eL;var Q2="@firebase/auth",X2="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function sL(t){Xo(new to("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;he(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i4(t)},u=new Tj(r,s,o,l);return Nj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xo(new to("auth-internal",e=>{const n=ui(e.getProvider("auth").getImmediate());return(r=>new nL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(Q2,X2,rL(t)),Nr(Q2,X2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=5*60,iL=Fb("authIdTokenMaxAge")||oL;let Y2=null;const aL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iL)return;const s=n==null?void 0:n.token;Y2!==s&&(Y2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lL(t=e_()){const e=hf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ij(t,{popupRedirectResolver:tL,persistence:[hP,eP,v4]}),r=Fb("authTokenSyncURL");if(r){const o=aL(r);Kj(n,o,()=>o(n.currentUser)),Gj(n,i=>o(i))}const s=Ob("auth");return s&&jj(n,`http://${s}`),n}sL("Browser");var cL="firebase",uL="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(cL,uL,"app");var dL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},X,u_=u_||{},me=dL||self;function gf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function _f(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function hL(t,e,n){return t.call.apply(t.bind,arguments)}function fL(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Gt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Gt=hL:Gt=fL,Gt.apply(null,arguments)}function Mu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,o){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[s].apply(r,i)}}function fo(){this.s=this.s,this.o=this.o}var mL=0;fo.prototype.s=!1;fo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),mL!=0)};fo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const E4=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function d_(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function J2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gf(r)){const s=t.length||0,o=r.length||0;t.length=s+o;for(let i=0;i<o;i++)t[s+i]=r[i]}else t.push(r)}}function Kt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Kt.prototype.h=function(){this.defaultPrevented=!0};var pL=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function wc(t){return/^[\s\xa0]*$/.test(t)}function yf(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function br(t){return yf().indexOf(t)!=-1}function h_(t){return h_[" "](t),t}h_[" "]=function(){};function gL(t,e){var n=cA;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var _L=br("Opera"),wa=br("Trident")||br("MSIE"),T4=br("Edge"),tg=T4||wa,I4=br("Gecko")&&!(yf().toLowerCase().indexOf("webkit")!=-1&&!br("Edge"))&&!(br("Trident")||br("MSIE"))&&!br("Edge"),yL=yf().toLowerCase().indexOf("webkit")!=-1&&!br("Edge");function N4(){var t=me.document;return t?t.documentMode:void 0}var ng;e:{var cp="",up=function(){var t=yf();if(I4)return/rv:([^\);]+)(\)|;)/.exec(t);if(T4)return/Edge\/([\d\.]+)/.exec(t);if(wa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(yL)return/WebKit\/(\S+)/.exec(t);if(_L)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(up&&(cp=up?up[1]:""),wa){var dp=N4();if(dp!=null&&dp>parseFloat(cp)){ng=String(dp);break e}}ng=cp}var rg;if(me.document&&wa){var ew=N4();rg=ew||parseInt(ng,10)||void 0}else rg=void 0;var vL=rg;function xc(t,e){if(Kt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(I4){e:{try{h_(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:wL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xc.$.h.call(this)}}Et(xc,Kt);var wL={2:"touch",3:"pen",4:"mouse"};xc.prototype.h=function(){xc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vf="closure_listenable_"+(1e6*Math.random()|0),xL=0;function CL(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++xL,this.fa=this.ia=!1}function wf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function f_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function bL(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function j4(t){const e={};for(const n in t)e[n]=t[n];return e}const tw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P4(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let o=0;o<tw.length;o++)n=tw[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xf(t){this.src=t,this.g={},this.h=0}xf.prototype.add=function(t,e,n,r,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var i=og(t,e,r,s);return-1<i?(e=t[i],n||(e.ia=!1)):(e=new CL(e,this.src,o,!!r,s),e.ia=n,t.push(e)),e};function sg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=E4(r,e),o;(o=0<=s)&&Array.prototype.splice.call(r,s,1),o&&(wf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function og(t,e,n,r){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return s}return-1}var m_="closure_lm_"+(1e6*Math.random()|0),hp={};function L4(t,e,n,r,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)L4(t,e[o],n,r,s);return null}return n=D4(n),t&&t[vf]?t.O(e,n,_f(r)?!!r.capture:!1,s):kL(t,e,n,!1,r,s)}function kL(t,e,n,r,s,o){if(!e)throw Error("Invalid event type");var i=_f(s)?!!s.capture:!!s,a=g_(t);if(a||(t[m_]=a=new xf(t)),n=a.add(e,n,r,i,o),n.proxy)return n;if(r=SL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)pL||(s=i),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(R4(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function SL(){function t(n){return e.call(t.src,t.listener,n)}const e=EL;return t}function A4(t,e,n,r,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)A4(t,e[o],n,r,s);else r=_f(r)?!!r.capture:!!r,n=D4(n),t&&t[vf]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=og(o,n,r,s),-1<n&&(wf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=g_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=og(e,n,r,s)),(n=-1<t?e[t]:null)&&p_(n))}function p_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[vf])sg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(R4(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=g_(e))?(sg(n,t),n.h==0&&(n.src=null,e[m_]=null)):wf(t)}}}function R4(t){return t in hp?hp[t]:hp[t]="on"+t}function EL(t,e){if(t.fa)t=!0;else{e=new xc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&p_(t),t=n.call(r,e)}return t}function g_(t){return t=t[m_],t instanceof xf?t:null}var fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function D4(t){return typeof t=="function"?t:(t[fp]||(t[fp]=function(e){return t.handleEvent(e)}),t[fp])}function St(){fo.call(this),this.i=new xf(this),this.S=this,this.J=null}Et(St,fo);St.prototype[vf]=!0;St.prototype.removeEventListener=function(t,e,n,r){A4(this,t,e,n,r)};function At(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Kt(e,t);else if(e instanceof Kt)e.target=e.target||t;else{var s=e;e=new Kt(r,t),P4(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var i=e.g=n[o];s=$u(i,r,!0,e)&&s}if(i=e.g=t,s=$u(i,r,!0,e)&&s,s=$u(i,r,!1,e)&&s,n)for(o=0;o<n.length;o++)i=e.g=n[o],s=$u(i,r,!1,e)&&s}St.prototype.N=function(){if(St.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wf(n[r]);delete t.g[e],t.h--}}this.J=null};St.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};St.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function $u(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var i=e[o];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&sg(t.i,i),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var __=me.JSON.stringify;class TL{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function IL(){var t=y_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class NL{constructor(){this.h=this.g=null}add(e,n){const r=O4.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var O4=new TL(()=>new jL,t=>t.reset());class jL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function PL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function LL(t){me.setTimeout(()=>{throw t},0)}let Cc,bc=!1,y_=new NL,M4=()=>{const t=me.Promise.resolve(void 0);Cc=()=>{t.then(AL)}};var AL=()=>{for(var t;t=IL();){try{t.h.call(t.g)}catch(n){LL(n)}var e=O4;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}bc=!1};function Cf(t,e){St.call(this),this.h=t||1,this.g=e||me,this.j=Gt(this.qb,this),this.l=Date.now()}Et(Cf,St);X=Cf.prototype;X.ga=!1;X.T=null;X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),At(this,"tick"),this.ga&&(v_(this),this.start()))}};X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function v_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}X.N=function(){Cf.$.N.call(this),v_(this),delete this.g};function w_(t,e,n){if(typeof t=="function")n&&(t=Gt(t,n));else if(t&&typeof t.handleEvent=="function")t=Gt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function $4(t){t.g=w_(()=>{t.g=null,t.i&&(t.i=!1,$4(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class RL extends fo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$4(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kc(t){fo.call(this),this.h=t,this.g={}}Et(kc,fo);var nw=[];function F4(t,e,n,r){Array.isArray(n)||(n&&(nw[0]=n.toString()),n=nw);for(var s=0;s<n.length;s++){var o=L4(e,n[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function B4(t){f_(t.g,function(e,n){this.g.hasOwnProperty(n)&&p_(e)},t),t.g={}}kc.prototype.N=function(){kc.$.N.call(this),B4(this)};kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bf(){this.g=!0}bf.prototype.Ea=function(){this.g=!1};function DL(t,e,n,r,s,o){t.info(function(){if(t.g)if(o)for(var i="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");i=2<=h.length&&h[1]=="type"?i+(d+"="+u+"&"):i+(d+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+i})}function OL(t,e,n,r,s,o,i){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+i})}function qi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$L(t,n)+(r?" "+r:"")})}function ML(t,e){t.info(function(){return"TIMEOUT: "+e})}bf.prototype.info=function(){};function $L(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var i=1;i<s.length;i++)s[i]=""}}}}return __(n)}catch{return e}}var di={},rw=null;function kf(){return rw=rw||new St}di.Ta="serverreachability";function U4(t){Kt.call(this,di.Ta,t)}Et(U4,Kt);function Sc(t){const e=kf();At(e,new U4(e))}di.STAT_EVENT="statevent";function V4(t,e){Kt.call(this,di.STAT_EVENT,t),this.stat=e}Et(V4,Kt);function on(t){const e=kf();At(e,new V4(e,t))}di.Ua="timingevent";function z4(t,e){Kt.call(this,di.Ua,t),this.size=e}Et(z4,Kt);function Qc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var Sf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},H4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function x_(){}x_.prototype.h=null;function sw(t){return t.h||(t.h=t.i())}function q4(){}var Xc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function C_(){Kt.call(this,"d")}Et(C_,Kt);function b_(){Kt.call(this,"c")}Et(b_,Kt);var ig;function Ef(){}Et(Ef,x_);Ef.prototype.g=function(){return new XMLHttpRequest};Ef.prototype.i=function(){return{}};ig=new Ef;function Yc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new kc(this),this.P=FL,t=tg?125:void 0,this.V=new Cf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new W4}function W4(){this.i=null,this.g="",this.h=!1}var FL=45e3,ag={},ah={};X=Yc.prototype;X.setTimeout=function(t){this.P=t};function lg(t,e,n){t.L=1,t.v=If(as(e)),t.s=n,t.S=!0,G4(t,null)}function G4(t,e){t.G=Date.now(),Jc(t),t.A=as(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),t9(n.i,"t",r),t.C=0,n=t.l.J,t.h=new W4,t.g=C9(t.l,n?e:null,!t.s),0<t.O&&(t.M=new RL(Gt(t.Pa,t,t.g),t.O)),F4(t.U,t.g,"readystatechange",t.nb),e=t.I?j4(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Sc(),DL(t.j,t.u,t.A,t.m,t.W,t.s)}X.nb=function(t){t=t.target;const e=this.M;e&&kr(t)==3?e.l():this.Pa(t)};X.Pa=function(t){try{if(t==this.g)e:{const d=kr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||tg||this.g&&(this.h.h||this.g.ja()||lw(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?Sc(3):Sc(2)),Tf(this);var n=this.g.da();this.ca=n;t:if(K4(this)){var r=lw(this.g);t="";var s=r.length,o=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ro(this),Fl(this);var i="";break t}this.h.i=new me.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,OL(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wc(a)){var u=a;break t}}u=null}if(n=u)qi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cg(this,n);else{this.i=!1,this.o=3,on(12),Ro(this),Fl(this);break e}}this.S?(Z4(this,d,i),tg&&this.i&&d==3&&(F4(this.U,this.V,"tick",this.mb),this.V.start())):(qi(this.j,this.m,i,null),cg(this,i)),d==4&&Ro(this),this.i&&!this.J&&(d==4?y9(this.l,this):(this.i=!1,Jc(this)))}else iA(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),Ro(this),Fl(this)}}}catch{}finally{}};function K4(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Z4(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=BL(t,n),s==ah){e==4&&(t.o=4,on(14),r=!1),qi(t.j,t.m,null,"[Incomplete Response]");break}else if(s==ag){t.o=4,on(15),qi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else qi(t.j,t.m,s,null),cg(t,s);K4(t)&&s!=ah&&s!=ag&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),N_(e),e.M=!0,on(11))):(qi(t.j,t.m,n,"[Invalid Chunked Response]"),Ro(t),Fl(t))}X.mb=function(){if(this.g){var t=kr(this.g),e=this.g.ja();this.C<e.length&&(Tf(this),Z4(this,t,e),this.i&&t!=4&&Jc(this))}};function BL(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ah:(n=Number(e.substring(n,r)),isNaN(n)?ag:(r+=1,r+n>e.length?ah:(e=e.slice(r,r+n),t.C=r+n,e)))}X.cancel=function(){this.J=!0,Ro(this)};function Jc(t){t.Y=Date.now()+t.P,Q4(t,t.P)}function Q4(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Qc(Gt(t.lb,t),e)}function Tf(t){t.B&&(me.clearTimeout(t.B),t.B=null)}X.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(ML(this.j,this.A),this.L!=2&&(Sc(),on(17)),Ro(this),this.o=2,Fl(this)):Q4(this,this.Y-t)};function Fl(t){t.l.H==0||t.J||y9(t.l,t)}function Ro(t){Tf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,v_(t.V),B4(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function cg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ug(n.i,t))){if(!t.K&&ug(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)uh(n),Pf(n);else break e;I_(n),on(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Qc(Gt(n.ib,n),6e3));if(1>=s9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Do(n,11)}else if((t.K||n.g==t)&&uh(n),!wc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const m=u[5];m!=null&&typeof m=="number"&&0<m&&(r=1.5*m,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(k_(o,o.h),o.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Me(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=t;if(r.wa=x9(r,r.J?r.pa:null,r.Y),i.K){o9(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.B&&(Tf(a),Jc(a)),r.g=i}else g9(r);0<n.j.length&&Lf(n)}else u[0]!="stop"&&u[0]!="close"||Do(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Do(n,7):T_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Sc(4)}catch{}}function UL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function VL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function X4(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=VL(t),r=UL(t),s=r.length,o=0;o<s;o++)e.call(void 0,r[o],n&&n[o],t)}var Y4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var o=t[n].substring(0,r);s=t[n].substring(r+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Vo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vo){this.h=t.h,lh(this,t.j),this.s=t.s,this.g=t.g,ch(this,t.m),this.l=t.l;var e=t.i,n=new Ec;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ow(this,n),this.o=t.o}else t&&(e=String(t).match(Y4))?(this.h=!1,lh(this,e[1]||"",!0),this.s=Cl(e[2]||""),this.g=Cl(e[3]||"",!0),ch(this,e[4]),this.l=Cl(e[5]||"",!0),ow(this,e[6]||"",!0),this.o=Cl(e[7]||"")):(this.h=!1,this.i=new Ec(null,this.h))}Vo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bl(e,iw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(bl(e,iw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(bl(n,n.charAt(0)=="/"?WL:qL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",bl(n,KL)),t.join("")};function as(t){return new Vo(t)}function lh(t,e,n){t.j=n?Cl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ch(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ow(t,e,n){e instanceof Ec?(t.i=e,ZL(t.i,t.h)):(n||(e=bl(e,GL)),t.i=new Ec(e,t.h))}function Me(t,e,n){t.i.set(e,n)}function If(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Cl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,HL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function HL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var iw=/[#\/\?@]/g,qL=/[#\?:]/g,WL=/[#\?]/g,GL=/[#\?@]/g,KL=/#/g;function Ec(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function mo(t){t.g||(t.g=new Map,t.h=0,t.i&&zL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=Ec.prototype;X.add=function(t,e){mo(this),this.i=null,t=za(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function J4(t,e){mo(t),e=za(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function e9(t,e){return mo(t),e=za(t,e),t.g.has(e)}X.forEach=function(t,e){mo(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};X.ta=function(){mo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let o=0;o<s.length;o++)n.push(e[r])}return n};X.Z=function(t){mo(this);let e=[];if(typeof t=="string")e9(this,t)&&(e=e.concat(this.g.get(za(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return mo(this),this.i=null,t=za(this,t),e9(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function t9(t,e,n){J4(t,e),0<n.length&&(t.i=null,t.g.set(za(t,e),d_(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var s=o;i[r]!==""&&(s+="="+encodeURIComponent(String(i[r]))),t.push(s)}}return this.i=t.join("&")};function za(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ZL(t,e){e&&!t.j&&(mo(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(J4(this,r),t9(this,s,n))},t)),t.j=e}var QL=class{constructor(t,e){this.g=t,this.map=e}};function n9(t){this.l=t||XL,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XL=10;function r9(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function s9(t){return t.h?1:t.g?t.g.size:0}function ug(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function k_(t,e){t.g?t.g.add(e):t.h=e}function o9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}n9.prototype.cancel=function(){if(this.i=i9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function i9(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return d_(t.i)}var YL=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function JL(){this.g=new YL}function eA(t,e,n){const r=n||"";try{X4(t,function(s,o){let i=s;_f(s)&&(i=__(s)),e.push(r+o+"="+encodeURIComponent(i))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function tA(t,e){const n=new bf;if(me.Image){const r=new Image;r.onload=Mu(Fu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mu(Fu,n,r,"TestLoadImage: error",!1,e),r.onabort=Mu(Fu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mu(Fu,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Fu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function eu(t){this.l=t.fc||null,this.j=t.ob||!1}Et(eu,x_);eu.prototype.g=function(){return new Nf(this.l,this.j)};eu.prototype.i=function(t){return function(){return t}}({});function Nf(t,e){St.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=S_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Et(Nf,St);var S_=0;X=Nf.prototype;X.open=function(t,e){if(this.readyState!=S_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Tc(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tu(this)),this.readyState=S_};X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Tc(this)),this.g&&(this.readyState=3,Tc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;a9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function a9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tu(this):Tc(this),this.readyState==3&&a9(this)}};X.Za=function(t){this.g&&(this.response=this.responseText=t,tu(this))};X.Ya=function(t){this.g&&(this.response=t,tu(this))};X.ka=function(){this.g&&tu(this)};function tu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Tc(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Tc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Nf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var nA=me.JSON.parse;function ot(t){St.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=l9,this.L=this.M=!1}Et(ot,St);var l9="",rA=/^https?$/i,sA=["POST","PUT"];X=ot.prototype;X.Oa=function(t){this.M=t};X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ig.g(),this.C=this.u?sw(this.u):sw(ig),this.g.onreadystatechange=Gt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){aw(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=me.FormData&&t instanceof me.FormData,!(0<=E4(sA,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,i]of n)this.g.setRequestHeader(o,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{d9(this),0<this.B&&((this.L=oA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gt(this.ua,this)):this.A=w_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){aw(this,o)}};function oA(t){return wa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.ua=function(){typeof u_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))};function aw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,c9(t),jf(t)}function c9(t){t.F||(t.F=!0,At(t,"complete"),At(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),jf(this))};X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jf(this,!0)),ot.$.N.call(this)};X.La=function(){this.s||(this.G||this.v||this.l?u9(this):this.kb())};X.kb=function(){u9(this)};function u9(t){if(t.h&&typeof u_<"u"&&(!t.C[1]||kr(t)!=4||t.da()!=2)){if(t.v&&kr(t)==4)w_(t.La,0,t);else if(At(t,"readystatechange"),kr(t)==4){t.h=!1;try{const i=t.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=i===0){var s=String(t.I).match(Y4)[1]||null;!s&&me.self&&me.self.location&&(s=me.self.location.protocol.slice(0,-1)),r=!rA.test(s?s.toLowerCase():"")}n=r}if(n)At(t,"complete"),At(t,"success");else{t.m=6;try{var o=2<kr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",c9(t)}}finally{jf(t)}}}}function jf(t,e){if(t.g){d9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=r}catch{}}}function d9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}X.isActive=function(){return!!this.g};function kr(t){return t.g?t.g.readyState:0}X.da=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}};X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),nA(e)}};function lw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case l9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function iA(t){const e={};t=(t.g&&2<=kr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(wc(t[r]))continue;var n=PL(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}bL(e,function(r){return r.join(", ")})}X.Ia=function(){return this.m};X.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function h9(t){let e="";return f_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function E_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=h9(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Me(t,e,n))}function ol(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function f9(t){this.Ga=0,this.j=[],this.l=new bf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ol("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ol("baseRetryDelayMs",5e3,t),this.hb=ol("retryDelaySeedMs",1e4,t),this.eb=ol("forwardChannelMaxRetries",2,t),this.xa=ol("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new n9(t&&t.concurrentRequestLimit),this.Ja=new JL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}X=f9.prototype;X.ra=8;X.H=1;function T_(t){if(m9(t),t.H==3){var e=t.W++,n=as(t.I);if(Me(n,"SID",t.K),Me(n,"RID",e),Me(n,"TYPE","terminate"),nu(t,n),e=new Yc(t,t.l,e),e.L=2,e.v=If(as(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=C9(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jc(e)}w9(t)}function Pf(t){t.g&&(N_(t),t.g.cancel(),t.g=null)}function m9(t){Pf(t),t.u&&(me.clearTimeout(t.u),t.u=null),uh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function Lf(t){if(!r9(t.i)&&!t.m){t.m=!0;var e=t.Na;Cc||M4(),bc||(Cc(),bc=!0),y_.add(e,t),t.C=0}}function aA(t,e){return s9(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Qc(Gt(t.Na,t,e),v9(t,t.C)),t.C++,!0)}X.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Yc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=j4(o),P4(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=p9(this,s,e),n=as(this.I),Me(n,"RID",t),Me(n,"CVER",22),this.F&&Me(n,"X-HTTP-Session-Id",this.F),nu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(h9(o)))+"&"+e:this.o&&E_(n,this.o,o)),k_(this.i,s),this.bb&&Me(n,"TYPE","init"),this.P?(Me(n,"$req",e),Me(n,"SID","null"),s.aa=!0,lg(s,n,null)):lg(s,n,e),this.H=2}}else this.H==3&&(t?cw(this,t):this.j.length==0||r9(this.i)||cw(this))};function cw(t,e){var n;e?n=e.m:n=t.W++;const r=as(t.I);Me(r,"SID",t.K),Me(r,"RID",n),Me(r,"AID",t.V),nu(t,r),t.o&&t.s&&E_(r,t.o,t.s),n=new Yc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=p9(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),k_(t.i,n),lg(n,r,e)}function nu(t,e){t.na&&f_(t.na,function(n,r){Me(e,r,n)}),t.h&&X4({},function(n,r){Me(e,r,n)})}function p9(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Gt(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const i=["count="+n];o==-1?0<n?(o=s[0].g,i.push("ofs="+o)):o=0:i.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const d=s[l].map;if(u-=o,0>u)o=Math.max(0,s[l].g-100),a=!1;else try{eA(d,i,"req"+u+"_")}catch{r&&r(d)}}if(a){r=i.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function g9(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Cc||M4(),bc||(Cc(),bc=!0),y_.add(e,t),t.A=0}}function I_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Qc(Gt(t.Ma,t),v9(t,t.A)),t.A++,!0)}X.Ma=function(){if(this.u=null,_9(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qc(Gt(this.jb,this),t)}};X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),Pf(this),_9(this))};function N_(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function _9(t){t.g=new Yc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=as(t.wa);Me(e,"RID","rpc"),Me(e,"SID",t.K),Me(e,"AID",t.V),Me(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Me(e,"TO",t.qa),Me(e,"TYPE","xmlhttp"),nu(t,e),t.o&&t.s&&E_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=If(as(e)),n.s=null,n.S=!0,G4(n,t)}X.ib=function(){this.v!=null&&(this.v=null,Pf(this),I_(this),on(19))};function uh(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function y9(t,e){var n=null;if(t.g==e){uh(t),N_(t),t.g=null;var r=2}else if(ug(t.i,e))n=e.F,o9(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=kf(),At(r,new z4(r,n)),Lf(t)}else g9(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&aA(t,e)||r==2&&I_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Do(t,5);break;case 4:Do(t,10);break;case 3:Do(t,6);break;default:Do(t,2)}}}function v9(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Do(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Gt(t.pb,t);n||(n=new Vo("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||lh(n,"https"),If(n)),tA(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),w9(t),m9(t)}X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))};function w9(t){if(t.H=0,t.ma=[],t.h){const e=i9(t.i);(e.length!=0||t.j.length!=0)&&(J2(t.ma,e),J2(t.ma,t.j),t.i.i.length=0,d_(t.j),t.j.length=0),t.h.ya()}}function x9(t,e,n){var r=n instanceof Vo?as(n):new Vo(n);if(r.g!="")e&&(r.g=e+"."+r.g),ch(r,r.m);else{var s=me.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Vo(null);r&&lh(o,r),e&&(o.g=e),s&&ch(o,s),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Me(r,n,e),Me(r,"VER",t.ra),nu(t,r),r}function C9(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ot(new eu({ob:!0})):new ot(t.va),e.Oa(t.J),e}X.isActive=function(){return!!this.h&&this.h.isActive(this)};function b9(){}X=b9.prototype;X.Ba=function(){};X.Aa=function(){};X.za=function(){};X.ya=function(){};X.isActive=function(){return!0};X.Va=function(){};function dh(){if(wa&&!(10<=Number(vL)))throw Error("Environmental error: no available transport.")}dh.prototype.g=function(t,e){return new Mn(t,e)};function Mn(t,e){St.call(this),this.g=new f9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!wc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ha(this)}Et(Mn,St);Mn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=x9(t,null,t.Y),Lf(t)};Mn.prototype.close=function(){T_(this.g)};Mn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=__(t),t=n);e.j.push(new QL(e.fb++,t)),e.H==3&&Lf(e)};Mn.prototype.N=function(){this.g.h=null,delete this.j,T_(this.g),delete this.g,Mn.$.N.call(this)};function k9(t){C_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Et(k9,C_);function S9(){b_.call(this),this.status=1}Et(S9,b_);function Ha(t){this.g=t}Et(Ha,b9);Ha.prototype.Ba=function(){At(this.g,"a")};Ha.prototype.Aa=function(t){At(this.g,new k9(t))};Ha.prototype.za=function(t){At(this.g,new S9)};Ha.prototype.ya=function(){At(this.g,"b")};function lA(){this.blockSize=-1}function hr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Et(hr,lA);hr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function mp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],i=e+(o^n&(s^o))+r[0]+3614090360&4294967295;e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[1]+3905402710&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[2]+606105819&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[3]+3250441966&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[4]+4118548399&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[5]+1200080426&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[6]+2821735955&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[7]+4249261313&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[8]+1770035416&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[9]+2336552879&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[10]+4294925233&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[11]+2304563134&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[12]+1804603682&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[13]+4254626195&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[14]+2792965006&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[15]+1236535329&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(s^o&(n^s))+r[1]+4129170786&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[6]+3225465664&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[11]+643717713&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[0]+3921069994&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[5]+3593408605&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[10]+38016083&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[15]+3634488961&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[4]+3889429448&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[9]+568446438&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[14]+3275163606&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[3]+4107603335&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[8]+1163531501&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[13]+2850285829&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[2]+4243563512&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[7]+1735328473&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[12]+2368359562&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(n^s^o)+r[5]+4294588738&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[8]+2272392833&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[11]+1839030562&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[14]+4259657740&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[1]+2763975236&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[4]+1272893353&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[7]+4139469664&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[10]+3200236656&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[13]+681279174&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[0]+3936430074&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[3]+3572445317&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[6]+76029189&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[9]+3654602809&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[12]+3873151461&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[15]+530742520&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[2]+3299628645&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(s^(n|~o))+r[0]+4096336452&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[7]+1126891415&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[14]+2878612391&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[5]+4237533241&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[12]+1700485571&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[3]+2399980690&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[10]+4293915773&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[1]+2240044497&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[8]+1873313359&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[15]+4264355552&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[6]+2734768916&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[13]+1309151649&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[4]+4149444226&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[11]+3174756917&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[2]+718787259&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(i<<21&4294967295|i>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}hr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)mp(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){mp(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){mp(this,r),s=0;break}}this.h=s,this.i+=e};hr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ie(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;r&&o==e||(n[s]=o,r=!1)}this.g=n}var cA={};function j_(t){return-128<=t&&128>t?gL(t,function(e){return new Ie([e|0],0>e?-1:0)}):new Ie([t|0],0>t?-1:0)}function Sr(t){if(isNaN(t)||!isFinite(t))return oa;if(0>t)return jt(Sr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=dg;return new Ie(e,0)}function E9(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return jt(E9(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sr(Math.pow(e,8)),r=oa,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),i=parseInt(t.substring(s,s+o),e);8>o?(o=Sr(Math.pow(e,o)),r=r.R(o).add(Sr(i))):(r=r.R(n),r=r.add(Sr(i)))}return r}var dg=4294967296,oa=j_(0),hg=j_(1),uw=j_(16777216);X=Ie.prototype;X.ea=function(){if(Gn(this))return-jt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:dg+r)*e,e*=dg}return t};X.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Kr(this))return"0";if(Gn(this))return"-"+jt(this).toString(t);for(var e=Sr(Math.pow(t,6)),n=this,r="";;){var s=fh(n,e).g;n=hh(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Kr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Kr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Gn(t){return t.h==-1}X.X=function(t){return t=hh(this,t),Gn(t)?-1:Kr(t)?0:1};function jt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ie(n,~t.h).add(hg)}X.abs=function(){return Gn(this)?jt(this):this};X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(this.D(s)&65535)+(t.D(s)&65535),i=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=i>>>16,o&=65535,i&=65535,n[s]=i<<16|o}return new Ie(n,n[n.length-1]&-2147483648?-1:0)};function hh(t,e){return t.add(jt(e))}X.R=function(t){if(Kr(this)||Kr(t))return oa;if(Gn(this))return Gn(t)?jt(this).R(jt(t)):jt(jt(this).R(t));if(Gn(t))return jt(this.R(jt(t)));if(0>this.X(uw)&&0>t.X(uw))return Sr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var o=this.D(r)>>>16,i=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=i*l,Bu(n,2*r+2*s),n[2*r+2*s+1]+=o*l,Bu(n,2*r+2*s+1),n[2*r+2*s+1]+=i*a,Bu(n,2*r+2*s+1),n[2*r+2*s+2]+=o*a,Bu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ie(n,0)};function Bu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function il(t,e){this.g=t,this.h=e}function fh(t,e){if(Kr(e))throw Error("division by zero");if(Kr(t))return new il(oa,oa);if(Gn(t))return e=fh(jt(t),e),new il(jt(e.g),jt(e.h));if(Gn(e))return e=fh(t,jt(e)),new il(jt(e.g),e.h);if(30<t.g.length){if(Gn(t)||Gn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=hg,r=e;0>=r.X(t);)n=dw(n),r=dw(r);var s=Ci(n,1),o=Ci(r,1);for(r=Ci(r,2),n=Ci(n,2);!Kr(r);){var i=o.add(r);0>=i.X(t)&&(s=s.add(n),o=i),r=Ci(r,1),n=Ci(n,1)}return e=hh(t,s.R(e)),new il(s,e)}for(s=oa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Sr(n),i=o.R(e);Gn(i)||0<i.X(t);)n-=r,o=Sr(n),i=o.R(e);Kr(o)&&(o=hg),s=s.add(o),t=hh(t,i)}return new il(s,t)}X.gb=function(t){return fh(this,t).h};X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ie(n,this.h&t.h)};X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ie(n,this.h|t.h)};X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ie(n,this.h^t.h)};function dw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ie(n,t.h)}function Ci(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ie(s,t.h)}dh.prototype.createWebChannel=dh.prototype.g;Mn.prototype.send=Mn.prototype.u;Mn.prototype.open=Mn.prototype.m;Mn.prototype.close=Mn.prototype.close;Sf.NO_ERROR=0;Sf.TIMEOUT=8;Sf.HTTP_ERROR=6;H4.COMPLETE="complete";q4.EventType=Xc;Xc.OPEN="a";Xc.CLOSE="b";Xc.ERROR="c";Xc.MESSAGE="d";St.prototype.listen=St.prototype.O;ot.prototype.listenOnce=ot.prototype.P;ot.prototype.getLastError=ot.prototype.Sa;ot.prototype.getLastErrorCode=ot.prototype.Ia;ot.prototype.getStatus=ot.prototype.da;ot.prototype.getResponseJson=ot.prototype.Wa;ot.prototype.getResponseText=ot.prototype.ja;ot.prototype.send=ot.prototype.ha;ot.prototype.setWithCredentials=ot.prototype.Oa;hr.prototype.digest=hr.prototype.l;hr.prototype.reset=hr.prototype.reset;hr.prototype.update=hr.prototype.j;Ie.prototype.add=Ie.prototype.add;Ie.prototype.multiply=Ie.prototype.R;Ie.prototype.modulo=Ie.prototype.gb;Ie.prototype.compare=Ie.prototype.X;Ie.prototype.toNumber=Ie.prototype.ea;Ie.prototype.toString=Ie.prototype.toString;Ie.prototype.getBits=Ie.prototype.D;Ie.fromNumber=Sr;Ie.fromString=E9;var uA=function(){return new dh},dA=function(){return kf()},pp=Sf,hA=H4,fA=di,hw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mA=eu,Uu=q4,pA=ot,gA=hr,ia=Ie;const fw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Y0("@firebase/firestore");function mw(){return ei.logLevel}function re(t,...e){if(ei.logLevel<=ke.DEBUG){const n=e.map(P_);ei.debug(`Firestore (${qa}): ${t}`,...n)}}function ls(t,...e){if(ei.logLevel<=ke.ERROR){const n=e.map(P_);ei.error(`Firestore (${qa}): ${t}`,...n)}}function xa(t,...e){if(ei.logLevel<=ke.WARN){const n=e.map(P_);ei.warn(`Firestore (${qa}): ${t}`,...n)}}function P_(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: `+t;throw ls(e),new Error(e)}function Be(t,e){t||fe()}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _A{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class yA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vA{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xr,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xr)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string"),new T9(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string"),new Vt(e)}}class wA{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class xA{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new wA(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bA{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.T;return this.T=o.token,re("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?s(o):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string"),this.T=n.token,new CA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=kA(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Ca(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new pt(0,0))}static max(){return new pe(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ic.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ic?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),i=n.get(s);if(o<i)return-1;if(o>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends Ic{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const SA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends Ic{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return SA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new J(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe($e.fromString(e))}static fromName(e){return new oe($e.fromString(e).popFirst(5))}static empty(){return new oe($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new $e(e.slice()))}}function EA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new pt(n+1,0):new pt(n,r));return new no(s,oe.empty(),e)}function TA(t){return new no(t.readTime,t.key,-1)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(pe.min(),oe.empty(),-1)}static max(){return new no(pe.max(),oe.empty(),-1)}}function IA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==NA)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},l=>r(l))}),i=!0,o===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{i[u]=d,++a,a===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new W((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}L_.ct=-1;function Af(t){return t==null}function mh(t){return t===0&&1/t==-1/0}function PA(t){return typeof t=="number"&&Number.isInteger(t)&&!mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function N9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vu(this.root,e,this.comparator,!0)}}class Vu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=s??Nt.EMPTY,this.right=o??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Nt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Nt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,e,n,r,s){return this}insert(t,e,n){return new Nt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gw(this.data.getIterator())}getIteratorFrom(e){return new gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new Zt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new j9("Invalid base64 string: "+s):s}}(e);return new tn(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const LA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(Be(!!t),typeof t=="string"){let e=0;const n=LA.exec(t);if(Be(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function R_(t){const e=t.mapValue.fields.__previous_value__;return A_(e)?R_(e):e}function Nc(t){const e=ro(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r,s,o,i,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class jc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu={mapValue:{}};function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A_(t)?4:RA(t)?9007199254740991:10:fe()}function Dr(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nc(t).isEqual(Nc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=ro(r.timestampValue),i=ro(s.timestampValue);return o.seconds===i.seconds&&o.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return ti(r.bytesValue).isEqual(ti(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return ht(r.geoPointValue.latitude)===ht(s.geoPointValue.latitude)&&ht(r.geoPointValue.longitude)===ht(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ht(r.integerValue)===ht(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=ht(r.doubleValue),i=ht(s.doubleValue);return o===i?mh(o)===mh(i):isNaN(o)&&isNaN(i)}return!1}(t,e);case 9:return Ca(t.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:return function(r,s){const o=r.mapValue.fields||{},i=s.mapValue.fields||{};if(pw(o)!==pw(i))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(i[a]===void 0||!Dr(o[a],i[a])))return!1;return!0}(t,e);default:return fe()}}function Pc(t,e){return(t.values||[]).find(n=>Dr(n,e))!==void 0}function ba(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const i=ht(s.integerValue||s.doubleValue),a=ht(o.integerValue||o.doubleValue);return i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1}(t,e);case 3:return _w(t.timestampValue,e.timestampValue);case 4:return _w(Nc(t),Nc(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,o){const i=ti(s),a=ti(o);return i.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const i=s.split("/"),a=o.split("/");for(let l=0;l<i.length&&l<a.length;l++){const u=Se(i[l],a[l]);if(u!==0)return u}return Se(i.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const i=Se(ht(s.latitude),ht(o.latitude));return i!==0?i:Se(ht(s.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const i=s.values||[],a=o.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=ba(i[l],a[l]);if(u)return u}return Se(i.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===zu.mapValue&&o===zu.mapValue)return 0;if(s===zu.mapValue)return 1;if(o===zu.mapValue)return-1;const i=s.fields||{},a=Object.keys(i),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const h=Se(a[d],u[d]);if(h!==0)return h;const m=ba(i[a[d]],l[u[d]]);if(m!==0)return m}return Se(a.length,u.length)}(t.mapValue,e.mapValue);default:throw fe()}}function _w(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=ro(t),r=ro(e),s=Se(n.seconds,r.seconds);return s!==0?s:Se(n.nanos,r.nanos)}function ka(t){return fg(t)}function fg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=ro(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ti(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,oe.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",o=!0;for(const i of r.values||[])o?o=!1:s+=",",s+=fg(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",i=!0;for(const a of s)i?i=!1:o+=",",o+=`${a}:${fg(r.fields[a])}`;return o+"}"}(t.mapValue):fe();var e,n}function yw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mg(t){return!!t&&"integerValue"in t}function D_(t){return!!t&&"arrayValue"in t}function vw(t){return!!t&&"nullValue"in t}function ww(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xd(t){return!!t&&"mapValue"in t}function Bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=qt.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=Bl(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());xd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];xd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){hi(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new pn(Bl(this.value))}}function P9(t){const e=[];return hi(t.fields,(n,r)=>{const s=new qt([n]);if(xd(r)){const o=P9(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,pe.min(),pe.min(),pe.min(),pn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,pe.min(),pe.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,pe.min(),pe.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function xw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(i.referenceValue),n.key):r=ba(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Dr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n="asc"){this.field=e,this.dir=n}}function DA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{}class mt extends L9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MA(e,n,r):n==="array-contains"?new BA(e,r):n==="in"?new UA(e,r):n==="not-in"?new VA(e,r):n==="array-contains-any"?new zA(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $A(e,r):new FA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ba(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(ba(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fr extends L9{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new fr(e,n)}matches(e){return A9(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function A9(t){return t.op==="and"}function R9(t){return OA(t)&&A9(t)}function OA(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function pg(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+ka(t.value);if(R9(t))return t.filters.map(e=>pg(e)).join(",");{const e=t.filters.map(n=>pg(n)).join(",");return`${t.op}(${e})`}}function D9(t,e){return t instanceof mt?function(n,r){return r instanceof mt&&n.op===r.op&&n.field.isEqual(r.field)&&Dr(n.value,r.value)}(t,e):t instanceof fr?function(n,r){return r instanceof fr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,o,i)=>s&&D9(o,r.filters[i]),!0):!1}(t,e):void fe()}function O9(t){return t instanceof mt?function(e){return`${e.field.canonicalString()} ${e.op} ${ka(e.value)}`}(t):t instanceof fr?function(e){return e.op.toString()+" {"+e.getFilters().map(O9).join(" ,")+"}"}(t):"Filter"}class MA extends mt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class $A extends mt{constructor(e,n){super(e,"in",n),this.keys=M9("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FA extends mt{constructor(e,n){super(e,"not-in",n),this.keys=M9("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function M9(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class BA extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return D_(n)&&Pc(n.arrayValue,this.value)}}class UA extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pc(this.value.arrayValue,n)}}class VA extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pc(this.value.arrayValue,n)}}class zA extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!D_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.dt=null}}function bw(t,e=null,n=[],r=[],s=null,o=null,i=null){return new HA(t,e,n,r,s,o,i)}function O_(t){const e=ge(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),e.dt=n}return e.dt}function M_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!D9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cw(t.startAt,e.startAt)&&Cw(t.endAt,e.endAt)}function gg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function qA(t,e,n,r,s,o,i,a){return new Wa(t,e,n,r,s,o,i,a)}function Rf(t){return new Wa(t)}function kw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Df(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function $9(t){return t.collectionGroup!==null}function la(t){const e=ge(t);if(e.wt===null){e.wt=[];const n=Df(e),r=$_(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new aa(n)),e.wt.push(new aa(qt.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new aa(qt.keyField(),o))}}}return e.wt}function cs(t){const e=ge(t);if(!e._t)if(e.limitType==="F")e._t=bw(e.path,e.collectionGroup,la(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of la(e)){const i=o.dir==="desc"?"asc":"desc";n.push(new aa(o.field,i))}const r=e.endAt?new ph(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ph(e.startAt.position,e.startAt.inclusive):null;e._t=bw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function _g(t,e){e.getFirstInequalityField(),Df(t);const n=t.filters.concat([e]);return new Wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yg(t,e,n){return new Wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Of(t,e){return M_(cs(t),cs(e))&&t.limitType===e.limitType}function F9(t){return`${O_(cs(t))}|lt:${t.limitType}`}function vg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>O9(r)).join(", ")}]`),Af(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),`Target(${n})`}(cs(t))}; limitType=${t.limitType})`}function Mf(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):oe.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of la(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,o,i){const a=xw(s,o,i);return s.inclusive?a<=0:a<0}(n.startAt,la(n),r)||n.endAt&&!function(s,o,i){const a=xw(s,o,i);return s.inclusive?a>=0:a>0}(n.endAt,la(n),r))}(t,e)}function WA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function B9(t){return(e,n)=>{let r=!1;for(const s of la(t)){const o=GA(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function GA(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,i){const a=o.data.field(s),l=i.data.field(s);return a!==null&&l!==null?ba(a,l):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hi(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return N9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new et(oe.comparator);function us(){return KA}const U9=new et(oe.comparator);function kl(...t){let e=U9;for(const n of t)e=e.insert(n.key,n);return e}function V9(t){let e=U9;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oo(){return Ul()}function z9(){return Ul()}function Ul(){return new Ga(t=>t.toString(),(t,e)=>t.isEqual(e))}const ZA=new et(oe.comparator),QA=new Zt(oe.comparator);function xe(...t){let e=QA;for(const n of t)e=e.add(n);return e}const XA=new Zt(Se);function YA(){return XA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function q9(t){return{integerValue:""+t}}function W9(t,e){return PA(e)?q9(e):H9(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function JA(t,e,n){return t instanceof Lc?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&A_(s)&&(s=R_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Sa?K9(t,e):t instanceof Ea?Z9(t,e):function(r,s){const o=G9(r,s),i=Sw(o)+Sw(r.gt);return mg(o)&&mg(r.gt)?q9(i):H9(r.serializer,i)}(t,e)}function eR(t,e,n){return t instanceof Sa?K9(t,e):t instanceof Ea?Z9(t,e):n}function G9(t,e){return t instanceof Ac?mg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Lc extends $f{}class Sa extends $f{constructor(e){super(),this.elements=e}}function K9(t,e){const n=Q9(e);for(const r of t.elements)n.some(s=>Dr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ea extends $f{constructor(e){super(),this.elements=e}}function Z9(t,e){let n=Q9(e);for(const r of t.elements)n=n.filter(s=>!Dr(s,r));return{arrayValue:{values:n}}}class Ac extends $f{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Sw(t){return ht(t.integerValue||t.doubleValue)}function Q9(t){return D_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.field=e,this.transform=n}}function tR(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Sa&&r instanceof Sa||n instanceof Ea&&r instanceof Ea?Ca(n.elements,r.elements,Dr):n instanceof Ac&&r instanceof Ac?Dr(n.gt,r.gt):n instanceof Lc&&r instanceof Lc}(t.transform,e.transform)}class nR{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bf{}function X9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new F_(t.key,Qn.none()):new ou(t.key,t.data,Qn.none());{const n=t.data,r=pn.empty();let s=new Zt(qt.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new po(t.key,r,new Ln(s.toArray()),Qn.none())}}function rR(t,e,n){t instanceof ou?function(r,s,o){const i=r.value.clone(),a=Tw(r.fieldTransforms,s,o.transformResults);i.setAll(a),s.convertToFoundDocument(o.version,i).setHasCommittedMutations()}(t,e,n):t instanceof po?function(r,s,o){if(!Cd(r.precondition,s))return void s.convertToUnknownDocument(o.version);const i=Tw(r.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(Y9(r)),a.setAll(i),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vl(t,e,n,r){return t instanceof ou?function(s,o,i,a){if(!Cd(s.precondition,o))return i;const l=s.value.clone(),u=Iw(s.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof po?function(s,o,i,a){if(!Cd(s.precondition,o))return i;const l=Iw(s.fieldTransforms,a,o),u=o.data;return u.setAll(Y9(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),i===null?null:i.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,i){return Cd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):i}(t,e,n)}function sR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=G9(r.transform,s||null);o!=null&&(n===null&&(n=pn.empty()),n.set(r.field,o))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ca(n,r,(s,o)=>tR(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ou extends Bf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class po extends Bf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Y9(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Tw(t,e,n){const r=new Map;Be(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,eR(i,a,n[s]))}return r}function Iw(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,JA(o,i,e))}return r}class F_ extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oR extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&rR(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=z9();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const l=X9(i,a);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(n,r)=>Ew(n,r))&&Ca(this.baseMutations,e.baseMutations,(n,r)=>Ew(n,r))}}class B_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Be(e.mutations.length===r.length);let s=ZA;const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new B_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ce;function cR(t){switch(t){default:return fe();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function J9(t){if(t===void 0)return ls("GRPC error has no .code"),U.UNKNOWN;switch(t){case dt.OK:return U.OK;case dt.CANCELLED:return U.CANCELLED;case dt.UNKNOWN:return U.UNKNOWN;case dt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case dt.INTERNAL:return U.INTERNAL;case dt.UNAVAILABLE:return U.UNAVAILABLE;case dt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case dt.NOT_FOUND:return U.NOT_FOUND;case dt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case dt.ABORTED:return U.ABORTED;case dt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case dt.DATA_LOSS:return U.DATA_LOSS;default:return fe()}}(Ce=dt||(dt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Hu}static getOrCreateInstance(){return Hu===null&&(Hu=new U_),Hu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Hu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new ia([4294967295,4294967295],0);function Nw(t){const e=uR().encode(t),n=new gA;return n.update(e),new Uint8Array(n.digest())}function jw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ia([n,r],0),new ia([s,o],0)]}class V_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ia.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(ia.fromNumber(r)));return s.compare(dR)===1&&(s=new ia([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Nw(e),[r,s]=jw(n);for(let o=0;o<this.hashCount;o++){const i=this.Et(r,s,o);if(!this.At(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new V_(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.It===0)return;const n=Nw(e),[r,s]=jw(n);for(let o=0;o<this.hashCount;o++){const i=this.Et(r,s,o);this.Rt(i)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uf(pe.min(),s,new et(Se),us(),xe())}}class iu{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new iu(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class e7{constructor(e,n){this.targetId=e,this.Vt=n}}class t7{constructor(e,n,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Pw{constructor(){this.St=0,this.Dt=Aw(),this.Ct=tn.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=xe(),n=xe(),r=xe();return this.Dt.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new iu(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Aw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class hR{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=us(),this.zt=Lw(),this.Wt=new et(Se)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,o=this.se(r);if(o){const i=o.target;if(gg(i))if(s===0){const a=new oe(i.path);this.Yt(r,a,Ht.newNoDocument(a,pe.min()))}else Be(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=U_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,d,h){var m,p,_,v,x,y;const g={localCacheCount:d,existenceFilterCount:h.count},w=h.unchangedNames;return w&&(g.bloomFilter={applied:u===0,hashCount:(m=w==null?void 0:w.hashCount)!==null&&m!==void 0?m:0,bitmapLength:(v=(_=(p=w==null?void 0:w.bits)===null||p===void 0?void 0:p.bitmap)===null||_===void 0?void 0:_.length)!==null&&v!==void 0?v:0,padding:(y=(x=w==null?void 0:w.bits)===null||x===void 0?void 0:x.padding)!==null&&y!==void 0?y:0}),g}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:i=0},hashCount:a=0}=r;let l,u;try{l=ti(o).toUint8Array()}catch(d){if(d instanceof j9)return xa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{u=new V_(l,i,a)}catch(d){return xa(d instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return u.It===0?1:s!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(o=>{const i=this.Gt.ue(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((o,i)=>{const a=this.se(i);if(a){if(o.current&&gg(a.target)){const l=new oe(a.target.path);this.jt.get(l)!==null||this.ae(i,l)||this.Yt(i,l,Ht.newNoDocument(l,e))}o.Mt&&(n.set(i,o.Ot()),o.Ft())}});let r=xe();this.zt.forEach((o,i)=>{let a=!0;i.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,i)=>i.setReadTime(e));const s=new Uf(e,n,this.Wt,this.jt,r);return this.jt=us(),this.zt=Lw(),this.Wt=new et(Se),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Pw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Zt(Se),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Pw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Lw(){return new et(oe.comparator)}function Aw(){return new et(oe.comparator)}const fR={asc:"ASCENDING",desc:"DESCENDING"},mR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pR={and:"AND",or:"OR"};class gR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wg(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _R(t,e){return gh(t,e.toTimestamp())}function Lr(t){return Be(!!t),pe.fromTimestamp(function(e){const n=ro(e);return new pt(n.seconds,n.nanos)}(t))}function z_(t,e){return function(n){return new $e(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function r7(t){const e=$e.fromString(t);return Be(a7(e)),e}function xg(t,e){return z_(t.databaseId,e.path)}function gp(t,e){const n=r7(e);if(n.get(1)!==t.databaseId.projectId)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(s7(n))}function Cg(t,e){return z_(t.databaseId,e)}function yR(t){const e=r7(t);return e.length===4?$e.emptyPath():s7(e)}function bg(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s7(t){return Be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rw(t,e,n){return{name:xg(t,e),fields:n.value.mapValue.fields}}function vR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Be(u===void 0||typeof u=="string"),tn.fromBase64String(u||"")):(Be(u===void 0||u instanceof Uint8Array),tn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(l){const u=l.code===void 0?U.UNKNOWN:J9(l.code);return new J(u,l.message||"")}(i);n=new t7(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gp(t,r.document.name),o=Lr(r.document.updateTime),i=r.document.createTime?Lr(r.document.createTime):pe.min(),a=new pn({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(s,o,i,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new bd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gp(t,r.document),o=r.readTime?Lr(r.readTime):pe.min(),i=Ht.newNoDocument(s,o),a=r.removedTargetIds||[];n=new bd([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gp(t,r.document),o=r.removedTargetIds||[];n=new bd([],o,s,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new lR(s,o),a=r.targetId;n=new e7(a,i)}}return n}function wR(t,e){let n;if(e instanceof ou)n={update:Rw(t,e.key,e.value)};else if(e instanceof F_)n={delete:xg(t,e.key)};else if(e instanceof po)n={update:Rw(t,e.key,e.data),updateMask:NR(e.fieldMask)};else{if(!(e instanceof oR))return fe();n={verify:xg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const i=o.transform;if(i instanceof Lc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof Sa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof Ea)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof Ac)return{fieldPath:o.field.canonicalString(),increment:i.gt};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:_R(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:fe()}(t,e.precondition)),n}function xR(t,e){return t&&t.length>0?(Be(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Lr(r.updateTime):Lr(s);return o.isEqual(pe.min())&&(o=Lr(s)),new nR(o,r.transformResults||[])}(n,e))):[]}function CR(t,e){return{documents:[Cg(t,e.path)]}}function bR(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Cg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Cg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return i7(fr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:ji(d.field),direction:ER(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const i=wg(t,e.limit);var a;return i!==null&&(n.structuredQuery.limit=i),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function kR(t){let e=yR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Be(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(d){const h=o7(d);return h instanceof fr&&R9(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=n.orderBy.map(d=>function(h){return new aa(Pi(h.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Af(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new ph(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,m=d.values||[];return new ph(m,h)}(n.endAt)),qA(e,s,i,o,a,"F",l,u)}function SR(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o7(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Pi(e.unaryFilter.field);return mt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Pi(e.unaryFilter.field);return mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Pi(e.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Pi(e.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(e){return mt.create(Pi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return fr.create(e.compositeFilter.filters.map(n=>o7(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return fe()}}(e.compositeFilter.op))}(t):fe()}function ER(t){return fR[t]}function TR(t){return mR[t]}function IR(t){return pR[t]}function ji(t){return{fieldPath:t.canonicalString()}}function Pi(t){return qt.fromServerFormat(t.fieldPath)}function i7(t){return t instanceof mt?function(e){if(e.op==="=="){if(ww(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NAN"}};if(vw(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ww(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NOT_NAN"}};if(vw(e.value))return{unaryFilter:{field:ji(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ji(e.field),op:TR(e.op),value:e.value}}}(t):t instanceof fr?function(e){const n=e.getFilters().map(r=>i7(r));return n.length===1?n[0]:{compositeFilter:{op:IR(e.op),filters:n}}}(t):fe()}function NR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function a7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n,r,s,o=pe.min(),i=pe.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.fe=e}}function PR(t){const e=kR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.rn=new AR}addToCollectionParentIndex(e,n){return this.rn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(no.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class AR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Zt($e.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Zt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ta(0)}static Mn(){return new Ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.changes=new Ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Vl(r.mutation,s,Ln.empty(),pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=Oo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=kl();return o.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Oo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=us();const i=Ul(),a=Ul();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof po)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),Vl(d.mutation,u,d.mutation.getFieldMask(),pt.now())):i.set(u.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new DR(d,(h=i.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ul();let s=new et((i,a)=>i-a),o=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Ln.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||xe()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=z9();d.forEach(m=>{if(!o.has(m)){const p=X9(n.get(m),r.get(m));p!==null&&h.set(m,p),o=o.add(m)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,h))}return W.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):W.resolve(Oo());let a=-1,l=o;return i.next(u=>W.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,xe())).next(d=>({batchId:a,changes:V9(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=kl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let o=kl();return this.indexManager.getCollectionParents(e,s).next(i=>W.forEach(i,a=>{const l=function(u,d){return new Wa(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(o=>{s.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Ht.newInvalidDocument(u)))});let i=kl();return o.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Vl(u.mutation,l,Ln.empty(),pt.now()),Mf(n,l)&&(i=i.insert(a,l))}),i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return W.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Lr(r.createTime)}),W.resolve()}getNamedQuery(e,n){return W.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:PR(r.bundledQuery),readTime:Lr(r.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.overlays=new et(oe.comparator),this.ls=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oo();return W.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.we(e,n,o)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=Oo(),o=n.length+1,i=new oe(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new et((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Oo(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Oo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return W.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new aR(n,r));let o=this.ls.get(n);o===void 0&&(o=xe(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.fs=new Zt(Ct.ds),this.ws=new Zt(Ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Ct(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new oe(new $e([])),r=new Ct(n,e),s=new Ct(n,e+1),o=[];return this.ws.forEachInRange([r,s],i=>{this.ys(i),o.push(i.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new oe(new $e([])),r=new Ct(n,e),s=new Ct(n,e+1);let o=xe();return this.ws.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new Ct(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return oe.comparator(e.key,n.key)||Se(e.As,n.As)}static _s(e,n){return Se(e.As,n.As)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Zt(Ct.ds)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new iR(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.Rs=this.Rs.add(new Ct(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(i)}lookupMutationBatch(e,n){return W.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),o=s<0?0:s;return W.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,s],i=>{const a=this.Ps(i.As);o.push(a)}),W.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Se);return n.forEach(s=>{const o=new Ct(s,0),i=new Ct(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,i],a=>{r=r.add(a.As)})}),W.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;oe.isDocumentKey(o)||(o=o.child(""));const i=new Ct(new oe(o),0);let a=new Zt(Se);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.As)),!0)},i),W.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Be(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return W.forEach(n.mutations,s=>{const o=new Ct(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Ct(n,0),s=this.Rs.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.Ds=e,this.docs=new et(oe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=us();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Ht.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=us();const i=n.path,a=new oe(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||IA(TA(d),r)<=0||(s.has(d.key)||Mf(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return W.resolve(o)}getAllFromCollectionGroup(e,n,r,s){fe()}Cs(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UR(this)}getSize(e){return W.resolve(this.size)}}class UR extends RR{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.persistence=e,this.xs=new Ga(n=>O_(n),M_),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Ns=0,this.ks=new H_,this.targetCount=0,this.Ms=Ta.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),W.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Ta(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Fn(n),W.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.xs.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(o).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),W.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.$s={},this.overlays={},this.Os=new L_(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new VR(this),this.indexManager=new LR,this.remoteDocumentCache=function(r){return new BR(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new jR(n),this.qs=new MR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $R,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new FR(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new HR(this.Os.next());return this.referenceDelegate.Us(),r(s).next(o=>this.referenceDelegate.Ks(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Gs(e,n){return W.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class HR extends jA{constructor(e){super(),this.currentSequenceNumber=e}}class q_{constructor(e){this.persistence=e,this.Qs=new H_,this.js=null}static zs(e){return new q_(e)}get Ws(){if(this.js)return this.js;throw fe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),W.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Ws,r=>{const s=oe.fromPath(r);return this.Hs(e,s).next(o=>{o||n.removeEntry(s,pe.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return W.or([()=>W.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=xe(),s=xe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new W_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(o=>o||this.Gi(e,n,s,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(kw(n))return W.resolve(null);let r=cs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yg(n,null,"F"),r=cs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=xe(...o);return this.Ui.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,i,l.readTime)?this.Ki(e,yg(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,s){return kw(n)||s.isEqual(pe.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const i=this.ji(n,o);return this.zi(n,i,r,s)?this.Qi(e,n):(mw()<=ke.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vg(n)),this.Wi(e,i,n,EA(s,-1)))})}ji(e,n){let r=new Zt(B9(e));return n.forEach((s,o)=>{Mf(e,o)&&(r=r.add(o))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Qi(e,n){return mw()<=ke.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",vg(n)),this.Ui.getDocumentsMatchingQuery(e,n,no.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new et(Se),this.Yi=new Ga(o=>O_(o),M_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function GR(t,e,n,r){return new WR(t,e,n,r)}async function l7(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let l=xe();for(const u of s){i.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:i,addedBatchIds:a}))})})}function KR(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(i,a,l,u){const d=l.batch,h=d.keys();let m=W.resolve();return h.forEach(p=>{m=m.next(()=>u.getEntry(a,p)).next(_=>{const v=l.docVersions.get(p);Be(v!==null),_.version.compareTo(v)<0&&(d.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),u.addEntry(_)))})}),m.next(()=>i.mutationQueue.removeMutationBatch(a,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(i){let a=xe();for(let l=0;l<i.mutationResults.length;++l)i.mutationResults[l].transformResults.length>0&&(a=a.add(i.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function c7(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ZR(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((d,h)=>{const m=s.get(h);if(!m)return;a.push(n.Bs.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(o,d.addedDocuments,h)));let p=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(tn.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(_,v,x){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,p,d)&&a.push(n.Bs.updateTargetData(o,p))});let l=us(),u=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(QR(o,i,e.documentUpdates).next(d=>{l=d.nr,u=d.sr})),!r.isEqual(pe.min())){const d=n.Bs.getLastRemoteSnapshotVersion(o).next(h=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return W.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=s,o))}function QR(t,e,n){let r=xe(),s=xe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=us();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:i,sr:s}})}function XR(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function YR(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(o=>o?(s=o,W.resolve(s)):n.Bs.allocateTargetId(r).next(i=>(s=new Fs(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function kg(t,e,n){const r=ge(t),s=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!su(i))throw i;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function Dw(t,e,n){const r=ge(t);let s=pe.min(),o=xe();return r.persistence.runTransaction("Execute query","readonly",i=>function(a,l,u){const d=ge(a),h=d.Yi.get(u);return h!==void 0?W.resolve(d.Ji.get(h)):d.Bs.getTargetData(l,u)}(r,i,cs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(i,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(i,e,n?s:pe.min(),n?o:xe())).next(a=>(JR(r,WA(e),a),{documents:a,ir:o})))}function JR(t,e,n){let r=t.Xi.get(e)||pe.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class Ow{constructor(){this.activeTargetIds=YA()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eD{constructor(){this.Hr=new Ow,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Ow,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function _p(){return qu===null?qu=268435456+Math.round(2147483648*Math.random()):qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class sD extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,o){const i=_p(),a=this.To(e,n);re("RestConnection",`Sending RPC '${e}' ${i}:`,a,r);const l={};return this.Eo(l,s,o),this.Ao(e,a,l,r).then(u=>(re("RestConnection",`Received RPC '${e}' ${i}: `,u),u),u=>{throw xa("RestConnection",`RPC '${e}' ${i} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,s,o,i){return this.Io(e,n,r,s,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}To(e,n){const r=nD[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const o=_p();return new Promise((i,a)=>{const l=new pA;l.setWithCredentials(!0),l.listenOnce(hA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pp.NO_ERROR:const d=l.getResponseJson();re(Ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),i(d);break;case pp.TIMEOUT:re(Ft,`RPC '${e}' ${o} timed out`),a(new J(U.DEADLINE_EXCEEDED,"Request time out"));break;case pp.HTTP_ERROR:const h=l.getStatus();if(re(Ft,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const _=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(p.status);a(new J(_,p.message))}else a(new J(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(U.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{re(Ft,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);re(Ft,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const s=_p(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=uA(),a=dA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new mA({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");re(Ft,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=i.createWebChannel(d,l);let m=!1,p=!1;const _=new rD({ro:x=>{p?re(Ft,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(m||(re(Ft,`Opening RPC '${e}' stream ${s} transport.`),h.open(),m=!0),re(Ft,`RPC '${e}' stream ${s} sending:`,x),h.send(x))},oo:()=>h.close()}),v=(x,y,g)=>{x.listen(y,w=>{try{g(w)}catch(b){setTimeout(()=>{throw b},0)}})};return v(h,Uu.EventType.OPEN,()=>{p||re(Ft,`RPC '${e}' stream ${s} transport opened.`)}),v(h,Uu.EventType.CLOSE,()=>{p||(p=!0,re(Ft,`RPC '${e}' stream ${s} transport closed`),_.wo())}),v(h,Uu.EventType.ERROR,x=>{p||(p=!0,xa(Ft,`RPC '${e}' stream ${s} transport errored:`,x),_.wo(new J(U.UNAVAILABLE,"The operation could not be completed")))}),v(h,Uu.EventType.MESSAGE,x=>{var y;if(!p){const g=x.data[0];Be(!!g);const w=g,b=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(b){re(Ft,`RPC '${e}' stream ${s} received error:`,b);const C=b.status;let k=function(S){const E=dt[S];if(E!==void 0)return J9(E)}(C),T=b.message;k===void 0&&(k=U.INTERNAL,T="Unknown error status: "+C+" with message "+b.message),p=!0,_.wo(new J(k,T)),h.close()}else re(Ft,`RPC '${e}' stream ${s} received:`,g),_._o(g)}}),v(a,fA.STAT_EVENT,x=>{x.stat===hw.PROXY?re(Ft,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===hw.NOPROXY&&re(Ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t){return new gR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,n,r,s,o,i,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new u7(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new J(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oD extends d7{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=vR(this.serializer,e),r=function(s){if(!("targetChange"in s))return pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?Lr(o.readTime):pe.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=bg(this.serializer),n.addTarget=function(s,o){let i;const a=o.target;if(i=gg(a)?{documents:CR(s,a)}:{query:bR(s,a)},i.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){i.resumeToken=n7(s,o.resumeToken);const l=wg(s,o.expectedCount);l!==null&&(i.expectedCount=l)}else if(o.snapshotVersion.compareTo(pe.min())>0){i.readTime=gh(s,o.snapshotVersion.toTimestamp());const l=wg(s,o.expectedCount);l!==null&&(i.expectedCount=l)}return i}(this.serializer,e);const r=SR(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=bg(this.serializer),n.removeTarget=e,this.Wo(n)}}class iD extends d7{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=xR(e.writeResults,e.commitTime),r=Lr(e.commitTime);return this.listener.cu(r,n)}return Be(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=bg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wR(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Io(e,n,r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(U.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.vo(e,n,r,o,i,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(U.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class lD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ls(n),this.mu=!1):re("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(i=>{r.enqueueAndForget(async()=>{fi(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ge(a);l.vu.add(4),await au(l),l.bu.set("Unknown"),l.vu.delete(4),await zf(l)}(this))})}),this.bu=new lD(r,s)}}async function zf(t){if(fi(t))for(const e of t.Ru)await e(!0)}async function au(t){for(const e of t.Ru)await e(!1)}function h7(t,e){const n=ge(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Z_(n)?K_(n):Ka(n).Ko()&&G_(n,e))}function f7(t,e){const n=ge(t),r=Ka(n);n.Au.delete(e),r.Ko()&&m7(n,e),n.Au.size===0&&(r.Ko()?r.jo():fi(n)&&n.bu.set("Unknown"))}function G_(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ka(t).su(e)}function m7(t,e){t.Vu.qt(e),Ka(t).iu(e)}function K_(t){t.Vu=new hR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ka(t).start(),t.bu.gu()}function Z_(t){return fi(t)&&!Ka(t).Uo()&&t.Au.size>0}function fi(t){return ge(t).vu.size===0}function p7(t){t.Vu=void 0}async function uD(t){t.Au.forEach((e,n)=>{G_(t,e)})}async function dD(t,e){p7(t),Z_(t)?(t.bu.Iu(e),K_(t)):t.bu.set("Unknown")}async function hD(t,e,n){if(t.bu.set("Online"),e instanceof t7&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const i of s.targetIds)r.Au.has(i)&&(await r.remoteSyncer.rejectListen(i,o),r.Au.delete(i),r.Vu.removeTarget(i))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _h(t,r)}else if(e instanceof bd?t.Vu.Ht(e):e instanceof e7?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(pe.min()))try{const r=await c7(t.localStore);n.compareTo(r)>=0&&await function(s,o){const i=s.Vu.ce(o);return i.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.Au.get(l);u&&s.Au.set(l,u.withResumeToken(a.resumeToken,o))}}),i.targetMismatches.forEach((a,l)=>{const u=s.Au.get(a);if(!u)return;s.Au.set(a,u.withResumeToken(tn.EMPTY_BYTE_STRING,u.snapshotVersion)),m7(s,a);const d=new Fs(u.target,a,l,u.sequenceNumber);G_(s,d)}),s.remoteSyncer.applyRemoteEvent(i)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await _h(t,r)}}async function _h(t,e,n){if(!su(e))throw e;t.vu.add(1),await au(t),t.bu.set("Offline"),n||(n=()=>c7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await zf(t)})}function g7(t,e){return e().catch(n=>_h(t,n,e))}async function Hf(t){const e=ge(t),n=so(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;fD(e);)try{const s=await XR(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,mD(e,s)}catch(s){await _h(e,s)}_7(e)&&y7(e)}function fD(t){return fi(t)&&t.Eu.length<10}function mD(t,e){t.Eu.push(e);const n=so(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function _7(t){return fi(t)&&!so(t).Uo()&&t.Eu.length>0}function y7(t){so(t).start()}async function pD(t){so(t).hu()}async function gD(t){const e=so(t);for(const n of t.Eu)e.uu(n.mutations)}async function _D(t,e,n){const r=t.Eu.shift(),s=B_.from(r,e,n);await g7(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Hf(t)}async function yD(t,e){e&&so(t).ou&&await async function(n,r){if(s=r.code,cR(s)&&s!==U.ABORTED){const o=n.Eu.shift();so(n).Qo(),await g7(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Hf(n)}var s}(t,e),_7(t)&&y7(t)}async function $w(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=fi(n);n.vu.add(3),await au(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await zf(n)}async function vD(t,e){const n=ge(t);e?(n.vu.delete(2),await zf(n)):e||(n.vu.add(2),await au(n),n.bu.set("Unknown"))}function Ka(t){return t.Su||(t.Su=function(e,n,r){const s=ge(e);return s.fu(),new oD(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:uD.bind(null,t),ao:dD.bind(null,t),nu:hD.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Z_(t)?K_(t):t.bu.set("Unknown")):(await t.Su.stop(),p7(t))})),t.Su}function so(t){return t.Du||(t.Du=function(e,n,r){const s=ge(e);return s.fu(),new iD(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:pD.bind(null,t),ao:yD.bind(null,t),au:gD.bind(null,t),cu:_D.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Hf(t)):(await t.Du.stop(),t.Eu.length>0&&(re("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new Q_(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function X_(t,e){if(ls("AsyncQueue",`${e}: ${t}`),su(t))return new J(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new ca(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.Cu=new et(oe.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):fe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ia{constructor(e,n,r,s,o,i,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new Ia(e,n,ca.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.Nu=void 0,this.listeners=[]}}class xD{constructor(){this.queries=new Ga(e=>F9(e),Of),this.onlineState="Unknown",this.ku=new Set}}async function Y_(t,e){const n=ge(t),r=e.query;let s=!1,o=n.queries.get(r);if(o||(s=!0,o=new wD),s)try{o.Nu=await n.onListen(r)}catch(i){const a=X_(i,`Initialization of query '${vg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&ey(n)}async function J_(t,e){const n=ge(t),r=e.query;let s=!1;const o=n.queries.get(r);if(o){const i=o.listeners.indexOf(e);i>=0&&(o.listeners.splice(i,1),s=o.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function CD(t,e){const n=ge(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.listeners)a.$u(s)&&(r=!0);i.Nu=s}}r&&ey(n)}function bD(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);r.queries.delete(e)}function ey(t){t.ku.forEach(e=>{e.next()})}class ty{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.key=e}}class w7{constructor(e){this.key=e}}class kD{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=xe(),this.mutatedKeys=xe(),this.tc=B9(e),this.ec=new ca(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Fw,s=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const m=s.get(d),p=Mf(this.query,h)?h:null,_=!!m&&this.mutatedKeys.has(m.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;m&&p?m.data.isEqual(p.data)?_!==v&&(r.track({type:3,doc:p}),x=!0):this.rc(m,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.tc(p,l)>0||u&&this.tc(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),x=!0):m&&!p&&(r.track({type:1,doc:m}),x=!0,(l||u)&&(a=!0)),x&&(p?(i=i.add(p),o=v?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ec:i,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,d)=>function(h,m){const p=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return p(h)-p(m)}(u.type,d.type)||this.tc(u.doc,d.doc)),this.oc(r);const i=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new Ia(this.query,e.ec,s,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Fw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=xe(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new w7(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new v7(r))}),n}hc(e){this.Yu=e.ir,this.Zu=xe();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ia.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class SD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ED{constructor(e){this.key=e,this.fc=!1}}class TD{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new Ga(a=>F9(a),Of),this._c=new Map,this.mc=new Set,this.gc=new et(oe.comparator),this.yc=new Map,this.Ic=new H_,this.Tc={},this.Ec=new Map,this.Ac=Ta.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function ID(t,e){const n=$D(t);let r,s;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),s=o.view.lc();else{const i=await YR(n.localStore,cs(e)),a=n.sharedClientState.addLocalQueryTarget(i.targetId);r=i.targetId,s=await ND(n,e,r,a==="current",i.resumeToken),n.isPrimaryClient&&h7(n.remoteStore,i)}return s}async function ND(t,e,n,r,s){t.Rc=(h,m,p)=>async function(_,v,x,y){let g=v.view.sc(x);g.zi&&(g=await Dw(_.localStore,v.query,!1).then(({documents:C})=>v.view.sc(C,g)));const w=y&&y.targetChanges.get(v.targetId),b=v.view.applyChanges(g,_.isPrimaryClient,w);return Uw(_,v.targetId,b.cc),b.snapshot}(t,h,m,p);const o=await Dw(t.localStore,e,!0),i=new kD(e,o.ir),a=i.sc(o.documents),l=iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(a,t.isPrimaryClient,l);Uw(t,n,u.cc);const d=new SD(e,n,i);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function jD(t,e){const n=ge(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(o=>!Of(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await kg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),f7(n.remoteStore,r.targetId),Sg(n,r.targetId)}).catch(ru)):(Sg(n,r.targetId),await kg(n.localStore,r.targetId,!0))}async function PD(t,e,n){const r=FD(t);try{const s=await function(o,i){const a=ge(o),l=pt.now(),u=i.reduce((m,p)=>m.add(p.key),xe());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",m=>{let p=us(),_=xe();return a.Zi.getEntries(m,u).next(v=>{p=v,p.forEach((x,y)=>{y.isValidDocument()||(_=_.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(m,p)).next(v=>{d=v;const x=[];for(const y of i){const g=sR(y,d.get(y.key).overlayedDocument);g!=null&&x.push(new po(y.key,g,P9(g.value.mapValue),Qn.exists(!0)))}return a.mutationQueue.addMutationBatch(m,l,x,i)}).next(v=>{h=v;const x=v.applyToLocalDocumentSet(d,_);return a.documentOverlayCache.saveOverlays(m,v.batchId,x)})}).then(()=>({batchId:h.batchId,changes:V9(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,i,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new et(Se)),l=l.insert(i,a),o.Tc[o.currentUser.toKey()]=l}(r,s.batchId,n),await lu(r,s.changes),await Hf(r.remoteStore)}catch(s){const o=X_(s,"Failed to persist write");n.reject(o)}}async function x7(t,e){const n=ge(t);try{const r=await ZR(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.yc.get(o);i&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?i.fc=!0:s.modifiedDocuments.size>0?Be(i.fc):s.removedDocuments.size>0&&(Be(i.fc),i.fc=!1))}),await lu(n,r,e)}catch(r){await ru(r)}}function Bw(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((o,i)=>{const a=i.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(o,i){const a=ge(o);a.onlineState=i;let l=!1;a.queries.forEach((u,d)=>{for(const h of d.listeners)h.Mu(i)&&(l=!0)}),l&&ey(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LD(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),o=s&&s.key;if(o){let i=new et(oe.comparator);i=i.insert(o,Ht.newNoDocument(o,pe.min()));const a=xe().add(o),l=new Uf(pe.min(),new Map,new et(Se),i,a);await x7(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),ny(r)}else await kg(r.localStore,e,!1).then(()=>Sg(r,e,n)).catch(ru)}async function AD(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await KR(n.localStore,e);b7(n,r,null),C7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lu(n,s)}catch(s){await ru(s)}}async function RD(t,e,n){const r=ge(t);try{const s=await function(o,i){const a=ge(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,i).next(d=>(Be(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,i)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);b7(r,e,n),C7(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lu(r,s)}catch(s){await ru(s)}}function C7(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function b7(t,e,n){const r=ge(t);let s=r.Tc[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Sg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||k7(t,r)})}function k7(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(f7(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),ny(t))}function Uw(t,e,n){for(const r of n)r instanceof v7?(t.Ic.addReference(r.key,e),DD(t,r)):r instanceof w7?(re("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||k7(t,r.key)):fe()}function DD(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(re("SyncEngine","New document in limbo: "+n),t.mc.add(r),ny(t))}function ny(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new oe($e.fromString(e)),r=t.Ac.next();t.yc.set(r,new ED(n)),t.gc=t.gc.insert(n,r),h7(t.remoteStore,new Fs(cs(Rf(n.path)),r,"TargetPurposeLimboResolution",L_.ct))}}async function lu(t,e,n){const r=ge(t),s=[],o=[],i=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{i.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=W_.Li(l.targetId,u);o.push(d)}}))}),await Promise.all(i),r.dc.nu(s),await async function(a,l){const u=ge(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>W.forEach(l,h=>W.forEach(h.Fi,m=>u.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>W.forEach(h.Bi,m=>u.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!su(d))throw d;re("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const m=u.Ji.get(h),p=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(h,_)}}}(r.localStore,o))}async function OD(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await l7(n.localStore,e);n.currentUser=e,function(s,o){s.Ec.forEach(i=>{i.forEach(a=>{a.reject(new J(U.CANCELLED,o))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(n,r.er)}}function MD(t,e){const n=ge(t),r=n.yc.get(e);if(r&&r.fc)return xe().add(r.key);{let s=xe();const o=n._c.get(e);if(!o)return s;for(const i of o){const a=n.wc.get(i);s=s.unionWith(a.view.nc)}return s}}function $D(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LD.bind(null,e),e.dc.nu=CD.bind(null,e.eventManager),e.dc.Pc=bD.bind(null,e.eventManager),e}function FD(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RD.bind(null,e),e}class Vw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Vf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GR(this.persistence,new qR,e.initialUser,this.serializer)}createPersistence(e){return new zR(q_.zs,this.serializer)}createSharedClientState(e){return new eD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OD.bind(null,this.syncEngine),await vD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new xD}createDatastore(e){const n=Vf(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new sD(s));var s;return function(o,i,a,l){return new aD(o,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,o=a=>Bw(this.syncEngine,a,0),i=Mw.D()?new Mw:new tD,new cD(n,r,s,o,i);var n,r,s,o,i}createSyncEngine(e,n){return function(r,s,o,i,a,l,u){const d=new TD(r,s,o,i,a,l);return u&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ge(e);re("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await au(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vt.UNAUTHENTICATED,this.clientId=I9.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{re("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=X_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vp(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await l7(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zD(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>$w(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>$w(e.remoteStore,o)),t._onlineComponents=e}function VD(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function zD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!VD(n))throw n;xa("Error using user provided cache. Falling back to memory cache: "+n),await vp(t,new Vw)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await vp(t,new Vw);return t._offlineComponents}async function S7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await zw(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await zw(t,new BD))),t._onlineComponents}function HD(t){return S7(t).then(e=>e.syncEngine)}async function yh(t){const e=await S7(t),n=e.eventManager;return n.onListen=ID.bind(null,e.syncEngine),n.onUnlisten=jD.bind(null,e.syncEngine),n}function qD(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const u=new ry({next:h=>{o.enqueueAndForget(()=>J_(s,d));const m=h.docs.has(i);!m&&h.fromCache?l.reject(new J(U.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&a&&a.source==="server"?l.reject(new J(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new ty(Rf(i.path),u,{includeMetadataChanges:!0,Ku:!0});return Y_(s,d)}(await yh(t),t.asyncQueue,e,n,r)),r.promise}function WD(t,e,n={}){const r=new Xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const u=new ry({next:h=>{o.enqueueAndForget(()=>J_(s,d)),h.fromCache&&a.source==="server"?l.reject(new J(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new ty(i,u,{includeMetadataChanges:!0,Ku:!0});return Y_(s,d)}(await yh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t,e,n){if(!n)throw new J(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GD(t,e,n,r){if(e===!0&&r===!0)throw new J(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qw(t){if(!oe.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ww(t){if(oe.isDocumentKey(t))throw new J(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qf(t);throw new J(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E7((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new J(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Wf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _A;switch(n.type){case"firstParty":return new xA(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new J(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Hw.get(e);n&&(re("ComponentProvider","Removing Datastore"),Hw.delete(e),n.terminate())}(this),Promise.resolve()}}function KD(t,e,n,r={}){var s;const o=(t=xn(t,Wf))._getSettings(),i=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==i&&xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Vt.MOCK_USER;else{a=Bb(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Vt(u)}t._authCredentials=new yA(new T9(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class go{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new go(this.firestore,e,this._query)}}class Qs extends go{constructor(e,n,r){super(e,n,Rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new oe(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function Xt(t,e,...n){if(t=Ae(t),T7("collection","path",e),t instanceof Wf){const r=$e.fromString(e,...n);return Ww(r),new Qs(t,null,r)}{if(!(t instanceof Qt||t instanceof Qs))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Ww(r),new Qs(t.firestore,null,r)}}function G(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=I9.A()),T7("doc","path",e),t instanceof Wf){const r=$e.fromString(e,...n);return qw(r),new Qt(t,null,new oe(r))}{if(!(t instanceof Qt||t instanceof Qs))throw new J(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return qw(r),new Qt(t.firestore,t instanceof Qs?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new u7(this,"async_queue_retry"),this.Xc=()=>{const n=yp();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=yp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Xr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!su(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(o){let i=o.message||"";return o.stack&&(i=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),i}(r);throw ls("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=Q_.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(s),s}Zc(){this.Wc&&fe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Kw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}let ds=class extends Wf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ZD,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||I7(this),this._firestoreClient.terminate()}};function QD(t,e){const n=typeof t=="object"?t:e_(),r=typeof t=="string"?t:"(default)",s=hf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=Mb("firestore");o&&KD(s,...o)}return s}function Gf(t){return t._firestoreClient||I7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function I7(t){var e,n,r;const s=t._freezeSettings(),o=function(i,a,l,u){return new AA(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,E7(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new UD(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Na(tn.fromBase64String(e))}catch(n){throw new J(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Na(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=/^__.*__$/;class YD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}class N7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new po(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function j7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class Zf{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return vh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(j7(this.ca)&&XD.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class JD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vf(e)}ya(e,n,r,s=!1){return new Zf({ca:e,methodName:n,ga:r,path:qt.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qf(t){const e=t._freezeSettings(),n=Vf(t._databaseId);return new JD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P7(t,e,n,r,s,o={}){const i=t.ya(o.merge||o.mergeFields?2:0,e,n,s);iy("Data must be an object, but it was:",i,r);const a=A7(r,i);let l,u;if(o.merge)l=new Ln(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const m=Eg(e,h,n);if(!i.contains(m))throw new J(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);D7(d,m)||d.push(m)}l=new Ln(d),u=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=i.fieldTransforms;return new YD(new pn(a),l,u)}class Xf extends mi{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xf}}function L7(t,e,n){return new Zf({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class oy extends mi{_toFieldTransform(e){return new Ff(e.path,new Lc)}isEqual(e){return e instanceof oy}}class eO extends mi{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=L7(this,e,!0),r=this.pa.map(o=>pi(o,n)),s=new Sa(r);return new Ff(e.path,s)}isEqual(e){return this===e}}class tO extends mi{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=L7(this,e,!0),r=this.pa.map(o=>pi(o,n)),s=new Ea(r);return new Ff(e.path,s)}isEqual(e){return this===e}}class nO extends mi{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Ac(e.serializer,W9(e.serializer,this.Ia));return new Ff(e.path,n)}isEqual(e){return this===e}}function rO(t,e,n,r){const s=t.ya(1,e,n);iy("Data must be an object, but it was:",s,r);const o=[],i=pn.empty();hi(r,(l,u)=>{const d=ay(e,l,n);u=Ae(u);const h=s.da(d);if(u instanceof Xf)o.push(d);else{const m=pi(u,h);m!=null&&(o.push(d),i.set(d,m))}});const a=new Ln(o);return new N7(i,a,s.fieldTransforms)}function sO(t,e,n,r,s,o){const i=t.ya(1,e,n),a=[Eg(e,r,n)],l=[s];if(o.length%2!=0)throw new J(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Eg(e,o[m])),l.push(o[m+1]);const u=[],d=pn.empty();for(let m=a.length-1;m>=0;--m)if(!D7(u,a[m])){const p=a[m];let _=l[m];_=Ae(_);const v=i.da(p);if(_ instanceof Xf)u.push(p);else{const x=pi(_,v);x!=null&&(u.push(p),d.set(p,x))}}const h=new Ln(u);return new N7(d,h,i.fieldTransforms)}function oO(t,e,n,r=!1){return pi(n,t.ya(r?4:3,e))}function pi(t,e){if(R7(t=Ae(t)))return iy("Unsupported field value:",e,t),A7(t,e);if(t instanceof mi)return function(n,r){if(!j7(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const i of n){let a=pi(i,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Ae(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return W9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=pt.fromDate(n);return{timestampValue:gh(r.serializer,s)}}if(n instanceof pt){const s=new pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gh(r.serializer,s)}}if(n instanceof sy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Na)return{bytesValue:n7(r.serializer,n._byteString)};if(n instanceof Qt){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:z_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${qf(n)}`)}(t,e)}function A7(t,e){const n={};return N9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hi(t,(r,s)=>{const o=pi(s,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function R7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof sy||t instanceof Na||t instanceof Qt||t instanceof mi)}function iy(t,e,n){if(!R7(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=qf(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Eg(t,e,n){if((e=Ae(e))instanceof Kf)return e._internalPath;if(typeof e=="string")return ay(t,e);throw vh("Field path arguments must be of type string or ",t,!1,void 0,n)}const iO=new RegExp("[~\\*/\\[\\]]");function ay(t,e,n){if(e.search(iO)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kf(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vh(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new J(U.INVALID_ARGUMENT,a+t+l)}function D7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Yf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aO extends O7{data(){return super.data()}}function Yf(t,e){return typeof e=="string"?ay(t,e):e instanceof Kf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ly{}class $7 extends ly{}function hs(t,e,...n){let r=[];e instanceof ly&&r.push(e),r=r.concat(n),function(s){const o=s.filter(a=>a instanceof cy).length,i=s.filter(a=>a instanceof Jf).length;if(o>1||o>0&&i>0)throw new J(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Jf extends $7{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jf(e,n,r)}_apply(e){const n=this._parse(e);return F7(e._query,n),new go(e.firestore,e.converter,_g(e._query,n))}_parse(e){const n=Qf(e.firestore);return function(s,o,i,a,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Qw(d,u);const m=[];for(const p of d)m.push(Zw(a,s,p));h={arrayValue:{values:m}}}else h=Zw(a,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Qw(d,u),h=oO(i,o,d,u==="in"||u==="not-in");return mt.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lO(t,e,n){const r=e,s=Yf("where",t);return Jf._create(s,r,n)}class cy extends ly{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const i=s.getFlattenedFilters();for(const a of i)F7(o,a),o=_g(o,a)}(e._query,n),new go(e.firestore,e.converter,_g(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uy extends $7{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new uy(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new J(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new aa(s,o);return function(a,l){if($_(a)===null){const u=Df(a);u!==null&&B7(a,u,l.field)}}(r,i),i}(e._query,this._field,this._direction);return new go(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Wa(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function gi(t,e="asc"){const n=e,r=Yf("orderBy",t);return uy._create(r,n)}function Zw(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new J(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$9(e)&&n.indexOf("/")!==-1)throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!oe.isDocumentKey(r))throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yw(t,new oe(r))}if(n instanceof Qt)return yw(t,n._key);throw new J(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qf(n)}.`)}function Qw(t,e){if(!Array.isArray(t)||t.length===0)throw new J(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F7(t,e){if(e.isInequality()){const r=Df(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new J(U.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const o=$_(t);o!==null&&B7(t,s,o)}const n=function(r,s){for(const o of r)for(const i of o.getFlattenedFilters())if(s.indexOf(i.op)>=0)return i.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function B7(t,e,n){if(!n.isEqual(e))throw new J(U.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cO{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hi(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new sy(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=R_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const n=ro(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Be(a7(r));const s=new jc(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return s.isEqual(n)||ls(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class V7 extends O7{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Yf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kd extends V7{data(e={}){return super.data(e)}}class z7{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new El(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kd(this._firestore,this._userDataWriter,r.key,r,new El(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(i=>{const a=new kd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new El(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);return i.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(i=>s||i.type!==3).map(i=>{const a=new kd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new El(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return i.type!==0&&(l=o.indexOf(i.doc.key),o=o.delete(i.doc.key)),i.type!==1&&(o=o.add(i.doc),u=o.indexOf(i.doc.key)),{type:uO(i.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t){t=xn(t,Qt);const e=xn(t.firestore,ds);return qD(Gf(e),t._key).then(n=>H7(e,t,n))}class dy extends cO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Na(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function hy(t){t=xn(t,go);const e=xn(t.firestore,ds),n=Gf(e),r=new dy(e);return M7(t._query),WD(n,t._query).then(s=>new z7(e,r,t,s))}function Ge(t,e,n){t=xn(t,Qt);const r=xn(t.firestore,ds),s=U7(t.converter,e,n);return tm(r,[P7(Qf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Qn.none())])}function Cn(t,e,n,...r){t=xn(t,Qt);const s=xn(t.firestore,ds),o=Qf(s);let i;return i=typeof(e=Ae(e))=="string"||e instanceof Kf?sO(o,"updateDoc",t._key,e,n,r):rO(o,"updateDoc",t._key,e),tm(s,[i.toMutation(t._key,Qn.exists(!0))])}function zl(t){return tm(xn(t.firestore,ds),[new F_(t._key,Qn.none())])}function em(t,e){const n=xn(t.firestore,ds),r=G(t),s=U7(t.converter,e);return tm(n,[P7(Qf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function Jn(t,...e){var n,r,s;t=Ae(t);let o={includeMetadataChanges:!1},i=0;typeof e[i]!="object"||Kw(e[i])||(o=e[i],i++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Kw(e[i])){const h=e[i];e[i]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[i+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[i+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,u,d;if(t instanceof Qt)u=xn(t.firestore,ds),d=Rf(t._key.path),l={next:h=>{e[i]&&e[i](H7(u,t,h))},error:e[i+1],complete:e[i+2]};else{const h=xn(t,go);u=xn(h.firestore,ds),d=h._query;const m=new dy(u);l={next:p=>{e[i]&&e[i](new z7(u,m,h,p))},error:e[i+1],complete:e[i+2]},M7(t._query)}return function(h,m,p,_){const v=new ry(_),x=new ty(m,v,p);return h.asyncQueue.enqueueAndForget(async()=>Y_(await yh(h),x)),()=>{v.Dc(),h.asyncQueue.enqueueAndForget(async()=>J_(await yh(h),x))}}(Gf(u),d,a,l)}function tm(t,e){return function(n,r){const s=new Xr;return n.asyncQueue.enqueueAndForget(async()=>PD(await HD(n),r,s)),s.promise}(Gf(t),e)}function H7(t,e,n){const r=n.docs.get(e._key),s=new dy(t);return new V7(t,s,e._key,r,new El(n.hasPendingWrites,n.fromCache),e.converter)}function dO(){return new oy("serverTimestamp")}function ar(...t){return new eO("arrayUnion",t)}function hO(...t){return new tO("arrayRemove",t)}function fO(t){return new nO("increment",t)}(function(t,e=!0){(function(n){qa=n})(ci),Xo(new to("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),i=new ds(new vA(n.getProvider("auth-internal")),new bA(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new J(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(a.options.projectId,l)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),i._setSettings(s),i},"PUBLIC").setMultipleInstances(!0)),Nr(fw,"3.13.0",t),Nr(fw,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7="firebasestorage.googleapis.com",W7="storageBucket",mO=2*60*1e3,pO=10*60*1e3,gO=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends Mr{constructor(e,n,r=0){super(wp(e),`Firebase Storage: ${n} (${wp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ue;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ue||(Ue={}));function wp(t){return"storage/"+t}function fy(){const t="An unknown error occurred, please check the error payload for server response.";return new tt(Ue.UNKNOWN,t)}function _O(t){return new tt(Ue.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yO(t){return new tt(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function vO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(Ue.UNAUTHENTICATED,t)}function wO(){return new tt(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xO(t){return new tt(Ue.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function G7(){return new tt(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function K7(){return new tt(Ue.CANCELED,"User canceled the upload/download.")}function CO(t){return new tt(Ue.INVALID_URL,"Invalid URL '"+t+"'.")}function bO(t){return new tt(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function kO(){return new tt(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+W7+"' property when initializing the app?")}function Z7(){return new tt(Ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SO(){return new tt(Ue.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function EO(){return new tt(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TO(t){return new tt(Ue.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tg(t){return new tt(Ue.INVALID_ARGUMENT,t)}function Q7(){return new tt(Ue.APP_DELETED,"The Firebase app was deleted.")}function IO(t){return new tt(Ue.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hl(t,e){return new tt(Ue.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function al(t){throw new tt(Ue.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=An.makeFromUrl(e,n)}catch{return new An(e,"")}if(r.path==="")return r;throw bO(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+s+i,"i"),l={bucket:1,path:3};function u(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${m}`,"i"),_={bucket:1,path:3},v=n===q7?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",y=new RegExp(`^https?://${v}/${s}/${x}`,"i"),w=[{regex:a,indices:l,postModify:o},{regex:p,indices:_,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let b=0;b<w.length;b++){const C=w[b],k=C.regex.exec(e);if(k){const T=k[C.indices.bucket];let S=k[C.indices.path];S||(S=""),r=new An(T,S),C.postModify(r);break}}if(r==null)throw CO(e);return r}}class NO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t,e,n){let r=1,s=null,o=null,i=!1,a=0;function l(){return a===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){s=setTimeout(()=>{s=null,t(p,l())},x)}function m(){o&&clearTimeout(o)}function p(x,...y){if(u){m();return}if(x){m(),d.call(null,x,...y);return}if(l()||i){m(),d.call(null,x,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let _=!1;function v(x){_||(_=!0,m(),!u&&(s!==null?(x||(a=2),clearTimeout(s),h(0)):x||(a=1)))}return h(0),o=setTimeout(()=>{i=!0,v(!0)},n),v}function PO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){return t!==void 0}function AO(t){return typeof t=="function"}function RO(t){return typeof t=="object"&&!Array.isArray(t)}function nm(t){return typeof t=="string"||t instanceof String}function Xw(t){return my()&&t instanceof Blob}function my(){return typeof Blob<"u"&&!DI()}function Yw(t,e,n,r){if(r<e)throw Tg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Tg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function X7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zo||(zo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r,s,o,i,a,l,u,d,h,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Wu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const a=o.getErrorCode()===zo.NO_ERROR,l=o.getStatus();if(!a||Y7(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===zo.ABORT;r(!1,new Wu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Wu(u,o))})},n=(r,s)=>{const o=this.resolve_,i=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());LO(l)?o(l):o()}catch(l){i(l)}else if(a!==null){const l=fy();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(s.canceled){const l=this.appDelete_?Q7():K7();i(l)}else{const l=G7();i(l)}};this.canceled_?n(!1,new Wu(!1,null,!0)):this.backoffId_=jO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function OO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function MO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $O(t,e){e&&(t["X-Firebase-GMPID"]=e)}function FO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function BO(t,e,n,r,s,o,i=!0){const a=X7(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return $O(u,e),OO(u,n),MO(u,o),FO(u,r),new DO(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function VO(...t){const e=UO();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(my())return new Blob(t);throw new tt(Ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function zO(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){if(typeof atob>"u")throw TO("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xp{constructor(e,n){this.data=e,this.contentType=n||null}}function qO(t,e){switch(t){case Er.RAW:return new xp(J7(e));case Er.BASE64:case Er.BASE64URL:return new xp(ek(t,e));case Er.DATA_URL:return new xp(GO(e),KO(e))}throw fy()}function J7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,i=t.charCodeAt(++n);r=65536|(o&1023)<<10|i&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function WO(t){let e;try{e=decodeURIComponent(t)}catch{throw Hl(Er.DATA_URL,"Malformed data URL.")}return J7(e)}function ek(t,e){switch(t){case Er.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Hl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Er.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Hl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=HO(e)}catch(s){throw s.message.includes("polyfill")?s:Hl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class tk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hl(Er.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ZO(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function GO(t){const e=new tk(t);return e.base64?ek(Er.BASE64,e.rest):WO(e.rest)}function KO(t){return new tk(t).contentType}function ZO(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){let r=0,s="";Xw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Xw(this.data_)){const r=this.data_,s=zO(r,e,n);return s===null?null:new Vr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Vr(r,!0)}}static getBlob(...e){if(my()){const n=e.map(r=>r instanceof Vr?r.data_:r);return new Vr(VO.apply(null,n))}else{const n=e.map(i=>nm(i)?qO(Er.RAW,i).data:i.data_);let r=0;n.forEach(i=>{r+=i.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(i=>{for(let a=0;a<i.length;a++)s[o++]=i[a]}),new Vr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t){let e;try{e=JSON.parse(t)}catch{return null}return RO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XO(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function rk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t,e){return e}class nn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||YO}}let Gu=null;function JO(t){return!nm(t)||t.length<2?t:rk(t)}function rm(){if(Gu)return Gu;const t=[];t.push(new nn("bucket")),t.push(new nn("generation")),t.push(new nn("metageneration")),t.push(new nn("name","fullPath",!0));function e(o,i){return JO(i)}const n=new nn("name");n.xform=e,t.push(n);function r(o,i){return i!==void 0?Number(i):i}const s=new nn("size");return s.xform=r,t.push(s),t.push(new nn("timeCreated")),t.push(new nn("updated")),t.push(new nn("md5Hash",null,!0)),t.push(new nn("cacheControl",null,!0)),t.push(new nn("contentDisposition",null,!0)),t.push(new nn("contentEncoding",null,!0)),t.push(new nn("contentLanguage",null,!0)),t.push(new nn("contentType",null,!0)),t.push(new nn("metadata","customMetadata",!0)),Gu=t,Gu}function eM(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new An(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function tM(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const i=n[o];r[i.local]=i.xform(r,e[i.server])}return eM(r,t),r}function sk(t,e,n){const r=nk(e);return r===null?null:tM(t,r,n)}function nM(t,e,n,r){const s=nk(e);if(s===null||!nm(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const i=encodeURIComponent;return o.split(",").map(u=>{const d=t.bucket,h=t.fullPath,m="/b/"+i(d)+"/o/"+i(h),p=Za(m,n,r),_=X7({alt:"media",token:u});return p+_})[0]}function ok(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class _i{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t){if(!t)throw fy()}function py(t,e){function n(r,s){const o=sk(t,s,e);return Yr(o!==null),o}return n}function rM(t,e){function n(r,s){const o=sk(t,s,e);return Yr(o!==null),nM(o,s,t.host,t._protocol)}return n}function cu(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=wO():s=vO():n.getStatus()===402?s=yO(t.bucket):n.getStatus()===403?s=xO(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function gy(t){const e=cu(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=_O(t.path)),o.serverResponse=s.serverResponse,o}return n}function ik(t,e,n){const r=e.fullServerUrl(),s=Za(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new _i(s,o,py(t,n),i);return a.errorHandler=gy(e),a}function sM(t,e,n){const r=e.fullServerUrl(),s=Za(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new _i(s,o,rM(t,n),i);return a.errorHandler=gy(e),a}function oM(t,e){const n=e.fullServerUrl(),r=Za(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function i(l,u){}const a=new _i(r,s,i,o);return a.successCodes=[200,204],a.errorHandler=gy(e),a}function iM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ak(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=iM(null,e)),r}function lk(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let b=0;b<2;b++)w=w+Math.random().toString().slice(2);return w}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const u=ak(e,r,s),d=ok(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,m=`\r
--`+l+"--",p=Vr.getBlob(h,r,m);if(p===null)throw Z7();const _={name:u.fullPath},v=Za(o,t.host,t._protocol),x="POST",y=t.maxUploadRetryTime,g=new _i(v,x,py(t,n),y);return g.urlParams=_,g.headers=i,g.body=p.uploadData(),g.errorHandler=cu(e),g}class wh{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function _y(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Yr(!1)}return Yr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function aM(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i=ak(e,r,s),a={name:i.fullPath},l=Za(o,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},h=ok(i,n),m=t.maxUploadRetryTime;function p(v){_y(v);let x;try{x=v.getResponseHeader("X-Goog-Upload-URL")}catch{Yr(!1)}return Yr(nm(x)),x}const _=new _i(l,u,p,m);return _.urlParams=a,_.headers=d,_.body=h,_.errorHandler=cu(e),_}function lM(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function o(u){const d=_y(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Yr(!1)}h||Yr(!1);const m=Number(h);return Yr(!isNaN(m)),new wh(m,r.size(),d==="final")}const i="POST",a=t.maxUploadRetryTime,l=new _i(n,i,o,a);return l.headers=s,l.errorHandler=cu(e),l}const Jw=256*1024;function cM(t,e,n,r,s,o,i,a){const l=new wh(0,0);if(i?(l.current=i.current,l.total=i.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw SO();const u=l.total-l.current;let d=u;s>0&&(d=Math.min(d,s));const h=l.current,m=h+d;let p="";d===0?p="finalize":u===d?p="upload, finalize":p="upload";const _={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(h,m);if(v===null)throw Z7();function x(b,C){const k=_y(b,["active","final"]),T=l.current+d,S=r.size();let E;return k==="final"?E=py(e,o)(b,C):E=null,new wh(T,S,k==="final",E)}const y="POST",g=e.maxUploadRetryTime,w=new _i(n,y,x,g);return w.headers=_,w.body=v.uploadData(),w.progressCallback=a||null,w.errorHandler=cu(t),w}const fn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cp(t){switch(t){case"running":case"pausing":case"canceling":return fn.RUNNING;case"paused":return fn.PAUSED;case"success":return fn.SUCCESS;case"canceled":return fn.CANCELED;case"error":return fn.ERROR;default:return fn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n,r){if(AO(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class dM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw al("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw al("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw al("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw al("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw al("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hM extends dM{initXhr(){this.xhr_.responseType="text"}}function zr(){return new hM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=rm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Ue.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(Y7(s.status,[]))if(o)s=G7();else{this.sleepTime=Math.max(this.sleepTime*2,gO),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Ue.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=aM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,zr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=lM(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(s,zr,n,r);this._request=o,o.getPromise().then(i=>{i=i,this._request=void 0,this._updateProgress(i.current),this._needToFetchStatus=!1,i.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Jw*this._chunkMultiplier,n=new wh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,o)=>{let i;try{i=cM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(i,zr,s,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Jw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=ik(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,zr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=lk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,zr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=K7(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Cp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const o=new uM(n||void 0,r||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Cp(this._state)){case fn.SUCCESS:bi(this._resolve.bind(null,this.snapshot))();break;case fn.CANCELED:case fn.ERROR:const n=this._reject;bi(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Cp(this._state)){case fn.RUNNING:case fn.PAUSED:e.next&&bi(e.next.bind(e,this.snapshot))();break;case fn.SUCCESS:e.complete&&bi(e.complete.bind(e))();break;case fn.CANCELED:case fn.ERROR:e.error&&bi(e.error.bind(e,this._error))();break;default:e.error&&bi(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){this._service=e,n instanceof An?this._location=n:this._location=An.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ri(e,n)}get root(){const e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rk(this._location.path)}get storage(){return this._service}get parent(){const e=QO(this._location.path);if(e===null)return null;const n=new An(this._location.bucket,e);return new ri(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw IO(e)}}function mM(t,e,n){t._throwIfRoot("uploadBytes");const r=lk(t.storage,t._location,rm(),new Vr(e,!0),n);return t.storage.makeRequestWithTokens(r,zr).then(s=>({metadata:s,ref:t}))}function pM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new fM(t,new Vr(e),n)}function gM(t){t._throwIfRoot("getMetadata");const e=ik(t.storage,t._location,rm());return t.storage.makeRequestWithTokens(e,zr)}function _M(t){t._throwIfRoot("getDownloadURL");const e=sM(t.storage,t._location,rm());return t.storage.makeRequestWithTokens(e,zr).then(n=>{if(n===null)throw EO();return n})}function yM(t){t._throwIfRoot("deleteObject");const e=oM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,zr)}function vM(t,e){const n=XO(t._location.path,e),r=new An(t._location.bucket,n);return new ri(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){return/^[A-Za-z]+:\/\//.test(t)}function xM(t,e){return new ri(t,e)}function ck(t,e){if(t instanceof yy){const n=t;if(n._bucket==null)throw kO();const r=new ri(n,n._bucket);return e!=null?ck(r,e):r}else return e!==void 0?vM(t,e):t}function CM(t,e){if(e&&wM(e)){if(t instanceof yy)return xM(t,e);throw Tg("To use ref(service, url), the first argument must be a Storage instance.")}else return ck(t,e)}function ex(t,e){const n=e==null?void 0:e[W7];return n==null?null:An.makeFromBucketSpec(n,t)}function bM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Bb(s,t.app.options.projectId))}class yy{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=q7,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mO,this._maxUploadRetryTime=pO,this._requests=new Set,s!=null?this._bucket=An.makeFromBucketSpec(s,this._host):this._bucket=ex(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=ex(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Yw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Yw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ri(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new NO(Q7());{const i=BO(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const tx="@firebase/storage",nx="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="storage";function mr(t,e,n){return t=Ae(t),mM(t,e,n)}function kM(t,e,n){return t=Ae(t),pM(t,e,n)}function SM(t){return t=Ae(t),gM(t)}function $n(t){return t=Ae(t),_M(t)}function EM(t){return t=Ae(t),yM(t)}function kn(t,e){return t=Ae(t),CM(t,e)}function TM(t=e_(),e){t=Ae(t);const r=hf(t,uk).getImmediate({identifier:e}),s=Mb("storage");return s&&IM(r,...s),r}function IM(t,e,n,r={}){bM(t,e,n,r)}function NM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new yy(n,r,s,e,ci)}function jM(){Xo(new to(uk,NM,"PUBLIC").setMultipleInstances(!0)),Nr(tx,nx,""),Nr(tx,nx,"esm2017")}jM();const PM={apiKey:"AIzaSyBBlQca3oj1efZEEjTu1XSmMHRcbGX_Hj8",authDomain:"genery-c83e3.firebaseapp.com",projectId:"genery-c83e3",storageBucket:"genery-c83e3.appspot.com",messagingSenderId:"179227356988",appId:"1:179227356988:web:31e0070216dbb4bf673839"},vy=zb(PM),dk=lL(vy),H=QD(vy),Sn=TM(vy),hk=f.createContext(),LM=({children:t})=>{const[e,n]=f.useState(null),[r,s]=f.useState(""),o=dk;f.useEffect(()=>{const a=Zj(o,l=>{l?(async()=>{const d=G(H,"users",l.uid,"info","preferences"),h=await se(d);if(h.exists()){const m=h.data();console.log(m),n({_id:l.uid,avatar:m.photo,name:m.name,cover:m.cover,mainGroup:m.mainGroup,email:l.email})}else console.log("No such document!")})():n(null)});return()=>{a()}},[]);const i=f.useMemo(()=>({authUser:e,setAuthUser:n,ga:o}),[e]);return c.jsx(hk.Provider,{value:i,children:t})},ce=()=>f.useContext(hk);function AM(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),{authUser:s}=ce();let o;const i=ie();return f.useEffect(()=>{s?o="/menu":o="/about";const a=setTimeout(()=>{i(o)},3e3);return()=>clearTimeout(a)},[i]),c.jsx("div",{className:CI.container,children:c.jsx(Lb,{color:t.icon_color})})}const ll={"input-container":"_input-container_oontd_1","input-inside":"_input-inside_oontd_10","show-button":"_show-button_oontd_26"};function Ar({type:t,placeholder:e,onInputChange:n,backgroundColor:r,textColor:s}){const{theme:o,elementColors:i,setElementColors:a}=f.useContext(B),[l,u]=f.useState(!1),[d,h]=f.useState(!1),[m,p]=f.useState(!1),_=()=>{u(!l)},v=[c.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M15 10.4C13.9874 10.4 13.0162 10.7793 12.3001 11.4544C11.5841 12.1295 11.1818 13.0452 11.1818 14C11.1818 14.9548 11.5841 15.8705 12.3001 16.5456C13.0162 17.2207 13.9874 17.6 15 17.6C16.0126 17.6 16.9838 17.2207 17.6999 16.5456C18.4159 15.8705 18.8182 14.9548 18.8182 14C18.8182 13.0452 18.4159 12.1295 17.6999 11.4544C16.9838 10.7793 16.0126 10.4 15 10.4ZM15 20C13.3123 20 11.6936 19.3679 10.5002 18.2426C9.30682 17.1174 8.63636 15.5913 8.63636 14C8.63636 12.4087 9.30682 10.8826 10.5002 9.75736C11.6936 8.63214 13.3123 8 15 8C16.6877 8 18.3064 8.63214 19.4998 9.75736C20.6932 10.8826 21.3636 12.4087 21.3636 14C21.3636 15.5913 20.6932 17.1174 19.4998 18.2426C18.3064 19.3679 16.6877 20 15 20ZM15 5C8.63636 5 3.20182 8.732 1 14C3.20182 19.268 8.63636 23 15 23C21.3636 23 26.7982 19.268 29 14C26.7982 8.732 21.3636 5 15 5Z",fill:o.text_first_color})})],x=[c.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7836 10.2632L18.8182 14.0884V13.8947C18.8182 12.9316 18.4159 12.0079 17.6999 11.3268C16.9838 10.6458 16.0126 10.2632 15 10.2632H14.7836ZM9.31091 11.2316L11.2836 13.1079C11.22 13.3621 11.1818 13.6163 11.1818 13.8947C11.1818 14.8579 11.5841 15.7816 12.3001 16.4627C13.0162 17.1437 13.9874 17.5263 15 17.5263C15.28 17.5263 15.56 17.49 15.8273 17.4295L17.8 19.3058C16.9473 19.7053 16.0055 19.9474 15 19.9474C13.3123 19.9474 11.6936 19.3097 10.5002 18.1746C9.30682 17.0395 8.63636 15.5 8.63636 13.8947C8.63636 12.9384 8.89091 12.0426 9.31091 11.2316ZM2.27273 4.53737L5.17455 7.29737L5.74727 7.84211C3.64727 9.41579 1.99273 11.4737 1 13.8947C3.20182 19.2089 8.63636 22.9737 15 22.9737C16.9727 22.9737 18.8564 22.6105 20.5745 21.9568L21.1218 22.4653L24.8382 26L26.4545 24.4626L3.88909 3M15 7.84211C16.6877 7.84211 18.3064 8.47979 19.4998 9.61488C20.6932 10.75 21.3636 12.2895 21.3636 13.8947C21.3636 14.6695 21.1982 15.42 20.9055 16.0979L24.6345 19.6447C26.5436 18.1316 28.0709 16.1463 29 13.8947C26.7982 8.58053 21.3636 4.81579 15 4.81579C13.2182 4.81579 11.5127 5.11842 9.90909 5.66316L12.6709 8.26579C13.3964 7.99947 14.1727 7.84211 15 7.84211Z",fill:o.text_first_color})})];let y=[c.jsx("div",{className:ll["input-container"],children:c.jsx("input",{className:ll["input-inside"],type:t,placeholder:e,onChange:n,style:{backgroundColor:r,color:s,caretColor:o.first_color,borderColor:o.first_color,outline:"none"},onFocus:()=>p(!0),onBlur:()=>p(!1)})})];return t==="password"&&(y=[c.jsxs("div",{className:ll["input-container"],children:[c.jsx("input",{className:ll["input-inside"],type:l?"text":"password",placeholder:e,onChange:n,style:{backgroundColor:r,color:s,caretColor:o.first_color,borderColor:o.first_color,outline:"none"},onFocus:()=>p(!0),onBlur:()=>p(!1)}),c.jsx("button",{className:ll["show-button"],onClick:_,children:l?x:v},"")]})]),y}const RM="_container_bxems_1",DM="_greeting_bxems_22",OM="_error_bxems_54",_r={container:RM,"auth-form":"_auth-form_bxems_12",greeting:DM,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:OM,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"},rx=[{src:"avatars/1.png"},{src:"avatars/2.png"},{src:"avatars/3.png"},{src:"avatars/4.png"},{src:"avatars/5.png"},{src:"avatars/6.png"},{src:"avatars/7.png"},{src:"avatars/8.png"},{src:"avatars/9.png"},{src:"avatars/10.png"},{src:"avatars/11.png"},{src:"avatars/12.png"},{src:"avatars/13.png"},{src:"avatars/14.png"},{src:"avatars/15.png"},{src:"avatars/16.png"},{src:"avatars/17.png"},{src:"avatars/18.png"},{src:"avatars/19.png"},{src:"avatars/20.png"}];function MM(){const t=()=>{const g=Math.floor(Math.random()*rx.length);return rx[g].src},{theme:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState(),[o,i]=f.useState(),[a,l]=f.useState(),[u,d]=f.useState(),{authUser:h,setAuthUser:m,ga:p}=ce(),[_,v]=f.useState(t()),x=ie();f.useEffect(()=>{n({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!1,arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!1,footerBackground:e.background_color,activeElementIndex:3,background:e.background_color}),document.body.style.background=e.background_color},[e]);function y(g){if(g.preventDefault(),!r&&!o&&!a){d(" email  ");return}else if(r)if(a){if(!o){d(" ");return}}else{d(" ");return}else{d(" email");return}(async()=>{try{const C=(await qj(p,r,o)).user;console.log(C);const k=G(H,"users",C.uid,"info","preferences");await Ge(k,{uid:C.uid,name:a,photo:_,cover:"blue",biography:"",boughtThemes:["default"],boughtColors:["default"],boughtEmojies:[],censorState:!0,balance:1e3,followers:[]},{merge:!0}),console.log("Profile updated successfully"),localStorage.setItem("censor",!0),localStorage.setItem("theme","default"),s(""),i(""),l("")}catch(b){d(b.message),console.error("Error creating user or updating profile: ",b)}})()}return f.useEffect(()=>{h&&x("/menu")},[h]),c.jsx("div",{className:_r.container,children:c.jsxs("form",{className:_r["auth-form"],children:[c.jsxs("div",{className:_r.greeting,children:[c.jsx("h2",{className:_r["greeting-title"],style:{color:e.text_first_color},children:" "}),c.jsx("h3",{className:_r["greeting-text"],style:{color:e.text_first_color},children:"    "})]}),c.jsxs("div",{className:_r["input-container"],children:[c.jsx("div",{className:_r.error,style:{color:e.gradient_first_color},children:u}),c.jsx(Ar,{type:"email",placeholder:" email",onInputChange:g=>s(g.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),c.jsx(Ar,{type:"text",placeholder:" ",onInputChange:g=>l(g.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),c.jsx(Ar,{type:"password",placeholder:" ",onInputChange:g=>i(g.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color})]}),c.jsxs("div",{className:_r["button-container"],children:[c.jsxs("button",{onClick:y,className:_r["continue-button"],style:{background:e.first_color},children:["",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:_r["create-account"],style:{color:e.text_first_color},onClick:()=>x("/sign-in"),children:"  ? "})]})]})})}const $M="_container_bxems_1",FM="_greeting_bxems_22",BM="_error_bxems_54",nr={container:$M,"auth-form":"_auth-form_bxems_12",greeting:FM,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:BM,"forgot-password":"_forgot-password_bxems_65","button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function fk(){const{authUser:t,ga:e}=ce(),{theme:n,setElementColors:r}=f.useContext(B),[s,o]=f.useState(""),[i,a]=f.useState(""),[l,u]=f.useState(""),d=ie(),h={"auth/invalid-login-credentials":" email  "};f.useEffect(()=>{r({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!1,arrowColor:n.text_first_color,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!1,footerBackground:n.background_color,activeElementIndex:3,background:n.background_color}),document.body.style.background=n.background_color},[n]);function m(p){p.preventDefault(),!s&&!i?u(" email  "):s?i||u(" "):u(" email"),Wj(e,s,i).then(()=>{const _=userCredential.user;console.log(_),o(""),a("")}).then(()=>{console.log("Profile updated successfully")}).catch(_=>{const v=h[_.code]||" ";u(v)})}return f.useEffect(()=>{t&&d("/menu")},[t]),c.jsx("div",{className:nr.container,children:c.jsxs("form",{className:nr["auth-form"],children:[c.jsxs("div",{className:nr.greeting,children:[c.jsx("h2",{className:nr["greeting-title"],style:{color:n.text_first_color},children:""}),c.jsx("h3",{className:nr["greeting-text"],style:{color:n.text_first_color},children:"  , ,   "})]}),c.jsxs("div",{className:nr["input-container"],children:[c.jsx("div",{className:nr.error,style:{color:n.gradient_first_color},children:l}),c.jsx(Ar,{type:"email",placeholder:" email",onInputChange:p=>o(p.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),c.jsx(Ar,{type:"password",placeholder:" ",onInputChange:p=>a(p.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),c.jsx("button",{className:nr["forgot-password"],style:{color:n.text_first_color},onClick:()=>d("/resetpassword"),children:" ?"})]}),c.jsxs("div",{className:nr["button-container"],children:[c.jsxs("button",{onClick:m,className:nr["continue-button"],style:{background:n.first_color},children:["",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:nr["create-account"],style:{color:n.text_first_color},onClick:()=>d("/sign-up"),children:" ? "})]})]})})}var mk={},pk={},sm={},gk={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(gk);var UM="Expected a function",sx=NaN,VM="[object Symbol]",zM=/^\s+|\s+$/g,HM=/^[-+]0x[0-9a-f]+$/i,qM=/^0b[01]+$/i,WM=/^0o[0-7]+$/i,GM=parseInt,KM=typeof We=="object"&&We&&We.Object===Object&&We,ZM=typeof self=="object"&&self&&self.Object===Object&&self,QM=KM||ZM||Function("return this")(),XM=Object.prototype,YM=XM.toString,JM=Math.max,e$=Math.min,bp=function(){return QM.Date.now()};function t$(t,e,n){var r,s,o,i,a,l,u=0,d=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(UM);e=ox(e)||0,Ig(n)&&(d=!!n.leading,h="maxWait"in n,o=h?JM(ox(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m);function p(k){var T=r,S=s;return r=s=void 0,u=k,i=t.apply(S,T),i}function _(k){return u=k,a=setTimeout(y,e),d?p(k):i}function v(k){var T=k-l,S=k-u,E=e-T;return h?e$(E,o-S):E}function x(k){var T=k-l,S=k-u;return l===void 0||T>=e||T<0||h&&S>=o}function y(){var k=bp();if(x(k))return g(k);a=setTimeout(y,v(k))}function g(k){return a=void 0,m&&r?p(k):(r=s=void 0,i)}function w(){a!==void 0&&clearTimeout(a),u=0,r=l=s=a=void 0}function b(){return a===void 0?i:g(bp())}function C(){var k=bp(),T=x(k);if(r=arguments,s=this,l=k,T){if(a===void 0)return _(l);if(h)return a=setTimeout(y,e),p(l)}return a===void 0&&(a=setTimeout(y,e)),i}return C.cancel=w,C.flush=b,C}function Ig(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function n$(t){return!!t&&typeof t=="object"}function r$(t){return typeof t=="symbol"||n$(t)&&YM.call(t)==VM}function ox(t){if(typeof t=="number")return t;if(r$(t))return sx;if(Ig(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ig(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(zM,"");var n=qM.test(t);return n||WM.test(t)?GM(t.slice(2),n?2:8):HM.test(t)?sx:+t}var s$=t$,_k={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)e.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(_k);var om=_k.exports,Q={},wy={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(f);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(wy);Object.defineProperty(Q,"__esModule",{value:!0});Q.checkSpecKeys=Q.checkNavigable=Q.changeSlide=Q.canUseDOM=Q.canGoNext=void 0;Q.clamp=vk;Q.extractObject=void 0;Q.filterSettings=v$;Q.validSettings=Q.swipeStart=Q.swipeMove=Q.swipeEnd=Q.slidesOnRight=Q.slidesOnLeft=Q.slideHandler=Q.siblingDirection=Q.safePreventDefault=Q.lazyStartIndex=Q.lazySlidesOnRight=Q.lazySlidesOnLeft=Q.lazyEndIndex=Q.keyHandler=Q.initializedState=Q.getWidth=Q.getTrackLeft=Q.getTrackCSS=Q.getTrackAnimateCSS=Q.getTotalSlides=Q.getSwipeDirection=Q.getSlideCount=Q.getRequiredLazySlides=Q.getPreClones=Q.getPostClones=Q.getOnDemandLazySlides=Q.getNavigableIndexes=Q.getHeight=void 0;var o$=yk(f),i$=yk(wy);function yk(t){return t&&t.__esModule?t:{default:t}}function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(n),!0).forEach(function(r){a$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a$(t,e,n){return e=l$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l$(t){var e=c$(t,"string");return Rc(e)=="symbol"?e:String(e)}function c$(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vk(t,e,n){return Math.max(e,Math.min(t,n))}var ua=Q.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},wk=Q.getOnDemandLazySlides=function(e){for(var n=[],r=xk(e),s=Ck(e),o=r;o<s;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};Q.getRequiredLazySlides=function(e){for(var n=[],r=xk(e),s=Ck(e),o=r;o<s;o++)n.push(o);return n};var xk=Q.lazyStartIndex=function(e){return e.currentSlide-u$(e)},Ck=Q.lazyEndIndex=function(e){return e.currentSlide+d$(e)},u$=Q.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},d$=Q.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},Ng=Q.getWidth=function(e){return e&&e.offsetWidth||0},bk=Q.getHeight=function(e){return e&&e.offsetHeight||0},kk=Q.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,s,o,i;return r=e.startX-e.curX,s=e.startY-e.curY,o=Math.atan2(s,r),i=Math.round(o*180/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":n===!0?i>=35&&i<=135?"up":"down":"vertical"},Sk=Q.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};Q.extractObject=function(e,n){var r={};return n.forEach(function(s){return r[s]=e[s]}),r};Q.initializedState=function(e){var n=o$.default.Children.count(e.children),r=e.listRef,s=Math.ceil(Ng(r)),o=e.trackRef&&e.trackRef.node,i=Math.ceil(Ng(o)),a;if(e.vertical)a=s;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=s/100),a=Math.ceil((s-l)/e.slidesToShow)}var u=r&&bk(r.querySelector('[data-index="0"]')),d=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var m=e.lazyLoadedList||[],p=wk(He(He({},e),{},{currentSlide:h,lazyLoadedList:m}));m=m.concat(p);var _={slideCount:n,slideWidth:a,listWidth:s,trackWidth:i,currentSlide:h,slideHeight:u,listHeight:d,lazyLoadedList:m};return e.autoplaying===null&&e.autoplay&&(_.autoplaying="playing"),_};Q.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,s=e.fade,o=e.infinite,i=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,m=e.slidesToShow,p=e.useCSS,_=e.lazyLoadedList;if(n&&r)return{};var v=i,x,y,g,w={},b={},C=o?i:vk(i,0,a-1);if(s){if(!o&&(i<0||i>=a))return{};i<0?v=i+a:i>=a&&(v=i-a),l&&_.indexOf(v)<0&&(_=_.concat(v)),w={animating:!0,currentSlide:v,lazyLoadedList:_,targetSlide:v},b={animating:!1,targetSlide:v}}else x=v,v<0?(x=v+a,o?a%h!==0&&(x=a-a%h):x=0):!Sk(e)&&v>u?v=x=u:d&&v>=a?(v=o?a:a-1,x=o?0:a-1):v>=a&&(x=v-a,o?a%h!==0&&(x=0):x=a-m),!o&&v+m>=a&&(x=a-m),y=Ch(He(He({},e),{},{slideIndex:v})),g=Ch(He(He({},e),{},{slideIndex:x})),o||(y===g&&(v=x),y=g),l&&(_=_.concat(wk(He(He({},e),{},{currentSlide:v})))),p?(w={animating:!0,currentSlide:x,trackStyle:Ek(He(He({},e),{},{left:y})),lazyLoadedList:_,targetSlide:C},b={animating:!1,currentSlide:x,trackStyle:xh(He(He({},e),{},{left:g})),swipeLeft:null,targetSlide:C}):w={currentSlide:x,trackStyle:xh(He(He({},e),{},{left:g})),lazyLoadedList:_,targetSlide:C};return{state:w,nextState:b}};Q.changeSlide=function(e,n){var r,s,o,i,a,l=e.slidesToScroll,u=e.slidesToShow,d=e.slideCount,h=e.currentSlide,m=e.targetSlide,p=e.lazyLoad,_=e.infinite;if(i=d%l!==0,r=i?0:(d-h)%l,n.message==="previous")o=r===0?l:u-r,a=h-o,p&&!_&&(s=h-o,a=s===-1?d-1:s),_||(a=m-l);else if(n.message==="next")o=r===0?l:r,a=h+o,p&&!_&&(a=(h+l)%d+r),_||(a=m+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,_){var v=p$(He(He({},e),{},{targetSlide:a}));a>n.currentSlide&&v==="left"?a=a-d:a<n.currentSlide&&v==="right"&&(a=a+d)}}else n.message==="index"&&(a=Number(n.index));return a};Q.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};Q.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&ua(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};Q.swipeMove=function(e,n){var r=n.scrolling,s=n.animating,o=n.vertical,i=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,d=n.edgeFriction,h=n.edgeDragged,m=n.onEdge,p=n.swiped,_=n.swiping,v=n.slideCount,x=n.slidesToScroll,y=n.infinite,g=n.touchObject,w=n.swipeEvent,b=n.listHeight,C=n.listWidth;if(!r){if(s)return ua(e);o&&i&&a&&ua(e);var k,T={},S=Ch(n);g.curX=e.touches?e.touches[0].pageX:e.clientX,g.curY=e.touches?e.touches[0].pageY:e.clientY,g.swipeLength=Math.round(Math.sqrt(Math.pow(g.curX-g.startX,2)));var E=Math.round(Math.sqrt(Math.pow(g.curY-g.startY,2)));if(!a&&!_&&E>10)return{scrolling:!0};a&&(g.swipeLength=E);var I=(l?-1:1)*(g.curX>g.startX?1:-1);a&&(I=g.curY>g.startY?1:-1);var R=Math.ceil(v/x),P=kk(n.touchObject,a),O=g.swipeLength;return y||(u===0&&(P==="right"||P==="down")||u+1>=R&&(P==="left"||P==="up")||!Sk(n)&&(P==="left"||P==="up"))&&(O=g.swipeLength*d,h===!1&&m&&(m(P),T.edgeDragged=!0)),!p&&w&&(w(P),T.swiped=!0),o?k=S+O*(b/C)*I:l?k=S-O*I:k=S+O*I,a&&(k=S+O*I),T=He(He({},T),{},{touchObject:g,swipeLeft:k,trackStyle:xh(He(He({},n),{},{left:k}))}),Math.abs(g.curX-g.startX)<Math.abs(g.curY-g.startY)*.8||g.swipeLength>10&&(T.swiping=!0,ua(e)),T}};Q.swipeEnd=function(e,n){var r=n.dragging,s=n.swipe,o=n.touchObject,i=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,d=n.swipeToSlide,h=n.scrolling,m=n.onSwipe,p=n.targetSlide,_=n.currentSlide,v=n.infinite;if(!r)return s&&ua(e),{};var x=l?u/a:i/a,y=kk(o,l),g={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!o.swipeLength)return g;if(o.swipeLength>x){ua(e),m&&m(y);var w,b,C=v?_:p;switch(y){case"left":case"up":b=C+lx(n),w=d?ax(n,b):b,g.currentDirection=0;break;case"right":case"down":b=C-lx(n),w=d?ax(n,b):b,g.currentDirection=1;break;default:w=C}g.triggerSlideHandler=w}else{var k=Ch(n);g.trackStyle=Ek(He(He({},n),{},{left:k}))}return g};var h$=Q.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,s=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=s+e.slidesToScroll,s+=Math.min(e.slidesToScroll,e.slidesToShow);return o},ax=Q.checkNavigable=function(e,n){var r=h$(e),s=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=s;break}s=r[o]}return n},lx=Q.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,s=e.listRef,o=s.querySelectorAll&&s.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(e.vertical){if(l.offsetTop+bk(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+Ng(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var i=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-i)||1;return a}else return e.slidesToScroll},xy=Q.checkSpecKeys=function(e,n){return n.reduce(function(r,s){return r&&e.hasOwnProperty(s)},!0)?null:console.error("Keys Missing:",e)},xh=Q.getTrackCSS=function(e){xy(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,s=e.slideCount+2*e.slidesToShow;e.vertical?r=s*e.slideHeight:n=m$(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=He(He({},o),{},{WebkitTransform:i,transform:a,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},Ek=Q.getTrackAnimateCSS=function(e){xy(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=xh(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},Ch=Q.getTrackLeft=function(e){if(e.unslick)return 0;xy(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,s=e.infinite,o=e.centerMode,i=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,m=e.slideHeight,p=e.fade,_=e.vertical,v=0,x,y,g=0;if(p||e.slideCount===1)return 0;var w=0;if(s?(w=-Sd(e),i%l!==0&&n+l>i&&(w=-(n>i?a-(n-i):i%l)),o&&(w+=parseInt(a/2))):(i%l!==0&&n+l>i&&(w=a-i%l),o&&(w=parseInt(a/2))),v=w*u,g=w*m,_?x=n*m*-1+g:x=n*u*-1+v,h===!0){var b,C=r&&r.node;if(b=n+Sd(e),y=C&&C.childNodes[b],x=y?y.offsetLeft*-1:0,o===!0){b=s?n+Sd(e):n,y=C&&C.children[b],x=0;for(var k=0;k<b;k++)x-=C&&C.children[k]&&C.children[k].offsetWidth;x-=parseInt(e.centerPadding),x+=y&&(d-y.offsetWidth)/2}}return x},Sd=Q.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},f$=Q.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},m$=Q.getTotalSlides=function(e){return e.slideCount===1?1:Sd(e)+e.slideCount+f$(e)},p$=Q.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+g$(e)?"left":"right":e.targetSlide<e.currentSlide-_$(e)?"right":"left"},g$=Q.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,o=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),s&&n%2===0&&(i+=1),i}return s?0:n-1},_$=Q.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,o=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),!s&&n%2===0&&(i+=1),i}return s?n-1:0};Q.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var y$=Q.validSettings=Object.keys(i$.default);function v$(t){return y$.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var im={};Object.defineProperty(im,"__esModule",{value:!0});im.Track=void 0;var Ts=Tk(f),kp=Tk(om),Sp=Q;function Tk(t){return t&&t.__esModule?t:{default:t}}function ja(t){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ja(t)}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function w$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nk(r.key),r)}}function C$(t,e,n){return e&&x$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pg(t,e)}function Pg(t,e){return Pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Pg(t,e)}function k$(t){var e=Ik();return function(){var r=bh(t),s;if(e){var o=bh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return S$(this,s)}}function S$(t,e){if(e&&(ja(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lg(t)}function Lg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ik(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ik=function(){return!!t})()}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bh(t)}function cx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(n),!0).forEach(function(r){Ag(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ag(t,e,n){return e=Nk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nk(t){var e=E$(t,"string");return ja(e)=="symbol"?e:String(e)}function E$(t,e){if(ja(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ep=function(e){var n,r,s,o,i;e.rtl?i=e.slideCount-1-e.index:i=e.index,s=i<0||i>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(i-e.currentSlide)%e.slideCount===0,i>e.currentSlide-o-1&&i<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=i&&i<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=i===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":s,"slick-current":l}},T$=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Tp=function(e,n){return e.key||n},I$=function(e){var n,r=[],s=[],o=[],i=Ts.default.Children.count(e.children),a=(0,Sp.lazyStartIndex)(e),l=(0,Sp.lazyEndIndex)(e);return Ts.default.Children.forEach(e.children,function(u,d){var h,m={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=u:h=Ts.default.createElement("div",null);var p=T$(dn(dn({},e),{},{index:d})),_=h.props.className||"",v=Ep(dn(dn({},e),{},{index:d}));if(r.push(Ts.default.cloneElement(h,{key:"original"+Tp(h,d),"data-index":d,className:(0,kp.default)(v,_),tabIndex:"-1","aria-hidden":!v["slick-active"],style:dn(dn({outline:"none"},h.props.style||{}),p),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}})),e.infinite&&e.fade===!1){var x=i-d;x<=(0,Sp.getPreClones)(e)&&(n=-x,n>=a&&(h=u),v=Ep(dn(dn({},e),{},{index:n})),s.push(Ts.default.cloneElement(h,{key:"precloned"+Tp(h,n),"data-index":n,tabIndex:"-1",className:(0,kp.default)(v,_),"aria-hidden":!v["slick-active"],style:dn(dn({},h.props.style||{}),p),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}}))),n=i+d,n<l&&(h=u),v=Ep(dn(dn({},e),{},{index:n})),o.push(Ts.default.cloneElement(h,{key:"postcloned"+Tp(h,n),"data-index":n,tabIndex:"-1",className:(0,kp.default)(v,_),"aria-hidden":!v["slick-active"],style:dn(dn({},h.props.style||{}),p),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(m)}}))}}),e.rtl?s.concat(r,o).reverse():s.concat(r,o)};im.Track=function(t){b$(n,t);var e=k$(n);function n(){var r;w$(this,n);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o)),Ag(Lg(r),"node",null),Ag(Lg(r),"handleRef",function(a){r.node=a}),r}return C$(n,[{key:"render",value:function(){var s=I$(this.props),o=this.props,i=o.onMouseEnter,a=o.onMouseOver,l=o.onMouseLeave,u={onMouseEnter:i,onMouseOver:a,onMouseLeave:l};return Ts.default.createElement("div",jg({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),s)}}]),n}(Ts.default.PureComponent);var am={};function Pa(t){"@babel/helpers - typeof";return Pa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pa(t)}Object.defineProperty(am,"__esModule",{value:!0});am.Dots=void 0;var Ku=jk(f),N$=jk(om),ux=Q;function jk(t){return t&&t.__esModule?t:{default:t}}function dx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function j$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dx(Object(n),!0).forEach(function(r){P$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P$(t,e,n){return e=Pk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pk(r.key),r)}}function R$(t,e,n){return e&&A$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pk(t){var e=D$(t,"string");return Pa(e)=="symbol"?e:String(e)}function D$(t,e){if(Pa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function O$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rg(t,e)}function Rg(t,e){return Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Rg(t,e)}function M$(t){var e=Lk();return function(){var r=kh(t),s;if(e){var o=kh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return $$(this,s)}}function $$(t,e){if(e&&(Pa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F$(t)}function F$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lk=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(t)}var B$=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};am.Dots=function(t){O$(n,t);var e=M$(n);function n(){return L$(this,n),e.apply(this,arguments)}return R$(n,[{key:"clickHandler",value:function(s,o){o.preventDefault(),this.props.clickHandler(s)}},{key:"render",value:function(){for(var s=this.props,o=s.onMouseEnter,i=s.onMouseOver,a=s.onMouseLeave,l=s.infinite,u=s.slidesToScroll,d=s.slidesToShow,h=s.slideCount,m=s.currentSlide,p=B$({slideCount:h,slidesToScroll:u,slidesToShow:d,infinite:l}),_={onMouseEnter:o,onMouseOver:i,onMouseLeave:a},v=[],x=0;x<p;x++){var y=(x+1)*u-1,g=l?y:(0,ux.clamp)(y,0,h-1),w=g-(u-1),b=l?w:(0,ux.clamp)(w,0,h-1),C=(0,N$.default)({"slick-active":l?m>=b&&m<=g:m===b}),k={message:"dots",index:x,slidesToScroll:u,currentSlide:m},T=this.clickHandler.bind(this,k);v=v.concat(Ku.default.createElement("li",{key:x,className:C},Ku.default.cloneElement(this.props.customPaging(x),{onClick:T})))}return Ku.default.cloneElement(this.props.appendDots(v),j$({className:this.props.dotsClass},_))}}]),n}(Ku.default.PureComponent);var La={};function Aa(t){"@babel/helpers - typeof";return Aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aa(t)}Object.defineProperty(La,"__esModule",{value:!0});La.PrevArrow=La.NextArrow=void 0;var da=Rk(f),Ak=Rk(om),U$=Q;function Rk(t){return t&&t.__esModule?t:{default:t}}function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(this,arguments)}function hx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hx(Object(n),!0).forEach(function(r){V$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V$(t,e,n){return e=Mk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mk(r.key),r)}}function Ok(t,e,n){return e&&z$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mk(t){var e=H$(t,"string");return Aa(e)=="symbol"?e:String(e)}function H$(t,e){if(Aa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Aa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $k(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dg(t,e)}function Dg(t,e){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Dg(t,e)}function Fk(t){var e=Bk();return function(){var r=Th(t),s;if(e){var o=Th(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return q$(this,s)}}function q$(t,e){if(e&&(Aa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W$(t)}function W$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bk=function(){return!!t})()}function Th(t){return Th=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Th(t)}La.PrevArrow=function(t){$k(n,t);var e=Fk(n);function n(){return Dk(this,n),e.apply(this,arguments)}return Ok(n,[{key:"clickHandler",value:function(s,o){o&&o.preventDefault(),this.props.clickHandler(s,o)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(s["slick-disabled"]=!0,o=null);var i={key:"0","data-role":"none",className:(0,Ak.default)(s),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=da.default.cloneElement(this.props.prevArrow,Eh(Eh({},i),a)):l=da.default.createElement("button",Sh({key:"0",type:"button"},i)," ","Previous"),l}}]),n}(da.default.PureComponent);La.NextArrow=function(t){$k(n,t);var e=Fk(n);function n(){return Dk(this,n),e.apply(this,arguments)}return Ok(n,[{key:"clickHandler",value:function(s,o){o&&o.preventDefault(),this.props.clickHandler(s,o)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,U$.canGoNext)(this.props)||(s["slick-disabled"]=!0,o=null);var i={key:"1","data-role":"none",className:(0,Ak.default)(s),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=da.default.cloneElement(this.props.nextArrow,Eh(Eh({},i),a)):l=da.default.createElement("button",Sh({key:"1",type:"button"},i)," ","Next"),l}}]),n}(da.default.PureComponent);var Uk=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(s,o){return s[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},e.prototype.set=function(n,r){var s=t(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,s=t(r,n);~s&&r.splice(s,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,o=this.__entries__;s<o.length;s++){var i=o[s];n.call(r,i[1],i[0])}},e}()}(),Og=typeof window<"u"&&typeof document<"u"&&window.document===document,Ih=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),G$=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ih):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),K$=2;function Z$(t,e){var n=!1,r=!1,s=0;function o(){n&&(n=!1,t()),r&&a()}function i(){G$(o)}function a(){var l=Date.now();if(n){if(l-s<K$)return;r=!0}else n=!0,r=!1,setTimeout(i,e);s=l}return a}var Q$=20,X$=["top","right","bottom","left","width","height","size","weight"],Y$=typeof MutationObserver<"u",J$=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Z$(this.refresh.bind(this),Q$)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Og||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Y$?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Og||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,s=X$.some(function(o){return!!~r.indexOf(o)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Vk=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},Ra=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Ih},zk=lm(0,0,0,0);function Nh(t){return parseFloat(t)||0}function fx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,s){var o=t["border-"+s+"-width"];return r+Nh(o)},0)}function eF(t){for(var e=["top","right","bottom","left"],n={},r=0,s=e;r<s.length;r++){var o=s[r],i=t["padding-"+o];n[o]=Nh(i)}return n}function tF(t){var e=t.getBBox();return lm(0,0,e.width,e.height)}function nF(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return zk;var r=Ra(t).getComputedStyle(t),s=eF(r),o=s.left+s.right,i=s.top+s.bottom,a=Nh(r.width),l=Nh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=fx(r,"left","right")+o),Math.round(l+i)!==n&&(l-=fx(r,"top","bottom")+i)),!sF(t)){var u=Math.round(a+o)-e,d=Math.round(l+i)-n;Math.abs(u)!==1&&(a-=u),Math.abs(d)!==1&&(l-=d)}return lm(s.left,s.top,a,l)}var rF=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Ra(t).SVGGraphicsElement}:function(t){return t instanceof Ra(t).SVGElement&&typeof t.getBBox=="function"}}();function sF(t){return t===Ra(t).document.documentElement}function oF(t){return Og?rF(t)?tF(t):nF(t):zk}function iF(t){var e=t.x,n=t.y,r=t.width,s=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,i=Object.create(o.prototype);return Vk(i,{x:e,y:n,width:r,height:s,top:n,right:e+r,bottom:s+n,left:e}),i}function lm(t,e,n,r){return{x:t,y:e,width:n,height:r}}var aF=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=lm(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=oF(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),lF=function(){function t(e,n){var r=iF(n);Vk(this,{target:e,contentRect:r})}return t}(),cF=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new Uk,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ra(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new aF(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ra(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new lF(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Hk=typeof WeakMap<"u"?new WeakMap:new Uk,qk=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=J$.getInstance(),r=new cF(e,n,this);Hk.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){qk.prototype[t]=function(){var e;return(e=Hk.get(this))[t].apply(e,arguments)}});var uF=function(){return typeof Ih.ResizeObserver<"u"?Ih.ResizeObserver:qk}();const dF=Object.freeze(Object.defineProperty({__proto__:null,default:uF},Symbol.toStringTag,{value:"Module"})),hF=X6(dF);Object.defineProperty(sm,"__esModule",{value:!0});sm.InnerSlider=void 0;var rn=uu(f),fF=uu(gk),mF=uu(s$),pF=uu(om),Ke=Q,gF=im,_F=am,mx=La,yF=uu(hF);function uu(t){return t&&t.__esModule?t:{default:t}}function si(t){"@babel/helpers - typeof";return si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(t)}function jh(){return jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jh.apply(this,arguments)}function vF(t,e){if(t==null)return{};var n=wF(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function px(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?px(Object(n),!0).forEach(function(r){ye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):px(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gk(r.key),r)}}function bF(t,e,n){return e&&CF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mg(t,e)}function Mg(t,e){return Mg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Mg(t,e)}function SF(t){var e=Wk();return function(){var r=Ph(t),s;if(e){var o=Ph(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return EF(this,s)}}function EF(t,e){if(e&&(si(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _e(t)}function _e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wk=function(){return!!t})()}function Ph(t){return Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ph(t)}function ye(t,e,n){return e=Gk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gk(t){var e=TF(t,"string");return si(e)=="symbol"?e:String(e)}function TF(t,e){if(si(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(si(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}sm.InnerSlider=function(t){kF(n,t);var e=SF(n);function n(r){var s;xF(this,n),s=e.call(this,r),ye(_e(s),"listRefHandler",function(i){return s.list=i}),ye(_e(s),"trackRefHandler",function(i){return s.track=i}),ye(_e(s),"adaptHeight",function(){if(s.props.adaptiveHeight&&s.list){var i=s.list.querySelector('[data-index="'.concat(s.state.currentSlide,'"]'));s.list.style.height=(0,Ke.getHeight)(i)+"px"}}),ye(_e(s),"componentDidMount",function(){if(s.props.onInit&&s.props.onInit(),s.props.lazyLoad){var i=(0,Ke.getOnDemandLazySlides)(ae(ae({},s.props),s.state));i.length>0&&(s.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(i)}}),s.props.onLazyLoad&&s.props.onLazyLoad(i))}var a=ae({listRef:s.list,trackRef:s.track},s.props);s.updateState(a,!0,function(){s.adaptHeight(),s.props.autoplay&&s.autoPlay("update")}),s.props.lazyLoad==="progressive"&&(s.lazyLoadTimer=setInterval(s.progressiveLazyLoad,1e3)),s.ro=new yF.default(function(){s.state.animating?(s.onWindowResized(!1),s.callbackTimers.push(setTimeout(function(){return s.onWindowResized()},s.props.speed))):s.onWindowResized()}),s.ro.observe(s.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=s.props.pauseOnFocus?s.onSlideFocus:null,l.onblur=s.props.pauseOnFocus?s.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",s.onWindowResized):window.attachEvent("onresize",s.onWindowResized)}),ye(_e(s),"componentWillUnmount",function(){s.animationEndCallback&&clearTimeout(s.animationEndCallback),s.lazyLoadTimer&&clearInterval(s.lazyLoadTimer),s.callbackTimers.length&&(s.callbackTimers.forEach(function(i){return clearTimeout(i)}),s.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",s.onWindowResized):window.detachEvent("onresize",s.onWindowResized),s.autoplayTimer&&clearInterval(s.autoplayTimer),s.ro.disconnect()}),ye(_e(s),"componentDidUpdate",function(i){if(s.checkImagesLoad(),s.props.onReInit&&s.props.onReInit(),s.props.lazyLoad){var a=(0,Ke.getOnDemandLazySlides)(ae(ae({},s.props),s.state));a.length>0&&(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),s.props.onLazyLoad&&s.props.onLazyLoad(a))}s.adaptHeight();var l=ae(ae({listRef:s.list,trackRef:s.track},s.props),s.state),u=s.didPropsChange(i);u&&s.updateState(l,u,function(){s.state.currentSlide>=rn.default.Children.count(s.props.children)&&s.changeSlide({message:"index",index:rn.default.Children.count(s.props.children)-s.props.slidesToShow,currentSlide:s.state.currentSlide}),s.props.autoplay?s.autoPlay("update"):s.pause("paused")})}),ye(_e(s),"onWindowResized",function(i){s.debouncedResize&&s.debouncedResize.cancel(),s.debouncedResize=(0,mF.default)(function(){return s.resizeWindow(i)},50),s.debouncedResize()}),ye(_e(s),"resizeWindow",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(s.track&&s.track.node);if(a){var l=ae(ae({listRef:s.list,trackRef:s.track},s.props),s.state);s.updateState(l,i,function(){s.props.autoplay?s.autoPlay("update"):s.pause("paused")}),s.setState({animating:!1}),clearTimeout(s.animationEndCallback),delete s.animationEndCallback}}),ye(_e(s),"updateState",function(i,a,l){var u=(0,Ke.initializedState)(i);i=ae(ae(ae({},i),u),{},{slideIndex:u.currentSlide});var d=(0,Ke.getTrackLeft)(i);i=ae(ae({},i),{},{left:d});var h=(0,Ke.getTrackCSS)(i);(a||rn.default.Children.count(s.props.children)!==rn.default.Children.count(i.children))&&(u.trackStyle=h),s.setState(u,l)}),ye(_e(s),"ssrInit",function(){if(s.props.variableWidth){var i=0,a=0,l=[],u=(0,Ke.getPreClones)(ae(ae(ae({},s.props),s.state),{},{slideCount:s.props.children.length})),d=(0,Ke.getPostClones)(ae(ae(ae({},s.props),s.state),{},{slideCount:s.props.children.length}));s.props.children.forEach(function(T){l.push(T.props.style.width),i+=T.props.style.width});for(var h=0;h<u;h++)a+=l[l.length-1-h],i+=l[l.length-1-h];for(var m=0;m<d;m++)i+=l[m];for(var p=0;p<s.state.currentSlide;p++)a+=l[p];var _={width:i+"px",left:-a+"px"};if(s.props.centerMode){var v="".concat(l[s.state.currentSlide],"px");_.left="calc(".concat(_.left," + (100% - ").concat(v,") / 2 ) ")}return{trackStyle:_}}var x=rn.default.Children.count(s.props.children),y=ae(ae(ae({},s.props),s.state),{},{slideCount:x}),g=(0,Ke.getPreClones)(y)+(0,Ke.getPostClones)(y)+x,w=100/s.props.slidesToShow*g,b=100/g,C=-b*((0,Ke.getPreClones)(y)+s.state.currentSlide)*w/100;s.props.centerMode&&(C+=(100-b*w/100)/2);var k={width:w+"%",left:C+"%"};return{slideWidth:b+"%",trackStyle:k}}),ye(_e(s),"checkImagesLoad",function(){var i=s.list&&s.list.querySelectorAll&&s.list.querySelectorAll(".slick-slide img")||[],a=i.length,l=0;Array.prototype.forEach.call(i,function(u){var d=function(){return++l&&l>=a&&s.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(m){h(m),u.parentNode.focus()}}u.onload||(s.props.lazyLoad?u.onload=function(){s.adaptHeight(),s.callbackTimers.push(setTimeout(s.onWindowResized,s.props.speed))}:(u.onload=d,u.onerror=function(){d(),s.props.onLazyLoadError&&s.props.onLazyLoadError()}))})}),ye(_e(s),"progressiveLazyLoad",function(){for(var i=[],a=ae(ae({},s.props),s.state),l=s.state.currentSlide;l<s.state.slideCount+(0,Ke.getPostClones)(a);l++)if(s.state.lazyLoadedList.indexOf(l)<0){i.push(l);break}for(var u=s.state.currentSlide-1;u>=-(0,Ke.getPreClones)(a);u--)if(s.state.lazyLoadedList.indexOf(u)<0){i.push(u);break}i.length>0?(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(i)}}),s.props.onLazyLoad&&s.props.onLazyLoad(i)):s.lazyLoadTimer&&(clearInterval(s.lazyLoadTimer),delete s.lazyLoadTimer)}),ye(_e(s),"slideHandler",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=s.props,u=l.asNavFor,d=l.beforeChange,h=l.onLazyLoad,m=l.speed,p=l.afterChange,_=s.state.currentSlide,v=(0,Ke.slideHandler)(ae(ae(ae({index:i},s.props),s.state),{},{trackRef:s.track,useCSS:s.props.useCSS&&!a})),x=v.state,y=v.nextState;if(x){d&&d(_,x.currentSlide);var g=x.lazyLoadedList.filter(function(w){return s.state.lazyLoadedList.indexOf(w)<0});h&&g.length>0&&h(g),!s.props.waitForAnimate&&s.animationEndCallback&&(clearTimeout(s.animationEndCallback),p&&p(_),delete s.animationEndCallback),s.setState(x,function(){u&&s.asNavForIndex!==i&&(s.asNavForIndex=i,u.innerSlider.slideHandler(i)),y&&(s.animationEndCallback=setTimeout(function(){var w=y.animating,b=vF(y,["animating"]);s.setState(b,function(){s.callbackTimers.push(setTimeout(function(){return s.setState({animating:w})},10)),p&&p(x.currentSlide),delete s.animationEndCallback})},m))})}}),ye(_e(s),"changeSlide",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=ae(ae({},s.props),s.state),u=(0,Ke.changeSlide)(l,i);if(!(u!==0&&!u)&&(a===!0?s.slideHandler(u,a):s.slideHandler(u),s.props.autoplay&&s.autoPlay("update"),s.props.focusOnSelect)){var d=s.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),ye(_e(s),"clickHandler",function(i){s.clickable===!1&&(i.stopPropagation(),i.preventDefault()),s.clickable=!0}),ye(_e(s),"keyHandler",function(i){var a=(0,Ke.keyHandler)(i,s.props.accessibility,s.props.rtl);a!==""&&s.changeSlide({message:a})}),ye(_e(s),"selectHandler",function(i){s.changeSlide(i)}),ye(_e(s),"disableBodyScroll",function(){var i=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=i}),ye(_e(s),"enableBodyScroll",function(){window.ontouchmove=null}),ye(_e(s),"swipeStart",function(i){s.props.verticalSwiping&&s.disableBodyScroll();var a=(0,Ke.swipeStart)(i,s.props.swipe,s.props.draggable);a!==""&&s.setState(a)}),ye(_e(s),"swipeMove",function(i){var a=(0,Ke.swipeMove)(i,ae(ae(ae({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));a&&(a.swiping&&(s.clickable=!1),s.setState(a))}),ye(_e(s),"swipeEnd",function(i){var a=(0,Ke.swipeEnd)(i,ae(ae(ae({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,s.setState(a),l!==void 0&&(s.slideHandler(l),s.props.verticalSwiping&&s.enableBodyScroll())}}),ye(_e(s),"touchEnd",function(i){s.swipeEnd(i),s.clickable=!0}),ye(_e(s),"slickPrev",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"previous"})},0))}),ye(_e(s),"slickNext",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"next"})},0))}),ye(_e(s),"slickGoTo",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i=Number(i),isNaN(i))return"";s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"index",index:i,currentSlide:s.state.currentSlide},a)},0))}),ye(_e(s),"play",function(){var i;if(s.props.rtl)i=s.state.currentSlide-s.props.slidesToScroll;else if((0,Ke.canGoNext)(ae(ae({},s.props),s.state)))i=s.state.currentSlide+s.props.slidesToScroll;else return!1;s.slideHandler(i)}),ye(_e(s),"autoPlay",function(i){s.autoplayTimer&&clearInterval(s.autoplayTimer);var a=s.state.autoplaying;if(i==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(i==="leave"){if(a==="paused"||a==="focused")return}else if(i==="blur"&&(a==="paused"||a==="hovered"))return;s.autoplayTimer=setInterval(s.play,s.props.autoplaySpeed+50),s.setState({autoplaying:"playing"})}),ye(_e(s),"pause",function(i){s.autoplayTimer&&(clearInterval(s.autoplayTimer),s.autoplayTimer=null);var a=s.state.autoplaying;i==="paused"?s.setState({autoplaying:"paused"}):i==="focused"?(a==="hovered"||a==="playing")&&s.setState({autoplaying:"focused"}):a==="playing"&&s.setState({autoplaying:"hovered"})}),ye(_e(s),"onDotsOver",function(){return s.props.autoplay&&s.pause("hovered")}),ye(_e(s),"onDotsLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),ye(_e(s),"onTrackOver",function(){return s.props.autoplay&&s.pause("hovered")}),ye(_e(s),"onTrackLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),ye(_e(s),"onSlideFocus",function(){return s.props.autoplay&&s.pause("focused")}),ye(_e(s),"onSlideBlur",function(){return s.props.autoplay&&s.state.autoplaying==="focused"&&s.autoPlay("blur")}),ye(_e(s),"render",function(){var i=(0,pF.default)("slick-slider",s.props.className,{"slick-vertical":s.props.vertical,"slick-initialized":!0}),a=ae(ae({},s.props),s.state),l=(0,Ke.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=s.props.pauseOnHover;l=ae(ae({},l),{},{onMouseEnter:u?s.onTrackOver:null,onMouseLeave:u?s.onTrackLeave:null,onMouseOver:u?s.onTrackOver:null,focusOnSelect:s.props.focusOnSelect&&s.clickable?s.selectHandler:null});var d;if(s.props.dots===!0&&s.state.slideCount>=s.props.slidesToShow){var h=(0,Ke.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=s.props.pauseOnDotsHover;h=ae(ae({},h),{},{clickHandler:s.changeSlide,onMouseEnter:m?s.onDotsLeave:null,onMouseOver:m?s.onDotsOver:null,onMouseLeave:m?s.onDotsLeave:null}),d=rn.default.createElement(_F.Dots,h)}var p,_,v=(0,Ke.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);v.clickHandler=s.changeSlide,s.props.arrows&&(p=rn.default.createElement(mx.PrevArrow,v),_=rn.default.createElement(mx.NextArrow,v));var x=null;s.props.vertical&&(x={height:s.state.listHeight});var y=null;s.props.vertical===!1?s.props.centerMode===!0&&(y={padding:"0px "+s.props.centerPadding}):s.props.centerMode===!0&&(y={padding:s.props.centerPadding+" 0px"});var g=ae(ae({},x),y),w=s.props.touchMove,b={className:"slick-list",style:g,onClick:s.clickHandler,onMouseDown:w?s.swipeStart:null,onMouseMove:s.state.dragging&&w?s.swipeMove:null,onMouseUp:w?s.swipeEnd:null,onMouseLeave:s.state.dragging&&w?s.swipeEnd:null,onTouchStart:w?s.swipeStart:null,onTouchMove:s.state.dragging&&w?s.swipeMove:null,onTouchEnd:w?s.touchEnd:null,onTouchCancel:s.state.dragging&&w?s.swipeEnd:null,onKeyDown:s.props.accessibility?s.keyHandler:null},C={className:i,dir:"ltr",style:s.props.style};return s.props.unslick&&(b={className:"slick-list"},C={className:i}),rn.default.createElement("div",C,s.props.unslick?"":p,rn.default.createElement("div",jh({ref:s.listRefHandler},b),rn.default.createElement(gF.Track,jh({ref:s.trackRefHandler},l),s.props.children)),s.props.unslick?"":_,s.props.unslick?"":d)}),s.list=null,s.track=null,s.state=ae(ae({},fF.default),{},{currentSlide:s.props.initialSlide,targetSlide:s.props.initialSlide?s.props.initialSlide:0,slideCount:rn.default.Children.count(s.props.children)}),s.callbackTimers=[],s.clickable=!0,s.debouncedResize=null;var o=s.ssrInit();return s.state=ae(ae({},s.state),o),s}return bF(n,[{key:"didPropsChange",value:function(s){for(var o=!1,i=0,a=Object.keys(this.props);i<a.length;i++){var l=a[i];if(!s.hasOwnProperty(l)){o=!0;break}if(!(si(s[l])==="object"||typeof s[l]=="function"||isNaN(s[l]))&&s[l]!==this.props[l]){o=!0;break}}return o||rn.default.Children.count(this.props.children)!==rn.default.Children.count(s.children)}}]),n}(rn.default.Component);var IF=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},NF=IF,jF=NF,PF=function(t){var e=/[height|width]$/;return e.test(t)},gx=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,s){var o=t[r];r=jF(r),PF(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",s<n.length-1&&(e+=" and ")}),e},LF=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=gx(n),r<t.length-1&&(e+=", ")}),e):gx(t)},AF=LF,Ip,_x;function RF(){if(_x)return Ip;_x=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Ip=t,Ip}var Np,yx;function Kk(){if(yx)return Np;yx=1;function t(r,s){var o=0,i=r.length,a;for(o;o<i&&(a=s(r[o],o),a!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Np={isFunction:n,isArray:e,each:t},Np}var jp,vx;function DF(){if(vx)return jp;vx=1;var t=RF(),e=Kk().each;function n(r,s){this.query=r,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(i){o.mql=i.currentTarget||i,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var s=new t(r);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(r){var s=this.handlers;e(s,function(o,i){if(o.equals(r))return o.destroy(),!s.splice(i,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(s){s[r]()})}},jp=n,jp}var Pp,wx;function OF(){if(wx)return Pp;wx=1;var t=DF(),e=Kk(),n=e.each,r=e.isFunction,s=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(i,a,l){var u=this.queries,d=l&&this.browserIsIncapable;return u[i]||(u[i]=new t(i,d)),r(a)&&(a={match:a}),s(a)||(a=[a]),n(a,function(h){r(h)&&(h={match:h}),u[i].addHandler(h)}),this},unregister:function(i,a){var l=this.queries[i];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[i])),this}},Pp=o,Pp}var Lp,xx;function MF(){if(xx)return Lp;xx=1;var t=OF();return Lp=new t,Lp}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(f),n=sm,r=i(AF),s=i(wy),o=Q;function i(E){return E&&E.__esModule?E:{default:E}}function a(E){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},a(E)}function l(){return l=Object.assign?Object.assign.bind():function(E){for(var I=1;I<arguments.length;I++){var R=arguments[I];for(var P in R)Object.prototype.hasOwnProperty.call(R,P)&&(E[P]=R[P])}return E},l.apply(this,arguments)}function u(E,I){var R=Object.keys(E);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(E);I&&(P=P.filter(function(O){return Object.getOwnPropertyDescriptor(E,O).enumerable})),R.push.apply(R,P)}return R}function d(E){for(var I=1;I<arguments.length;I++){var R=arguments[I]!=null?arguments[I]:{};I%2?u(Object(R),!0).forEach(function(P){C(E,P,R[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(R)):u(Object(R)).forEach(function(P){Object.defineProperty(E,P,Object.getOwnPropertyDescriptor(R,P))})}return E}function h(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")}function m(E,I){for(var R=0;R<I.length;R++){var P=I[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(E,k(P.key),P)}}function p(E,I,R){return I&&m(E.prototype,I),Object.defineProperty(E,"prototype",{writable:!1}),E}function _(E,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),I&&v(E,I)}function v(E,I){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(P,O){return P.__proto__=O,P},v(E,I)}function x(E){var I=w();return function(){var P=b(E),O;if(I){var A=b(this).constructor;O=Reflect.construct(P,arguments,A)}else O=P.apply(this,arguments);return y(this,O)}}function y(E,I){if(I&&(a(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(E)}function g(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function w(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!E})()}function b(E){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},b(E)}function C(E,I,R){return I=k(I),I in E?Object.defineProperty(E,I,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[I]=R,E}function k(E){var I=T(E,"string");return a(I)=="symbol"?I:String(I)}function T(E,I){if(a(E)!="object"||!E)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var P=R.call(E,I);if(a(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(E)}var S=(0,o.canUseDOM)()&&MF();t.default=function(E){_(R,E);var I=x(R);function R(P){var O;return h(this,R),O=I.call(this,P),C(g(O),"innerSliderRefHandler",function(A){return O.innerSlider=A}),C(g(O),"slickPrev",function(){return O.innerSlider.slickPrev()}),C(g(O),"slickNext",function(){return O.innerSlider.slickNext()}),C(g(O),"slickGoTo",function(A){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return O.innerSlider.slickGoTo(A,$)}),C(g(O),"slickPause",function(){return O.innerSlider.pause("paused")}),C(g(O),"slickPlay",function(){return O.innerSlider.autoPlay("play")}),O.state={breakpoint:null},O._responsiveMediaHandlers=[],O}return p(R,[{key:"media",value:function(O,A){S.register(O,A),this._responsiveMediaHandlers.push({query:O,handler:A})}},{key:"componentDidMount",value:function(){var O=this;if(this.props.responsive){var A=this.props.responsive.map(function(M){return M.breakpoint});A.sort(function(M,j){return M-j}),A.forEach(function(M,j){var N;j===0?N=(0,r.default)({minWidth:0,maxWidth:M}):N=(0,r.default)({minWidth:A[j-1]+1,maxWidth:M}),(0,o.canUseDOM)()&&O.media(N,function(){O.setState({breakpoint:M})})});var $=(0,r.default)({minWidth:A.slice(-1)[0]});(0,o.canUseDOM)()&&this.media($,function(){O.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(O){S.unregister(O.query,O.handler)})}},{key:"render",value:function(){var O=this,A,$;this.state.breakpoint?($=this.props.responsive.filter(function(ue){return ue.breakpoint===O.state.breakpoint}),A=$[0].settings==="unslick"?"unslick":d(d(d({},s.default),this.props),$[0].settings)):A=d(d({},s.default),this.props),A.centerMode&&(A.slidesToScroll>1,A.slidesToScroll=1),A.fade&&(A.slidesToShow>1,A.slidesToScroll>1,A.slidesToShow=1,A.slidesToScroll=1);var M=e.default.Children.toArray(this.props.children);M=M.filter(function(ue){return typeof ue=="string"?!!ue.trim():!!ue}),A.variableWidth&&(A.rows>1||A.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),A.variableWidth=!1);for(var j=[],N=null,L=0;L<M.length;L+=A.rows*A.slidesPerRow){for(var D=[],F=L;F<L+A.rows*A.slidesPerRow;F+=A.slidesPerRow){for(var V=[],z=F;z<F+A.slidesPerRow&&(A.variableWidth&&M[z].props.style&&(N=M[z].props.style.width),!(z>=M.length));z+=1)V.push(e.default.cloneElement(M[z],{key:100*L+10*F+z,tabIndex:-1,style:{width:"".concat(100/A.slidesPerRow,"%"),display:"inline-block"}}));D.push(e.default.createElement("div",{key:10*L+F},V))}A.variableWidth?j.push(e.default.createElement("div",{key:L,style:{width:N}},D)):j.push(e.default.createElement("div",{key:L},D))}if(A==="unslick"){var K="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:K},M)}else j.length<=A.slidesToShow&&!A.infinite&&(A.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(A)),j)}}]),R}(e.default.Component)})(pk);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(pk);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(mk);const $F=zh(mk);function FF(t){const{className:e,style:n,onClick:r}=t;return c.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function BF(t){const{className:e,style:n,onClick:r}=t;return c.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function UF(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState(0);f.useEffect(()=>{const i=document.querySelector(".slick-active"),a=parseInt(i.getAttribute("data-index")),l=["#C3F82B","#FF4365","#0040F9"],u={0:{iconColor:"#0A0B10",titleColor:"#0A0B10",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},1:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},2:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0}};document.body.style.background=l[a],document.body.style.transition="0.5s",n(u[a])},[r]);const o={customPaging:function(i){return c.jsx("a",{children:c.jsx("div",{className:"dots"})})},dots:!0,dotsClass:"slick-dots slick-thumb",infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:c.jsx(FF,{}),prevArrow:c.jsx(BF,{}),afterChange:i=>{s(i)}};return c.jsx("div",{className:"slider_container",children:c.jsxs($F,{...o,children:[c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"1.png"})}),c.jsx("h2",{className:"title black",children:". . ."}),c.jsx("h3",{className:"text black",children:"       ."})]})}),c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"2.png"})}),c.jsx("h2",{className:"title white",children:" -   "}),c.jsx("h3",{className:"text white",children:"      "})]})}),c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"3.png"})}),c.jsx("h2",{className:"title white",children:"   . "}),c.jsx("h3",{className:"text white",children:"   ,     ,    "})]})})]})})}const VF="_button_rb0y4_1",zF="_arrow_rb0y4_18",Cx={button:VF,arrow:zF};function HF({linkTo:t,name:e}){const n=ie(),r=()=>{n(t)};return c.jsxs("button",{className:Cx.button,onClick:r,children:[e,c.jsx("div",{className:Cx.arrow,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:"white"})})})]})}const qF="_container_8awvt_1",WF="_button_container_8awvt_13",bx={container:qF,button_container:WF};function GF({setHeaderColor:t}){const{authUser:e,ga:n}=ce();ie();const[r,s]=f.useState(0);return c.jsxs("div",{className:bx.container,children:[c.jsx(UF,{}),c.jsx("div",{className:bx.button_container,children:c.jsx(HF,{name:"",linkTo:"/sign-in"})})]})}const KF="_block_is8th_1",ZF="_info_is8th_17",QF="_title_is8th_24",XF="_text_is8th_30",ki={block:KF,info:ZF,title:QF,text:XF,"arrow-container":"_arrow-container_is8th_36","circle-arrow":"_circle-arrow_is8th_43"};function hn({backgroundColor:t,isBorder:e,borderColor:n,textColor:r,name:s,description:o,linkTo:i,arrowBackgroundColor:a,arrowColor:l}){const u=ie(),d=()=>{u(i)};function h(m){if(!m)return!1;let p,_,v;if(m.startsWith("#"))if(m.length===4)p=parseInt(m[1]+m[1],16),_=parseInt(m[2]+m[2],16),v=parseInt(m[3]+m[3],16);else if(m.length===7)p=parseInt(m.slice(1,3),16),_=parseInt(m.slice(3,5),16),v=parseInt(m.slice(5,7),16);else return!1;else if(m.startsWith("rgb")){const y=m.substring(m.indexOf("(")+1,m.lastIndexOf(")")).split(",").map(Number);if(y.length===3)p=y[0],_=y[1],v=y[2];else return!1}else{const y=document.createElement("div");y.style.color=m,document.body.appendChild(y);const g=window.getComputedStyle(y).color;if(document.body.removeChild(y),g.startsWith("rgb")){const w=g.substring(g.indexOf("(")+1,g.lastIndexOf(")")).split(",").map(Number);if(w.length===3)p=w[0],_=w[1],v=w[2];else return!1}else return!1}const x=(p*299+_*587+v*114)/1e3;return console.log(`: ${x}`),x>150}return c.jsxs("div",{className:ki.block,style:{background:t,transition:"0.5s ease",border:e?`2px solid ${n}`:"none"},onClick:d,children:[c.jsxs("div",{className:ki.info,children:[c.jsx("div",{className:ki.title,style:{color:h(t)?"#000":"#fff"},children:s}),c.jsxs("div",{className:ki.text,style:{color:h(t)?"#000":"#fff"},children:[" ",o," "]})]}),c.jsx("div",{className:ki["arrow-container"],children:c.jsx("div",{className:ki["circle-arrow"],style:{background:a},children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:h(t)?"#000":"#fff"})})})})]})}const YF="_wrapper_zkxlw_1",JF="_container_zkxlw_9",kx={wrapper:YF,container:JF},cl={"block-body":"_block-body_1az4j_1","block-name":"_block-name_1az4j_10","block-text":"_block-text_1az4j_15","block-arrow":"_block-arrow_1az4j_21","circle-arrow":"_circle-arrow_1az4j_29"};function eB({name:t,text:e,circleColor:n,onClick:r}){const{theme:s,setThemeById:o,elementColors:i,setElementColors:a}=f.useContext(B);function l(u){if(!u)return!1;let d,h,m;if(u.startsWith("#"))if(u.length===4)d=parseInt(u[1]+u[1],16),h=parseInt(u[2]+u[2],16),m=parseInt(u[3]+u[3],16);else if(u.length===7)d=parseInt(u.slice(1,3),16),h=parseInt(u.slice(3,5),16),m=parseInt(u.slice(5,7),16);else return!1;else if(u.startsWith("rgb")){const _=u.substring(u.indexOf("(")+1,u.lastIndexOf(")")).split(",").map(Number);if(_.length===3)d=_[0],h=_[1],m=_[2];else return!1}else{const _=document.createElement("div");_.style.color=u,document.body.appendChild(_);const v=window.getComputedStyle(_).color;if(document.body.removeChild(_),v.startsWith("rgb")){const x=v.substring(v.indexOf("(")+1,v.lastIndexOf(")")).split(",").map(Number);if(x.length===3)d=x[0],h=x[1],m=x[2];else return!1}else return!1}return(d*299+h*587+m*114)/1e3>150}return c.jsxs("div",{className:cl["block-body"],style:{background:s.element_first_color},onClick:r,children:[c.jsx("div",{className:cl["block-name"],style:{color:s.text_first_color},children:t}),c.jsx("div",{className:cl["block-text"],style:{color:s.text_first_color},children:e}),c.jsx("div",{className:cl["block-arrow"],children:c.jsx("div",{className:cl["circle-arrow"],style:{background:n},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:l(s.element_first_color)?"#000":"#fff"})})})})]})}const Wi=["   -  ,  . - . ","     . - . "," : ' '. - . ","  : ' '. - . "," . (P.S.   ). - . ","  -  . . "," .  .  . -. . ","-.","  ."," ."," ."," .kg"," - ,  - ,  - . - . ","! - . ","    .","   ,  .",'"  ?". - "   ". - "!".',"      ,     .",",   ?"," ?        .","    .   ' '  ,        .  ,   -   !","  - !","   ,     - . ",":     ."," ,    .","    . - . ",":    -  ! - . ","  ! - . "," ,  ! - . ","     ,    ."," -  !","   ,  ! - . ","  ,   !","  - .   - ! - . ","  ! - . ","  ,    !"," ,   ! - . ",",   ! - . ","  ! - . ",":   ,  !     ,  ! - . ","    ,  ! - . ","    ! - . ","     ,      - . ","     7 ! - . ","     ! - . ","    ,    ","     ,        -",":      - . ","    - ","     - ","    - ","     - ."," "," - 2 - 24","  2    - ",",  ! - . "," ! - . ","     - . "],tB="_body_aiao4_2",Zu={body:tB,"stroke-fill":"_stroke-fill_aiao4_12","stories-body":"_stories-body_aiao4_26"},nB=[{name:"download",img:"stories-cover.png",link:"/banner"}];function rB(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),r=ie();return c.jsx("div",{className:Zu.body,children:nB.map(s=>c.jsx("div",{className:Zu["stroke-fill"],style:{background:`linear-gradient(135deg,${t.gradient_first_color} 0%,${t.gradient_second_color} 100%)`},children:c.jsx("div",{className:Zu["stories-body"],style:{background:t.background_color},onClick:()=>r(s.link),children:c.jsx("img",{src:s.img,className:Zu["stories-img"]})})}))})}function sB(){const[t,e]=f.useState(""),{authUser:n}=ce(),r=ie(),{theme:s,setThemeById:o,elementColors:i,setElementColors:a}=f.useContext(B),l=()=>{const d=Math.floor(Math.random()*Wi.length);return Wi[d]},u=async()=>{const d=await l();e(d),localStorage.setItem("dailyQuote",d),localStorage.setItem("quoteDate",new Date().toISOString())};return f.useEffect(()=>{const d=localStorage.getItem("dailyQuote"),h=localStorage.getItem("quoteDate"),m=new Date().toISOString().split("T")[0];d&&h&&h.split("T")[0]===m?e(d):u();const p=setInterval(u,24*60*60*1e3);return()=>clearInterval(p)},[]),f.useEffect(()=>{a({iconColor:s.icon_color,titleColor:s.text_first_color,showArrow:!1,arrowColor:s.text_first_color,isHeaderBackground:!0,headerBackground:s.background_color,isHeader:!0,isFooter:!0,footerBackground:s.background_color,activeElementIndex:0,background:s.background_color}),document.body.style.background=s.background_color},[B]),c.jsxs("div",{className:kx.wrapper,children:[c.jsx(rB,{}),c.jsxs("div",{className:kx.container,children:[c.jsx(eB,{name:" ",text:t,circleColor:s.block_arrow_first_color,onClick:()=>r("/qoutes")}),c.jsx(hn,{name:"",description:"   ",backgroundColor:s.block_first_color,isBorder:!0,borderColor:s.block_border_color,textColor:s.text_first_color,arrowColor:s.text_third_color,arrowBackgroundColor:s.block_arrow_first_color,linkTo:"/updates"}),c.jsx(hn,{name:" ",description:" ?",backgroundColor:s.block_second_color,isBorder:!1,borderColor:s.block_border_color,textColor:s.text_second_color,arrowColor:s.text_third_color,arrowBackgroundColor:s.block_arrow_second_color,linkTo:"/game-menu"}),c.jsx(hn,{name:"",description:"  ?",backgroundColor:s.block_third_color,isBorder:!1,borderColor:s.block_border_color,textColor:s.text_first_color,arrowColor:s.text_third_color,arrowBackgroundColor:s.block_arrow_third_color,linkTo:`/timetable/${n.mainGroup}`}),c.jsx(hn,{name:"",description:" ",backgroundColor:s.block_first_color,isBorder:!0,borderColor:s.block_border_color,textColor:s.text_first_color,isCircleArrow:!1,arrowColor:s.text_third_color,arrowBackgroundColor:s.block_arrow_first_color,linkTo:"/shop"})]})]})}const oB="_container_1i5j2_2",iB="_categories_1i5j2_149",aB="_active_1i5j2_169",lB="_greeting_1i5j2_212",cB="_image_0_1i5j2_337",uB="_image_1_1i5j2_353",dB="_image_2_1i5j2_369",hB="_image_3_1i5j2_385",fB="_image_4_1i5j2_401",mB="_moveGradient_1i5j2_1",pB="_moveGradientHigh_1i5j2_1",Ze={container:oB,"background-cover":"_background-cover_1i5j2_12","input-container":"_input-container_1i5j2_25","message-action":"_message-action_1i5j2_37","add-file":"_add-file_1i5j2_45","input-body":"_input-body_1i5j2_64","smile-button":"_smile-button_1i5j2_76","input-message":"_input-message_1i5j2_97","send-button":"_send-button_1i5j2_116","emoji-panel":"_emoji-panel_1i5j2_135",categories:iB,"emoji-category":"_emoji-category_1i5j2_157",active:aB,"emojies-container":"_emojies-container_1i5j2_173","category-name":"_category-name_1i5j2_180","emojies-body":"_emojies-body_1i5j2_188","emojies-content":"_emojies-content_1i5j2_196","messages-container":"_messages-container_1i5j2_204",greeting:lB,"greeting-title":"_greeting-title_1i5j2_220","greeting-text":"_greeting-text_1i5j2_230","data-container":"_data-container_1i5j2_240","message-body":"_message-body_1i5j2_252","images-body":"_images-body_1i5j2_262","images-wrapper_1":"_images-wrapper_1_1i5j2_267","images-wrapper_2":"_images-wrapper_2_1i5j2_281","images-wrapper_3":"_images-wrapper_3_1i5j2_295","images-wrapper_4":"_images-wrapper_4_1i5j2_309","images-wrapper_5":"_images-wrapper_5_1i5j2_323",image_0:cB,image_1:uB,image_2:dB,image_3:hB,image_4:fB,"user-container":"_user-container_1i5j2_431","user-photo":"_user-photo_1i5j2_439","user-name":"_user-name_1i5j2_452","message-text":"_message-text_1i5j2_457","skeleton-high":"_skeleton-high_1i5j2_473",moveGradient:mB,"skeleton-meduim":"_skeleton-meduim_1i5j2_494","skeleton-small":"_skeleton-small_1i5j2_515",moveGradientHigh:pB},Sx={default:{name:"default",img:"themes/default/preview.png"},genery:{name:"genery",img:"themes/genery/preview.png"},kyrgyzstan:{name:"kyrgyzstan",img:"themes/kyrgyzstan/preview.png"},winter_2024:{name:"winter_2024",img:"themes/winter_2024/preview.png"},simple_light:{name:"simple_light",img:"themes/simple_light/preview.png"},material_ui:{name:"material_ui",img:"themes/material_ui/preview.png"}},cm=f.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),um=f.createContext({}),dm=f.createContext(null),Cy=typeof document<"u",by=Cy?f.useLayoutEffect:f.useEffect,Zk=f.createContext({strict:!1}),ky=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gB="framerAppearId",Qk="data-"+ky(gB),_B={useManualTiming:!1};class Ex{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function yB(t){let e=new Ex,n=new Ex,r=0,s=!1,o=!1;const i=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&s,m=h?e:n;return u&&i.add(l),m.add(l)&&h&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];i.has(d)&&(a.schedule(d),t()),d(l)}s=!1,o&&(o=!1,a.process(l))}};return a}const Qu=["read","resolveKeyframes","update","preRender","render","postRender"],vB=40;function Xk(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Qu.reduce((h,m)=>(h[m]=yB(()=>n=!0),h),{}),i=h=>{o[h].process(s)},a=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,vB),1),s.timestamp=h,s.isProcessing=!0,Qu.forEach(i),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Qu.reduce((h,m)=>{const p=o[m];return h[m]=(_,v=!1,x=!1)=>(n||l(),p.schedule(_,v,x)),h},{}),cancel:h=>Qu.forEach(m=>o[m].cancel(h)),state:s,steps:o}}const{schedule:Sy}=Xk(queueMicrotask,!1);function Gi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const Yk=f.createContext({});let Tx=!1;function wB(t,e,n,r,s){const{visualElement:o}=f.useContext(um),i=f.useContext(Zk),a=f.useContext(dm),l=f.useContext(cm).reducedMotion,u=f.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=f.useContext(Yk);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&CB(u.current,n,s,h),f.useInsertionEffect(()=>{d&&d.update(n,a)});const m=f.useRef(!!(n[Qk]&&!window.HandoffComplete));return by(()=>{d&&(d.updateFeatures(),Sy.render(d.render),m.current&&d.animationState&&d.animationState.animateChanges())}),f.useEffect(()=>{d&&(!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(m.current=!1,Tx||(Tx=!0,queueMicrotask(xB))))}),d}function xB(){window.HandoffComplete=!0}function CB(t,e,n,r){const{layoutId:s,layout:o,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Jk(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!i||a&&Gi(a),visualElement:t,scheduleRender:()=>t.scheduleRender(),animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function Jk(t){if(t)return t.options.allowProjection!==!1?t.projection:Jk(t.parent)}function bB(t,e,n){return f.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Gi(n)&&(n.current=r))},[e])}function Dc(t){return typeof t=="string"||Array.isArray(t)}function hm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ey=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ty=["initial",...Ey];function fm(t){return hm(t.animate)||Ty.some(e=>Dc(t[e]))}function e8(t){return!!(fm(t)||t.variants)}function kB(t,e){if(fm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Dc(n)?n:void 0,animate:Dc(r)?r:void 0}}return t.inherit!==!1?e:{}}function SB(t){const{initial:e,animate:n}=kB(t,f.useContext(um));return f.useMemo(()=>({initial:e,animate:n}),[Ix(e),Ix(n)])}function Ix(t){return Array.isArray(t)?t.join(" "):t}const Nx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Da={};for(const t in Nx)Da[t]={isEnabled:e=>Nx[t].some(n=>!!e[n])};function EB(t){for(const e in t)Da[e]={...Da[e],...t[e]}}const Oc=f.createContext({}),TB=Symbol.for("motionComponentSymbol"),Yt=t=>t;let t8=Yt;function IB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&EB(t);function o(a,l){let u;const d={...f.useContext(cm),...a,layoutId:NB(a)},{isStatic:h}=d,m=SB(a),p=r(a,h);if(!h&&Cy){jB();const _=PB(d);u=_.MeasureLayout,m.visualElement=wB(s,p,d,e,_.ProjectionNode)}return c.jsxs(um.Provider,{value:m,children:[u&&m.visualElement?c.jsx(u,{visualElement:m.visualElement,...d}):null,n(s,a,bB(p,m.visualElement,l),p,h,m.visualElement)]})}const i=f.forwardRef(o);return i[TB]=s,i}function NB({layoutId:t}){const e=f.useContext(Oc).id;return e&&t!==void 0?e+"-"+t:t}function jB(t,e){f.useContext(Zk).strict}function PB(t){const{drag:e,layout:n}=Da;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function LB(t){function e(r,s={}){return IB(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const AB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Iy(t){return typeof t!="string"||t.includes("-")?!1:!!(AB.indexOf(t)>-1||/[A-Z]/u.test(t))}const Lh={};function RB(t){Object.assign(Lh,t)}const du=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yi=new Set(du);function n8(t,{layout:e,layoutId:n}){return yi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Lh[t]||t==="opacity")}const Wt=t=>!!(t&&t.getVelocity),DB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OB=du.length;function MB(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<OB;i++){const a=du[i];if(t[a]!==void 0){const l=DB[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const r8=t=>e=>typeof e=="string"&&e.startsWith(t),s8=r8("--"),$B=r8("var(--"),Ny=t=>$B(t)?FB.test(t.split("/*")[0].trim()):!1,FB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,BB=(t,e)=>e&&typeof t=="number"?e.transform(t):t,oo=(t,e,n)=>n>e?e:n<t?t:n,Qa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ql={...Qa,transform:t=>oo(0,1,t)},Xu={...Qa,default:1},Wl=t=>Math.round(t*1e5)/1e5,jy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,UB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,VB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function hu(t){return typeof t=="string"}const fu=t=>({test:e=>hu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ks=fu("deg"),Rr=fu("%"),le=fu("px"),zB=fu("vh"),HB=fu("vw"),jx={...Rr,parse:t=>Rr.parse(t)/100,transform:t=>Rr.transform(t*100)},Px={...Qa,transform:Math.round},o8={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,size:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,rotate:ks,rotateX:ks,rotateY:ks,rotateZ:ks,scale:Xu,scaleX:Xu,scaleY:Xu,scaleZ:Xu,skew:ks,skewX:ks,skewY:ks,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:ql,originX:jx,originY:jx,originZ:le,zIndex:Px,backgroundPositionX:le,backgroundPositionY:le,fillOpacity:ql,strokeOpacity:ql,numOctaves:Px};function Py(t,e,n,r){const{style:s,vars:o,transform:i,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const m=e[h];if(s8(h)){o[h]=m;continue}const p=o8[h],_=BB(m,p);if(yi.has(h)){if(l=!0,i[h]=_,!d)continue;m!==(p.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=_):s[h]=_}if(e.transform||(l||r?s.transform=MB(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:p=0}=a;s.transformOrigin=`${h} ${m} ${p}`}}const Ly=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i8(t,e,n){for(const r in e)!Wt(e[r])&&!n8(r,n)&&(t[r]=e[r])}function qB({transformTemplate:t},e,n){return f.useMemo(()=>{const r=Ly();return Py(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function WB(t,e,n){const r=t.style||{},s={};return i8(s,r,t),Object.assign(s,qB(t,e,n)),s}function GB(t,e,n){const r={},s=WB(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const KB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ah(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||KB.has(t)}let a8=t=>!Ah(t);function ZB(t){t&&(a8=e=>e.startsWith("on")?!Ah(e):t(e))}try{ZB(require("@emotion/is-prop-valid").default)}catch{}function QB(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(a8(s)||n===!0&&Ah(s)||!e&&!Ah(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Lx(t,e,n){return typeof t=="string"?t:le.transform(e+n*t)}function XB(t,e,n){const r=Lx(e,t.x,t.width),s=Lx(n,t.y,t.height);return`${r} ${s}`}const YB={offset:"stroke-dashoffset",array:"stroke-dasharray"},JB={offset:"strokeDashoffset",array:"strokeDasharray"};function eU(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?YB:JB;t[o.offset]=le.transform(-r);const i=le.transform(e),a=le.transform(n);t[o.array]=`${i} ${a}`}function Ay(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},d,h,m){if(Py(t,u,d,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:_,dimensions:v}=t;p.transform&&(v&&(_.transform=p.transform),delete p.transform),v&&(s!==void 0||o!==void 0||_.transform)&&(_.transformOrigin=XB(v,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&eU(p,i,a,l,!1)}const l8=()=>({...Ly(),attrs:{}}),Ry=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tU(t,e,n,r){const s=f.useMemo(()=>{const o=l8();return Ay(o,e,{enableHardwareAcceleration:!1},Ry(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};i8(o,t.style,t),s.style={...o,...s.style}}return s}function nU(t=!1){return(n,r,s,{latestValues:o},i)=>{const l=(Iy(n)?tU:GB)(r,o,i,n),u=QB(r,typeof n=="string",t),d=n!==f.Fragment?{...u,...l,ref:s}:{},{children:h}=r,m=f.useMemo(()=>Wt(h)?h.get():h,[h]);return f.createElement(n,{...d,children:m})}}function c8(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const u8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d8(t,e,n,r){c8(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(u8.has(s)?s:ky(s),e.attrs[s])}function Dy(t,e,n){var r;const{style:s}=t,o={};for(const i in s)(Wt(s[i])||e.style&&Wt(e.style[i])||n8(i,t)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=s[i]);return o}function h8(t,e,n){const r=Dy(t,e,n);for(const s in t)if(Wt(t[s])||Wt(e[s])){const o=du.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function Ax(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Oy(t,e,n,r){if(typeof e=="function"){const[s,o]=Ax(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=Ax(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function My(t){const e=f.useRef(null);return e.current===null&&(e.current=t()),e.current}const $g=t=>Array.isArray(t),rU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),sU=t=>$g(t)?t[t.length-1]||0:t;function Ed(t){const e=Wt(t)?t.get():t;return rU(e)?e.toValue():e}function oU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const i={latestValues:iU(r,s,o,t),renderState:e()};return n&&(i.mount=a=>n(r,a,i)),i}const f8=t=>(e,n)=>{const r=f.useContext(um),s=f.useContext(dm),o=()=>oU(t,e,r,s);return n?o():My(o)};function iU(t,e,n,r){const s={},o=r(t,{});for(const m in o)s[m]=Ed(o[m]);let{initial:i,animate:a}=t;const l=fm(t),u=e8(t);e&&u&&!l&&t.inherit!==!1&&(i===void 0&&(i=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const h=d?a:i;return h&&typeof h!="boolean"&&!hm(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const _=Oy(t,p);if(!_)return;const{transitionEnd:v,transition:x,...y}=_;for(const g in y){let w=y[g];if(Array.isArray(w)){const b=d?w.length-1:0;w=w[b]}w!==null&&(s[g]=w)}for(const g in v)s[g]=v[g]}),s}const{schedule:Ee,cancel:fs,state:It,steps:Ap}=Xk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0),aU={useVisualState:f8({scrapeMotionValuesFromProps:h8,createRenderState:l8,onMount:(t,e,{renderState:n,latestValues:r})=>{Ee.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ee.render(()=>{Ay(n,r,{enableHardwareAcceleration:!1},Ry(e.tagName),t.transformTemplate),d8(e,n)})}})},lU={useVisualState:f8({scrapeMotionValuesFromProps:Dy,createRenderState:Ly})};function cU(t,{forwardMotionProps:e=!1},n,r){return{...Iy(t)?aU:lU,preloadedFeatures:n,useRender:nU(e),createVisualElement:r,Component:t}}function Zr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const m8=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function mm(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const uU=t=>e=>m8(e)&&t(e,mm(e));function Jr(t,e,n,r){return Zr(t,e,uU(n),r)}const dU=(t,e)=>n=>e(t(n)),es=(...t)=>t.reduce(dU);function p8(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Rx=p8("dragHorizontal"),Dx=p8("dragVertical");function g8(t){let e=!1;if(t==="y")e=Dx();else if(t==="x")e=Rx();else{const n=Rx(),r=Dx();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function _8(){const t=g8(!0);return t?(t(),!1):!0}class _o{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ox(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(o,i)=>{if(o.pointerType==="touch"||_8())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ee.postRender(()=>l(o,i))};return Jr(t.current,n,s,{passive:!t.getProps()[r]})}class hU extends _o{mount(){this.unmount=es(Ox(this.node,!0),Ox(this.node,!1))}unmount(){}}class fU extends _o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=es(Zr(this.node.current,"focus",()=>this.onFocus()),Zr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const y8=(t,e)=>e?t===e?!0:y8(t,e.parentElement):!1;function Rp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,mm(n))}class mU extends _o{constructor(){super(...arguments),this.removeStartListeners=Yt,this.removeEndListeners=Yt,this.removeAccessibleListeners=Yt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Jr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),m=!h&&!y8(this.node.current,a.target)?d:u;m&&Ee.update(()=>m(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=Jr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=es(o,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Rp("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&Ee.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Zr(this.node.current,"keyup",i),Rp("down",(a,l)=>{this.startPress(a,l)})},n=Zr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Rp("cancel",(o,i)=>this.cancelPress(o,i))},s=Zr(this.node.current,"blur",r);this.removeAccessibleListeners=es(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ee.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_8()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ee.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Jr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Zr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=es(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Fg=new WeakMap,Dp=new WeakMap,pU=t=>{const e=Fg.get(t.target);e&&e(t)},gU=t=>{t.forEach(pU)};function _U({root:t,...e}){const n=t||document;Dp.has(n)||Dp.set(n,{});const r=Dp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(gU,{root:t,...e})),r[s]}function yU(t,e,n){const r=_U(e);return Fg.set(t,n),r.observe(t),()=>{Fg.delete(t),r.unobserve(t)}}const vU={some:0,all:1};class wU extends _o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:vU[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(l)};return yU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(xU(e,n))&&this.startObserver()}unmount(){}}function xU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const CU={inView:{Feature:wU},tap:{Feature:mU},focus:{Feature:fU},hover:{Feature:hU}};function v8(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function pm(t,e,n){const r=t.getProps();return Oy(r,e,n!==void 0?n:r.custom,t)}const Xs=t=>t*1e3,ts=t=>t/1e3,bU={type:"spring",stiffness:500,damping:25,restSpeed:10},kU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),SU={type:"keyframes",duration:.8},EU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TU=(t,{keyframes:e})=>e.length>2?SU:yi.has(t)?t.startsWith("scale")?kU(e[1]):bU:EU;function IU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function $y(t,e){return t[e]||t.default||t}const NU=t=>t!==null;function gm(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(NU),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}let Td;function jU(){Td=void 0}const Ys={now:()=>(Td===void 0&&Ys.set(It.isProcessing||_B.useManualTiming?It.timestamp:performance.now()),Td),set:t=>{Td=t,queueMicrotask(jU)}},w8=t=>/^0[^.\s]+$/u.test(t);function PU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||w8(t):!0}const x8=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),LU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function AU(t){const e=LU.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function C8(t,e,n=1){const[r,s]=AU(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return x8(i)?parseFloat(i):i}return Ny(s)?C8(s,e,n+1):s}const RU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Mx=t=>t===Qa||t===le,$x=(t,e)=>parseFloat(t.split(", ")[e]),Fx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return $x(s[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?$x(o[1],t):0}},DU=new Set(["x","y","z"]),OU=du.filter(t=>!DU.has(t));function MU(t){const e=[];return OU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Oa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Fx(4,13),y:Fx(5,14)};Oa.translateX=Oa.x;Oa.translateY=Oa.y;const b8=t=>e=>e.test(t),$U={test:t=>t==="auto",parse:t=>t},k8=[Qa,le,Rr,ks,HB,zB,$U],Bx=t=>k8.find(b8(t)),Ho=new Set;let Bg=!1,Ug=!1;function S8(){if(Ug){const t=Array.from(Ho).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=MU(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,i])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(i)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ug=!1,Bg=!1,Ho.forEach(t=>t.complete()),Ho.clear()}function E8(){Ho.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ug=!0)})}function FU(){E8(),S8()}class Fy{constructor(e,n,r,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ho.add(this),Bg||(Bg=!0,Ee.read(E8),Ee.resolveKeyframes(S8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ho.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ho.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const By=(t,e)=>n=>!!(hu(n)&&VB.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),T8=(t,e,n)=>r=>{if(!hu(r))return r;const[s,o,i,a]=r.match(jy);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},BU=t=>oo(0,255,t),Op={...Qa,transform:t=>Math.round(BU(t))},Mo={test:By("rgb","red"),parse:T8("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Op.transform(t)+", "+Op.transform(e)+", "+Op.transform(n)+", "+Wl(ql.transform(r))+")"};function UU(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Vg={test:By("#"),parse:UU,transform:Mo.transform},Ki={test:By("hsl","hue"),parse:T8("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Rr.transform(Wl(e))+", "+Rr.transform(Wl(n))+", "+Wl(ql.transform(r))+")"},Ut={test:t=>Mo.test(t)||Vg.test(t)||Ki.test(t),parse:t=>Mo.test(t)?Mo.parse(t):Ki.test(t)?Ki.parse(t):Vg.parse(t),transform:t=>hu(t)?t:t.hasOwnProperty("red")?Mo.transform(t):Ki.transform(t)};function VU(t){var e,n;return isNaN(t)&&hu(t)&&(((e=t.match(jy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(UB))===null||n===void 0?void 0:n.length)||0)>0}const I8="number",N8="color",zU="var",HU="var(",Ux="${}",qU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const a=e.replace(qU,l=>(Ut.test(l)?(r.color.push(o),s.push(N8),n.push(Ut.parse(l))):l.startsWith(HU)?(r.var.push(o),s.push(zU),n.push(l)):(r.number.push(o),s.push(I8),n.push(parseFloat(l))),++o,Ux)).split(Ux);return{values:n,split:a,indexes:r,types:s}}function j8(t){return Mc(t).values}function P8(t){const{split:e,types:n}=Mc(t),r=e.length;return s=>{let o="";for(let i=0;i<r;i++)if(o+=e[i],s[i]!==void 0){const a=n[i];a===I8?o+=Wl(s[i]):a===N8?o+=Ut.transform(s[i]):o+=s[i]}return o}}const WU=t=>typeof t=="number"?0:t;function GU(t){const e=j8(t);return P8(t)(e.map(WU))}const io={test:VU,parse:j8,createTransformer:P8,getAnimatableNone:GU},KU=new Set(["brightness","contrast","saturate","opacity"]);function ZU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(jy)||[];if(!r)return t;const s=n.replace(r,"");let o=KU.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const QU=/\b([a-z-]*)\(.*?\)/gu,zg={...io,getAnimatableNone:t=>{const e=t.match(QU);return e?e.map(ZU).join(" "):t}},XU={...o8,color:Ut,backgroundColor:Ut,outlineColor:Ut,fill:Ut,stroke:Ut,borderColor:Ut,borderTopColor:Ut,borderRightColor:Ut,borderBottomColor:Ut,borderLeftColor:Ut,filter:zg,WebkitFilter:zg},Uy=t=>XU[t];function L8(t,e){let n=Uy(t);return n!==zg&&(n=io),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const YU=new Set(["auto","none","0"]);function JU(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!YU.has(o)&&Mc(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=L8(n,s)}class A8 extends Fy{constructor(e,n,r,s){super(e,n,r,s,s==null?void 0:s.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),Ny(u))){const d=C8(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!RU.has(r)||e.length!==2)return;const[s,o]=e,i=Bx(s),a=Bx(o);if(i!==a)if(Mx(i)&&Mx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)PU(e[s])&&r.push(s);r.length&&JU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=Oa[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function R8(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(io.test(t)||t==="0")&&!t.startsWith("url("));function eV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function tV(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],i=Vx(s,e),a=Vx(o,e);return!i||!a?!1:eV(t)||n==="spring"&&r}class D8{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&FU(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:i,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!tV(e,r,s,o))if(i)this.options.duration=0;else{l==null||l(gm(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function O8(t,e){return e?t*(1e3/e):0}const nV=5;function M8(t,e,n){const r=Math.max(e-nV,0);return O8(n-t(r),e-r)}const zx=.001,rV=.01,sV=10,oV=.05,iV=1;function aV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o,i=1-e;i=oo(oV,iV,i),t=oo(rV,sV,ts(t)),i<1?(s=u=>{const d=u*i,h=d*t,m=d-n,p=Hg(u,i),_=Math.exp(-h);return zx-m/p*_},o=u=>{const h=u*i*t,m=h*n+n,p=Math.pow(i,2)*Math.pow(u,2)*t,_=Math.exp(-h),v=Hg(Math.pow(u,2),i);return(-s(u)+zx>0?-1:1)*((m-p)*_)/v}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-.001+d*h},o=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=cV(s,o,a);if(t=Xs(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const lV=12;function cV(t,e,n){let r=n;for(let s=1;s<lV;s++)r=r-t(r)/e(r);return r}function Hg(t,e){return t*Math.sqrt(1-e*e)}const uV=["duration","bounce"],dV=["stiffness","damping","mass"];function Hx(t,e){return e.some(n=>t[n]!==void 0)}function hV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Hx(t,dV)&&Hx(t,uV)){const n=aV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function $8({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],i={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:m}=hV({...r,velocity:-ts(r.velocity||0)}),p=h||0,_=l/(2*Math.sqrt(a*u)),v=o-s,x=ts(Math.sqrt(a/u)),y=Math.abs(v)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let g;if(_<1){const w=Hg(x,_);g=b=>{const C=Math.exp(-_*x*b);return o-C*((p+_*x*v)/w*Math.sin(w*b)+v*Math.cos(w*b))}}else if(_===1)g=w=>o-Math.exp(-x*w)*(v+(p+x*v)*w);else{const w=x*Math.sqrt(_*_-1);g=b=>{const C=Math.exp(-_*x*b),k=Math.min(w*b,300);return o-C*((p+_*x*v)*Math.sinh(k)+w*v*Math.cosh(k))/w}}return{calculatedDuration:m&&d||null,next:w=>{const b=g(w);if(m)i.done=w>=d;else{let C=p;w!==0&&(_<1?C=M8(g,w,b):C=0);const k=Math.abs(C)<=n,T=Math.abs(o-b)<=e;i.done=k&&T}return i.value=i.done?o:b,i}}}function qx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},p=S=>a!==void 0&&S<a||l!==void 0&&S>l,_=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let v=n*e;const x=h+v,y=i===void 0?x:i(x);y!==x&&(v=y-h);const g=S=>-v*Math.exp(-S/r),w=S=>y+g(S),b=S=>{const E=g(S),I=w(S);m.done=Math.abs(E)<=u,m.value=m.done?y:I};let C,k;const T=S=>{p(m.value)&&(C=S,k=$8({keyframes:[m.value,_(m.value)],velocity:M8(w,S,m.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:S=>{let E=!1;return!k&&C===void 0&&(E=!0,b(S),T(S)),C!==void 0&&S>=C?k.next(S-C):(!E&&b(S),m)}}}const F8=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fV=1e-7,mV=12;function pV(t,e,n,r,s){let o,i,a=0;do i=e+(n-e)/2,o=F8(i,r,s)-t,o>0?n=i:e=i;while(Math.abs(o)>fV&&++a<mV);return i}function mu(t,e,n,r){if(t===e&&n===r)return Yt;const s=o=>pV(o,0,1,t,n);return o=>o===0||o===1?o:F8(s(o),e,r)}const gV=mu(.42,0,1,1),_V=mu(0,0,.58,1),B8=mu(.42,0,.58,1),yV=t=>Array.isArray(t)&&typeof t[0]!="number",U8=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,V8=t=>e=>1-t(1-e),Vy=t=>1-Math.sin(Math.acos(t)),z8=V8(Vy),vV=U8(Vy),H8=mu(.33,1.53,.69,.99),zy=V8(H8),wV=U8(zy),xV=t=>(t*=2)<1?.5*zy(t):.5*(2-Math.pow(2,-10*(t-1))),CV={linear:Yt,easeIn:gV,easeInOut:B8,easeOut:_V,circIn:Vy,circInOut:vV,circOut:z8,backIn:zy,backInOut:wV,backOut:H8,anticipate:xV},Wx=t=>{if(Array.isArray(t)){t8(t.length===4);const[e,n,r,s]=t;return mu(e,n,r,s)}else if(typeof t=="string")return CV[t];return t},$c=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Xe=(t,e,n)=>t+(e-t)*n;function Mp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,i=0;if(!e)s=o=i=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Mp(l,a,t+1/3),o=Mp(l,a,t),i=Mp(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Rh(t,e){return n=>n>0?e:t}const $p=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},kV=[Vg,Mo,Ki],SV=t=>kV.find(e=>e.test(t));function Gx(t){const e=SV(t);if(!e)return!1;let n=e.parse(t);return e===Ki&&(n=bV(n)),n}const Kx=(t,e)=>{const n=Gx(t),r=Gx(e);if(!n||!r)return Rh(t,e);const s={...n};return o=>(s.red=$p(n.red,r.red,o),s.green=$p(n.green,r.green,o),s.blue=$p(n.blue,r.blue,o),s.alpha=Xe(n.alpha,r.alpha,o),Mo.transform(s))},qg=new Set(["none","hidden"]);function EV(t,e){return qg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function TV(t,e){return n=>Xe(t,e,n)}function Hy(t){return typeof t=="number"?TV:typeof t=="string"?Ny(t)?Rh:Ut.test(t)?Kx:jV:Array.isArray(t)?q8:typeof t=="object"?Ut.test(t)?Kx:IV:Rh}function q8(t,e){const n=[...t],r=n.length,s=t.map((o,i)=>Hy(o)(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}}function IV(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Hy(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function NV(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const i=e.types[o],a=t.indexes[i][s[i]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[o]=l,s[i]++}return r}const jV=(t,e)=>{const n=io.createTransformer(e),r=Mc(t),s=Mc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?qg.has(t)&&!s.values.length||qg.has(e)&&!r.values.length?EV(t,e):es(q8(NV(r,s),s.values),n):Rh(t,e)};function W8(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Xe(t,e,n):Hy(t)(t,e)}function PV(t,e,n){const r=[],s=n||W8,o=t.length-1;for(let i=0;i<o;i++){let a=s(t[i],t[i+1]);if(e){const l=Array.isArray(e)?e[i]||Yt:e;a=es(l,a)}r.push(a)}return r}function LV(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(t8(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=PV(e,r,s),a=i.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=$c(t[d],t[d+1],u);return i[d](h)};return n?u=>l(oo(t[0],t[o-1],u)):l}function AV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=$c(0,e,r);t.push(Xe(n,1,s))}}function RV(t){const e=[0];return AV(e,t.length-1),e}function DV(t,e){return t.map(n=>n*e)}function OV(t,e){return t.map(()=>e||B8).splice(0,t.length-1)}function Dh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=yV(r)?r.map(Wx):Wx(r),o={done:!1,value:e[0]},i=DV(n&&n.length===e.length?n:RV(e),t),a=LV(i,e,{ease:Array.isArray(s)?s:OV(e,s)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const Zx=2e4;function MV(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Zx;)e+=n,r=t.next(e);return e>=Zx?1/0:e}const $V=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ee.update(e,!0),stop:()=>fs(e),now:()=>It.isProcessing?It.timestamp:Ys.now()}},FV={decay:qx,inertia:qx,tween:Dh,keyframes:Dh,spring:$8},BV=t=>t/100;class qy extends D8{constructor({KeyframeResolver:e=Fy,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:s,keyframes:o}=this.options,i=(a,l)=>this.onKeyframesResolved(a,l);r&&s&&s.owner?this.resolver=s.owner.resolveKeyframes(o,i,r,s):this.resolver=new e(o,i,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=this.options,a=FV[n]||Dh;let l,u;a!==Dh&&typeof e[0]!="number"&&(l=es(BV,W8(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});o==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=MV(d));const{calculatedDuration:h}=d,m=h+s,p=m*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return o.next(0);const{delay:m,repeat:p,repeatType:_,repeatDelay:v,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-m*(this.speed>=0?1:-1),g=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let w=this.currentTime,b=o;if(p){const S=Math.min(this.currentTime,d)/h;let E=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&E--,E=Math.min(E,p+1),!!(E%2)&&(_==="reverse"?(I=1-I,v&&(I-=v/h)):_==="mirror"&&(b=i)),w=oo(0,1,I)*h}const C=g?{done:!1,value:l[0]}:b.next(w);a&&(C.value=a(C.value));let{done:k}=C;!g&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&s!==void 0&&(C.value=gm(l,this.options,s)),x&&x(C.value),T&&this.finish(),C}get duration(){const{resolved:e}=this;return e?ts(e.calculatedDuration):0}get time(){return ts(this.currentTime)}set time(e){e=Xs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ts(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=$V,onPlay:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const G8=t=>Array.isArray(t)&&typeof t[0]=="number";function K8(t){return!!(!t||typeof t=="string"&&t in Wy||G8(t)||Array.isArray(t)&&t.every(K8))}const Tl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Wy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Tl([0,.65,.55,1]),circOut:Tl([.55,0,1,.45]),backIn:Tl([.31,.01,.66,-.59]),backOut:Tl([.33,1.53,.69,.99])};function UV(t){return Z8(t)||Wy.easeOut}function Z8(t){if(t)return G8(t)?Tl(t):Array.isArray(t)?t.map(UV):Wy[t]}function VV(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=Z8(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}const zV=R8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),HV=new Set(["opacity","clipPath","filter","transform"]),Oh=10,qV=2e4;function WV(t){return t.type==="spring"||t.name==="backgroundColor"||!K8(t.ease)}function GV(t,e){const n=new qy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let o=0;for(;!r.done&&o<qV;)r=n.sample(o),s.push(r.value),o+=Oh;return{times:void 0,keyframes:s,duration:o-Oh,ease:"linear"}}class Qx extends D8{constructor(e){super(e);const{name:n,motionValue:r,keyframes:s}=this.options;this.resolver=new A8(s,(o,i)=>this.onKeyframesResolved(o,i),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:o,ease:i,type:a,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(WV(this.options)){const{onComplete:h,onUpdate:m,motionValue:p,..._}=this.options,v=GV(e,_);e=v.keyframes,e.length===1&&(e[1]=e[0]),s=v.duration,o=v.times,i=v.ease,a="keyframes"}const d=VV(l.owner.current,u,e,{...this.options,duration:s,times:o,ease:i});return d.startTime=Ys.now(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(gm(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:o,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ts(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ts(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Xs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Yt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Yt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:o,ease:i,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:d,...h}=this.options,m=new qy({...h,keyframes:r,duration:s,type:o,ease:i,times:a,isGenerator:!0}),p=Xs(this.time);l.setWithVelocity(m.sample(p-Oh).value,m.sample(p).value,Oh)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:i,type:a}=e;return zV()&&r&&HV.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&o!=="mirror"&&i!==0&&a!=="inertia"}}function KV(t,e){let n;const r=()=>{const{currentTime:s}=e,i=(s===null?0:s.value)/100;n!==i&&t(i),n=i};return Ee.update(r,!0),()=>fs(r)}const ZV=R8(()=>window.ScrollTimeline!==void 0);class QV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(ZV()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),KV(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Gy=(t,e,n,r={},s,o)=>i=>{const a=$y(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xs(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:s};IU(a)||(d={...d,...TU(t,d)}),d.duration&&(d.duration=Xs(d.duration)),d.repeatDelay&&(d.repeatDelay=Xs(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!o&&e.get()!==void 0){const m=gm(d.keyframes,a);if(m!==void 0)return Ee.update(()=>{d.onUpdate(m),d.onComplete()}),new QV([])}return!o&&Qx.supports(d)?new Qx(d):new qy(d)};function Mh(t){return!!(Wt(t)&&t.add)}function Ky(t,e){t.indexOf(e)===-1&&t.push(e)}function Zy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Qy{constructor(){this.subscriptions=[]}add(e){return Ky(this.subscriptions,e),()=>Zy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xx=30,XV=t=>!isNaN(parseFloat(t));class YV{constructor(e,n={}){this.version="11.2.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=Ys.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ys.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Qy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ee.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Xx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Xx);return O8(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ma(t,e){return new YV(t,e)}function JV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ma(n))}function ez(t,e){const n=pm(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const i in o){const a=sU(o[i]);JV(t,i,a)}}function Q8(t){return t.getProps()[Qk]}function tz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function X8(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;const u=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const m in l){const p=t.getValue(m,(o=t.latestValues[m])!==null&&o!==void 0?o:null),_=l[m];if(_===void 0||h&&tz(h,m))continue;const v={delay:n,elapsed:0,...$y(i||{},m)};let x=!1;if(window.HandoffAppearAnimations){const g=Q8(t);if(g){const w=window.HandoffAppearAnimations(g,m,p,Ee);w!==null&&(v.elapsed=w,x=!0)}}p.start(Gy(m,p,_,t.shouldReduceMotion&&yi.has(m)?{type:!1}:v,t,x));const y=p.animation;y&&(Mh(u)&&(u.add(m),y.then(()=>u.remove(m))),d.push(y))}return a&&Promise.all(d).then(()=>{Ee.update(()=>{a&&ez(t,a)})}),d}function Wg(t,e,n={}){var r;const s=pm(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const i=s?()=>Promise.all(X8(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=o;return nz(t,e,d+u,h,m,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function nz(t,e,n=0,r=0,s=1,o){const i=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(rz).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(Wg(u,e,{...o,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function rz(t,e){return t.sortNodePosition(e)}function sz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Wg(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Wg(t,e,n);else{const s=typeof e=="function"?pm(t,e,n.custom):e;r=Promise.all(X8(t,s,n))}return r.then(()=>{Ee.postRender(()=>{t.notify("AnimationComplete",e)})})}const oz=[...Ey].reverse(),iz=Ey.length;function az(t){return e=>Promise.all(e.map(({animation:n,options:r})=>sz(t,n,r)))}function lz(t){let e=az(t),n=Yx(),r=!0;const s=l=>(u,d)=>{var h;const m=pm(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:_,...v}=m;u={...u,...v,..._}}return u};function o(l){e=l(t)}function i(l){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],m=new Set;let p={},_=1/0;for(let x=0;x<iz;x++){const y=oz[x],g=n[y],w=u[y]!==void 0?u[y]:d[y],b=Dc(w),C=y===l?g.isActive:null;C===!1&&(_=x);let k=w===d[y]&&w!==u[y]&&b;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),g.protectedKeys={...p},!g.isActive&&C===null||!w&&!g.prevProp||hm(w)||typeof w=="boolean")continue;let S=cz(g.prevProp,w)||y===l&&g.isActive&&!k&&b||x>_&&b,E=!1;const I=Array.isArray(w)?w:[w];let R=I.reduce(s(y),{});C===!1&&(R={});const{prevResolvedValues:P={}}=g,O={...P,...R},A=$=>{S=!0,m.has($)&&(E=!0,m.delete($)),g.needsAnimating[$]=!0;const M=t.getValue($);M&&(M.liveStyle=!1)};for(const $ in O){const M=R[$],j=P[$];if(p.hasOwnProperty($))continue;let N=!1;$g(M)&&$g(j)?N=!v8(M,j):N=M!==j,N?M!=null?A($):m.add($):M!==void 0&&m.has($)?A($):g.protectedKeys[$]=!0}g.prevProp=w,g.prevResolvedValues=R,g.isActive&&(p={...p,...R}),r&&t.blockInitialAnimation&&(S=!1),S&&(!k||E)&&h.push(...I.map($=>({animation:$,options:{type:y}})))}if(m.size){const x={};m.forEach(y=>{const g=t.getBaseTarget(y),w=t.getValue(y);w&&(w.liveStyle=!0),x[y]=g??null}),h.push({animation:x})}let v=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=i(l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Yx(),r=!0}}}function cz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!v8(e,t):!1}function xo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yx(){return{animate:xo(!0),whileInView:xo(),whileHover:xo(),whileTap:xo(),whileDrag:xo(),whileFocus:xo(),exit:xo()}}class uz extends _o{constructor(e){super(e),e.animationState||(e.animationState=lz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();hm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let dz=0;class hz extends _o{constructor(){super(...arguments),this.id=dz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const fz={animation:{Feature:uz},exit:{Feature:hz}},Jx=(t,e)=>Math.abs(t-e);function mz(t,e){const n=Jx(t.x,e.x),r=Jx(t.y,e.y);return Math.sqrt(n**2+r**2)}class Y8{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Bp(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=mz(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:_}=h,{timestamp:v}=It;this.history.push({..._,timestamp:v});const{onStart:x,onMove:y}=this.handlers;m||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Fp(m,this.transformPagePoint),Ee.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:_,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Bp(h.type==="pointercancel"?this.lastMoveEventInfo:Fp(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,x),_&&_(h,x)},!m8(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=mm(e),a=Fp(i,this.transformPagePoint),{point:l}=a,{timestamp:u}=It;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Bp(a,this.history)),this.removeListeners=es(Jr(this.contextWindow,"pointermove",this.handlePointerMove),Jr(this.contextWindow,"pointerup",this.handlePointerUp),Jr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fs(this.updatePoint)}}function Fp(t,e){return e?{point:e(t.point)}:t}function e3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bp({point:t},e){return{point:t,delta:e3(t,J8(e)),offset:e3(t,pz(e)),velocity:gz(e,.1)}}function pz(t){return t[0]}function J8(t){return t[t.length-1]}function gz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=J8(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Xs(e)));)n--;if(!r)return{x:0,y:0};const o=ts(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Fn(t){return t.max-t.min}function Gg(t,e=0,n=.01){return Math.abs(t-e)<=n}function t3(t,e,n,r=.5){t.origin=r,t.originPoint=Xe(e.min,e.max,t.origin),t.scale=Fn(n)/Fn(e),(Gg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Xe(n.min,n.max,t.origin)-t.originPoint,(Gg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Gl(t,e,n,r){t3(t.x,e.x,n.x,r?r.originX:void 0),t3(t.y,e.y,n.y,r?r.originY:void 0)}function n3(t,e,n){t.min=n.min+e.min,t.max=t.min+Fn(e)}function _z(t,e,n){n3(t.x,e.x,n.x),n3(t.y,e.y,n.y)}function r3(t,e,n){t.min=e.min-n.min,t.max=t.min+Fn(e)}function Kl(t,e,n){r3(t.x,e.x,n.x),r3(t.y,e.y,n.y)}function yz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Xe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Xe(n,t,r.max):Math.min(t,n)),t}function s3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function vz(t,{top:e,left:n,bottom:r,right:s}){return{x:s3(t.x,n,s),y:s3(t.y,e,r)}}function o3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wz(t,e){return{x:o3(t.x,e.x),y:o3(t.y,e.y)}}function xz(t,e){let n=.5;const r=Fn(t),s=Fn(e);return s>r?n=$c(e.min,e.max-r,t.min):r>s&&(n=$c(t.min,t.max-s,e.min)),oo(0,1,n)}function Cz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kg=.35;function bz(t=Kg){return t===!1?t=0:t===!0&&(t=Kg),{x:i3(t,"left","right"),y:i3(t,"top","bottom")}}function i3(t,e,n){return{min:a3(t,e),max:a3(t,n)}}function a3(t,e){return typeof t=="number"?t:t[e]||0}const l3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zi=()=>({x:l3(),y:l3()}),c3=()=>({min:0,max:0}),at=()=>({x:c3(),y:c3()});function Hn(t){return[t("x"),t("y")]}function e6({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function kz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Sz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Up(t){return t===void 0||t===1}function Zg({scale:t,scaleX:e,scaleY:n}){return!Up(t)||!Up(e)||!Up(n)}function To(t){return Zg(t)||t6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function t6(t){return u3(t.x)||u3(t.y)}function u3(t){return t&&t!=="0%"}function $h(t,e,n){const r=t-n,s=e*r;return n+s}function d3(t,e,n,r,s){return s!==void 0&&(t=$h(t,s,r)),$h(t,n,r)+e}function Qg(t,e=0,n=1,r,s){t.min=d3(t.min,e,n,r,s),t.max=d3(t.max,e,n,r,s)}function n6(t,{x:e,y:n}){Qg(t.x,e.translate,e.scale,e.originPoint),Qg(t.y,n.translate,n.scale,n.originPoint)}function Ez(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,i;for(let a=0;a<s;a++){o=n[a],i=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,n6(t,i)),r&&To(o.latestValues)&&Qi(t,o.latestValues))}e.x=h3(e.x),e.y=h3(e.y)}function h3(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Is(t,e){t.min=t.min+e,t.max=t.max+e}function f3(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,i=Xe(t.min,t.max,o);Qg(t,e[n],e[r],i,e.scale)}const Tz=["x","scaleX","originX"],Iz=["y","scaleY","originY"];function Qi(t,e){f3(t.x,e,Tz),f3(t.y,e,Iz)}function r6(t,e){return e6(Sz(t.getBoundingClientRect(),e))}function Nz(t,e,n){const r=r6(t,n),{scroll:s}=e;return s&&(Is(r.x,s.offset.x),Is(r.y,s.offset.y)),r}const s6=({current:t})=>t?t.ownerDocument.defaultView:null,jz=new WeakMap;class Pz{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=at(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mm(d,"page").point)},o=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:_}=this.getProps();if(m&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=g8(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hn(x=>{let y=this.getAxisMotionValue(x).get()||0;if(Rr.test(y)){const{projection:g}=this.visualElement;if(g&&g.layout){const w=g.layout.layoutBox[x];w&&(y=Fn(w)*(parseFloat(y)/100))}}this.originPoint[x]=y}),_&&Ee.postRender(()=>_(d,h));const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:_,onDrag:v}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:x}=h;if(p&&this.currentDirection===null){this.currentDirection=Lz(x),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),v&&v(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Hn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Y8(e,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:s6(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ee.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Yu(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=yz(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Gi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=vz(s.layoutBox,n):this.constraints=!1,this.elastic=bz(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Hn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Cz(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Nz(r,s.root,this.visualElement.getTransformPagePoint());let i=wz(s.layout.layoutBox,o);if(n){const a=n(kz(i));this.hasMutatedConstraints=!!a,a&&(i=e6(a))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Hn(d=>{if(!Yu(d,n,this.currentDirection))return;let h=l&&l[d]||{};i&&(h={min:0,max:0});const m=s?200:1e6,p=s?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,_)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Gy(e,r,0,n,this.visualElement))}stopAnimation(){Hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Hn(n=>{const{drag:r}=this.getProps();if(!Yu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:a}=s.layout.layoutBox[n];o.set(e[n]-Xe(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Hn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();s[i]=xz({min:l,max:l},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hn(i=>{if(!Yu(i,e,null))return;const a=this.getAxisMotionValue(i),{min:l,max:u}=this.constraints[i];a.set(Xe(l,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;jz.set(this.visualElement,this);const e=this.visualElement.current,n=Jr(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Gi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ee.read(r);const i=Zr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=Kg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function Yu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Lz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Az extends _o{constructor(e){super(e),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new Pz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const m3=t=>(e,n)=>{t&&Ee.postRender(()=>t(e,n))};class Rz extends _o{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(e){this.session=new Y8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:s6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:m3(e),onStart:m3(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&Ee.postRender(()=>s(o,i))}}}mount(){this.removePointerDownListener=Jr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Dz(){const t=f.useContext(dm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=f.useId();return f.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Id={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ul={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(le.test(t))t=parseFloat(t);else return t;const n=p3(t,e.target.x),r=p3(t,e.target.y);return`${n}% ${r}%`}},Oz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=io.parse(t);if(s.length>5)return r;const o=io.createTransformer(t),i=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+i]/=a,s[1+i]/=l;const u=Xe(a,l,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class Mz extends f.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;RB($z),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Id.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Ee.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Sy.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function o6(t){const[e,n]=Dz(),r=f.useContext(Oc);return c.jsx(Mz,{...t,layoutGroup:r,switchLayoutGroup:f.useContext(Yk),isPresent:e,safeToRemove:n})}const $z={borderRadius:{...ul,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ul,borderTopRightRadius:ul,borderBottomLeftRadius:ul,borderBottomRightRadius:ul,boxShadow:Oz},i6=["TopLeft","TopRight","BottomLeft","BottomRight"],Fz=i6.length,g3=t=>typeof t=="string"?parseFloat(t):t,_3=t=>typeof t=="number"||le.test(t);function Bz(t,e,n,r,s,o){s?(t.opacity=Xe(0,n.opacity!==void 0?n.opacity:1,Uz(r)),t.opacityExit=Xe(e.opacity!==void 0?e.opacity:1,0,Vz(r))):o&&(t.opacity=Xe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<Fz;i++){const a=`border${i6[i]}Radius`;let l=y3(e,a),u=y3(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||_3(l)===_3(u)?(t[a]=Math.max(Xe(g3(l),g3(u),r),0),(Rr.test(u)||Rr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Xe(e.rotate||0,n.rotate||0,r))}function y3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Uz=a6(0,.5,z8),Vz=a6(.5,.95,Yt);function a6(t,e,n){return r=>r<t?0:r>e?1:n($c(t,e,r))}function v3(t,e){t.min=e.min,t.max=e.max}function zn(t,e){v3(t.x,e.x),v3(t.y,e.y)}function w3(t,e,n,r,s){return t-=e,t=$h(t,1/n,r),s!==void 0&&(t=$h(t,1/s,r)),t}function zz(t,e=0,n=1,r=.5,s,o=t,i=t){if(Rr.test(e)&&(e=parseFloat(e),e=Xe(i.min,i.max,e/100)-i.min),typeof e!="number")return;let a=Xe(o.min,o.max,r);t===o&&(a-=e),t.min=w3(t.min,e,n,a,s),t.max=w3(t.max,e,n,a,s)}function x3(t,e,[n,r,s],o,i){zz(t,e[n],e[r],e[s],e.scale,o,i)}const Hz=["x","scaleX","originX"],qz=["y","scaleY","originY"];function C3(t,e,n,r){x3(t.x,e,Hz,n?n.x:void 0,r?r.x:void 0),x3(t.y,e,qz,n?n.y:void 0,r?r.y:void 0)}function b3(t){return t.translate===0&&t.scale===1}function l6(t){return b3(t.x)&&b3(t.y)}function Wz(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function c6(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function k3(t){return Fn(t.x)/Fn(t.y)}class Gz{constructor(){this.members=[]}add(e){Ky(this.members,e),e.scheduleRender()}remove(e){if(Zy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function S3(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,i=(n==null?void 0:n.z)||0;if((s||o||i)&&(r=`translate3d(${s}px, ${o}px, ${i}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:_}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Kz=(t,e)=>t.depth-e.depth;class Zz{constructor(){this.children=[],this.isDirty=!1}add(e){Ky(this.children,e),this.isDirty=!0}remove(e){Zy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Kz),this.isDirty=!1,this.children.forEach(e)}}function Qz(t,e){const n=Ys.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(fs(r),t(o-e))};return Ee.read(r,!0),()=>fs(r)}function Xz(t){window.MotionDebug&&window.MotionDebug.record(t)}function Yz(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Jz(t,e,n){const r=Wt(t)?t:Ma(t);return r.start(Gy("",r,e,n)),r.animation}const Vp=["","X","Y","Z"],eH={visibility:"hidden"},E3=1e3;let tH=0;const Io={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function zp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function u6(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?Q8(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?u6(t.parent):!1:!1}function d6({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=e==null?void 0:e()){this.id=tH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Io.totalNodes=Io.resolvedTargetDeltas=Io.recalculatedProjection=0,this.nodes.forEach(sH),this.nodes.forEach(cH),this.nodes.forEach(uH),this.nodes.forEach(oH),Xz(Io)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Zz)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Qy),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Yz(i),this.instance=i;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Qz(m,250),Id.hasAnimatedSinceResize&&(Id.hasAnimatedSinceResize=!1,this.nodes.forEach(I3))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||pH,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=d.getProps(),g=!this.targetLayout||!c6(this.targetLayout,_)||p,w=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const b={...$y(v,"layout"),onPlay:x,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else m||I3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dH),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&u6(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(T3);return}this.isUpdating||this.nodes.forEach(aH),this.isUpdating=!1,this.nodes.forEach(lH),this.nodes.forEach(nH),this.nodes.forEach(rH),this.clearAllSnapshots();const a=Ys.now();It.delta=oo(0,1e3/60,a-It.timestamp),It.timestamp=a,It.isProcessing=!0,Ap.update.process(It),Ap.preRender.process(It),Ap.render.process(It),It.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Sy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iH),this.sharedNodes.forEach(hH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ee.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ee.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=at(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!l6(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(a||To(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),gH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return at();const a=i.measureViewportBox(),{scroll:l}=this.root;return l&&(Is(a.x,l.offset.x),Is(a.y,l.offset.y)),a}removeElementScroll(i){const a=at();zn(a,i);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){zn(a,i);const{scroll:m}=this.root;m&&(Is(a.x,-m.offset.x),Is(a.y,-m.offset.y))}Is(a.x,d.offset.x),Is(a.y,d.offset.y)}}return a}applyTransform(i,a=!1){const l=at();zn(l,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Qi(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),To(d.latestValues)&&Qi(l,d.latestValues)}return To(this.latestValues)&&Qi(l,this.latestValues),l}removeTransform(i){const a=at();zn(a,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!To(u.latestValues))continue;Zg(u.latestValues)&&u.updateSnapshot();const d=at(),h=u.measurePageBox();zn(d,h),C3(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return To(this.latestValues)&&C3(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==It.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=It.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),Kl(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=at(),this.targetWithTransforms=at()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_z(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):zn(this.target,this.layout.layoutBox),n6(this.target,this.targetDelta)):zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=at(),this.relativeTargetOrigin=at(),Kl(this.relativeTargetOrigin,this.target,p.target),zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Io.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zg(this.parent.latestValues)||t6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===It.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;zn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;Ez(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=at());const{target:_}=a;if(!_){this.projectionTransform&&(this.projectionDelta=Zi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Zi(),this.projectionDeltaWithTransform=Zi());const v=this.projectionTransform;Gl(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=S3(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==m||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),Io.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=at(),p=l?l.source:void 0,_=this.layout?this.layout.source:void 0,v=p!==_,x=this.getStack(),y=!x||x.members.length<=1,g=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(mH));this.animationProgress=0;let w;this.mixTargetDelta=b=>{const C=b/1e3;N3(h.x,i.x,C),N3(h.y,i.y,C),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fH(this.relativeTarget,this.relativeTargetOrigin,m,C),w&&Wz(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=at()),zn(w,this.relativeTarget)),v&&(this.animationValues=d,Bz(d,u,this.latestValues,C,g,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ee.update(()=>{Id.hasAnimatedSinceResize=!0,this.currentAnimation=Jz(0,E3,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=i;if(!(!a||!l||!u)){if(this!==i&&this.layout&&u&&h6(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||at();const h=Fn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+h;const m=Fn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+m}zn(a,l),Qi(a,d),Gl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Gz),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&zp("z",i,u,this.animationValues);for(let d=0;d<Vp.length;d++)zp(`rotate${Vp[d]}`,i,u,this.animationValues),zp(`skew${Vp[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eH;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ed(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Ed(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!To(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=S3(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y:_}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${_.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in Lh){if(m[v]===void 0)continue;const{correct:x,applyTo:y}=Lh[v],g=u.transform==="none"?m[v]:x(m[v],h);if(y){const w=y.length;for(let b=0;b<w;b++)u[y[b]]=g}else u[v]=g}return this.options.layoutId&&(u.pointerEvents=h===this?Ed(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(T3),this.root.sharedNodes.clear()}}}function nH(t){t.updateLayout()}function rH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,i=n.source!==t.layout.source;o==="size"?Hn(h=>{const m=i?n.measuredBox[h]:n.layoutBox[h],p=Fn(m);m.min=r[h].min,m.max=m.min+p}):h6(o,n.layoutBox,r)&&Hn(h=>{const m=i?n.measuredBox[h]:n.layoutBox[h],p=Fn(r[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=Zi();Gl(a,r,n.layoutBox);const l=Zi();i?Gl(l,t.applyTransform(s,!0),n.measuredBox):Gl(l,r,n.layoutBox);const u=!l6(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const _=at();Kl(_,n.layoutBox,m.layoutBox);const v=at();Kl(v,r,p.layoutBox),c6(_,v)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=_,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function sH(t){Io.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function oH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iH(t){t.clearSnapshot()}function T3(t){t.clearMeasurements()}function aH(t){t.isLayoutDirty=!1}function lH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function I3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function cH(t){t.resolveTargetDelta()}function uH(t){t.calcProjection()}function dH(t){t.resetSkewAndRotation()}function hH(t){t.removeLeadSnapshot()}function N3(t,e,n){t.translate=Xe(e.translate,0,n),t.scale=Xe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function j3(t,e,n,r){t.min=Xe(e.min,n.min,r),t.max=Xe(e.max,n.max,r)}function fH(t,e,n,r){j3(t.x,e.x,n.x,r),j3(t.y,e.y,n.y,r)}function mH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pH={duration:.45,ease:[.4,0,.1,1]},P3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),L3=P3("applewebkit/")&&!P3("chrome/")?Math.round:Yt;function A3(t){t.min=L3(t.min),t.max=L3(t.max)}function gH(t){A3(t.x),A3(t.y)}function h6(t,e,n){return t==="position"||t==="preserve-aspect"&&!Gg(k3(e),k3(n),.2)}const _H=d6({attachResizeListener:(t,e)=>Zr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hp={current:void 0},f6=d6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hp.current){const t=new _H({});t.mount(window),t.setOptions({layoutScroll:!0}),Hp.current=t}return Hp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yH={pan:{Feature:Rz},drag:{Feature:Az,ProjectionNode:f6,MeasureLayout:o6}},Xg={current:null},m6={current:!1};function vH(){if(m6.current=!0,!!Cy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xg.current=t.matches;t.addListener(e),e()}else Xg.current=!1}function wH(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],i=n[s];if(Wt(o))t.addValue(s,o),Mh(r)&&r.add(s);else if(Wt(i))t.addValue(s,Ma(o,{owner:t})),Mh(r)&&r.remove(s);else if(i!==o)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(o):a.hasAnimated||a.set(o)}else{const a=t.getStaticValue(s);t.addValue(s,Ma(a!==void 0?a:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const R3=new WeakMap,xH=[...k8,Ut,io],CH=t=>xH.find(b8(t)),D3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],bH=Ty.length;class kH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},a={}){this.resolveKeyframes=(m,p,_,v)=>new this.KeyframeResolver(m,p,_,v,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ee.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=fm(n),this.isVariantNode=e8(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const p=h[m];l[m]!==void 0&&Wt(p)&&(p.set(l[m],!1),Mh(d)&&d.add(m))}}mount(e){this.current=e,R3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),m6.current||vH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){R3.delete(this.current),this.projection&&this.projection.unmount(),fs(this.notifyUpdate),fs(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=yi.has(e),s=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&Ee.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Da){const n=Da[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):at()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D3.length;r++){const s=D3[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=e[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=wH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<bH;r++){const s=Ty[r],o=this.props[s];(Dc(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ma(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(x8(s)||w8(s))?s=parseFloat(s):!CH(s)&&io.test(n)&&(s=L8(e,n)),this.setBaseTarget(e,Wt(s)?s.get():s)),Wt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=Oy(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Wt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Qy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class p6 extends kH{constructor(){super(...arguments),this.KeyframeResolver=A8}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function SH(t){return window.getComputedStyle(t)}class EH extends p6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(yi.has(n)){const r=Uy(n);return r&&r.default||0}else{const r=SH(e),s=(s8(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return r6(e,n)}build(e,n,r,s){Py(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Dy(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){c8(e,n,r,s)}}class TH extends p6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yi.has(n)){const r=Uy(n);return r&&r.default||0}return n=u8.has(n)?n:ky(n),e.getAttribute(n)}measureInstanceViewportBox(){return at()}scrapeMotionValuesFromProps(e,n,r){return h8(e,n,r)}build(e,n,r,s){Ay(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){d8(e,n,r,s)}mount(e){this.isSVGTag=Ry(e.tagName),super.mount(e)}}const IH=(t,e)=>Iy(t)?new TH(e,{enableHardwareAcceleration:!1}):new EH(e,{allowProjection:t!==f.Fragment,enableHardwareAcceleration:!0}),NH={layout:{ProjectionNode:f6,MeasureLayout:o6}},jH={...fz,...CU,...yH,...NH},Le=LB((t,e)=>cU(t,e,jH,IH));function g6(){const t=f.useRef(!1);return by(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function _6(){const t=g6(),[e,n]=f.useState(0),r=f.useCallback(()=>{t.current&&n(e+1)},[e]);return[f.useCallback(()=>Ee.postRender(r),[r]),e]}class PH extends f.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function LH({children:t,isPresent:e}){const n=f.useId(),r=f.useRef(null),s=f.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=f.useContext(cm);return f.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:u}=s.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),c.jsx(PH,{isPresent:e,childRef:r,sizeRef:s,children:f.cloneElement(t,{ref:r})})}const qp=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const a=My(AH),l=f.useId(),u=f.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),o?[Math.random()]:[n]);return f.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),f.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(t=c.jsx(LH,{isPresent:n,children:t})),c.jsx(dm.Provider,{value:u,children:t})};function AH(){return new Map}function RH(t){return f.useEffect(()=>()=>t(),[])}const No=t=>t.key||"";function DH(t,e){t.forEach(n=>{const r=No(n);e.set(r,n)})}function OH(t){const e=[];return f.Children.forEach(t,n=>{f.isValidElement(n)&&e.push(n)}),e}const _m=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const a=f.useContext(Oc).forceRender||_6()[0],l=g6(),u=OH(t);let d=u;const h=f.useRef(new Map).current,m=f.useRef(d),p=f.useRef(new Map).current,_=f.useRef(!0);if(by(()=>{_.current=!1,DH(u,p),m.current=d}),RH(()=>{_.current=!0,p.clear(),h.clear()}),_.current)return c.jsx(c.Fragment,{children:d.map(g=>c.jsx(qp,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i,children:g},No(g)))});d=[...d];const v=m.current.map(No),x=u.map(No),y=v.length;for(let g=0;g<y;g++){const w=v[g];x.indexOf(w)===-1&&!h.has(w)&&h.set(w,void 0)}return i==="wait"&&h.size&&(d=[]),h.forEach((g,w)=>{if(x.indexOf(w)!==-1)return;const b=p.get(w);if(!b)return;const C=v.indexOf(w);let k=g;if(!k){const T=()=>{h.delete(w);const S=Array.from(p.keys()).filter(E=>!x.includes(E));if(S.forEach(E=>p.delete(E)),m.current=u.filter(E=>{const I=No(E);return I===w||S.includes(I)}),!h.size){if(l.current===!1)return;a(),r&&r()}};k=c.jsx(qp,{isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:o,mode:i,children:b},No(b)),h.set(w,k)}d.splice(C,0,k)}),d=d.map(g=>{const w=g.key;return h.has(w)?g:c.jsx(qp,{isPresent:!0,presenceAffectsLayout:o,mode:i,children:g},No(g))}),c.jsx(c.Fragment,{children:h.size?d:d.map(g=>f.cloneElement(g))})},MH=f.createContext(null),$H=t=>!t.isLayoutDirty&&t.willUpdate(!1);function O3(){const t=new Set,e=new WeakMap,n=()=>t.forEach($H);return{add:r=>{t.add(r),e.set(r,r.addEventListener("willUpdate",n))},remove:r=>{t.delete(r);const s=e.get(r);s&&(s(),e.delete(r)),n()},dirty:n}}const y6=t=>t===!0,FH=t=>y6(t===!0)||t==="id",BH=({children:t,id:e,inherit:n=!0})=>{const r=f.useContext(Oc),s=f.useContext(MH),[o,i]=_6(),a=f.useRef(null),l=r.id||s;a.current===null&&(FH(n)&&l&&(e=e?l+"-"+e:l),a.current={id:e,group:y6(n)&&r.group||O3()});const u=f.useMemo(()=>({...a.current,forceRender:o}),[i]);return c.jsx(Oc.Provider,{value:u,children:t})};function v6(t){const e=My(()=>Ma(t)),{isStatic:n}=f.useContext(cm);if(n){const[,r]=f.useState(t);f.useEffect(()=>e.on("change",r),[])}return e}var w6={},Xy={},Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});var M3="html",$3="head",Ju="body",UH=/<([a-zA-Z]+[0-9]?)/,F3=/<head[^]*>/i,B3=/<body[^]*>/i,Fh=function(t,e){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Yg=function(t,e){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},U3=typeof window=="object"&&window.DOMParser;if(typeof U3=="function"){var VH=new U3,zH="text/html";Yg=function(t,e){return e&&(t="<".concat(e,">").concat(t,"</").concat(e,">")),VH.parseFromString(t,zH)},Fh=Yg}if(typeof document=="object"&&document.implementation){var ed=document.implementation.createHTMLDocument();Fh=function(t,e){if(e){var n=ed.documentElement.querySelector(e);return n&&(n.innerHTML=t),ed}return ed.documentElement.innerHTML=t,ed}}var td=typeof document=="object"&&document.createElement("template"),Jg;td&&td.content&&(Jg=function(t){return td.innerHTML=t,td.content.childNodes});function HH(t){var e,n,r=t.match(UH),s=r&&r[1]?r[1].toLowerCase():"";switch(s){case M3:{var o=Yg(t);if(!F3.test(t)){var i=o.querySelector($3);(e=i==null?void 0:i.parentNode)===null||e===void 0||e.removeChild(i)}if(!B3.test(t)){var i=o.querySelector(Ju);(n=i==null?void 0:i.parentNode)===null||n===void 0||n.removeChild(i)}return o.querySelectorAll(M3)}case $3:case Ju:{var a=Fh(t).querySelectorAll(s);return B3.test(t)&&F3.test(t)?a[0].parentNode.childNodes:a}default:{if(Jg)return Jg(t);var i=Fh(t,Ju).querySelector(Ju);return i.childNodes}}}Yy.default=HH;var $a={},Jy={},ev={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(ev);var ve={},yo=We&&We.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zl=We&&We.__assign||function(){return Zl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Zl.apply(this,arguments)};Object.defineProperty(ve,"__esModule",{value:!0});ve.cloneNode=ve.hasChildren=ve.isDocument=ve.isDirective=ve.isComment=ve.isText=ve.isCDATA=ve.isTag=ve.Element=ve.Document=ve.CDATA=ve.NodeWithChildren=ve.ProcessingInstruction=ve.Comment=ve.Text=ve.DataNode=ve.Node=void 0;var bn=ev,tv=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),nv(this,e)},t}();ve.Node=tv;var ym=function(t){yo(e,t);function e(n){var r=t.call(this)||this;return r.data=n,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(tv);ve.DataNode=ym;var x6=function(t){yo(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=bn.ElementType.Text,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(ym);ve.Text=x6;var C6=function(t){yo(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=bn.ElementType.Comment,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(ym);ve.Comment=C6;var b6=function(t){yo(e,t);function e(n,r){var s=t.call(this,r)||this;return s.name=n,s.type=bn.ElementType.Directive,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(ym);ve.ProcessingInstruction=b6;var vm=function(t){yo(e,t);function e(n){var r=t.call(this)||this;return r.children=n,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(tv);ve.NodeWithChildren=vm;var k6=function(t){yo(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=bn.ElementType.CDATA,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(vm);ve.CDATA=k6;var S6=function(t){yo(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=bn.ElementType.Root,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(vm);ve.Document=S6;var E6=function(t){yo(e,t);function e(n,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=n==="script"?bn.ElementType.Script:n==="style"?bn.ElementType.Style:bn.ElementType.Tag);var i=t.call(this,s)||this;return i.name=n,i.attribs=r,i.type=o,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,o;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(o=n["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(vm);ve.Element=E6;function T6(t){return(0,bn.isTag)(t)}ve.isTag=T6;function I6(t){return t.type===bn.ElementType.CDATA}ve.isCDATA=I6;function N6(t){return t.type===bn.ElementType.Text}ve.isText=N6;function j6(t){return t.type===bn.ElementType.Comment}ve.isComment=j6;function P6(t){return t.type===bn.ElementType.Directive}ve.isDirective=P6;function L6(t){return t.type===bn.ElementType.Root}ve.isDocument=L6;function qH(t){return Object.prototype.hasOwnProperty.call(t,"children")}ve.hasChildren=qH;function nv(t,e){e===void 0&&(e=!1);var n;if(N6(t))n=new x6(t.data);else if(j6(t))n=new C6(t.data);else if(T6(t)){var r=e?Wp(t.children):[],s=new E6(t.name,Zl({},t.attribs),r);r.forEach(function(l){return l.parent=s}),t.namespace!=null&&(s.namespace=t.namespace),t["x-attribsNamespace"]&&(s["x-attribsNamespace"]=Zl({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(s["x-attribsPrefix"]=Zl({},t["x-attribsPrefix"])),n=s}else if(I6(t)){var r=e?Wp(t.children):[],o=new k6(r);r.forEach(function(u){return u.parent=o}),n=o}else if(L6(t)){var r=e?Wp(t.children):[],i=new S6(r);r.forEach(function(u){return u.parent=i}),t["x-mode"]&&(i["x-mode"]=t["x-mode"]),n=i}else if(P6(t)){var a=new b6(t.name,t.data);t["x-name"]!=null&&(a["x-name"]=t["x-name"],a["x-publicId"]=t["x-publicId"],a["x-systemId"]=t["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}ve.cloneNode=nv;function Wp(t){for(var e=t.map(function(r){return nv(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}(function(t){var e=We&&We.__createBinding||(Object.create?function(a,l,u,d){d===void 0&&(d=u);var h=Object.getOwnPropertyDescriptor(l,u);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,d,h)}:function(a,l,u,d){d===void 0&&(d=u),a[d]=l[u]}),n=We&&We.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&e(l,a,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=ev,s=ve;n(ve,t);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},i=function(){function a(l,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=o),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??o,this.elementCB=d??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new s.Element(l,u,void 0,d);this.addNode(h),this.tagStack.push(h)},a.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(l);this.addNode(d),this.lastNode=d}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new s.Comment(l);this.addNode(u),this.lastNode=u},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new s.Text(""),u=new s.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,u){var d=new s.ProcessingInstruction(l,u);this.addNode(d)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),d&&(l.prev=d,d.next=l),l.parent=u,this.lastNode=null},a}();t.DomHandler=i,t.default=i})(Jy);var A6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{})})(A6);Object.defineProperty($a,"__esModule",{value:!0});$a.formatDOM=$a.formatAttributes=void 0;var nd=Jy,WH=A6;function GH(t){return WH.CASE_SENSITIVE_TAG_NAMES_MAP[t]}function R6(t){for(var e={},n=0,r=t.length;n<r;n++){var s=t[n];e[s.name]=s.value}return e}$a.formatAttributes=R6;function KH(t){t=t.toLowerCase();var e=GH(t);return e||t}function D6(t,e,n){e===void 0&&(e=null);for(var r=[],s,o=0,i=t.length;o<i;o++){var a=t[o];switch(a.nodeType){case 1:{var l=KH(a.nodeName);s=new nd.Element(l,R6(a.attributes)),s.children=D6(l==="template"?a.content.childNodes:a.childNodes,s);break}case 3:s=new nd.Text(a.nodeValue);break;case 8:s=new nd.Comment(a.nodeValue);break;default:continue}var u=r[o-1]||null;u&&(u.next=s),s.parent=e,s.prev=u,s.next=null,r.push(s)}return n&&(s=new nd.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),s.next=r[0]||null,s.parent=e,r.unshift(s),r[1]&&(r[1].prev=r[0])),r}$a.formatDOM=D6;var ZH=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xy,"__esModule",{value:!0});var QH=ZH(Yy),XH=$a,YH=/<(![a-zA-Z\s]+)>/;function JH(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];var e=t.match(YH),n=e?e[1]:void 0;return(0,XH.formatDOM)((0,QH.default)(t),null,n)}Xy.default=JH;var wm={},pr={},xm={},eq=0;xm.SAME=eq;var tq=1;xm.CAMELCASE=tq;xm.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const O6=0,vo=1,Cm=2,bm=3,rv=4,M6=5,$6=6;function nq(t){return Dt.hasOwnProperty(t)?Dt[t]:null}function un(t,e,n,r,s,o,i){this.acceptsBooleans=e===Cm||e===bm||e===rv,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}const Dt={},rq=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];rq.forEach(t=>{Dt[t]=new un(t,O6,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,e])=>{Dt[t]=new un(t,vo,!1,e,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(t=>{Dt[t]=new un(t,Cm,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{Dt[t]=new un(t,Cm,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{Dt[t]=new un(t,bm,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(t=>{Dt[t]=new un(t,bm,!0,t,null,!1,!1)});["capture","download"].forEach(t=>{Dt[t]=new un(t,rv,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(t=>{Dt[t]=new un(t,$6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(t=>{Dt[t]=new un(t,M6,!1,t.toLowerCase(),null,!1,!1)});const sv=/[\-\:]([a-z])/g,ov=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const e=t.replace(sv,ov);Dt[e]=new un(e,vo,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const e=t.replace(sv,ov);Dt[e]=new un(e,vo,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(t=>{const e=t.replace(sv,ov);Dt[e]=new un(e,vo,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(t=>{Dt[t]=new un(t,vo,!1,t.toLowerCase(),null,!1,!1)});const sq="xlinkHref";Dt[sq]=new un("xlinkHref",vo,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(t=>{Dt[t]=new un(t,vo,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:oq,SAME:iq,possibleStandardNames:V3}=xm,aq=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",lq=aq+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",cq=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+lq+"]*$")),uq=Object.keys(V3).reduce((t,e)=>{const n=V3[e];return n===iq?t[e]=e:n===oq?t[e.toLowerCase()]=e:t[e]=n,t},{});pr.BOOLEAN=bm;pr.BOOLEANISH_STRING=Cm;pr.NUMERIC=M6;pr.OVERLOADED_BOOLEAN=rv;pr.POSITIVE_NUMERIC=$6;pr.RESERVED=O6;pr.STRING=vo;pr.getPropertyInfo=nq;pr.isCustomAttribute=cq;pr.possibleStandardNames=uq;var iv={},av={},z3=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,dq=/\n/g,hq=/^\s*/,fq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,mq=/^:\s*/,pq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,gq=/^[;\s]*/,_q=/^\s+|\s+$/g,yq=`
`,H3="/",q3="*",jo="",vq="comment",wq="declaration",xq=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function s(_){var v=_.match(dq);v&&(n+=v.length);var x=_.lastIndexOf(yq);r=~x?_.length-x:r+_.length}function o(){var _={line:n,column:r};return function(v){return v.position=new i(_),u(),v}}function i(_){this.start=_,this.end={line:n,column:r},this.source=e.source}i.prototype.content=t;function a(_){var v=new Error(e.source+":"+n+":"+r+": "+_);if(v.reason=_,v.filename=e.source,v.line=n,v.column=r,v.source=t,!e.silent)throw v}function l(_){var v=_.exec(t);if(v){var x=v[0];return s(x),t=t.slice(x.length),v}}function u(){l(hq)}function d(_){var v;for(_=_||[];v=h();)v!==!1&&_.push(v);return _}function h(){var _=o();if(!(H3!=t.charAt(0)||q3!=t.charAt(1))){for(var v=2;jo!=t.charAt(v)&&(q3!=t.charAt(v)||H3!=t.charAt(v+1));)++v;if(v+=2,jo===t.charAt(v-1))return a("End of comment missing");var x=t.slice(2,v-2);return r+=2,s(x),t=t.slice(v),r+=2,_({type:vq,comment:x})}}function m(){var _=o(),v=l(fq);if(v){if(h(),!l(mq))return a("property missing ':'");var x=l(pq),y=_({type:wq,property:W3(v[0].replace(z3,jo)),value:x?W3(x[0].replace(z3,jo)):jo});return l(gq),y}}function p(){var _=[];d(_);for(var v;v=m();)v!==!1&&(_.push(v),d(_));return _}return u(),p()};function W3(t){return t?t.replace(_q,jo):jo}var Cq=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(av,"__esModule",{value:!0});var bq=Cq(xq);function kq(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,bq.default)(t),s=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var i=o.property,a=o.value;s?e(i,a,o):a&&(n=n||{},n[i]=a)}}),n}av.default=kq;var km={};Object.defineProperty(km,"__esModule",{value:!0});km.camelCase=void 0;var Sq=/^--[a-zA-Z0-9-]+$/,Eq=/-([a-z])/g,Tq=/^[^-]+$/,Iq=/^-(webkit|moz|ms|o|khtml)-/,Nq=/^-(ms)-/,jq=function(t){return!t||Tq.test(t)||Sq.test(t)},Pq=function(t,e){return e.toUpperCase()},G3=function(t,e){return"".concat(e,"-")},Lq=function(t,e){return e===void 0&&(e={}),jq(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Nq,G3):t=t.replace(Iq,G3),t.replace(Eq,Pq))};km.camelCase=Lq;var Aq=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Rq=Aq(av),Dq=km;function e0(t,e){var n={};return!t||typeof t!="string"||(0,Rq.default)(t,function(r,s){r&&s&&(n[(0,Dq.camelCase)(r,e)]=s)}),n}e0.default=e0;var Oq=e0;(function(t){var e=We&&We.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var n=f,r=e(Oq),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(d,h){return d.includes("-")?!s.has(d):!!(h&&typeof h.is=="string")}t.isCustomComponent=o;var i={reactCompat:!0};function a(d,h){if(typeof d=="string"){if(!d.trim()){h.style={};return}try{h.style=(0,r.default)(d,i)}catch{h.style={}}}}t.setStyleProp=a,t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(d){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};t.canTextBeChildOfNode=l;var u=function(d){return d};t.returnFirstArg=u})(iv);Object.defineProperty(wm,"__esModule",{value:!0});var Il=pr,K3=iv,Mq=["checked","value"],$q=["input","select","textarea"],Fq={reset:!0,submit:!0};function Bq(t,e){t===void 0&&(t={});var n={},r=!!(t.type&&Fq[t.type]);for(var s in t){var o=t[s];if((0,Il.isCustomAttribute)(s)){n[s]=o;continue}var i=s.toLowerCase(),a=Z3(i);if(a){var l=(0,Il.getPropertyInfo)(a);switch(Mq.includes(a)&&$q.includes(e)&&!r&&(a=Z3("default"+i)),n[a]=o,l&&l.type){case Il.BOOLEAN:n[a]=!0;break;case Il.OVERLOADED_BOOLEAN:o===""&&(n[a]=!0);break}continue}K3.PRESERVE_CUSTOM_ATTRIBUTES&&(n[s]=o)}return(0,K3.setStyleProp)(t.style,n),n}wm.default=Bq;function Z3(t){return Il.possibleStandardNames[t]}var lv={},Uq=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(lv,"__esModule",{value:!0});var Gp=f,Vq=Uq(wm),Ql=iv,zq={cloneElement:Gp.cloneElement,createElement:Gp.createElement,isValidElement:Gp.isValidElement};function F6(t,e){e===void 0&&(e={});for(var n=[],r=typeof e.replace=="function",s=e.transform||Ql.returnFirstArg,o=e.library||zq,i=o.cloneElement,a=o.createElement,l=o.isValidElement,u=t.length,d=0;d<u;d++){var h=t[d];if(r){var m=e.replace(h,d);if(l(m)){u>1&&(m=i(m,{key:m.key||d})),n.push(s(m,h,d));continue}}if(h.type==="text"){var p=!h.data.trim().length;if(p&&h.parent&&!(0,Ql.canTextBeChildOfNode)(h.parent)||e.trim&&p)continue;n.push(s(h.data,h,d));continue}var _=h,v={};Hq(_)?((0,Ql.setStyleProp)(_.attribs.style,_.attribs),v=_.attribs):_.attribs&&(v=(0,Vq.default)(_.attribs,_.name));var x=void 0;switch(h.type){case"script":case"style":h.children[0]&&(v.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?v.defaultValue=h.children[0].data:h.children&&h.children.length&&(x=F6(h.children,e));break;default:continue}u>1&&(v.key=d),n.push(s(a(h.name,v,x),h,d))}return n.length===1?n[0]:n}lv.default=F6;function Hq(t){return Ql.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&(0,Ql.isCustomComponent)(t.name,t.attribs)}(function(t){var e=We&&We.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var n=e(Xy);t.htmlToDOM=n.default;var r=e(wm);t.attributesToProps=r.default;var s=e(lv);t.domToReact=s.default;var o=Jy;Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return o.Text}});var i={lowerCaseAttributeNames:!1};function a(l,u){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,s.default)((0,n.default)(l,(u==null?void 0:u.htmlparser2)||i),u):[]}t.default=a})(w6);const Q3=zh(w6),Or=Q3.default||Q3;function qq({messages:t,backgroundColor:e,textColor:n,date:r,photoClick:s}){const o=m=>{if(!m)return"";let p=m.replace(/\*\*(.*?)\*\*/g,"<b>$1</b>");return p=p.replace(/_(.*?)_/g,"<i>$1</i>"),p=p.replace(/\n/g,"<br>"),p},i=(m,p)=>{s(m,p)},{authUser:a}=ce(),{theme:l,setThemeById:u,elementColors:d,setElementColors:h}=f.useContext(B);return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Ze["data-container"],style:{background:e,color:n},children:r}),t.map((m,p)=>c.jsxs("div",{className:Ze["message-body"],children:[c.jsxs("div",{className:Ze["user-container"],children:[c.jsx("div",{className:Ze["user-photo"],children:m.isUser?c.jsx("img",{src:a.avatar,className:Ze["user-avatar"]}):c.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[c.jsx("stop",{"stop-color":l.gradient_first_color}),c.jsx("stop",{offset:"1","stop-color":l.gradient_second_color})]})})]})}),c.jsx("div",{className:Ze["user-name"],style:{color:n},children:m.isUser?m.userName:"Genery"})]}),m.photos&&c.jsx("div",{className:Ze["images-body"],children:c.jsx("div",{className:Ze[`images-wrapper_${m.photos.length}`],children:m.photos.map((_,v)=>c.jsx(Le.div,{className:Ze[`image_${v}`],whileTap:{scale:1.5},children:c.jsx("img",{src:_,onClick:()=>i(m.photos,v)})}))})}),c.jsx("div",{className:Ze["message-text"],style:{color:n},dangerouslySetInnerHTML:{__html:o(m.text)}})]},p))]})}function Wq({textColor:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=f.useContext(B);return c.jsxs("div",{className:Ze["message-body"],children:[c.jsxs("div",{className:Ze["user-container"],children:[c.jsx("div",{className:Ze["user-photo"],children:c.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[c.jsx("stop",{"stop-color":e.first_color}),c.jsx("stop",{offset:"1","stop-color":e.element_first_color})]})})]})}),c.jsx("div",{className:Ze["user-name"],style:{color:t},children:"Genery"})]}),c.jsx("div",{className:Ze["skeleton-high"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),c.jsx("div",{className:Ze["skeleton-meduim"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),c.jsx("div",{className:Ze["skeleton-small"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}})]})}async function Gq(t){return new Promise((e,n)=>{const r=new FileReader;r.onloadend=()=>e({inlineData:{data:r.result.split(",")[1],mimeType:t.type}}),r.onerror=n,r.readAsDataURL(t)})}async function Kq(t,e){try{const n=await Promise.all(e.map(Gq));return[(await(await fetch("https://genery-proxy-vercel.vercel.app/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userInput:t,images:n})})).json()).text,!1]}catch(n){return console.error("  :",n),["   ",!1]}}const En={"input-container":"_input-container_hubm7_1","button-circle":"_button-circle_hubm7_28","input-message-body":"_input-message-body_hubm7_45","image-previewer":"_image-previewer_hubm7_56","image-wrapper":"_image-wrapper_hubm7_66","remove-image":"_remove-image_hubm7_81","image-no-select":"_image-no-select_hubm7_102","input-message-wrapper":"_input-message-wrapper_hubm7_111","emoji-button":"_emoji-button_hubm7_120","message-input":"_message-input_hubm7_138","send-button":"_send-button_hubm7_171","emoji-img":"_emoji-img_hubm7_192"},Zq="_show_esoz4_22",Qq="_categories_esoz4_27",Xq="_emoji_esoz4_2",rr={"emoji-panel":"_emoji-panel_esoz4_2",show:Zq,categories:Qq,"emoji-category":"_emoji-category_esoz4_50","emojies-container":"_emojies-container_esoz4_69","category-name":"_category-name_esoz4_78","emojies-body":"_emojies-body_esoz4_86","emojies-content":"_emojies-content_esoz4_95",emoji:Xq,"emoji-img":"_emoji-img_esoz4_116","emoji-img-text":"_emoji-img-text_esoz4_124"},X3=[{name:"smiles",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M7.99985 15C8.84985 15.63 9.88485 16 10.9998 16C12.1148 16 13.1498 15.63 13.9998 15" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M14.9998 9.50003C14.9998 10.328 14.5518 11 13.9998 11C13.4478 11 12.9998 10.328 12.9998 9.50003C12.9998 8.67203 13.4478 8.00003 13.9998 8.00003C14.5518 8.00003 14.9998 8.67203 14.9998 9.50003Z" fill="{theme.text_first_color}"/>
                <path d="M7.99994 11C8.55222 11 8.99994 10.3285 8.99994 9.50003C8.99994 8.6716 8.55222 8.00003 7.99994 8.00003C7.44765 8.00003 6.99994 8.6716 6.99994 9.50003C6.99994 10.3285 7.44765 11 7.99994 11Z" fill="{theme.text_first_color}"/>
            </svg>
         
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"animals",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="30" height="23" viewBox="0 0 30 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24.94 8.924C26.4954 10.7636 26.172 13.0148 26.172 15C26.172 20.4684 18.7982 22 15 22C11.2018 22 3.82798 20.4684 3.82798 15C3.82798 13.0148 3.50458 10.7636 5.05998 8.924M24.94 8.924C24.667 8.602 24.338 8.294 23.9376 8M24.94 8.924C25.92 9.4882 26.1706 7.377 26.172 6.6868V4.0632C26.172 1.7882 24.6082 1 23.267 1C21.9272 1 19.2448 3.1882 18.3516 3.1882C17.2792 3.1882 17.072 2.9684 15 2.9684C12.928 2.9684 12.7208 3.1882 11.6484 3.1882C10.7552 3.1882 8.07278 1 6.73298 1C5.39178 1 3.82798 1.7882 3.82798 4.0632V6.6882C3.83078 7.377 4.07998 9.4882 5.05998 8.924M5.05998 8.924C5.33298 8.602 5.66198 8.294 6.06238 8" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M16.1564 16.4C16.1564 16.6422 15.651 16.8382 15.0266 16.8382C14.4036 16.8382 13.8982 16.6422 13.8982 16.4C13.8982 16.1578 14.4036 15.9632 15.0266 15.9632C15.651 15.9632 16.1564 16.1592 16.1564 16.4ZM19.9 13.0316C19.9 13.635 19.5962 14.125 19.2224 14.125C18.8486 14.125 18.5448 13.635 18.5448 13.0316C18.5448 12.4268 18.8486 11.9382 19.2224 11.9382C19.5962 11.9382 19.9 12.4296 19.9 13.0316ZM11.5 13.0316C11.5 13.635 11.1962 14.125 10.8224 14.125C10.4486 14.125 10.1448 13.635 10.1448 13.0316C10.1448 12.4268 10.4486 11.9382 10.8224 11.9382C11.1962 11.9382 11.5 12.4296 11.5 13.0316Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M29 15.6566C28.3238 15.2184 25.388 14.125 24.2582 14.125M26.7418 19.1566C26.0642 18.7184 24.4836 17.625 23.3538 17.625M1 15.6566C1.6776 15.2184 4.612 14.125 5.7418 14.125M3.2582 19.1566C3.9358 18.7184 5.5164 17.625 6.6462 17.625" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"food",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.4286 7.28573C8.86121 7.28573 1 4.1632 1 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 12C1 19.8368 5.71835 23 7.28571 23C8.85308 23 8.86121 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28573C11.9959 7.28573 19.8571 4.1632 19.8571 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M19.8653 11.9879C19.8653 19.8247 15.1388 23 13.5714 23C12.0041 23 11.9959 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4285 7.28571C10.4285 2.58362 7.28568 1 7.28568 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C10.4286 1.01626 13.5755 2.56736 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C15.1306 5.71835 16.7102 4.13473 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>

        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"exercise",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 11C21 16.523 16.523 21 11 21C5.477 21 1 16.523 1 11C1 5.477 5.477 1 11 1C16.523 1 21 5.477 21 11Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 4C7.99 7.52 8.01 14.462 4 18M18 18C13.99 14.462 14.01 7.52 18 4" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"transport",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22.3341 8.30094H23.4404C23.7495 8.30094 24 8.55146 24 8.8605V8.8605C24 9.16954 23.7495 9.42006 23.4404 9.42006H23.167C22.707 9.42006 22.3341 9.79299 22.3341 10.253V16C22.3341 17.1046 21.4387 18 20.3341 18H18.601C17.9535 18 17.4286 17.4751 17.4286 16.8276V16.8276C17.4286 16.1801 16.9037 15.6552 16.2562 15.6552H12.5H8.74385C8.09634 15.6552 7.57143 16.1801 7.57143 16.8276V16.8276C7.57143 17.4751 7.04652 18 6.39902 18H4.66592C3.56136 18 2.66592 17.1046 2.66592 16V10.253C2.66592 9.79299 2.293 9.42006 1.83297 9.42006H1.55957C1.25054 9.42006 1.00001 9.16954 1.00001 8.8605V8.8605C1.00001 8.55146 1.25054 8.30094 1.55957 8.30094H2.66592M22.3341 8.30094L19.2752 2.11364C18.938 1.43164 18.2431 1 17.4823 1H12.5H7.51769C6.7569 1 6.062 1.43164 5.72483 2.11364L2.66592 8.30094M22.3341 8.30094H2.66592" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <circle cx="6.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
                <circle cx="18.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
            </svg>
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"objects",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.501 18.5012C6.501 17.7872 6.501 17.4312 6.462 17.1942C6.34 16.4312 6.319 16.3822 5.832 15.7822C5.68 15.5952 5.12 15.0942 4 14.0902C2.86788 13.0776 2.06988 11.7452 1.71159 10.2692C1.3533 8.79316 1.45161 7.24315 1.9935 5.82422C2.53539 4.4053 3.49533 3.18434 4.7463 2.3229C5.99727 1.46147 7.48031 1.00015 8.99919 1C10.5181 0.999848 12.0012 1.46086 13.2523 2.32205C14.5035 3.18324 15.4637 4.404 16.0058 5.82282C16.548 7.24164 16.6466 8.79164 16.2886 10.2677C15.9306 11.7438 15.1329 13.0764 14.001 14.0892C12.88 15.0932 12.32 15.5952 12.169 15.7812C11.682 16.3812 11.661 16.4302 11.538 17.1932C11.5 17.4302 11.5 17.7872 11.5 18.5002H6.5C6.5 19.4352 6.5 19.9022 6.701 20.2502C6.83265 20.4782 7.02199 20.6676 7.25 20.7992C7.598 21.0002 8.065 21.0002 9 21.0002C9.935 21.0002 10.402 21.0002 10.751 20.8002C10.979 20.6686 11.1684 20.4792 11.3 20.2512C11.501 19.9032 11.501 19.4362 11.501 18.5012" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M9.00001 16.0002V14.0002M9.00001 14.0002C9.35106 14.0002 9.69593 13.9077 9.99996 13.7322C10.304 13.5567 10.5565 13.3042 10.732 13.0002M9.00001 14.0002C8.64895 14.0002 8.30408 13.9077 8.00005 13.7322C7.69602 13.5567 7.44355 13.3042 7.26801 13.0002" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"flags",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 12.9675C2.06816 11.9163 3.50427 11.3274 5 11.3274C6.49573 11.3274 7.93184 11.9163 9 12.9675C10.0682 14.0188 11.5043 14.6076 13 14.6076C14.4957 14.6076 15.9318 14.0188 17 12.9675V2.6401C15.9318 3.69136 14.4957 4.28019 13 4.28019C11.5043 4.28019 10.0682 3.69136 9 2.6401C7.93184 1.58884 6.49573 1 5 1C3.50427 1 2.06816 1.58884 1 2.6401V12.9675ZM1 12.9675V21" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"genery",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/genery/icon.png",isImgEmoji:!0,emojis:["emojies/genery/1.png","emojies/genery/2.png","emojies/genery/3.png","emojies/genery/4.png","emojies/genery/5.png","emojies/genery/6.png","emojies/genery/7.png","emojies/genery/8.png","emojies/genery/9.png","emojies/genery/10.png","emojies/genery/11.png","emojies/genery/12.png","emojies/genery/13.png","emojies/genery/14.png","emojies/genery/15.png","emojies/genery/16.png","emojies/genery/17.png","emojies/genery/18.png","emojies/genery/19.png","emojies/genery/20.png","emojies/genery/21.png","emojies/genery/22.png","emojies/genery/23.png","emojies/genery/24.png"]},{name:"kyrgyzstan",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/kyrgyzstan/icon.png",isImgEmoji:!0,emojis:["emojies/kyrgyzstan/1.png","emojies/kyrgyzstan/2.png","emojies/kyrgyzstan/3.png","emojies/kyrgyzstan/4.png","emojies/kyrgyzstan/5.png","emojies/kyrgyzstan/6.png","emojies/kyrgyzstan/7.png","emojies/kyrgyzstan/8.png","emojies/kyrgyzstan/9.png","emojies/kyrgyzstan/10.png","emojies/kyrgyzstan/11.png","emojies/kyrgyzstan/12.png"]},{name:"winter_2024",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/winter_2024/icon.png",isImgEmoji:!0,emojis:["emojies/winter_2024/1.png","emojies/winter_2024/2.png","emojies/winter_2024/3.png","emojies/winter_2024/4.png","emojies/winter_2024/5.png","emojies/winter_2024/6.png","emojies/winter_2024/7.png","emojies/winter_2024/8.png","emojies/winter_2024/9.png","emojies/winter_2024/10.png","emojies/winter_2024/11.png","emojies/winter_2024/12.png"]},{name:"simple_light",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Emoji",icon:"",isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]}];function Yq({isShow:t,isImages:e,isTop:n,marginTop:r,onEmojiSelect:s}){const{theme:o,setThemeById:i,elementColors:a,setElementColors:l}=f.useContext(B),{authUser:u}=ce(),[d,h]=f.useState(X3[0].name),[m,p]=f.useState(["smiles","animals","food","exercise","transport","objects","flags"]),_=f.useRef({}),v=f.useRef(),x=f.useRef(),[y,g]=f.useState(),[w,b]=f.useState([]);f.useEffect(()=>{g(r)},[r]);const C=(S,E)=>{if(h(S),_.current[S]&&x.current){const I=_.current[S].offsetTop-x.current.offsetTop;x.current.scrollTo({top:I,behavior:"smooth"})}},k=(S,E,I)=>{s(S,E,I)};f.useEffect(()=>{(async()=>{if(u&&u._id){const E=G(H,"users",u._id,"info","preferences"),I=await se(E);if(I.exists()){const R=I.data();p(P=>[...P,...R.boughtEmojies])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const T=m?X3.filter(S=>m.includes(S.name)):[];return f.useEffect(()=>{const S=I=>{v.current&&(v.current.scrollLeft+=I.deltaY/5)},E=v.current;return E&&E.addEventListener("wheel",S),()=>{E&&E.removeEventListener("wheel",S)}},[]),f.useEffect(()=>{const S={root:x.current,rootMargin:"0px",threshold:Array.from({length:101},(R,P)=>P/100)},E=new IntersectionObserver(R=>{R.forEach(P=>{P.isIntersecting&&h(P.target.getAttribute("data-category"))})},S),I=Object.values(_.current);return I.forEach(R=>{E.observe(R)}),()=>{I.forEach(R=>{E.unobserve(R)})}},[]),c.jsxs("div",{className:`${rr["emoji-panel"]} ${t?rr.show:""}`,style:{background:o.element_first_color,bottom:n?"auto":"50px",top:n?`${r}`:"auto",transformOrigin:n?"top left":"bottom left",boxShadow:`0 5px 10px 5px ${o.shadow_color}`},children:[c.jsx("style",{children:`
                    div::-webkit-scrollbar {
                      width: 6px; /*   */
                    }

                    /*    */
                    div::-webkit-scrollbar-thumb {
                      background-color: ${o.text_second_color}; /*   */
                      border-radius: 5px; /*    */
                      cursor: pointer;
                    }

                    /*    */
                    div::-webkit-scrollbar-track {
                      border-radius: 0 0 50px 0;
                      background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                    }
                `}),c.jsx("div",{className:rr.categories,style:{},ref:v,children:T.map(S=>{const E=S.icon.replace(/{theme.text_first_color}/g,o.text_first_color);return c.jsx("button",{className:rr["emoji-category"],onClick:()=>C(S.name,S.isCustom),onMouseEnter:I=>{I.currentTarget.style.background=o.element_second_color},onMouseLeave:I=>{I.currentTarget.style.background=d===S.name?o.element_second_color:"none"},style:{background:d===S.name?o.element_second_color:"none","--font":S.fontFamily,color:o.text_first_color},children:S.emojiIcon?S.icon:S.emojiIconImg?c.jsx("img",{src:S.icon,className:rr["emoji-img"]}):Or(E)},S.name)})}),c.jsx("div",{className:rr["emojies-container"],ref:x,children:T.map(S=>c.jsxs("div",{className:rr["emojies-body"],"data-category":S.name,ref:E=>_.current[S.name]=E,children:[c.jsx("h2",{className:rr["category-name"],style:{color:o.text_first_color},children:S.name}),c.jsx("div",{className:rr["emojies-content"],children:S.emojis.map((E,I)=>S.isImgEmoji?c.jsx("img",{src:E,className:rr["emoji-img-text"],onClick:()=>k(E,S.isImgEmoji,S.fontFamily),onMouseEnter:R=>{R.currentTarget.style.background=o.element_second_color},onMouseLeave:R=>{R.currentTarget.style.background="none"}},I):c.jsx("span",{className:rr.emoji,style:{fontFamily:S.fontFamily,color:o.text_first_color},onClick:()=>k(E,S.isImgEmoji,S.fontFamily),onMouseEnter:R=>{R.currentTarget.style.background=o.element_second_color},onMouseLeave:R=>{R.currentTarget.style.background="none"},children:E},I))})]},S.name))})]})}const Y3={"notif-area":"_notif-area_1bj00_1","notif-body":"_notif-body_1bj00_14"};function ct({text:t,isShow:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),o={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,top:"70%"},hidden:{opacity:1,top:"100%"}};return c.jsx(Le.div,{className:Y3["notif-area"],animate:e?"open":"closed",variants:o,transition:{duration:.3},children:c.jsx(Le.div,{className:Y3["notif-body"],variants:o,initial:"hidden",animate:e?"show":"hidden",transition:{duration:.4},style:{background:n.element_first_color,color:n.text_first_color},children:t})})}function pu({isPanelTop:t,placeholder:e,Addtext:n,onClearText:r,onSend:s,addFiles:o}){const{theme:i}=f.useContext(B),a=f.useRef(null),l=f.useRef(null),u=f.useRef(null),[d,h]=f.useState(""),[m,p]=f.useState(!1),[_,v]=f.useState([]),[x,y]=f.useState(50),[g,w]=f.useState({isShow:!1,text:""});f.useEffect(()=>{n&&h(n+"")},[n]),f.useEffect(()=>{if(g.isShow){const I=setTimeout(()=>{w({isShow:!1})},1e3);return()=>clearTimeout(I)}},[g.isShow]),f.useEffect(()=>{if(d===""){r&&r(),a.current.style.height="auto",l.current.style.height="10px",y(50);return}const I=l.current.scrollHeight;I>40&&t&&y(I>90?120:I+20)},[d,r,t]),f.useEffect(()=>{if(_.length>0){y(160);return}y(50)},[_.length]),f.useEffect(()=>{if(!l.current)return;const I=document.createRange();I.selectNodeContents(l.current),I.collapse(!1);const R=window.getSelection();R.removeAllRanges(),R.addRange(I)},[d]),f.useEffect(()=>{const I=P=>{l.current&&(l.current.scrollTop+=P.deltaY)},R=l.current;return R&&R.addEventListener("wheel",I),()=>{R&&R.removeEventListener("wheel",I)}},[]),f.useEffect(()=>()=>{_.forEach(I=>{I&&I.preview&&URL.revokeObjectURL(I.preview)})},[_]);const b=()=>{d===""&&_.length===0||(s(d,_),h(""),v([]),p(!1),l.current&&(l.current.style.lineHeight="30px",l.current.style.height="10px"),a.current&&(a.current.style.height="auto"))},C=I=>{I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),b())},k=(I,R,P)=>{if(R){const A=`<img class="${En["emoji-img"]}" src="${I}" style="width: 22px; height: 22px"/>`;h(d+A+"");return}const O=`<span class="${En.emoji}" style="font-family: ${P}">${I}</span>`;h(d+O+"")},T=I=>{h(I.target.innerHTML)},S=I=>{const R=Array.from(I.target.files);if(R.length>5){w({isShow:!0,text:"    - 5"});return}for(const A of R)if(!A.type.startsWith("image/")){w({isShow:!0,text:` ${A.name}   .   .`});return}const O=R.map(A=>{const $=URL.createObjectURL(A);return Object.assign(A,{preview:$})});v(A=>[...A,...O]),u.current&&(u.current.value="")},E=I=>{v(R=>{const P=R[I];return P&&P.preview&&URL.revokeObjectURL(P.preview),R.filter((O,A)=>A!==I)})};return c.jsx(c.Fragment,{children:c.jsxs("section",{className:En["input-container"],children:[c.jsx(ct,{isShow:g.isShow,text:g.text}),c.jsx(Yq,{isShow:m,isTop:t,marginTop:`${x}px`,isImages:_.length>0,onEmojiSelect:k}),o&&c.jsxs("button",{className:En["button-circle"],style:{background:i.element_first_color},onClick:()=>document.getElementById("file-input").click(),children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:i.text_first_color,strokeWidth:"2",strokeLinecap:"round"})}),c.jsx("input",{type:"file",id:"file-input",multiple:!0,ref:u,style:{display:"none"},onChange:S,accept:"image/*"})]}),c.jsxs("div",{className:En["input-message-body"],style:{background:i.element_first_color},children:[_.length>0&&c.jsx("div",{className:En["image-previewer"],children:_.map((I,R)=>c.jsxs("div",{className:En["image-wrapper"],children:[c.jsx("button",{className:En["remove-image"],onClick:()=>E(R),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:i.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})}),c.jsx("div",{className:En["image-no-select"]}),I&&c.jsx("img",{src:I.preview||URL.createObjectURL(I),alt:"Preview"})]},R))}),c.jsxs("div",{className:En["input-message-wrapper"],ref:a,style:{alignItems:t?"flex-end":"flex-start"},children:[c.jsx("button",{className:En["emoji-button"],onClick:()=>p(!m),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",stroke:i.text_first_color,strokeWidth:"2"}),c.jsx("path",{d:"M8.25049 15.5C9.13085 16.1525 10.2028 16.5357 11.3576 16.5357C12.5125 16.5357 13.5844 16.1525 14.4648 15.5",stroke:i.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M15.5006 9.80356C15.5006 10.6611 15.0366 11.3571 14.4649 11.3571C13.8932 11.3571 13.4292 10.6611 13.4292 9.80356C13.4292 8.94599 13.8932 8.24999 14.4649 8.24999C15.0366 8.24999 15.5006 8.94599 15.5006 9.80356Z",fill:i.text_first_color}),c.jsx("path",{d:"M8.25007 11.3571C8.82208 11.3571 9.28578 10.6616 9.28578 9.80356C9.28578 8.94555 8.82208 8.24999 8.25007 8.24999C7.67806 8.24999 7.21436 8.94555 7.21436 9.80356C7.21436 10.6616 7.67806 11.3571 8.25007 11.3571Z",fill:i.text_first_color})]})}),c.jsx("div",{ref:l,className:En["message-input"],contentEditable:!0,onInput:T,onKeyPress:C,"data-placeholder":e,dangerouslySetInnerHTML:{__html:d},suppressContentEditableWarning:!0,style:{color:i.text_first_color,caretColor:i.first_color,"--placeholder-color":i.text_second_color}}),c.jsx("button",{className:En["send-button"],style:{background:i.first_color},onClick:b,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 11.2071C1.81658 11.5976 1.18342 11.5976 0.792893 11.2071C0.402369 10.8166 0.402369 10.1834 0.792893 9.79289L2.20711 11.2071ZM10.5 0.5C11.0523 0.5 11.5 0.947715 11.5 1.5L11.5 10.5C11.5 11.0523 11.0523 11.5 10.5 11.5C9.94772 11.5 9.5 11.0523 9.5 10.5L9.5 2.5L1.5 2.5C0.947715 2.5 0.5 2.05228 0.5 1.5C0.5 0.947715 0.947715 0.5 1.5 0.5L10.5 0.5ZM0.792893 9.79289L9.79289 0.792893L11.2071 2.20711L2.20711 11.2071L0.792893 9.79289Z",fill:i.text_third_color})})})]})]})]})})}const Jq="_close_b63c2_77",eW="_download_b63c2_85",Tn={"viewer-area":"_viewer-area_b63c2_1","image-view":"_image-view_b63c2_18","viewer-actions":"_viewer-actions_b63c2_23","prev-button":"_prev-button_b63c2_28","next-button":"_next-button_b63c2_31","viewer-button":"_viewer-button_b63c2_66",close:Jq,download:eW,"image-wrapper":"_image-wrapper_b63c2_92","image-view-bg":"_image-view-bg_b63c2_160","image-no-select":"_image-no-select_b63c2_175"};function $r({isShow:t,images:e,index:n,onClose:r,postId:s}){const{theme:o,setElementColors:i}=f.useContext(B),[a,l]=f.useState(n),[u,d]=f.useState([]),[h,m]=f.useState(!1),p=v6(0);f.useEffect(()=>{console.log(e);let b=[];Array.isArray(e)?d(e):(b.push(e),d(b),console.log(b))},[e]),f.useEffect(()=>{l(n),console.log(`image-${s}-${n}`)},[n]);const _=()=>{l(b=>b===u.length-1?0:b+1)},v=()=>{l(b=>b===0?u.length-1:b-1)},x=()=>{m(!0)},y=()=>{m(!1),p.get()<-50?l(b=>b===0?u.length-1:b-1):p.get()>50&&l(b=>b===u.length-1?0:b+1),p.set(0)},g=b=>{const C=decodeURIComponent(b),k=C.indexOf("post_photos/"),T=C.indexOf("?alt=media");if(k===-1||T===-1)throw new Error("     URL");return C.substring(k,T)},w=()=>{const b=u[a],C=document.createElement("a");console.log("URL:",b);const k=".png";if(b.startsWith("blob:"))console.log("Downloading blob URL"),C.href=b,C.download=k,document.body.appendChild(C),C.click(),document.body.removeChild(C);else if(b.startsWith("https://firebasestorage.googleapis.com")){console.log("Downloading from Firebase Storage");try{const T=g(b);$n(kn(Sn,T)).then(S=>{console.log("Firebase download URL:",S),fetch(S).then(E=>{if(!E.ok)throw new Error("Network response was not ok.");return E.blob()}).then(E=>{console.log("Blob:",E);const I=window.URL.createObjectURL(E);console.log("Blob URL:",I),C.href=I,C.download=k,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(I)}).catch(E=>{console.error("Error fetching file:",E)})}).catch(S=>{console.error("Error getting download URL from Firebase:",S)})}catch(T){console.error("Error converting Firebase URL:",T)}}else console.log("Downloading from other URL"),C.href=b,C.download=k,document.body.appendChild(C),C.click(),document.body.removeChild(C)};return c.jsx(c.Fragment,{children:t&&c.jsxs(Le.div,{className:Tn["viewer-area"],initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[c.jsxs("div",{className:Tn["viewer-actions"],children:[c.jsx("button",{className:`${Tn["viewer-button"]} ${Tn.download}`,onClick:w,children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1C8.5 0.447715 8.05228 2.41411e-08 7.5 0C6.94772 -2.41411e-08 6.5 0.447715 6.5 1L8.5 1ZM6.79289 14.435C7.18342 14.8256 7.81658 14.8256 8.20711 14.435L14.5711 8.07107C14.9616 7.68054 14.9616 7.04738 14.5711 6.65685C14.1805 6.26633 13.5474 6.26633 13.1569 6.65685L7.5 12.3137L1.84315 6.65685C1.45262 6.26633 0.819456 6.26633 0.428932 6.65685C0.0384075 7.04738 0.0384075 7.68054 0.428932 8.07107L6.79289 14.435ZM6.5 1L6.5 13.7279L8.5 13.7279L8.5 1L6.5 1Z",fill:o.text_first_color})})}),c.jsx("button",{className:`${Tn["viewer-button"]} ${Tn.close}`,onClick:r,children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:o.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]}),c.jsxs("div",{className:Tn["image-wrapper"],children:[u.length>1&&c.jsx("button",{className:Tn["prev-button"],onClick:v,children:c.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.3638 6.36395C14.9161 6.36395 15.3638 6.81167 15.3638 7.36395C15.3638 7.91624 14.9161 8.36395 14.3638 8.36395L14.3638 6.36395ZM0.92874 8.07106C0.538216 7.68053 0.538216 7.04737 0.92874 6.65684L7.2927 0.292884C7.68323 -0.0976401 8.31639 -0.09764 8.70692 0.292884C9.09744 0.683409 9.09744 1.31657 8.70692 1.7071L3.05006 7.36395L8.70691 13.0208C9.09744 13.4113 9.09744 14.0445 8.70691 14.435C8.31639 14.8255 7.68322 14.8255 7.2927 14.435L0.92874 8.07106ZM14.3638 8.36395L1.63585 8.36395L1.63585 6.36395L14.3638 6.36395L14.3638 8.36395Z",fill:o.text_first_color})})}),u.length>0&&c.jsx(Le.div,{className:Tn["image-view"],style:{x:p,originX:.5,originY:.5},drag:"x",dragConstraints:{left:0,right:0},onDragStart:x,onDragEnd:y,children:c.jsxs("div",{className:Tn["image-view-bg"],children:[c.jsx("div",{className:Tn["image-no-select"]}),c.jsx(Le.img,{layoutId:`image-${s}-${n}`,src:u[a],layout:!0,transition:{type:"spring",stiffness:180,damping:16},className:Tn["your-image-style"]},u[a])]})}),u.length>1&&c.jsx("button",{className:Tn["next-button"],onClick:_,children:c.jsx("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9C0.447715 9 0 8.55228 0 8C0 7.44772 0.447715 7 1 7L1 9ZM14.435 7.29289C14.8256 7.68342 14.8256 8.31658 14.435 8.70711L8.07107 15.0711C7.68054 15.4616 7.04738 15.4616 6.65685 15.0711C6.26633 14.6805 6.26633 14.0474 6.65685 13.6569L12.3137 8L6.65685 2.34315C6.26633 1.95262 6.26633 1.31946 6.65685 0.928932C7.04738 0.538408 7.68054 0.538408 8.07107 0.928932L14.435 7.29289ZM1 7L13.7279 7V9L1 9L1 7Z",fill:o.text_first_color})})})]})]})})}function tW(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),[s,o]=f.useState(""),[i,a]=f.useState({}),[l,u]=f.useState(),{authUser:d}=ce();f.useRef(null);const h=f.useRef(null),[m,p]=f.useState(!1),[_,v]=f.useState(!0);f.useEffect(()=>{v(Object.keys(i).length===0)},[i]);const[x,y]=f.useState({isShow:!1,images:[],index:null}),g=ie();f.useEffect(()=>{h.current&&window.scrollTo(0,1e6)},[i]),f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>g("/menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[B]),f.useEffect(()=>{const k=Jn(hs(Xt(H,"users",d._id,"messages"),gi("timestamp","asc")),T=>{const S={};T.forEach(E=>{const I=E.data(),R=new Date(I.timestamp),P=I.isUser,O=R.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});S[O]||(S[O]=[]);const A={...I,isUser:P,userName:d.name};S[O].push(A)}),a(S)});return()=>{k()}},[]);const w=async(k,T)=>{try{const S=new Date().toISOString();await em(Xt(H,"users",d._id,"messages"),{text:k.text,timestamp:S,isUser:T,userName:d.name,photos:k.images}),console.log("Message saved successfully.")}catch(S){console.error("Error adding document: ",S)}},b=async(k,T)=>{try{const S=new Date().toISOString();let E=[];for(const A of T){const $=kn(Sn,`messenger_photos/${d._id}/${S}_${A.name}`);await mr($,A);const M=await $n($);E.push(M)}await w({text:k,images:E},!0),u(!0);const[R,P]=await Kq(k,T);await w({text:R,images:[]},P),u(!1)}catch(S){console.error("Error handling send: ",S),u(!1)}finally{u(!1)}},C=(k,T)=>{y({isShow:!0,images:k,index:T})};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Ze["background-cover"],style:{background:t.background_color},children:c.jsx(pu,{addFiles:!0,placeholder:"",isPanelTop:!1,onSend:b})}),c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),c.jsxs("div",{className:Ze.container,children:[c.jsx($r,{isShow:x.isShow,images:x.images,index:x.index,onClose:()=>y({isShow:!1})}),c.jsxs("div",{className:Ze["messages-container"],ref:h,style:{background:t.background_color},children:[_?c.jsxs("div",{className:Ze.greeting,children:[c.jsxs("div",{className:Ze["greeting-title"],style:{background:`linear-gradient(90deg,${t.gradient_first_color} 0%,${t.gradient_second_color} 50%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[", ",d.name,"!"]}),c.jsx("div",{className:Ze["greeting-text"],style:{color:t.text_second_color},children:"   ?"})]}):Object.keys(i).map(k=>c.jsx(qq,{date:k,messages:i[k],textColor:t.text_first_color,backgroundColor:t.element_first_color,photoClick:C},k)),l&&c.jsx(Wq,{textColor:t.text_first_color},"loading")]})]})]})}const nW="_container_r65pq_1",rW="_week_r65pq_11",sW="_day_r65pq_20",oW="_edit_r65pq_92",iW="_circle_r65pq_121",aW="_button_r65pq_131",Ne={container:nW,week:rW,day:sW,"day-date":"_day-date_r65pq_35","lessons-container":"_lessons-container_r65pq_40","lesson-body":"_lesson-body_r65pq_49","lesson-circle":"_lesson-circle_r65pq_60","lesson-name":"_lesson-name_r65pq_69","lesson-time":"_lesson-time_r65pq_74","lesson-room":"_lesson-room_r65pq_79","info-body":"_info-body_r65pq_85",edit:oW,"add-body":"_add-body_r65pq_112",circle:iW,button:aW};function lW({color:t,backgroundColor:e,textColor:n,lessonName:r,lessonTimeStart:s,lessonTimeEnd:o,lessonRoom:i,arrowColor:a}){const{theme:l,elementColors:u,setElementColors:d}=f.useContext(B),[h,m]=f.useState("var(--first-color)"),[p,_]=f.useState("var(--text-first-color)");return c.jsxs("div",{className:Ne["lesson-body"],style:{background:e},children:[c.jsx("circle",{className:Ne["lesson-circle"],style:{background:t},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.29289 10.7071C9.68342 11.0976 10.3166 11.0976 10.7071 10.7071C11.0976 10.3166 11.0976 9.68342 10.7071 9.29289L9.29289 10.7071ZM1 4.72575e-08C0.447715 -3.74211e-07 -3.74211e-07 0.447715 4.72575e-08 1L-1.63477e-07 10C-1.63477e-07 10.5523 0.447715 11 1 11C1.55228 11 2 10.5523 2 10L2 2L10 2C10.5523 2 11 1.55228 11 1C11 0.447715 10.5523 -1.63477e-07 10 -1.63477e-07L1 4.72575e-08ZM10.7071 9.29289L1.70711 0.292893L0.292893 1.70711L9.29289 10.7071L10.7071 9.29289Z",fill:a})})}),c.jsxs("div",{className:Ne["lesson-info"],children:[c.jsx("div",{className:Ne["lesson-name"],style:{color:n},children:r}),c.jsx("div",{className:Ne["lesson-time"],style:{color:n},children:`${s} - ${o}`})]}),c.jsx("div",{className:Ne["lesson-room"],style:{color:n},children:i})]})}const cW="_area_1d870_1",uW="_body_1d870_14",dW="_header_1d870_21",hW="_line_1d870_30",fW="_title_1d870_35",mW="_close_1d870_40",pW="_border_1d870_59",gW="_circle_1d870_71",_W="_text_1d870_80",yW="_progress_1d870_119",Pe={area:cW,body:uW,header:dW,line:hW,title:fW,close:mW,"add-area":"_add-area_1d870_51",border:pW,circle:gW,text:_W,"file-body":"_file-body_1d870_85","file-wrapper":"_file-wrapper_1d870_96","remove-button":"_remove-button_1d870_104","file-info":"_file-info_1d870_109","progress-bar":"_progress-bar_1d870_119",progress:yW,"input-container":"_input-container_1d870_128","input-body":"_input-body_1d870_136","error-container":"_error-container_1d870_154","color-container":"_color-container_1d870_164","circles-container":"_circles-container_1d870_174","color-circle":"_color-circle_1d870_184","active-circle":"_active-circle_1d870_194","button-container":"_button-container_1d870_201","main-button":"_main-button_1d870_209"},vi=[{name:"default",colors:["#0040F9","#C3F82B","#FF4365"]},{name:"genery",colors:["linear-gradient(75deg, #2400FF 0%, #00C2FF 80%)","linear-gradient(75deg, #C3F82B 0%, #00FF66 80%)","linear-gradient(75deg, #FF4365 0%, #AD00FF 80%)"]},{name:"kyrgyzstan",colors:["#E3010F","#FEF400"]},{name:"winter_2024",colors:["#CBE0FF","#85AFED"]},{name:"simple_light",colors:["#E8E8E8","#000000"]},{name:"material_ui",colors:["#97C5E7","#D297E7","#A2E797"]}];function vW({id:t,isShow:e,close:n}){const{theme:r,elementColors:s,setElementColors:o}=f.useContext(B),[i,a]=f.useState([]),{authUser:l}=ce(),[u,d]=f.useState(r.first_color),[h,m]=f.useState(""),[p,_]=f.useState(),[v,x]=f.useState(!1),[y,g]=f.useState(0),[w,b]=f.useState({isShow:!1,text:""}),[C,k]=f.useState({isShow:!1,text:""}),T={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};f.useEffect(()=>{(async()=>{if(l&&l._id){const M=G(H,"users",l._id,"info","preferences"),j=await se(M);if(j.exists()){const N=j.data();a(L=>[...L,...N.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[l]);const S=i?vi.filter($=>i.includes($.name)):[],E=async()=>{if(h.length<3){b({isShow:!0,text:"    3 "});return}else b({isShow:!1,text:""});if(p)k({isShow:!1,text:""});else{k({isShow:!0,text:" "});return}x(!0);try{const $=kn(Sn,`groups_files/${t}/${p.name}`);try{await SM($),k({isShow:!0,text:"     "}),x(!1);return}catch(j){if(j.code==="storage/object-not-found")console.log("File does not exist, proceeding with upload.");else{console.error("Error checking file existence:",j),k({isShow:!0,text:"    "}),x(!1);return}}const M=kM($,p);M.on("state_changed",j=>{const N=j.bytesTransferred/j.totalBytes*100;g(N)},j=>{console.error("Error uploading file:",j),k({isShow:!0,text:"   "}),x(!1)},async()=>{const j=await $n(M.snapshot.ref),N={color:u,link:j,name:h},L=G(H,"groups",t,"info","downloads"),D=await se(L);let F=[];D.exists()&&(F=D.data().files||[]),F.push(N),await Ge(L,{files:F},{merge:!0}),x(!1),m(""),_(null),d(r.first_color),n()})}catch($){console.error("Error uploading file:",$),k({isShow:!0,text:"   "}),x(!1)}finally{m(""),_(null),d(r.first_color)}},I=$=>{_($.target.files[0])},R=()=>{document.getElementById("fileInput").click()},P=()=>{_(null)},O=()=>{m(""),_(null),d(r.first_color),n()};function A($){if(!$)return!1;let M,j,N;if($.startsWith("#"))if($.length===4)M=parseInt($[1]+$[1],16),j=parseInt($[2]+$[2],16),N=parseInt($[3]+$[3],16);else if($.length===7)M=parseInt($.slice(1,3),16),j=parseInt($.slice(3,5),16),N=parseInt($.slice(5,7),16);else return!1;else if($.startsWith("rgb")){const D=$.substring($.indexOf("(")+1,$.lastIndexOf(")")).split(",").map(Number);if(D.length===3)M=D[0],j=D[1],N=D[2];else return!1}else{const D=document.createElement("div");D.style.color=$,document.body.appendChild(D);const F=window.getComputedStyle(D).color;if(document.body.removeChild(D),F.startsWith("rgb")){const V=F.substring(F.indexOf("(")+1,F.lastIndexOf(")")).split(",").map(Number);if(V.length===3)M=V[0],j=V[1],N=V[2];else return!1}else return!1}return(M*299+j*587+N*114)/1e3>180}return c.jsx(Le.div,{className:Pe.area,animate:e?"open":"closed",variants:T,transition:{duration:.1},children:c.jsxs(Le.section,{className:Pe.body,style:{background:r.element_first_color},animate:e?"show":"hidden",variants:T,transition:{duration:.5},children:[c.jsxs("header",{className:Pe.header,children:[c.jsx("div",{className:Pe.title,style:{color:r.text_third_color},children:" "}),c.jsx("button",{className:Pe.close,style:{background:r.element_second_color},onClick:O,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})})]}),c.jsx("line",{className:Pe.line,style:{background:r.element_second_color}}),c.jsxs("div",{className:Pe["add-area"],children:[p?c.jsxs("div",{className:Pe["file-body"],style:{border:`1px solid ${r.element_second_color}`},children:[c.jsxs("div",{className:Pe["file-wrapper"],children:[c.jsx("button",{className:Pe["remove-button"],style:{background:r.element_second_color,color:r.text_first_color,border:"none",borderRadius:"3px",cursor:"pointer"},onClick:P,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})}),c.jsxs("div",{className:Pe["file-info"],style:{color:r.text_first_color},children:[c.jsx("div",{children:p.name}),c.jsxs("div",{children:[(p.size/(1024*1024)).toFixed(2)," MB"]})]})]}),v&&c.jsx("div",{className:Pe["progress-bar"],style:{background:r.element_second_color},children:c.jsx("div",{className:Pe.progress,style:{background:r.first_color,width:`${y}%`}})})]}):c.jsxs("div",{className:Pe.border,style:{border:`1px solid ${r.element_second_color}`},onClick:R,children:[c.jsx("div",{className:Pe.circle,style:{background:r.element_second_color},children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 1.5L9 9M9 16.5L9 9M9 9L16.5 9M9 9L1.5 9",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})})}),c.jsx("div",{className:Pe.text,style:{color:r.text_third_color},children:"    300"})]}),c.jsx("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:I})]}),C.isShow&&c.jsx("div",{className:Pe["error-container"],style:{color:r.text_first_color},children:C.text}),c.jsx("div",{className:Pe["input-container"],children:c.jsx("input",{className:Pe["input-body"],placeholder:"",style:{background:r.element_second_color,color:r.text_first_color,caretColor:r.first_color,"--placeholder-color":r.text_third_color},value:h,onInput:$=>m($.target.value)})}),w.isShow&&c.jsx("div",{className:Pe["error-container"],style:{color:r.text_first_color},children:w.text}),c.jsxs("div",{className:Pe["color-container"],children:[c.jsx("div",{className:Pe.title,style:{color:r.text_first_color},children:" "}),c.jsx("div",{className:Pe["circles-container"],children:S.map($=>c.jsx(c.Fragment,{children:$.colors.map((M,j)=>c.jsx("div",{className:Pe["color-circle"],style:{background:M},onClick:()=>d(M),children:u===M&&c.jsx("div",{className:Pe["active-circle"],style:{borderColor:A(M)?"#0A0B10":"#fff"}})},j))}))})]}),c.jsx("div",{className:Pe["button-container"],children:c.jsx("button",{className:Pe["main-button"],style:{background:r.first_color,color:r.text_first_color},onClick:E,children:""})})]})})}function wW({color:t,backgroundColor:e,textColor:n,arrowColor:r,lessonName:s,lessonTimeStart:o,lessonTimeEnd:i,lessonRoom:a,onRemove:l}){const{theme:u,elementColors:d,setElementColors:h}=f.useContext(B),[m,p]=f.useState("var(--first-color)"),[_,v]=f.useState("var(--text-first-color)");return c.jsxs("div",{className:Ne["lesson-body"],style:{background:e},children:[c.jsx("circle",{className:Ne["lesson-circle"],style:{background:t},onClick:l,children:c.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.8031 1.1967L6.49984 6.5M1.19654 11.8033L6.49984 6.5M6.49984 6.5L11.8031 11.8033M6.49984 6.5L1.19654 1.1967",stroke:r,"stroke-width":"2","stroke-linecap":"round"})})}),c.jsxs("div",{className:Ne["lesson-info"],children:[c.jsx("div",{className:Ne["lesson-name"],style:{color:n},children:s}),c.jsx("div",{className:Ne["lesson-time"],style:{color:n},children:`${o} - ${i}`})]}),c.jsx("div",{className:Ne["lesson-room"],style:{color:n},children:a})]})}const vs={"notif-area":"_notif-area_gbq6r_1","notif-body":"_notif-body_gbq6r_14","notif-info":"_notif-info_gbq6r_25","notif-title":"_notif-title_gbq6r_34","notif-text":"_notif-text_gbq6r_43","button-container":"_button-container_gbq6r_52","first-button":"_first-button_gbq6r_60","second-button":"_second-button_gbq6r_85"};function wo({title:t,text:e,isShow:n,firstButtonName:r,secondButtonName:s,firstButtonOnClick:o,secondButtonOnClick:i}){const{theme:a,elementColors:l,setElementColors:u}=f.useContext(B),d={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};return c.jsx(Le.div,{className:vs["notif-area"],animate:n?"open":"closed",variants:d,transition:{duration:.1},children:c.jsxs(Le.div,{className:vs["notif-body"],style:{background:a.element_first_color},animate:n?"show":"hidden",variants:d,transition:{duration:.5},children:[c.jsxs("div",{className:vs["notif-info"],children:[c.jsx("div",{className:vs["notif-title"],style:{color:a.text_first_color},children:t}),c.jsx("div",{className:vs["notif-text"],style:{color:a.text_first_color},children:e})]}),c.jsxs("div",{className:vs["button-container"],children:[c.jsx("button",{className:vs["first-button"],style:{background:a.element_second_color,color:a.text_first_color},onClick:o,children:r}),c.jsx("button",{className:vs["second-button"],style:{background:a.first_color,color:a.text_third_color},onClick:i,children:s})]})]})})}const xW="_area_1s5gc_1",CW="_body_1s5gc_14",bW="_header_1s5gc_21",kW="_line_1s5gc_30",SW="_title_1s5gc_35",EW="_close_1s5gc_40",Ve={area:xW,body:CW,header:bW,line:kW,title:SW,close:EW,"input-container":"_input-container_1s5gc_128","input-body":"_input-body_1s5gc_136","time-container":"_time-container_1s5gc_154","input-wrapper":"_input-wrapper_1s5gc_164","error-container":"_error-container_1s5gc_172","color-container":"_color-container_1s5gc_182","circles-container":"_circles-container_1s5gc_192","color-circle":"_color-circle_1s5gc_202","active-circle":"_active-circle_1s5gc_212","button-container":"_button-container_1s5gc_219","main-button":"_main-button_1s5gc_227"};function TW({activeDay:t,id:e,isShow:n,close:r}){const{theme:s,elementColors:o,setElementColors:i}=f.useContext(B),[a,l]=f.useState([]),{authUser:u}=ce(),[d,h]=f.useState(s.first_color),[m,p]=f.useState(""),[_,v]=f.useState(),[x,y]=f.useState(""),[g,w]=f.useState(""),[b,C]=f.useState(""),[k,T]=f.useState([]),[S,E]=f.useState({isShow:!1,text:""}),[I,R]=f.useState({isShow:!1,text:""}),P={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};f.useEffect(()=>{(async()=>{if(u&&u._id){const N=G(H,"users",u._id,"info","preferences"),L=await se(N);if(L.exists()){const D=L.data();l(F=>[...F,...D.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[u]);const O=a?vi.filter(j=>a.includes(j.name)):[],A=async()=>{if(m.length<3){E({isShow:!0,text:"    3 "});return}else E({isShow:!1,text:""});try{const j=G(H,"groups",e,"info","timetable"),N=await se(j);if(N.exists()){const D=N.data().timetable||[],F={name:m,timeStart:x,timeEnd:g,room:b,color:d};D[t]?D[t].lessons.push(F):D[t]={day:"",lessons:[F]},await Ge(j,{timetable:D},{merge:!0}),T(D),p(""),y(""),w(""),C(""),h(s.first_color),r()}else console.log("No such document!"),T([])}catch(j){console.error("Error adding lesson:",j)}finally{p(""),y(""),w(""),C(""),h(s.first_color)}},$=()=>{p(""),v(null),h(s.first_color),r()};function M(j){if(!j)return!1;let N,L,D;if(j.startsWith("#"))if(j.length===4)N=parseInt(j[1]+j[1],16),L=parseInt(j[2]+j[2],16),D=parseInt(j[3]+j[3],16);else if(j.length===7)N=parseInt(j.slice(1,3),16),L=parseInt(j.slice(3,5),16),D=parseInt(j.slice(5,7),16);else return!1;else if(j.startsWith("rgb")){const V=j.substring(j.indexOf("(")+1,j.lastIndexOf(")")).split(",").map(Number);if(V.length===3)N=V[0],L=V[1],D=V[2];else return!1}else{const V=document.createElement("div");V.style.color=j,document.body.appendChild(V);const z=window.getComputedStyle(V).color;if(document.body.removeChild(V),z.startsWith("rgb")){const K=z.substring(z.indexOf("(")+1,z.lastIndexOf(")")).split(",").map(Number);if(K.length===3)N=K[0],L=K[1],D=K[2];else return!1}else return!1}return(N*299+L*587+D*114)/1e3>180}return c.jsx(Le.div,{className:Ve.area,animate:n?"open":"closed",variants:P,transition:{duration:.1},children:c.jsxs(Le.section,{className:Ve.body,style:{background:s.element_first_color},animate:n?"show":"hidden",variants:P,transition:{duration:.5},children:[c.jsxs("header",{className:Ve.header,children:[c.jsx("div",{className:Ve.title,style:{color:s.text_third_color},children:" "}),c.jsx("button",{className:Ve.close,style:{background:s.element_second_color},onClick:$,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:s.text_first_color,"stroke-linecap":"round"})})})]}),c.jsx("line",{className:Ve.line,style:{background:s.element_second_color}}),c.jsx("div",{className:Ve["input-container"],children:c.jsx("input",{className:Ve["input-body"],placeholder:"",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:m,onInput:j=>p(j.target.value)})}),S.isShow&&c.jsx("div",{className:Ve["error-container"],style:{color:s.text_first_color},children:S.text}),c.jsxs("div",{className:Ve["time-container"],children:[c.jsx("div",{className:Ve.title,style:{color:s.text_first_color},children:" "}),c.jsxs("div",{className:Ve["input-wrapper"],children:[c.jsx("input",{className:Ve["input-body"],placeholder:"",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:x,onInput:j=>y(j.target.value)}),c.jsx("line",{className:Ve.line,style:{background:s.element_second_color}}),c.jsx("input",{className:Ve["input-body"],placeholder:"",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:g,onInput:j=>w(j.target.value)})]})]}),c.jsx("div",{className:Ve["input-container"],children:c.jsx("input",{className:Ve["input-body"],placeholder:"",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:b,onInput:j=>C(j.target.value)})}),c.jsxs("div",{className:Ve["color-container"],children:[c.jsx("div",{className:Ve.title,style:{color:s.text_first_color},children:" "}),c.jsx("div",{className:Ve["circles-container"],children:O.map(j=>c.jsx(c.Fragment,{children:j.colors.map((N,L)=>c.jsx("div",{className:Ve["color-circle"],style:{background:N},onClick:()=>h(N),children:d===N&&c.jsx("div",{className:Ve["active-circle"],style:{borderColor:M(N)?"#0A0B10":"#fff"}})},L))}))})]}),c.jsx("div",{className:Ve["button-container"],children:c.jsx("button",{className:Ve["main-button"],style:{background:s.first_color,color:s.text_first_color},onClick:A,children:""})})]})})}const J3=[{day:"",lessons:[]},{day:"",lessons:[]},{day:"",lessons:[]},{day:"",lessons:[]},{day:"",lessons:[]},{day:"",lessons:[]},{day:"",lessons:[]}];function IW({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState([]),[a,l]=f.useState(0),[u,d]=f.useState(),[h,m]=f.useState(),[p,_]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[v,x]=f.useState(),{authUser:y}=ce();ie(),f.useEffect(()=>{(async()=>{try{const S=G(H,"groups",t,"info","info"),E=await se(S);if(E.exists()){const I=E.data();x(I.owner)}else console.error("Group not found")}catch(S){console.error("Error fetching group data:",S)}finally{}})()},[t]);const g=async()=>{if(t)try{const T=G(H,"groups",t,"info","timetable"),S=await se(T);if(S.exists()){const E=S.data();i(E.timetable),console.log(E.timetable)}else console.log("No such document! Creating a new one with initial data."),await Ge(T,{timetable:J3}),i(J3)}catch(T){console.error("Error fetching group data:",T),i([])}else console.error("ID   "),i([])};f.useEffect(()=>{g()},[t]),f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:()=>e(),isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[B]);const w=(T,S)=>{const E=[...o];E[T].lessons.splice(S,1),i(E);const I=G(H,"groups",t,"info","timetable");Ge(I,{timetable:E},{merge:!0})},b=async()=>{await g(),m(!1)};function C(T){if(!T)return!1;let S,E,I;if(T.startsWith("#"))if(T.length===4)S=parseInt(T[1]+T[1],16),E=parseInt(T[2]+T[2],16),I=parseInt(T[3]+T[3],16);else if(T.length===7)S=parseInt(T.slice(1,3),16),E=parseInt(T.slice(3,5),16),I=parseInt(T.slice(5,7),16);else return!1;else if(T.startsWith("rgb")){const P=T.substring(T.indexOf("(")+1,T.lastIndexOf(")")).split(",").map(Number);if(P.length===3)S=P[0],E=P[1],I=P[2];else return!1}else{const P=document.createElement("div");P.style.color=T,document.body.appendChild(P);const O=window.getComputedStyle(P).color;if(document.body.removeChild(P),O.startsWith("rgb")){const A=O.substring(O.indexOf("(")+1,O.lastIndexOf(")")).split(",").map(Number);if(A.length===3)S=A[0],E=A[1],I=A[2];else return!1}else return!1}return(S*299+E*587+I*114)/1e3>180}const k=T=>{const S=new Date,E=S.getDay(),I=E===0?6:E-1,R=T-I,P=new Date(S);return P.setDate(S.getDate()+R),P.toLocaleDateString("ru-RU",{day:"numeric"})};return c.jsxs(c.Fragment,{children:[c.jsx(wo,{title:p.title,text:p.text,isShow:p.isShow,firstButtonName:p.firstButtonName,secondButtonName:p.secondButtonName,firstButtonOnClick:p.firstButtonOnClick,secondButtonOnClick:p.secondButtonOnClick}),c.jsx(TW,{activeDay:a,id:t,isShow:h,close:b}),c.jsx("div",{className:Ne.week,children:o&&o.length>0&&o.map((T,S)=>c.jsxs("div",{onClick:()=>l(S),className:`${Ne.day} ${a===S?Ne.active:""}`,style:{background:a===S?n.first_color:n.element_first_color,color:a===S?n.text_third_color:n.text_first_color},children:[T.day,c.jsx("div",{className:Ne["day-date"],children:k(S)})]},S))}),c.jsxs("div",{className:Ne["lessons-container"],children:[o&&o.length>0&&o[a]&&c.jsxs(c.Fragment,{children:[o[a].lessons.map((T,S)=>c.jsx(wW,{color:T.color,backgroundColor:n.element_first_color,circleBackgroundColor:n.first_color,arrowColor:C(T.color)?"#0A0B10":"#fff",textColor:n.text_first_color,lessonName:T.name,lessonTimeStart:T.timeStart,lessonTimeEnd:T.timeEnd,lessonRoom:T.room,onRemove:()=>w(a,S)},S)),c.jsx("div",{className:Ne["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>m(!0),children:c.jsx("div",{className:Ne.circle,style:{background:n.element_first_color},children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})})]}),c.jsx("button",{className:Ne.button,style:{background:n.first_color,color:n.text_third_color},onClick:e,children:""})]})]})}function NW(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),{id:r}=Vn(),[s,o]=f.useState(),[i,a]=f.useState([]),[l,u]=f.useState(),{authUser:d}=ce(),h=ie(),[m,p]=f.useState(!1);f.useEffect(()=>{const w=new Date().getDay(),b=w===0?6:w-1;i&&i.length>0&&i[b]?o(b):i&&i.length>0&&o(0)},[i]),f.useEffect(()=>{(async()=>{try{const b=G(H,"groups",r,"info","info"),C=await se(b);if(C.exists()){const k=C.data();u(k.owner)}else console.error("Group not found")}catch(b){console.error("Error fetching group data:",b)}finally{}})()},[r]);const _=async()=>{if(r)try{const w=G(H,"groups",r,"info","timetable"),b=await se(w);if(b.exists()){const C=b.data();a(C.timetable),console.log(C.timetable)}else console.log("No such document!"),a([])}catch(w){console.error("Error fetching group data:",w),a([])}else console.error("ID   "),a([])};f.useEffect(()=>{_()},[r]),f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${r}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[B]);const v=()=>{p(!0)},x=async()=>{p(!1),await _()};function y(w){if(!w)return!1;let b,C,k;if(w.startsWith("#"))if(w.length===4)b=parseInt(w[1]+w[1],16),C=parseInt(w[2]+w[2],16),k=parseInt(w[3]+w[3],16);else if(w.length===7)b=parseInt(w.slice(1,3),16),C=parseInt(w.slice(3,5),16),k=parseInt(w.slice(5,7),16);else return!1;else if(w.startsWith("rgb")){const S=w.substring(w.indexOf("(")+1,w.lastIndexOf(")")).split(",").map(Number);if(S.length===3)b=S[0],C=S[1],k=S[2];else return!1}else{const S=document.createElement("div");S.style.color=w,document.body.appendChild(S);const E=window.getComputedStyle(S).color;if(document.body.removeChild(S),E.startsWith("rgb")){const I=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(I.length===3)b=I[0],C=I[1],k=I[2];else return!1}else return!1}return(b*299+C*587+k*114)/1e3>180}const g=w=>{const b=new Date,C=b.getDay(),k=C===0?6:C-1,T=w-k,S=new Date(b);return S.setDate(b.getDate()+T),S.toLocaleDateString("ru-RU",{day:"numeric"})};return c.jsx("div",{className:Ne.container,children:m?c.jsx(IW,{id:r,handleEdit:x}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Ne.week,children:i&&i.length>0&&i.map((w,b)=>c.jsxs("div",{onClick:()=>o(b),className:`${Ne.day} ${s===b?Ne.active:""}`,style:{background:s===b?t.first_color:t.element_first_color,color:s===b?t.text_third_color:t.text_first_color},children:[w.day,c.jsx("div",{className:Ne["day-date"],children:g(b)})]},b))}),c.jsx("div",{className:Ne["lessons-container"],children:i&&i.length>0&&i[s]?i[s].lessons.map((w,b)=>c.jsx(lW,{color:w.color,backgroundColor:t.element_first_color,circleBackgroundColor:t.first_color,arrowColor:y(w.color)?"#0A0B10":"#fff",textColor:t.text_first_color,lessonName:w.name,lessonTimeStart:w.timeStart,lessonTimeEnd:w.timeEnd,lessonRoom:w.room},b)):c.jsx("div",{className:Ne["info-body"],style:{color:t.text_first_color},children:"   ..."})}),l&&l===d._id&&c.jsx("button",{className:Ne.edit,style:{background:t.first_color},onClick:v,children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_third_color})})})]})})}const jW="_container_1ue5g_1",Ds={container:jW,"category-name":"_category-name_1ue5g_12","contact-category":"_contact-category_1ue5g_17","category-container":"_category-container_1ue5g_23","item-body":"_item-body_1ue5g_30","item-icon":"_item-icon_1ue5g_43","item-name":"_item-name_1ue5g_51","item-info":"_item-info_1ue5g_56","item-circle":"_item-circle_1ue5g_64"},PW=[{category:"",items:[{name:"",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 21V27.6667C31 28.5507 30.6488 29.3986 30.0237 30.0237C29.3986 30.6488 28.5507 31 27.6667 31H4.33333C3.44928 31 2.60143 30.6488 1.97631 30.0237C1.35119 29.3986 1 28.5507 1 27.6667V21M7.66667 12.6667L16 21M16 21L24.3333 12.6667M16 21V1" stroke="{theme.text_first_color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"/downloads",category:"second"},{name:"",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 31C24.2845 31 31 24.2845 31 16C31 7.7155 24.2845 1 16 1C7.7155 1 1 7.7155 1 16C1 24.2845 7.7155 31 16 31Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linejoin="round"/>
                        <path d="M16.0059 7V16.0075L22.3651 22.3675" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
            `,link:"/timetable",category:"first"},{name:"",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 27C1 24.8783 1.73974 22.8434 3.05648 21.3431C4.37323 19.8429 6.15912 19 8.02128 19H23.9787C25.8409 19 27.6268 19.8429 28.9435 21.3431C30.2603 22.8434 31 24.8783 31 27C31 28.0609 30.6301 29.0783 29.9718 29.8284C29.3134 30.5786 28.4204 31 27.4894 31H4.51064C3.57956 31 2.68661 30.5786 2.02824 29.8284C1.36987 29.0783 1 28.0609 1 27Z" stroke="{theme.text_first_color}" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M16 13C19.3137 13 22 10.3137 22 7C22 3.68629 19.3137 1 16 1C12.6863 1 10 3.68629 10 7C10 10.3137 12.6863 13 16 13Z" stroke="{theme.text_first_color}" stroke-width="2"/>
                    </svg>
            `,link:"/profile",category:"first"}]},{category:"",items:[{name:"",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.196 28.804C5.395 31 8.929 31 16 31C23.071 31 26.6065 31 28.8025 28.8025C31 26.608 31 23.071 31 16C31 8.929 31 5.3935 28.8025 3.196C26.608 1 23.071 1 16 1C8.929 1 5.3935 1 3.196 3.196C1 5.395 1 8.929 1 16C1 23.071 1 26.608 3.196 28.804Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                        <path d="M25 10.75H19M25 19.75H19M25 24.25H19M13 10.75H10M10 10.75H7M10 10.75V7.75M10 10.75V13.75M12.25 19.75L10 22M10 22L7.75 24.25M10 22L7.75 19.75M10 22L12.25 24.25" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>`,link:"/cashback",category:"third"},{name:"Goosling",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 31L23.7617 23.7617M23.7617 23.7617C24.9999 22.5236 25.982 21.0537 26.6521 19.436C27.3222 17.8183 27.667 16.0845 27.667 14.3335C27.667 12.5825 27.3222 10.8487 26.6521 9.23101C25.982 7.61331 24.9999 6.14343 23.7617 4.9053C22.5236 3.66717 21.0537 2.68503 19.436 2.01495C17.8183 1.34488 16.0845 1 14.3335 1C12.5825 1 10.8487 1.34488 9.23101 2.01495C7.61331 2.68503 6.14343 3.66717 4.9053 4.9053C2.40478 7.40582 1 10.7973 1 14.3335C1 17.8698 2.40478 21.2612 4.9053 23.7617C7.40582 26.2623 10.7973 27.667 14.3335 27.667C17.8698 27.667 21.2612 26.2623 23.7617 23.7617Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"https://ridgeld.github.io/causegenerator.github.io/rayn_gosling.html",category:"first"}]},{category:"",items:[{name:"Telegram",icon:`<svg width="36" height="30" viewBox="0 0 36 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M32.271 0.205239C32.7136 0.0235109 33.1981 -0.039166 33.674 0.0237315C34.1499 0.086629 34.5998 0.272802 34.9769 0.562873C35.354 0.852943 35.6445 1.23631 35.8182 1.67306C35.9918 2.10982 36.0423 2.584 35.9644 3.04625L31.902 27.083C31.508 29.4016 28.9001 30.7312 26.7202 29.5763C24.8968 28.6101 22.1886 27.1214 19.7526 25.5681C18.5347 24.7906 14.8037 22.3008 15.2622 20.5291C15.6563 19.0142 21.9253 13.3217 25.5076 9.93735C26.9137 8.6077 26.2724 7.84066 24.612 9.06373C20.487 12.1004 13.8687 16.7184 11.6799 18.0183C9.74905 19.1645 8.74242 19.3602 7.53876 19.1645C5.34281 18.8081 3.30627 18.2559 1.64408 17.5833C-0.602028 16.6747 -0.492768 13.6625 1.64229 12.7853L32.271 0.205239Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://t.me/genery_dm",category:"contact"},{name:"Vk",icon:`<svg width="36" height="21" viewBox="0 0 36 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M34.5534 20.9983H30.6117C29.121 20.9983 28.6719 19.8127 25.9997 17.1872C23.6644 14.9772 22.678 14.7024 22.0873 14.7024C21.2703 14.7024 21.0475 14.9229 21.0475 16.027V19.5074C21.0475 20.4488 20.7365 21 18.2319 21C15.8021 20.8397 13.4458 20.1149 11.3571 18.8852C9.26844 17.6556 7.50717 15.9563 6.21837 13.9273C3.15822 10.1874 1.02898 5.79801 0 1.10816C0 0.528092 0.224552 0.00230128 1.35077 0.00230128H5.28907C6.30128 0.00230128 6.66575 0.444983 7.06303 1.46773C8.97518 6.99362 12.2381 11.8004 13.563 11.8004C14.0708 11.8004 14.2919 11.5799 14.2919 10.3366V4.64452C14.1243 2.0478 12.72 1.829 12.72 0.889361C12.7378 0.641461 12.8533 0.410126 13.0419 0.244493C13.2306 0.0788594 13.4776 -0.00802255 13.7305 0.00230128H19.9212C20.7676 0.00230128 21.0475 0.416149 21.0475 1.41006V9.09339C21.0475 9.92278 21.4102 10.1975 21.6658 10.1975C22.1737 10.1975 22.564 9.92278 23.4951 9.01028C25.4907 6.62045 27.1212 3.95789 28.335 1.10646C28.4593 0.764109 28.6942 0.47106 29.0039 0.27201C29.3135 0.0729603 29.681 -0.021163 30.0503 0.00399725H33.9903C35.1718 0.00399725 35.4223 0.584064 35.1718 1.41176C33.7388 4.56382 31.9656 7.55588 29.8827 10.3366C29.4578 10.9727 29.2885 11.3034 29.8827 12.0497C30.2731 12.6298 31.655 13.7627 32.5825 14.8398C33.9333 16.1627 35.0543 17.6926 35.9025 19.3684C36.241 20.4471 35.6779 20.9983 34.5534 20.9983Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://vk.com/generatordm",category:"contact"},{name:"X",icon:`<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.2786 12.7995L28.1143 0H23.7243L16.2171 9.7755L9.55714 0H0L11.1514 16.365L0.671429 30H5.06286L13.2129 19.395L20.4429 30H30L18.2786 12.7995ZM14.8786 17.2245L12.8143 14.196L4.8 2.4405H8.1L14.5686 11.916L16.63 14.946L25.2271 27.5595H21.9271L14.8786 17.2245Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://x.com/GeneryDM",category:"contact"}]}];function LW({name:t,textColor:e,icon:n,link:r,category:s}){const{theme:o,setThemeById:i,elementColors:a,setElementColors:l}=f.useContext(B),[u,d]=f.useState(o.text_first_color),[h,m]=f.useState(o.first_color),[p,_]=f.useState(o.text_first_color),v=ie(),{authUser:x}=ce(),y=b=>{if(b.includes("https:"))window.location.href=b;else{if(b==="/timetable"){v(`/timetable/${x.mainGroup}`);return}if(b==="/downloads"){v(`/download/${x.mainGroup}`);return}v(b)}},g={first:{circle:o.first_color,icon:o.text_third_color},second:{circle:o.second_color,icon:o.text_second_color},third:{circle:o.third_color,icon:o.text_first_color},contact:{circle:o.element_first_color,icon:o.text_first_color}};f.useEffect(()=>{s in g?(m(g[s].circle),_(g[s].icon)):(m(o.first_color),_(o.second_color))},[s]);const w=n.replace(/{theme.text_first_color}/g,o.text_first_color);return c.jsxs("div",{className:Ds["item-body"],style:{border:`2px solid ${o.element_first_color}`},onClick:()=>y(r),children:[c.jsxs("div",{className:Ds["item-info"],children:[c.jsx("div",{className:Ds["item-icon"],children:Or(w)}),c.jsx("div",{className:Ds["item-name"],style:{color:e},children:t})]}),c.jsx("div",{className:Ds["item-circle"],style:{background:h},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:p})})})]})}function AW(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B);return f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[t]),c.jsxs("div",{className:Ds.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),PW.map((s,o)=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Ds[`${s.category===""?"contact-category":"category-name"}`],style:{color:t.text_first_color},children:s.category},o),c.jsx("div",{className:Ds["category-container"],children:s.items.map((i,a)=>c.jsx(LW,{name:i.name,textColor:t.text_first_color,category:i.category,icon:i.icon,link:i.link},a))})]}))]})}const RW="_container_1bu2z_2",DW="_hashtags_1bu2z_182",OW="_comment_1bu2z_249",MW="_image_0_1bu2z_558",$W="_image_1_1bu2z_574",FW="_image_2_1bu2z_590",BW="_image_3_1bu2z_605",UW="_image_4_1bu2z_621",VW="_emoji_1bu2z_637",zW="_imageWrapper_1bu2z_647",HW="_motionWrapper_1bu2z_655",de={container:RW,"fixed-post-input":"_fixed-post-input_1bu2z_14","post-body":"_post-body_1bu2z_23","fixed-post":"_fixed-post_1bu2z_14","post-body-empty":"_post-body-empty_1bu2z_43","post-info":"_post-info_1bu2z_53","post-author":"_post-author_1bu2z_62","author-photo":"_author-photo_1bu2z_70","author-photo-empty":"_author-photo-empty_1bu2z_86","author-name":"_author-name_1bu2z_96","author-name-empty":"_author-name-empty_1bu2z_102","post-delete":"_post-delete_1bu2z_109","post-more":"_post-more_1bu2z_118","post-date":"_post-date_1bu2z_125","post-data":"_post-data_1bu2z_135","post-photo":"_post-photo_1bu2z_145","post-text":"_post-text_1bu2z_157","post-text-empty":"_post-text-empty_1bu2z_171",hashtags:DW,"post-buttons":"_post-buttons_1bu2z_186","post-actions":"_post-actions_1bu2z_193","action-like":"_action-like_1bu2z_202","action-comment":"_action-comment_1bu2z_221","action-send":"_action-send_1bu2z_235","comments-container":"_comments-container_1bu2z_249","comments-container-preview":"_comments-container-preview_1bu2z_261","fixed-input":"_fixed-input_1bu2z_267",comment:OW,"author-info":"_author-info_1bu2z_284","comment-text":"_comment-text_1bu2z_292","comment-actions":"_comment-actions_1bu2z_297","answer-button":"_answer-button_1bu2z_305","replies-container":"_replies-container_1bu2z_314","show-answers":"_show-answers_1bu2z_321","input-container":"_input-container_1bu2z_334","message-action":"_message-action_1bu2z_346","add-file":"_add-file_1bu2z_354","input-body":"_input-body_1bu2z_373","image-preview":"_image-preview_1bu2z_383","remove-image":"_remove-image_1bu2z_396","input-component":"_input-component_1bu2z_415","smile-button":"_smile-button_1bu2z_426","input-message":"_input-message_1bu2z_447","send-button":"_send-button_1bu2z_466","images-body":"_images-body_1bu2z_485","images-wrapper_1":"_images-wrapper_1_1bu2z_489","images-wrapper_2":"_images-wrapper_2_1bu2z_503","images-wrapper_3":"_images-wrapper_3_1bu2z_516","images-wrapper_4":"_images-wrapper_4_1bu2z_530","images-wrapper_5":"_images-wrapper_5_1bu2z_544",image_0:MW,image_1:$W,image_2:FW,image_3:BW,image_4:UW,emoji:VW,imageWrapper:zW,motionWrapper:HW},qW="_body_unqzg_1",dl={body:qW,"item-body":"_item-body_unqzg_17","item-info":"_item-info_unqzg_28","item-icon":"_item-icon_unqzg_35","item-name":"_item-name_unqzg_44"},WW=[{name:"",icon:`
            <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 6V16H3V6H11ZM9.5 0H4.5L3.5 1H0V3H14V1H10.5L9.5 0ZM13 4H1V16C1 17.1 1.9 18 3 18H11C12.1 18 13 17.1 13 16V4Z" fill="{theme.text_first_color}"/>
            </svg>
        `,borderRadius:"15px",id:"delete"}];function B6({isShow:t,onClick:e}){const{theme:n,setElementColors:r}=f.useContext(B),s=i=>{e(i)},o={open:{opacity:1,scale:1},closed:{opacity:0,scale:0}};return c.jsx(Le.div,{className:dl.body,animate:t?"open":"closed",variants:o,transition:{duration:.1},style:{background:n.element_second_color,boxShadow:`0 5px 10px 5px ${n.shadow_color}`},children:WW.map((i,a)=>{const l=i.icon.replace(/{theme.text_first_color}/g,n.text_first_color);return c.jsx("div",{className:dl["item-body"],onClick:()=>s(i.id),onMouseEnter:u=>{u.currentTarget.style.background=n.active_element_color},onMouseLeave:u=>{u.currentTarget.style.background="none"},children:c.jsxs("div",{className:dl["item-info"],children:[c.jsx("div",{className:dl["item-icon"],children:Or(l)}),c.jsx("div",{className:dl["item-name"],style:{color:n.text_first_color},children:i.name})]})},a)})})}const In={"comment-wrapper":"_comment-wrapper_le8s3_2","comment-info":"_comment-info_le8s3_9","post-delete":"_post-delete_le8s3_15","post-more":"_post-more_le8s3_24","author-info":"_author-info_le8s3_31","author-photo":"_author-photo_le8s3_39","author-name":"_author-name_le8s3_55","comment-body":"_comment-body_le8s3_61","comment-text":"_comment-text_le8s3_70","comment-actions":"_comment-actions_le8s3_82","answer-button":"_answer-button_le8s3_90"};function e5({isReply:t,userId:e,userPhoto:n,userName:r,text:s,showUserProfile:o,onReply:i,replies:a,timestamp:l,commentId:u,commentAction:d}){const[h,m]=f.useState(!1),{authUser:p}=ce(),{theme:_,elementColors:v,setElementColors:x}=f.useContext(B),[y,g]=f.useState(!1);ie();const w=T=>typeof T=="string"?T.replace(/(#[\w--_]+)/g,S=>`<div class="${In.hashtags}">${S}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map((S,E)=>S.startsWith("<div")?Or(S):S):T,b=T=>{if(typeof T=="string")return w(T);if(Rn.isValidElement(T)){const S=Rn.Children.map(T.props.children,b);return Rn.cloneElement(T,{children:S})}return T},C=T=>{const S=Or(T);return b(S)},k=T=>{d(T,u),m(!1)};return c.jsx("div",{className:In["comment-wrapper"],children:c.jsxs("div",{className:In["comment-body"],style:{},children:[c.jsx(B6,{isShow:h,onClick:k}),c.jsxs("div",{className:In["comment-info"],children:[c.jsxs("div",{className:In["author-info"],onClick:()=>o(e),children:[c.jsx("div",{className:In["author-photo"],children:c.jsx("img",{className:In.avatar,src:n})}),c.jsx("div",{className:In["author-name"],style:{color:_.text_first_color},children:r})]}),e===p._id&&c.jsx("div",{className:In["post-delete"],onClick:()=>m(!h),children:c.jsxs("div",{className:In["post-more"],children:[c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:_.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:_.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:_.text_first_color})})]})})]}),c.jsx("div",{className:In["comment-text"],style:{color:_.text_first_color},children:C(s)}),c.jsx("div",{className:In["comment-actions"],children:!t&&c.jsx("button",{className:In["answer-button"],style:{color:_.text_second_color},onClick:()=>i({userName:r,commentId:u}),children:""})})]})})}function gu({postId:t,userPhoto:e,groupOwnerId:n,userId:r,userName:s,postData:o,postText:i,postPhotos:a,likesArray:l,commentCount:u,photoClick:d,postAction:h,commentsArray:m}){const p=ie(),[_,v]=f.useState(!1),{theme:x,setThemeById:y,elementColors:g,setElementColors:w}=f.useContext(B),{authUser:b}=ce(),[C,k]=f.useState(!1);f.useEffect(()=>{b&&l.includes(b._id)&&v(!0)},[b._id]);const T=async()=>{const j=G(H,"posts",t);_?(await Cn(j,{likesArray:hO(b._id)}),v(!1)):(await Cn(j,{likesArray:ar(b._id)}),v(!0))},S=j=>{h(j,t),k(!1)},E=(j,N,L)=>{d(j,N,L),console.log(L)};function I(j){if(!j)return!1;let N,L,D;if(j.startsWith("#"))if(j.length===4)N=parseInt(j[1]+j[1],16),L=parseInt(j[2]+j[2],16),D=parseInt(j[3]+j[3],16);else if(j.length===7)N=parseInt(j.slice(1,3),16),L=parseInt(j.slice(3,5),16),D=parseInt(j.slice(5,7),16);else return!1;else if(j.startsWith("rgb")){const V=j.substring(j.indexOf("(")+1,j.lastIndexOf(")")).split(",").map(Number);if(V.length===3)N=V[0],L=V[1],D=V[2];else return!1}else{const V=document.createElement("div");V.style.color=j,document.body.appendChild(V);const z=window.getComputedStyle(V).color;if(document.body.removeChild(V),z.startsWith("rgb")){const K=z.substring(z.indexOf("(")+1,z.lastIndexOf(")")).split(",").map(Number);if(K.length===3)N=K[0],L=K[1],D=K[2];else return!1}else return!1}const F=(N*299+L*587+D*114)/1e3;return console.log(`: ${F}`),F>150}const R=j=>typeof j=="string"?j.replace(/(#[\w--_]+)/g,N=>`<div class="${de.hashtags}">${N}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map((N,L)=>N.startsWith("<div")?Or(N):N):j,P=j=>{if(typeof j=="string")return R(j);if(Rn.isValidElement(j)){const N=Rn.Children.map(j.props.children,P);return Rn.cloneElement(j,{children:N})}return j},O=j=>{const N=Or(j);return P(N)},A=j=>{p(n?`/group/${j}`:`/profile/${j}`)},$=()=>{p(`/post/${t}`)};f.useEffect(()=>{b._id===r&&console.log("  : "+t)},[t]);const M=()=>{navigator.share?navigator.share({title:i,url:`https://ridgeld.github.io/genery/#/post/${t}`}).then(()=>console.log(" !")).catch(j=>console.error("   : ",j)):alert("       Share API.")};return c.jsxs("div",{className:de["post-body"],style:{"--hashtag-color":x.icon_color},children:[c.jsx(B6,{isShow:C,onClick:S}),c.jsxs("div",{className:de["post-info"],children:[c.jsxs("div",{className:de["post-author"],onClick:()=>A(r),children:[c.jsx("div",{className:de["author-photo"],children:c.jsx("img",{src:e,className:de["user-avatar"]})}),c.jsx("div",{className:de["author-name"],style:{color:x.text_first_color},children:s})]}),(r===b._id||n===b._id)&&c.jsx("div",{className:de["post-delete"],onClick:()=>k(!C),children:c.jsxs("div",{className:de["post-more"],children:[c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})})]})})]}),c.jsxs("div",{className:de["post-data"],children:[a&&c.jsx("div",{className:de["images-body"],children:c.jsx("div",{className:de[`images-wrapper_${a.length}`],children:a.map((j,N)=>c.jsx("div",{className:de[`image_${N}`],children:c.jsx(Le.img,{src:j,onClick:()=>E(a,N,t),layoutId:`image-${t}-${N}`,layout:!0,transition:{type:"spring",stiffness:180,damping:16}})}))})}),i&&c.jsx("div",{className:de["post-text"],style:{color:x.text_first_color},children:O(i)})]}),c.jsxs("div",{className:de["post-actions"],children:[c.jsx("div",{className:de["post-date"],style:{color:x.text_first_color},children:o}),c.jsxs("div",{className:de["post-buttons"],children:[c.jsx("div",{className:de["like-count"],style:{color:x.text_first_color},children:l.length}),c.jsx("div",{className:de["action-like"],style:{background:x.third_color},onClick:T,children:c.jsx(Le.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 32",fill:"none",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileTap:{scale:3,opacity:.5},children:_?c.jsx(Le.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",fill:x.text_first_color},"heart-filled"):c.jsx(Le.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",stroke:x.text_first_color,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"},"heart-outline")})}),c.jsx("div",{className:de["like-count"],style:{color:x.text_first_color},children:u}),c.jsx("div",{className:de["action-comment"],style:{background:x.second_color},onClick:$,children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M10 19C11.78 19 13.5201 18.4722 15.0001 17.4832C16.4802 16.4943 17.6337 15.0887 18.3149 13.4442C18.9961 11.7996 19.1743 9.99002 18.8271 8.24419C18.4798 6.49836 17.6226 4.89471 16.364 3.63604C15.1053 2.37737 13.5016 1.5202 11.7558 1.17294C10.01 0.82567 8.20038 1.0039 6.55585 1.68509C4.91131 2.36628 3.50571 3.51983 2.51677 4.99987C1.52784 6.47991 1 8.21997 1 10C1 11.488 1.36 12.891 2 14.127L1 19L5.873 18C7.109 18.64 8.513 19 10 19Z",stroke:I(x.second_color)?"#000":"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}),c.jsx("div",{className:de["action-send"],style:{background:x.first_color},onClick:M,children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:x.text_third_color})})})]})]}),c.jsx("div",{className:de["comments-container-preview"],children:m&&c.jsxs("div",{className:de.comment,style:{background:x.element_first_color},children:[c.jsxs("div",{className:de["author-info"],children:[c.jsx("div",{className:de["author-photo"],children:c.jsx("img",{className:de.avatar,src:m.userPhoto})}),c.jsx("div",{className:de["author-name"],style:{color:x.text_first_color},children:m.userName})]}),c.jsx("div",{className:de["comment-text"],style:{color:x.text_first_color},children:O(m.text)}),c.jsx("div",{className:de["comment-actions"],children:c.jsx("div",{className:de["answer-button"],style:{color:x.element_second_color},onClick:()=>p(`/post/${t}`),children:""})})]})})]})}const t5={"circle-skeleton":"_circle-skeleton_1fo8g_2","rect-skeleton":"_rect-skeleton_1fo8g_20"};function yt({width:t,height:e,shape:n}){const{theme:r,setElementColors:s}=f.useContext(B),o=()=>c.jsx("div",{className:t5["circle-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}}),i=()=>c.jsx("div",{className:t5["rect-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}});return c.jsx(c.Fragment,{children:n==="rect"?i():o()})}function Pt(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B);return c.jsxs("div",{className:de["post-body-empty"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:de["post-info"],children:[c.jsxs("div",{className:de["post-author"],children:[c.jsx("div",{className:de["author-photo-empty"],children:c.jsx(yt,{width:"100%",height:"100%",shape:"circle"})}),c.jsx("div",{className:de["author-name"],style:{color:t.text_first_color},children:c.jsx(yt,{width:"50%",height:"15px",shape:"rect"})})]}),c.jsx("div",{className:de["post-date"],style:{color:t.text_first_color},children:c.jsx(yt,{width:"30%",height:"15px",shape:"rect"})})]}),c.jsx("div",{className:de["post-data"],children:c.jsxs("div",{className:de["post-text-empty"],children:[c.jsx(yt,{width:"100%",height:"15px",shape:"rect"}),c.jsx(yt,{width:"90%",height:"15px",shape:"rect"})]})})]})}function GW(){const[t,e]=f.useState([]),n=ie();f.useRef(null);const{theme:r,elementColors:s,setElementColors:o}=f.useContext(B),{authUser:i}=ce(),[a,l]=f.useState(!0),[u,d]=f.useState({isShow:!1,images:[],index:null}),[h,m]=f.useState({isShow:!1,text:""}),[p,_]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""});f.useEffect(()=>{if(h.isShow){const C=setTimeout(()=>{m({isShow:!1})},1e3);return()=>clearTimeout(C)}},[h]),f.useEffect(()=>{o({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,arrowLink:()=>n("/menu"),isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:3}),document.body.style.background=r.background_color},[B]),f.useEffect(()=>{const C=Jn(hs(Xt(H,"posts"),gi("timestamp","desc")),async k=>{const T=k.docs.map(async E=>{const I=E.data(),P=new Date(I.timestamp).toLocaleDateString("ru-RU",{day:"2-digit",month:"long"}),O=Xt(H,"posts",E.id,"comments"),$=(await hy(O)).docs.map(N=>({commentId:N.id,...N.data()})),M=$.map(N=>({...N,replyCount:$.filter(L=>L.replyTo===N.commentId).length}));let j=null;return M.length&&(j=M.reduce((N,L)=>L.replyCount>N.replyCount?L:N,M[0])),{id:E.id,userId:I.userId,groupOwnerId:I.groupOwnerId,userName:I.userName,userPhoto:I.userPhoto,postText:I.text,postPhoto:I.photos,postData:P,likesArray:I.likesArray,commentsArray:M,topComment:j}}),S=await Promise.all(T);e(S),l(!1)});return()=>C()},[]);const v=async(C,k)=>{try{const T=new Date().toISOString();let S=[];for(const E of k){const I=kn(Sn,`post_photos/${i._id}/${T}_${E.name}`);await mr(I,E);const R=await $n(I);S.push(R)}await x(C,S)}catch(T){console.error("Error handling send: ",T)}},x=async(C,k)=>{try{const T=new Date().toISOString();await em(Xt(H,"posts"),{photos:k,text:C,timestamp:T,userId:i._id,userName:i.name,userPhoto:i.avatar,likesArray:[],commentsArray:[]}),console.log("Message saved successfully.")}catch(T){console.error("Error adding document: ",T)}},y=(C,k,T)=>{d({isShow:!0,images:C,index:k,postId:T})},g=()=>{_({isShow:!1})},w=async C=>{_({isShow:!1});try{await zl(G(H,"posts",C))}catch(k){console.error("Error deleting post: ",k)}finally{m({isShow:!0,text:" "})}},b=(C,k)=>{switch(C){case"delete":return _({isShow:!0,title:" ",text:"    ?",firstButtonName:"",secondButtonName:"",firstButtonOnClick:g,secondButtonOnClick:()=>w(k)});default:return _({isShow:!0,title:"",text:"",firstButtonName:"",secondButtonName:"",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:de.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${r.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),c.jsx(_m,{children:c.jsx($r,{isShow:u.isShow,images:u.images,index:u.index,postId:u.postId,onClose:()=>d({isShow:!1})})}),c.jsx("div",{className:de["fixed-post-input"],style:{background:r.background_color},children:c.jsx(pu,{placeholder:"   ?",isPanelTop:!0,addFiles:!0,onSend:v})}),c.jsx(wo,{title:p.title,text:p.text,isShow:p.isShow,firstButtonName:p.firstButtonName,secondButtonName:p.secondButtonName,firstButtonOnClick:p.firstButtonOnClick,secondButtonOnClick:p.secondButtonOnClick}),c.jsx(ct,{isShow:h.isShow,text:h.text}),a?c.jsxs(c.Fragment,{children:[c.jsx(Pt,{}),c.jsx(Pt,{}),c.jsx(Pt,{}),c.jsx(Pt,{})]}):t.map(C=>c.jsx(gu,{postId:C.id,userId:C.userId,groupOwnerId:C.groupOwnerId,userName:C.userName,userPhoto:C.userPhoto,postData:C.postData,postText:C.postText,postPhotos:C.postPhoto,likesArray:C.likesArray,photoClick:y,postAction:b,commentCount:C.commentsArray.length,commentsArray:C.commentsArray?C.topComment:[],onSend:""},C.id))]})}const KW="_container_1bhxs_1",ZW="_circle_1bhxs_189",Re={container:KW,"category-container":"_category-container_1bhxs_12","category-name":"_category-name_1bhxs_21","item-body":"_item-body_1bhxs_30","item-info":"_item-info_1bhxs_39","item-icon":"_item-icon_1bhxs_47","item-name":"_item-name_1bhxs_55","check-box":"_check-box_1bhxs_60","check-box-circle":"_check-box-circle_1bhxs_81","themes-body":"_themes-body_1bhxs_89","themes-name":"_themes-name_1bhxs_100","themes-container":"_themes-container_1bhxs_109","theme-body":"_theme-body_1bhxs_117","theme-active":"_theme-active_1bhxs_134","block-body":"_block-body_1bhxs_150","block-title":"_block-title_1bhxs_161","block-text":"_block-text_1bhxs_166","block-arrow":"_block-arrow_1bhxs_171","reset-password":"_reset-password_1bhxs_178",circle:ZW},QW=[{category:"",items:[{name:"",icon:`
                <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.86667 5.6418C2.46706 8.22887 1 11.6931 1 15.5C1 23.5081 7.49187 30 15.5 30C19.3069 30 22.7711 28.5329 25.3582 26.1333M4.86667 5.6418C7.51484 2.78674 11.2988 1 15.5 1C23.5081 1 30 7.49187 30 15.5C30 19.7012 28.2133 23.4852 25.3582 26.1333M4.86667 5.6418L25.3582 26.1333" stroke="{theme.text_first_color}" stroke-width="2"/>
                </svg>                                                                
            `}]}];function XW({itemName:t,itemIcon:e,authUserCensor:n,onCensorChange:r}){console.log(` : ${n}`);const{theme:s,setThemeById:o,elementColors:i,setElementColors:a}=f.useContext(B),l=()=>{if(t===""){const d=!n;console.log(`   : ${d}`),r(d)}},u=e.replace(/{theme.text_first_color}/g,s.text_first_color);return c.jsxs("div",{className:Re["item-body"],style:{background:s.element_first_color},children:[c.jsxs("div",{className:Re["item-info"],children:[c.jsx("div",{className:Re["item-icon"],children:Or(u)}),c.jsx("div",{className:Re["item-name"],style:{color:s.text_first_color},children:t})]}),c.jsx("div",{className:Re["check-box"],style:{background:n&&t===""?s.first_color:s.element_second_color},onClick:l,children:c.jsx("div",{className:Re["check-box-circle"],style:{background:n&&t===""?s.text_third_color:s.text_first_color,marginLeft:n&&t===""?"29px":"0"}})})]})}function YW({name:t,img:e,activeTheme:n,onThemeChange:r}){const{theme:s,elementColors:o,setElementColors:i}=f.useContext(B),a=()=>{r(t)};return c.jsxs("div",{className:Re["theme-body"],style:{border:n===t?`2px solid ${s.gradient_first_color}`:"none"},onClick:a,children:[c.jsx("img",{src:e,alt:t}),n===t&&c.jsx("div",{className:Re["theme-active"],style:{background:s.first_color},children:c.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.14645 4.64645C0.951184 4.84171 0.951184 5.15829 1.14645 5.35355C1.34171 5.54882 1.65829 5.54882 1.85355 5.35355L1.14645 4.64645ZM6 1C6 0.723858 5.77614 0.5 5.5 0.5L1 0.5C0.723858 0.5 0.5 0.723858 0.5 1C0.5 1.27614 0.723858 1.5 1 1.5L5 1.5L5 5.5C5 5.77614 5.22386 6 5.5 6C5.77614 6 6 5.77614 6 5.5L6 1ZM1.85355 5.35355L5.85355 1.35355L5.14645 0.646447L1.14645 4.64645L1.85355 5.35355Z",fill:s.text_third_color})})})]})}function JW(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=localStorage.getItem("censor")==="true",[o,i]=f.useState(s);console.log(`   ${s}`);const{authUser:a}=ce(),[l,u]=f.useState([]),[d,h]=f.useState({isShow:!1,text:""}),m=ie();f.useEffect(()=>{if(d.isShow){const x=setTimeout(()=>{h({isShow:!1})},1e3);return()=>clearTimeout(x)}},[d]),f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>m("/list-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{(async()=>{if(a&&a._id){const y=G(H,"users",a._id,"info","preferences"),g=await se(y);if(g.exists()){const w=g.data();u(w.boughtThemes)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const p=l?l.filter(x=>Sx[x]).map(x=>Sx[x]):[],_=async x=>{e(x),h({isShow:!0,text:` : ${x}`})},v=x=>{i(x),localStorage.setItem("censor",x)};return c.jsxs("div",{className:Re.container,children:[c.jsx(ct,{text:d.text,isShow:d.isShow}),QW.map(x=>c.jsxs("div",{className:Re["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:Re["category-name"],children:x.category}),x.items.map(y=>c.jsx(XW,{itemIcon:y.icon,itemName:y.name,authUserCensor:o,onCensorChange:v}))]})),c.jsxs("div",{className:Re["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:Re["category-name"],style:{color:t.text_first_color},children:""}),c.jsxs("div",{className:Re["themes-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:Re["themes-name"],style:{color:t.text_first_color},children:" :"}),c.jsx("div",{className:Re["themes-container"],children:p.map(x=>c.jsx(YW,{img:x.img,name:x.name,activeTheme:t.name,onThemeChange:_}))})]})]}),c.jsxs("div",{className:Re["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:Re["category-name"],style:{color:t.text_first_color},children:"   "}),c.jsxs("button",{className:Re["reset-password"],style:{color:t.text_first_color,background:t.element_first_color},onClick:()=>m("/authresetpassword"),children:[" ",c.jsx("div",{className:Re.circle,style:{background:t.element_first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]})]}),c.jsxs("div",{className:Re["category-container"],children:[c.jsx("div",{className:Re["category-name"],style:{color:t.text_first_color},children:""}),c.jsxs("div",{className:Re["block-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:Re["block-title"],style:{color:t.text_first_color},children:"GENERY"}),c.jsx("div",{className:Re["block-text"],style:{color:t.text_first_color},children:"Genery 5.4.1"}),c.jsx("div",{className:Re["block-arrow"],children:c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:t.text_first_color})})})]})]})]})}const eG="_container_1wjrk_1",hl={container:eG,"block-body":"_block-body_1wjrk_11","block-name":"_block-name_1wjrk_20","block-text":"_block-text_1wjrk_25","block-price":"_block-price_1wjrk_30"},tG="_button_rb0y4_1",nG="_arrow_rb0y4_18",n5={button:tG,arrow:nG};function U6({name:t,backgroundColor:e,textColor:n,onButtonClick:r}){return c.jsxs("button",{className:n5.button,style:{background:e,color:n},onClick:r,children:[t,c.jsx("div",{className:n5.arrow,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:n})})})]})}function rG(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState("0 c"),[o,i]=f.useState(""),[a,l]=f.useState(""),[u,d]=f.useState(!1),h=ie(),m=()=>{d(!0),o!==" "&&a!==" "&&s(o*a+" ")};return f.useEffect(()=>{if(u){const p=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(p)}},[u]),f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>h("/list-menu"),arrowColor:t.background_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]),c.jsxs("div",{className:hl.container,children:[c.jsxs("div",{className:hl["block-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:hl["block-name"],style:{color:t.text_first_color},children:"1X "}),c.jsx("div",{className:hl["block-text"],style:{color:t.text_first_color},children:"  :"}),c.jsx("div",{className:hl["block-price"],style:{color:t.text_first_color},children:r})]}),c.jsx(Ar,{type:"number",placeholder:"  ",onInputChange:p=>i(p.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},1),c.jsx(Ar,{type:"number",placeholder:"  ",onInputChange:p=>l(p.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},2),c.jsx(U6,{name:"",backgroundColor:t.first_color,textColor:t.text_third_color,onButtonClick:m})]})}const sG="_container_1uk81_1",oG="_hidden_1uk81_123",rt={container:sG,"category-container":"_category-container_1uk81_12","balance-container":"_balance-container_1uk81_19","image-cover":"_image-cover_1uk81_26","no-select":"_no-select_1uk81_37","back-image":"_back-image_1uk81_47","text-image":"_text-image_1uk81_51","items-container":"_items-container_1uk81_56","card-body":"_card-body_1uk81_64","card-photo-body":"_card-photo-body_1uk81_77","card-photo":"_card-photo_1uk81_77","card-info":"_card-info_1uk81_90","card-name":"_card-name_1uk81_98","card-label":"_card-label_1uk81_103","card-action":"_card-action_1uk81_113",hidden:oG,"card-price":"_card-price_1uk81_128","card-buy":"_card-buy_1uk81_137","buy-button":"_buy-button_1uk81_153","button-price":"_button-price_1uk81_167"},iG=[{category:"material_ui",img:"shop/material_ui/cover.png",textImg:"shop/material_ui/text-img.png",items:[{id:"material_ui",category:"theme",img:"shop/material_ui/img-1.png",name:"Material UI",label:"MAXIMILIAN",labelTextColor:"#000",labelColor:"#97C5E7",isFree:!0,price:0},{id:"material_ui",category:"colors",img:"shop/material_ui/img-2.png",name:"Material colors",label:"MAXIMILIAN",labelTextColor:"#000",labelColor:"#97C5E7",isFree:!0,price:500}]},{category:"simple_light",img:"shop/simple_light/cover.png",textImg:"shop/simple_light/text-img.png",items:[{id:"simple_light",category:"theme",img:"shop/simple_light/img-1.png",name:" ",label:"",labelTextColor:"#000",labelColor:"#fff",isFree:!0,price:0},{id:"simple_light",category:"colors",img:"shop/simple_light/img-2.png",name:" ",label:"",labelTextColor:"#000",labelColor:"#fff",isFree:!0,price:0},{id:"simple_light",category:"emojies",img:"shop/simple_light/img-3.png",name:" ",label:"",labelTextColor:"#000",labelColor:"#fff",isFree:!0,price:0},{id:"simple_light",category:"all",img:"shop/simple_light/img-4.png",name:" ",label:"",labelTextColor:"#000",labelColor:"#fff",isFree:!0,price:0}]},{category:"winter_2024",img:"shop/winter_2024/cover.png",textImg:"shop/winter_2024/text-img.png",items:[{id:"winter_2024",category:"theme",img:"shop/winter_2024/img-1.png",name:" ",label:" 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"colors",img:"shop/winter_2024/img-2.png",name:" ",label:" 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"emojies",img:"shop/winter_2024/img-3.png",name:" ",label:" 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"all",img:"shop/winter_2024/img-4.png",name:" ",label:" 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0}]},{category:"kyrgyzstan",img:"shop/kyrgyzstan/cover.png",textImg:"shop/kyrgyzstan/text-img.png",items:[{id:"kyrgyzstan",category:"theme",img:"shop/kyrgyzstan/img-2.png",name:"",label:" ",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"emojies",img:"shop/kyrgyzstan/img-1.png",name:"",label:" ",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"colors",img:"shop/kyrgyzstan/img-3.png",name:" ",label:" ",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"all",img:"shop/kyrgyzstan/img-4.png",name:' ""',label:" ",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0}]},{category:"genery",img:"shop/genery/cover.png",textImg:"shop/genery/text-img.png",items:[{id:"genery",category:"theme",img:"shop/genery/img-1.png",name:"",label:"1  ",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:1e3},{id:"genery",img:"shop/genery/img-2.png",category:"colors",name:" ",label:"1  ",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:250},{id:"genery",img:"shop/genery/img-3.png",category:"emojies",name:" ",label:"1  ",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:500},{id:"genery",img:"shop/genery/img-4.png",category:"all",name:" Genery",label:"1  ",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:0}]}];function aG({img:t,textImg:e}){return c.jsxs("div",{className:rt["image-cover"],children:[c.jsx("div",{className:rt["no-select"]}),c.jsx("img",{src:t,className:rt["back-image"]}),c.jsx("img",{src:e,className:rt["text-image"]})]})}const r5={"coin-outer":"_coin-outer_1t7ga_1","coin-inner":"_coin-inner_1t7ga_10"};function Bh({color:t}){return c.jsx("div",{className:r5["coin-outer"],style:{background:t},children:c.jsx("div",{className:r5["coin-inner"]})})}function lG({category:t,id:e,photo:n,name:r,label:s,labelTextColor:o,labelColor:i,isBought:a,isFree:l,price:u,onBuyItem:d}){const{theme:h,elementColors:m,setElementColors:p}=f.useContext(B);return c.jsxs("div",{className:rt["card-body"],style:{background:h.element_first_color},children:[c.jsxs("div",{className:rt["card-photo-body"],style:{background:h.background_color},children:[c.jsx("div",{className:rt["no-select"]}),c.jsx("img",{src:n,className:rt["card-photo"]})]}),c.jsxs("div",{className:rt["card-info"],children:[c.jsx("div",{className:rt["card-name"],style:{color:h.text_first_color},children:r}),c.jsx("div",{className:rt["card-label"],style:{background:i,color:o},children:s})]}),c.jsxs("div",{className:rt["card-action"],children:[c.jsx("div",{className:rt["card-price"],style:{color:h.text_first_color},children:a?"":l?"":c.jsxs(c.Fragment,{children:[u,c.jsx(Bh,{color:h.first_color})]})}),c.jsx("div",{className:rt["card-arrow"],children:c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:h.text_first_color})})})]}),!a&&c.jsx("div",{className:`${rt["card-buy"]} ${rt.hidden}`,children:c.jsx("button",{className:rt["buy-button"],style:{background:h.first_color,color:h.text_third_color},onClick:()=>d(t,e,u),children:l?c.jsx(c.Fragment,{children:""}):c.jsxs(c.Fragment,{children:[" ",c.jsxs("div",{className:rt["button-price"],children:[u,c.jsx(Bh,{color:h.text_first_color})]})]})})})]})}const rd={"score-container":"_score-container_71jb4_1","name-body":"_name-body_71jb4_9","count-body":"_count-body_71jb4_22","balance-body":"_balance-body_71jb4_35"};function _u({name:t,count:e,isBalance:n}){const{theme:r,elementColors:s,setElementColors:o}=f.useContext(B);return c.jsxs("div",{className:rd["score-container"],children:[c.jsx("div",{className:rd["name-body"],style:{background:r.element_first_color,color:r.text_first_color},children:t}),c.jsx("div",{className:rd["count-body"],style:{background:r.element_first_color,color:r.text_first_color},children:n?c.jsxs("div",{className:rd["balance-body"],style:{color:r.text_first_color},children:[e,c.jsx(Bh,{color:r.first_color})]}):e})]})}function cG(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState({isShow:!1,text:""}),[o,i]=f.useState([]),[a,l]=f.useState([]),[u,d]=f.useState([]),[h,m]=f.useState(""),[p,_]=f.useState(0),{authUser:v}=ce(),x=ie();f.useEffect(()=>{if(r.isShow){const b=setTimeout(()=>{s({isShow:!1})},1e3);return()=>clearTimeout(b)}},[r]),f.useEffect(()=>{(async()=>{if(v&&v._id){const C=G(H,"users",v._id,"info","preferences"),k=await se(C);if(k.exists()){const T=k.data();_(T.balance),i(T.boughtThemes),l(T.boughtColors),d(T.boughtEmojies)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[p,o,a,u]),f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>x("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[B]);const y=async b=>{if(v&&v._id)try{const C=G(H,"users",v._id,"info","preferences");await Cn(C,{balance:b}),console.log(`Balance updated to ${b}`)}catch(C){console.error("Error updating balance:",C)}else console.error("authUser or authUser._id is undefined")},g=async(b,C,k)=>{const T=G(H,"users",v._id,"info","preferences");if(p<k){s({isShow:!0,text:"     "});return}_(p-k),y(p-k);let S={},E="";switch(b){case"colors":S={boughtColors:ar(C)},E=`  : ${C}`;break;case"emojies":S={boughtEmojies:ar(C)},E=`   : ${C}`;break;case"theme":S={boughtThemes:ar(C)},E=`  : ${C}`;break;case"all":S={boughtColors:ar(C),boughtEmojies:ar(C),boughtThemes:ar(C)},E=`  : ${C}`;break;default:return}await Cn(T,S),s({isShow:!0,text:E})},w=(b,C)=>{switch(b){case"colors":return a.includes(C);case"theme":return o.includes(C);case"emojies":return u.includes(C);case"all":return a.includes(C)&&o.includes(C)&&u.includes(C);default:return!1}};return c.jsxs("div",{className:rt.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),c.jsx(ct,{isShow:r.isShow,text:r.text}),c.jsx("div",{className:rt["balance-container"],style:{background:t.background_color},children:c.jsx(_u,{name:"",isBalance:!0,count:p})}),iG.map(b=>c.jsxs("div",{className:rt["category-container"],children:[c.jsx(aG,{img:b.img,textImg:b.textImg}),c.jsx("div",{className:rt["items-container"],children:b.items.map((C,k)=>c.jsx(lG,{category:C.category,id:C.id,photo:C.img,name:C.name,label:C.label,labelTextColor:C.labelTextColor,labelColor:C.labelColor,isBought:w(C.category,C.id),isFree:C.isFree,price:C.price,onBuyItem:g},k))})]}))]})}const uG="_container_1lamj_1",dG="_area_1lamj_9",hG="_table_1lamj_19",fG="_item_1lamj_28",mG="_circle_1lamj_40",pG="_spin_1lamj_51",Si={container:uG,area:dG,table:hG,item:fG,circle:mG,spin:pG},gG=t=>[{grid:"row",size:"1/4",name:0,isZero:!0,isCircle:!1,background:t.casino_first_color,border:"20px 0 0 20px",circleColor:""},{grid:"column",size:"",name:3,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:6,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:9,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:12,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:15,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:18,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:21,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:24,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:27,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:30,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:33,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:36,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"1st",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 20px 0 0",circleColor:t.casino_third_color},{grid:"column",size:"",name:2,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:5,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:8,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:11,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:14,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:17,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:20,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:23,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:26,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:29,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:32,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:35,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:"2nd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:1,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:4,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:7,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:10,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:13,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:16,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:19,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:22,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:25,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:28,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:31,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:34,isZero:!1,isCircle:!0,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"3rd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 20px",circleColor:t.casino_third_color},{grid:"column",size:"2/8",name:"1-18",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"8/14",name:"19-36",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"2/5",name:"even",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 0 20px",circleColor:t.casino_second_color},{grid:"column",size:"5/8",name:"red",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"8/11",name:"black",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"11/14",name:"odd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color}],_G="_overlay_usz7u_1",yG="_animated_usz7u_14",vG="_wheel_usz7u_18",wG="_show_usz7u_24",xG="_spin_usz7u_47",CG="_arrow_usz7u_66",Ei={overlay:_G,animated:yG,wheel:vG,show:wG,spin:xG,arrow:CG};function bG(t,e){const n=r=>{if(r>=t.length){e();return}const s=document.createElement("script");s.src=t[r],s.async=!0,s.onload=()=>n(r+1),document.body.appendChild(s)};n(0)}function kG({isShow:t,onStop:e}){const[n,r]=f.useState(null),s=f.useRef(null);getComputedStyle(document.documentElement);const{theme:o,elementColors:i,setElementColors:a}=f.useContext(B),[l,u]=f.useState(125),[d,h]=f.useState(100),[m,p]=f.useState("center"),_=()=>{window.innerWidth<=700?(u(125),h(100),p("outer")):(u(155),h(100),p("center"))};f.useEffect(()=>(_(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}),[]),f.useEffect(()=>{const x=["https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js","script/Winwheel.min.js"],y={green:o.casino_first_color,red:o.casino_second_color,black:o.casino_third_color};bG(x,()=>{const g=new Winwheel({canvasId:s.current.id,numSegments:37,outerRadius:l,innerRadius:d,textFontSize:12,textOrientation:"curved",textAlignment:m,segments:[{fillStyle:y.green,text:"0",textFillStyle:o.text_first_color},{fillStyle:y.red,text:"32",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"15",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"19",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"4",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"21",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"2",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"25",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"17",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"34",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"6",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"27",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"13",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"36",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"11",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"30",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"8",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"23",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"10",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"5",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"24",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"16",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"33",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"1",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"20",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"14",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"31",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"9",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"22",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"18",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"29",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"7",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"28",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"12",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"35",textFillStyle:o.text_third_color},{fillStyle:y.red,text:"3",textFillStyle:o.text_first_color},{fillStyle:y.black,text:"26",textFillStyle:o.text_third_color}],animation:{type:"spinToStop",duration:5,spins:8,callbackFinished:e}});r(g)})},[t]);const v=()=>{n&&n.startAnimation()};return c.jsx("div",{className:`${Ei.overlay} ${Ei.animated} ${t?Ei.show:""}`,children:c.jsxs("div",{className:Ei.wheel,style:{background:o.casino_first_color,border:`10px solid ${o.element_second_color}`},children:[c.jsx("canvas",{ref:s,id:"canvas",width:"310",height:"310",children:"Canvas not supported, use another browser."}),c.jsx("div",{className:Ei.arrow,children:c.jsx("svg",{width:"40",height:"18",viewBox:"0 0 40 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M40 0L20 18L0 0H40Z",fill:o.element_second_color})})}),c.jsx("button",{className:Ei.spin,style:{background:o.element_first_color,border:`10px solid ${o.element_second_color}`,color:o.text_first_color},onClick:v,children:""})]})})}const s5={"chip-body":"_chip-body_n5j63_1","chip-inner":"_chip-inner_n5j63_12"};function SG({price:t}){return c.jsx("div",{className:s5["chip-body"],children:c.jsx("div",{className:s5["chip-inner"],children:t})})}const EG={0:["green"],1:["red","1-18","odd"],2:["black","1-18","even"],3:["red","1-18","odd"],4:["black","1-18","even"],5:["red","1-18","odd"],6:["black","1-18","even"],7:["red","1-18","odd"],8:["black","1-18","even"],9:["red","1-18","odd"],10:["black","1-18","even"],11:["black","1-18","odd"],12:["red","1-18","even"],13:["black","1-18","odd"],14:["red","1-18","even"],15:["black","1-18","odd"],16:["red","1-18","even"],17:["black","1-18","odd"],18:["red","1-18","even"],19:["red","19-36","odd"],20:["black","19-36","even"],21:["red","19-36","odd"],22:["black","19-36","even"],23:["red","19-36","odd"],24:["black","19-36","even"],25:["red","19-36","odd"],26:["black","19-36","even"],27:["red","19-36","odd"],28:["black","19-36","even"],29:["black","19-36","odd"],30:["red","19-36","even"],31:["black","19-36","odd"],32:["red","19-36","even"],33:["black","19-36","odd"],34:["red","19-36","even"],35:["black","19-36","odd"],36:["red","19-36","even"]};function TG(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),r=gG(t),s=ie(),[o,i]=f.useState(!1),{authUser:a}=ce(),[l,u]=f.useState(0),[d,h]=f.useState([]),[m,p]=f.useState(0),[_,v]=f.useState(!1),[x,y]=f.useState(null),[g,w]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[b,C]=f.useState({isShow:!1,text:""});f.useEffect(()=>{if(b.isShow){const O=setTimeout(()=>{C({isShow:!1})},1e3);return()=>clearTimeout(O)}},[b]);const k=()=>{w({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),i(!1),h([]),p(0),v(!1)},T=()=>{s("/menu")},S=()=>{i(!0)};f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{(async()=>{if(a&&a._id){const A=G(H,"users",a._id,"info","preferences"),$=await se(A);if($.exists()){const M=$.data();console.log(M),u(M.balance<100?1e3:M.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const E=async O=>{if(a&&a._id)try{const A=G(H,"users",a._id,"info","preferences");await Cn(A,{balance:O}),console.log(`Balance updated to ${O}`)}catch(A){console.error("Error updating balance:",A)}else console.error("authUser or authUser._id is undefined")},I=O=>{if(l<100){C({isShow:!0,text:"     "});return}h(A=>{if(A.some(M=>M.item===O)){const M=A.filter(j=>j.item!==O);return u(l+100),M}else{const M=[...A,{item:O,bet:100}];return u(l-100),M}})},R=O=>{v(!0),y(Number(O.text)),console.log(Number(O.text))};f.useEffect(()=>{console.log(d),_&&P(x)},[d,_]);const P=O=>{const A=EG[O];let $=0,M=0;d.forEach(N=>{(N.item===O||A.includes(N.item))&&(M+=N.bet)});const j=d.some(N=>N.item===O);if(console.log("Base bet:",M),console.log("Has number bet:",j),j)$=M*4;else{const N=d.filter(L=>A.includes(L.item)).length;$=M*N}p($),u(l+$),E(l+$),w({isShow:!0,title:" ",text:`  : ${$}`,firstButtonName:"",secondButtonName:"",firstButtonOnClick:T,secondButtonOnClick:k})};return c.jsxs("div",{className:Si.container,children:[c.jsx(wo,{title:g.title,text:g.text,isShow:g.isShow,firstButtonName:g.firstButtonName,secondButtonName:g.secondButtonName,firstButtonOnClick:g.firstButtonOnClick,secondButtonOnClick:g.secondButtonOnClick}),c.jsx(ct,{isShow:b.isShow,text:b.text}),c.jsx(kG,{isShow:o,onStop:R}),c.jsxs("div",{className:Si.area,children:[c.jsx(_u,{name:"",isBalance:!0,count:l}),c.jsxs("div",{className:Si.table,children:[r.map(O=>c.jsxs("div",{className:Si.item,style:{background:O.isZero?O.background:"transparent",gridColumn:O.grid==="column"?O.size:"",gridRow:O.grid==="row"?O.size:"",border:`1px solid ${t.element_first_color}`,borderRadius:O.border,color:t.text_first_color},onClick:()=>I(O.name),children:[d.some(A=>A.item===O.name)&&c.jsx(SG,{price:100}),O.isCircle?c.jsx("div",{className:Si.circle,style:{background:O.circleColor,color:t.text_first_color},children:O.name}):O.name]},O.name)),c.jsx("button",{className:Si.spin,style:{background:t.element_first_color,color:t.text_first_color},onClick:S,children:""})]})]})]})}const IG="_container_1vtou_1",NG="_title_1vtou_36",jG="_text_1vtou_27",Fr={container:IG,"update-body":"_update-body_1vtou_12","update-data":"_update-data_1vtou_22","text-container":"_text-container_1vtou_27",title:NG,text:jG},PG=[{data:"09.11.2025",update:"   ",corrections:"     "},{data:"25.05.2025",update:" 2      "},{data:"07.05.2025",corrections:"     .        "},{data:"24.04.2025",update:"   .    "},{data:"01.04.2025",update:"  .             "},{data:"27.03.2025",update:"       email.    .    ",corrections:"       .   .       "},{data:"25.03.2025",update:"      "},{data:"23.03.2025",update:'  " "'},{data:"19.01.2025",corrections:"     "},{data:"16.01.2025",update:"    .     .   .     .      .",corrections:"         ."},{data:"31.08.2024",update:'   : ""'},{data:"29.08.2024",update:"        "},{data:"19.08.2024",update:"       .    .    ,        .       .",corrections:"   ."},{data:"03.07.2024",update:"   -  ."},{data:"29.06.2024",update:"  .",corrections:'      ""'},{data:"27.06.2024",update:`  : GCOIN TAP.
  : .`,corrections:"       ."},{data:"25.06.2024",update:`  .
    .
  .
       .
  (  ).
  .
    5     .
  (   1000 ).
     .
  .
   ,    , 
   .
  .
  (   )
   , ,    
      (     ).
  (   ,      .
    "".`,corrections:`     .
     (    ,  +400 ,      : odd/even, red/black, 1-18/19-36 -     +100 .`},{data:"14.02.2024",update:` 2  .
 5  .
 5  .
    .
     .`,corrections:`  .
      .`},{data:"21.01.2024",update:`   .
   .`,corrections:`    .
      .`},{data:"19.12.2023",update:`  - .
 :  ,  .
   -  .
   .`},{data:"11.12.2023",update:"  - 2048"},{data:"04.12.2023",update:"  - "},{data:"03.12.2023",update:"      "},{data:"02.12.2023",update:`    .
  .`},{data:"11.11.2023",update:" 2  .",corrections:"    ."},{data:"28.10.2023",update:`  .
     .
 20  .
 10  .`,corrections:`  .
    GENERY.
  .
    .
   .
   .
   .
  .
   .`},{data:"29.09.2023",update:`   .
   .`,corrections:" ."},{data:"04.09.2023",update:`   .
 5  .
 100  .
   .
  .`,corrections:"   ."},{data:"01.08.2023",update:` 2 .
   .`,corrections:" ."},{data:"19.07.2023",update:`  .
    .
   .
  .`},{data:"15.07.2023",update:`     .
   .`,corrections:"   ."},{data:"30.06.2023",update:`      .
   .`,corrections:'    " "'},{data:"11.06.2023",update:`   .
    70.`},{data:"02.06.2023",update:`  .
 100   .`},{data:"05.05.2023",update:`   .
      .
 5  .`},{data:"03.05.2023",corrections:`    
    .
      .`},{data:"01.05.2023",update:` 5      .
     `},{data:"30.04.2023",update:"     ."},{data:"30.04.2023",update:`  .
    .`,corrections:"     ."},{data:"28.04.2023",update:`   .
  30     .`,corrections:"    :  ,   ."},{data:"28.04.2023",update:"   .",corrections:"      ."},{data:"28.04.2023",update:"   .",corrections:"      ."},{data:"28.04.2023",update:`        .
 : , , .
  .`},{data:"26.04.2023",update:`     .
      .`},{data:"26.04.2023",update:`   
   /   .`},{data:"26.04.2023",update:`        .
 36     .`}];function LG({data:t,update:e,corrections:n}){const{theme:r,elementColors:s,setElementColors:o}=f.useContext(B),i=e?e.split(`
`):[],a=n?n.split(`
`):[];return c.jsxs("div",{className:Fr["update-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:Fr["update-data"],style:{color:r.text_first_color},children:t}),e&&c.jsxs("div",{className:Fr["text-container"],children:[c.jsx("div",{className:Fr.title,style:{color:r.text_first_color},children:" :"}),c.jsx("div",{className:Fr.text,style:{color:r.text_first_color},children:i.map((l,u)=>c.jsxs(Rn.Fragment,{children:[l,c.jsx("br",{})]},u))})]}),n&&c.jsxs("div",{className:Fr["text-container"],children:[c.jsx("div",{className:Fr.title,style:{color:r.text_first_color},children:":"}),c.jsx("div",{className:Fr.text,style:{color:r.text_first_color},children:a.map((l,u)=>c.jsxs(Rn.Fragment,{children:[l,c.jsx("br",{})]},u))})]})]})}function AG(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),r=ie();return f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>r("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[B]),c.jsxs("div",{className:Fr.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),PG.map(s=>c.jsx(LG,{data:s.data,update:s.update,corrections:s.corrections}))]})}const RG="_container_1qgb1_1",DG="_title_1qgb1_12",OG="_circle_1qgb1_47",MG="_edit_1qgb1_93",$G="_button_1qgb1_113",vt={container:RG,title:DG,"files-container":"_files-container_1qgb1_18","download-body":"_download-body_1qgb1_28","add-body":"_add-body_1qgb1_38",circle:OG,"download-name":"_download-name_1qgb1_57","download-name-empty":"_download-name-empty_1qgb1_63","download-button":"_download-button_1qgb1_70","download-button-empty":"_download-button-empty_1qgb1_87",edit:MG,button:$G};function FG({color:t,name:e,url:n,id:r}){const{theme:s,elementColors:o,setElementColors:i}=f.useContext(B),a=(l,u)=>{const d=new XMLHttpRequest;d.responseType="blob",d.onload=h=>{const m=d.response,p=document.createElement("a");p.href=window.URL.createObjectURL(m),p.download=u,document.body.appendChild(p),p.click(),document.body.removeChild(p)},d.open("GET",l),d.send()};return c.jsxs("div",{className:vt["download-body"],style:{border:`2px solid ${s.element_first_color}`},children:[c.jsx("div",{className:vt["download-name"],style:{color:s.text_first_color},children:e}),c.jsx("button",{className:vt["download-button"],style:{background:t},onClick:l=>{l.preventDefault(),a(n,e)},children:c.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 1C9 0.447715 8.55228 2.41411e-08 8 0C7.44772 -2.41411e-08 7 0.447715 7 1L9 1ZM7.29289 14.435C7.68342 14.8256 8.31658 14.8256 8.70711 14.435L15.0711 8.07107C15.4616 7.68054 15.4616 7.04738 15.0711 6.65685C14.6805 6.26633 14.0474 6.26633 13.6569 6.65685L8 12.3137L2.34315 6.65685C1.95262 6.26633 1.31946 6.26633 0.928932 6.65685C0.538408 7.04738 0.538408 7.68054 0.928932 8.07107L7.29289 14.435ZM7 1L7 13.7279L9 13.7279L9 1L7 1Z",fill:s.text_first_color})})})]})}function Uh(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B);return c.jsxs("div",{className:vt["download-body"],style:{border:`2px solid ${t.element_first_color}`},children:[c.jsx("div",{className:vt["download-name-empty"],style:{color:t.text_first_color},children:c.jsx(yt,{width:"100%",height:"18px",shape:"rect"})}),c.jsx("div",{className:vt["download-button-empty"],children:c.jsx(yt,{width:"32px",height:"32px",shape:"circle"})})]})}function BG({color:t,name:e,url:n,id:r,onDelete:s}){const{theme:o,elementColors:i,setElementColors:a}=f.useContext(B);return c.jsxs("div",{className:vt["download-body"],style:{border:`2px solid ${o.element_first_color}`},children:[c.jsx("div",{className:vt["download-name"],style:{color:o.text_first_color},children:e}),c.jsx("button",{className:vt["download-button"],style:{background:t},onClick:s,children:c.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:o.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function UG({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState([]),[a,l]=f.useState(),[u,d]=f.useState(),[h,m]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[p,_]=f.useState(),{authUser:v}=ce();ie(),f.useEffect(()=>{(async()=>{try{const C=G(H,"groups",t,"info","info"),k=await se(C);if(k.exists()){const T=k.data();_(T.owner)}else console.error("Group not found")}catch(C){console.error("Error fetching group data:",C)}finally{}})()},[t]);const x=async()=>{if(t)try{const b=G(H,"groups",t,"info","downloads"),C=await se(b);if(C.exists()){const k=C.data();i(k.files||[]),console.log(k.files)}else console.log("No such document!"),i([])}catch(b){console.error("Error fetching group data:",b),i([])}finally{l(!1)}else console.error("ID   "),i([]),l(!1)};f.useEffect(()=>{x()},[t]),f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:e,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[B]);const y=b=>{m({isShow:!0,title:" ",text:`     ${b.name}?`,firstButtonName:"",firstButtonOnClick:()=>m({isShow:!1}),secondButtonName:"",secondButtonOnClick:()=>g(b)})},g=async b=>{if(!b||!b.link){console.error("Invalid file or file URL:",b);return}m({isShow:!1});try{const C=b.link;console.log("File URL:",C);let T=C.replace("https://firebasestorage.googleapis.com/v0/b/genery-c83e3.appspot.com/o/","");T=decodeURIComponent(T);const[S]=T.split("?");console.log("File Path:",S);const E=kn(Sn,S);await EM(E),console.log("File deleted from Firebase Storage");const I=G(H,"groups",t,"info","downloads"),R=await se(I);if(R.exists()){const O=(R.data().files||[]).filter(A=>A.link!==C);await Ge(I,{files:O},{merge:!0}),i(O),console.log("File deleted from Firestore")}else console.log("No such document in Firestore!")}catch(C){console.error("Error deleting file:",C)}},w=async()=>{await x(),d(!1)};return c.jsxs(c.Fragment,{children:[c.jsx(wo,{title:h.title,text:h.text,isShow:h.isShow,firstButtonName:h.firstButtonName,secondButtonName:h.secondButtonName,firstButtonOnClick:h.firstButtonOnClick,secondButtonOnClick:h.secondButtonOnClick}),c.jsx(vW,{id:t,isShow:u,close:w}),c.jsx("div",{className:vt.title,style:{color:n.text_first_color},children:""}),c.jsx("div",{className:vt["files-container"],children:a?c.jsxs(c.Fragment,{children:[c.jsx(Uh,{}),c.jsx(Uh,{})]}):c.jsxs(c.Fragment,{children:[o.map(b=>c.jsx(BG,{color:b.color,name:b.name,url:b.link,id:t,onDelete:()=>y(b)},b.name)),c.jsx("div",{className:vt["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>d(!0),children:c.jsx("div",{className:vt.circle,style:{background:n.element_first_color},children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})}),c.jsx("button",{className:vt.button,style:{background:n.first_color,color:n.text_third_color},onClick:e,children:""})]})})]})}function VG(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState([]),[o,i]=f.useState(),{id:a}=Vn(),[l,u]=f.useState(),{authUser:d}=ce(),h=ie(),[m,p]=f.useState(!1);f.useEffect(()=>{(async()=>{try{const g=G(H,"groups",a,"info","info"),w=await se(g);if(w.exists()){const b=w.data();u(b.owner)}else console.error("Group not found")}catch(g){console.error("Error fetching group data:",g)}finally{}})()},[a]);const _=async()=>{if(a)try{const y=G(H,"groups",a,"info","downloads"),g=await se(y);if(g.exists()){const w=g.data();s(w.files||[]),console.log(w.files)}else console.log("No such document!"),s([])}catch(y){console.error("Error fetching group data:",y),s([])}finally{i(!1)}else console.error("ID   "),s([]),i(!1)};f.useEffect(()=>{_()},[a]),f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${a}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[B]);const v=()=>{p(!0)},x=()=>{p(!1)};return c.jsx("div",{className:vt.container,children:m?c.jsx(UG,{id:a,handleEdit:x}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:vt.title,style:{color:t.text_first_color},children:""}),c.jsx("div",{className:vt["files-container"],children:o?c.jsxs(c.Fragment,{children:[c.jsx(Uh,{}),c.jsx(Uh,{})]}):r.length>0?r.map(y=>c.jsx(FG,{color:y.color,name:y.name,url:y.link,id:a},y.name)):c.jsx("div",{className:vt["info-body"],style:{color:t.text_first_color},children:"   ..."})}),l&&l===d._id&&c.jsx("button",{className:vt.edit,style:{background:t.first_color},onClick:v,children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_third_color})})})]})})}const zG="_container_143zk_2",HG="_cover_143zk_22",qG="_label_143zk_189",te={container:zG,"profile-container":"_profile-container_143zk_13","cover-container":"_cover-container_143zk_22",cover:HG,"cover-pattern":"_cover-pattern_143zk_41","user-photo":"_user-photo_143zk_49","change-photo-button":"_change-photo-button_143zk_68","user-actions":"_user-actions_143zk_86","user-info":"_user-info_143zk_92","user-name":"_user-name_143zk_99","circle-button":"_circle-button_143zk_104","user-biography":"_user-biography_143zk_121","button-container":"_button-container_143zk_126","quit-button":"_quit-button_143zk_135","colors-container":"_colors-container_143zk_152","color-circle":"_color-circle_143zk_162","active-circle":"_active-circle_143zk_172","input-data-container":"_input-data-container_143zk_179",label:qG,"input-data":"_input-data_143zk_179","item-body":"_item-body_143zk_205","item-icon":"_item-icon_143zk_218","item-name":"_item-name_143zk_226","item-info":"_item-info_143zk_233","item-circle":"_item-circle_143zk_241","posts-container":"_posts-container_143zk_258"};function WG({fetchUserPreferences:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),{authUser:o}=ce(),[i,a]=f.useState(o.name),[l,u]=f.useState(o.biography),[d,h]=f.useState(!0),[m,p]=f.useState(null),[_,v]=f.useState(o.cover),[x,y]=f.useState([]),[g,w]=f.useState({isShow:!1,text:""});f.useEffect(()=>{(async()=>{if(o&&o._id){const I=G(H,"users",o._id,"info","preferences"),R=await se(I);if(R.exists()){const P=R.data();console.log(P),a(P.name),u(P.biography),v(P.cover),y(O=>[...O,...P.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const b=x?vi.filter(E=>x.includes(E.name)):[];f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),f.useEffect(()=>{if(g.isShow){const E=setTimeout(()=>{w({isShow:!1})},1500);return()=>clearTimeout(E)}},[g.isShow]);const C=E=>{E.target.files[0]&&(p(E.target.files[0]),console.log(E.target.files[0]))},k=E=>{v(E)},T=async()=>{let E=null;const I=new Date().toISOString();if(m){const R=kn(Sn,`users_photo/${o._id}/${I}_${m.name}`);await mr(R,m),E=await $n(R)}if(o&&o._id){const R=G(H,"users",o._id,"info","preferences");try{await Ge(R,{name:i,biography:l,photo:m?E:o.avatar,cover:_},{merge:!0}),await t(),e()}catch(P){console.error("Error updating document: ",P)}}};function S(E){if(!E)return!1;let I,R,P;if(E.startsWith("#"))if(E.length===4)I=parseInt(E[1]+E[1],16),R=parseInt(E[2]+E[2],16),P=parseInt(E[3]+E[3],16);else if(E.length===7)I=parseInt(E.slice(1,3),16),R=parseInt(E.slice(3,5),16),P=parseInt(E.slice(5,7),16);else return!1;else if(E.startsWith("rgb")){const A=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(A.length===3)I=A[0],R=A[1],P=A[2];else return!1}else{const A=document.createElement("div");A.style.color=E,document.body.appendChild(A);const $=window.getComputedStyle(A).color;if(document.body.removeChild(A),$.startsWith("rgb")){const M=$.substring($.indexOf("(")+1,$.lastIndexOf(")")).split(",").map(Number);if(M.length===3)I=M[0],R=M[1],P=M[2];else return!1}else return!1}return(I*299+R*587+P*114)/1e3>180}return c.jsxs("div",{className:te["profile-container"],children:[c.jsx(ct,{isShow:g.isShow,text:g.text}),c.jsx("div",{className:te["cover-container"],children:c.jsx("div",{className:te.cover,style:{background:_},children:c.jsx("div",{className:te["cover-pattern"]})})}),c.jsxs("div",{className:te["user-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[c.jsx("button",{className:te["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:m?URL.createObjectURL(m):o.avatar}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:C})]}),c.jsx("div",{className:te["colors-container"],style:{background:n.element_first_color},children:b.map(E=>c.jsx(c.Fragment,{children:E.colors.map((I,R)=>c.jsx("div",{className:te["color-circle"],style:{background:I},onClick:()=>k(I),children:_===I&&c.jsx("div",{className:te["active-circle"],style:{borderColor:S(I)?"#000":"#fff"}})},R))}))}),c.jsxs("div",{className:te["user-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:te["input-data-container"],children:[c.jsx("div",{className:te.label,style:{color:n.first_color},children:""}),c.jsx("input",{type:"text",value:i,className:te["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>a(E.target.value)})]}),c.jsxs("div",{className:te["input-data-container"],children:[c.jsx("div",{className:te.label,style:{color:n.first_color},children:" "}),c.jsx("input",{type:"text",value:l,className:te["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>u(E.target.value)})]}),c.jsx("div",{className:te["button-container"],children:c.jsx("button",{className:te["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:T,children:""})})]})]})}function GG({id:t}){const{theme:e,elementColors:n,setElementColors:r}=f.useContext(B),{authUser:s,ga:o}=ce(),[i,a]=f.useState({name:s.name,biography:s.biography,photo:s.avatar}),l=ie(),[u,d]=f.useState(!1),[h,m]=f.useState({isShow:!1,text:""}),[p,_]=f.useState({isShow:!1,images:[],index:null});f.useEffect(()=>{r({iconColor:e.text_first_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>l("/list-menu"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const v=async()=>{if(s&&s._id){const w=G(H,"users",s._id,"info","preferences"),b=await se(w);if(b.exists()){const C=b.data();console.log(C),a({name:C.name,biography:C.biography,photo:C.photo,cover:C.cover,balance:C.balance,followers:C.followers})}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")};f.useEffect(()=>{v()},[]);const x=()=>{navigator.clipboard.writeText(s._id).then(()=>{m({isShow:!0,text:"id    "})}).catch(w=>{m({isShow:!0,text:`   id ${w}`})})};f.useEffect(()=>{if(h.isShow){const w=setTimeout(()=>{m({isShow:!1})},1500);return()=>clearTimeout(w)}},[h.isShow]);const y=()=>{d(!1),m({isShow:!0,text:"  "})},g=w=>{_({isShow:!0,images:w,index:0})};return c.jsxs("div",{className:te.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),c.jsx($r,{isShow:p.isShow,images:p.images,index:p.index,onClose:()=>_({isShow:!1})}),u?c.jsx(WG,{handleEdit:y,fetchUserPreferences:v}):c.jsxs("div",{className:te["profile-container"],children:[c.jsx(ct,{isShow:h.isShow,text:h.text}),c.jsx("div",{className:te["cover-container"],children:c.jsx("div",{className:te.cover,style:{background:i.cover},children:c.jsx("div",{className:te["cover-pattern"]})})}),c.jsx("div",{className:te["user-photo"],style:{borderColor:e.background_color},children:c.jsx("img",{src:i.photo,onClick:()=>g(i.photo)})}),c.jsxs("div",{className:te["user-actions"],style:{background:e.element_first_color},children:[c.jsxs("div",{className:te["user-info"],children:[c.jsx("div",{className:te["user-name"],style:{color:e.text_first_color},children:i.name}),c.jsx("button",{className:te["circle-button"],style:{color:e.text_third_color,background:e.first_color},onClick:x,children:"#"})]}),c.jsx("div",{className:te["user-biography"],style:{color:e.text_first_color},children:i.biography}),c.jsxs("div",{className:te["button-container"],children:[c.jsx("button",{className:te["quit-button"],style:{background:e.element_second_color,color:e.text_first_color},onClick:()=>Qj(o),children:""}),c.jsx("button",{className:te["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:()=>d(!0),children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:e.text_third_color})})})]})]}),c.jsxs("div",{className:te["item-body"],style:{border:`2px solid ${e.element_first_color}`},children:[c.jsx("div",{className:te["item-info"],children:c.jsxs("div",{className:te["item-name"],style:{color:e.text_first_color},children:[":  ",i.balance," ",c.jsx(Bh,{color:e.first_color})]})}),c.jsx("div",{className:te["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_third_color})})})]}),c.jsxs("div",{className:te["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l(`/subscribers/${t}?isGroup=false`),children:[c.jsx("div",{className:te["item-info"],children:c.jsxs("div",{className:te["item-name"],style:{color:e.text_first_color},children:[": ",i.followers?i.followers.length:0]})}),c.jsx("div",{className:te["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_third_color})})})]}),c.jsxs("div",{className:te["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l("/settings"),children:[c.jsxs("div",{className:te["item-info"],children:[c.jsx("div",{className:te["item-icon"],children:c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.0001 1C16.7522 1 17.4936 1.05571 18.2158 1.16286L19.3043 4.46066C20.2579 4.7328 21.1643 5.12065 22.0043 5.60921L25.1328 4.10067C26.2406 4.95137 27.2263 5.95421 28.0578 7.07705L26.4935 10.1777C26.9671 11.0263 27.3399 11.9391 27.5949 12.8991L30.8734 14.0412C31.0541 15.4276 31.0418 16.8324 30.837 18.2154L27.5392 19.304C27.2689 20.2478 26.8831 21.1547 26.3906 22.004L27.8992 25.1325C27.0473 26.2406 26.0456 27.225 24.9228 28.0574L21.8221 26.4932C20.9644 26.9722 20.0502 27.3422 19.1008 27.5946L17.9586 30.8731C16.5722 31.0537 15.1675 31.0415 13.7844 30.8367L12.6959 27.5389C11.752 27.2686 10.8452 26.8828 9.9959 26.3903L6.86738 27.8989C5.75923 27.047 4.77484 26.0453 3.94243 24.9225L5.50669 21.8218C5.02886 20.9635 4.65892 20.0495 4.40528 19.1004L1.12676 17.9562C0.946317 16.5704 0.958576 15.1664 1.16318 13.7841L4.46099 12.6955C4.73313 11.742 5.12098 10.8356 5.60954 9.99557L4.10099 6.86705C4.95285 5.75891 5.95455 4.77451 7.07738 3.9421L10.178 5.50636C11.0358 5.02737 11.95 4.65737 12.8994 4.40495L14.0437 1.12643C14.6924 1.04203 15.3459 0.999799 16.0001 1Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),c.jsx("path",{d:"M16.0002 22.4282C19.5506 22.4282 22.4287 19.5501 22.4287 15.9998C22.4287 12.4494 19.5506 9.57129 16.0002 9.57129C12.4499 9.57129 9.57178 12.4494 9.57178 15.9998C9.57178 19.5501 12.4499 22.4282 16.0002 22.4282Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}),c.jsx("div",{className:te["item-name"],style:{color:e.text_first_color},children:""})]}),c.jsx("div",{className:te["item-circle"],style:{background:e.second_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]})]})]})}function KG({id:t}){const{authUser:e}=ce(),{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState({isShow:!0}),[a,l]=f.useState({isShow:!1,text:""}),u=ie(),[d,h]=f.useState([]),[m,p]=f.useState(!1),[_,v]=f.useState({isShow:!1,images:[],index:null});f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>u("/posts"),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),f.useEffect(()=>{x()},[t]);const x=async()=>{if(t){const k=G(H,"users",t,"info","preferences"),T=await se(k);if(T.exists()){const S=T.data();console.log(S),i({id:S.uid,isUser:!0,name:S.name,biography:S.biography,photo:S.photo,cover:S.cover,followers:S.followers||[]})}else console.log("No such document!"),i({isUser:!1,name:"  ",biography:""})}else console.error("authUser or authUser._id is undefined")};f.useEffect(()=>{if(a.isShow){const k=setTimeout(()=>{l({isShow:!1})},1500);return()=>clearTimeout(k)}},[a.isShow]),f.useEffect(()=>{const k=Jn(hs(Xt(H,"posts"),gi("timestamp","desc")),T=>{const S=[];T.forEach(E=>{const I=E.data();if(I.userId===t){const R=new Date(I.timestamp),P=I.likesArray,O=R.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});S.push({id:E.id,userId:I.userId,userName:I.userName,groupOwnerId:I.groupOwnerId,userPhoto:I.userPhoto,postText:I.text,postPhoto:I.photos,postData:O,likesArray:P})}}),h(S),p(!1)});return()=>{k()}},[t]);const y=(k,T)=>{v({isShow:!0,images:k,index:T})},g=(k,T)=>{switch(k){case"delete":return setAlertProp({isShow:!0,title:" ",text:"    ?",firstButtonName:"",secondButtonName:"",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(T)});default:return setAlertProp({isShow:!0,title:"",text:"",firstButtonName:"",secondButtonName:"",firstButtonOnClick:null,secondButtonOnClick:null})}},w=k=>{v({isShow:!0,images:k,index:0})},b=async()=>{if(e._id){const k=G(H,"users",t,"info","preferences"),T=G(H,"users",e._id,"info","preferences");try{const S=await se(k),E=await se(T);if(S.exists()&&E.exists()){const I=S.data(),R=E.data(),P=I.followers||[],O=R.subscribes||[];let A,$;P.includes(e._id)?(A=P.filter(M=>M!==e._id),$=O.filter(M=>M!==t)):(A=[...P,e._id],$=[...O,t]),await Ge(k,{followers:A},{merge:!0}),await Ge(T,{subscribes:$},{merge:!0}),await x(),console.log("Subscription updated successfully")}else console.error("Group or user document does not exist")}catch(S){console.error("Error updating subscription:",S)}}else console.error("User is not authenticated")},C=()=>{navigator.clipboard.writeText(o.id).then(()=>{l({isShow:!0,text:"id    "})}).catch(k=>{l({isShow:!0,text:`   id ${k}`})})};return c.jsxs("div",{className:te.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${n.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),c.jsx($r,{isShow:_.isShow,images:_.images,index:_.index,onClose:()=>v({isShow:!1})}),c.jsx(ct,{isShow:a.isShow,text:a.text}),c.jsx("div",{className:te["cover-container"],children:c.jsx("div",{className:te.cover,style:{background:o.cover},children:c.jsx("div",{className:te["cover-pattern"]})})}),c.jsx("div",{className:te["user-photo"],style:{borderColor:n.background_color},children:c.jsx("img",{src:o.photo,onClick:()=>w(o.photo)})}),o.isUser?c.jsxs("div",{className:te["user-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:te["user-info"],children:[c.jsx("div",{className:te["user-name"],style:{color:n.text_first_color},children:o.name}),c.jsx("button",{className:te["circle-button"],style:{color:n.text_third_color,background:n.first_color},onClick:C,children:"#"})]}),c.jsx("div",{className:te["user-biography"],style:{color:n.text_first_color},children:o.biography}),c.jsxs("div",{className:te["button-container"],children:[c.jsx("button",{className:te["quit-button"],style:{background:o.followers.includes(e._id)?n.element_second_color:n.first_color,color:n.text_third_color},onClick:b,children:o.followers&&o.followers.includes(e._id)?"":""}),c.jsx("button",{className:te["quit-button"],style:{background:n.element_second_color,color:n.text_first_color},onClick:()=>u(`/chat/${t}_${e._id}`),children:""})]})]}):c.jsx("div",{className:te["user-actions"],style:{background:n.element_first_color},children:c.jsx("div",{className:te["user-info"],children:c.jsx("div",{className:te["user-name"],style:{color:n.text_first_color},children:o.name})})}),c.jsxs("div",{className:te["item-body"],style:{border:`2px solid ${n.element_first_color}`},onClick:()=>u(`/subscribers/${t}?isGroup=false`),children:[c.jsx("div",{className:te["item-info"],children:c.jsxs("div",{className:te["item-name"],style:{color:n.text_first_color},children:[": ",o.followers?o.followers.length:0]})}),c.jsx("div",{className:te["item-circle"],style:{background:n.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n.text_third_color})})})]}),c.jsx("div",{className:te["posts-container"],children:m?c.jsxs(c.Fragment,{children:[c.jsx(Pt,{}),c.jsx(Pt,{}),c.jsx(Pt,{}),c.jsx(Pt,{})]}):d.map(k=>c.jsx(gu,{postId:k.id,groupOwnerId:k.groupOwnerId,userId:k.userId,userName:k.userName,userPhoto:k.userPhoto,postData:k.postData,postText:k.postText,postPhotos:k.postPhoto,likesArray:k.likesArray,photoClick:y,postAction:g},k.id))})]})}function ZG(){const{authUser:t}=ce(),{id:e}=Vn();return!e||e===t._id?c.jsx(GG,{id:t._id}):c.jsx(KG,{id:e})}const QG="_container_84yn6_1",XG={container:QG},fl={"block-body":"_block-body_1qf46_1","block-name":"_block-name_1qf46_10","block-button":"_block-button_1qf46_15","button-circle":"_button-circle_1qf46_25","button-name":"_button-name_1qf46_41"};function YG({name:t,buttonText:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=f.useContext(B);return c.jsxs("div",{className:fl["block-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:fl["block-name"],style:{color:r.text_first_color},children:t}),c.jsxs("button",{className:fl["block-button"],style:{background:r.first_color},onClick:n,children:[c.jsx("h4",{className:fl["button-name"],style:{color:r.text_third_color},children:e}),c.jsx("div",{className:fl["button-circle"],style:{background:r.text_first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.background_color})})})]})]})}const JG="_overlay_1y7wn_1",eK="_line_1y7wn_25",tK="_content_1y7wn_36",ws={overlay:JG,"menu-wrapper":"_menu-wrapper_1y7wn_11",line:eK,"content-wrapper":"_content-wrapper_1y7wn_36","menu-title":"_menu-title_1y7wn_46",content:tK,"input-promo":"_input-promo_1y7wn_64","main-button":"_main-button_1y7wn_80"};function nK({isShow:t,setShow:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=f.useContext(B),{authUser:a}=ce(),[l,u]=f.useState(Array(6).fill("")),[d,h]=f.useState([]),[m,p]=f.useState(!1),[_,v]=f.useState(!0),[x,y]=f.useState(),[g,w]=f.useState(),b=f.useRef(),C=f.useRef([]),[k,T]=f.useState({isShow:!1,text:""});f.useEffect(()=>{if(k.isShow){const $=setTimeout(()=>{T({isShow:!1})},1e3);return()=>clearTimeout($)}},[k]);const S=v6(0),E={hidden:{opacity:0,visibility:"hidden"},show:{opacity:1,visibility:"visible"},close:{marginTop:"100%"},open:{marginTop:"30%"}},I=($,M)=>{const j=$.target.value,N=[...l];N[M]=j,u(N),j.length===1&&M<C.current.length-1?C.current[M+1].focus():j.length===0&&M>0&&C.current[M-1].focus();const L=N.filter(D=>D!=="");v(L.length<6)},R=($,M)=>{const[j,N,L]=$.split(".").map(Number),[D,F]=M.split(":").map(Number);return new Date(L,N-1,j,D,F)},P=async()=>{u(Array(6).fill("")),v(!0);const $=l.join("").toUpperCase(),M=G(H,"promocodes",$),j=await se(M);if(j.exists()){const N=j.data();R(N.time.data,N.time.time)>new Date?(n("found",N.money),e(!1)):n("time exist",0)}else n("not found",0)},O=()=>{p(!0)},A=()=>{p(!1);const $=S.get();console.log("dragY:",$),b.current&&($<-70?b.current.style.marginTop="2%":$>10&&$<50?b.current.style.marginTop="3%":$>70&&e(!1)),S.set(0)};return c.jsxs(Le.div,{className:ws.overlay,variants:E,initial:"hidden",animate:t?"show":"hidden",children:[c.jsx(ct,{isShow:k.isShow,text:k.text}),c.jsxs(Le.section,{className:ws["menu-wrapper"],style:{y:S,background:r.element_first_color},ref:b,variants:E,initial:"close",animate:t?"open":"close",drag:"y",dragConstraints:{top:window.innerWidth>700?-300:-50,bottom:0},transition:{type:"spring",damping:40,stiffness:400},onDragStart:O,onDragEnd:A,children:[c.jsx("div",{className:ws.line,style:{background:r.element_second_color}}),c.jsxs("div",{className:ws["content-wrapper"],children:[c.jsx("h3",{className:ws["menu-title"],style:{color:r.text_first_color},children:""}),c.jsx("div",{className:ws.content,children:l.map(($,M)=>c.jsx("input",{type:"text",className:ws["input-promo"],style:{color:r.text_first_color,background:r.element_second_color,"--focusColor":r.gradient_first_color},maxLength:1,value:$,onChange:j=>I(j,M),ref:j=>C.current[M]=j},M))}),c.jsx("button",{className:ws["main-button"],style:{background:_?r.element_second_color:r.first_color,color:r.text_third_color},disabled:_,onClick:P,children:""})]})]})]})}function rK(){const{authUser:t}=ce(),{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState(!1),[a,l]=f.useState(),[u,d]=f.useState(),h=ie(),[m,p]=f.useState({isShow:!1,text:""});f.useEffect(()=>{if(m.isShow){const y=setTimeout(()=>{p({isShow:!1})},1e3);return()=>clearTimeout(y)}},[m]),f.useEffect(()=>{s({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>h("/group-list"),arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:0,background:e.background_color}),document.body.style.background=e.background_color},[B]),f.useEffect(()=>{(async()=>{if(t&&t._id){const g=G(H,"users",t._id,"info","preferences"),w=await se(g);if(w.exists()){const b=w.data();l(b.balance),d(b.promoLastActivated?new Date(b.promoLastActivated):null)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const _=async(y,g)=>{if(t&&t._id){const w=G(H,"users",t._id,"info","preferences"),b=await se(w),C=new Date;if(b.exists()){const k=b.data(),T=k.promoLastActivated?new Date(k.promoLastActivated):null;if(T&&C-T<24*60*60*1e3){p({isShow:!0,text:"      "});return}}try{await Cn(w,{balance:y,promoLastActivated:C.toISOString()}),p({isShow:!0,text:` .     ${g}`}),console.log(`Balance updated to ${y}`)}catch(k){console.error("Error updating balance:",k)}}else console.error("authUser or authUser._id is undefined")},v=(y,g)=>{switch(y){case"not found":return[p({isShow:!0,text:"  "}),i(!1)];case"time exist":return[p({isShow:!0,text:"  "}),i(!1)];case"found":return[_(a+g,g)]}},x=()=>{i(!0)};return c.jsxs("div",{className:XG.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 5px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${e.element_first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
        `}),c.jsx(ct,{isShow:m.isShow,text:m.text}),c.jsx(nK,{isShow:o,setShow:i,onClick:v}),c.jsx(YG,{name:" ",buttonText:"",onClick:x}),c.jsx(hn,{name:"",description:" ?",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_first_color,linkTo:"/casino"}),c.jsx(hn,{name:" ",description:"256 /c  -  ",backgroundColor:e.first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/analysis"}),c.jsx(hn,{name:"Genery AI",description:"   ",backgroundColor:e.second_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/messenger"}),c.jsx(hn,{name:" ",description:" ",backgroundColor:e.first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_third_color,arrowColor:e.text_third_color,arrowBackgroundColor:"",linkTo:"/generate-quote"}),c.jsx(hn,{name:"GCOIN",description:"  ",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_second_color,linkTo:"/tapcoin"}),c.jsx(hn,{name:"",description:"   ",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_first_color,linkTo:"/rocket"}),c.jsx(hn,{name:"",description:"  ",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/quiz"}),c.jsx(hn,{name:"Flyppi bird",description:"9/11",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_second_color,linkTo:"/flippybird"}),c.jsx(hn,{name:" ",description:" , IQ ",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_first_color,linkTo:"/rating"}),c.jsx(hn,{name:" ",description:"  2  ",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/guessline"})]})}const sK=()=>{const t=f.useRef(null),e=f.useRef(null),[n,r]=f.useState(null),s=async()=>{try{const a=await navigator.mediaDevices.getUserMedia({video:!0});t.current.srcObject=a,t.current.play()}catch(a){console.error("Error accessing camera: ",a)}},o=()=>{t.current.srcObject.getTracks().forEach(u=>{u.stop()}),t.current.srcObject=null},i=()=>{e.current.getContext("2d").drawImage(t.current,0,0,e.current.width,e.current.height);const l=e.current.toDataURL("image/png");r(l)};return c.jsxs("div",{children:[c.jsx("video",{ref:t,width:"640",height:"480",autoPlay:!0}),c.jsx("canvas",{ref:e,width:"640",height:"480",style:{display:"none"}}),c.jsxs("div",{children:[c.jsx("button",{onClick:s,children:"Start Camera"}),c.jsx("button",{onClick:i,children:"Capture Photo"}),c.jsx("button",{onClick:o,children:"Stop Camera"})]}),n&&c.jsxs("div",{children:[c.jsx("h2",{children:"Captured Image:"}),c.jsx("img",{src:n,alt:"Captured"})]})]})},oK="_container_1ka4o_1",iK="_coin_1ka4o_34",aK="_limit_1ka4o_120",lK="_icon_1ka4o_126",cK="_data_1ka4o_113",Bt={container:oK,"score-container":"_score-container_1ka4o_12","wrapper-action":"_wrapper-action_1ka4o_17","score-add":"_score-add_1ka4o_26",coin:iK,"control-point-1":"_control-point-1_1ka4o_45","control-point-2":"_control-point-2_1ka4o_55","control-point-3":"_control-point-3_1ka4o_64","control-point-4":"_control-point-4_1ka4o_74","control-point-center":"_control-point-center_1ka4o_84","coin-outer":"_coin-outer_1ka4o_93","coin-inner":"_coin-inner_1ka4o_104","data-container":"_data-container_1ka4o_113",limit:aK,icon:lK,data:cK};function uK(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),{authUser:s}=ce(),[o,i]=f.useState(),[a,l]=f.useState(0),[u,d]=f.useState(),h=f.useRef(),[m,p]=f.useState(0),[_,v]=f.useState([]),x=ie();f.useEffect(()=>{d(a)},[a]),f.useEffect(()=>{(async()=>{if(s&&s._id){const b=G(H,"users",s._id,"info","preferences"),C=await se(b);if(C.exists()){const k=C.data();i(k.balance),l(k.limit)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const y=async w=>{if(s&&s._id)try{const b=G(H,"users",s._id,"info","preferences");await Cn(b,{balance:w}),console.log(`Balance updated to ${w}`)}catch(b){console.error("Error updating balance:",b)}else console.error("authUser or authUser._id is undefined")};f.useEffect(()=>{y(o)},[o]),f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>x("/game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{if(u<a){const w=setTimeout(()=>{d(u+1)},500);return()=>clearTimeout(w)}},[u]);const g=w=>{if(u<=0)return;i(o+1),d(u-1);const b={x:w.clientX,y:w.clientY,id:Date.now()};v(C=>[...C,b]),setTimeout(()=>{v(C=>C.filter(k=>k.id!==b.id))},10)};return f.useEffect(()=>{h.current&&(h.current.style.transform=`rotateY(${m}deg)`,m&&setTimeout(()=>{p(0)},70))},[m]),c.jsxs("div",{className:Bt.container,children:[c.jsx(_m,{children:_.map(w=>c.jsx(Le.div,{className:Bt["score-add"],initial:{opacity:1,top:w.y-10,left:w.x-10},animate:{opacity:0,top:w.y-40,left:w.x-10},exit:{opacity:0},style:{color:t.text_first_color},children:"+1"},w.id))}),c.jsx("div",{className:Bt["score-container"],children:c.jsx(_u,{name:"",count:o,isBalance:!0})}),c.jsx("div",{className:Bt["wrapper-action"],children:c.jsxs("div",{className:Bt.coin,ref:h,onClick:g,children:[c.jsx("div",{className:Bt["control-point-1"],onClick:()=>p(30)}),c.jsx("div",{className:Bt["control-point-2"],onClick:()=>p(-30)}),c.jsx("div",{className:Bt["control-point-3"],onClick:()=>p(30)}),c.jsx("div",{className:Bt["control-point-4"],onClick:()=>p(-30)}),c.jsx("div",{className:Bt["control-point-center"]}),c.jsx("div",{className:Bt["coin-outer"],style:{background:t.first_color},children:c.jsx("div",{className:Bt["coin-inner"]})})]})}),c.jsx("div",{className:Bt["data-container"],children:c.jsxs("div",{className:Bt.limit,children:[c.jsx("div",{className:Bt.icon,children:c.jsx("svg",{width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.17925 0.737957C9.28191 0.797057 9.36135 0.88898 9.4046 0.998711C9.44784 1.10844 9.45234 1.22949 9.41735 1.34209L7.52826 7.43758H11.0138C11.1162 7.43754 11.2164 7.46728 11.302 7.52314C11.3876 7.57901 11.4549 7.65854 11.4955 7.75192C11.5361 7.84531 11.5483 7.94846 11.5305 8.04864C11.5128 8.14882 11.4659 8.24164 11.3956 8.31565L3.0043 17.1693C2.9231 17.2551 2.81506 17.311 2.69778 17.3279C2.58049 17.3449 2.46089 17.3219 2.35845 17.2627C2.25601 17.2035 2.17679 17.1116 2.13369 17.0019C2.09059 16.8923 2.08616 16.7714 2.12111 16.6589L4.0102 10.5624H0.524666C0.422234 10.5624 0.322033 10.5327 0.236431 10.4768C0.150829 10.421 0.0835737 10.3414 0.0429683 10.248C0.00236276 10.1547 -0.00981566 10.0515 0.00793624 9.95134C0.0256882 9.85116 0.0725932 9.75833 0.142861 9.68432L8.53417 0.83066C8.61526 0.745039 8.72314 0.689177 8.84025 0.672158C8.95737 0.655138 9.07685 0.677961 9.17925 0.736916V0.737957Z",fill:t.light_color})})}),c.jsx("div",{className:Bt.data,style:{color:t.text_first_color},children:`${u} / ${a}`})]})})]})}const dK="_overlay_1r3zo_2",hK="_container_1r3zo_14",fK="_koeff_1r3zo_36",mK="_action_text_1r3zo_48",pK="_track_1r3zo_59",gK="_rocket_1r3zo_70",_K="_cloud_1r3zo_81",it={overlay:dK,container:hK,"score-container":"_score-container_1r3zo_24","view-container":"_view-container_1r3zo_29",koeff:fK,action_text:mK,track:pK,"track-bg":"_track-bg_1r3zo_65",rocket:gK,"cloud-container":"_cloud-container_1r3zo_81",cloud:_K,"bet-container":"_bet-container_1r3zo_104","input-container":"_input-container_1r3zo_114","input-button":"_input-button_1r3zo_124","input-bet":"_input-bet_1r3zo_137","add-bet":"_add-bet_1r3zo_154"};function yK(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),{authUser:s}=ce(),[o,i]=f.useState(),[a,l]=f.useState(!1),[u,d]=f.useState(0),[h,m]=f.useState(100),[p,_]=f.useState(""),[v,x]=f.useState(" "),[y,g]=f.useState(!1),[w,b]=f.useState(!1),[C,k]=f.useState(!1),[T,S]=f.useState({isShow:!1,text:""}),[E,I]=f.useState({}),R=ie();f.useEffect(()=>{const N=()=>{window.innerWidth>700?I({stop:{right:-100,top:30},fly:{right:-600,top:-60}}):I({stop:{right:-20,top:120},fly:{right:-150,top:60}})};return N(),window.addEventListener("resize",N),()=>{window.removeEventListener("resize",N)}},[]);const P=f.useRef(),O=(N,L)=>{N=N.replace("#","");let D=parseInt(N.substring(0,2),16),F=parseInt(N.substring(2,4),16),V=parseInt(N.substring(4,6),16);return`rgba(${D}, ${F}, ${V}, ${L})`};f.useEffect(()=>{const N=P.current,L=N.getContext("2d");L.clearRect(0,0,N.width,N.height),L.beginPath(),L.moveTo(0,N.height),L.quadraticCurveTo(250,N.height/2,N.width,0),L.lineTo(N.width,N.height),L.closePath();const D=O(t.gradient_first_color,.5);L.fillStyle=D,L.fill(),L.strokeStyle=t.gradient_first_color,L.lineWidth=2,L.stroke()},[]),f.useEffect(()=>{if(T.isShow){const N=setTimeout(()=>{S({isShow:!1})},1e3);return()=>clearTimeout(N)}},[T]),f.useEffect(()=>{(async()=>{if(s&&s._id){const L=G(H,"users",s._id,"info","preferences"),D=await se(L);if(D.exists()){const F=D.data();i(F.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]),f.useEffect(()=>{if(!y){m(100),k(!1),b(!1),_(""),x(a?"":" ");return}if(y){d(0),_(""),x(" "),b(!0),k(!0),l(!1);const N=2e3+Math.random()*18e3,L=setTimeout(()=>{l(!0),g(!1),k(!1)},N);return()=>clearTimeout(L)}},[y]);const A=async N=>{if(s&&s._id)try{const L=G(H,"users",s._id,"info","preferences");await Cn(L,{balance:N}),console.log(`Balance updated to ${N}`)}catch(L){console.error("Error updating balance:",L)}else console.error("authUser or authUser._id is undefined")};f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>R("/game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{if(!C)return;const N=setInterval(()=>{d(L=>parseFloat((L+.01).toFixed(2)))},70);return()=>clearInterval(N)},[C]);const $=N=>{const L=N.target.value;m(L===""?"":parseInt(L,10))},M=()=>{if(h>o){S({isShow:!0,text:"     "});return}i(o-h),A(o-h),g(!0)},j=()=>{S({isShow:!0,text:`  ${Math.floor(h*u)}`}),i(N=>Math.floor(N+h*u)),A(o+Math.floor(h*u)),g(!1)};return c.jsx("div",{className:it.overlay,children:c.jsxs("div",{className:it.container,children:[c.jsx(ct,{text:T.text,isShow:T.isShow}),c.jsx("div",{className:it["score-container"],children:c.jsx(_u,{name:"",count:o,isBalance:!0})}),c.jsxs("div",{className:it["view-container"],children:[c.jsx("h3",{className:it.koeff,style:{color:t.text_first_color},children:`x${u}`}),c.jsx("h4",{className:it.action_text,style:{color:t.text_first_color},children:v}),c.jsx("div",{className:it.track,children:c.jsx("canvas",{ref:P,className:it["track-bg"]})}),c.jsx(Le.div,{variants:E,animate:a?"fly":"stop",className:it.rocket,transition:{duration:.3},children:c.jsx("img",{src:"rocket.png"})}),c.jsxs("div",{className:it["cloud-container"],children:[c.jsx("div",{className:it.cloud,children:c.jsx("img",{src:"cloud_1.png"})}),c.jsx("div",{className:it.cloud,children:c.jsx("img",{src:"cloud_2.png"})}),c.jsx("div",{className:it.cloud,children:c.jsx("img",{src:"cloud_3.png"})}),c.jsx("div",{className:it.cloud,children:c.jsx("img",{src:"cloud_2.png"})}),c.jsx("div",{className:it.cloud,children:c.jsx("img",{src:"cloud_1.png"})})]})]}),c.jsxs("div",{className:it["bet-container"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:it["input-container"],children:[c.jsx("button",{className:it["input-button"],style:{background:t.element_second_color},onClick:()=>m(N=>N-1),disabled:w,children:c.jsx("svg",{width:"18",height:"4",viewBox:"0 0 18 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M16 2H9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})}),c.jsx("input",{type:"number",placeholder:"",min:0,value:h,onChange:$,className:it["input-bet"],style:{color:t.text_first_color,caretColor:t.first_color,"--placeholderColor":t.text_third_color}}),c.jsx("button",{className:it["input-button"],style:{background:t.element_second_color},onClick:()=>m(N=>N+1),disabled:w,children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 2V9M9 16V9M9 9H16M9 9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})})]}),c.jsx("button",{className:it["add-bet"],style:{background:t.first_color,color:t.text_third_color},onClick:p===""?M:j,children:p})]})]})})}const vK="_container_bo65n_1",wK="_title_bo65n_11",xK="_block_bo65n_26",gn={container:vK,title:wK,block:xK,"block-info":"_block-info_bo65n_40","block-name":"_block-name_bo65n_49","block-label":"_block-label_bo65n_56","block-arrow":"_block-arrow_bo65n_65","question-index":"_question-index_bo65n_75","question-body":"_question-body_bo65n_86","variants-container":"_variants-container_bo65n_97","variant-body":"_variant-body_bo65n_106","variant-name":"_variant-name_bo65n_116","variant-circle":"_variant-circle_bo65n_124"},o5={"progress-body":"_progress-body_5eai3_1","progress-line":"_progress-line_5eai3_11"};function CK({color:t,progress:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B);return c.jsx("section",{className:o5["progress-body"],style:{background:n.element_first_color},children:c.jsx("div",{className:o5["progress-line"],style:{background:t,width:e}})})}function bK({name:t,state:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=f.useContext(B),a={correct:{isBackground:!0,color:r.first_color,svg:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_third_color})}),transform:"rotate(-45deg)",isBorder:!1},incorrect:{isBackground:!0,color:r.third_color,svg:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(45deg)",isBorder:!1},base:{isBackground:!1,color:r.element_first_color,svg:"",transform:"none",isBorder:!0}},l=a[e]||a.base;return c.jsxs("section",{variants:a,className:gn["variant-body"],style:{border:`2px solid ${l.color}`},onClick:n,children:[c.jsx("h4",{className:gn["variant-name"],style:{color:r.text_first_color},children:t}),c.jsx("div",{className:gn["variant-circle"],style:{background:l.isBackground?l.color:"none",border:l.isBorder?`2px solid ${r.element_first_color}`:"none",transform:l.transform},children:l.svg})]})}const kK=[{question:"What is the name of Russia's highest military award, often referred to as the 'Hero of the Russian Federation'?",answers:[{name:"Order of Lenin"},{name:"Order of the Red Banner"},{name:"Order of St. George"},{name:"Order of Courage"}],correctAnswerIndex:3},{question:"Which military branch of Russia operates the strategic missile forces responsible for nuclear deterrence?",answers:[{name:"Russian Ground Forces"},{name:"Russian Aerospace Forces"},{name:"Russian Navy"},{name:"Strategic Missile Troops"}],correctAnswerIndex:3},{question:"What is the name of Russia's only aircraft carrier, currently in service with the Russian Navy?",answers:[{name:"Admiral Kuznetsov"},{name:"Admiral Gorshkov"},{name:"Peter the Great"},{name:"Varyag"}],correctAnswerIndex:0},{question:"Which city hosts the headquarters of the Russian Navy's Northern Fleet?",answers:[{name:"Moscow"},{name:"Saint Petersburg"},{name:"Murmansk"},{name:"Sevastopol"}],correctAnswerIndex:2},{question:"In what year was the Russian Federation officially established, marking the modern era of the Russian military?",answers:[{name:"1991"},{name:"1993"},{name:"1995"},{name:"1999"}],correctAnswerIndex:0},{question:"Which Russian military operation annexed Crimea from Ukraine in 2014?",answers:[{name:"Operation Polar Star"},{name:"Operation Arctic Fox"},{name:"Operation Siberian Shield"},{name:"Operation Crimea"}],correctAnswerIndex:3},{question:"What is the name of Russia's main battle tank, known for its formidable firepower and armor?",answers:[{name:"T-72"},{name:"T-80"},{name:"T-90"},{name:"T-14 Armata"}],correctAnswerIndex:3},{question:"Which military exercise series, initiated by Russia, is one of the largest in the world, involving thousands of troops?",answers:[{name:"Exercise Suvorov"},{name:"Exercise Zapad"},{name:"Exercise Kavkaz"},{name:"Exercise Vostok"}],correctAnswerIndex:3},{question:"What is the name of Russia's primary combat aircraft, known for its versatility and role in air superiority?",answers:[{name:"Su-30"},{name:"MiG-31"},{name:"Su-57"},{name:"Tu-160"}],correctAnswerIndex:2},{question:"Which Russian military unit is famous for its demonstration of precision and coordination in military parades?",answers:[{name:"Spetsnaz"},{name:"VDV (Airborne Forces)"},{name:"Marines"},{name:"Presidential Regiment"}],correctAnswerIndex:3},{question:"What is the Russian term for a nuclear-powered ballistic missile submarine?",answers:[{name:"Kirov-class"},{name:"Yasen-class"},{name:"Typhoon-class"},{name:"Akula-class"}],correctAnswerIndex:2},{question:"Which Russian military figure is known as the 'Father of the Russian Navy' for his reforms and modernization efforts?",answers:[{name:"Peter the Great"},{name:"Admiral Kuznetsov"},{name:"Vladimir Putin"},{name:"Admiral Gorshkov"}],correctAnswerIndex:3},{question:"In which conflict did Russia deploy its military forces to support the Syrian government?",answers:[{name:"Libyan Civil War"},{name:"Yemeni Civil War"},{name:"Syrian Civil War"},{name:"Iraqi Civil War"}],correctAnswerIndex:2},{question:"What is the name of Russia's main strategic bomber, capable of carrying nuclear weapons and conducting long-range missions?",answers:[{name:"Tu-95"},{name:"Tu-22M"},{name:"Tu-160"},{name:"Su-24"}],correctAnswerIndex:2},{question:"Which Russian military branch is responsible for space operations and satellite launches?",answers:[{name:"Russian Space Forces"},{name:"Russian Strategic Missile Troops"},{name:"Russian Aerospace Forces"},{name:"Russian Airborne Troops"}],correctAnswerIndex:2},{question:"What is the name of Russia's primary infantry combat vehicle, widely used by its ground forces?",answers:[{name:"BMP-3"},{name:"BTR-80"},{name:"T-14 Armata"},{name:"Kurganets-25"}],correctAnswerIndex:0},{question:"Which military base, located in the Kaliningrad region, serves as a strategic outpost for Russia in Europe?",answers:[{name:"Sevastopol Naval Base"},{name:"Kronstadt Naval Base"},{name:"Luga Air Base"},{name:"Baltiysk Naval Base"}],correctAnswerIndex:3},{question:"What is the name of Russia's main anti-aircraft missile system, designed to defend against aerial threats?",answers:[{name:"S-300"},{name:"S-400"},{name:"Pantsir-S"},{name:"Tor-M2"}],correctAnswerIndex:1},{question:"Which Russian military doctrine emphasizes the use of nuclear weapons in response to conventional threats?",answers:[{name:"Gerasimov Doctrine"},{name:"Primakov Doctrine"},{name:"Makarov Doctrine"},{name:"Putin Doctrine"}],correctAnswerIndex:0},{question:"What is the name of Russia's main armored personnel carrier, widely used for troop transport?",answers:[{name:"BTR-82A"},{name:"BMP-2"},{name:"MT-LB"},{name:"Kurganets-25"}],correctAnswerIndex:0}],SK=[{question:"  15 + 7?",answers:[{name:"21"},{name:"22"},{name:"23"},{name:"24"}],correctAnswerIndex:1},{question:"     5 ,    24  ,     ?",answers:[{name:"110"},{name:"115"},{name:"120"},{name:"125"}],correctAnswerIndex:2},{question:"    12 ,    4  ,     ?",answers:[{name:"1"},{name:"1488"},{name:"8 ."},{name:"8 ."}],correctAnswerIndex:3},{question:"    3  ,    10  ,    ?",answers:[{name:" "},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:3},{question:"    6 ,    4  ,     ?",answers:[{name:"20"},{name:"22"},{name:"24"},{name:"26"}],correctAnswerIndex:2},{question:"      24 ,    3  ,     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"    20 ,    5 ,     ?",answers:[{name:"     "},{name:""},{name:"100"},{name:"34"}],correctAnswerIndex:2},{question:"    10 ,    8 ,     ?",answers:[{name:"70"},{name:"75"},{name:"80"},{name:"85"}],correctAnswerIndex:2},{question:"    8 ,    6 ,     ?",answers:[{name:"42"},{name:"44"},{name:"46"},{name:"48"}],correctAnswerIndex:3},{question:"    3 ,    4 ,     ?",answers:[{name:"8"},{name:"10"},{name:"12"},{name:"14"}],correctAnswerIndex:2},{question:"    4 ,     8  ,      ?",answers:[{name:"24"},{name:"28"},{name:"32"},{name:"36"}],correctAnswerIndex:2},{question:"    5 ,     40 ,     ?",answers:[{name:"180"},{name:"200"},{name:"220"},{name:"240"}],correctAnswerIndex:1},{question:"    5 ,    6 ,     ?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1},{question:"    10 ,    5 ,     ?",answers:[{name:"45"},{name:"50"},{name:"55"},{name:"60"}],correctAnswerIndex:1},{question:"    6 ,    8 .   ?",answers:[{name:"40 "},{name:"45 "},{name:"5 "},{name:"65 "}],correctAnswerIndex:2},{question:"    8 ,    4  ,     ?",answers:[{name:"28"},{name:"30"},{name:"32"},{name:"34"}],correctAnswerIndex:2},{question:"      20 ,    5  ,     ?",answers:[{name:"90"},{name:"100"},{name:"110"},{name:"120"}],correctAnswerIndex:1},{question:"    4 ,    6 ,     ?",answers:[{name:"20"},{name:"24"},{name:"28"},{name:"32"}],correctAnswerIndex:1},{question:"    18 ,    5 ,     ?",answers:[{name:"85"},{name:"90"},{name:"95"},{name:"100"}],correctAnswerIndex:1},{question:"    3 ,     10 ,     ?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1}],EK=[{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"     ''?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"     ''?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"   : '  '  '  '?",answers:[{name:"  "},{name:"  "}],correctAnswerIndex:0},{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:3},{question:"     ''?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"         ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"         - ?",answers:[{name:" -35"},{name:"-29"},{name:" -57"},{name:"-31"}],correctAnswerIndex:0},{question:"          ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"       ?",answers:[{name:"-90"},{name:"-80"},{name:"-72"},{name:""}],correctAnswerIndex:0},{question:"          ?",answers:[{name:""},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"      ,    ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"           ?",answers:[{name:"-400"},{name:"-300"},{name:"-500"},{name:"-200"}],correctAnswerIndex:0},{question:"       ?",answers:[{name:" "},{name:" -160"},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"        - ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"        - ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"      ?",answers:[{name:"-7"},{name:" "},{name:""},{name:" "}],correctAnswerIndex:0},{question:"       ?",answers:[{name:"-95"},{name:"-30"},{name:"-35"},{name:"-22"}],correctAnswerIndex:0},{question:"        - ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"     ?",answers:[{name:""},{name:"-72"},{name:"-90"},{name:""}],correctAnswerIndex:0},{question:"       ?",answers:[{name:""},{name:""},{name:" "},{name:""}],correctAnswerIndex:0},{question:"      - ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"      ?",answers:[{name:"-24"},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"       ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"       ?",answers:[{name:""},{name:""},{name:" "},{name:""}],correctAnswerIndex:0}],TK=[{question:"       ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:2},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:3},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:3},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:2},{question:"   ?",answers:[{name:" "},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"    ?",answers:[{name:" "},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"-     ?",answers:[{name:" "},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"  ?",answers:[{name:""},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"    ?",answers:[{name:""},{name:" "},{name:"  "},{name:" "}],correctAnswerIndex:1},{question:"  ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:" -    ?",answers:[{name:"-"},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"   ?",answers:[{name:"-"},{name:"-"},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ?",answers:[{name:" "},{name:"-"},{name:" "},{name:" "}],correctAnswerIndex:1},{question:"   ?",answers:[{name:""},{name:"-"},{name:"-"},{name:""}],correctAnswerIndex:1},{question:"  ?",answers:[{name:"-"},{name:"-"},{name:"-"},{name:" "}],correctAnswerIndex:2},{question:"  ?",answers:[{name:"-"},{name:"-"},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ?",answers:[{name:"-"},{name:"-"},{name:"-"},{name:"-"}],correctAnswerIndex:3},{question:"   ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:2},{question:"   ?",answers:[{name:""},{name:""},{name:"-"},{name:""}],correctAnswerIndex:1},{question:"    ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"   ?",answers:[{name:"-"},{name:" "},{name:""},{name:" "}],correctAnswerIndex:3},{question:"   ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0}];function IK({mode:t}){const[e,n]=f.useState(""),[r,s]=f.useState(),{authUser:o}=ce(),i=f.useRef(null),{theme:a,setThemeById:l,elementColors:u,setElementColors:d}=f.useContext(B),h=ie(),p={english:{questions:kK,timePerQuestion:5},math:{questions:SK,timePerQuestion:20},russian:{questions:EK,timePerQuestion:15},kyrgyz:{questions:TK,timePerQuestion:20}}[t];f.useEffect(()=>{d({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!0,arrowLink:()=>h("/quiz"),arrowColor:a.text_first_color,isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:0,background:a.background_color}),document.body.style.background=a.background_color},[B]);const _=(ne,je)=>[...ne].sort(()=>.5-Math.random()).slice(0,je),[v,x]=f.useState([]),[y,g]=f.useState(0),[w,b]=f.useState(new Array(4).fill("base")),[C,k]=f.useState(0),[T,S]=f.useState(0),[E,I]=f.useState(!1),[R,P]=f.useState(!1),[O,A]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[$,M]=f.useState({isShow:!1,images:[],index:null});f.useEffect(()=>{fetch("https://api.ipify.org?format=json").then(ne=>ne.json()).then(ne=>{n(ne.ip)}).catch(ne=>{console.error("Error fetching IP address:",ne)})},[]),f.useEffect(()=>{fetch("https://ipinfo.io/json?token=daabefc348f9fc").then(ne=>ne.json()).then(ne=>{console.log("IP Address:",ne.ip),console.log("City:",ne.city),console.log("Region:",ne.region),console.log("Country:",ne.country),console.log("Location:",ne.loc),console.log("Street:",ne.org),n({ip:ne.ip,city:ne.city,region:ne.region,location:ne.loc})}).catch(ne=>{console.error("Error fetching IP address and location:",ne)})},[]);const j=ne=>["","","","","","","","","","","",""][ne],N=ne=>new Promise((je,nt)=>{const er=new Image;er.src=ne,er.onload=()=>je(er),er.onerror=gs=>nt(gs)}),L=async ne=>{try{const je=i.current,nt=je.getContext("2d"),er=await N("SMO.jpg"),gs=await N("print.png");nt.drawImage(er,0,0,je.width,je.height),nt.font="20px Times New Roman",nt.fillStyle="#000",nt.fillText(o.name,145,48);const yu=Math.floor(Math.random()*9001)+1e3;nt.font="16px Times New Roman",nt.fillText(` :   ${e.city}, ${e.location}, IP : ${e.ip} `,170,68),nt.font="20px Times New Roman",nt.fillText(yu,680,95);const wi=new Date;wi.setDate(wi.getDate()+1);const W6=wi.getDate(),G6=wi.getMonth(),K6=j(G6);nt.fillText(W6,420,138),nt.fillText(K6,470,138),nt.drawImage(gs,450,140,200,200);const Z6=je.toDataURL("image/png");ne(Z6,yu)}catch(je){console.error("  :",je)}};f.useEffect(()=>{if(!p)return;const ne=_(p.questions,10);x(ne),S(p.timePerQuestion)},[t]);const D=ne=>{const je=Math.floor(ne/60),nt=ne%60;return`${je}:${nt<10?"0":""}${nt}`};f.useEffect(()=>{let ne;return T>0&&!E&&!R?ne=setInterval(()=>{S(je=>je-1)},1e3):T===0&&!R&&V(),()=>clearInterval(ne)},[T,E,R]),f.useEffect(()=>{v[y]&&(b(new Array(v[y].answers.length).fill("base")),S(p.timePerQuestion),I(!1))},[y,v]);const F=ne=>{var je;if(!E&&!R){const nt=(je=v[y])==null?void 0:je.correctAnswerIndex,er=ne===nt,gs=w.map((yu,wi)=>wi===ne?er?"correct":"incorrect":yu);er||(gs[nt]="correct"),b(gs),er&&k(C+5),I(!0),setTimeout(()=>ut(),2e3)}},V=()=>{var ne;if(!E&&!R){const je=(ne=v[y])==null?void 0:ne.correctAnswerIndex;if(je!==void 0){const nt=w.map((er,gs)=>gs===je?"correct":"base");b(nt),I(!0),setTimeout(()=>ut(),2e3)}}},z=()=>{h("/quiz")},[K,ue]=f.useState(!1);f.useEffect(()=>{!$.isShow&&K&&(A({...O,isShow:!0}),ue(!1))},[$.isShow]);const ut=async()=>{y<v.length-1?g(y+1):(P(!0),t==="kyrgyz"?C>40?L(ne=>{M({isShow:!0,images:[ne],index:0}),ue(!0),A({title:" !",text:` !  : ${C}.           !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:z,secondButtonOnClick:Ot})}):C<20&&L(ne=>{M({isShow:!0,images:[ne],index:0}),ue(!0),A({title:" !",text:` !  : ${C}.           !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:z,secondButtonOnClick:Ot})}):t==="russian"?C>40?L(ne=>{M({isShow:!0,images:[ne],index:0}),ue(!0),A({title:" !",text:` !  : ${C}.          , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:z,secondButtonOnClick:Ot})}):C<20&&L(ne=>{M({isShow:!0,images:[ne],index:0}),ue(!0),A({title:" !",text:` !  : ${C}.        , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:z,secondButtonOnClick:Ot})}):t==="math"?C>40?L(ne=>{M({isShow:!0,images:[ne],index:0}),ue(!0),A({title:" !",text:` !  : ${C}.           , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:z,secondButtonOnClick:Ot})}):C<20&&L(ne=>{M({isShow:!0,images:[ne],index:0}),ue(!0),A({title:" !",text:` !  : ${C}.         , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:z,secondButtonOnClick:Ot})}):t==="english"&&(C>40?L(ne=>{M({isShow:!0,images:[ne],index:0}),ue(!0),A({title:" !",text:` !  : ${C}.          , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:z,secondButtonOnClick:Ot})}):C<20&&L(ne=>{M({isShow:!0,images:[ne],index:0}),ue(!0),A({title:" !",text:` !  : ${C}.        , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:z,secondButtonOnClick:Ot})})))},Ot=()=>{P(!1),x(_(p.questions,10)),g(0),b(new Array(4).fill("base")),k(0),S(p.timePerQuestion),I(!1),A({isShow:!1})},ps=(y+1)/v.length*100;return v[y]?c.jsxs("div",{className:gn.container,children:[c.jsx("canvas",{ref:i,width:"816",height:"367",style:{display:"none"}}),c.jsx($r,{isShow:$.isShow,images:$.images,index:$.index,onClose:()=>M({isShow:!1})}),c.jsx(wo,{title:O.title,text:O.text,isShow:O.isShow,firstButtonName:O.firstButtonName,secondButtonName:O.secondButtonName,firstButtonOnClick:O.firstButtonOnClick,secondButtonOnClick:O.secondButtonOnClick}),c.jsx(_u,{name:"",isBalance:!1,count:D(T)}),c.jsxs("h3",{className:gn["question-index"],style:{color:a.text_first_color},children:[": ",y+1," / ",v.length]}),c.jsx(CK,{color:a.first_color,progress:`${ps}%`}),c.jsx("div",{className:gn["question-body"],style:{color:a.text_first_color},children:v[y].question}),c.jsx("div",{className:gn["variants-container"],children:v[y].answers.map((ne,je)=>c.jsx(bK,{name:ne.name,state:w[je],onClick:()=>F(je)},je))})]}):null}function NK({blockColor:t,name:e,textColor:n,arrowBackground:r,labelColor:s,labelTextColor:o,labelName:i,onClick:a}){const{theme:l,setThemeById:u,elementColors:d,setElementColors:h}=f.useContext(B);return c.jsxs("div",{className:gn.block,style:{background:t},onClick:a,children:[c.jsxs("section",{className:gn["block-info"],children:[c.jsx("h5",{className:gn["block-name"],style:{color:n},children:e}),c.jsx("div",{className:gn["block-label"],style:{background:s,color:o},children:i})]}),c.jsx("div",{className:gn["block-arrow"],style:{background:r},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:l.text_third_color})})})]})}function jK(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=ie(),[o,i]=f.useState(),a=[{blockColor:t.block_second_color,name:"English",labelName:"5 ",textColor:t.text_first_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/english")},{blockColor:t.block_third_color,name:" ",labelName:"20 ",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_second_color,onClick:()=>s("/quiz/kyrgyz")},{blockColor:t.block_first_color,name:" ",labelName:"15 ",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_third_color,onClick:()=>s("/quiz/russian")},{blockColor:t.block_second_color,name:"",labelName:"20 ",textColor:t.text_first_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/math")}];return f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[B]),c.jsxs("div",{className:gn.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),c.jsx("h4",{className:gn.title,style:{color:t.text_first_color},children:" :"}),a.map((l,u)=>c.jsx(NK,{blockColor:l.blockColor,name:l.name,textColor:l.textColor,labelColor:l.labelcolor,labelName:l.labelName,labelTextColor:l.labelTextColor,arrowBackground:l.arrowBackground,onClick:l.onClick},u))]})}function PK(){const{mode:t}=Vn();return t?c.jsx(IK,{mode:t}):c.jsx(jK,{})}const LK="_container_8l478_2",AK="_add_8l478_31",xs={container:LK,"search-input-container":"_search-input-container_8l478_12","search-container":"_search-container_8l478_23",add:AK,"empty-body":"_empty-body_8l478_51","empty-photo":"_empty-photo_8l478_60","empty-info":"_empty-info_8l478_70","empty-name":"_empty-name_8l478_79"},RK="_container_1qk2k_1",DK="_icon_1qk2k_10",OK="_input_1qk2k_16",Kp={container:RK,icon:DK,input:OK};function V6({value:t,onChange:e,placeholder:n}){const{theme:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState("");return c.jsxs("div",{className:Kp.container,style:{background:r.element_first_color},children:[c.jsx("div",{className:Kp.icon,children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.8637 11.7356C12.8296 10.5965 13.4157 9.10026 13.4157 7.46154C13.4157 3.89293 10.6363 1 7.20785 1C3.77935 1 1 3.89293 1 7.46154C1 11.0301 3.77935 13.9231 7.20785 13.9231C9.06196 13.9231 10.7262 13.077 11.8637 11.7356ZM11.8637 11.7356L15 15",stroke:r.text_first_color,"stroke-linejoin":"round"})})}),c.jsx("input",{className:Kp.input,placeholder:n,onChange:e,style:{"--caret-color":r.first_color,"--placeholder-color":r.text_second_color,color:r.text_first_color}})]})}const MK="_body_1amdf_2",$K="_photo_1amdf_11",FK="_info_1amdf_27",BK="_name_1amdf_36",sd={body:MK,photo:$K,info:FK,name:BK};function z6({id:t,name:e,photo:n,onClick:r}){const{theme:s,setElementColors:o}=f.useContext(B),i=()=>{r(t)};return c.jsxs("div",{className:sd.body,style:{borderTop:`1px solid ${s.element_first_color}`},onClick:i,children:[c.jsx("div",{className:sd.photo,children:c.jsx("img",{src:n,alt:""})}),c.jsx("div",{className:sd.info,children:c.jsx("div",{className:sd.name,style:{color:s.text_first_color},children:e})})]})}function UK(){const{theme:t,setElementColors:e}=f.useContext(B),{authUser:n}=ce(),[r,s]=f.useState([]),[o,i]=f.useState(""),[a,l]=f.useState(!1),u=ie();f.useEffect(()=>{e({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>u("/home"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]);const d=async()=>{const _=Xt(H,"groups"),v=await hy(_),x=[];return await Promise.all(v.docs.map(async y=>{const g=y.id,w=G(H,"groups",g,"info","info"),b=await se(w);if(b.exists()){const C=b.data();x.push({id:g,name:C.name,photo:C.photo,membersCount:C.members?C.members.length:0,isGroup:!0})}})),x.sort((y,g)=>g.membersCount-y.membersCount),x};f.useEffect(()=>{(async()=>{try{l(!0);const v=await d();s([...v])}catch(v){console.error("Error fetching data:",v)}finally{l(!1)}})()},[]);const h=_=>{i(_.target.value)},m=r.filter(_=>_.name.toLowerCase().includes(o.toLowerCase())||_.id.toLowerCase().includes(o.toLowerCase())),p=(_,v)=>{u(v?`/group/${_}`:`/profile/${_}`)};return c.jsxs("div",{className:xs.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color};
                  border-radius: 5px;
                  cursor: pointer;
                }
                ::-webkit-scrollbar-track {
                  background-color: rgba(0, 0, 0, 0.3);
                }
            `}),c.jsx("div",{className:xs["search-input-container"],style:{background:t.background_color},children:c.jsx(V6,{value:o,onChange:h,placeholder:"   "})}),c.jsx("div",{className:xs["search-container"],children:a?Array.from({length:2}).map((_,v)=>c.jsxs("div",{className:xs["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:xs["empty-photo"],children:c.jsx(yt,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:xs["empty-info"],children:c.jsx("div",{className:xs["empty-name"],style:{color:t.text_first_color},children:c.jsx(yt,{height:"10px",width:"100px",shape:"rect"})})})]},v)):m.map((_,v)=>c.jsx(z6,{id:_.id,name:_.name,photo:_.photo,onClick:()=>p(_.id,_.isGroup)},v))}),c.jsx("button",{className:xs.add,style:{background:t.first_color},onClick:()=>u("/create-group"),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:t.text_third_color,strokeWidth:"2",strokeLinecap:"round"})})})]})}const VK="_container_1usfq_2",zK="_cover_1usfq_22",HK="_label_1usfq_189",Z={container:VK,"profile-container":"_profile-container_1usfq_13","cover-container":"_cover-container_1usfq_22",cover:zK,"cover-pattern":"_cover-pattern_1usfq_41","group-photo":"_group-photo_1usfq_49","change-photo-button":"_change-photo-button_1usfq_68","group-actions":"_group-actions_1usfq_86","group-info":"_group-info_1usfq_92","group-name":"_group-name_1usfq_99","circle-button":"_circle-button_1usfq_104","group-description":"_group-description_1usfq_121","button-container":"_button-container_1usfq_126","quit-button":"_quit-button_1usfq_135","colors-container":"_colors-container_1usfq_152","color-circle":"_color-circle_1usfq_162","active-circle":"_active-circle_1usfq_172","input-data-container":"_input-data-container_1usfq_179",label:HK,"input-data":"_input-data_1usfq_179","item-body":"_item-body_1usfq_205","item-name":"_item-name_1usfq_226","item-info":"_item-info_1usfq_233","item-circle":"_item-circle_1usfq_241","posts-container":"_posts-container_1usfq_258"};function qK({fetchGroupData:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),{authUser:o}=ce(),{id:i}=Vn(),[a,l]=f.useState(""),[u,d]=f.useState(""),[h,m]=f.useState(!0),[p,_]=f.useState(null),[v,x]=f.useState(""),[y,g]=f.useState([]),[w,b]=f.useState({isShow:!1,text:""}),[C,k]=f.useState([]);f.useEffect(()=>{(async()=>{if(i)try{const O=G(H,"groups",i,"info","info"),A=await se(O);if(A.exists()){const $=A.data();x($.cover),l($.name),d($.description),k($),console.log($)}else console.log("No such document!")}catch(O){console.error("Error fetching group data:",O)}else console.error("ID   ")})()},[i]),f.useEffect(()=>{(async()=>{if(o&&o._id){const O=G(H,"users",o._id,"info","preferences"),A=await se(O);if(A.exists()){const $=A.data();g(M=>[...M,...$.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const T=y?vi.filter(P=>y.includes(P.name)):[];f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),f.useEffect(()=>{if(w.isShow){const P=setTimeout(()=>{b({isShow:!1})},1500);return()=>clearTimeout(P)}},[w.isShow]);const S=P=>{P.target.files[0]&&(_(P.target.files[0]),console.log(P.target.files[0]))},E=P=>{x(P)};function I(P){if(!P)return!1;let O,A,$;if(P.startsWith("#"))if(P.length===4)O=parseInt(P[1]+P[1],16),A=parseInt(P[2]+P[2],16),$=parseInt(P[3]+P[3],16);else if(P.length===7)O=parseInt(P.slice(1,3),16),A=parseInt(P.slice(3,5),16),$=parseInt(P.slice(5,7),16);else return!1;else if(P.startsWith("rgb")){const j=P.substring(P.indexOf("(")+1,P.lastIndexOf(")")).split(",").map(Number);if(j.length===3)O=j[0],A=j[1],$=j[2];else return!1}else{const j=document.createElement("div");j.style.color=P,document.body.appendChild(j);const N=window.getComputedStyle(j).color;if(document.body.removeChild(j),N.startsWith("rgb")){const L=N.substring(N.indexOf("(")+1,N.lastIndexOf(")")).split(",").map(Number);if(L.length===3)O=L[0],A=L[1],$=L[2];else return!1}else return!1}return(O*299+A*587+$*114)/1e3>180}const R=async()=>{let P=null;const O=new Date().toISOString();if(p){const A=kn(Sn,`groups_photo/${i}/${O}_${p.name}`);await mr(A,p),P=await $n(A)}if(i){const A=G(H,"groups",i,"info","info");try{await Ge(A,{name:a,description:u,photo:p?P:C.photo,cover:v},{merge:!0}),await t(),e()}catch($){console.error("Error updating document: ",$)}}};return c.jsxs("div",{className:Z["profile-container"],children:[c.jsx(ct,{isShow:w.isShow,text:w.text}),c.jsx("div",{className:Z["cover-container"],children:c.jsx("div",{className:Z.cover,style:{background:v},children:c.jsx("div",{className:Z["cover-pattern"]})})}),c.jsxs("div",{className:Z["group-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[c.jsx("button",{className:Z["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:p?URL.createObjectURL(p):C.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:S})]}),c.jsx("div",{className:Z["colors-container"],style:{background:n.element_first_color},children:T.map(P=>c.jsx(c.Fragment,{children:P.colors.map((O,A)=>c.jsx("div",{className:Z["color-circle"],style:{background:O},onClick:()=>E(O),children:v===O&&c.jsx("div",{className:Z["active-circle"],style:{borderColor:I(O)?"#000":"#fff"}})},A))}))}),c.jsxs("div",{className:Z["group-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:Z["input-data-container"],children:[c.jsx("div",{className:Z.label,style:{color:n.first_color},children:""}),c.jsx("input",{type:"text",value:a,className:Z["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:P=>l(P.target.value)})]}),c.jsxs("div",{className:Z["input-data-container"],children:[c.jsx("div",{className:Z.label,style:{color:n.text_first_color},children:" "}),c.jsx("input",{type:"text",value:u,className:Z["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:P=>d(P.target.value)})]}),c.jsx("div",{className:Z["button-container"],children:c.jsx("button",{className:Z["quit-button"],style:{background:n.first_color,color:n.text_third_color},onClick:R,children:""})})]})]})}function WK(){const{theme:t,setElementColors:e}=f.useContext(B),{authUser:n,ga:r}=ce(),[s,o]=f.useState({}),i=ie(),{id:a}=Vn(),[l,u]=f.useState(!1),[d,h]=f.useState({isShow:!1,text:""}),[m,p]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[_,v]=f.useState({isShow:!1,images:[],index:null}),[x,y]=f.useState([]),[g,w]=f.useState(!1),[b,C]=f.useState(!1),[k,T]=f.useState(!1);f.useEffect(()=>{e({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>i("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]);const S=async()=>{if(a)try{const L=G(H,"groups",a,"info","info"),D=await se(L);if(D.exists()){const F=D.data();o(F),console.log(F)}else console.log("No such document!"),o({isGroup:!1,name:"  ",photo:"1",membersCount:0,owner:null})}catch(L){console.error("Error fetching group data:",L)}else console.error("ID   ")};f.useEffect(()=>{S()},[a]),f.useEffect(()=>{if(!(n!=null&&n._id))return;const L=G(H,"chats",a),D=Jn(L,F=>{T(F.exists())});return()=>{D()}},[n,a]);const E=()=>{navigator.clipboard.writeText(a).then(()=>{h({isShow:!0,text:"ID     "}),console.log(s)}).catch(L=>{h({isShow:!0,text:`   ID: ${L}`})})};f.useEffect(()=>{if(d.isShow){const L=setTimeout(()=>{h({isShow:!1})},1500);return()=>clearTimeout(L)}},[d.isShow]);const I=()=>{u(!1),h({isShow:!0,text:"  "})},R=L=>{v({isShow:!0,images:L,index:0})},P=async()=>{if(n._id){const L=G(H,"groups",a,"info","info"),D=G(H,"users",n._id,"info","preferences");try{const F=await se(D),V=await se(L);if(V.exists()){let z;const K=V.data().members||[];K.includes(n._id)?(z=K.filter(ue=>ue!==n._id),F.exists()&&await Ge(D,{mainGroup:null},{merge:!0})):(z=[...K,n._id],F.exists()&&await Ge(D,{mainGroup:a},{merge:!0})),await Ge(L,{members:z},{merge:!0}),await S()}else console.error("No such document!")}catch(F){console.error("Error updating document: ",F)}}};f.useEffect(()=>{const L=Jn(hs(Xt(H,"posts"),gi("timestamp","desc")),D=>{const F=[];D.forEach(V=>{const z=V.data();if(z.userId===a){const K=new Date(z.timestamp),ue=z.likesArray,ut=K.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});F.push({id:V.id,userId:z.userId,userName:z.userName,groupOwnerId:z.groupOwnerId,userPhoto:z.userPhoto,postText:z.text,postPhoto:z.photos,postData:ut,likesArray:ue})}}),y(F),w(!1)});return()=>{L()}},[a]);const O=async(L,D)=>{try{const F=new Date().toISOString();let V=[];for(const z of D){const K=kn(Sn,`groups_photo/${a}/${F}_${z.name}`);await mr(K,z);const ue=await $n(K);V.push(ue)}await A(L,V)}catch(F){console.error("Error handling send: ",F)}},A=async(L,D)=>{try{const F=new Date().toISOString();await em(Xt(H,"posts"),{photos:D,text:L,timestamp:F,userId:a,groupOwnerId:s.owner,userName:s.name,userPhoto:s.photo,likesArray:[]}),console.log("Message saved successfully.")}catch(F){console.error("Error adding document: ",F)}},$=(L,D)=>{v({isShow:!0,images:L,index:D})},M=()=>{p({isShow:!1})},j=async L=>{p({isShow:!1});try{await zl(G(H,"posts",L))}catch(D){console.error("Error deleting post: ",D)}finally{h({isShow:!0,text:" "})}},N=(L,D)=>{switch(L){case"delete":return p({isShow:!0,title:" ",text:"    ?",firstButtonName:"",secondButtonName:"",firstButtonOnClick:M,secondButtonOnClick:()=>j(D)});default:return p({isShow:!0,title:"",text:"",firstButtonName:"",secondButtonName:"",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:Z.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),c.jsx($r,{isShow:_.isShow,images:_.images,index:_.index,onClose:()=>v({isShow:!1})}),c.jsx(wo,{title:m.title,text:m.text,isShow:m.isShow,firstButtonName:m.firstButtonName,secondButtonName:m.secondButtonName,firstButtonOnClick:m.firstButtonOnClick,secondButtonOnClick:m.secondButtonOnClick}),c.jsx(ct,{isShow:d.isShow,text:d.text}),l?c.jsx(qK,{handleEdit:I,fetchGroupData:S,id:s.userId}):c.jsxs("div",{className:Z["profile-container"],children:[c.jsx("div",{className:Z["cover-container"],children:c.jsx("div",{className:Z.cover,style:{background:s.cover},children:c.jsx("div",{className:Z["cover-pattern"]})})}),c.jsx("div",{className:Z["group-photo"],style:{borderColor:t.background_color},children:c.jsx("img",{src:s.photo,onClick:()=>R(s.photo)})}),c.jsxs("div",{className:Z["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:Z["group-info"],children:[c.jsx("div",{className:Z["group-name"],style:{color:t.text_first_color},children:s.name}),c.jsx("button",{className:Z["circle-button"],style:{color:t.text_third_color,background:t.first_color},onClick:E,children:"#"})]}),c.jsx("div",{className:Z["group-description"],style:{color:t.text_first_color},children:s.description}),c.jsxs("div",{className:Z["button-container"],children:[c.jsx("button",{className:Z["quit-button"],style:{background:s.members&&s.members.includes(n._id)?t.element_second_color:t.first_color,color:s.members&&s.members.includes(n._id)?t.text_first_color:t.text_third_color},onClick:P,children:s.members&&s.members.includes(n._id)?"":""}),c.jsx("button",{className:Z["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:()=>u(!0),children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:t.text_third_color})})})]})]}),c.jsxs("div",{className:Z["item-body"],style:{background:t.first_color},onClick:k?()=>i(`/chat/${a}`):()=>i(`/create-chat/${a}`),children:[c.jsx("div",{className:Z["item-info"],children:c.jsx("div",{className:Z["item-name"],style:{color:t.text_third_color},children:k?" ":" "})}),c.jsx("div",{className:Z["item-circle"],children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_third_color})})})]}),c.jsxs("div",{className:Z["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/subscribers/${a}?isGroup=true`),children:[c.jsx("div",{className:Z["item-info"],children:c.jsxs("div",{className:Z["item-name"],style:{color:t.text_first_color},children:[": ",s.members?s.members.length:0]})}),c.jsx("div",{className:Z["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_third_color})})})]}),c.jsxs("div",{className:Z["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/timetable/${a}`),children:[c.jsx("div",{className:Z["item-info"],children:c.jsx("div",{className:Z["item-name"],style:{color:t.text_first_color},children:" "})}),c.jsx("div",{className:Z["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_third_color})})})]}),c.jsxs("div",{className:Z["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/download/${a}`),children:[c.jsx("div",{className:Z["item-info"],children:c.jsx("div",{className:Z["item-name"],style:{color:t.text_first_color},children:" "})}),c.jsx("div",{className:Z["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_third_color})})})]}),c.jsx(pu,{placeholder:" ?",isPanelTop:!1,onSend:O,addFiles:!0}),c.jsx("div",{className:Z["posts-container"],children:g?c.jsxs(c.Fragment,{children:[c.jsx(Pt,{}),c.jsx(Pt,{}),c.jsx(Pt,{}),c.jsx(Pt,{})]}):x.map(L=>c.jsx(gu,{postId:L.id,groupOwnerId:L.groupOwnerId,userId:L.userId,userName:L.userName,userPhoto:L.userPhoto,postData:L.postData,postText:L.postText,postPhotos:L.postPhoto,likesArray:L.likesArray,photoClick:$,postAction:N},L.id))})]})]})}function GK({id:t}){const{theme:e,setElementColors:n}=f.useContext(B),{authUser:r}=ce(),[s,o]=f.useState({name:"",description:"",photo:"",cover:"",balance:0,members:[]}),[i,a]=f.useState({isShow:!1,text:""}),[l,u]=f.useState([]),[d,h]=f.useState(!1),[m,p]=f.useState({isShow:!1,images:[],index:null}),[_,v]=f.useState(!1),x=ie();f.useEffect(()=>{n({iconColor:e.text_first_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>x("/search"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const y=async()=>{if(t)try{const C=G(H,"groups",t,"info","info"),k=await se(C);if(k.exists()){const T=k.data();o(T),console.log(T)}else console.log("No such document!"),o({isGroup:!1,name:"  ",photo:"1",membersCount:0,owner:null})}catch(C){console.error("Error fetching group data:",C)}else console.error("ID   ")};f.useEffect(()=>{y()},[t]),f.useEffect(()=>{if(i.isShow){const C=setTimeout(()=>{a({isShow:!1})},1500);return()=>clearTimeout(C)}},[i.isShow]);const g=async()=>{if(r._id){const C=G(H,"groups",t,"info","info"),k=G(H,"users",r._id,"info","preferences");try{const T=await se(k),S=await se(C);if(S.exists()){let E;const I=S.data().members||[];I.includes(r._id)?(E=I.filter(R=>R!==r._id),T.exists()&&await Ge(k,{mainGroup:null},{merge:!0})):(E=[...I,r._id],T.exists()&&await Ge(k,{mainGroup:t},{merge:!0})),await Ge(C,{members:E},{merge:!0}),await y()}else console.error("No such document!")}catch(T){console.error("Error updating document: ",T)}}};f.useEffect(()=>{const C=Jn(hs(Xt(H,"posts"),gi("timestamp","desc")),k=>{const T=[];k.forEach(S=>{const E=S.data();if(E.userId===t){const I=new Date(E.timestamp),R=E.likesArray,P=I.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});T.push({id:S.id,userId:E.userId,userName:E.userName,groupOwnerId:E.groupOwnerId,userPhoto:E.userPhoto,postText:E.text,postPhoto:E.photos,postData:P,likesArray:R})}}),u(T),h(!1)});return()=>{C()}},[t]);const w=(C,k)=>{p({isShow:!0,images:C,index:k})},b=(C,k)=>{switch(C){case"delete":return setAlertProp({isShow:!0,title:" ",text:"    ?",firstButtonName:"",secondButtonName:"",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(k)});default:return setAlertProp({isShow:!0,title:"",text:"",firstButtonName:"",secondButtonName:"",firstButtonOnClick:null,secondButtonOnClick:null})}};return f.useEffect(()=>{if(!(r!=null&&r._id))return;const C=G(H,"chats",t),k=Jn(C,T=>{v(T.exists())});return()=>{k()}},[r,t]),c.jsxs("div",{className:Z.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),c.jsx($r,{isShow:m.isShow,images:m.images,index:m.index,onClose:()=>p({isShow:!1})}),c.jsx(ct,{isShow:i.isShow,text:i.text}),c.jsx("div",{className:Z["cover-container"],children:c.jsx("div",{className:Z.cover,style:{background:s.cover},children:c.jsx("div",{className:Z["cover-pattern"]})})}),c.jsx("div",{className:Z["group-photo"],style:{borderColor:e.background_color},onClick:()=>w(s.photo,0),children:c.jsx("img",{src:s.photo||"/genery/public/1.png",alt:`${s.name} photo`})}),c.jsxs("div",{className:Z["group-actions"],style:{background:e.element_first_color},children:[c.jsx("div",{className:Z["group-info"],children:c.jsx("div",{className:Z["group-name"],style:{color:e.text_first_color},children:s.name})}),c.jsx("div",{className:Z["group-biography"],style:{color:e.text_first_color},children:s.description}),c.jsx("div",{className:Z["button-container"],children:c.jsx("button",{className:Z["quit-button"],style:{background:s.members.includes(r._id)?e.element_second_color:e.first_color,color:e.text_third_color},onClick:g,children:s.members&&s.members.includes(r._id)?"":""})})]}),_&&c.jsxs("div",{className:Z["item-body"],style:{background:e.first_color},onClick:()=>x(`/chat/${t}?isGroup=true`),children:[c.jsx("div",{className:Z["item-info"],children:c.jsx("div",{className:Z["item-name"],style:{color:e.text_third_color},children:" "})}),c.jsx("div",{className:Z["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_third_color})})})]}),c.jsxs("div",{className:Z["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>x(`/subscribers/${t}?isGroup=true`),children:[c.jsx("div",{className:Z["item-info"],children:c.jsxs("div",{className:Z["item-name"],style:{color:e.text_first_color},children:[": ",s.members?s.members.length:0]})}),c.jsx("div",{className:Z["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_third_color})})})]}),c.jsxs("div",{className:Z["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>x(`/timetable/${t}`),children:[c.jsx("div",{className:Z["item-info"],children:c.jsx("div",{className:Z["item-name"],style:{color:e.text_first_color},children:" "})}),c.jsx("div",{className:Z["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_third_color})})})]}),c.jsxs("div",{className:Z["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>x(`/download/${t}`),children:[c.jsx("div",{className:Z["item-info"],children:c.jsx("div",{className:Z["item-name"],style:{color:e.text_first_color},children:" "})}),c.jsx("div",{className:Z["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_third_color})})})]}),c.jsx("div",{className:Z["posts-container"],children:d?c.jsxs(c.Fragment,{children:[c.jsx(Pt,{}),c.jsx(Pt,{}),c.jsx(Pt,{}),c.jsx(Pt,{})]}):l.map(C=>c.jsx(gu,{postId:C.id,groupOwnerId:C.groupOwnerId,userId:C.userId,userName:C.userName,userPhoto:C.userPhoto,postData:C.postData,postText:C.postText,postPhotos:C.postPhoto,likesArray:C.likesArray,photoClick:w,postAction:b},C.id))})]})}function KK(){const{authUser:t}=ce(),{id:e}=Vn(),[n,r]=f.useState(null),[s,o]=f.useState(!0);return f.useEffect(()=>{(async()=>{try{const a=G(H,"groups",e,"info","info"),l=await se(a);if(l.exists()){const u=l.data();r(u.owner)}else console.error("Group not found")}catch(a){console.error("Error fetching group data:",a)}finally{o(!1)}})()},[e]),n===t._id?c.jsx(WK,{id:e}):c.jsx(GK,{id:e})}const ZK="_container_1hmv2_2",ml={container:ZK,"empty-body":"_empty-body_1hmv2_9","empty-photo":"_empty-photo_1hmv2_18","empty-info":"_empty-info_1hmv2_28","empty-name":"_empty-name_1hmv2_37"};function QK(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),{authUser:r}=ce(),[s,o]=f.useState(!1),[i,a]=f.useState(null),l=ie(),[u,d]=f.useState(),[h,m]=f.useState();f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>l("/search"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{let _;return(async()=>{if(r){const x=G(H,"users",r._id,"info","preferences");_=Jn(x,async y=>{if(y.exists()){const g=y.data(),w=g.mainGroup;if(m(g.mainGroup),w){const b=G(H,"groups",w,"info","info"),C=await se(b);C.exists()?a(C.data()):a({isGroup:!1,name:"  ",photo:"1",membersCount:0,owner:null}),o(!1)}}})}})(),()=>{_&&_()}},[r]);const p=_=>{l(`/group/${_}`)};return c.jsx("div",{className:ml.container,children:s?c.jsxs("div",{className:ml["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:ml["empty-photo"],children:c.jsx(yt,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:ml["empty-info"],children:c.jsx("div",{className:ml["empty-name"],style:{color:t.text_first_color},children:c.jsx(yt,{height:"10px",width:"100px",shape:"rect"})})})]}):i&&c.jsx(z6,{name:i.name,photo:i.photo,id:h,onClick:p})})}const XK="_container_144b8_2",YK="_cover_144b8_22",JK="_label_144b8_189",gt={container:XK,"profile-container":"_profile-container_144b8_13","cover-container":"_cover-container_144b8_22",cover:YK,"cover-pattern":"_cover-pattern_144b8_41","group-photo":"_group-photo_144b8_49","change-photo-button":"_change-photo-button_144b8_68","group-actions":"_group-actions_144b8_86","button-container":"_button-container_144b8_126","quit-button":"_quit-button_144b8_135","colors-container":"_colors-container_144b8_152","color-circle":"_color-circle_144b8_162","active-circle":"_active-circle_144b8_172","input-data-container":"_input-data-container_144b8_179",label:JK,"input-data":"_input-data_144b8_179"};var H6=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};function eZ({}){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),{authUser:r}=ce(),{id:s}=Vn(),[o,i]=f.useState(""),[a,l]=f.useState(""),[u,d]=f.useState(!0),[h,m]=f.useState(null),[p,_]=f.useState("#0040F9"),[v,x]=f.useState([]),[y,g]=f.useState({isShow:!1,text:""}),[w,b]=f.useState([]),C=ie(),k=[t.first_color,t.second_color,t.third_color];f.useEffect(()=>{(async()=>{if(r&&r._id){const O=G(H,"users",r._id,"info","preferences"),A=await se(O);if(A.exists()){const $=A.data();x(M=>[...M,...$.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[r]);const T=v?vi.filter(P=>v.includes(P.name)):[];f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>C("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{if(y.isShow){const P=setTimeout(()=>{g({isShow:!1})},1500);return()=>clearTimeout(P)}},[y.isShow]);const S=P=>{P.target.files[0]&&(m(P.target.files[0]),console.log(P.target.files[0]))},E=P=>{_(P)},I=async()=>{let P=null;const O=new Date().toISOString();if(o.length<=3){g({isShow:!0,text:"    3- "});return}if(h){const A=kn(Sn,`groups_photo/${O}_${h.name}`);await mr(A,h),P=await $n(A)}else{const A=H6(500,500),$=A.getContext("2d"),M=k[Math.floor(Math.random()*k.length)];$.fillStyle=M,$.fillRect(0,0,A.width,A.height),$.fillStyle="white",$.font="bold 250px Inter",$.textAlign="center",$.textBaseline="middle",$.fillText(o[0].toUpperCase(),A.width/2,A.height/2);const j=await new Promise(L=>A.toBlob(L)),N=kn(Sn,`groups_photo/${O}_${o}_default.png`);await mr(N,j),P=await $n(N)}try{const A=Xt(H,"groups"),M=(await em(A,{})).id,j=G(H,"groups",M,"info","info");await Ge(j,{name:o,description:a,photo:P,cover:p,owner:r._id,members:[r._id]},{merge:!0}),C(`/group/${M}`)}catch(A){console.error("Error creating document: ",A)}};function R(P){if(!P)return!1;let O,A,$;if(P.startsWith("#"))if(P.length===4)O=parseInt(P[1]+P[1],16),A=parseInt(P[2]+P[2],16),$=parseInt(P[3]+P[3],16);else if(P.length===7)O=parseInt(P.slice(1,3),16),A=parseInt(P.slice(3,5),16),$=parseInt(P.slice(5,7),16);else return!1;else if(P.startsWith("rgb")){const j=P.substring(P.indexOf("(")+1,P.lastIndexOf(")")).split(",").map(Number);if(j.length===3)O=j[0],A=j[1],$=j[2];else return!1}else{const j=document.createElement("div");j.style.color=P,document.body.appendChild(j);const N=window.getComputedStyle(j).color;if(document.body.removeChild(j),N.startsWith("rgb")){const L=N.substring(N.indexOf("(")+1,N.lastIndexOf(")")).split(",").map(Number);if(L.length===3)O=L[0],A=L[1],$=L[2];else return!1}else return!1}return(O*299+A*587+$*114)/1e3>180}return c.jsx("div",{className:gt.container,children:c.jsxs("div",{className:gt["profile-container"],children:[c.jsx(ct,{isShow:y.isShow,text:y.text}),c.jsx("div",{className:gt["cover-container"],children:c.jsx("div",{className:gt.cover,style:{background:p},children:c.jsx("div",{className:gt["cover-pattern"]})})}),c.jsxs("div",{className:gt["group-photo"],style:{borderColor:t.background_color,background:t.background_color},children:[c.jsx("button",{className:gt["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:h?URL.createObjectURL(h):w.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:S})]}),c.jsx("div",{className:gt["colors-container"],style:{background:t.element_first_color},children:T.map(P=>c.jsx(c.Fragment,{children:P.colors.map((O,A)=>c.jsx("div",{className:gt["color-circle"],style:{background:O},onClick:()=>E(O),children:p===O&&c.jsx("div",{className:gt["active-circle"],style:{borderColor:R(O)?"#0A0B10":"#fff"}})},A))}))}),c.jsxs("div",{className:gt["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:gt["input-data-container"],children:[c.jsx("div",{className:gt.label,style:{color:t.first_color},children:""}),c.jsx("input",{type:"text",value:o,className:gt["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:P=>i(P.target.value)})]}),c.jsxs("div",{className:gt["input-data-container"],children:[c.jsx("div",{className:gt.label,style:{color:t.first_color},children:""}),c.jsx("input",{type:"text",value:a,className:gt["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:P=>l(P.target.value)})]}),c.jsx("div",{className:gt["button-container"],children:c.jsx("button",{className:gt["quit-button"],style:{color:t.text_third_color,background:t.first_color},onClick:I,children:""})})]})]})})}const tZ="_container_yjc12_1",Zp={container:tZ,"main-button":"_main-button_yjc12_12"};function nZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B);f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[B]);const[s,o]=f.useState([[1,2],[3,4]]),[i,a]=f.useState([]),l=_=>_[0].map((x,y)=>_.map(g=>g[y])),u=[[1,2],[3,4]],d=[[1,2,3],[4,5,6]],h=(_,v)=>{const x=_.length,y=_[0].length,g=v.length,w=v[0].length;if(y!==g)throw new Error("   A       B");const b=Array.from({length:x},()=>Array(w).fill(0));for(let C=0;C<x;C++)for(let k=0;k<w;k++)for(let T=0;T<y;T++)b[C][k]+=_[C][T]*v[T][k];return b},m=()=>{console.log(l(d))},p=()=>{console.log(h(u,d))};return c.jsxs("div",{className:Zp.container,children:[c.jsx("button",{className:Zp["main-button"],style:{background:t.first_color},onClick:m,children:""}),c.jsx("button",{className:Zp["main-button"],style:{background:t.first_color},onClick:p,children:""})]})}const rZ="_container_1pzp3_1",sZ="_game_1pzp3_18",i5={container:rZ,game:sZ};function oZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=ie();f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[B]);const[o,i]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),a=f.useRef(),[l,u]=f.useState(0),[d,h]=f.useState({width:360,height:500});let m,p=d.width,_=d.height,v;const x=70,y=70,g=d.width/8,w=d.height/2;let b,C={x:g,y:w,width:x,height:y},k=[];const T=60,S=400,E=d.width,I=0;let R,P,O=-2,A=0,$=.4,M=!1;const j=()=>{const z=window.innerWidth<768,K=Math.min(window.innerWidth,360),ue=z?700:Math.min(window.innerHeight,100);h({width:K,height:ue})};f.useEffect(()=>(window.addEventListener("resize",j),j(),()=>{window.removeEventListener("resize",j)}),[]),f.useEffect(()=>{const z=a.current;if(!z)return;m=z,m.height=_,m.width=p,v=m.getContext("2d"),b=new Image,b.src="flippybird/flappybird.png",b.onload=()=>{v.drawImage(b,C.x,C.y,C.width,C.height)},R=new Image,R.src="flippybird/toppipe.png",P=new Image,P.src="flippybird/bottompipe.png",requestAnimationFrame(N);const K=setInterval(D,1500);return document.addEventListener("click",F),()=>{clearInterval(K),document.removeEventListener("click",F)}},[b]);const N=()=>{if(requestAnimationFrame(N),!M){v.clearRect(0,0,m.width,m.height),A+=$,C.y=Math.max(C.y+A,0),v.drawImage(b,C.x,C.y,C.width,C.height),C.y>m.height&&(M=!0);for(let z=0;z<k.length;z++){let K=k[z];K.x+=O,v.drawImage(K.img,K.x,K.y,K.width,K.height),!K.passed&&C.x>K.x+K.width&&(u(ue=>ue+=.5),K.passed=!0),V(C,K)&&(M=!0)}for(;k.length>0&&k[0].x<-60;)k.shift();v.fillStyle="white",v.font="15px sans-serif",M&&i({isShow:!0,title:" !",text:` : ${l}`,firstButtonName:"",secondButtonName:"",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:()=>L()})}},L=()=>{M=!1,C={x:g,y:w,width:x,height:y},k=[],u(0),i({isShow:!1})},D=()=>{if(M)return;let z=I-S/4-Math.random()*(S/2),K=m.height/4,ue={img:R,x:E,y:z,width:T,height:S,passed:!1};k.push(ue);let ut={img:P,x:E,y:z+S+K,width:T,height:S,passed:!1};k.push(ut)},F=z=>{A=-6},V=(z,K)=>z.x<K.x+K.width&&z.x+z.width>K.x&&z.y<K.y+K.height&&z.y+z.height>K.y;return c.jsx("div",{className:i5.container,children:c.jsx("iframe",{className:i5.game,src:"https://ridgeld.github.io/game/",allowfullscreen:!0})})}const iZ="_container_isjmo_1",aZ="_game_isjmo_12",a5={container:iZ,game:aZ};function lZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=ie();f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[B]);const[o,i]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""});return c.jsx("div",{className:a5.container,children:c.jsx("iframe",{className:a5.game,src:"https://students-rating-private.vercel.app/home"})})}const cZ="_container_zepfk_2",Ti={container:cZ,"search-container":"_search-container_zepfk_12","empty-body":"_empty-body_zepfk_40","empty-photo":"_empty-photo_zepfk_49","empty-info":"_empty-info_zepfk_59","empty-name":"_empty-name_zepfk_68"},uZ="_body_1fpzm_2",dZ="_photo_1fpzm_19",hZ="_info_1fpzm_13",fZ="_name_1fpzm_44",mZ="_selected_1fpzm_49",Cs={body:uZ,"info-group":"_info-group_1fpzm_13",photo:dZ,info:hZ,name:fZ,selected:mZ,"inside-circle":"_inside-circle_1fpzm_56","delete-button":"_delete-button_1fpzm_62"};function Sm({id:t,name:e,photo:n,onClick:r,canDelete:s,removeUser:o,isSelect:i}){const{theme:a,setElementColors:l}=f.useContext(B),u=h=>{r(t)},d=h=>{h.stopPropagation(),o(t,e)};return c.jsxs("div",{className:Cs.body,style:{borderTop:`1px solid ${a.element_first_color}`},onClick:u,children:[c.jsxs("div",{className:Cs["info-group"],children:[c.jsx("div",{className:Cs.photo,children:c.jsx("img",{src:n,alt:""})}),c.jsx("div",{className:Cs.info,children:c.jsx("div",{className:Cs.name,style:{color:a.text_first_color},children:e})})]}),i&&c.jsx("div",{className:Cs.selected,style:{background:a.first_color},children:c.jsx("div",{className:Cs["inside-circle"],style:{background:a.text_first_color}})}),s&&c.jsx("button",{className:Cs["delete-button"],style:{background:a.element_first_color},onClick:d,children:c.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:a.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function pZ(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),r=ie(),[s]=wI(),{id:o}=Vn(),{authUser:i}=ce(),a=s.get("isGroup")==="true",[l,u]=f.useState([]),[d,h]=f.useState(""),[m,p]=f.useState(!1),[_,v]=f.useState(!1),[x,y]=f.useState({isShow:!1,text:""}),g=async()=>{try{if(p(!0),!o){console.error("ID     ");return}const k=G(H,a?"groups":"users",o,"info",a?"info":"preferences"),T=await se(k);if(T.exists()){const S=T.data(),E=a?S.members:S.followers||[];(a?S.owner:S.uid)===i._id&&v(!0);const R=await Promise.all(E.map(async P=>{const O=G(H,"users",P,"info","preferences"),A=await se(O);if(A.exists()){const $=A.data();return{uid:P,name:$.name||" ",photo:$.photo||""}}return null}));u(R.filter(Boolean))}}catch(k){console.error("  :",k)}finally{p(!1)}};f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:a?()=>r(`/group/${o}`):()=>r(`/profile/${o}`),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t,o,a,r]),f.useEffect(()=>{g()},[o,a]);const w=k=>{h(k.target.value)},b=l.filter(k=>k.name.toLowerCase().includes(d.toLowerCase())),C=async(k,T)=>{try{if(a){const S=G(H,"groups",o,"info","info"),E=await se(S);if(E.exists()){const R=E.data().members.filter(P=>P!==k);await Ge(S,{members:R},{merge:!0}),y({isShow:!0,text:`  ${T}   `}),g(),console.log(` ${k}   `)}}else{const S=G(H,"users",o,"info","preferences"),E=await se(S);if(E.exists()){const R=E.data().subscribers.filter(P=>P!==k);await Ge(S,{followers:R},{merge:!0}),y({isShow:!0,text:`  ${T}   `}),g(),console.log(` ${k}   `)}}}catch(S){console.error("   :",S)}};return c.jsxs("div",{className:Ti.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                    width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                    background: ${t.first_color};
                    border-radius: 5px;
                }
                ::-webkit-scrollbar-track {
                    background-color: rgba(0, 0, 0, 0.3);
                }
            `}),c.jsx(ct,{isShow:x.isShow,text:x.text}),c.jsx(V6,{value:d,onChange:w,placeholder:""}),c.jsx("div",{className:Ti["search-container"],children:m?Array.from({length:2}).map((k,T)=>c.jsxs("div",{className:Ti["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:Ti["empty-photo"],children:c.jsx(yt,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:Ti["empty-info"],children:c.jsx("div",{className:Ti["empty-name"],style:{color:t.text_first_color},children:c.jsx(yt,{height:"10px",width:"100px",shape:"rect"})})})]},T)):b.map((k,T)=>c.jsx(Sm,{id:k.uid,name:k.name,photo:k.photo,canDelete:_,removeUser:C,onClick:()=>r(`/profile/${k.uid}`)},T))})]})}const gZ="_container_1e7tt_1",_Z="_board_1e7tt_8",yZ="_controls_1e7tt_15",Nn={container:gZ,board:_Z,controls:yZ,"input-container":"_input-container_1e7tt_22","input-data":"_input-data_1e7tt_30","check-button":"_check-button_1e7tt_48","show-name-button":"_show-name-button_1e7tt_65","next-button":"_next-button_1e7tt_82","bottom-controls":"_bottom-controls_1e7tt_99","answer-display":"_answer-display_1e7tt_107"},Co=[{id:1,name:"  ",frontalProjection:[{x:2,y:5},{x:8,y:5}],horizontalProjection:[{x:2,y:3},{x:8,y:6}]},{id:2,name:"  ",frontalProjection:[{x:5,y:5}],horizontalProjection:[{x:5,y:2},{x:5,y:6}]},{id:3,name:"  ",frontalProjection:[{x:1,y:3},{x:9,y:7}],horizontalProjection:[{x:1,y:7},{x:9,y:3}]},{id:4,name:"  ",frontalProjection:[{x:3,y:5},{x:4,y:4},{x:5,y:3.5},{x:6,y:3.2},{x:7,y:3.5},{x:8,y:4},{x:9,y:5}],horizontalProjection:[{x:3,y:5},{x:9,y:5}]},{id:5,name:"  ",frontalProjection:[{x:5,y:3},{x:5,y:7}],horizontalProjection:[{x:5,y:4}]},{id:6,name:"  ",frontalProjection:[{x:5,y:3},{x:5,y:7}],horizontalProjection:[{x:5,y:3},{x:5,y:7}]},{id:7,name:"  ",frontalProjection:[{x:4,y:5},{x:9,y:5}],horizontalProjection:[{x:4,y:5},{x:9,y:5}]},{id:8,name:"  ",frontalProjection:[{x:4,y:3},{x:9,y:5}],horizontalProjection:[{x:4,y:3},{x:9,y:5},null,{x:9,y:3},{x:4,y:5}]},{id:9,name:"  ",frontalProjection:[{x:4,y:3},{x:9,y:3},null,{x:4,y:6},{x:9,y:6}],horizontalProjection:[{x:4,y:5},{x:9,y:5}]},{id:10,name:"  ",frontalProjection:[{x:2.5,y:3},{x:1,y:3},{x:1,y:6},{x:2.5,y:6},null,{x:1,y:4.5},{x:2.5,y:4.5},null,{x:3.5,y:3},{x:3.5,y:6},{x:5,y:6},null,{x:6.3,y:3},{x:6,y:3},{x:6,y:6},{x:6.3,y:6},{x:7,y:5.7},{x:7.5,y:5},{x:7.5,y:4},{x:7,y:3.3},{x:6.3,y:3},null,{x:8.5,y:6},{x:9.25,y:3},{x:10,y:6},null,{x:8.75,y:5},{x:9.75,y:5},null,{x:11,y:6},{x:11,y:3},{x:12.5,y:6},{x:12.5,y:3}],horizontalProjection:[{x:1,y:5},{x:2.5,y:5},null,{x:3.5,y:5},{x:5,y:5},null,{x:6,y:5},{x:7.5,y:5},null,{x:8.5,y:5},{x:10,y:5},null,{x:11,y:5},{x:12.5,y:5},null]},{id:11,name:"  ",frontalProjection:[{x:4,y:3},{x:9,y:5}],horizontalProjection:[{x:4,y:3},{x:9,y:3},null,{x:4,y:6},{x:9,y:6}]},{id:12,name:"Z !",frontalProjection:[{x:4,y:3},{x:9,y:3},{x:4,y:6},{x:9,y:6}],horizontalProjection:[{x:4,y:3},{x:6.5,y:6},{x:9,y:3}]},{id:13,name:"  ",frontalProjection:[{x:4,y:6},{x:6.5,y:3},{x:9,y:6},{x:4,y:6}],horizontalProjection:[{x:4,y:3},{x:9,y:5}]},{id:14,name:"  ",frontalProjection:[{x:4,y:5},{x:9,y:5}],horizontalProjection:[{x:4,y:6},{x:4.5,y:5},{x:5.5,y:4.2},{x:6.5,y:4},{x:7.5,y:4.2},{x:8.5,y:5},{x:9,y:6}]},{id:15,name:"  ",frontalProjection:[{x:4,y:3},{x:9,y:6}],horizontalProjection:[{x:4,y:2},{x:9,y:5},null,{x:4,y:4},{x:9,y:7}]},{id:16,name:"  ",frontalProjection:[{x:6,y:7},{x:8,y:7},{x:9.5,y:5},{x:8,y:3},{x:6,y:3},{x:4.5,y:5},{x:6,y:7}],horizontalProjection:[{x:6,y:7},{x:8,y:7},{x:9.5,y:5},{x:8,y:3},{x:6,y:3},{x:4.5,y:5},{x:6,y:7}]}];function vZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=ie(),o=f.useRef(),[i,a]=f.useState(0),[l,u]=f.useState(0),[d,h]=f.useState(""),[m,p]=f.useState(!1),[_,v]=f.useState(null),[x,y]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[g,w]=f.useState({width:400,height:600});f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[t]);const b=()=>{const R=window.innerWidth<768,P=R?window.innerWidth-40:600,O=R?350:Math.min(window.innerHeight-100,300);w({width:Math.min(window.innerWidth-40,P),height:O})};f.useEffect(()=>{window.addEventListener("resize",b),b();const R=Math.floor(Math.random()*Co.length);return u(R),()=>{window.removeEventListener("resize",b)}},[]),f.useEffect(()=>{const R=o.current;if(!R)return;const P=R.getContext("2d"),O=20,A=Math.floor(g.width/O),$=Math.floor(g.height/O);P.clearRect(0,0,g.width,g.height),C(P,O,A,$);const M={x:0,y:0,width:g.width,height:g.height/2},j={x:0,y:g.height/2,width:g.width,height:g.height/2};P.beginPath(),P.moveTo(0,g.height/2),P.lineTo(g.width,g.height/2),P.strokeStyle=t.text_first_color,P.lineWidth=2,P.stroke();const N=Co[l];k(P,N.frontalProjection,O,M,t.text_first_color),k(P,N.horizontalProjection,O,j,t.first_color),P.font="16px Inter",P.fillStyle=t.text_first_color,P.fillText(" ",10,20),P.fillText(" ",10,g.height/2+20)},[g,l]);const C=(R,P,O,A)=>{R.beginPath(),R.strokeStyle=t.element_second_color,R.lineWidth=.5;for(let $=0;$<=O;$++)R.moveTo($*P,0),R.lineTo($*P,g.height);for(let $=0;$<=A;$++)R.moveTo(0,$*P),R.lineTo(g.width,$*P);R.stroke()},k=(R,P,O,A,$)=>{if(P.length===0)return;R.strokeStyle=$,R.lineWidth=2,R.fillStyle=$;let M=null;P.forEach((j,N)=>{if(j===null){M=null;return}const L=A.x+j.x*O,D=A.y+j.y*O;M!==null&&(R.beginPath(),R.moveTo(M.x,M.y),R.lineTo(L,D),R.stroke()),R.beginPath(),R.arc(L,D,4,0,Math.PI*2),R.fill(),M={x:L,y:D}})},T=R=>{h(R.target.value),v(null)},S=()=>{const R=Co[l].name.toLowerCase();d.toLowerCase()===R?(v(!0),a(O=>O+1),y({isShow:!0,title:"!",text:"   .",firstButtonName:"",secondButtonName:"",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:E})):(v(!1),y({isShow:!0,title:"!",text:` : ${Co[l].name}`,firstButtonName:"",secondButtonName:"",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:E}))},E=()=>{let R;do R=Math.floor(Math.random()*Co.length);while(R===l&&Co.length>1);u(R),h(""),p(!1),v(null),y({isShow:!1})},I=()=>{p(!0)};return c.jsxs("div",{className:Nn.container,children:[c.jsx(wo,{title:x.title,text:x.text,isShow:x.isShow,firstButtonName:x.firstButtonName,secondButtonName:x.secondButtonName,firstButtonOnClick:x.firstButtonOnClick,secondButtonOnClick:x.secondButtonOnClick}),c.jsx("canvas",{ref:o,width:g.width,height:g.height,className:Nn.board,style:{background:t.element_first_color}}),m&&c.jsxs("div",{className:Nn["answer-display"],style:{background:t.element_first_color,color:t.text_first_color,border:`1px solid ${t.text_first_color}`},children:[": ",Co[l].name]}),c.jsxs("div",{className:Nn.controls,children:[c.jsxs("div",{className:Nn["input-container"],children:[c.jsx("input",{type:"text",placeholder:"",value:d,className:Nn["input-data"],style:{color:t.text_first_color,caretColor:t.first_color,backgroundColor:t.element_first_color,"--placeholder-color":t.text_second_color},onChange:T}),c.jsx("button",{className:Nn["check-button"],style:{color:t.text_third_color,background:t.first_color},onClick:S,children:""})]}),c.jsxs("div",{className:Nn["bottom-controls"],children:[c.jsx("button",{className:Nn["show-name-button"],style:{color:t.text_first_color,background:t.element_first_color},onClick:I,children:" "}),c.jsx("button",{className:Nn["next-button"],style:{color:t.text_third_color,background:t.first_color},onClick:E,children:""})]}),_!==null&&!x.isShow&&c.jsx("div",{className:`${Nn.result} ${_?Nn.correct:Nn.incorrect}`,children:_?"!":"!"})]})]})}const wZ=()=>{const{id:t}=Vn(),e=ie();f.useRef(null);const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),{authUser:o}=ce(),[i,a]=f.useState(null),[l,u]=f.useState(null),[d,h]=f.useState(!0),[m,p]=f.useState({isShow:!1,images:[],index:null,postId:""}),[_,v]=f.useState({isShow:!1,text:""}),[x,y]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[g,w]=f.useState(!1);f.useEffect(()=>{if(_.isShow){const D=setTimeout(()=>{v({isShow:!1})},1e3);return()=>clearTimeout(D)}},[_]),f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:()=>e("/posts"),isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:3}),document.body.style.background=n.background_color},[n,s,e]),f.useEffect(()=>{(async()=>{try{const F=G(H,"posts",t),V=await se(F);if(V.exists()){const z=V.data(),ue=new Date(z.timestamp).toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});a({id:V.id,userId:z.userId,groupOwnerId:z.groupOwnerId,userName:z.userName,userPhoto:z.userPhoto,postText:z.text,postPhotos:z.photos,postData:ue,likesArray:z.likesArray})}}catch(F){console.error("   :",F)}finally{h(!1)}})()},[t]),f.useEffect(()=>{const D=Xt(H,"posts",t,"comments"),F=hs(D,gi("timestamp","asc")),V=Jn(F,z=>{const K=z.docs.map(ue=>({commentId:ue.id,...ue.data()}));u(K)});return()=>V()},[t]);const b=(D,F,V)=>{console.log(V),p({isShow:!0,images:D,index:F,postId:V})},C=()=>{y({isShow:!1})},k=async D=>{y({isShow:!1});try{await zl(G(H,"posts",D))}catch(F){console.error("Error deleting post: ",F)}finally{v({isShow:!0,text:" "})}},T=(D,F)=>{switch(D){case"delete":return y({isShow:!0,title:" ",text:"    ?",firstButtonName:"",secondButtonName:"",firstButtonOnClick:C,secondButtonOnClick:()=>k(F)});default:return y({isShow:!0,title:"",text:"",firstButtonName:"",secondButtonName:"",firstButtonOnClick:null,secondButtonOnClick:null})}},S=async D=>{y({isShow:!1});try{(await hy(hs(Xt(H,"posts",t,"comments"),lO("replyTo","==",D)))).forEach(async V=>{await zl(G(H,"posts",t,"comments",V.id))}),await zl(G(H,"posts",t,"comments",D))}catch(F){console.error("Error deleting comment: ",F)}finally{v({isShow:!0,text:"   "})}},E=(D,F)=>{switch(D){case"delete":return y({isShow:!0,title:" ",text:"    ?",firstButtonName:"",secondButtonName:"",firstButtonOnClick:C,secondButtonOnClick:()=>S(F)});default:return y({isShow:!0,title:"",text:"",firstButtonName:"",secondButtonName:"",firstButtonOnClick:null,secondButtonOnClick:null})}},[I,R]=f.useState(null),P=async D=>{try{const F=G(Xt(H,"posts",t,"comments")),z={commentId:F.id,text:D,timestamp:Date.now(),userId:o._id,userName:o.name,userPhoto:o.avatar,replyTo:I?I.commentId:null,isReply:!!I};if(await Ge(F,z),I){const K=G(H,"posts",t,"comments",I.commentId);await Cn(K,{replyCount:fO(1)})}R(null),A("")}catch(F){console.error("   : ",F)}},[O,A]=f.useState(null),$=D=>{e(`/profile/${D}`)},M=D=>{console.log("  :",D),R(D),A(`@${D.userName} `)};if(d)return c.jsx(Pt,{});if(!i)return c.jsx("p",{children:"  ."});l.filter(D=>!D.replyTo);const j=D=>l.filter(F=>F.replyTo===D),N=()=>{A("")},L=D=>{D=D.replace("#","");const F=parseInt(D.substring(0,2),16),V=parseInt(D.substring(2,4),16),z=parseInt(D.substring(4,6),16);return`rgba(${F}, ${V}, ${z}, 0.2)`};return c.jsxs("div",{className:de.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${n.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),c.jsx(_m,{children:c.jsx($r,{isShow:m.isShow,images:m.images,index:m.index,postId:m.postId,onClose:()=>p({isShow:!1})})}),c.jsx(wo,{title:x.title,text:x.text,isShow:x.isShow,firstButtonName:x.firstButtonName,secondButtonName:x.secondButtonName,firstButtonOnClick:x.firstButtonOnClick,secondButtonOnClick:x.secondButtonOnClick}),c.jsx(ct,{isShow:_.isShow,text:_.text}),c.jsx(gu,{postId:i.id,userId:i.userId,groupOwnerId:i.groupOwnerId,userName:i.userName,userPhoto:i.userPhoto,postData:i.postData,postText:i.postText,postPhotos:i.postPhotos,likesArray:i.likesArray,commentCount:l.length,photoClick:b,postAction:T},i.id),c.jsxs("div",{className:de["comments-container"],children:[l&&l.filter(D=>!D.isReply).map(D=>c.jsxs(c.Fragment,{children:[c.jsx(e5,{userId:D.userId,userPhoto:D.userPhoto,userName:D.userName,text:D.text,showUserProfile:$,onReply:M,timestamp:D.timestamp,commentId:D.commentId,commentAction:E}),j(D.commentId).length>0&&c.jsx("button",{onClick:()=>w(!g),className:de["show-answers"],style:{color:n.first_color,background:L(n.first_color)},children:g?" ":`  (${j(D.commentId).length})`}),g&&j(D.commentId).length>0&&c.jsx("div",{className:de["replies-container"],children:j(D.commentId).map(F=>c.jsx(e5,{userId:F.userId,userPhoto:F.userPhoto,userName:F.userName,text:F.text,showUserProfile:$,timestamp:F.timestamp,commentId:F.commentId,commentAction:E,isReply:!0},F.commentId))})]})),c.jsx("div",{className:de["fixed-input"],style:{background:n.background_color},children:c.jsx(pu,{placeholder:" ",Addtext:O&&`<div style="color: ${n.first_color};">${O}</div>`,onClearText:N,isPanelTop:!1,onSend:P,addFiles:!1})})]})]})},xZ="_wrapper_irccr_1",CZ="_info_irccr_36",bZ="_hashtag_irccr_49",kZ="_text_irccr_70",bs={wrapper:xZ,"close-button":"_close-button_irccr_13",info:CZ,hashtag:bZ,text:kZ,"absolute-svg":"_absolute-svg_irccr_84","skip-button":"_skip-button_irccr_91"};function SZ(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState(localStorage.getItem("isBannerShow")),o=ie();f.useEffect(()=>{const a=document.querySelector(".install_button");return a&&(a.style.display="flex"),()=>{a&&(a.style.display="none")}},[]);const i=()=>{localStorage.setItem("isBannerShow",!1),o("/menu")};return c.jsxs("div",{className:bs.wrapper,style:{background:"#0040F9"},children:[c.jsx("button",{className:bs["close-button"],onClick:()=>o("/menu"),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.4467 1.5533L9 9.10661M16.5533 16.6599L9 9.10661M9 9.10661L16.5533 1.5533M9 9.10661L1.4467 16.6599",stroke:"#fff","stroke-width":"2","stroke-linecap":"round"})})}),c.jsxs("div",{className:bs.info,children:[c.jsx("h4",{className:bs.hashtag,children:"# 2 "}),c.jsxs("h1",{className:bs.title,children:[" ",c.jsx("br",{})," "]}),c.jsxs("span",{className:bs.text,children:["    ?",c.jsx("br",{}),"       "]})]}),c.jsx("div",{className:bs["absolute-svg"],children:c.jsx("svg",{width:"1203",height:"345",viewBox:"0 0 1203 345",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 96.3389L82.8243 170.06L156.649 96.3389L230.473 170.06L278.517 81.5166L328.905 236.37L386.715 117.792L437.103 195.024L506.631 39L559.362 298L633 66L704 236.37L789 117.792L866 236.37L978 81.5166L1024 195.024L1096.5 96.3389L1192.5 236.37",stroke:"#C3F82B","stroke-width":"23.4802"})})}),c.jsx("button",{className:bs["skip-button"],onClick:i,children:""})]})}const EZ={};function TZ(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),r=ie();return f.useEffect(()=>{n({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!1,arrowColor:t.text_first_color,arrowLink:()=>r("/posts"),isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t,n,r]),c.jsx("div",{className:EZ.container,children:c.jsx(SZ,{})})}const IZ="_container_bxems_1",NZ="_greeting_bxems_22",jZ="_error_bxems_54",yr={container:IZ,"auth-form":"_auth-form_bxems_12",greeting:NZ,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:jZ,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function PZ(){const[t,e]=f.useState(""),[n,r]=f.useState(""),{authUser:s,ga:o}=ce(),i=ie(),{theme:a,setElementColors:l}=f.useContext(B);f.useEffect(()=>{l({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!1,arrowColor:a.text_first_color,isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:3,background:a.background_color}),document.body.style.background=a.background_color},[a]);const u=async d=>{d.preventDefault();try{await p4(o,t),r("    !  .")}catch(h){r(": "+h.message)}};return c.jsx("div",{className:yr.container,children:c.jsxs("form",{className:yr["auth-form"],onSubmit:u,children:[c.jsxs("div",{className:yr.greeting,children:[c.jsx("h2",{className:yr["greeting-title"],style:{color:a.text_first_color},children:"  email"}),c.jsx("h3",{className:yr["greeting-text"],style:{color:a.text_first_color},children:"     "})]}),c.jsxs("div",{className:yr["input-container"],children:[c.jsx("div",{className:yr.error,style:{color:a.gradient_first_color},children:n}),c.jsx(Ar,{type:"email",placeholder:" email",onInputChange:d=>e(d.target.value),backgroundColor:a.element_first_color,textColor:a.text_first_color,placeholderColor:a.text_second_color})]}),c.jsxs("div",{className:yr["button-container"],children:[c.jsxs("button",{type:"submit",className:yr["continue-button"],style:{background:a.first_color},children:[" ",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:yr["create-account"],style:{color:a.text_first_color},onClick:()=>i("/sign-in"),children:""})]})]})})}const LZ="_container_bxems_1",AZ="_greeting_bxems_22",RZ="_error_bxems_54",vr={container:LZ,"auth-form":"_auth-form_bxems_12",greeting:AZ,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:RZ,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function DZ(){const[t,e]=f.useState(""),[n,r]=f.useState(""),[s,o]=f.useState("null"),[i,a]=f.useState(""),[l,u]=f.useState(""),d=uf(),{authUser:h,ga:m}=ce(),{theme:p,setElementColors:_}=f.useContext(B),v=ie();f.useEffect(()=>{_({iconColor:p.icon_color,titleColor:p.text_first_color,showArrow:!1,arrowColor:p.text_first_color,isHeaderBackground:!0,headerBackground:p.background_color,isHeader:!0,isFooter:!1,footerBackground:p.background_color,activeElementIndex:3,background:p.background_color}),document.body.style.background=p.background_color},[p]),f.useEffect(()=>{const g=new URLSearchParams(d.search).get("oobCode");console.log("oobCode:",g),g?u(g):a(":   .")},[]);const x=async y=>{if(y.preventDefault(),n.length<6){a("    6 ");return}if(n!==s){a("  ");return}try{await Hj(m,l,n),a("  !    ."),setTimeout(()=>v("/sign-in"),3e3)}catch(g){a(": "+g.message)}};return c.jsx("div",{className:vr.container,children:c.jsxs("form",{className:vr["auth-form"],onSubmit:x,children:[c.jsxs("div",{className:vr.greeting,children:[c.jsx("h2",{className:vr["greeting-title"],style:{color:p.text_first_color},children:"  "}),c.jsx("h3",{className:vr["greeting-text"],style:{color:p.text_first_color},children:"     "})]}),c.jsxs("div",{className:vr["input-container"],children:[c.jsx("div",{className:vr.error,style:{color:p.gradient_first_color},children:i}),c.jsx(Ar,{type:"password",placeholder:" ",onInputChange:y=>r(y.target.value),backgroundColor:p.element_first_color,textColor:p.text_first_color,placeholderColor:p.text_second_color}),c.jsx(Ar,{type:"password",placeholder:" ",onInputChange:y=>o(y.target.value),backgroundColor:p.element_first_color,textColor:p.text_first_color,placeholderColor:p.text_second_color})]}),c.jsxs("div",{className:vr["button-container"],children:[c.jsxs("button",{type:"submit",className:vr["continue-button"],style:{background:p.first_color},children:["",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:vr["create-account"],style:{color:p.text_first_color},onClick:()=>v("/sign-in"),children:""})]})]})})}const OZ="_container_9sinb_1",MZ="_greeting_9sinb_22",$Z="_error_9sinb_55",wr={container:OZ,"auth-form":"_auth-form_9sinb_12",greeting:MZ,"greeting-title":"_greeting-title_9sinb_31","greeting-text":"_greeting-text_9sinb_38","input-container":"_input-container_9sinb_45",error:$Z,"button-container":"_button-container_9sinb_78","continue-button":"_continue-button_9sinb_85","create-account":"_create-account_9sinb_105"};function FZ(){const[t,e]=f.useState(""),[n,r]=f.useState(""),{authUser:s,ga:o}=ce(),i=ie(),{theme:a,setElementColors:l}=f.useContext(B);f.useEffect(()=>{l({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!0,arrowColor:a.text_first_color,arrowLink:()=>i("/settings"),isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:3,background:a.background_color}),document.body.style.background=a.background_color},[a]);const u=async d=>{d.preventDefault();try{await p4(o,s.email),r("    !  .")}catch(h){r(": "+h.message)}};return c.jsx("div",{className:wr.container,children:c.jsxs("form",{className:wr["auth-form"],onSubmit:u,children:[c.jsxs("div",{className:wr.greeting,children:[c.jsx("h2",{className:wr["greeting-title"],style:{color:a.text_first_color},children:"     email"}),c.jsx("h3",{className:wr["greeting-text"],style:{color:a.text_first_color},children:"       "})]}),c.jsx("div",{className:wr["input-container"],children:c.jsx("div",{className:wr.error,style:{color:a.gradient_first_color},children:n})}),c.jsxs("div",{className:wr["button-container"],children:[c.jsxs("button",{type:"submit",className:wr["continue-button"],style:{background:a.first_color},children:[" ",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:wr["create-account"],style:{color:a.text_first_color},onClick:()=>i("/settings"),children:""})]})]})})}const BZ="_container_1m4ap_2",UZ="_cover_1m4ap_124",VZ="_label_1m4ap_299",zZ="_add_1m4ap_388",Y={container:BZ,"info-container":"_info-container_1m4ap_12","message-container":"_message-container_1m4ap_23","chat-body":"_chat-body_1m4ap_32","chat-photo":"_chat-photo_1m4ap_41","chat-info":"_chat-info_1m4ap_54","chat-name":"_chat-name_1m4ap_64","chat-last-message":"_chat-last-message_1m4ap_69","input-wrapper":"_input-wrapper_1m4ap_76","data-header":"_data-header_1m4ap_88","data-body":"_data-body_1m4ap_95","create-container":"_create-container_1m4ap_103","profile-container":"_profile-container_1m4ap_114","cover-container":"_cover-container_1m4ap_124",cover:UZ,"cover-pattern":"_cover-pattern_1m4ap_143","group-photo":"_group-photo_1m4ap_151","change-photo-button":"_change-photo-button_1m4ap_170","group-actions":"_group-actions_1m4ap_188","group-info":"_group-info_1m4ap_194","group-name":"_group-name_1m4ap_201","group-biography":"_group-biography_1m4ap_207","button-container":"_button-container_1m4ap_235","quit-button":"_quit-button_1m4ap_244","colors-container":"_colors-container_1m4ap_261","color-circle":"_color-circle_1m4ap_272","active-circle":"_active-circle_1m4ap_282","input-data-container":"_input-data-container_1m4ap_289",label:VZ,"input-data":"_input-data_1m4ap_289","members-container":"_members-container_1m4ap_380",add:zZ};function t0(t){const e=o=>typeof o=="string"?o.replace(/(#[\w--_]+)/g,i=>`<div class="${styles.hashtags}">${i}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map(i=>i.startsWith("<div")?Or(i):i).join(""):o,n=o=>{if(typeof o=="string")return e(o);if(Rn.isValidElement(o)){const i=Rn.Children.map(o.props.children,n);return Rn.cloneElement(o,{children:i})}return o};return(o=>{const i=Or(o);return n(i)})(t)}function HZ({id:t,name:e,photo:n,lastMessage:r,onClick:s}){const{theme:o,setElementColors:i}=f.useContext(B);return c.jsxs("div",{className:Y["chat-body"],style:{},onClick:()=>s(t),children:[c.jsx("div",{className:Y["chat-photo"],children:c.jsx("img",{src:n,alt:""})}),c.jsxs("div",{className:Y["chat-info"],children:[c.jsx("div",{className:Y["chat-name"],style:{color:o.text_first_color},children:e}),c.jsx("div",{className:Y["chat-last-message"],style:{color:o.text_second_color},children:t0(r)})]})]})}function qZ(){const{authUser:t}=ce(),{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState([]),a=ie();f.useEffect(()=>{s({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!1,arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:2,background:e.background_color}),document.body.style.background=e.background_color},[B]),f.useEffect(()=>{if(!(t!=null&&t._id))return;const u=G(H,"users",t._id,"info","preferences"),d=Jn(u,async h=>{if(!h.exists()){i([]);return}const p=h.data().chats||[];if(p.length===0){i([]);return}const _=p.map(y=>G(H,"chats",y)),x=(await Promise.all(_.map(se))).filter(y=>y.exists()).map(y=>{const g=y.data();let w=" ",b="";if(g.isPrivate&&g.userData){const C=Object.keys(g.userData).find(k=>k!==t._id);if(C){const k=g.userData[C];w=(k==null?void 0:k.name)||"",b=(k==null?void 0:k.photo)||""}}else w=g.name||w,b=g.photo||b;return{id:y.id,name:w,photo:b,...g}});i(x)});return()=>{d()}},[t]);const l=u=>{a(`/chat/${u}`)};return c.jsx("div",{className:Y.container,children:o.map(u=>(console.log(u.name),Y["chat-body"],u.name,c.jsx(HZ,{id:u.id,name:u.name,photo:u.photo,lastMessage:u.lastMessage,onClick:l})))})}const WZ="_body_1ros9_2",GZ="_photo_1ros9_15",KZ="_info_1ros9_28",ZZ="_name_1ros9_38",QZ="_members_1ros9_47",XZ="_arrow_1ros9_59",Ii={body:WZ,photo:GZ,info:KZ,name:ZZ,members:QZ,arrow:XZ};function YZ({id:t,photo:e,name:n,members:r,onClick:s,onHeaderClick:o}){const{theme:i,setElementColors:a,elementColors:l}=f.useContext(B);return c.jsxs("header",{className:Ii.body,style:{background:i.element_first_color},onClick:()=>o(t,!0),children:[c.jsx("div",{className:Ii.photo,children:c.jsx("img",{src:e})}),c.jsxs("div",{className:Ii.info,children:[c.jsx("h4",{className:Ii.name,style:{color:i.text_first_color},children:n}),c.jsx("h6",{className:Ii.members,style:{color:i.text_second_color},children:`${r} `})]}),c.jsx("button",{className:Ii.arrow,onClick:s,children:c.jsx("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M21 9C21.5523 9 22 8.55228 22 8C22 7.44772 21.5523 7 21 7L21 9ZM0.292893 7.2929C-0.0976311 7.68342 -0.097631 8.31658 0.292893 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928933C7.68054 0.538409 7.04738 0.538409 6.65685 0.928933L0.292893 7.2929ZM21 7L1 7L1 9L21 9L21 7Z",fill:l.titleColor})})})]})}const JZ="_wrapper_1r4es_2",eQ="_body_1r4es_23",tQ="_text_1r4es_36",nQ="_time_1r4es_60",rQ="_image_0_1r4es_141",sQ="_image_1_1r4es_157",oQ="_image_2_1r4es_173",iQ="_image_3_1r4es_189",aQ="_image_4_1r4es_205",ze={wrapper:JZ,"user-photo":"_user-photo_1r4es_10",body:eQ,"user-name":"_user-name_1r4es_30",text:tQ,"text-empty":"_text-empty_1r4es_51",time:nQ,"images-body":"_images-body_1r4es_66","images-wrapper_1":"_images-wrapper_1_1r4es_71","images-wrapper_2":"_images-wrapper_2_1r4es_85","images-wrapper_3":"_images-wrapper_3_1r4es_99","images-wrapper_4":"_images-wrapper_4_1r4es_113","images-wrapper_5":"_images-wrapper_5_1r4es_127",image_0:rQ,image_1:sQ,image_2:oQ,image_3:iQ,image_4:aQ};function lQ({userId:t,userName:e,nameColor:n,userPhoto:r,photos:s,handlePhotoClick:o,text:i,time:a}){const{theme:l,setElementColors:u}=f.useContext(B),{authUser:d}=ce(),h=[c.jsx("div",{className:ze.wrapper,style:{justifyContent:"flex-end"},children:c.jsxs("div",{className:ze.body,style:{background:t===d._id?l.first_color:l.element_first_color,borderRadius:t===d._id?"10px 10px 0 10px":"10px 10px 10px 0"},children:[s&&c.jsx("div",{className:ze["images-body"],style:{borderRadius:"8px"},children:c.jsx("div",{className:ze[`images-wrapper_${s.length}`],children:s.map((p,_)=>c.jsx(Le.div,{className:ze[`image_${_}`],whileTap:{scale:1.5},children:c.jsx("img",{src:p,onClick:()=>o(s,_)})}))})}),i&&c.jsx("div",{className:ze.text,style:{color:l.text_third_color},children:t0(i)}),c.jsx("div",{className:ze.time,style:{color:l.text_third_color,marginLeft:"auto"},children:a})]})})],m=[c.jsxs("div",{className:ze.wrapper,style:{},children:[c.jsx("div",{className:ze["user-photo"],children:c.jsx("img",{src:r})}),c.jsxs("div",{className:ze.body,style:{background:t===d._id?l.first_color:l.element_first_color,borderRadius:t===d._id?"10px 10px 0 10px":"10px 10px 10px 0"},children:[c.jsx("div",{className:ze["user-name"],style:{color:n},children:e}),s&&c.jsx("div",{className:ze["images-body"],children:c.jsx("div",{className:ze[`images-wrapper_${s.length}`],children:s.map((p,_)=>c.jsx(Le.div,{className:ze[`image_${_}`],whileTap:{scale:1.5},children:c.jsx("img",{src:p,onClick:()=>o(s,_)})}))})}),c.jsx("div",{className:ze.text,style:{color:l.text_first_color},children:t0(i)}),c.jsx("div",{className:ze.time,style:{color:l.text_first_color,marginLeft:t===d._id?"9":"auto"},children:a})]})]})];return t===d._id?h:m}function Qp({isAuthUser:t}){const{theme:e,elementColors:n,setElementColors:r}=f.useContext(B),s=[c.jsx("div",{className:ze.wrapper,style:{justifyContent:"flex-end"},children:c.jsxs("div",{className:ze.body,style:{background:t?e.first_color:e.element_first_color,borderRadius:t?"10px 10px 0 10px":"10px 10px 10px 0"},children:[c.jsxs("div",{className:ze["text-empty"],style:{color:e.text_first_color},children:[c.jsx(yt,{width:"100px",height:"16px",shape:"rect"}),c.jsx(yt,{width:"70px",height:"16px",shape:"rect"})]}),c.jsx("div",{className:ze.time,style:{color:e.text_first_color,marginLeft:"auto"},children:c.jsx(yt,{width:"100%",height:"100%",shape:"rect"})})]})})],o=[c.jsx("div",{className:ze.wrapper,style:{justifyContent:"flex-start"},children:c.jsxs("div",{className:ze.body,style:{background:e.element_first_color,borderRadius:"10px 10px 10px 0"},children:[c.jsxs("div",{className:ze["text-empty"],style:{color:e.text_first_color},children:[c.jsx(yt,{width:"100px",height:"16px",shape:"rect"}),c.jsx(yt,{width:"60px",height:"16px",shape:"rect"})]}),c.jsx("div",{className:ze.time,style:{color:e.text_first_color,marginLeft:"auto"}})]})})];return t?s:o}function q6({fetchGroupData:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=f.useContext(B),{authUser:o}=ce(),{id:i}=Vn(),[a,l]=f.useState(""),[u,d]=f.useState(""),[h,m]=f.useState(!0),[p,_]=f.useState(null),[v,x]=f.useState(""),[y,g]=f.useState([]),[w,b]=f.useState({isShow:!1,text:""}),[C,k]=f.useState([]),[T,S]=f.useState([]),[E,I]=f.useState([]);f.useEffect(()=>{(async()=>{if(i)try{const j=G(H,"chats",i),N=await se(j);if(N.exists()){const L=N.data();x(L.cover),l(L.name),d(L.description),k(L),console.log(L)}else console.log("No such document!")}catch(j){console.error("Error fetching group data:",j)}else console.error("ID   ")})()},[i]),f.useEffect(()=>{(async()=>{if(o&&o._id){const j=G(H,"users",o._id,"info","preferences"),N=await se(j);if(N.exists()){const L=N.data();g(D=>[...D,...L.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const R=y?vi.filter(M=>y.includes(M.name)):[];f.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!1,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),f.useEffect(()=>{if(w.isShow){const M=setTimeout(()=>{b({isShow:!1})},1500);return()=>clearTimeout(M)}},[w.isShow]);const P=M=>{M.target.files[0]&&(_(M.target.files[0]),console.log(M.target.files[0]))},O=M=>{x(M)},A=async()=>{let M=null;const j=new Date().toISOString();if(p){const N=kn(Sn,`chats_photo/${i}/${j}_${p.name}`);await mr(N,p),M=await $n(N)}if(i){const N=G(H,"chats",i);try{await Ge(N,{name:a,description:u,photo:p?M:C.photo,cover:v,members:E},{merge:!0});const D=[...E,o._id].map(async F=>{const V=G(H,"users",F,"info","preferences");await Cn(V,{chats:ar(i)})});await Promise.all(D),await t(),e()}catch(L){console.error("Error updating document: ",L)}}};f.useEffect(()=>{if(!i)return;(async()=>{try{const j=G(H,"groups",i,"info","info"),N=await se(j);if(!N.exists()){S([]);return}const D=N.data().members||[];if(D.length===0){S([]);return}const F=D.map(K=>G(H,"users",K,"info","preferences")),z=(await Promise.all(F.map(se))).filter(K=>K.exists()).map(K=>{const ue=K.data();return{id:ue.uid,name:ue.name||"",photo:ue.photo||""}});S(z),console.log(z)}catch(j){console.error("    :",j),S([])}})()},[i]);const $=M=>{I(j=>j.includes(M)?j.filter(N=>N!==M):[...j,M])};return c.jsxs("div",{className:Y["profile-container"],children:[c.jsx(ct,{isShow:w.isShow,text:w.text}),c.jsx("div",{className:Y["cover-container"],children:c.jsx("div",{className:Y.cover,style:{background:v},children:c.jsx("div",{className:Y["cover-pattern"]})})}),c.jsxs("div",{className:Y["group-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[c.jsx("button",{className:Y["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:p?URL.createObjectURL(p):C.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:P})]}),c.jsx("div",{className:Y["colors-container"],style:{background:n.element_first_color},children:R.map(M=>c.jsx(c.Fragment,{children:M.colors.map((j,N)=>c.jsx("div",{className:Y["color-circle"],style:{background:j},onClick:()=>O(j),children:v===j&&c.jsx("div",{className:Y["active-circle"],style:{borderColor:n.text_first_color}})},N))}))}),c.jsxs("div",{className:Y["group-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:Y["input-data-container"],children:[c.jsx("div",{className:Y.label,style:{color:n.text_first_color},children:""}),c.jsx("input",{type:"text",value:a,className:Y["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:M=>l(M.target.value)})]}),c.jsxs("div",{className:Y["input-data-container"],children:[c.jsx("div",{className:Y.label,style:{color:n.text_first_color},children:""}),c.jsx("input",{type:"text",value:u,className:Y["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:M=>d(M.target.value)})]})]}),c.jsxs("div",{className:Y["group-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:Y["input-data-container"],children:[c.jsx("div",{className:Y.label,style:{color:n.text_first_color},children:" "}),c.jsx("div",{className:Y["members-container"],children:T.map(M=>{var N;const j=E.includes(M.id)||((N=C.members)==null?void 0:N.includes(M.id));return c.jsx(Sm,{id:M.id,name:M.name,photo:M.photo,isSelect:j,onClick:()=>$(M.id)},M.id)})})]}),c.jsx("div",{className:Y["button-container"],children:c.jsx("button",{className:Y["quit-button"],style:{color:n.text_first_color,background:n.first_color},onClick:A,children:""})})]})]})}function cQ({id:t,handleShowInfo:e}){const{theme:n,setElementColors:r}=f.useContext(B),{authUser:s}=ce(),[o,i]=f.useState({name:"",description:"",photo:"",cover:"",balance:0,members:[]}),[a,l]=f.useState({isShow:!1,text:""}),[u,d]=f.useState([]),[h,m]=f.useState(!1),[p,_]=f.useState({isShow:!1,images:[],index:null}),[v,x]=f.useState(!1),[y,g]=f.useState([]),w=ie();f.useEffect(()=>{r({iconColor:n.text_first_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!1,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n,v]);const b=async()=>{if(!t){console.error("ID   ");return}try{const k=G(H,"chats",t),T=await se(k);if(!T.exists()){console.log("No such document!"),i({isGroup:!1,name:"  ",photo:"1",membersCount:0,owner:null});return}const S=T.data();i(S);const E=S.members||[];if(E.length===0){g([]);return}const I=E.map(O=>G(H,"users",O,"info","preferences")),P=(await Promise.all(I.map(se))).filter(O=>O.exists()).map(O=>({id:O.id,...O.data()}));g(P)}catch(k){console.error("Error fetching group data:",k)}};f.useEffect(()=>{b()},[t]),f.useEffect(()=>{if(a.isShow){const k=setTimeout(()=>{l({isShow:!1})},1500);return()=>clearTimeout(k)}},[a.isShow]);const C=()=>{x(!1),l({isShow:!0,text:"  "})};return v?c.jsx(q6,{handleEdit:C,fetchGroupData:b}):c.jsxs("div",{className:Y["info-container"],children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                    width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                    background: ${n.first_color};
                    border-radius: 5px;
                    cursor: pointer;
                }
                ::-webkit-scrollbar-track {
                    background-color: rgba(0, 0, 0, 0.3);
                }
            `}),c.jsx($r,{isShow:p.isShow,images:p.images,index:p.index,onClose:()=>_({isShow:!1})}),c.jsx(ct,{isShow:a.isShow,text:a.text}),c.jsx("button",{className:Y.add,style:{background:n.first_color},onClick:()=>x(!0),children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:n.text_first_color})})}),c.jsx("div",{className:Y["cover-container"],children:c.jsx("div",{className:Y.cover,style:{background:o.cover},children:c.jsx("div",{className:Y["cover-pattern"]})})}),c.jsx("div",{className:Y["group-photo"],style:{borderColor:n.background_color},onClick:()=>_({isShow:!0,images:o.photo,index:0}),children:c.jsx("img",{src:o.photo||"/genery/public/1.png",alt:`${o.name} photo`})}),c.jsxs("div",{className:Y["group-actions"],style:{background:n.element_first_color},children:[c.jsx("div",{className:Y["group-info"],children:c.jsx("div",{className:Y["group-name"],style:{color:n.text_first_color},children:o.name})}),c.jsx("div",{className:Y["group-biography"],style:{color:n.text_second_color},children:o.description})]}),c.jsxs("div",{className:Y["group-actions"],style:{background:n.element_first_color},children:[c.jsx("div",{className:Y["group-info"],children:c.jsx("div",{className:Y["group-name"],style:{color:n.text_first_color},children:""})}),c.jsx("div",{className:Y["members-container"],children:y.map(k=>c.jsx(Sm,{id:k.id,name:k.name,photo:k.photo,onClick:()=>w(`/profile/${k.uid}`)},k.id))})]})]})}function uQ({}){const{theme:t,setElementColors:e}=f.useContext(B),{id:n}=Vn(),{authUser:r}=ce(),s=ie(),[o,i]=f.useState([]),[a,l]=f.useState([]),[u,d]=f.useState(!1),[h,m]=f.useState(!0),[p,_]=f.useState({isShow:!1,images:[],index:null}),[v,x]=f.useState({isShow:!1,text:""}),[y,g]=f.useState(!1),[w,b]=f.useState(!1),[C,k]=f.useState(!0);f.useEffect(()=>{e({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/chats"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!1,isFooter:!1,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[B]),f.useEffect(()=>{if(!n)return;(async()=>{const $=G(H,"chats",n),M=Jn($,j=>{if(j.exists()){const N=j.data();if(N.isPrivate&&N.userData){const L=r._id,[D,F]=n.split("_");m(!0);const V=L===D?F:D,z=N.userData[V]||{};i({id:j.id,userId:V,name:z.name||" ",photo:z.photo||"",...N})}else m(!1),i({id:j.id,...N})}else{const[N,L]=n.split("_"),D=r._id===N?L:N,F=G(H,"users",D,"info","preferences");se(F).then(V=>{if(V.exists()){const z=V.data();d(!0),i({id:n,userId:D,name:z.name||" ",photo:z.photo||""})}else i({id:n,userId:D,name:" ",photo:""})}).catch(V=>{console.error("Error getting user:",V),i({id:n,userId:D,name:" ",photo:""})})}});return()=>{M()}})()},[n]),f.useEffect(()=>{k(!0);const A=hs(Xt(H,"chats",n,"messages")),$=hs(A,gi("timestamp","asc")),M=Jn($,j=>{const N=j.docs.map(L=>{var F,V;const D=L.data();return{messageId:L.id,...D,time:((F=D.time)==null?void 0:F.time)||"",date:((V=D.time)==null?void 0:V.date)||""}});l(N),k(!1)});return()=>M()},[n]);const T=()=>{s("/chats")},S=async(A,$)=>{try{const M=new Date().toISOString();let j=[];for(const N of $){const L=kn(Sn,`chat_photos/${r._id}/${M}_${N.name}`);await mr(L,N);const D=await $n(L);j.push(D)}await E(A,j)}catch(M){console.error("Error handling send: ",M)}},E=async(A,$)=>{try{const[M,j]=n.split("_"),N=u?`${r._id}_${M}`:n;if(!N)throw new Error("   chatId");const L=G(H,"chats",N),D=G(Xt(H,"chats",N,"messages")),F=D.id,V={date:new Date().toLocaleDateString("ru-RU"),time:new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})},z={date:"25.01.2025",time:"14:30"},K=pt.fromDate(new Date("1980-05-07T15:54:57Z")),ue={messageId:F,text:A,time:V,timestamp:dO(),userId:r._id,userName:r.name,nameColor:"#0060cf",userPhoto:r.avatar,photos:$};if(await Ge(D,ue),u){const ut=G(H,"users",M,"info","preferences"),Ot=await se(ut),ps=Ot.exists()?Ot.data():null;await Ge(L,{isPrivate:!0,userData:{[r._id]:{name:r.name,photo:r.avatar},[M]:{name:(ps==null?void 0:ps.name)??"",photo:(ps==null?void 0:ps.photo)??""}},lastMessage:`${r.name}: ${A}`,lastMessageTime:V});const ne=G(H,"users",r._id,"info","preferences"),je=G(H,"users",M,"info","preferences");await Cn(ne,{chats:ar(N)}),await Cn(je,{chats:ar(N)}),s(`/chat/${N}`)}else await Cn(L,{lastMessage:`${r.name}: ${A}`,lastMessageTime:V})}catch(M){console.error("   : ",M)}},I=a.reduce((A,$)=>(A[$.date]||(A[$.date]=[]),A[$.date].push($),A),{}),R=(A,$)=>{_({isShow:!0,images:A,index:$})},P=A=>{h?s(`/profile/${A}`):g(!0)},O=()=>{b(!1),x({isShow:!0,text:"  "})};return c.jsx("div",{className:Y.container,children:y?c.jsx(cQ,{id:n,handleShowInfo:()=>g(!1)}):w?c.jsx(q6,{handleEdit:O,fetchGroupData}):c.jsxs(c.Fragment,{children:[c.jsx(ct,{isShow:v.isShow,text:v.text}),c.jsx($r,{isShow:p.isShow,images:p.images,index:p.index,onClose:()=>_({isShow:!1})}),c.jsx(YZ,{id:o.userId,photo:o.photo,name:o.name,members:o.members?o.members.length:"0",onHeaderClick:P,onClick:T}),C?c.jsxs("div",{className:Y["message-container"],children:[c.jsx("div",{className:Y["data-header"],children:c.jsx("span",{className:Y["data-body"],style:{background:t.element_first_color,color:t.text_first_color},children:c.jsx(yt,{width:"100px",height:"16px",shape:"rect"})})}),c.jsx(Qp,{isAuthUser:!1}),c.jsx(Qp,{isAuthUser:!0}),c.jsx(Qp,{isAuthUser:!1})]}):Object.entries(I).map(([A,$])=>c.jsxs("div",{className:Y["message-container"],children:[c.jsx("div",{className:Y["data-header"],children:c.jsx("span",{className:Y["data-body"],style:{background:t.element_first_color,color:t.text_first_color},children:A})}),$.map(M=>c.jsx(lQ,{userId:M.userId,userName:M.userName,nameColor:M.nameColor,userPhoto:M.userPhoto,photos:M.photos,handlePhotoClick:R,text:M.text,time:M.time},M.messageId))]},A)),c.jsx("div",{className:Y["input-wrapper"],style:{background:t.background_color},children:c.jsx(pu,{placeholder:"",Addtext:"",onClearText:"",isPanelTop:!1,onSend:S,addFiles:!0})})]})})}function dQ({}){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),{authUser:r}=ce(),{id:s}=Vn(),[o,i]=f.useState(""),[a,l]=f.useState(""),[u,d]=f.useState(!0),[h,m]=f.useState(null),[p,_]=f.useState("#0040F9"),[v,x]=f.useState([]),[y,g]=f.useState({isShow:!1,text:""}),[w,b]=f.useState([]),C=ie(),k=[t.first_color,t.second_color,t.third_color],[T,S]=f.useState([]);f.useEffect(()=>{(async()=>{if(r&&r._id){const N=G(H,"users",r._id,"info","preferences"),L=await se(N);if(L.exists()){const D=L.data();x(F=>[...F,...D.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[r]);const E=v?vi.filter(j=>v.includes(j.name)):[];f.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>C("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[t]),f.useEffect(()=>{if(y.isShow){const j=setTimeout(()=>{g({isShow:!1})},1500);return()=>clearTimeout(j)}},[y.isShow]);const I=j=>{j.target.files[0]&&(m(j.target.files[0]),console.log(j.target.files[0]))},R=j=>{_(j)};f.useEffect(()=>{if(!s)return;(async()=>{try{const N=G(H,"groups",s,"info","info"),L=await se(N);if(!L.exists()){S([]);return}const F=L.data().members||[];if(F.length===0){S([]);return}const V=F.map(ue=>G(H,"users",ue,"info","preferences")),K=(await Promise.all(V.map(se))).filter(ue=>ue.exists()).map(ue=>{const ut=ue.data();return{id:ut.uid,name:ut.name||"",photo:ut.photo||""}});S(K),console.log(K)}catch(N){console.error("    :",N),S([])}})()},[s]);const P=async()=>{let j=null;const N=new Date().toISOString();if(o.length<=3){g({isShow:!0,text:"    3- "});return}if(h){const L=kn(Sn,`chat_photo/${N}_${h.name}`);await mr(L,h),j=await $n(L)}else{const L=H6(500,500),D=L.getContext("2d"),F=k[Math.floor(Math.random()*k.length)];D.fillStyle=F,D.fillRect(0,0,L.width,L.height),D.fillStyle="white",D.font="bold 250px Inter",D.textAlign="center",D.textBaseline="middle",D.fillText(o[0].toUpperCase(),L.width/2,L.height/2);const V=await new Promise(K=>L.toBlob(K)),z=kn(Sn,`chat_photo/${N}_${o}_avatar.png`);await mr(z,V),j=await $n(z)}try{const L=s,D=G(H,"chats",s);await Ge(D,{name:o,description:a,photo:j,cover:p,owner:r._id,isPrivate:!1,members:[...A,r._id]});const V=[...A,r._id].map(async z=>{const K=G(H,"users",z,"info","preferences");await Cn(K,{chats:ar(s)})});await Promise.all(V),C(`/chat/${s}`)}catch(L){console.error("   :",L)}},O=j=>{if(!j)return!1;let N,L,D;if(j.startsWith("#"))if(j.length===4)N=parseInt(j[1]+j[1],16),L=parseInt(j[2]+j[2],16),D=parseInt(j[3]+j[3],16);else if(j.length===7)N=parseInt(j.slice(1,3),16),L=parseInt(j.slice(3,5),16),D=parseInt(j.slice(5,7),16);else return!1;else if(j.startsWith("rgb")){const V=j.substring(j.indexOf("(")+1,j.lastIndexOf(")")).split(",").map(Number);if(V.length===3)N=V[0],L=V[1],D=V[2];else return!1}else{const V=document.createElement("div");V.style.color=j,document.body.appendChild(V);const z=window.getComputedStyle(V).color;if(document.body.removeChild(V),z.startsWith("rgb")){const K=z.substring(z.indexOf("(")+1,z.lastIndexOf(")")).split(",").map(Number);if(K.length===3)N=K[0],L=K[1],D=K[2];else return!1}else return!1}return(N*299+L*587+D*114)/1e3>180},[A,$]=f.useState([]),M=j=>{$(N=>N.includes(j)?N.filter(L=>L!==j):[...N,j])};return c.jsx("div",{className:Y["create-container"],children:c.jsxs("div",{className:Y["profile-container"],children:[c.jsx(ct,{isShow:y.isShow,text:y.text}),c.jsx("div",{className:Y["cover-container"],children:c.jsx("div",{className:Y.cover,style:{background:p},children:c.jsx("div",{className:Y["cover-pattern"]})})}),c.jsxs("div",{className:Y["group-photo"],style:{borderColor:t.background_color,background:t.background_color},children:[c.jsx("button",{className:Y["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:h?URL.createObjectURL(h):w.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:I})]}),c.jsx("div",{className:Y["colors-container"],style:{background:t.element_first_color},children:E.map(j=>c.jsx(c.Fragment,{children:j.colors.map((N,L)=>c.jsx("div",{className:Y["color-circle"],style:{background:N},onClick:()=>R(N),children:p===N&&c.jsx("div",{className:Y["active-circle"],style:{borderColor:O(N)?"#0A0B10":"#fff"}})},L))}))}),c.jsxs("div",{className:Y["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:Y["input-data-container"],children:[c.jsx("div",{className:Y.label,style:{color:t.text_first_color},children:""}),c.jsx("input",{type:"text",value:o,className:Y["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:j=>i(j.target.value)})]}),c.jsxs("div",{className:Y["input-data-container"],children:[c.jsx("div",{className:Y.label,style:{color:t.text_first_color},children:""}),c.jsx("input",{type:"text",value:a,className:Y["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:j=>l(j.target.value)})]})]}),c.jsxs("div",{className:Y["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:Y["input-data-container"],children:[c.jsx("div",{className:Y.label,style:{color:t.text_first_color},children:" "}),c.jsx("div",{className:Y["members-container"],children:T.map(j=>{const N=A.includes(j.id);return c.jsx(Sm,{id:j.id,name:j.name,photo:j.photo,isSelect:N,onClick:()=>M(j.id)},j.id)})})]}),c.jsx("div",{className:Y["button-container"],children:c.jsx("button",{className:Y["quit-button"],style:{color:t.text_first_color,background:t.first_color},onClick:P,children:""})})]})]})})}const hQ="_container_4ta2f_1",Ni={container:hQ,"qoute-body":"_qoute-body_4ta2f_12","qoute-text":"_qoute-text_4ta2f_22","qoute-author":"_qoute-author_4ta2f_28","qoute-info":"_qoute-info_4ta2f_34","item-circle":"_item-circle_4ta2f_43"},fQ=[{text:"   -  ,  ",author:". ",info:"    ,      "},{text:"     ",author:". ",info:"    .    "},{text:" : ' '",author:". ",info:"           "},{text:"  : ' '",author:". ",info:"       2024    ,       "},{text:" . (P.S.   )",author:". ",info:"  ,   "},{text:"  -  ",author:". ",info:"         2019  2021 .    ,      "},{text:" .  .  . -",author:". ",info:"    ,  ,   .      9    "},{text:"-",author:". & .",info:"     ,            "},{text:"  ",author:"., ., ., .",info:"   ,       "},{text:" ",author:"",info:"        "},{text:" ",author:". ",info:" ,  "},{text:" .kg",author:". ",info:" -"},{text:" - ,  - ,  - .",author:". ",info:"  - .,          "},{text:"!",author:". ",info:"   .       .         .,   Clash Royal"},{text:"    ",author:". ",info:",       ,     "},{text:"   ,  ",author:" ",info:" ,   "},{text:'"  ?". - "   ". - "!"',author:"  ",info:"     - .    ,   "},{text:"      ,     ",author:"  ",info:"      ,        "},{text:",   ?",author:" ",info:" - "},{text:" ?        ",author:"    ",info:"    .,      "},{text:"    .   ' '  ,        .  ,   -   !",author:"    ",info:" ,  chat GPT   "},{text:"  - !",author:"",info:"   .        ,    ,       "},{text:"   ,    ",author:". ",info:"         ,  .  "},{text:":     ",author:"",info:" ,    "},{text:" ,    ",author:". ",info:"  "},{text:"    ",author:". ",info:"        ."},{text:":    =  !",author:". ",info:"     .     10 "},{text:"  !",author:". ",info:",          404 "},{text:" ,  !",author:". ",info:"   "},{text:"     ,    .",author:"",info:" "},{text:" -  !",author:"",info:"       "},{text:"   ,  !",author:". ",info:"       "},{text:"  - .   - !",author:". ",info:""},{text:"  !",author:". ",info:""},{text:",   !",author:". ",info:""},{text:":   ,  !     ,  !",author:". ",info:""},{text:"    ,  !",author:". ",info:""},{text:"     ,     ",author:". ",info:""},{text:"     7 !",author:". ",info:""},{text:"     !",author:". ",info:"    : 7 ,  "},{text:"     ,        -",author:"GENERY",info:""},{text:",  ",author:". ",info:"    "},{text:",  ",author:". ",info:""},{text:"",author:". ",info:"  ."},{text:"    ",author:"",info:"       "},{text:"   ",author:"",info:"       "},{text:"   ",author:"",info:"     "}];function mQ(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),[r,s]=f.useState(null),o=ie();return f.useEffect(()=>{n({iconColor:t.first_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>o("/menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:0}),document.body.style.background=t.background_color},[t]),c.jsx("div",{className:Ni.container,children:fQ.map((i,a)=>c.jsxs(Le.div,{div:!0,className:Ni["qoute-body"],layout:!0,style:{background:t.element_first_color},onClick:()=>s(a===r?null:a),children:[c.jsx("div",{className:Ni["qoute-text"],style:{color:t.text_first_color},children:i.text}),c.jsxs("div",{className:Ni["qoute-author"],style:{color:t.text_first_color},children:[": ",i.author]}),c.jsx(_m,{children:r===a&&c.jsx(Le.div,{initial:{opacity:0,y:-10,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-10,height:0},transition:{duration:.3},style:{color:t.text_first_color,overflow:"hidden",marginTop:"12px"},className:Ni["qoute-info"],children:i.info},"info")}),c.jsx("button",{className:Ni["item-circle"],style:{background:t.first_color},onClick:l=>{l.stopPropagation(),s(a===r?null:a)},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}))})}const pQ="_container_1bbd5_1",gQ="_block_1bbd5_11",Xp={container:pQ,block:gQ,"block-title":"_block-title_1bbd5_22"};function _Q(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=ie(),[o,i]=f.useState(Wi[Math.floor(Math.random()*Wi.length)]);return f.useEffect(()=>{r({iconColor:t.first_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),c.jsxs("div",{className:Xp.container,children:[c.jsxs("div",{className:Xp.block,style:{background:t.element_first_color,color:t.text_first_color},children:[c.jsx("h2",{className:Xp["block-title"],style:{color:t.text_first_color},children:":"}),o]}),c.jsx(U6,{name:"",backgroundColor:t.first_color,textColor:t.text_third_color,onButtonClick:()=>i(Wi[Math.floor(Math.random()*Wi.length)])})]})}const yQ="_container_isjmo_1",vQ="_game_isjmo_12",l5={container:yQ,game:vQ};function wQ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B),s=ie();f.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[B]);const[o,i]=f.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""});return c.jsx("div",{className:l5.container,children:c.jsx("iframe",{className:l5.game,src:"https://genery-lab.vercel.app/"})})}const xQ=[{path:"/",exact:!0,component:c.jsx(AM,{}),auth:!1},{path:"/sign-up",exact:!1,component:c.jsx(MM,{}),auth:!1},{path:"/sign-in",exact:!1,component:c.jsx(fk,{}),auth:!0},{path:"/resetpassword",exact:!0,component:c.jsx(PZ,{}),banner:!0,auth:!1},{path:"/authresetpassword",exact:!0,component:c.jsx(FZ,{}),banner:!0,auth:!0},{path:"/setnewpassword/*",exact:!1,component:c.jsx(DZ,{}),banner:!0,auth:!1},{path:"/about",exact:!1,component:c.jsx(GF,{}),auth:!1},{path:"/menu",exact:!0,component:c.jsx(sB,{}),auth:!0},{path:"/messenger",exact:!0,component:c.jsx(tW,{}),auth:!0},{path:"/timetable/:id?",exact:!0,component:c.jsx(NW,{}),auth:!0},{path:"/list-menu",exact:!0,component:c.jsx(AW,{}),auth:!0},{path:"/posts",exact:!0,component:c.jsx(GW,{}),auth:!0},{path:"/post/:id?",exact:!0,component:c.jsx(wZ,{}),auth:!0},{path:"/settings",exact:!0,component:c.jsx(JW,{}),auth:!0},{path:"/cashback",exact:!0,component:c.jsx(rG,{}),auth:!1},{path:"/shop",exact:!0,component:c.jsx(cG,{}),auth:!0},{path:"/casino",exact:!0,component:c.jsx(TG,{}),auth:!0},{path:"/updates",exact:!0,component:c.jsx(AG,{}),auth:!0},{path:"/download/:id?",exact:!1,component:c.jsx(VG,{}),auth:!0},{path:"/profile/:id?",exact:!1,component:c.jsx(ZG,{}),auth:!0},{path:"/game-menu",exact:!0,component:c.jsx(rK,{}),auth:!0},{path:"/tapcoin",exact:!0,component:c.jsx(uK,{}),auth:!0},{path:"/rocket",exact:!0,component:c.jsx(yK,{}),auth:!0},{path:"/quiz/:mode?",exact:!1,component:c.jsx(PK,{}),auth:!0},{path:"/search",exact:!0,component:c.jsx(UK,{}),auth:!0},{path:"/test",exact:!0,component:c.jsx(sK,{}),auth:!0},{path:"/group/:id?",exact:!1,component:c.jsx(KK,{}),auth:!0},{path:"/subscribers/:id?",exact:!1,component:c.jsx(pZ,{}),auth:!0},{path:"/group-list",exact:!1,component:c.jsx(QK,{}),auth:!0},{path:"/create-group",exact:!1,component:c.jsx(eZ,{}),auth:!0},{path:"/matrix",exact:!0,component:c.jsx(nZ,{}),auth:!1},{path:"/flippybird",exact:!0,component:c.jsx(oZ,{}),auth:!1},{path:"/rating",exact:!0,component:c.jsx(lZ,{}),auth:!1},{path:"/guessline",exact:!0,component:c.jsx(vZ,{}),auth:!1},{path:"/banner",exact:!0,component:c.jsx(TZ,{}),banner:!0,auth:!1},{path:"/chats",exact:!0,component:c.jsx(qZ,{}),banner:!0,auth:!0},{path:"/chat/:id?",exact:!0,component:c.jsx(uQ,{}),banner:!0,auth:!0},{path:"/create-chat/:id?",exact:!0,component:c.jsx(dQ,{}),banner:!0,auth:!0},{path:"/qoutes",exact:!0,component:c.jsx(mQ,{}),banner:!0,auth:!1},{path:"/generate-quote",exact:!0,component:c.jsx(_Q,{}),banner:!0,auth:!1},{path:"/analysis",exact:!0,component:c.jsx(wQ,{}),banner:!0,auth:!1}],CQ="_heading_qnxvq_34",pl={"content-wrapper":"_content-wrapper_qnxvq_1","img-wrapper":"_img-wrapper_qnxvq_13","image-no-select":"_image-no-select_qnxvq_26",heading:CQ};function bQ(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B);return f.useEffect(()=>{n({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:"#/menu",isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[B]),c.jsxs("div",{className:pl.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),c.jsxs("div",{className:pl["content-wrapper"],style:{background:t.first_color},children:[c.jsxs("div",{className:pl["img-wrapper"],children:[c.jsx("div",{className:pl["image-no-select"]}),c.jsx("img",{src:"4.png"})]}),c.jsx("h3",{className:pl.heading,style:{color:t.text_first_color},children:"  "})]})]})}function kQ(){const{theme:t,elementColors:e,setElementColors:n}=f.useContext(B),{authUser:r}=ce(),[s,o]=f.useState(!1);return f.useEffect(()=>{const i=dk.onAuthStateChanged(a=>{o(!0)});return()=>i()},[]),s?c.jsx(vI,{children:c.jsxs(pI,{children:[xQ.map(i=>c.jsx(q1,{path:i.path,element:i.auth&&!r?c.jsx(fk,{}):i.component,exact:i.exact},i.path)),c.jsx(q1,{path:"*",element:c.jsx(bQ,{})})," "]})}):c.jsx(Lb,{color:t.icon_color})}function SQ(){return c.jsx(LM,{children:c.jsx(kQ,{})})}const EQ="_header_oh6ql_1",TQ="_logo_container_oh6ql_14",IQ="_icon_oh6ql_22",NQ="_masked_oh6ql_28",jQ="_title_oh6ql_34",PQ="_show_oh6ql_41",LQ="_hide_oh6ql_51",bo={header:EQ,logo_container:TQ,icon:IQ,masked:NQ,title:jQ,show:PQ,hide:LQ};function AQ(t){const{elementColors:e}=f.useContext(B);return e.isHeader?c.jsxs("div",{className:bo.header,style:{background:e.isHeaderBackground?e.headerBackground:"transparent"},children:[c.jsxs("div",{className:bo.logo_container,children:[c.jsxs("div",{className:bo.icon,children:[c.jsx("div",{className:bo.masked,style:{background:e.iconColor}}),c.jsx("svg",{width:"0",height:"0",children:c.jsx("clipPath",{id:"light",children:c.jsx("path",{d:"M9.54642 0.0769926C9.65318 0.14082 9.7358 0.240097 9.78078 0.358606C9.82576 0.477116 9.83043 0.607851 9.79404 0.729455L7.82939 7.31258H11.4543C11.5609 7.31254 11.6651 7.34466 11.7541 7.405C11.8431 7.46533 11.9131 7.55122 11.9553 7.65208C11.9975 7.75293 12.0102 7.86433 11.9917 7.97253C11.9733 8.08072 11.9245 8.18097 11.8514 8.2609L3.12447 17.8229C3.04003 17.9155 2.92766 17.9758 2.80569 17.9941C2.68371 18.0124 2.55932 17.9876 2.45279 17.9237C2.34625 17.8597 2.26386 17.7605 2.21904 17.6421C2.17421 17.5237 2.1696 17.3931 2.20596 17.2716L4.17061 10.6874H0.545652C0.439123 10.6874 0.334914 10.6553 0.245888 10.595C0.156862 10.5346 0.0869167 10.4487 0.044687 10.3479C0.00245728 10.247 -0.0102083 10.1356 0.00825369 10.0274C0.0267157 9.91925 0.0754969 9.819 0.148576 9.73907L8.87553 0.177112C8.95987 0.0846411 9.07206 0.0243103 9.19387 0.00592874C9.31567 -0.0124528 9.43992 0.0121961 9.54642 0.0758676V0.0769926Z"})})})]}),c.jsx("div",{className:bo.title,style:{color:e.titleColor},children:"GENERY"})]}),c.jsx("a",{onClick:e.arrowLink,className:e.showArrow?bo.show:bo.hide,children:c.jsx("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M21 9C21.5523 9 22 8.55228 22 8C22 7.44772 21.5523 7 21 7L21 9ZM0.292893 7.2929C-0.0976311 7.68342 -0.097631 8.31658 0.292893 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928933C7.68054 0.538409 7.04738 0.538409 6.65685 0.928933L0.292893 7.2929ZM21 7L1 7L1 9L21 9L21 7Z",fill:e.titleColor})})})]}):null}const RQ="_footer_frqas_1",DQ="_item_frqas_14",Vh={footer:RQ,"item-body":"_item-body_frqas_14",item:DQ,"item-bg":"_item-bg_frqas_34"};function OQ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=f.useContext(B);return c.jsx(Le.div,{className:Vh["item-bg"],layoutId:"activeItem",style:{background:t.active_element_color}})}function MQ({icon:t,link:e,isActive:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=f.useContext(B);return c.jsxs(Le.a,{className:Vh["item-body"],layout:!0,onMouseEnter:a=>{a.currentTarget.style.background=r.active_element_color},onMouseLeave:a=>{a.currentTarget.style.background="none"},href:e,children:[c.jsx("div",{className:Vh.item,children:t}),n&&c.jsx(OQ,{})]})}function $Q(){const{elementColors:t,theme:e}=f.useContext(B),n=[{icon:c.jsx("svg",{width:"26",height:"25",viewBox:"0 0 26 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M24.5 21.4781V12.988C24.5 12.3039 24.359 11.6269 24.0855 10.9982C23.812 10.3696 23.4118 9.80239 22.9092 9.3312L14.7608 1.69353C14.2858 1.24827 13.6557 1 13.0006 1C12.3455 1 11.7154 1.24827 11.2405 1.69353L3.09083 9.3312C2.58822 9.80239 2.188 10.3696 1.91452 10.9982C1.64103 11.6269 1.5 12.3039 1.5 12.988V21.4781C1.5 22.1469 1.76925 22.7884 2.2485 23.2613C2.72776 23.7343 3.37778 24 4.05556 24H21.9444C22.6222 24 23.2722 23.7343 23.7515 23.2613C24.2308 22.7884 24.5 22.1469 24.5 21.4781Z",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),link:"#/menu"},{icon:c.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M19.0976 18.396C20.6844 16.5982 21.6472 14.2366 21.6472 11.6501C21.6472 6.01758 17.0811 1.45151 11.4486 1.45151C5.81607 1.45151 1.25 6.01758 1.25 11.6501C1.25 17.2827 5.81607 21.8487 11.4486 21.8487C14.4947 21.8487 17.2288 20.5133 19.0976 18.396ZM19.0976 18.396L24.25 23.5485",stroke:e.text_first_color,"stroke-width":"2","stroke-linejoin":"round"})}),link:"#/search"},{icon:c.jsx("svg",{width:"26",height:"25",viewBox:"0 0 26 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M7.66667 7.38889H18.3333M7.66667 12.5H15.6667M14.3333 18.8889L7.66667 22.7222V18.8889H5C3.93913 18.8889 2.92172 18.485 2.17157 17.7661C1.42143 17.0472 1 16.0722 1 15.0556V4.83333C1 3.81667 1.42143 2.84165 2.17157 2.12276C2.92172 1.40387 3.93913 1 5 1H21C22.0609 1 23.0783 1.40387 23.8284 2.12276C24.5786 2.84165 25 3.81667 25 4.83333V11.8611M22.3333 16.3333L19.6667 20.1667H25L22.3333 24",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),link:"#/chats"},{icon:c.jsxs("svg",{width:"26",height:"27",viewBox:"0 0 26 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M16.8333 7.74997H16.8461M14.9167 24.3611H5.33333C4.31667 24.3611 3.34165 23.9572 2.62276 23.2383C1.90387 22.5194 1.5 21.5444 1.5 20.5278V5.19442C1.5 4.17775 1.90387 3.20273 2.62276 2.48384C3.34165 1.76495 4.31667 1.36108 5.33333 1.36108H20.6667C21.6833 1.36108 22.6584 1.76495 23.3772 2.48384C24.0961 3.20273 24.5 4.17775 24.5 5.19442V13.5",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M1.5 17.9721L7.88889 11.5832C9.07467 10.4422 10.5364 10.4422 11.7222 11.5832L16.8333 16.6944",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M15.5557 15.4167L16.8334 14.1389C17.6883 13.3173 18.6862 13.0873 19.619 13.4489M21.9446 17.9723L19.389 21.8056H24.5001L21.9446 25.6389",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),link:"#/posts"},{icon:c.jsxs("svg",{width:"26",height:"17",viewBox:"0 0 26 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M1 1.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M1 8.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M1 15.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"})]}),link:"#/list-menu"}];return t.isFooter&&c.jsx("div",{className:Vh.footer,style:{background:t.footerBackground},children:c.jsx(BH,{id:"footer",children:n.map((r,s)=>c.jsx(MQ,{icon:r.icon,link:r.link,isActive:s===t.activeElementIndex},s))})})}const FQ="_wrapper_u6s2n_1",BQ="_content_u6s2n_12",c5={wrapper:FQ,content:BQ};function UQ({children:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=f.useContext(B),[o,i]=f.useState(e.background_color);return f.useEffect(()=>{i(r.background)},[r]),c.jsxs(c.Fragment,{children:[c.jsx(AQ,{}),c.jsx("div",{className:c5.wrapper,children:c.jsx("div",{className:c5.content,children:t})}),c.jsx($Q,{})]})}if("serviceWorker"in navigator){navigator.serviceWorker.register("/serviceworker.js",{scope:"/"}).then(e=>{console.log("- ",e)}).catch(e=>{console.error("   -:",e)});let t;window.addEventListener("beforeinstallprompt",e=>{console.log(" beforeinstallprompt "),e.preventDefault(),t=e;const n=document.createElement("button");n.textContent=" ",n.className="install_button",document.body.appendChild(n);const r=document.createElement("div");r.innerHTML=`<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6.5 1.13605C6.5 0.583763 6.94772 0.136047 7.5 0.136047C8.05228 0.136047 8.5 0.583763 8.5 1.13605L6.5 1.13605ZM8.20711 14.5711C7.81658 14.9616 7.18342 14.9616 6.79289 14.5711L0.428932 8.20712C0.0384076 7.81659 0.0384076 7.18343 0.428932 6.7929C0.819456 6.40238 1.45262 6.40238 1.84315 6.7929L7.5 12.4498L13.1569 6.7929C13.5474 6.40238 14.1805 6.40238 14.5711 6.7929C14.9616 7.18343 14.9616 7.81659 14.5711 8.20712L8.20711 14.5711ZM8.5 1.13605L8.5 13.864L6.5 13.864L6.5 1.13605L8.5 1.13605Z" fill="#fff"/>
    </svg>`,r.className="circle",n.appendChild(r),n.addEventListener("click",()=>{t&&(t.prompt(),t.userChoice.then(s=>{s.outcome==="accepted"?console.log("  "):(console.log("  "),navigateTo("/menu"))}).catch(s=>{console.error("   :",s)}),t=null)})})}else console.log("Service Worker     .");ST.createRoot(document.getElementById("main")).render(c.jsx(Rn.StrictMode,{children:c.jsx(SI,{children:c.jsx(UQ,{children:c.jsx(SQ,{})})})}));
