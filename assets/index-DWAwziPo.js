function u6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function d6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var xC={exports:{}},Kh={},CC={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=Symbol.for("react.element"),h6=Symbol.for("react.portal"),f6=Symbol.for("react.fragment"),p6=Symbol.for("react.strict_mode"),m6=Symbol.for("react.profiler"),g6=Symbol.for("react.provider"),y6=Symbol.for("react.context"),_6=Symbol.for("react.forward_ref"),v6=Symbol.for("react.suspense"),w6=Symbol.for("react.memo"),x6=Symbol.for("react.lazy"),cv=Symbol.iterator;function C6(t){return t===null||typeof t!="object"?null:(t=cv&&t[cv]||t["@@iterator"],typeof t=="function"?t:null)}var bC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kC=Object.assign,SC={};function Oa(t,e,n){this.props=t,this.context=e,this.refs=SC,this.updater=n||bC}Oa.prototype.isReactComponent={};Oa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EC(){}EC.prototype=Oa.prototype;function e0(t,e,n){this.props=t,this.context=e,this.refs=SC,this.updater=n||bC}var t0=e0.prototype=new EC;t0.constructor=e0;kC(t0,Oa.prototype);t0.isPureReactComponent=!0;var uv=Array.isArray,TC=Object.prototype.hasOwnProperty,n0={current:null},IC={key:!0,ref:!0,__self:!0,__source:!0};function NC(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)TC.call(e,r)&&!IC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Mc,type:t,key:o,ref:i,props:s,_owner:n0.current}}function b6(t,e){return{$$typeof:Mc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function r0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mc}function k6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dv=/\/+/g;function Ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?k6(""+t.key):e.toString(36)}function sd(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Mc:case h6:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+Ep(i,0):r,uv(s)?(n="",t!=null&&(n=t.replace(dv,"$&/")+"/"),sd(s,e,n,"",function(u){return u})):s!=null&&(r0(s)&&(s=b6(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(dv,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",uv(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ep(o,a);i+=sd(o,e,n,l,s)}else if(l=C6(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ep(o,a++),i+=sd(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function _u(t,e,n){if(t==null)return t;var r=[],s=0;return sd(t,r,"","",function(o){return e.call(n,o,s++)}),r}function S6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},od={transition:null},E6={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:od,ReactCurrentOwner:n0};function jC(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:_u,forEach:function(t,e,n){_u(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _u(t,function(){e++}),e},toArray:function(t){return _u(t,function(e){return e})||[]},only:function(t){if(!r0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Oa;_e.Fragment=f6;_e.Profiler=m6;_e.PureComponent=e0;_e.StrictMode=p6;_e.Suspense=v6;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6;_e.act=jC;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kC({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=n0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)TC.call(e,l)&&!IC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Mc,type:t.type,key:s,ref:o,props:r,_owner:i}};_e.createContext=function(t){return t={$$typeof:y6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:g6,_context:t},t.Consumer=t};_e.createElement=NC;_e.createFactory=function(t){var e=NC.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:_6,render:t}};_e.isValidElement=r0;_e.lazy=function(t){return{$$typeof:x6,_payload:{_status:-1,_result:t},_init:S6}};_e.memo=function(t,e){return{$$typeof:w6,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=od.transition;od.transition={};try{t()}finally{od.transition=e}};_e.unstable_act=jC;_e.useCallback=function(t,e){return rn.current.useCallback(t,e)};_e.useContext=function(t){return rn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return rn.current.useEffect(t,e)};_e.useId=function(){return rn.current.useId()};_e.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return rn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};_e.useRef=function(t){return rn.current.useRef(t)};_e.useState=function(t){return rn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return rn.current.useTransition()};_e.version="18.3.1";CC.exports=_e;var p=CC.exports;const vr=Gh(p),T6=u6({__proto__:null,default:vr},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I6=p,N6=Symbol.for("react.element"),j6=Symbol.for("react.fragment"),A6=Object.prototype.hasOwnProperty,P6=I6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L6={key:!0,ref:!0,__self:!0,__source:!0};function AC(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)A6.call(e,r)&&!L6.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:N6,type:t,key:o,ref:i,props:s,_owner:P6.current}}Kh.Fragment=j6;Kh.jsx=AC;Kh.jsxs=AC;xC.exports=Kh;var c=xC.exports,PC={exports:{}},Pn={},LC={exports:{}},RC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,M){var B=P.length;P.push(M);e:for(;0<B;){var W=B-1>>>1,te=P[W];if(0<s(te,M))P[W]=M,P[B]=te,B=W;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var M=P[0],B=P.pop();if(B!==M){P[0]=B;e:for(var W=0,te=P.length,ne=te>>>1;W<ne;){var he=2*(W+1)-1,Pe=P[he],Rn=he+1,vn=P[Rn];if(0>s(Pe,B))Rn<te&&0>s(vn,Pe)?(P[W]=vn,P[Rn]=B,W=Rn):(P[W]=Pe,P[he]=B,W=he);else if(Rn<te&&0>s(vn,B))P[W]=vn,P[Rn]=B,W=Rn;else break e}}return M}function s(P,M){var B=P.sortIndex-M.sortIndex;return B!==0?B:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=P)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function C(P){if(w=!1,g(P),!v)if(n(l)!==null)v=!0,D(b);else{var M=n(u);M!==null&&L(C,M.startTime-P)}}function b(P,M){v=!1,w&&(w=!1,_(S),S=-1),m=!0;var B=f;try{for(g(M),h=n(l);h!==null&&(!(h.expirationTime>M)||P&&!j());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var te=W(h.expirationTime<=M);M=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),g(M)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var he=n(u);he!==null&&L(C,he.startTime-M),ne=!1}return ne}finally{h=null,f=B,m=!1}}var k=!1,T=null,S=-1,E=5,I=-1;function j(){return!(t.unstable_now()-I<E)}function N(){if(T!==null){var P=t.unstable_now();I=P;var M=!0;try{M=T(!0,P)}finally{M?O():(k=!1,T=null)}}else k=!1}var O;if(typeof y=="function")O=function(){y(N)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,R=A.port2;A.port1.onmessage=N,O=function(){R.postMessage(null)}}else O=function(){x(N,0)};function D(P){T=P,k||(k=!0,O())}function L(P,M){S=x(function(){P(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,D(b))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var B=f;f=M;try{return P()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=f;f=P;try{return M()}finally{f=B}},t.unstable_scheduleCallback=function(P,M,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,P={id:d++,callback:M,priorityLevel:P,startTime:B,expirationTime:te,sortIndex:-1},B>W?(P.sortIndex=B,e(u,P),n(l)===null&&P===n(u)&&(w?(_(S),S=-1):w=!0,L(C,B-W))):(P.sortIndex=te,e(l,P),v||m||(v=!0,D(b))),P},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(P){var M=f;return function(){var B=f;f=M;try{return P.apply(this,arguments)}finally{f=B}}}})(RC);LC.exports=RC;var R6=LC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6=p,Nn=R6;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OC=new Set,Zl={};function si(t,e){la(t,e),la(t+"Capture",e)}function la(t,e){for(Zl[t]=e,t=0;t<e.length;t++)OC.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=Object.prototype.hasOwnProperty,D6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hv={},fv={};function M6(t){return Qm.call(fv,t)?!0:Qm.call(hv,t)?!1:D6.test(t)?fv[t]=!0:(hv[t]=!0,!1)}function $6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F6(t,e,n,r){if(e===null||typeof e>"u"||$6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var s0=/[\-:]([a-z])/g;function o0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(s0,o0);jt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(s0,o0);jt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(s0,o0);jt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function i0(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F6(e,n,s,r)&&(n=null),r||s===null?M6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=O6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vu=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),DC=Symbol.for("react.provider"),MC=Symbol.for("react.context"),l0=Symbol.for("react.forward_ref"),Jm=Symbol.for("react.suspense"),e1=Symbol.for("react.suspense_list"),c0=Symbol.for("react.memo"),vs=Symbol.for("react.lazy"),$C=Symbol.for("react.offscreen"),pv=Symbol.iterator;function Ya(t){return t===null||typeof t!="object"?null:(t=pv&&t[pv]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,Tp;function ml(t){if(Tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tp=e&&e[1]||""}return`
`+Tp+t}var Ip=!1;function Np(t,e){if(!t||Ip)return"";Ip=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{Ip=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ml(t):""}function B6(t){switch(t.tag){case 5:return ml(t.type);case 16:return ml("Lazy");case 13:return ml("Suspense");case 19:return ml("SuspenseList");case 0:case 2:case 15:return t=Np(t.type,!1),t;case 11:return t=Np(t.type.render,!1),t;case 1:return t=Np(t.type,!0),t;default:return""}}function t1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ji:return"Fragment";case Ni:return"Portal";case Xm:return"Profiler";case a0:return"StrictMode";case Jm:return"Suspense";case e1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MC:return(t.displayName||"Context")+".Consumer";case DC:return(t._context.displayName||"Context")+".Provider";case l0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case c0:return e=t.displayName||null,e!==null?e:t1(t.type)||"Memo";case vs:e=t._payload,t=t._init;try{return t1(t(e))}catch{}}return null}function U6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t1(e);case 8:return e===a0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function V6(t){var e=FC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wu(t){t._valueTracker||(t._valueTracker=V6(t))}function BC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function n1(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function UC(t,e){e=e.checked,e!=null&&i0(t,"checked",e,!1)}function r1(t,e){UC(t,e);var n=Ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?s1(t,e.type,n):e.hasOwnProperty("defaultValue")&&s1(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function s1(t,e,n){(e!=="number"||jd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gl=Array.isArray;function Gi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ks(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function o1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(gl(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ks(n)}}function VC(t,e){var n=Ks(e.value),r=Ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _v(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xu,HC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xu=xu||document.createElement("div"),xu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z6=["Webkit","ms","Moz","O"];Object.keys(Il).forEach(function(t){z6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Il[e]=Il[t]})});function qC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Il.hasOwnProperty(t)&&Il[t]?(""+e).trim():e+"px"}function WC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var H6=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a1(t,e){if(e){if(H6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function l1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c1=null;function u0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var u1=null,Ki=null,Zi=null;function vv(t){if(t=Bc(t)){if(typeof u1!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Jh(e),u1(t.stateNode,t.type,e))}}function GC(t){Ki?Zi?Zi.push(t):Zi=[t]:Ki=t}function KC(){if(Ki){var t=Ki,e=Zi;if(Zi=Ki=null,vv(t),e)for(t=0;t<e.length;t++)vv(e[t])}}function ZC(t,e){return t(e)}function YC(){}var jp=!1;function QC(t,e,n){if(jp)return t(e,n);jp=!0;try{return ZC(t,e,n)}finally{jp=!1,(Ki!==null||Zi!==null)&&(YC(),KC())}}function Ql(t,e){var n=t.stateNode;if(n===null)return null;var r=Jh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var d1=!1;if(Yr)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){d1=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{d1=!1}function q6(t,e,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Nl=!1,Ad=null,Pd=!1,h1=null,W6={onError:function(t){Nl=!0,Ad=t}};function G6(t,e,n,r,s,o,i,a,l){Nl=!1,Ad=null,q6.apply(W6,arguments)}function K6(t,e,n,r,s,o,i,a,l){if(G6.apply(this,arguments),Nl){if(Nl){var u=Ad;Nl=!1,Ad=null}else throw Error(U(198));Pd||(Pd=!0,h1=u)}}function oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wv(t){if(oi(t)!==t)throw Error(U(188))}function Z6(t){var e=t.alternate;if(!e){if(e=oi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return wv(s),t;if(o===r)return wv(s),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function JC(t){return t=Z6(t),t!==null?e5(t):null}function e5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e5(t);if(e!==null)return e;t=t.sibling}return null}var t5=Nn.unstable_scheduleCallback,xv=Nn.unstable_cancelCallback,Y6=Nn.unstable_shouldYield,Q6=Nn.unstable_requestPaint,st=Nn.unstable_now,X6=Nn.unstable_getCurrentPriorityLevel,d0=Nn.unstable_ImmediatePriority,n5=Nn.unstable_UserBlockingPriority,Ld=Nn.unstable_NormalPriority,J6=Nn.unstable_LowPriority,r5=Nn.unstable_IdlePriority,Zh=null,wr=null;function eE(t){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Zh,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:rE,tE=Math.log,nE=Math.LN2;function rE(t){return t>>>=0,t===0?32:31-(tE(t)/nE|0)|0}var Cu=64,bu=4194304;function yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=yl(a):(o&=i,o!==0&&(r=yl(o)))}else i=n&~s,i!==0?r=yl(i):o!==0&&(r=yl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),s=1<<n,r|=t[n],e&=~s;return r}function sE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Jn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=sE(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function f1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s5(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function Ap(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $c(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function iE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jn(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function h0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Se=0;function o5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i5,f0,a5,l5,c5,p1=!1,ku=[],Os=null,Ds=null,Ms=null,Xl=new Map,Jl=new Map,ks=[],aE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cv(t,e){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(e.pointerId)}}function Xa(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Bc(e),e!==null&&f0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function lE(t,e,n,r,s){switch(e){case"focusin":return Os=Xa(Os,t,e,n,r,s),!0;case"dragenter":return Ds=Xa(Ds,t,e,n,r,s),!0;case"mouseover":return Ms=Xa(Ms,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Xl.set(o,Xa(Xl.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Jl.set(o,Xa(Jl.get(o)||null,t,e,n,r,s)),!0}return!1}function u5(t){var e=Io(t.target);if(e!==null){var n=oi(e);if(n!==null){if(e=n.tag,e===13){if(e=XC(n),e!==null){t.blockedOn=e,c5(t.priority,function(){a5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function id(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=m1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);c1=r,n.target.dispatchEvent(r),c1=null}else return e=Bc(n),e!==null&&f0(e),t.blockedOn=n,!1;e.shift()}return!0}function bv(t,e,n){id(t)&&n.delete(e)}function cE(){p1=!1,Os!==null&&id(Os)&&(Os=null),Ds!==null&&id(Ds)&&(Ds=null),Ms!==null&&id(Ms)&&(Ms=null),Xl.forEach(bv),Jl.forEach(bv)}function Ja(t,e){t.blockedOn===e&&(t.blockedOn=null,p1||(p1=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,cE)))}function ec(t){function e(s){return Ja(s,t)}if(0<ku.length){Ja(ku[0],t);for(var n=1;n<ku.length;n++){var r=ku[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Os!==null&&Ja(Os,t),Ds!==null&&Ja(Ds,t),Ms!==null&&Ja(Ms,t),Xl.forEach(e),Jl.forEach(e),n=0;n<ks.length;n++)r=ks[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)u5(n),n.blockedOn===null&&ks.shift()}var Yi=us.ReactCurrentBatchConfig,Od=!0;function uE(t,e,n,r){var s=Se,o=Yi.transition;Yi.transition=null;try{Se=1,p0(t,e,n,r)}finally{Se=s,Yi.transition=o}}function dE(t,e,n,r){var s=Se,o=Yi.transition;Yi.transition=null;try{Se=4,p0(t,e,n,r)}finally{Se=s,Yi.transition=o}}function p0(t,e,n,r){if(Od){var s=m1(t,e,n,r);if(s===null)Up(t,e,r,Dd,n),Cv(t,r);else if(lE(s,t,e,n,r))r.stopPropagation();else if(Cv(t,r),e&4&&-1<aE.indexOf(t)){for(;s!==null;){var o=Bc(s);if(o!==null&&i5(o),o=m1(t,e,n,r),o===null&&Up(t,e,r,Dd,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Up(t,e,r,null,n)}}var Dd=null;function m1(t,e,n,r){if(Dd=null,t=u0(r),t=Io(t),t!==null)if(e=oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dd=t,null}function d5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X6()){case d0:return 1;case n5:return 4;case Ld:case J6:return 16;case r5:return 536870912;default:return 16}default:return 16}}var As=null,m0=null,ad=null;function h5(){if(ad)return ad;var t,e=m0,n=e.length,r,s="value"in As?As.value:As.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return ad=s.slice(t,1<r?1-r:void 0)}function ld(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Su(){return!0}function kv(){return!1}function Ln(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Su:kv,this.isPropagationStopped=kv,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),e}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g0=Ln(Da),Fc=Ze({},Da,{view:0,detail:0}),hE=Ln(Fc),Pp,Lp,el,Yh=Ze({},Fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:y0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==el&&(el&&t.type==="mousemove"?(Pp=t.screenX-el.screenX,Lp=t.screenY-el.screenY):Lp=Pp=0,el=t),Pp)},movementY:function(t){return"movementY"in t?t.movementY:Lp}}),Sv=Ln(Yh),fE=Ze({},Yh,{dataTransfer:0}),pE=Ln(fE),mE=Ze({},Fc,{relatedTarget:0}),Rp=Ln(mE),gE=Ze({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),yE=Ln(gE),_E=Ze({},Da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vE=Ln(_E),wE=Ze({},Da,{data:0}),Ev=Ln(wE),xE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bE[t])?!!e[t]:!1}function y0(){return kE}var SE=Ze({},Fc,{key:function(t){if(t.key){var e=xE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ld(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:y0,charCode:function(t){return t.type==="keypress"?ld(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ld(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EE=Ln(SE),TE=Ze({},Yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tv=Ln(TE),IE=Ze({},Fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:y0}),NE=Ln(IE),jE=Ze({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),AE=Ln(jE),PE=Ze({},Yh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LE=Ln(PE),RE=[9,13,27,32],_0=Yr&&"CompositionEvent"in window,jl=null;Yr&&"documentMode"in document&&(jl=document.documentMode);var OE=Yr&&"TextEvent"in window&&!jl,f5=Yr&&(!_0||jl&&8<jl&&11>=jl),Iv=" ",Nv=!1;function p5(t,e){switch(t){case"keyup":return RE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ai=!1;function DE(t,e){switch(t){case"compositionend":return m5(e);case"keypress":return e.which!==32?null:(Nv=!0,Iv);case"textInput":return t=e.data,t===Iv&&Nv?null:t;default:return null}}function ME(t,e){if(Ai)return t==="compositionend"||!_0&&p5(t,e)?(t=h5(),ad=m0=As=null,Ai=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f5&&e.locale!=="ko"?null:e.data;default:return null}}var $E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$E[t.type]:e==="textarea"}function g5(t,e,n,r){GC(r),e=Md(e,"onChange"),0<e.length&&(n=new g0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Al=null,tc=null;function FE(t){T5(t,0)}function Qh(t){var e=Ri(t);if(BC(e))return t}function BE(t,e){if(t==="change")return e}var y5=!1;if(Yr){var Op;if(Yr){var Dp="oninput"in document;if(!Dp){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),Dp=typeof Av.oninput=="function"}Op=Dp}else Op=!1;y5=Op&&(!document.documentMode||9<document.documentMode)}function Pv(){Al&&(Al.detachEvent("onpropertychange",_5),tc=Al=null)}function _5(t){if(t.propertyName==="value"&&Qh(tc)){var e=[];g5(e,tc,t,u0(t)),QC(FE,e)}}function UE(t,e,n){t==="focusin"?(Pv(),Al=e,tc=n,Al.attachEvent("onpropertychange",_5)):t==="focusout"&&Pv()}function VE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qh(tc)}function zE(t,e){if(t==="click")return Qh(e)}function HE(t,e){if(t==="input"||t==="change")return Qh(e)}function qE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:qE;function nc(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Qm.call(e,s)||!tr(t[s],e[s]))return!1}return!0}function Lv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rv(t,e){var n=Lv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lv(n)}}function v5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?v5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w5(){for(var t=window,e=jd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jd(t.document)}return e}function v0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WE(t){var e=w5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&v5(n.ownerDocument.documentElement,n)){if(r!==null&&v0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Rv(n,o);var i=Rv(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GE=Yr&&"documentMode"in document&&11>=document.documentMode,Pi=null,g1=null,Pl=null,y1=!1;function Ov(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;y1||Pi==null||Pi!==jd(r)||(r=Pi,"selectionStart"in r&&v0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pl&&nc(Pl,r)||(Pl=r,r=Md(g1,"onSelect"),0<r.length&&(e=new g0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Pi)))}function Eu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},Mp={},x5={};Yr&&(x5=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Xh(t){if(Mp[t])return Mp[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in x5)return Mp[t]=e[n];return t}var C5=Xh("animationend"),b5=Xh("animationiteration"),k5=Xh("animationstart"),S5=Xh("transitionend"),E5=new Map,Dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(t,e){E5.set(t,e),si(e,[t])}for(var $p=0;$p<Dv.length;$p++){var Fp=Dv[$p],KE=Fp.toLowerCase(),ZE=Fp[0].toUpperCase()+Fp.slice(1);no(KE,"on"+ZE)}no(C5,"onAnimationEnd");no(b5,"onAnimationIteration");no(k5,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(S5,"onTransitionEnd");la("onMouseEnter",["mouseout","mouseover"]);la("onMouseLeave",["mouseout","mouseover"]);la("onPointerEnter",["pointerout","pointerover"]);la("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YE=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Mv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,K6(r,e,void 0,t),t.currentTarget=null}function T5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Mv(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Mv(s,a,u),o=l}}}if(Pd)throw t=h1,Pd=!1,h1=null,t}function Re(t,e){var n=e[C1];n===void 0&&(n=e[C1]=new Set);var r=t+"__bubble";n.has(r)||(I5(e,t,2,!1),n.add(r))}function Bp(t,e,n){var r=0;e&&(r|=4),I5(n,t,r,e)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function rc(t){if(!t[Tu]){t[Tu]=!0,OC.forEach(function(n){n!=="selectionchange"&&(YE.has(n)||Bp(n,!1,t),Bp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tu]||(e[Tu]=!0,Bp("selectionchange",!1,e))}}function I5(t,e,n,r){switch(d5(e)){case 1:var s=uE;break;case 4:s=dE;break;default:s=p0}n=s.bind(null,e,n,t),s=void 0,!d1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Up(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Io(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}QC(function(){var u=o,d=u0(n),h=[];e:{var f=E5.get(t);if(f!==void 0){var m=g0,v=t;switch(t){case"keypress":if(ld(n)===0)break e;case"keydown":case"keyup":m=EE;break;case"focusin":v="focus",m=Rp;break;case"focusout":v="blur",m=Rp;break;case"beforeblur":case"afterblur":m=Rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Sv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=NE;break;case C5:case b5:case k5:m=yE;break;case S5:m=AE;break;case"scroll":m=hE;break;case"wheel":m=LE;break;case"copy":case"cut":case"paste":m=vE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Tv}var w=(e&4)!==0,x=!w&&t==="scroll",_=w?f!==null?f+"Capture":null:f;w=[];for(var y=u,g;y!==null;){g=y;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,_!==null&&(C=Ql(y,_),C!=null&&w.push(sc(y,C,g)))),x)break;y=y.return}0<w.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==c1&&(v=n.relatedTarget||n.fromElement)&&(Io(v)||v[Qr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Io(v):null,v!==null&&(x=oi(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(w=Sv,C="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=Tv,C="onPointerLeave",_="onPointerEnter",y="pointer"),x=m==null?f:Ri(m),g=v==null?f:Ri(v),f=new w(C,y+"leave",m,n,d),f.target=x,f.relatedTarget=g,C=null,Io(d)===u&&(w=new w(_,y+"enter",v,n,d),w.target=g,w.relatedTarget=x,C=w),x=C,m&&v)t:{for(w=m,_=v,y=0,g=w;g;g=_i(g))y++;for(g=0,C=_;C;C=_i(C))g++;for(;0<y-g;)w=_i(w),y--;for(;0<g-y;)_=_i(_),g--;for(;y--;){if(w===_||_!==null&&w===_.alternate)break t;w=_i(w),_=_i(_)}w=null}else w=null;m!==null&&$v(h,f,m,w,!1),v!==null&&x!==null&&$v(h,x,v,w,!0)}}e:{if(f=u?Ri(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var b=BE;else if(jv(f))if(y5)b=HE;else{b=VE;var k=UE}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=zE);if(b&&(b=b(t,u))){g5(h,b,n,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&s1(f,"number",f.value)}switch(k=u?Ri(u):window,t){case"focusin":(jv(k)||k.contentEditable==="true")&&(Pi=k,g1=u,Pl=null);break;case"focusout":Pl=g1=Pi=null;break;case"mousedown":y1=!0;break;case"contextmenu":case"mouseup":case"dragend":y1=!1,Ov(h,n,d);break;case"selectionchange":if(GE)break;case"keydown":case"keyup":Ov(h,n,d)}var T;if(_0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ai?p5(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(f5&&n.locale!=="ko"&&(Ai||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ai&&(T=h5()):(As=d,m0="value"in As?As.value:As.textContent,Ai=!0)),k=Md(u,S),0<k.length&&(S=new Ev(S,t,null,n,d),h.push({event:S,listeners:k}),T?S.data=T:(T=m5(n),T!==null&&(S.data=T)))),(T=OE?DE(t,n):ME(t,n))&&(u=Md(u,"onBeforeInput"),0<u.length&&(d=new Ev("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}T5(h,e)})}function sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Md(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ql(t,n),o!=null&&r.unshift(sc(t,o,s)),o=Ql(t,e),o!=null&&r.push(sc(t,o,s))),t=t.return}return r}function _i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $v(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Ql(n,o),l!=null&&i.unshift(sc(n,l,a))):s||(l=Ql(n,o),l!=null&&i.push(sc(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var QE=/\r\n?/g,XE=/\u0000|\uFFFD/g;function Fv(t){return(typeof t=="string"?t:""+t).replace(QE,`
`).replace(XE,"")}function Iu(t,e,n){if(e=Fv(e),Fv(t)!==e&&n)throw Error(U(425))}function $d(){}var _1=null,v1=null;function w1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var x1=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(tT)}:x1;function tT(t){setTimeout(function(){throw t})}function Vp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ec(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ec(e)}function $s(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Uv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ma=Math.random().toString(36).slice(2),pr="__reactFiber$"+Ma,oc="__reactProps$"+Ma,Qr="__reactContainer$"+Ma,C1="__reactEvents$"+Ma,nT="__reactListeners$"+Ma,rT="__reactHandles$"+Ma;function Io(t){var e=t[pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Uv(t);t!==null;){if(n=t[pr])return n;t=Uv(t)}return e}t=n,n=t.parentNode}return null}function Bc(t){return t=t[pr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Jh(t){return t[oc]||null}var b1=[],Oi=-1;function ro(t){return{current:t}}function Me(t){0>Oi||(t.current=b1[Oi],b1[Oi]=null,Oi--)}function Ae(t,e){Oi++,b1[Oi]=t.current,t.current=e}var Zs={},Kt=ro(Zs),pn=ro(!1),Vo=Zs;function ca(t,e){var n=t.type.contextTypes;if(!n)return Zs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function Fd(){Me(pn),Me(Kt)}function Vv(t,e,n){if(Kt.current!==Zs)throw Error(U(168));Ae(Kt,e),Ae(pn,n)}function N5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,U6(t)||"Unknown",s));return Ze({},n,r)}function Bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zs,Vo=Kt.current,Ae(Kt,t),Ae(pn,pn.current),!0}function zv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=N5(t,e,Vo),r.__reactInternalMemoizedMergedChildContext=t,Me(pn),Me(Kt),Ae(Kt,t)):Me(pn),Ae(pn,n)}var Or=null,ef=!1,zp=!1;function j5(t){Or===null?Or=[t]:Or.push(t)}function sT(t){ef=!0,j5(t)}function so(){if(!zp&&Or!==null){zp=!0;var t=0,e=Se;try{var n=Or;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Or=null,ef=!1}catch(s){throw Or!==null&&(Or=Or.slice(t+1)),t5(d0,so),s}finally{Se=e,zp=!1}}return null}var Di=[],Mi=0,Ud=null,Vd=0,Mn=[],$n=0,zo=null,$r=1,Fr="";function wo(t,e){Di[Mi++]=Vd,Di[Mi++]=Ud,Ud=t,Vd=e}function A5(t,e,n){Mn[$n++]=$r,Mn[$n++]=Fr,Mn[$n++]=zo,zo=t;var r=$r;t=Fr;var s=32-Jn(r)-1;r&=~(1<<s),n+=1;var o=32-Jn(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,$r=1<<32-Jn(e)+s|n<<s|r,Fr=o+t}else $r=1<<o|n<<s|r,Fr=t}function w0(t){t.return!==null&&(wo(t,1),A5(t,1,0))}function x0(t){for(;t===Ud;)Ud=Di[--Mi],Di[Mi]=null,Vd=Di[--Mi],Di[Mi]=null;for(;t===zo;)zo=Mn[--$n],Mn[$n]=null,Fr=Mn[--$n],Mn[$n]=null,$r=Mn[--$n],Mn[$n]=null}var Tn=null,kn=null,Ve=!1,Xn=null;function P5(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,kn=$s(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zo!==null?{id:$r,overflow:Fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,kn=null,!0):!1;default:return!1}}function k1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function S1(t){if(Ve){var e=kn;if(e){var n=e;if(!Hv(t,e)){if(k1(t))throw Error(U(418));e=$s(n.nextSibling);var r=Tn;e&&Hv(t,e)?P5(r,n):(t.flags=t.flags&-4097|2,Ve=!1,Tn=t)}}else{if(k1(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ve=!1,Tn=t}}}function qv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function Nu(t){if(t!==Tn)return!1;if(!Ve)return qv(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!w1(t.type,t.memoizedProps)),e&&(e=kn)){if(k1(t))throw L5(),Error(U(418));for(;e;)P5(t,e),e=$s(e.nextSibling)}if(qv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=$s(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=Tn?$s(t.stateNode.nextSibling):null;return!0}function L5(){for(var t=kn;t;)t=$s(t.nextSibling)}function ua(){kn=Tn=null,Ve=!1}function C0(t){Xn===null?Xn=[t]:Xn.push(t)}var oT=us.ReactCurrentBatchConfig;function tl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function ju(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wv(t){var e=t._init;return e(t._payload)}function R5(t){function e(_,y){if(t){var g=_.deletions;g===null?(_.deletions=[y],_.flags|=16):g.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=Vs(_,y),_.index=0,_.sibling=null,_}function o(_,y,g){return _.index=g,t?(g=_.alternate,g!==null?(g=g.index,g<y?(_.flags|=2,y):g):(_.flags|=2,y)):(_.flags|=1048576,y)}function i(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,g,C){return y===null||y.tag!==6?(y=Yp(g,_.mode,C),y.return=_,y):(y=s(y,g),y.return=_,y)}function l(_,y,g,C){var b=g.type;return b===ji?d(_,y,g.props.children,C,g.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===vs&&Wv(b)===y.type)?(C=s(y,g.props),C.ref=tl(_,y,g),C.return=_,C):(C=md(g.type,g.key,g.props,null,_.mode,C),C.ref=tl(_,y,g),C.return=_,C)}function u(_,y,g,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Qp(g,_.mode,C),y.return=_,y):(y=s(y,g.children||[]),y.return=_,y)}function d(_,y,g,C,b){return y===null||y.tag!==7?(y=Do(g,_.mode,C,b),y.return=_,y):(y=s(y,g),y.return=_,y)}function h(_,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Yp(""+y,_.mode,g),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case vu:return g=md(y.type,y.key,y.props,null,_.mode,g),g.ref=tl(_,null,y),g.return=_,g;case Ni:return y=Qp(y,_.mode,g),y.return=_,y;case vs:var C=y._init;return h(_,C(y._payload),g)}if(gl(y)||Ya(y))return y=Do(y,_.mode,g,null),y.return=_,y;ju(_,y)}return null}function f(_,y,g,C){var b=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:a(_,y,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vu:return g.key===b?l(_,y,g,C):null;case Ni:return g.key===b?u(_,y,g,C):null;case vs:return b=g._init,f(_,y,b(g._payload),C)}if(gl(g)||Ya(g))return b!==null?null:d(_,y,g,C,null);ju(_,g)}return null}function m(_,y,g,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(g)||null,a(y,_,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case vu:return _=_.get(C.key===null?g:C.key)||null,l(y,_,C,b);case Ni:return _=_.get(C.key===null?g:C.key)||null,u(y,_,C,b);case vs:var k=C._init;return m(_,y,g,k(C._payload),b)}if(gl(C)||Ya(C))return _=_.get(g)||null,d(y,_,C,b,null);ju(y,C)}return null}function v(_,y,g,C){for(var b=null,k=null,T=y,S=y=0,E=null;T!==null&&S<g.length;S++){T.index>S?(E=T,T=null):E=T.sibling;var I=f(_,T,g[S],C);if(I===null){T===null&&(T=E);break}t&&T&&I.alternate===null&&e(_,T),y=o(I,y,S),k===null?b=I:k.sibling=I,k=I,T=E}if(S===g.length)return n(_,T),Ve&&wo(_,S),b;if(T===null){for(;S<g.length;S++)T=h(_,g[S],C),T!==null&&(y=o(T,y,S),k===null?b=T:k.sibling=T,k=T);return Ve&&wo(_,S),b}for(T=r(_,T);S<g.length;S++)E=m(T,_,S,g[S],C),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?S:E.key),y=o(E,y,S),k===null?b=E:k.sibling=E,k=E);return t&&T.forEach(function(j){return e(_,j)}),Ve&&wo(_,S),b}function w(_,y,g,C){var b=Ya(g);if(typeof b!="function")throw Error(U(150));if(g=b.call(g),g==null)throw Error(U(151));for(var k=b=null,T=y,S=y=0,E=null,I=g.next();T!==null&&!I.done;S++,I=g.next()){T.index>S?(E=T,T=null):E=T.sibling;var j=f(_,T,I.value,C);if(j===null){T===null&&(T=E);break}t&&T&&j.alternate===null&&e(_,T),y=o(j,y,S),k===null?b=j:k.sibling=j,k=j,T=E}if(I.done)return n(_,T),Ve&&wo(_,S),b;if(T===null){for(;!I.done;S++,I=g.next())I=h(_,I.value,C),I!==null&&(y=o(I,y,S),k===null?b=I:k.sibling=I,k=I);return Ve&&wo(_,S),b}for(T=r(_,T);!I.done;S++,I=g.next())I=m(T,_,S,I.value,C),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?S:I.key),y=o(I,y,S),k===null?b=I:k.sibling=I,k=I);return t&&T.forEach(function(N){return e(_,N)}),Ve&&wo(_,S),b}function x(_,y,g,C){if(typeof g=="object"&&g!==null&&g.type===ji&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case vu:e:{for(var b=g.key,k=y;k!==null;){if(k.key===b){if(b=g.type,b===ji){if(k.tag===7){n(_,k.sibling),y=s(k,g.props.children),y.return=_,_=y;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===vs&&Wv(b)===k.type){n(_,k.sibling),y=s(k,g.props),y.ref=tl(_,k,g),y.return=_,_=y;break e}n(_,k);break}else e(_,k);k=k.sibling}g.type===ji?(y=Do(g.props.children,_.mode,C,g.key),y.return=_,_=y):(C=md(g.type,g.key,g.props,null,_.mode,C),C.ref=tl(_,y,g),C.return=_,_=C)}return i(_);case Ni:e:{for(k=g.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(_,y.sibling),y=s(y,g.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Qp(g,_.mode,C),y.return=_,_=y}return i(_);case vs:return k=g._init,x(_,y,k(g._payload),C)}if(gl(g))return v(_,y,g,C);if(Ya(g))return w(_,y,g,C);ju(_,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,g),y.return=_,_=y):(n(_,y),y=Yp(g,_.mode,C),y.return=_,_=y),i(_)):n(_,y)}return x}var da=R5(!0),O5=R5(!1),zd=ro(null),Hd=null,$i=null,b0=null;function k0(){b0=$i=Hd=null}function S0(t){var e=zd.current;Me(zd),t._currentValue=e}function E1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qi(t,e){Hd=t,b0=$i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(b0!==t)if(t={context:t,memoizedValue:e,next:null},$i===null){if(Hd===null)throw Error(U(308));$i=t,Hd.dependencies={lanes:0,firstContext:t}}else $i=$i.next=t;return e}var No=null;function E0(t){No===null?No=[t]:No.push(t)}function D5(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,E0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Xr(t,r)}function Xr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function T0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function M5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Xr(t,n)}return s=r.interleaved,s===null?(e.next=e,E0(r)):(e.next=s.next,s.next=e),r.interleaved=e,Xr(t,n)}function cd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,h0(t,n)}}function Gv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qd(t,e,n,r){var s=t.updateQueue;ws=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Ze({},h,f);break e;case 2:ws=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);qo|=i,t.lanes=i,t.memoizedState=h}}function Kv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Uc={},xr=ro(Uc),ic=ro(Uc),ac=ro(Uc);function jo(t){if(t===Uc)throw Error(U(174));return t}function I0(t,e){switch(Ae(ac,e),Ae(ic,t),Ae(xr,Uc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:i1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=i1(e,t)}Me(xr),Ae(xr,e)}function ha(){Me(xr),Me(ic),Me(ac)}function $5(t){jo(ac.current);var e=jo(xr.current),n=i1(e,t.type);e!==n&&(Ae(ic,t),Ae(xr,n))}function N0(t){ic.current===t&&(Me(xr),Me(ic))}var We=ro(0);function Wd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function j0(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var ud=us.ReactCurrentDispatcher,qp=us.ReactCurrentBatchConfig,Ho=0,Ke=null,ft=null,vt=null,Gd=!1,Ll=!1,lc=0,iT=0;function Lt(){throw Error(U(321))}function A0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function P0(t,e,n,r,s,o){if(Ho=o,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ud.current=t===null||t.memoizedState===null?uT:dT,t=n(r,s),Ll){o=0;do{if(Ll=!1,lc=0,25<=o)throw Error(U(301));o+=1,vt=ft=null,e.updateQueue=null,ud.current=hT,t=n(r,s)}while(Ll)}if(ud.current=Kd,e=ft!==null&&ft.next!==null,Ho=0,vt=ft=Ke=null,Gd=!1,e)throw Error(U(300));return t}function L0(){var t=lc!==0;return lc=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ke.memoizedState=vt=t:vt=vt.next=t,vt}function Hn(){if(ft===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=vt===null?Ke.memoizedState:vt.next;if(e!==null)vt=e,ft=t;else{if(t===null)throw Error(U(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Ke.memoizedState=vt=t:vt=vt.next=t}return vt}function cc(t,e){return typeof e=="function"?e(t):e}function Wp(t){var e=Hn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=ft,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((Ho&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,Ke.lanes|=d,qo|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,tr(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Ke.lanes|=o,qo|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gp(t){var e=Hn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);tr(o,e.memoizedState)||(fn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function F5(){}function B5(t,e){var n=Ke,r=Hn(),s=e(),o=!tr(r.memoizedState,s);if(o&&(r.memoizedState=s,fn=!0),r=r.queue,R0(z5.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,uc(9,V5.bind(null,n,r,s,e),void 0,null),wt===null)throw Error(U(349));Ho&30||U5(n,e,s)}return s}function U5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function V5(t,e,n,r){e.value=n,e.getSnapshot=r,H5(e)&&q5(t)}function z5(t,e,n){return n(function(){H5(e)&&q5(t)})}function H5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function q5(t){var e=Xr(t,1);e!==null&&er(e,t,1,-1)}function Zv(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:t},e.queue=t,t=t.dispatch=cT.bind(null,Ke,t),[e.memoizedState,t]}function uc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function W5(){return Hn().memoizedState}function dd(t,e,n,r){var s=dr();Ke.flags|=t,s.memoizedState=uc(1|e,n,void 0,r===void 0?null:r)}function tf(t,e,n,r){var s=Hn();r=r===void 0?null:r;var o=void 0;if(ft!==null){var i=ft.memoizedState;if(o=i.destroy,r!==null&&A0(r,i.deps)){s.memoizedState=uc(e,n,o,r);return}}Ke.flags|=t,s.memoizedState=uc(1|e,n,o,r)}function Yv(t,e){return dd(8390656,8,t,e)}function R0(t,e){return tf(2048,8,t,e)}function G5(t,e){return tf(4,2,t,e)}function K5(t,e){return tf(4,4,t,e)}function Z5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y5(t,e,n){return n=n!=null?n.concat([t]):null,tf(4,4,Z5.bind(null,e,t),n)}function O0(){}function Q5(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X5(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function J5(t,e,n){return Ho&21?(tr(n,e)||(n=s5(),Ke.lanes|=n,qo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function aT(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=qp.transition;qp.transition={};try{t(!1),e()}finally{Se=n,qp.transition=r}}function e4(){return Hn().memoizedState}function lT(t,e,n){var r=Us(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},t4(t))n4(e,n);else if(n=D5(t,e,n,r),n!==null){var s=nn();er(n,t,r,s),r4(n,e,r)}}function cT(t,e,n){var r=Us(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(t4(t))n4(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,tr(a,i)){var l=e.interleaved;l===null?(s.next=s,E0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=D5(t,e,s,r),n!==null&&(s=nn(),er(n,t,r,s),r4(n,e,r))}}function t4(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function n4(t,e){Ll=Gd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,h0(t,n)}}var Kd={readContext:zn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},uT={readContext:zn,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:Yv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dd(4194308,4,Z5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dd(4194308,4,t,e)},useInsertionEffect:function(t,e){return dd(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lT.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:Zv,useDebugValue:O0,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=Zv(!1),e=t[0];return t=aT.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,s=dr();if(Ve){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),wt===null)throw Error(U(349));Ho&30||U5(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Yv(z5.bind(null,r,o,t),[t]),r.flags|=2048,uc(9,V5.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=dr(),e=wt.identifierPrefix;if(Ve){var n=Fr,r=$r;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dT={readContext:zn,useCallback:Q5,useContext:zn,useEffect:R0,useImperativeHandle:Y5,useInsertionEffect:G5,useLayoutEffect:K5,useMemo:X5,useReducer:Wp,useRef:W5,useState:function(){return Wp(cc)},useDebugValue:O0,useDeferredValue:function(t){var e=Hn();return J5(e,ft.memoizedState,t)},useTransition:function(){var t=Wp(cc)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:F5,useSyncExternalStore:B5,useId:e4,unstable_isNewReconciler:!1},hT={readContext:zn,useCallback:Q5,useContext:zn,useEffect:R0,useImperativeHandle:Y5,useInsertionEffect:G5,useLayoutEffect:K5,useMemo:X5,useReducer:Gp,useRef:W5,useState:function(){return Gp(cc)},useDebugValue:O0,useDeferredValue:function(t){var e=Hn();return ft===null?e.memoizedState=t:J5(e,ft.memoizedState,t)},useTransition:function(){var t=Gp(cc)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:F5,useSyncExternalStore:B5,useId:e4,unstable_isNewReconciler:!1};function Zn(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function T1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nf={isMounted:function(t){return(t=t._reactInternals)?oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),s=Us(t),o=Hr(r,s);o.payload=e,n!=null&&(o.callback=n),e=Fs(t,o,s),e!==null&&(er(e,t,s,r),cd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),s=Us(t),o=Hr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Fs(t,o,s),e!==null&&(er(e,t,s,r),cd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=Us(t),s=Hr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Fs(t,s,r),e!==null&&(er(e,t,r,n),cd(e,t,r))}};function Qv(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!nc(n,r)||!nc(s,o):!0}function s4(t,e,n){var r=!1,s=Zs,o=e.contextType;return typeof o=="object"&&o!==null?o=zn(o):(s=mn(e)?Vo:Kt.current,r=e.contextTypes,o=(r=r!=null)?ca(t,s):Zs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Xv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nf.enqueueReplaceState(e,e.state,null)}function I1(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},T0(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=zn(o):(o=mn(e)?Vo:Kt.current,s.context=ca(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(T1(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&nf.enqueueReplaceState(s,s.state,null),qd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function fa(t,e){try{var n="",r=e;do n+=B6(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Kp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function N1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fT=typeof WeakMap=="function"?WeakMap:Map;function o4(t,e,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yd||(Yd=!0,F1=r),N1(t,e)},n}function i4(t,e,n){n=Hr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){N1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){N1(t,e),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Jv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=TT.bind(null,t,e,n),e.then(t,t))}function e2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t2(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hr(-1,1),e.tag=2,Fs(n,e,1))),n.lanes|=1),t)}var pT=us.ReactCurrentOwner,fn=!1;function Jt(t,e,n,r){e.child=t===null?O5(e,null,n,r):da(e,t.child,n,r)}function n2(t,e,n,r,s){n=n.render;var o=e.ref;return Qi(e,s),r=P0(t,e,n,r,o,s),n=L0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jr(t,e,s)):(Ve&&n&&w0(e),e.flags|=1,Jt(t,e,r,s),e.child)}function r2(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!z0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,a4(t,e,o,r,s)):(t=md(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:nc,n(i,r)&&t.ref===e.ref)return Jr(t,e,s)}return e.flags|=1,t=Vs(o,r),t.ref=e.ref,t.return=e,e.child=t}function a4(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(nc(o,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,Jr(t,e,s)}return j1(t,e,n,r,s)}function l4(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(Bi,Cn),Cn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ae(Bi,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ae(Bi,Cn),Cn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ae(Bi,Cn),Cn|=r;return Jt(t,e,s,n),e.child}function c4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function j1(t,e,n,r,s){var o=mn(n)?Vo:Kt.current;return o=ca(e,o),Qi(e,s),n=P0(t,e,n,r,o,s),r=L0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Jr(t,e,s)):(Ve&&r&&w0(e),e.flags|=1,Jt(t,e,n,s),e.child)}function s2(t,e,n,r,s){if(mn(n)){var o=!0;Bd(e)}else o=!1;if(Qi(e,s),e.stateNode===null)hd(t,e),s4(e,n,r),I1(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=mn(n)?Vo:Kt.current,u=ca(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Xv(e,i,r,u),ws=!1;var f=e.memoizedState;i.state=f,qd(e,r,i,s),l=e.memoizedState,a!==r||f!==l||pn.current||ws?(typeof d=="function"&&(T1(e,n,d,r),l=e.memoizedState),(a=ws||Qv(e,n,a,r,f,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,M5(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Zn(e.type,a),i.props=u,h=e.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=mn(n)?Vo:Kt.current,l=ca(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Xv(e,i,r,l),ws=!1,f=e.memoizedState,i.state=f,qd(e,r,i,s);var v=e.memoizedState;a!==h||f!==v||pn.current||ws?(typeof m=="function"&&(T1(e,n,m,r),v=e.memoizedState),(u=ws||Qv(e,n,u,r,f,v,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),i.props=r,i.state=v,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return A1(t,e,n,r,o,s)}function A1(t,e,n,r,s,o){c4(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&zv(e,n,!1),Jr(t,e,o);r=e.stateNode,pT.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=da(e,t.child,null,o),e.child=da(e,null,a,o)):Jt(t,e,a,o),e.memoizedState=r.state,s&&zv(e,n,!0),e.child}function u4(t){var e=t.stateNode;e.pendingContext?Vv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vv(t,e.context,!1),I0(t,e.containerInfo)}function o2(t,e,n,r,s){return ua(),C0(s),e.flags|=256,Jt(t,e,n,r),e.child}var P1={dehydrated:null,treeContext:null,retryLane:0};function L1(t){return{baseLanes:t,cachePool:null,transitions:null}}function d4(t,e,n){var r=e.pendingProps,s=We.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ae(We,s&1),t===null)return S1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=of(i,r,0,null),t=Do(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=L1(n),e.memoizedState=P1,t):D0(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return mT(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Vs(a,o):(o=Do(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?L1(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=P1,r}return o=t.child,t=o.sibling,r=Vs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function D0(t,e){return e=of({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Au(t,e,n,r){return r!==null&&C0(r),da(e,t.child,null,n),t=D0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mT(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Kp(Error(U(422))),Au(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=of({mode:"visible",children:r.children},s,0,null),o=Do(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&da(e,t.child,null,i),e.child.memoizedState=L1(i),e.memoizedState=P1,o);if(!(e.mode&1))return Au(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Kp(o,r,void 0),Au(t,e,i,r)}if(a=(i&t.childLanes)!==0,fn||a){if(r=wt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Xr(t,s),er(r,t,s,-1))}return V0(),r=Kp(Error(U(421))),Au(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=IT.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,kn=$s(s.nextSibling),Tn=e,Ve=!0,Xn=null,t!==null&&(Mn[$n++]=$r,Mn[$n++]=Fr,Mn[$n++]=zo,$r=t.id,Fr=t.overflow,zo=e),e=D0(e,r.children),e.flags|=4096,e)}function i2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),E1(t.return,e,n)}function Zp(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function h4(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Jt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i2(t,n,e);else if(t.tag===19)i2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ae(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Wd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zp(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Wd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zp(e,!0,n,null,o);break;case"together":Zp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gT(t,e,n){switch(e.tag){case 3:u4(e),ua();break;case 5:$5(e);break;case 1:mn(e.type)&&Bd(e);break;case 4:I0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ae(zd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ae(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?d4(t,e,n):(Ae(We,We.current&1),t=Jr(t,e,n),t!==null?t.sibling:null);Ae(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return h4(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,l4(t,e,n)}return Jr(t,e,n)}var f4,R1,p4,m4;f4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};R1=function(){};p4=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,jo(xr.current);var o=null;switch(n){case"input":s=n1(t,s),r=n1(t,r),o=[];break;case"select":s=Ze({},s,{value:void 0}),r=Ze({},r,{value:void 0}),o=[];break;case"textarea":s=o1(t,s),r=o1(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$d)}a1(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Zl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Re("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};m4=function(t,e,n,r){n!==r&&(e.flags|=4)};function nl(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yT(t,e,n){var r=e.pendingProps;switch(x0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(e),null;case 1:return mn(e.type)&&Fd(),Rt(e),null;case 3:return r=e.stateNode,ha(),Me(pn),Me(Kt),j0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(V1(Xn),Xn=null))),R1(t,e),Rt(e),null;case 5:N0(e);var s=jo(ac.current);if(n=e.type,t!==null&&e.stateNode!=null)p4(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Rt(e),null}if(t=jo(xr.current),Nu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[pr]=e,r[oc]=o,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<_l.length;s++)Re(_l[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":mv(r,o),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Re("invalid",r);break;case"textarea":yv(r,o),Re("invalid",r)}a1(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Iu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Iu(r.textContent,a,t),s=["children",""+a]):Zl.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Re("scroll",r)}switch(n){case"input":wu(r),gv(r,o,!0);break;case"textarea":wu(r),_v(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=$d)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[pr]=e,t[oc]=r,f4(t,e,!1,!1),e.stateNode=t;e:{switch(i=l1(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<_l.length;s++)Re(_l[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":mv(t,r),s=n1(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ze({},r,{value:void 0}),Re("invalid",t);break;case"textarea":yv(t,r),s=o1(t,r),Re("invalid",t);break;default:s=r}a1(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?WC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yl(t,l):typeof l=="number"&&Yl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Zl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Re("scroll",t):l!=null&&i0(t,o,l,i))}switch(n){case"input":wu(t),gv(t,r,!1);break;case"textarea":wu(t),_v(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ks(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Gi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$d)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rt(e),null;case 6:if(t&&e.stateNode!=null)m4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=jo(ac.current),jo(xr.current),Nu(e)){if(r=e.stateNode,n=e.memoizedProps,r[pr]=e,(o=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:Iu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Iu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pr]=e,e.stateNode=r}return Rt(e),null;case 13:if(Me(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&kn!==null&&e.mode&1&&!(e.flags&128))L5(),ua(),e.flags|=98560,o=!1;else if(o=Nu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[pr]=e}else ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rt(e),o=!1}else Xn!==null&&(V1(Xn),Xn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?mt===0&&(mt=3):V0())),e.updateQueue!==null&&(e.flags|=4),Rt(e),null);case 4:return ha(),R1(t,e),t===null&&rc(e.stateNode.containerInfo),Rt(e),null;case 10:return S0(e.type._context),Rt(e),null;case 17:return mn(e.type)&&Fd(),Rt(e),null;case 19:if(Me(We),o=e.memoizedState,o===null)return Rt(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)nl(o,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Wd(t),i!==null){for(e.flags|=128,nl(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ae(We,We.current&1|2),e.child}t=t.sibling}o.tail!==null&&st()>pa&&(e.flags|=128,r=!0,nl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Wd(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ve)return Rt(e),null}else 2*st()-o.renderingStartTime>pa&&n!==1073741824&&(e.flags|=128,r=!0,nl(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=st(),e.sibling=null,n=We.current,Ae(We,r?n&1|2:n&1),e):(Rt(e),null);case 22:case 23:return U0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(Rt(e),e.subtreeFlags&6&&(e.flags|=8192)):Rt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function _T(t,e){switch(x0(e),e.tag){case 1:return mn(e.type)&&Fd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ha(),Me(pn),Me(Kt),j0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return N0(e),null;case 13:if(Me(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(We),null;case 4:return ha(),null;case 10:return S0(e.type._context),null;case 22:case 23:return U0(),null;case 24:return null;default:return null}}var Pu=!1,Ft=!1,vT=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Fi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function O1(t,e,n){try{n()}catch(r){et(t,e,r)}}var a2=!1;function wT(t,e){if(_1=Od,t=w5(),v0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=i),f===o&&++d===r&&(l=i),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(v1={focusedElem:t,selectionRange:n},Od=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Zn(e.type,w),x);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(C){et(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return v=a2,a2=!1,v}function Rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&O1(e,n,o)}s=s.next}while(s!==r)}}function rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function D1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function g4(t){var e=t.alternate;e!==null&&(t.alternate=null,g4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pr],delete e[oc],delete e[C1],delete e[nT],delete e[rT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function y4(t){return t.tag===5||t.tag===3||t.tag===4}function l2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function M1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$d));else if(r!==4&&(t=t.child,t!==null))for(M1(t,e,n),t=t.sibling;t!==null;)M1(t,e,n),t=t.sibling}function $1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($1(t,e,n),t=t.sibling;t!==null;)$1(t,e,n),t=t.sibling}var bt=null,Yn=!1;function hs(t,e,n){for(n=n.child;n!==null;)_4(t,e,n),n=n.sibling}function _4(t,e,n){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Zh,n)}catch{}switch(n.tag){case 5:Ft||Fi(n,e);case 6:var r=bt,s=Yn;bt=null,hs(t,e,n),bt=r,Yn=s,bt!==null&&(Yn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Yn?(t=bt,n=n.stateNode,t.nodeType===8?Vp(t.parentNode,n):t.nodeType===1&&Vp(t,n),ec(t)):Vp(bt,n.stateNode));break;case 4:r=bt,s=Yn,bt=n.stateNode.containerInfo,Yn=!0,hs(t,e,n),bt=r,Yn=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&O1(n,e,i),s=s.next}while(s!==r)}hs(t,e,n);break;case 1:if(!Ft&&(Fi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}hs(t,e,n);break;case 21:hs(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,hs(t,e,n),Ft=r):hs(t,e,n);break;default:hs(t,e,n)}}function c2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vT),e.forEach(function(r){var s=NT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,Yn=!1;break e;case 3:bt=a.stateNode.containerInfo,Yn=!0;break e;case 4:bt=a.stateNode.containerInfo,Yn=!0;break e}a=a.return}if(bt===null)throw Error(U(160));_4(o,i,s),bt=null,Yn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){et(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)v4(e,t),e=e.sibling}function v4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wn(e,t),ir(t),r&4){try{Rl(3,t,t.return),rf(3,t)}catch(w){et(t,t.return,w)}try{Rl(5,t,t.return)}catch(w){et(t,t.return,w)}}break;case 1:Wn(e,t),ir(t),r&512&&n!==null&&Fi(n,n.return);break;case 5:if(Wn(e,t),ir(t),r&512&&n!==null&&Fi(n,n.return),t.flags&32){var s=t.stateNode;try{Yl(s,"")}catch(w){et(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&UC(s,o),l1(a,i);var u=l1(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?WC(s,h):d==="dangerouslySetInnerHTML"?HC(s,h):d==="children"?Yl(s,h):i0(s,d,h,u)}switch(a){case"input":r1(s,o);break;case"textarea":VC(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Gi(s,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Gi(s,!!o.multiple,o.defaultValue,!0):Gi(s,!!o.multiple,o.multiple?[]:"",!1))}s[oc]=o}catch(w){et(t,t.return,w)}}break;case 6:if(Wn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(w){et(t,t.return,w)}}break;case 3:if(Wn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ec(e.containerInfo)}catch(w){et(t,t.return,w)}break;case 4:Wn(e,t),ir(t);break;case 13:Wn(e,t),ir(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(F0=st())),r&4&&c2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||d,Wn(e,t),Ft=u):Wn(e,t),ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,m=f.child,f.tag){case 0:case 11:case 14:case 15:Rl(4,f,f.return);break;case 1:Fi(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){et(r,n,w)}}break;case 5:Fi(f,f.return);break;case 22:if(f.memoizedState!==null){d2(h);continue}}m!==null?(m.return=f,Z=m):d2(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qC("display",i))}catch(w){et(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){et(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wn(e,t),ir(t),r&4&&c2(t);break;case 21:break;default:Wn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(y4(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yl(s,""),r.flags&=-33);var o=l2(t);$1(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=l2(t);M1(t,a,i);break;default:throw Error(U(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xT(t,e,n){Z=t,w4(t)}function w4(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Pu;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=Pu;var u=Ft;if(Pu=i,(Ft=l)&&!u)for(Z=s;Z!==null;)i=Z,l=i.child,i.tag===22&&i.memoizedState!==null?h2(s):l!==null?(l.return=i,Z=l):h2(s);for(;o!==null;)Z=o,w4(o),o=o.sibling;Z=s,Pu=a,Ft=u}u2(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Z=o):u2(t)}}function u2(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Zn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Kv(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kv(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ec(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ft||e.flags&512&&D1(e)}catch(f){et(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function d2(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function h2(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rf(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){et(e,s,l)}}var o=e.return;try{D1(e)}catch(l){et(e,o,l)}break;case 5:var i=e.return;try{D1(e)}catch(l){et(e,i,l)}}}catch(l){et(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var CT=Math.ceil,Zd=us.ReactCurrentDispatcher,M0=us.ReactCurrentOwner,Un=us.ReactCurrentBatchConfig,xe=0,wt=null,lt=null,It=0,Cn=0,Bi=ro(0),mt=0,dc=null,qo=0,sf=0,$0=0,Ol=null,un=null,F0=0,pa=1/0,Rr=null,Yd=!1,F1=null,Bs=null,Lu=!1,Ps=null,Qd=0,Dl=0,B1=null,fd=-1,pd=0;function nn(){return xe&6?st():fd!==-1?fd:fd=st()}function Us(t){return t.mode&1?xe&2&&It!==0?It&-It:oT.transition!==null?(pd===0&&(pd=s5()),pd):(t=Se,t!==0||(t=window.event,t=t===void 0?16:d5(t.type)),t):1}function er(t,e,n,r){if(50<Dl)throw Dl=0,B1=null,Error(U(185));$c(t,n,r),(!(xe&2)||t!==wt)&&(t===wt&&(!(xe&2)&&(sf|=n),mt===4&&Ss(t,It)),gn(t,r),n===1&&xe===0&&!(e.mode&1)&&(pa=st()+500,ef&&so()))}function gn(t,e){var n=t.callbackNode;oE(t,e);var r=Rd(t,t===wt?It:0);if(r===0)n!==null&&xv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xv(n),e===1)t.tag===0?sT(f2.bind(null,t)):j5(f2.bind(null,t)),eT(function(){!(xe&6)&&so()}),n=null;else{switch(o5(r)){case 1:n=d0;break;case 4:n=n5;break;case 16:n=Ld;break;case 536870912:n=r5;break;default:n=Ld}n=I4(n,x4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function x4(t,e){if(fd=-1,pd=0,xe&6)throw Error(U(327));var n=t.callbackNode;if(Xi()&&t.callbackNode!==n)return null;var r=Rd(t,t===wt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xd(t,r);else{e=r;var s=xe;xe|=2;var o=b4();(wt!==t||It!==e)&&(Rr=null,pa=st()+500,Oo(t,e));do try{ST();break}catch(a){C4(t,a)}while(!0);k0(),Zd.current=o,xe=s,lt!==null?e=0:(wt=null,It=0,e=mt)}if(e!==0){if(e===2&&(s=f1(t),s!==0&&(r=s,e=U1(t,s))),e===1)throw n=dc,Oo(t,0),Ss(t,r),gn(t,st()),n;if(e===6)Ss(t,r);else{if(s=t.current.alternate,!(r&30)&&!bT(s)&&(e=Xd(t,r),e===2&&(o=f1(t),o!==0&&(r=o,e=U1(t,o))),e===1))throw n=dc,Oo(t,0),Ss(t,r),gn(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:xo(t,un,Rr);break;case 3:if(Ss(t,r),(r&130023424)===r&&(e=F0+500-st(),10<e)){if(Rd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=x1(xo.bind(null,t,un,Rr),e);break}xo(t,un,Rr);break;case 4:if(Ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-Jn(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CT(r/1960))-r,10<r){t.timeoutHandle=x1(xo.bind(null,t,un,Rr),r);break}xo(t,un,Rr);break;case 5:xo(t,un,Rr);break;default:throw Error(U(329))}}}return gn(t,st()),t.callbackNode===n?x4.bind(null,t):null}function U1(t,e){var n=Ol;return t.current.memoizedState.isDehydrated&&(Oo(t,e).flags|=256),t=Xd(t,e),t!==2&&(e=un,un=n,e!==null&&V1(e)),t}function V1(t){un===null?un=t:un.push.apply(un,t)}function bT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!tr(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ss(t,e){for(e&=~$0,e&=~sf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function f2(t){if(xe&6)throw Error(U(327));Xi();var e=Rd(t,0);if(!(e&1))return gn(t,st()),null;var n=Xd(t,e);if(t.tag!==0&&n===2){var r=f1(t);r!==0&&(e=r,n=U1(t,r))}if(n===1)throw n=dc,Oo(t,0),Ss(t,e),gn(t,st()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xo(t,un,Rr),gn(t,st()),null}function B0(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(pa=st()+500,ef&&so())}}function Wo(t){Ps!==null&&Ps.tag===0&&!(xe&6)&&Xi();var e=xe;xe|=1;var n=Un.transition,r=Se;try{if(Un.transition=null,Se=1,t)return t()}finally{Se=r,Un.transition=n,xe=e,!(xe&6)&&so()}}function U0(){Cn=Bi.current,Me(Bi)}function Oo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JE(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(x0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fd();break;case 3:ha(),Me(pn),Me(Kt),j0();break;case 5:N0(r);break;case 4:ha();break;case 13:Me(We);break;case 19:Me(We);break;case 10:S0(r.type._context);break;case 22:case 23:U0()}n=n.return}if(wt=t,lt=t=Vs(t.current,null),It=Cn=e,mt=0,dc=null,$0=sf=qo=0,un=Ol=null,No!==null){for(e=0;e<No.length;e++)if(n=No[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}No=null}return t}function C4(t,e){do{var n=lt;try{if(k0(),ud.current=Kd,Gd){for(var r=Ke.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gd=!1}if(Ho=0,vt=ft=Ke=null,Ll=!1,lc=0,M0.current=null,n===null||n.return===null){mt=1,dc=e,lt=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=e2(i);if(m!==null){m.flags&=-257,t2(m,i,a,o,e),m.mode&1&&Jv(o,u,e),e=m,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Jv(o,u,e),V0();break e}l=Error(U(426))}}else if(Ve&&a.mode&1){var x=e2(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),t2(x,i,a,o,e),C0(fa(l,a));break e}}o=l=fa(l,a),mt!==4&&(mt=2),Ol===null?Ol=[o]:Ol.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=o4(o,l,e);Gv(o,_);break e;case 1:a=l;var y=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bs===null||!Bs.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=i4(o,a,e);Gv(o,C);break e}}o=o.return}while(o!==null)}S4(n)}catch(b){e=b,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function b4(){var t=Zd.current;return Zd.current=Kd,t===null?Kd:t}function V0(){(mt===0||mt===3||mt===2)&&(mt=4),wt===null||!(qo&268435455)&&!(sf&268435455)||Ss(wt,It)}function Xd(t,e){var n=xe;xe|=2;var r=b4();(wt!==t||It!==e)&&(Rr=null,Oo(t,e));do try{kT();break}catch(s){C4(t,s)}while(!0);if(k0(),xe=n,Zd.current=r,lt!==null)throw Error(U(261));return wt=null,It=0,mt}function kT(){for(;lt!==null;)k4(lt)}function ST(){for(;lt!==null&&!Y6();)k4(lt)}function k4(t){var e=T4(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?S4(t):lt=e,M0.current=null}function S4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=_T(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,lt=null;return}}else if(n=yT(n,e,Cn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);mt===0&&(mt=5)}function xo(t,e,n){var r=Se,s=Un.transition;try{Un.transition=null,Se=1,ET(t,e,n,r)}finally{Un.transition=s,Se=r}return null}function ET(t,e,n,r){do Xi();while(Ps!==null);if(xe&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(iE(t,o),t===wt&&(lt=wt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lu||(Lu=!0,I4(Ld,function(){return Xi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Un.transition,Un.transition=null;var i=Se;Se=1;var a=xe;xe|=4,M0.current=null,wT(t,n),v4(n,t),WE(v1),Od=!!_1,v1=_1=null,t.current=n,xT(n),Q6(),xe=a,Se=i,Un.transition=o}else t.current=n;if(Lu&&(Lu=!1,Ps=t,Qd=s),o=t.pendingLanes,o===0&&(Bs=null),eE(n.stateNode),gn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yd)throw Yd=!1,t=F1,F1=null,t;return Qd&1&&t.tag!==0&&Xi(),o=t.pendingLanes,o&1?t===B1?Dl++:(Dl=0,B1=t):Dl=0,so(),null}function Xi(){if(Ps!==null){var t=o5(Qd),e=Un.transition,n=Se;try{if(Un.transition=null,Se=16>t?16:t,Ps===null)var r=!1;else{if(t=Ps,Ps=null,Qd=0,xe&6)throw Error(U(331));var s=xe;for(xe|=4,Z=t.current;Z!==null;){var o=Z,i=o.child;if(Z.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Rl(8,d,o)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,m=d.return;if(g4(d),d===u){Z=null;break}if(f!==null){f.return=m,Z=f;break}Z=m}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}Z=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Z=i;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Rl(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Z=_;break e}Z=o.return}}var y=t.current;for(Z=y;Z!==null;){i=Z;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,Z=g;else e:for(i=y;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rf(9,a)}}catch(b){et(a,a.return,b)}if(a===i){Z=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Z=C;break e}Z=a.return}}if(xe=s,so(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Zh,t)}catch{}r=!0}return r}finally{Se=n,Un.transition=e}}return!1}function p2(t,e,n){e=fa(n,e),e=o4(t,e,1),t=Fs(t,e,1),e=nn(),t!==null&&($c(t,1,e),gn(t,e))}function et(t,e,n){if(t.tag===3)p2(t,t,n);else for(;e!==null;){if(e.tag===3){p2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){t=fa(n,t),t=i4(e,t,1),e=Fs(e,t,1),t=nn(),e!==null&&($c(e,1,t),gn(e,t));break}}e=e.return}}function TT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(It&n)===n&&(mt===4||mt===3&&(It&130023424)===It&&500>st()-F0?Oo(t,0):$0|=n),gn(t,e)}function E4(t,e){e===0&&(t.mode&1?(e=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):e=1);var n=nn();t=Xr(t,e),t!==null&&($c(t,e,n),gn(t,n))}function IT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),E4(t,n)}function NT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),E4(t,n)}var T4;T4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,gT(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Ve&&e.flags&1048576&&A5(e,Vd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hd(t,e),t=e.pendingProps;var s=ca(e,Kt.current);Qi(e,n),s=P0(null,e,r,t,s,n);var o=L0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(o=!0,Bd(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,T0(e),s.updater=nf,e.stateNode=s,s._reactInternals=e,I1(e,r,t,n),e=A1(null,e,r,!0,o,n)):(e.tag=0,Ve&&o&&w0(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=AT(r),t=Zn(r,t),s){case 0:e=j1(null,e,r,t,n);break e;case 1:e=s2(null,e,r,t,n);break e;case 11:e=n2(null,e,r,t,n);break e;case 14:e=r2(null,e,r,Zn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),j1(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),s2(t,e,r,s,n);case 3:e:{if(u4(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,s=o.element,M5(t,e),qd(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=fa(Error(U(423)),e),e=o2(t,e,r,n,s);break e}else if(r!==s){s=fa(Error(U(424)),e),e=o2(t,e,r,n,s);break e}else for(kn=$s(e.stateNode.containerInfo.firstChild),Tn=e,Ve=!0,Xn=null,n=O5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===s){e=Jr(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return $5(e),t===null&&S1(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,w1(r,s)?i=null:o!==null&&w1(r,o)&&(e.flags|=32),c4(t,e),Jt(t,e,i,n),e.child;case 6:return t===null&&S1(e),null;case 13:return d4(t,e,n);case 4:return I0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=da(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),n2(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,Ae(zd,r._currentValue),r._currentValue=i,o!==null)if(tr(o.value,i)){if(o.children===s.children&&!pn.current){e=Jr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Hr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),E1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),E1(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Qi(e,n),s=zn(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=Zn(r,e.pendingProps),s=Zn(r.type,s),r2(t,e,r,s,n);case 15:return a4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Zn(r,s),hd(t,e),e.tag=1,mn(r)?(t=!0,Bd(e)):t=!1,Qi(e,n),s4(e,r,s),I1(e,r,s,n),A1(null,e,r,!0,t,n);case 19:return h4(t,e,n);case 22:return l4(t,e,n)}throw Error(U(156,e.tag))};function I4(t,e){return t5(t,e)}function jT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new jT(t,e,n,r)}function z0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AT(t){if(typeof t=="function")return z0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===l0)return 11;if(t===c0)return 14}return 2}function Vs(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function md(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")z0(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case ji:return Do(n.children,s,o,e);case a0:i=8,s|=8;break;case Xm:return t=Bn(12,n,e,s|2),t.elementType=Xm,t.lanes=o,t;case Jm:return t=Bn(13,n,e,s),t.elementType=Jm,t.lanes=o,t;case e1:return t=Bn(19,n,e,s),t.elementType=e1,t.lanes=o,t;case $C:return of(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DC:i=10;break e;case MC:i=9;break e;case l0:i=11;break e;case c0:i=14;break e;case vs:i=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Bn(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Do(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function of(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=$C,t.lanes=n,t.stateNode={isHidden:!1},t}function Yp(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function Qp(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ap(0),this.expirationTimes=Ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ap(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function H0(t,e,n,r,s,o,i,a,l){return t=new PT(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},T0(o),t}function LT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function N4(t){if(!t)return Zs;t=t._reactInternals;e:{if(oi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(mn(n))return N5(t,n,e)}return e}function j4(t,e,n,r,s,o,i,a,l){return t=H0(n,r,!0,t,s,o,i,a,l),t.context=N4(null),n=t.current,r=nn(),s=Us(n),o=Hr(r,s),o.callback=e??null,Fs(n,o,s),t.current.lanes=s,$c(t,s,r),gn(t,r),t}function af(t,e,n,r){var s=e.current,o=nn(),i=Us(s);return n=N4(n),e.context===null?e.context=n:e.pendingContext=n,e=Hr(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fs(s,e,i),t!==null&&(er(t,s,i,o),cd(t,s,i)),i}function Jd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q0(t,e){m2(t,e),(t=t.alternate)&&m2(t,e)}function RT(){return null}var A4=typeof reportError=="function"?reportError:function(t){console.error(t)};function W0(t){this._internalRoot=t}lf.prototype.render=W0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));af(t,e,null,null)};lf.prototype.unmount=W0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wo(function(){af(null,t,null,null)}),e[Qr]=null}};function lf(t){this._internalRoot=t}lf.prototype.unstable_scheduleHydration=function(t){if(t){var e=l5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ks.length&&e!==0&&e<ks[n].priority;n++);ks.splice(n,0,t),n===0&&u5(t)}};function G0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g2(){}function OT(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Jd(i);o.call(u)}}var i=j4(e,r,t,0,null,!1,!1,"",g2);return t._reactRootContainer=i,t[Qr]=i.current,rc(t.nodeType===8?t.parentNode:t),Wo(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Jd(l);a.call(u)}}var l=H0(t,0,!1,null,null,!1,!1,"",g2);return t._reactRootContainer=l,t[Qr]=l.current,rc(t.nodeType===8?t.parentNode:t),Wo(function(){af(e,l,n,r)}),l}function uf(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Jd(i);a.call(l)}}af(e,i,t,s)}else i=OT(n,e,t,s,r);return Jd(i)}i5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yl(e.pendingLanes);n!==0&&(h0(e,n|1),gn(e,st()),!(xe&6)&&(pa=st()+500,so()))}break;case 13:Wo(function(){var r=Xr(t,1);if(r!==null){var s=nn();er(r,t,1,s)}}),q0(t,1)}};f0=function(t){if(t.tag===13){var e=Xr(t,134217728);if(e!==null){var n=nn();er(e,t,134217728,n)}q0(t,134217728)}};a5=function(t){if(t.tag===13){var e=Us(t),n=Xr(t,e);if(n!==null){var r=nn();er(n,t,e,r)}q0(t,e)}};l5=function(){return Se};c5=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};u1=function(t,e,n){switch(e){case"input":if(r1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Jh(r);if(!s)throw Error(U(90));BC(r),r1(r,s)}}}break;case"textarea":VC(t,n);break;case"select":e=n.value,e!=null&&Gi(t,!!n.multiple,e,!1)}};ZC=B0;YC=Wo;var DT={usingClientEntryPoint:!1,Events:[Bc,Ri,Jh,GC,KC,B0]},rl={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MT={bundleType:rl.bundleType,version:rl.version,rendererPackageName:rl.rendererPackageName,rendererConfig:rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JC(t),t===null?null:t.stateNode},findFiberByHostInstance:rl.findFiberByHostInstance||RT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{Zh=Ru.inject(MT),wr=Ru}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DT;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G0(e))throw Error(U(200));return LT(t,e,null,n)};Pn.createRoot=function(t,e){if(!G0(t))throw Error(U(299));var n=!1,r="",s=A4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=H0(t,1,!1,null,null,n,!1,r,s),t[Qr]=e.current,rc(t.nodeType===8?t.parentNode:t),new W0(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=JC(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Wo(t)};Pn.hydrate=function(t,e,n){if(!cf(e))throw Error(U(200));return uf(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!G0(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=A4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=j4(e,null,t,1,n??null,s,!1,o,i),t[Qr]=e.current,rc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new lf(e)};Pn.render=function(t,e,n){if(!cf(e))throw Error(U(200));return uf(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!cf(t))throw Error(U(40));return t._reactRootContainer?(Wo(function(){uf(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};Pn.unstable_batchedUpdates=B0;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cf(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return uf(t,e,n,!1,r)};Pn.version="18.3.1-next-f1338f8080-20240426";function P4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P4)}catch(t){console.error(t)}}P4(),PC.exports=Pn;var $T=PC.exports;const FT=Gh($T);/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hc(){return hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hc.apply(this,arguments)}var Ls;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ls||(Ls={}));const y2="popstate";function BT(t){t===void 0&&(t={});function e(s,o){let{pathname:i="/",search:a="",hash:l=""}=ii(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),z1("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:L4(o))}function r(s,o){K0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return VT(e,n,r,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function K0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UT(){return Math.random().toString(36).substr(2,8)}function _2(t,e){return{usr:t.state,key:t.key,idx:e}}function z1(t,e,n,r){return n===void 0&&(n=null),hc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ii(e):e,{state:n,key:e&&e.key||r||UT()})}function L4(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function VT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Ls.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(hc({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=Ls.Pop;let x=d(),_=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:_})}function f(x,_){a=Ls.Push;let y=z1(w.location,x,_);n&&n(y,x),u=d()+1;let g=_2(y,u),C=w.createHref(y);try{i.pushState(g,"",C)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(C)}o&&l&&l({action:a,location:w.location,delta:1})}function m(x,_){a=Ls.Replace;let y=z1(w.location,x,_);n&&n(y,x),u=d();let g=_2(y,u),C=w.createHref(y);i.replaceState(g,"",C),o&&l&&l({action:a,location:w.location,delta:0})}function v(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:L4(x);return y=y.replace(/ $/,"%20"),gt(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let w={get action(){return a},get location(){return t(s,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(y2,h),l=x,()=>{s.removeEventListener(y2,h),l=null}},createHref(x){return e(s,x)},createURL:v,encodeLocation(x){let _=v(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(x){return i.go(x)}};return w}var v2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(v2||(v2={}));function zT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ii(e):e,s=D4(r.pathname||"/",n);if(s==null)return null;let o=R4(t);HT(o);let i=null;for(let a=0;i==null&&a<o.length;++a){let l=nI(s);i=JT(o[a],l)}return i}function R4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Mo([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(gt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),R4(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:QT(u,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of O4(o.path))s(o,i,l)}),e}function O4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=O4(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function HT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qT=/^:[\w-]+$/,WT=3,GT=2,KT=1,ZT=10,YT=-2,w2=t=>t==="*";function QT(t,e){let n=t.split("/"),r=n.length;return n.some(w2)&&(r+=YT),e&&(r+=GT),n.filter(s=>!w2(s)).reduce((s,o)=>s+(qT.test(o)?WT:o===""?KT:ZT),r)}function XT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function JT(t,e){let{routesMeta:n}=t,r={},s="/",o=[];for(let i=0;i<n.length;++i){let a=n[i],l=i===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=eI({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;o.push({params:r,pathname:Mo([s,d.pathname]),pathnameBase:lI(Mo([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Mo([s,d.pathnameBase]))}return o}function eI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=a[h]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function tI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),K0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function nI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return K0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function D4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ii(t):t;return{pathname:n?n.startsWith("/")?n:sI(n,e):e,search:cI(r),hash:uI(s)}}function sI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Xp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function oI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iI(t,e){let n=oI(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function aI(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ii(t):(s=hc({},t),gt(!s.pathname||!s.pathname.includes("?"),Xp("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Xp("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Xp("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=rI(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Mo=t=>t.join("/").replace(/\/\/+/g,"/"),lI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M4=["post","put","patch","delete"];new Set(M4);const hI=["get",...M4];new Set(hI);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}const Z0=p.createContext(null),fI=p.createContext(null),df=p.createContext(null),hf=p.createContext(null),ai=p.createContext({outlet:null,matches:[],isDataRoute:!1}),$4=p.createContext(null);function ff(){return p.useContext(hf)!=null}function pf(){return ff()||gt(!1),p.useContext(hf).location}function F4(t){p.useContext(df).static||p.useLayoutEffect(t)}function ce(){let{isDataRoute:t}=p.useContext(ai);return t?EI():pI()}function pI(){ff()||gt(!1);let t=p.useContext(Z0),{basename:e,future:n,navigator:r}=p.useContext(df),{matches:s}=p.useContext(ai),{pathname:o}=pf(),i=JSON.stringify(iI(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return F4(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=aI(u,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Mo([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,i,o,t])}function Ar(){let{matches:t}=p.useContext(ai),e=t[t.length-1];return e?e.params:{}}function mI(t,e){return gI(t,e)}function gI(t,e,n,r){ff()||gt(!1);let{navigator:s}=p.useContext(df),{matches:o}=p.useContext(ai),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=pf(),d;if(e){var h;let x=typeof e=="string"?ii(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||gt(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=zT(t,{pathname:m}),w=xI(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Mo([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Mo([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&w?p.createElement(hf.Provider,{value:{location:fc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ls.Pop}},w):w}function yI(){let t=SI(),e=dI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const _I=p.createElement(yI,null);class vI extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(ai.Provider,{value:this.props.routeContext},p.createElement($4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wI(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(Z0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(ai.Provider,{value:e},r)}function xI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||gt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,f)=>{let m,v=!1,w=null,x=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||_I,l&&(u<0&&f===0?(TI("route-fallback"),v=!0,x=null):u===f&&(v=!0,x=h.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,f+1)),y=()=>{let g;return m?g=w:v?g=x:h.route.Component?g=p.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,p.createElement(wI,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(vI,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var B4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(B4||{}),U4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(U4||{});function CI(t){let e=p.useContext(Z0);return e||gt(!1),e}function bI(t){let e=p.useContext(fI);return e||gt(!1),e}function kI(t){let e=p.useContext(ai);return e||gt(!1),e}function V4(t){let e=kI(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function SI(){var t;let e=p.useContext($4),n=bI(),r=V4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function EI(){let{router:t}=CI(B4.UseNavigateStable),e=V4(U4.UseNavigateStable),n=p.useRef(!1);return F4(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,fc({fromRouteId:e},o)))},[t,e])}const x2={};function TI(t,e,n){x2[t]||(x2[t]=!0)}function H1(t){gt(!1)}function II(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ls.Pop,navigator:o,static:i=!1,future:a}=t;ff()&&gt(!1);let l=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:l,navigator:o,static:i,future:fc({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=ii(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,w=p.useMemo(()=>{let x=D4(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:v},navigationType:s}},[l,d,h,f,m,v,s]);return w==null?null:p.createElement(df.Provider,{value:u},p.createElement(hf.Provider,{children:n,value:w}))}function NI(t){let{children:e,location:n}=t;return mI(q1(e),n)}new Promise(()=>{});function q1(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let o=[...e,s];if(r.type===p.Fragment){n.push.apply(n,q1(r.props.children,o));return}r.type!==H1&&gt(!1),!r.props.index||!r.props.children||gt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=q1(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function W1(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function jI(t,e){let n=W1(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const AI="6";try{window.__reactRouterVersion=AI}catch{}const PI="startTransition",C2=T6[PI];function LI(t){let{basename:e,children:n,future:r,window:s}=t,o=p.useRef();o.current==null&&(o.current=BT({window:s,v5Compat:!0}));let i=o.current,[a,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&C2?C2(()=>l(h)):l(h)},[l,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.createElement(II,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var b2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(b2||(b2={}));var k2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(k2||(k2={}));function RI(t){let e=p.useRef(W1(t)),n=p.useRef(!1),r=pf(),s=p.useMemo(()=>jI(r.search,n.current?null:e.current),[r.search]),o=ce(),i=p.useCallback((a,l)=>{const u=W1(typeof a=="function"?a(s):a);n.current=!0,o("?"+u,l)},[o,s]);return[s,i]}const OI="_container_1a1ax_1",DI={container:OI},MI="_container_1k8xw_1",$I="_loader_1k8xw_12",S2={container:MI,loader:$I},E2={default:{name:"default",icon_color:"#0040F9",first_color:"#0040F9",second_color:"#C3F82B",third_color:"#FF4365",gradient_first_color:"#0040F9",gradient_second_color:"#C3F82B",light_color:"#C3F82B",block_first_color:"#0040F9",block_second_color:"#C3F82B",block_third_color:"#FF4365",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#0A0B10",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},genery:{name:"genery",icon_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",gradient_first_color:"#2400FF",gradient_second_color:"#00C2FF",light_color:"#C3F82B",block_first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",block_second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",block_third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#0A0B10",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},kyrgyzstan:{name:"kyrgyzstan",icon_color:"#E3010F",first_color:"#FEF400",second_color:"#E3010F",third_color:"#FEF400",gradient_first_color:"#FEF400",gradient_second_color:"#E3010F",light_color:"#C3F82B",block_first_color:"#E3010F",block_second_color:"#FEF400",block_third_color:"#FEF400",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#DEDDDD",loader_second_color:"#A6A6A6",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#A6A6A6",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},winter_2024:{name:"winter_2024",icon_color:"#85B6FF",first_color:"#85AFED",second_color:"#A7C0E5",third_color:"#A7C0E5",gradient_first_color:"#85AFED",gradient_second_color:"#CBE0FF",light_color:"green",block_first_color:"#85AFED",block_second_color:"#A7C0E5",block_third_color:"#CBE0FF",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#85AFED",loader_second_color:"#CBE0FF",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#A6A6A6",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"}},F=p.createContext();function FI({children:t}){const e=localStorage.getItem("theme")||"default",[n,r]=p.useState(e);p.useEffect(()=>{localStorage.setItem("theme",n)},[n]);const s=a=>{E2[a]&&r(a)},[o,i]=p.useState({iconColor:"#000000",titleColor:"#000000",arrowColor:"#000000",backgroundColor:"#FFFFFF",activeButton:1});return c.jsx(F.Provider,{value:{theme:E2[n],setThemeById:s,elementColors:o,setElementColors:i},children:t})}function z4({color:t}){const{theme:e,elementColors:n,setElementColors:r}=p.useContext(F);return p.useEffect(()=>{r({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowColor:e.text_first_color,arrowLink:"#/menu",isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!1,isFooter:!1,footerBackground:e.background_color,activeElementIndex:2}),document.body.style.background=e.background_color},[e]),c.jsx("div",{className:S2.container,children:c.jsx("div",{className:S2.loader,children:c.jsx("svg",{width:"50",height:"73",viewBox:"0 0 50 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M39.7767 0.312248C40.2216 0.571102 40.5658 0.973727 40.7532 1.45435C40.9407 1.93497 40.9601 2.46517 40.8085 2.95835L32.6225 29.6566H47.7265C48.1703 29.6564 48.6045 29.7867 48.9755 30.0314C49.3464 30.2761 49.6379 30.6244 49.8138 31.0334C49.9898 31.4425 50.0425 31.8942 49.9656 32.333C49.8887 32.7718 49.6854 33.1784 49.3809 33.5025L13.0186 72.2816C12.6668 72.6571 12.1986 72.902 11.6904 72.9762C11.1821 73.0505 10.6638 72.9497 10.2199 72.6905C9.77606 72.4312 9.43275 72.0286 9.24599 71.5484C9.05922 71.0682 9.04001 70.5387 9.19148 70.0461L17.3776 43.3433H2.27355C1.82968 43.3435 1.39547 43.2132 1.02453 42.9685C0.653591 42.7238 0.362153 42.3755 0.186196 41.9665C0.0102386 41.5574 -0.0425346 41.1056 0.0343904 40.6668C0.111315 40.2281 0.31457 39.8215 0.619066 39.4973L36.9814 0.718287C37.3328 0.343267 37.8003 0.0985916 38.3078 0.0240443C38.8153 -0.0505029 39.333 0.0494621 39.7767 0.307685V0.312248Z",fill:t})})})})}var T2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},BI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},q4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,i||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||u==null||h==null)throw new UI;const f=o<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class UI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VI=function(t){const e=H4(t);return q4.encodeByteArray(e,!0)},eh=function(t){return VI(t).replace(/\./g,"")},W4=function(t){try{return q4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=()=>zI().__FIREBASE_DEFAULTS__,qI=()=>{if(typeof process>"u"||typeof T2>"u")return;const t=T2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&W4(t[1]);return e&&JSON.parse(e)},mf=()=>{try{return HI()||qI()||WI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},G4=t=>{var e,n;return(n=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},K4=t=>{const e=G4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z4=()=>{var t;return(t=mf())===null||t===void 0?void 0:t.config},Y4=t=>{var e;return(e=mf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eh(JSON.stringify(n)),eh(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function ZI(){var t;const e=(t=mf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XI(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JI(){try{return typeof indexedDB=="object"}catch{return!1}}function eN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="FirebaseError";class Pr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tN,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?nN(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Pr(s,a,r)}}function nN(t,e){return t.replace(rN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const rN=/\{\$([^}]+)}/g;function sN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function th(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(I2(o)&&I2(i)){if(!th(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function I2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oN(t,e){const n=new iN(t,e);return n.subscribe.bind(n)}class iN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Jp),s.error===void 0&&(s.error=Jp),s.complete===void 0&&(s.complete=Jp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t){return t&&t._delegate?t._delegate:t}class Ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new GI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uN(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cN(t){return t===Co?void 0:t}function uN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const hN={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},fN=Ce.INFO,pN={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},mN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Y0{constructor(e){this.name=e,this._logLevel=fN,this._logHandler=mN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const gN=(t,e)=>e.some(n=>t instanceof n);let N2,j2;function yN(){return N2||(N2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _N(){return j2||(j2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X4=new WeakMap,G1=new WeakMap,J4=new WeakMap,em=new WeakMap,Q0=new WeakMap;function vN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(zs(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&X4.set(n,t)}).catch(()=>{}),Q0.set(e,t),e}function wN(t){if(G1.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});G1.set(t,e)}let K1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||J4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xN(t){K1=t(K1)}function CN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tm(this),e,...n);return J4.set(r,e.sort?e.sort():[e]),zs(r)}:_N().includes(t)?function(...e){return t.apply(tm(this),e),zs(X4.get(this))}:function(...e){return zs(t.apply(tm(this),e))}}function bN(t){return typeof t=="function"?CN(t):(t instanceof IDBTransaction&&wN(t),gN(t,yN())?new Proxy(t,K1):t)}function zs(t){if(t instanceof IDBRequest)return vN(t);if(em.has(t))return em.get(t);const e=bN(t);return e!==t&&(em.set(t,e),Q0.set(e,t)),e}const tm=t=>Q0.get(t);function kN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=zs(i);return r&&i.addEventListener("upgradeneeded",l=>{r(zs(i.result),l.oldVersion,l.newVersion,zs(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const SN=["get","getKey","getAll","getAllKeys","count"],EN=["put","add","delete","clear"],nm=new Map;function A2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=EN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||SN.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return nm.set(e,o),o}xN(t=>({...t,get:(e,n,r)=>A2(e,n)||t.get(e,n,r),has:(e,n)=>!!A2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Z1="@firebase/app",P2="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Y0("@firebase/app"),NN="@firebase/app-compat",jN="@firebase/analytics-compat",AN="@firebase/analytics",PN="@firebase/app-check-compat",LN="@firebase/app-check",RN="@firebase/auth",ON="@firebase/auth-compat",DN="@firebase/database",MN="@firebase/database-compat",$N="@firebase/functions",FN="@firebase/functions-compat",BN="@firebase/installations",UN="@firebase/installations-compat",VN="@firebase/messaging",zN="@firebase/messaging-compat",HN="@firebase/performance",qN="@firebase/performance-compat",WN="@firebase/remote-config",GN="@firebase/remote-config-compat",KN="@firebase/storage",ZN="@firebase/storage-compat",YN="@firebase/firestore",QN="@firebase/firestore-compat",XN="firebase",JN="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="[DEFAULT]",ej={[Z1]:"fire-core",[NN]:"fire-core-compat",[AN]:"fire-analytics",[jN]:"fire-analytics-compat",[LN]:"fire-app-check",[PN]:"fire-app-check-compat",[RN]:"fire-auth",[ON]:"fire-auth-compat",[DN]:"fire-rtdb",[MN]:"fire-rtdb-compat",[$N]:"fire-fn",[FN]:"fire-fn-compat",[BN]:"fire-iid",[UN]:"fire-iid-compat",[VN]:"fire-fcm",[zN]:"fire-fcm-compat",[HN]:"fire-perf",[qN]:"fire-perf-compat",[WN]:"fire-rc",[GN]:"fire-rc-compat",[KN]:"fire-gcs",[ZN]:"fire-gcs-compat",[YN]:"fire-fst",[QN]:"fire-fst-compat","fire-js":"fire-js",[XN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,Q1=new Map;function tj(t,e){try{t.container.addComponent(e)}catch(n){Go.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ko(t){const e=t.name;if(Q1.has(e))return Go.debug(`There were multiple attempts to register component ${e}.`),!1;Q1.set(e,t);for(const n of nh.values())tj(n,t);return!0}function gf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hs=new Vc("app","Firebase",nj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=JN;function e9(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Y1,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Hs.create("bad-app-name",{appName:String(s)});if(n||(n=Z4()),!n)throw Hs.create("no-options");const o=nh.get(s);if(o){if(th(n,o.options)&&th(r,o.config))return o;throw Hs.create("duplicate-app",{appName:s})}const i=new dN(s);for(const l of Q1.values())i.addComponent(l);const a=new rj(n,r,i);return nh.set(s,a),a}function X0(t=Y1){const e=nh.get(t);if(!e&&t===Y1&&Z4())return e9();if(!e)throw Hs.create("no-app",{appName:t});return e}function Cr(t,e,n){var r;let s=(r=ej[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Go.warn(a.join(" "));return}Ko(new Ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="firebase-heartbeat-database",oj=1,pc="firebase-heartbeat-store";let rm=null;function t9(){return rm||(rm=kN(sj,oj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pc)}}}).catch(t=>{throw Hs.create("idb-open",{originalErrorMessage:t.message})})),rm}async function ij(t){try{return await(await t9()).transaction(pc).objectStore(pc).get(n9(t))}catch(e){if(e instanceof Pr)Go.warn(e.message);else{const n=Hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Go.warn(n.message)}}}async function L2(t,e){try{const r=(await t9()).transaction(pc,"readwrite");await r.objectStore(pc).put(e,n9(t)),await r.done}catch(n){if(n instanceof Pr)Go.warn(n.message);else{const r=Hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Go.warn(r.message)}}}function n9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=1024,lj=30*24*60*60*1e3;class cj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=R2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=lj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=R2(),{heartbeatsToSend:n,unsentEntries:r}=uj(this._heartbeatsCache.heartbeats),s=eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function R2(){return new Date().toISOString().substring(0,10)}function uj(t,e=aj){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),O2(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),O2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JI()?eN().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ij(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return L2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return L2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function O2(t){return eh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(t){Ko(new Ys("platform-logger",e=>new TN(e),"PRIVATE")),Ko(new Ys("heartbeat",e=>new cj(e),"PRIVATE")),Cr(Z1,P2,t),Cr(Z1,P2,"esm2017"),Cr("fire-js","")}hj("");function J0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function r9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fj=r9,s9=new Vc("auth","Firebase",r9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Y0("@firebase/auth");function pj(t,...e){rh.logLevel<=Ce.WARN&&rh.warn(`Auth (${li}): ${t}`,...e)}function gd(t,...e){rh.logLevel<=Ce.ERROR&&rh.error(`Auth (${li}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw ey(t,...e)}function br(t,...e){return ey(t,...e)}function mj(t,e,n){const r=Object.assign(Object.assign({},fj()),{[e]:n});return new Vc("auth","Firebase",r).create(e,{appName:t.name})}function ey(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s9.create(t,...e)}function oe(t,e,...n){if(!t)throw ey(e,...n)}function Br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function es(t,e){t||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gj(){return D2()==="http:"||D2()==="https:"}function D2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gj()||YI()||"connection"in navigator)?navigator.onLine:!0}function _j(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n){this.shortDelay=e,this.longDelay=n,es(n>e,"Short delay should be less than long delay!"),this.isMobile=KI()||QI()}get(){return yj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t,e){es(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new Hc(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function io(t,e,n,r,s={}){return i9(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const a=zc(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),o9.fetch()(a9(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function i9(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vj),e);try{const s=new xj(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Ou(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ou(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw Ou(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw Ou(t,"user-disabled",i);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mj(t,d,u);nr(t,d)}}catch(s){if(s instanceof Pr)throw s;nr(t,"network-request-failed",{message:String(s)})}}async function qc(t,e,n,r,s={}){const o=await io(t,e,n,r,s);return"mfaPendingCredential"in o&&nr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function a9(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ty(t.config,s):`${t.config.apiScheme}://${s}`}class xj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),wj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=br(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(t,e){return io(t,"POST","/v1/accounts:delete",e)}async function bj(t,e){return io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kj(t,e=!1){const n=Ne(t),r=await n.getIdToken(e),s=ny(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Ml(sm(s.auth_time)),issuedAtTime:Ml(sm(s.iat)),expirationTime:Ml(sm(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sm(t){return Number(t)*1e3}function ny(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const s=W4(n);return s?JSON.parse(s):(gd("Failed to decode base64 JWT payload"),null)}catch(s){return gd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Sj(t){const e=ny(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pr&&Ej(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Ej({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await mc(t,bj(n,{idToken:r}));oe(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jj(o.providerUserInfo):[],a=Nj(t.providerData,i),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new l9(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Ij(t){const e=Ne(t);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function jj(t){return t.map(e=>{var{providerId:n}=e,r=J0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e){const n=await i9(t,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=a9(t,s,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",o9.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await Aj(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new gc;return r&&(oe(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(oe(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gc,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $o{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=J0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new l9(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mc(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kj(this,e)}reload(){return Ij(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $o(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await mc(this,Cj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,i,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(i=n.photoURL)!==null&&i!==void 0?i:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:g,emailVerified:C,isAnonymous:b,providerData:k,stsTokenManager:T}=n;oe(g&&T,e,"internal-error");const S=gc.fromJSON(this.name,T);oe(typeof g=="string",e,"internal-error"),fs(h,e.name),fs(f,e.name),oe(typeof C=="boolean",e,"internal-error"),oe(typeof b=="boolean",e,"internal-error"),fs(m,e.name),fs(v,e.name),fs(w,e.name),fs(x,e.name),fs(_,e.name),fs(y,e.name);const E=new $o({uid:g,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:b,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:S,createdAt:_,lastLoginAt:y});return k&&Array.isArray(k)&&(E.providerData=k.map(I=>Object.assign({},I))),x&&(E._redirectEventId=x),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new gc;s.updateFromServerResponse(n);const o=new $o({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await sh(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=new Map;function Ur(t){es(t instanceof Function,"Expected a class definition");let e=M2.get(t);return e?(es(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,M2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c9{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}c9.type="NONE";const $2=c9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ji{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=yd(this.userKey,s.apiKey,o),this.fullPersistenceKey=yd("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$o._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ji(Ur($2),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||Ur($2);const i=yd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(i);if(d){const h=$o._fromJSON(e,d);u!==o&&(a=h),o=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ji(o,e,r):(o=l[0],a&&await o._set(i,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new Ji(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(h9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(p9(e))return"Blackberry";if(m9(e))return"Webos";if(ry(e))return"Safari";if((e.includes("chrome/")||d9(e))&&!e.includes("edge/"))return"Chrome";if(f9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function u9(t=Zt()){return/firefox\//i.test(t)}function ry(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function d9(t=Zt()){return/crios\//i.test(t)}function h9(t=Zt()){return/iemobile/i.test(t)}function f9(t=Zt()){return/android/i.test(t)}function p9(t=Zt()){return/blackberry/i.test(t)}function m9(t=Zt()){return/webos/i.test(t)}function yf(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pj(t=Zt()){var e;return yf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lj(){return XI()&&document.documentMode===10}function g9(t=Zt()){return yf(t)||f9(t)||m9(t)||p9(t)||/windows phone/i.test(t)||h9(t)}function Rj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t,e=[]){let n;switch(t){case"Browser":n=F2(Zt());break;case"Worker":n=`${F2(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${li}/${r}`}async function _9(t,e){return io(t,"GET","/v2/recaptchaConfig",oo(t,e))}function B2(t){return t!==void 0&&t.enterprise!==void 0}class v9{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function w9(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=br("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",Oj().appendChild(r)})}function Dj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Mj="https://www.google.com/recaptcha/enterprise.js?render=",$j="recaptcha-enterprise",Fj="NO_RECAPTCHA";class x9{constructor(e){this.type=$j,this.auth=ci(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,a)=>{_9(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new v9(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,i(u.siteKey)}}).catch(l=>{a(l)})})}function s(o,i,a){const l=window.grecaptcha;B2(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{i(u)}).catch(()=>{i(Fj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,i)=>{r(this.auth).then(a=>{if(!n&&B2(window.grecaptcha))s(a,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}w9(Mj+a).then(()=>{s(a,o,i)}).catch(l=>{i(l)})}}).catch(a=>{i(a)})})}}async function ma(t,e,n,r=!1){const s=new x9(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const i=Object.assign({},e);return r?Object.assign(i,{captchaResp:o}):Object.assign(i,{captchaResponse:o}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,a)=>{try{const l=e(o);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U2(this),this.idTokenSubscription=new U2(this),this.beforeStateQueue=new Bj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ji.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_j()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ne(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}async initializeRecaptchaConfig(){const e=await _9(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new v9(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new x9(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ji.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),i=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(i,this,"internal-error"),i.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ci(t){return Ne(t)}class U2{constructor(e){this.auth=e,this.observer=null,this.addObserver=oN(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e){const n=gf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(th(o,e??{}))return s;nr(s,"already-initialized")}return n.initialize({options:e})}function zj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Hj(t,e,n){const r=ci(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=C9(e),{host:i,port:a}=qj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),Wj()}function C9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qj(t){const e=C9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:V2(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:V2(i)}}}function V2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,n){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(t,e){return io(t,"POST","/v1/accounts:resetPassword",oo(t,e))}async function Kj(t,e){return io(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(t,e){return qc(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}async function Zj(t,e){return io(t,"POST","/v1/accounts:sendOobCode",oo(t,e))}async function im(t,e){return Zj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(t,e){return qc(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function Qj(t,e){return qc(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends sy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await ma(e,r,"signInWithPassword");return om(e,s)}else return om(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await ma(e,r,"signInWithPassword");return om(e,o)}else return Promise.reject(s)});case"emailLink":return Yj(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Kj(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Qj(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t,e){return qc(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="http://localhost";class Zo extends sy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=J0(n,["providerId","signInMethod"]);if(!r||!s)return null;const i=new Zo(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return ea(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ea(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ea(e,n)}buildRequest(){const e={requestUri:Xj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eA(t){const e=vl(wl(t)).link,n=e?vl(wl(e)).deep_link_id:null,r=vl(wl(t)).deep_link_id;return(r?vl(wl(r)).link:null)||r||n||e||t}class oy{constructor(e){var n,r,s,o,i,a;const l=vl(wl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Jj((s=l.mode)!==null&&s!==void 0?s:null);oe(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=l.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=eA(e);try{return new oy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.providerId=$a.PROVIDER_ID}static credential(e,n){return yc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=oy.parseLink(n);return oe(r,"argument-error"),yc._fromEmailAndCode(e,r.code,r.tenantId)}}$a.PROVIDER_ID="password";$a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends b9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Wc{constructor(){super("facebook.com")}static credential(e){return Zo._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zo._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.GOOGLE_SIGN_IN_METHOD="google.com";Ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Wc{constructor(){super("github.com")}static credential(e){return Zo._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.GITHUB_SIGN_IN_METHOD="github.com";Is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Wc{constructor(){super("twitter.com")}static credential(e,n){return Zo._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(t,e){return qc(t,"POST","/v1/accounts:signUp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await $o._fromIdTokenResponse(e,r,s),i=z2(r);return new Yo({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=z2(r);return new Yo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function z2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends Pr{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new oh(e,n,r,s)}}function k9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(t,o,e,r):o})}async function tA(t,e,n=!1){const r=await mc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nA(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const o=await mc(t,k9(r,s,e,t),n);oe(o.idToken,r,"internal-error");const i=ny(o.idToken);oe(i,r,"internal-error");const{sub:a}=i;return oe(t.uid===a,r,"user-mismatch"),Yo._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e,n=!1){const r="signIn",s=await k9(t,r,e),o=await Yo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function rA(t,e){return S9(ci(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e,n){var r;const s=ci(t),o={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const i=await ma(s,o,"getOobCode",!0);await im(s,i)}else await im(s,o).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ma(s,o,"getOobCode",!0);await im(s,a)}else return Promise.reject(i)})}async function sA(t,e,n){await Gj(Ne(t),{oobCode:e,newPassword:n})}async function oA(t,e,n){var r;const s=ci(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let i;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ma(s,o,"signUpPassword");i=am(s,u)}else i=am(s,o).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await ma(s,o,"signUpPassword");return am(s,d)}else return Promise.reject(u)});const a=await i.catch(u=>Promise.reject(u)),l=await Yo._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function iA(t,e,n){return rA(Ne(t),$a.credential(e,n))}function aA(t,e,n,r){return Ne(t).onIdTokenChanged(e,n,r)}function lA(t,e,n){return Ne(t).beforeAuthStateChanged(e,n)}function cA(t,e,n,r){return Ne(t).onAuthStateChanged(e,n,r)}function uA(t){return Ne(t).signOut()}const ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(){const t=Zt();return ry(t)||yf(t)}const hA=1e3,fA=10;class I9 extends T9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=dA()&&Rj(),this.fallbackToPolling=g9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(r);if(e.newValue!==i)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);Lj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fA):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}I9.type="LOCAL";const pA=I9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9 extends T9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}N9.type="SESSION";const j9=N9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new _f(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(i).map(async u=>u(n.origin,o)),l=await mA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((a,l)=>{const u=iy("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function yA(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function _A(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wA(){return A9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9="firebaseLocalStorageDb",xA=1,ah="firebaseLocalStorage",L9="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(t,e){return t.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function CA(){const t=indexedDB.deleteDatabase(P9);return new Gc(t).toPromise()}function J1(){const t=indexedDB.open(P9,xA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ah,{keyPath:L9})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ah)?e(r):(r.close(),await CA(),e(await J1()))})})}async function H2(t,e,n){const r=vf(t,!0).put({[L9]:e,value:n});return new Gc(r).toPromise()}async function bA(t,e){const n=vf(t,!1).get(e),r=await new Gc(n).toPromise();return r===void 0?null:r.value}function q2(t,e){const n=vf(t,!0).delete(e);return new Gc(n).toPromise()}const kA=800,SA=3;class R9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await J1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(wA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _A(),!this.activeServiceWorker)return;this.sender=new gA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await J1();return await H2(e,ih,"1"),await q2(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>H2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>q2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=vf(s,!1).getAll();return new Gc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}R9.type="LOCAL";const EA=R9;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t,e){return e?Ur(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay extends sy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ea(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IA(t){return S9(t.auth,new ay(t),t.bypassAuthState)}function NA(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),nA(n,new ay(t),t.bypassAuthState)}async function jA(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),tA(n,new ay(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IA;case"linkViaPopup":case"linkViaRedirect":return jA;case"reauthViaPopup":case"reauthViaRedirect":return NA;default:nr(this.auth,"internal-error")}}resolve(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=new Hc(2e3,1e4);class Ui extends O9{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ui.currentPopupAction&&Ui.currentPopupAction.cancel(),Ui.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){es(this.filter.length===1,"Popup operations only handle one event");const e=iy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ui.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AA.get())};e()}}Ui.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA="pendingRedirect",_d=new Map;class LA extends O9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const r=await RA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RA(t,e){const n=MA(e),r=DA(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function OA(t,e){_d.set(t._key(),e)}function DA(t){return Ur(t._redirectPersistence)}function MA(t){return yd(PA,t.config.apiKey,t.name)}async function $A(t,e,n=!1){const r=ci(t),s=TA(r,e),i=await new LA(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=10*60*1e3;class BA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!D9(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(br(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FA&&this.cachedEventUids.clear(),this.cachedEventUids.has(W2(e))}saveEventToCache(e){this.cachedEventUids.add(W2(e)),this.lastProcessedEventTime=Date.now()}}function W2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t,e={}){return io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HA=/^https?/;async function qA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VA(t);for(const n of e)try{if(WA(n))return}catch{}nr(t,"unauthorized-domain")}function WA(t){const e=X1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!HA.test(n))return!1;if(zA.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new Hc(3e4,6e4);function G2(){const t=kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KA(t){return new Promise((e,n)=>{var r,s,o;function i(){G2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G2(),n(br(t,"network-request-failed"))},timeout:GA.get()})}if(!((s=(r=kr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=kr().gapi)===null||o===void 0)&&o.load)i();else{const a=Dj("iframefcb");return kr()[a]=()=>{gapi.load?i():n(br(t,"network-request-failed"))},w9(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw vd=null,e})}let vd=null;function ZA(t){return vd=vd||KA(t),vd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new Hc(5e3,15e3),QA="__/auth/iframe",XA="emulator/auth/iframe",JA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tP(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ty(e,XA):`https://${t.config.authDomain}/${QA}`,r={apiKey:e.apiKey,appName:t.name,v:li},s=eP.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${zc(r).slice(1)}`}async function nP(t){const e=await ZA(t),n=kr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:tP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JA,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=br(t,"network-request-failed"),a=kr().setTimeout(()=>{o(i)},YA.get());function l(){kr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sP=500,oP=600,iP="_blank",aP="http://localhost";class K2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lP(t,e,n,r=sP,s=oP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rP),{width:r.toString(),height:s.toString(),top:o,left:i}),u=Zt().toLowerCase();n&&(a=d9(u)?iP:n),u9(u)&&(e=e||aP,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(Pj(u)&&a!=="_self")return cP(e||"",a),new K2(null);const h=window.open(e||"",a,d);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new K2(h)}function cP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="__/auth/handler",dP="emulator/auth/handler",hP=encodeURIComponent("fac");async function Z2(t,e,n,r,s,o){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:li,eventId:s};if(e instanceof b9){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",sN(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof Wc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${hP}=${encodeURIComponent(l)}`:"";return`${fP(t)}?${zc(a).slice(1)}${u}`}function fP({config:t}){return t.emulator?ty(t,dP):`https://${t.authDomain}/${uP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class pP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j9,this._completeRedirectFn=$A,this._overrideRedirectResult=OA}async _openPopup(e,n,r,s){var o;es((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await Z2(e,n,r,X1(),s);return lP(e,i,iy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await Z2(e,n,r,X1(),s);return yA(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(es(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nP(e),r=new BA(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},s=>{var o;const i=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[lm];i!==void 0&&n(!!i),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g9()||ry()||yf()}}const mP=pP;var Y2="@firebase/auth",Q2="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function _P(t){Ko(new Ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;oe(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y9(t)},u=new Uj(r,s,o,l);return zj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ko(new Ys("auth-internal",e=>{const n=ci(e.getProvider("auth").getImmediate());return(r=>new gP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(Y2,Q2,yP(t)),Cr(Y2,Q2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=5*60,wP=Y4("authIdTokenMaxAge")||vP;let X2=null;const xP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wP)return;const s=n==null?void 0:n.token;X2!==s&&(X2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function CP(t=X0()){const e=gf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Vj(t,{popupRedirectResolver:mP,persistence:[EA,pA,j9]}),r=Y4("authTokenSyncURL");if(r){const o=xP(r);lA(n,o,()=>o(n.currentUser)),aA(n,i=>o(i))}const s=G4("auth");return s&&Hj(n,`http://${s}`),n}_P("Browser");var bP="firebase",kP="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(bP,kP,"app");var SP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,ly=ly||{},ae=SP||self;function wf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function xf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function EP(t,e,n){return t.call.apply(t.bind,arguments)}function TP(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function zt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?zt=EP:zt=TP,zt.apply(null,arguments)}function Du(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ct(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,o){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[s].apply(r,i)}}function ao(){this.s=this.s,this.o=this.o}var IP=0;ao.prototype.s=!1;ao.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IP!=0)};ao.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const M9=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function J2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wf(r)){const s=t.length||0,o=r.length||0;t.length=s+o;for(let i=0;i<o;i++)t[s+i]=r[i]}else t.push(r)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var NP=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return t}();function _c(t){return/^[\s\xa0]*$/.test(t)}function Cf(){var t=ae.navigator;return t&&(t=t.userAgent)?t:""}function mr(t){return Cf().indexOf(t)!=-1}function uy(t){return uy[" "](t),t}uy[" "]=function(){};function jP(t,e){var n=bL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var AP=mr("Opera"),ga=mr("Trident")||mr("MSIE"),$9=mr("Edge"),eg=$9||ga,F9=mr("Gecko")&&!(Cf().toLowerCase().indexOf("webkit")!=-1&&!mr("Edge"))&&!(mr("Trident")||mr("MSIE"))&&!mr("Edge"),PP=Cf().toLowerCase().indexOf("webkit")!=-1&&!mr("Edge");function B9(){var t=ae.document;return t?t.documentMode:void 0}var tg;e:{var cm="",um=function(){var t=Cf();if(F9)return/rv:([^\);]+)(\)|;)/.exec(t);if($9)return/Edge\/([\d\.]+)/.exec(t);if(ga)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(PP)return/WebKit\/(\S+)/.exec(t);if(AP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(um&&(cm=um?um[1]:""),ga){var dm=B9();if(dm!=null&&dm>parseFloat(cm)){tg=String(dm);break e}}tg=cm}var ng;if(ae.document&&ga){var ew=B9();ng=ew||parseInt(tg,10)||void 0}else ng=void 0;var LP=ng;function vc(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(F9){e:{try{uy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:RP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vc.$.h.call(this)}}Ct(vc,Ht);var RP={2:"touch",3:"pen",4:"mouse"};vc.prototype.h=function(){vc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var bf="closure_listenable_"+(1e6*Math.random()|0),OP=0;function DP(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++OP,this.fa=this.ia=!1}function kf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function dy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function MP(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function U9(t){const e={};for(const n in t)e[n]=t[n];return e}const tw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V9(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let o=0;o<tw.length;o++)n=tw[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sf(t){this.src=t,this.g={},this.h=0}Sf.prototype.add=function(t,e,n,r,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var i=sg(t,e,r,s);return-1<i?(e=t[i],n||(e.ia=!1)):(e=new DP(e,this.src,o,!!r,s),e.ia=n,t.push(e)),e};function rg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=M9(r,e),o;(o=0<=s)&&Array.prototype.splice.call(r,s,1),o&&(kf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sg(t,e,n,r){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return s}return-1}var hy="closure_lm_"+(1e6*Math.random()|0),hm={};function z9(t,e,n,r,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)z9(t,e[o],n,r,s);return null}return n=W9(n),t&&t[bf]?t.O(e,n,xf(r)?!!r.capture:!1,s):$P(t,e,n,!1,r,s)}function $P(t,e,n,r,s,o){if(!e)throw Error("Invalid event type");var i=xf(s)?!!s.capture:!!s,a=py(t);if(a||(t[hy]=a=new Sf(t)),n=a.add(e,n,r,i,o),n.proxy)return n;if(r=FP(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)NP||(s=i),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(q9(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function FP(){function t(n){return e.call(t.src,t.listener,n)}const e=BP;return t}function H9(t,e,n,r,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)H9(t,e[o],n,r,s);else r=xf(r)?!!r.capture:!!r,n=W9(n),t&&t[bf]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=sg(o,n,r,s),-1<n&&(kf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=py(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sg(e,n,r,s)),(n=-1<t?e[t]:null)&&fy(n))}function fy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[bf])rg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(q9(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=py(e))?(rg(n,t),n.h==0&&(n.src=null,e[hy]=null)):kf(t)}}}function q9(t){return t in hm?hm[t]:hm[t]="on"+t}function BP(t,e){if(t.fa)t=!0;else{e=new vc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&fy(t),t=n.call(r,e)}return t}function py(t){return t=t[hy],t instanceof Sf?t:null}var fm="__closure_events_fn_"+(1e9*Math.random()>>>0);function W9(t){return typeof t=="function"?t:(t[fm]||(t[fm]=function(e){return t.handleEvent(e)}),t[fm])}function xt(){ao.call(this),this.i=new Sf(this),this.S=this,this.J=null}Ct(xt,ao);xt.prototype[bf]=!0;xt.prototype.removeEventListener=function(t,e,n,r){H9(this,t,e,n,r)};function Nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var s=e;e=new Ht(r,t),V9(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var i=e.g=n[o];s=Mu(i,r,!0,e)&&s}if(i=e.g=t,s=Mu(i,r,!0,e)&&s,s=Mu(i,r,!1,e)&&s,n)for(o=0;o<n.length;o++)i=e.g=n[o],s=Mu(i,r,!1,e)&&s}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kf(n[r]);delete t.g[e],t.h--}}this.J=null};xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Mu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var i=e[o];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&rg(t.i,i),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var my=ae.JSON.stringify;class UP{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function VP(){var t=gy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class zP{constructor(){this.h=this.g=null}add(e,n){const r=G9.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var G9=new UP(()=>new HP,t=>t.reset());class HP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function qP(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function WP(t){ae.setTimeout(()=>{throw t},0)}let wc,xc=!1,gy=new zP,K9=()=>{const t=ae.Promise.resolve(void 0);wc=()=>{t.then(GP)}};var GP=()=>{for(var t;t=VP();){try{t.h.call(t.g)}catch(n){WP(n)}var e=G9;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xc=!1};function Ef(t,e){xt.call(this),this.h=t||1,this.g=e||ae,this.j=zt(this.qb,this),this.l=Date.now()}Ct(Ef,xt);H=Ef.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(yy(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function yy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Ef.$.N.call(this),yy(this),delete this.g};function _y(t,e,n){if(typeof t=="function")n&&(t=zt(t,n));else if(t&&typeof t.handleEvent=="function")t=zt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ae.setTimeout(t,e||0)}function Z9(t){t.g=_y(()=>{t.g=null,t.i&&(t.i=!1,Z9(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class KP extends ao{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Z9(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cc(t){ao.call(this),this.h=t,this.g={}}Ct(Cc,ao);var nw=[];function Y9(t,e,n,r){Array.isArray(n)||(n&&(nw[0]=n.toString()),n=nw);for(var s=0;s<n.length;s++){var o=z9(e,n[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Q9(t){dy(t.g,function(e,n){this.g.hasOwnProperty(n)&&fy(e)},t),t.g={}}Cc.prototype.N=function(){Cc.$.N.call(this),Q9(this)};Cc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tf(){this.g=!0}Tf.prototype.Ea=function(){this.g=!1};function ZP(t,e,n,r,s,o){t.info(function(){if(t.g)if(o)for(var i="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");i=2<=h.length&&h[1]=="type"?i+(d+"="+u+"&"):i+(d+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+i})}function YP(t,e,n,r,s,o,i){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+i})}function Vi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+XP(t,n)+(r?" "+r:"")})}function QP(t,e){t.info(function(){return"TIMEOUT: "+e})}Tf.prototype.info=function(){};function XP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var i=1;i<s.length;i++)s[i]=""}}}}return my(n)}catch{return e}}var ui={},rw=null;function If(){return rw=rw||new xt}ui.Ta="serverreachability";function X9(t){Ht.call(this,ui.Ta,t)}Ct(X9,Ht);function bc(t){const e=If();Nt(e,new X9(e))}ui.STAT_EVENT="statevent";function J9(t,e){Ht.call(this,ui.STAT_EVENT,t),this.stat=e}Ct(J9,Ht);function tn(t){const e=If();Nt(e,new J9(e,t))}ui.Ua="timingevent";function eb(t,e){Ht.call(this,ui.Ua,t),this.size=e}Ct(eb,Ht);function Kc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){t()},e)}var Nf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},tb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vy(){}vy.prototype.h=null;function sw(t){return t.h||(t.h=t.i())}function nb(){}var Zc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function wy(){Ht.call(this,"d")}Ct(wy,Ht);function xy(){Ht.call(this,"c")}Ct(xy,Ht);var og;function jf(){}Ct(jf,vy);jf.prototype.g=function(){return new XMLHttpRequest};jf.prototype.i=function(){return{}};og=new jf;function Yc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Cc(this),this.P=JP,t=eg?125:void 0,this.V=new Ef(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rb}function rb(){this.i=null,this.g="",this.h=!1}var JP=45e3,ig={},lh={};H=Yc.prototype;H.setTimeout=function(t){this.P=t};function ag(t,e,n){t.L=1,t.v=Pf(ts(e)),t.s=n,t.S=!0,sb(t,null)}function sb(t,e){t.G=Date.now(),Qc(t),t.A=ts(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),hb(n.i,"t",r),t.C=0,n=t.l.J,t.h=new rb,t.g=Lb(t.l,n?e:null,!t.s),0<t.O&&(t.M=new KP(zt(t.Pa,t,t.g),t.O)),Y9(t.U,t.g,"readystatechange",t.nb),e=t.I?U9(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),bc(),ZP(t.j,t.u,t.A,t.m,t.W,t.s)}H.nb=function(t){t=t.target;const e=this.M;e&&gr(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const d=gr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||eg||this.g&&(this.h.h||this.g.ja()||lw(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?bc(3):bc(2)),Af(this);var n=this.g.da();this.ca=n;t:if(ob(this)){var r=lw(this.g);t="";var s=r.length,o=gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ao(this),$l(this);var i="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,YP(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_c(a)){var u=a;break t}}u=null}if(n=u)Vi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lg(this,n);else{this.i=!1,this.o=3,tn(12),Ao(this),$l(this);break e}}this.S?(ib(this,d,i),eg&&this.i&&d==3&&(Y9(this.U,this.V,"tick",this.mb),this.V.start())):(Vi(this.j,this.m,i,null),lg(this,i)),d==4&&Ao(this),this.i&&!this.J&&(d==4?Nb(this.l,this):(this.i=!1,Qc(this)))}else wL(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),Ao(this),$l(this)}}}catch{}finally{}};function ob(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function ib(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=eL(t,n),s==lh){e==4&&(t.o=4,tn(14),r=!1),Vi(t.j,t.m,null,"[Incomplete Response]");break}else if(s==ig){t.o=4,tn(15),Vi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Vi(t.j,t.m,s,null),lg(t,s);ob(t)&&s!=lh&&s!=ig&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ty(e),e.M=!0,tn(11))):(Vi(t.j,t.m,n,"[Invalid Chunked Response]"),Ao(t),$l(t))}H.mb=function(){if(this.g){var t=gr(this.g),e=this.g.ja();this.C<e.length&&(Af(this),ib(this,t,e),this.i&&t!=4&&Qc(this))}};function eL(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?lh:(n=Number(e.substring(n,r)),isNaN(n)?ig:(r+=1,r+n>e.length?lh:(e=e.slice(r,r+n),t.C=r+n,e)))}H.cancel=function(){this.J=!0,Ao(this)};function Qc(t){t.Y=Date.now()+t.P,ab(t,t.P)}function ab(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Kc(zt(t.lb,t),e)}function Af(t){t.B&&(ae.clearTimeout(t.B),t.B=null)}H.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(QP(this.j,this.A),this.L!=2&&(bc(),tn(17)),Ao(this),this.o=2,$l(this)):ab(this,this.Y-t)};function $l(t){t.l.H==0||t.J||Nb(t.l,t)}function Ao(t){Af(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,yy(t.V),Q9(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function lg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||cg(n.i,t))){if(!t.K&&cg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)dh(n),Of(n);else break e;Ey(n),tn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Kc(zt(n.ib,n),6e3));if(1>=mb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Po(n,11)}else if((t.K||n.g==t)&&dh(n),!_c(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Cy(o,o.h),o.h=null))}if(r.F){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Oe(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=t;if(r.wa=Pb(r,r.J?r.pa:null,r.Y),i.K){gb(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.B&&(Af(a),Qc(a)),r.g=i}else Tb(r);0<n.j.length&&Df(n)}else u[0]!="stop"&&u[0]!="close"||Po(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Po(n,7):Sy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}bc(4)}catch{}}function tL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function nL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function lb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=nL(t),r=tL(t),s=r.length,o=0;o<s;o++)e.call(void 0,r[o],n&&n[o],t)}var cb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var o=t[n].substring(0,r);s=t[n].substring(r+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Fo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fo){this.h=t.h,ch(this,t.j),this.s=t.s,this.g=t.g,uh(this,t.m),this.l=t.l;var e=t.i,n=new kc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ow(this,n),this.o=t.o}else t&&(e=String(t).match(cb))?(this.h=!1,ch(this,e[1]||"",!0),this.s=xl(e[2]||""),this.g=xl(e[3]||"",!0),uh(this,e[4]),this.l=xl(e[5]||"",!0),ow(this,e[6]||"",!0),this.o=xl(e[7]||"")):(this.h=!1,this.i=new kc(null,this.h))}Fo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cl(e,iw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Cl(e,iw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Cl(n,n.charAt(0)=="/"?iL:oL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cl(n,lL)),t.join("")};function ts(t){return new Fo(t)}function ch(t,e,n){t.j=n?xl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function uh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ow(t,e,n){e instanceof kc?(t.i=e,cL(t.i,t.h)):(n||(e=Cl(e,aL)),t.i=new kc(e,t.h))}function Oe(t,e,n){t.i.set(e,n)}function Pf(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var iw=/[#\/\?@]/g,oL=/[#\?:]/g,iL=/[#\?]/g,aL=/[#\?@]/g,lL=/#/g;function kc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function lo(t){t.g||(t.g=new Map,t.h=0,t.i&&rL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=kc.prototype;H.add=function(t,e){lo(this),this.i=null,t=Fa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ub(t,e){lo(t),e=Fa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function db(t,e){return lo(t),e=Fa(t,e),t.g.has(e)}H.forEach=function(t,e){lo(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};H.ta=function(){lo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let o=0;o<s.length;o++)n.push(e[r])}return n};H.Z=function(t){lo(this);let e=[];if(typeof t=="string")db(this,t)&&(e=e.concat(this.g.get(Fa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return lo(this),this.i=null,t=Fa(this,t),db(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function hb(t,e,n){ub(t,e),0<n.length&&(t.i=null,t.g.set(Fa(t,e),cy(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var s=o;i[r]!==""&&(s+="="+encodeURIComponent(String(i[r]))),t.push(s)}}return this.i=t.join("&")};function Fa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function cL(t,e){e&&!t.j&&(lo(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(ub(this,r),hb(this,s,n))},t)),t.j=e}var uL=class{constructor(t,e){this.g=t,this.map=e}};function fb(t){this.l=t||dL,ae.PerformanceNavigationTiming?(t=ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dL=10;function pb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function mb(t){return t.h?1:t.g?t.g.size:0}function cg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Cy(t,e){t.g?t.g.add(e):t.h=e}function gb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}fb.prototype.cancel=function(){if(this.i=yb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function yb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return cy(t.i)}var hL=class{stringify(t){return ae.JSON.stringify(t,void 0)}parse(t){return ae.JSON.parse(t,void 0)}};function fL(){this.g=new hL}function pL(t,e,n){const r=n||"";try{lb(t,function(s,o){let i=s;xf(s)&&(i=my(s)),e.push(r+o+"="+encodeURIComponent(i))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function mL(t,e){const n=new Tf;if(ae.Image){const r=new Image;r.onload=Du($u,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Du($u,n,r,"TestLoadImage: error",!1,e),r.onabort=Du($u,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Du($u,n,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function $u(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Xc(t){this.l=t.fc||null,this.j=t.ob||!1}Ct(Xc,vy);Xc.prototype.g=function(){return new Lf(this.l,this.j)};Xc.prototype.i=function(t){return function(){return t}}({});function Lf(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=by,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ct(Lf,xt);var by=0;H=Lf.prototype;H.open=function(t,e){if(this.readyState!=by)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Sc(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jc(this)),this.readyState=by};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Sc(this)),this.g&&(this.readyState=3,Sc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_b(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function _b(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Jc(this):Sc(this),this.readyState==3&&_b(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,Jc(this))};H.Ya=function(t){this.g&&(this.response=t,Jc(this))};H.ka=function(){this.g&&Jc(this)};function Jc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Sc(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Sc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Lf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var gL=ae.JSON.parse;function tt(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=vb,this.L=this.M=!1}Ct(tt,xt);var vb="",yL=/^https?$/i,_L=["POST","PUT"];H=tt.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():og.g(),this.C=this.u?sw(this.u):sw(og),this.g.onreadystatechange=zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){aw(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=ae.FormData&&t instanceof ae.FormData,!(0<=M9(_L,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,i]of n)this.g.setRequestHeader(o,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Cb(this),0<this.B&&((this.L=vL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zt(this.ua,this)):this.A=_y(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){aw(this,o)}};function vL(t){return ga&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof ly<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function aw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,wb(t),Rf(t)}function wb(t){t.F||(t.F=!0,Nt(t,"complete"),Nt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),Rf(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rf(this,!0)),tt.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?xb(this):this.kb())};H.kb=function(){xb(this)};function xb(t){if(t.h&&typeof ly<"u"&&(!t.C[1]||gr(t)!=4||t.da()!=2)){if(t.v&&gr(t)==4)_y(t.La,0,t);else if(Nt(t,"readystatechange"),gr(t)==4){t.h=!1;try{const i=t.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=i===0){var s=String(t.I).match(cb)[1]||null;!s&&ae.self&&ae.self.location&&(s=ae.self.location.protocol.slice(0,-1)),r=!yL.test(s?s.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var o=2<gr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",wb(t)}}finally{Rf(t)}}}}function Rf(t,e){if(t.g){Cb(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function Cb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ae.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function gr(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<gr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),gL(e)}};function lw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case vb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function wL(t){const e={};t=(t.g&&2<=gr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(_c(t[r]))continue;var n=qP(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}MP(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function bb(t){let e="";return dy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ky(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Oe(t,e,n))}function sl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kb(t){this.Ga=0,this.j=[],this.l=new Tf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=sl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=sl("baseRetryDelayMs",5e3,t),this.hb=sl("retryDelaySeedMs",1e4,t),this.eb=sl("forwardChannelMaxRetries",2,t),this.xa=sl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new fb(t&&t.concurrentRequestLimit),this.Ja=new fL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=kb.prototype;H.ra=8;H.H=1;function Sy(t){if(Sb(t),t.H==3){var e=t.W++,n=ts(t.I);if(Oe(n,"SID",t.K),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),eu(t,n),e=new Yc(t,t.l,e),e.L=2,e.v=Pf(ts(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon)try{n=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ae.Image&&(new Image().src=e.v,n=!0),n||(e.g=Lb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Qc(e)}Ab(t)}function Of(t){t.g&&(Ty(t),t.g.cancel(),t.g=null)}function Sb(t){Of(t),t.u&&(ae.clearTimeout(t.u),t.u=null),dh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ae.clearTimeout(t.m),t.m=null)}function Df(t){if(!pb(t.i)&&!t.m){t.m=!0;var e=t.Na;wc||K9(),xc||(wc(),xc=!0),gy.add(e,t),t.C=0}}function xL(t,e){return mb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Kc(zt(t.Na,t,e),jb(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Yc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=U9(o),V9(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Eb(this,s,e),n=ts(this.I),Oe(n,"RID",t),Oe(n,"CVER",22),this.F&&Oe(n,"X-HTTP-Session-Id",this.F),eu(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(bb(o)))+"&"+e:this.o&&ky(n,this.o,o)),Cy(this.i,s),this.bb&&Oe(n,"TYPE","init"),this.P?(Oe(n,"$req",e),Oe(n,"SID","null"),s.aa=!0,ag(s,n,null)):ag(s,n,e),this.H=2}}else this.H==3&&(t?cw(this,t):this.j.length==0||pb(this.i)||cw(this))};function cw(t,e){var n;e?n=e.m:n=t.W++;const r=ts(t.I);Oe(r,"SID",t.K),Oe(r,"RID",n),Oe(r,"AID",t.V),eu(t,r),t.o&&t.s&&ky(r,t.o,t.s),n=new Yc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Eb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Cy(t.i,n),ag(n,r,e)}function eu(t,e){t.na&&dy(t.na,function(n,r){Oe(e,r,n)}),t.h&&lb({},function(n,r){Oe(e,r,n)})}function Eb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?zt(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const i=["count="+n];o==-1?0<n?(o=s[0].g,i.push("ofs="+o)):o=0:i.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const d=s[l].map;if(u-=o,0>u)o=Math.max(0,s[l].g-100),a=!1;else try{pL(d,i,"req"+u+"_")}catch{r&&r(d)}}if(a){r=i.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Tb(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;wc||K9(),xc||(wc(),xc=!0),gy.add(e,t),t.A=0}}function Ey(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Kc(zt(t.Ma,t),jb(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,Ib(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Kc(zt(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tn(10),Of(this),Ib(this))};function Ty(t){t.B!=null&&(ae.clearTimeout(t.B),t.B=null)}function Ib(t){t.g=new Yc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ts(t.wa);Oe(e,"RID","rpc"),Oe(e,"SID",t.K),Oe(e,"AID",t.V),Oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Oe(e,"TO",t.qa),Oe(e,"TYPE","xmlhttp"),eu(t,e),t.o&&t.s&&ky(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Pf(ts(e)),n.s=null,n.S=!0,sb(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Of(this),Ey(this),tn(19))};function dh(t){t.v!=null&&(ae.clearTimeout(t.v),t.v=null)}function Nb(t,e){var n=null;if(t.g==e){dh(t),Ty(t),t.g=null;var r=2}else if(cg(t.i,e))n=e.F,gb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=If(),Nt(r,new eb(r,n)),Df(t)}else Tb(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&xL(t,e)||r==2&&Ey(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Po(t,5);break;case 4:Po(t,10);break;case 3:Po(t,6);break;default:Po(t,2)}}}function jb(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Po(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=zt(t.pb,t);n||(n=new Fo("//www.google.com/images/cleardot.gif"),ae.location&&ae.location.protocol=="http"||ch(n,"https"),Pf(n)),mL(n.toString(),r)}else tn(2);t.H=0,t.h&&t.h.za(e),Ab(t),Sb(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tn(2)):(this.l.info("Failed to ping google.com"),tn(1))};function Ab(t){if(t.H=0,t.ma=[],t.h){const e=yb(t.i);(e.length!=0||t.j.length!=0)&&(J2(t.ma,e),J2(t.ma,t.j),t.i.i.length=0,cy(t.j),t.j.length=0),t.h.ya()}}function Pb(t,e,n){var r=n instanceof Fo?ts(n):new Fo(n);if(r.g!="")e&&(r.g=e+"."+r.g),uh(r,r.m);else{var s=ae.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Fo(null);r&&ch(o,r),e&&(o.g=e),s&&uh(o,s),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Oe(r,n,e),Oe(r,"VER",t.ra),eu(t,r),r}function Lb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new tt(new Xc({ob:!0})):new tt(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function Rb(){}H=Rb.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function hh(){if(ga&&!(10<=Number(LP)))throw Error("Environmental error: no available transport.")}hh.prototype.g=function(t,e){return new jn(t,e)};function jn(t,e){xt.call(this),this.g=new kb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_c(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_c(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ba(this)}Ct(jn,xt);jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Pb(t,null,t.Y),Df(t)};jn.prototype.close=function(){Sy(this.g)};jn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=my(t),t=n);e.j.push(new uL(e.fb++,t)),e.H==3&&Df(e)};jn.prototype.N=function(){this.g.h=null,delete this.j,Sy(this.g),delete this.g,jn.$.N.call(this)};function Ob(t){wy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ct(Ob,wy);function Db(){xy.call(this),this.status=1}Ct(Db,xy);function Ba(t){this.g=t}Ct(Ba,Rb);Ba.prototype.Ba=function(){Nt(this.g,"a")};Ba.prototype.Aa=function(t){Nt(this.g,new Ob(t))};Ba.prototype.za=function(t){Nt(this.g,new Db)};Ba.prototype.ya=function(){Nt(this.g,"b")};function CL(){this.blockSize=-1}function rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ct(rr,CL);rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function pm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],i=e+(o^n&(s^o))+r[0]+3614090360&4294967295;e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[1]+3905402710&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[2]+606105819&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[3]+3250441966&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[4]+4118548399&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[5]+1200080426&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[6]+2821735955&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[7]+4249261313&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[8]+1770035416&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[9]+2336552879&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[10]+4294925233&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[11]+2304563134&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[12]+1804603682&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[13]+4254626195&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[14]+2792965006&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[15]+1236535329&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(s^o&(n^s))+r[1]+4129170786&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[6]+3225465664&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[11]+643717713&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[0]+3921069994&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[5]+3593408605&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[10]+38016083&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[15]+3634488961&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[4]+3889429448&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[9]+568446438&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[14]+3275163606&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[3]+4107603335&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[8]+1163531501&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[13]+2850285829&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[2]+4243563512&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[7]+1735328473&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[12]+2368359562&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(n^s^o)+r[5]+4294588738&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[8]+2272392833&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[11]+1839030562&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[14]+4259657740&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[1]+2763975236&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[4]+1272893353&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[7]+4139469664&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[10]+3200236656&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[13]+681279174&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[0]+3936430074&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[3]+3572445317&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[6]+76029189&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[9]+3654602809&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[12]+3873151461&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[15]+530742520&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[2]+3299628645&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(s^(n|~o))+r[0]+4096336452&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[7]+1126891415&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[14]+2878612391&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[5]+4237533241&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[12]+1700485571&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[3]+2399980690&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[10]+4293915773&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[1]+2240044497&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[8]+1873313359&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[15]+4264355552&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[6]+2734768916&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[13]+1309151649&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[4]+4149444226&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[11]+3174756917&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[2]+718787259&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(i<<21&4294967295|i>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}rr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)pm(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){pm(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){pm(this,r),s=0;break}}this.h=s,this.i+=e};rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;r&&o==e||(n[s]=o,r=!1)}this.g=n}var bL={};function Iy(t){return-128<=t&&128>t?jP(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function yr(t){if(isNaN(t)||!isFinite(t))return ta;if(0>t)return Et(yr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ug;return new Ee(e,0)}function Mb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(Mb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=yr(Math.pow(e,8)),r=ta,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),i=parseInt(t.substring(s,s+o),e);8>o?(o=yr(Math.pow(e,o)),r=r.R(o).add(yr(i))):(r=r.R(n),r=r.add(yr(i)))}return r}var ug=4294967296,ta=Iy(0),dg=Iy(1),uw=Iy(16777216);H=Ee.prototype;H.ea=function(){if(Fn(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ug+r)*e,e*=ug}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Vr(this))return"0";if(Fn(this))return"-"+Et(this).toString(t);for(var e=yr(Math.pow(t,6)),n=this,r="";;){var s=ph(n,e).g;n=fh(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Vr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Vr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Fn(t){return t.h==-1}H.X=function(t){return t=fh(this,t),Fn(t)?-1:Vr(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(dg)}H.abs=function(){return Fn(this)?Et(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(this.D(s)&65535)+(t.D(s)&65535),i=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=i>>>16,o&=65535,i&=65535,n[s]=i<<16|o}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function fh(t,e){return t.add(Et(e))}H.R=function(t){if(Vr(this)||Vr(t))return ta;if(Fn(this))return Fn(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(Fn(t))return Et(this.R(Et(t)));if(0>this.X(uw)&&0>t.X(uw))return yr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var o=this.D(r)>>>16,i=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=i*l,Fu(n,2*r+2*s),n[2*r+2*s+1]+=o*l,Fu(n,2*r+2*s+1),n[2*r+2*s+1]+=i*a,Fu(n,2*r+2*s+1),n[2*r+2*s+2]+=o*a,Fu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function Fu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ol(t,e){this.g=t,this.h=e}function ph(t,e){if(Vr(e))throw Error("division by zero");if(Vr(t))return new ol(ta,ta);if(Fn(t))return e=ph(Et(t),e),new ol(Et(e.g),Et(e.h));if(Fn(e))return e=ph(t,Et(e)),new ol(Et(e.g),e.h);if(30<t.g.length){if(Fn(t)||Fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=dg,r=e;0>=r.X(t);)n=dw(n),r=dw(r);var s=vi(n,1),o=vi(r,1);for(r=vi(r,2),n=vi(n,2);!Vr(r);){var i=o.add(r);0>=i.X(t)&&(s=s.add(n),o=i),r=vi(r,1),n=vi(n,1)}return e=fh(t,s.R(e)),new ol(s,e)}for(s=ta;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=yr(n),i=o.R(e);Fn(i)||0<i.X(t);)n-=r,o=yr(n),i=o.R(e);Vr(o)&&(o=dg),s=s.add(o),t=fh(t,i)}return new ol(s,t)}H.gb=function(t){return ph(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function dw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function vi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ee(s,t.h)}hh.prototype.createWebChannel=hh.prototype.g;jn.prototype.send=jn.prototype.u;jn.prototype.open=jn.prototype.m;jn.prototype.close=jn.prototype.close;Nf.NO_ERROR=0;Nf.TIMEOUT=8;Nf.HTTP_ERROR=6;tb.COMPLETE="complete";nb.EventType=Zc;Zc.OPEN="a";Zc.CLOSE="b";Zc.ERROR="c";Zc.MESSAGE="d";xt.prototype.listen=xt.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;rr.prototype.digest=rr.prototype.l;rr.prototype.reset=rr.prototype.reset;rr.prototype.update=rr.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=yr;Ee.fromString=Mb;var kL=function(){return new hh},SL=function(){return If()},mm=Nf,EL=tb,TL=ui,hw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},IL=Xc,Bu=nb,NL=tt,jL=rr,na=Ee;const fw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=new Y0("@firebase/firestore");function pw(){return Qo.logLevel}function J(t,...e){if(Qo.logLevel<=Ce.DEBUG){const n=e.map(Ny);Qo.debug(`Firestore (${Ua}): ${t}`,...n)}}function ns(t,...e){if(Qo.logLevel<=Ce.ERROR){const n=e.map(Ny);Qo.error(`Firestore (${Ua}): ${t}`,...n)}}function ya(t,...e){if(Qo.logLevel<=Ce.WARN){const n=e.map(Ny);Qo.warn(`Firestore (${Ua}): ${t}`,...n)}}function Ny(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+t;throw ns(e),new Error(e)}function $e(t,e){t||ie()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class PL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LL{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new qr,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new qr)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new $b(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new $t(e)}}class RL{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class OL{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new RL(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ML{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.T;return this.T=o.token,J("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?s(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.T=n.token,new DL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=$L(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function _a(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new yt(0,0))}static max(){return new de(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ec.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ec?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),i=n.get(s);if(o<i)return-1;if(o>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Ec{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const FL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Ec{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return FL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new K($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new K($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(De.fromString(e))}static fromName(e){return new ee(De.fromString(e).popFirst(5))}static empty(){return new ee(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new De(e.slice()))}}function BL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=de.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Qs(s,ee.empty(),e)}function UL(t){return new Qs(t.readTime,t.key,-1)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(de.min(),ee.empty(),-1)}static max(){return new Qs(de.max(),ee.empty(),-1)}}function VL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==zL)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},l=>r(l))}),i=!0,o===s&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(s=>s?V.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{i[u]=d,++a,a===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new V((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}jy.ct=-1;function Mf(t){return t==null}function mh(t){return t===0&&1/t==-1/0}function qL(t){return typeof t=="number"&&Number.isInteger(t)&&!mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=o??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new St(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(t,e,n,r,s){return this}insert(t,e,n){return new St(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gw(this.data.getIterator())}getIteratorFrom(e){return new gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new qt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ub("Invalid base64 string: "+s):s}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const WL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(t){if($e(!!t),typeof t=="string"){let e=0;const n=WL.exec(t);if($e(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xo(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Py(t){const e=t.mapValue.fields.__previous_value__;return Ay(e)?Py(e):e}function Tc(t){const e=Xs(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,s,o,i,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ic{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu={mapValue:{}};function Jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ay(t)?4:KL(t)?9007199254740991:10:ie()}function Ir(t,e){if(t===e)return!0;const n=Jo(t);if(n!==Jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Xs(r.timestampValue),i=Xs(s.timestampValue);return o.seconds===i.seconds&&o.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Xo(r.bytesValue).isEqual(Xo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return at(r.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return at(r.integerValue)===at(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=at(r.doubleValue),i=at(s.doubleValue);return o===i?mh(o)===mh(i):isNaN(o)&&isNaN(i)}return!1}(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:return function(r,s){const o=r.mapValue.fields||{},i=s.mapValue.fields||{};if(mw(o)!==mw(i))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(i[a]===void 0||!Ir(o[a],i[a])))return!1;return!0}(t,e);default:return ie()}}function Nc(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=Jo(t),r=Jo(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const i=at(s.integerValue||s.doubleValue),a=at(o.integerValue||o.doubleValue);return i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1}(t,e);case 3:return yw(t.timestampValue,e.timestampValue);case 4:return yw(Tc(t),Tc(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const i=Xo(s),a=Xo(o);return i.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const i=s.split("/"),a=o.split("/");for(let l=0;l<i.length&&l<a.length;l++){const u=be(i[l],a[l]);if(u!==0)return u}return be(i.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const i=be(at(s.latitude),at(o.latitude));return i!==0?i:be(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const i=s.values||[],a=o.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=va(i[l],a[l]);if(u)return u}return be(i.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Vu.mapValue&&o===Vu.mapValue)return 0;if(s===Vu.mapValue)return 1;if(o===Vu.mapValue)return-1;const i=s.fields||{},a=Object.keys(i),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const h=be(a[d],u[d]);if(h!==0)return h;const f=va(i[a[d]],l[u[d]]);if(f!==0)return f}return be(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ie()}}function yw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Xs(t),r=Xs(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function wa(t){return hg(t)}function hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Xs(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ee.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",o=!0;for(const i of r.values||[])o?o=!1:s+=",",s+=hg(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",i=!0;for(const a of s)i?i=!1:o+=",",o+=`${a}:${hg(r.fields[a])}`;return o+"}"}(t.mapValue):ie();var e,n}function _w(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fg(t){return!!t&&"integerValue"in t}function Ly(t){return!!t&&"arrayValue"in t}function vw(t){return!!t&&"nullValue"in t}function ww(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wd(t){return!!t&&"mapValue"in t}function Fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Ut.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=Fl(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){di(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new dn(Fl(this.value))}}function Vb(t){const e=[];return di(t.fields,(n,r)=>{const s=new Ut([n]);if(wd(r)){const o=Vb(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,de.min(),de.min(),de.min(),dn.empty(),0)}static newFoundDocument(e,n,r,s){return new Bt(e,1,n,de.min(),r,s,0)}static newNoDocument(e,n){return new Bt(e,2,n,de.min(),de.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,de.min(),de.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function xw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(i.referenceValue),n.key):r=va(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{}class ct extends zb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QL(e,n,r):n==="array-contains"?new eR(e,r):n==="in"?new tR(e,r):n==="not-in"?new nR(e,r):n==="array-contains-any"?new rR(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XL(e,r):new JL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(va(n,this.value)):n!==null&&Jo(this.value)===Jo(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class sr extends zb{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new sr(e,n)}matches(e){return Hb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Hb(t){return t.op==="and"}function qb(t){return YL(t)&&Hb(t)}function YL(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function pg(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+wa(t.value);if(qb(t))return t.filters.map(e=>pg(e)).join(",");{const e=t.filters.map(n=>pg(n)).join(",");return`${t.op}(${e})`}}function Wb(t,e){return t instanceof ct?function(n,r){return r instanceof ct&&n.op===r.op&&n.field.isEqual(r.field)&&Ir(n.value,r.value)}(t,e):t instanceof sr?function(n,r){return r instanceof sr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,o,i)=>s&&Wb(o,r.filters[i]),!0):!1}(t,e):void ie()}function Gb(t){return t instanceof ct?function(e){return`${e.field.canonicalString()} ${e.op} ${wa(e.value)}`}(t):t instanceof sr?function(e){return e.op.toString()+" {"+e.getFilters().map(Gb).join(" ,")+"}"}(t):"Filter"}class QL extends ct{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class XL extends ct{constructor(e,n){super(e,"in",n),this.keys=Kb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JL extends ct{constructor(e,n){super(e,"not-in",n),this.keys=Kb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Kb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class eR extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ly(n)&&Nc(n.arrayValue,this.value)}}class tR extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nc(this.value.arrayValue,n)}}class nR extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nc(this.value.arrayValue,n)}}class rR extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.dt=null}}function bw(t,e=null,n=[],r=[],s=null,o=null,i=null){return new sR(t,e,n,r,s,o,i)}function Ry(t){const e=fe(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wa(r)).join(",")),e.dt=n}return e.dt}function Oy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Wb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cw(t.startAt,e.startAt)&&Cw(t.endAt,e.endAt)}function mg(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function oR(t,e,n,r,s,o,i,a){return new Va(t,e,n,r,s,o,i,a)}function $f(t){return new Va(t)}function kw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dy(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ff(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Zb(t){return t.collectionGroup!==null}function sa(t){const e=fe(t);if(e.wt===null){e.wt=[];const n=Ff(e),r=Dy(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new ra(n)),e.wt.push(new ra(Ut.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ra(Ut.keyField(),o))}}}return e.wt}function rs(t){const e=fe(t);if(!e._t)if(e.limitType==="F")e._t=bw(e.path,e.collectionGroup,sa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of sa(e)){const i=o.dir==="desc"?"asc":"desc";n.push(new ra(o.field,i))}const r=e.endAt?new gh(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new gh(e.startAt.position,e.startAt.inclusive):null;e._t=bw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function gg(t,e){e.getFirstInequalityField(),Ff(t);const n=t.filters.concat([e]);return new Va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yg(t,e,n){return new Va(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bf(t,e){return Oy(rs(t),rs(e))&&t.limitType===e.limitType}function Yb(t){return`${Ry(rs(t))}|lt:${t.limitType}`}function _g(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Gb(r)).join(", ")}]`),Mf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wa(r)).join(",")),`Target(${n})`}(rs(t))}; limitType=${t.limitType})`}function Uf(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ee.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of sa(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,o,i){const a=xw(s,o,i);return s.inclusive?a<=0:a<0}(n.startAt,sa(n),r)||n.endAt&&!function(s,o,i){const a=xw(s,o,i);return s.inclusive?a>=0:a>0}(n.endAt,sa(n),r))}(t,e)}function iR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Qb(t){return(e,n)=>{let r=!1;for(const s of sa(t)){const o=aR(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function aR(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,i){const a=o.data.field(s),l=i.data.field(s);return a!==null&&l!==null?va(a,l):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return Bb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Ye(ee.comparator);function ss(){return lR}const Xb=new Ye(ee.comparator);function bl(...t){let e=Xb;for(const n of t)e=e.insert(n.key,n);return e}function Jb(t){let e=Xb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lo(){return Bl()}function e7(){return Bl()}function Bl(){return new za(t=>t.toString(),(t,e)=>t.isEqual(e))}const cR=new Ye(ee.comparator),uR=new qt(ee.comparator);function ve(...t){let e=uR;for(const n of t)e=e.add(n);return e}const dR=new qt(be);function hR(){return dR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function n7(t){return{integerValue:""+t}}function r7(t,e){return qL(e)?n7(e):t7(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function fR(t,e,n){return t instanceof yh?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ay(s)&&(s=Py(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xa?o7(t,e):t instanceof Ca?i7(t,e):function(r,s){const o=s7(r,s),i=Sw(o)+Sw(r.gt);return fg(o)&&fg(r.gt)?n7(i):t7(r.serializer,i)}(t,e)}function pR(t,e,n){return t instanceof xa?o7(t,e):t instanceof Ca?i7(t,e):n}function s7(t,e){return t instanceof jc?fg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class yh extends Vf{}class xa extends Vf{constructor(e){super(),this.elements=e}}function o7(t,e){const n=a7(e);for(const r of t.elements)n.some(s=>Ir(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ca extends Vf{constructor(e){super(),this.elements=e}}function i7(t,e){let n=a7(e);for(const r of t.elements)n=n.filter(s=>!Ir(s,r));return{arrayValue:{values:n}}}class jc extends Vf{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Sw(t){return at(t.integerValue||t.doubleValue)}function a7(t){return Ly(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.field=e,this.transform=n}}function mR(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof xa&&r instanceof xa||n instanceof Ca&&r instanceof Ca?_a(n.elements,r.elements,Ir):n instanceof jc&&r instanceof jc?Ir(n.gt,r.gt):n instanceof yh&&r instanceof yh}(t.transform,e.transform)}class gR{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zf{}function l7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $y(t.key,Vn.none()):new ru(t.key,t.data,Vn.none());{const n=t.data,r=dn.empty();let s=new qt(Ut.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new co(t.key,r,new Sn(s.toArray()),Vn.none())}}function yR(t,e,n){t instanceof ru?function(r,s,o){const i=r.value.clone(),a=Tw(r.fieldTransforms,s,o.transformResults);i.setAll(a),s.convertToFoundDocument(o.version,i).setHasCommittedMutations()}(t,e,n):t instanceof co?function(r,s,o){if(!xd(r.precondition,s))return void s.convertToUnknownDocument(o.version);const i=Tw(r.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(c7(r)),a.setAll(i),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ul(t,e,n,r){return t instanceof ru?function(s,o,i,a){if(!xd(s.precondition,o))return i;const l=s.value.clone(),u=Iw(s.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof co?function(s,o,i,a){if(!xd(s.precondition,o))return i;const l=Iw(s.fieldTransforms,a,o),u=o.data;return u.setAll(c7(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),i===null?null:i.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,i){return xd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):i}(t,e,n)}function _R(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=s7(r.transform,s||null);o!=null&&(n===null&&(n=dn.empty()),n.set(r.field,o))}return n||null}function Ew(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&_a(n,r,(s,o)=>mR(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ru extends zf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class co extends zf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function c7(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Tw(t,e,n){const r=new Map;$e(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,pR(i,a,n[s]))}return r}function Iw(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,fR(o,i,e))}return r}class $y extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vR extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&yR(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=e7();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const l=l7(i,a);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,r)=>Ew(n,r))&&_a(this.baseMutations,e.baseMutations,(n,r)=>Ew(n,r))}}class Fy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){$e(e.mutations.length===r.length);let s=cR;const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Fy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,we;function bR(t){switch(t){default:return ie();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function u7(t){if(t===void 0)return ns("GRPC error has no .code"),$.UNKNOWN;switch(t){case it.OK:return $.OK;case it.CANCELLED:return $.CANCELLED;case it.UNKNOWN:return $.UNKNOWN;case it.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case it.INTERNAL:return $.INTERNAL;case it.UNAVAILABLE:return $.UNAVAILABLE;case it.UNAUTHENTICATED:return $.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case it.NOT_FOUND:return $.NOT_FOUND;case it.ALREADY_EXISTS:return $.ALREADY_EXISTS;case it.PERMISSION_DENIED:return $.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case it.ABORTED:return $.ABORTED;case it.OUT_OF_RANGE:return $.OUT_OF_RANGE;case it.UNIMPLEMENTED:return $.UNIMPLEMENTED;case it.DATA_LOSS:return $.DATA_LOSS;default:return ie()}}(we=it||(it={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zu}static getOrCreateInstance(){return zu===null&&(zu=new By),zu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let zu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new na([4294967295,4294967295],0);function Nw(t){const e=kR().encode(t),n=new jL;return n.update(e),new Uint8Array(n.digest())}function jw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new na([n,r],0),new na([s,o],0)]}class Uy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kl(`Invalid padding: ${n}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=na.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(na.fromNumber(r)));return s.compare(SR)===1&&(s=new na([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Nw(e),[r,s]=jw(n);for(let o=0;o<this.hashCount;o++){const i=this.Et(r,s,o);if(!this.At(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Uy(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.It===0)return;const n=Nw(e),[r,s]=jw(n);for(let o=0;o<this.hashCount;o++){const i=this.Et(r,s,o);this.Rt(i)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hf(de.min(),s,new Ye(be),ss(),ve())}}class su{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new su(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class d7{constructor(e,n){this.targetId=e,this.Vt=n}}class h7{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Aw{constructor(){this.St=0,this.Dt=Lw(),this.Ct=Yt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ve(),n=ve(),r=ve();return this.Dt.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie()}}),new su(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Lw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ER{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ss(),this.zt=Pw(),this.Wt=new Ye(be)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,o=this.se(r);if(o){const i=o.target;if(mg(i))if(s===0){const a=new ee(i.path);this.Yt(r,a,Bt.newNoDocument(a,de.min()))}else $e(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=By.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,d,h){var f,m,v,w,x,_;const y={localCacheCount:d,existenceFilterCount:h.count},g=h.unchangedNames;return g&&(y.bloomFilter={applied:u===0,hashCount:(f=g==null?void 0:g.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(w=(v=(m=g==null?void 0:g.bits)===null||m===void 0?void 0:m.bitmap)===null||v===void 0?void 0:v.length)!==null&&w!==void 0?w:0,padding:(_=(x=g==null?void 0:g.bits)===null||x===void 0?void 0:x.padding)!==null&&_!==void 0?_:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:i=0},hashCount:a=0}=r;let l,u;try{l=Xo(o).toUint8Array()}catch(d){if(d instanceof Ub)return ya("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{u=new Uy(l,i,a)}catch(d){return ya(d instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return u.It===0?1:s!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(o=>{const i=this.Gt.ue(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((o,i)=>{const a=this.se(i);if(a){if(o.current&&mg(a.target)){const l=new ee(a.target.path);this.jt.get(l)!==null||this.ae(i,l)||this.Yt(i,l,Bt.newNoDocument(l,e))}o.Mt&&(n.set(i,o.Ot()),o.Ft())}});let r=ve();this.zt.forEach((o,i)=>{let a=!0;i.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,i)=>i.setReadTime(e));const s=new Hf(e,n,this.Wt,this.jt,r);return this.jt=ss(),this.zt=Pw(),this.Wt=new Ye(be),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Aw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new qt(be),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Aw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Pw(){return new Ye(ee.comparator)}function Lw(){return new Ye(ee.comparator)}const TR={asc:"ASCENDING",desc:"DESCENDING"},IR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NR={and:"AND",or:"OR"};class jR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vg(t,e){return t.useProto3Json||Mf(e)?e:{value:e}}function _h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AR(t,e){return _h(t,e.toTimestamp())}function Sr(t){return $e(!!t),de.fromTimestamp(function(e){const n=Xs(e);return new yt(n.seconds,n.nanos)}(t))}function Vy(t,e){return function(n){return new De(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function p7(t){const e=De.fromString(t);return $e(_7(e)),e}function wg(t,e){return Vy(t.databaseId,e.path)}function gm(t,e){const n=p7(e);if(n.get(1)!==t.databaseId.projectId)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(m7(n))}function xg(t,e){return Vy(t.databaseId,e)}function PR(t){const e=p7(t);return e.length===4?De.emptyPath():m7(e)}function Cg(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function m7(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rw(t,e,n){return{name:wg(t,e),fields:n.value.mapValue.fields}}function LR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?($e(u===void 0||typeof u=="string"),Yt.fromBase64String(u||"")):($e(u===void 0||u instanceof Uint8Array),Yt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(l){const u=l.code===void 0?$.UNKNOWN:u7(l.code);return new K(u,l.message||"")}(i);n=new h7(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gm(t,r.document.name),o=Sr(r.document.updateTime),i=r.document.createTime?Sr(r.document.createTime):de.min(),a=new dn({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(s,o,i,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Cd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gm(t,r.document),o=r.readTime?Sr(r.readTime):de.min(),i=Bt.newNoDocument(s,o),a=r.removedTargetIds||[];n=new Cd([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gm(t,r.document),o=r.removedTargetIds||[];n=new Cd([],o,s,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new CR(s,o),a=r.targetId;n=new d7(a,i)}}return n}function RR(t,e){let n;if(e instanceof ru)n={update:Rw(t,e.key,e.value)};else if(e instanceof $y)n={delete:wg(t,e.key)};else if(e instanceof co)n={update:Rw(t,e.key,e.data),updateMask:zR(e.fieldMask)};else{if(!(e instanceof vR))return ie();n={verify:wg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const i=o.transform;if(i instanceof yh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof xa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof Ca)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof jc)return{fieldPath:o.field.canonicalString(),increment:i.gt};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:AR(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function OR(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Sr(r.updateTime):Sr(s);return o.isEqual(de.min())&&(o=Sr(s)),new gR(o,r.transformResults||[])}(n,e))):[]}function DR(t,e){return{documents:[xg(t,e.path)]}}function MR(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=xg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=xg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return y7(sr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Ti(d.field),direction:BR(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const i=vg(t,e.limit);var a;return i!==null&&(n.structuredQuery.limit=i),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function $R(t){let e=PR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){$e(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(d){const h=g7(d);return h instanceof sr&&qb(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=n.orderBy.map(d=>function(h){return new ra(Ii(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Mf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new gh(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new gh(f,h)}(n.endAt)),oR(e,s,i,o,a,"F",l,u)}function FR(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function g7(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ii(e.unaryFilter.field);return ct.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ii(e.unaryFilter.field);return ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ii(e.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ii(e.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(e){return ct.create(Ii(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return sr.create(e.compositeFilter.filters.map(n=>g7(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ie()}}(e.compositeFilter.op))}(t):ie()}function BR(t){return TR[t]}function UR(t){return IR[t]}function VR(t){return NR[t]}function Ti(t){return{fieldPath:t.canonicalString()}}function Ii(t){return Ut.fromServerFormat(t.fieldPath)}function y7(t){return t instanceof ct?function(e){if(e.op==="=="){if(ww(e.value))return{unaryFilter:{field:Ti(e.field),op:"IS_NAN"}};if(vw(e.value))return{unaryFilter:{field:Ti(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ww(e.value))return{unaryFilter:{field:Ti(e.field),op:"IS_NOT_NAN"}};if(vw(e.value))return{unaryFilter:{field:Ti(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ti(e.field),op:UR(e.op),value:e.value}}}(t):t instanceof sr?function(e){const n=e.getFilters().map(r=>y7(r));return n.length===1?n[0]:{compositeFilter:{op:VR(e.op),filters:n}}}(t):ie()}function zR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,r,s,o=de.min(),i=de.min(),a=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.fe=e}}function qR(t){const e=$R({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.rn=new GR}addToCollectionParentIndex(e,n){return this.rn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Qs.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class GR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new qt(De.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ba(0)}static Mn(){return new ba(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.changes=new za(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ul(r.mutation,s,Sn.empty(),yt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const s=Lo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=bl();return o.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=ss();const i=Bl(),a=Bl();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof co)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),Ul(d.mutation,u,d.mutation.getFieldMask(),yt.now())):i.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new ZR(d,(h=i.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bl();let s=new Ye((i,a)=>i-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Sn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||ve()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=e7();d.forEach(f=>{if(!o.has(f)){const m=l7(n.get(f),r.get(f));m!==null&&h.set(f,m),o=o.add(f)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):V.resolve(Lo());let a=-1,l=o;return i.next(u=>V.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ve())).next(d=>({batchId:a,changes:Jb(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=bl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let o=bl();return this.indexManager.getCollectionParents(e,s).next(i=>V.forEach(i,a=>{const l=function(u,d){return new Va(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(o=>{s.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Bt.newInvalidDocument(u)))});let i=bl();return o.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Ul(u.mutation,l,Sn.empty(),yt.now()),Uf(n,l)&&(i=i.insert(a,l))}),i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return V.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Sr(r.createTime)}),V.resolve()}getNamedQuery(e,n){return V.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:qR(r.bundledQuery),readTime:Sr(r.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.overlays=new Ye(ee.comparator),this.ls=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Lo();return V.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.we(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const s=Lo(),o=n.length+1,i=new ee(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return V.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Ye((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Lo(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Lo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return V.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new xR(n,r));let o=this.ls.get(n);o===void 0&&(o=ve(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.fs=new qt(_t.ds),this.ws=new qt(_t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new _t(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new _t(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ee(new De([])),r=new _t(n,e),s=new _t(n,e+1),o=[];return this.ws.forEachInRange([r,s],i=>{this.ys(i),o.push(i.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ee(new De([])),r=new _t(n,e),s=new _t(n,e+1);let o=ve();return this.ws.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new _t(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ee.comparator(e.key,n.key)||be(e.As,n.As)}static _s(e,n){return be(e.As,n.As)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new qt(_t.ds)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new wR(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.Rs=this.Rs.add(new _t(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(i)}lookupMutationBatch(e,n){return V.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),o=s<0?0:s;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,s],i=>{const a=this.Ps(i.As);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(be);return n.forEach(s=>{const o=new _t(s,0),i=new _t(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,i],a=>{r=r.add(a.As)})}),V.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const i=new _t(new ee(o),0);let a=new qt(be);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.As)),!0)},i),V.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){$e(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return V.forEach(n.mutations,s=>{const o=new _t(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new _t(n,0),s=this.Rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.Ds=e,this.docs=new Ye(ee.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Bt.newInvalidDocument(s))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=ss();const i=n.path,a=new ee(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||VL(UL(d),r)<=0||(s.has(d.key)||Uf(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,s){ie()}Cs(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tO(this)}getSize(e){return V.resolve(this.size)}}class tO extends KR{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.persistence=e,this.xs=new za(n=>Ry(n),Oy),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Ns=0,this.ks=new zy,this.targetCount=0,this.Ms=ba.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),V.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ba(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Fn(n),V.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.xs.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),V.waitFor(o).next(()=>s)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n){this.$s={},this.overlays={},this.Os=new jy(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new nO(this),this.indexManager=new WR,this.remoteDocumentCache=function(r){return new eO(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new HR(n),this.qs=new QR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new JR(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new sO(this.Os.next());return this.referenceDelegate.Us(),r(s).next(o=>this.referenceDelegate.Ks(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Gs(e,n){return V.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class sO extends HL{constructor(e){super(),this.currentSequenceNumber=e}}class Hy{constructor(e){this.persistence=e,this.Qs=new zy,this.js=null}static zs(e){return new Hy(e)}get Ws(){if(this.js)return this.js;throw ie()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),V.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Ws,r=>{const s=ee.fromPath(r);return this.Hs(e,s).next(o=>{o||n.removeEntry(s,de.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return V.or([()=>V.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=ve(),s=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new qy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(o=>o||this.Gi(e,n,s,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(kw(n))return V.resolve(null);let r=rs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yg(n,null,"F"),r=rs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=ve(...o);return this.Ui.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,i,l.readTime)?this.Ki(e,yg(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,s){return kw(n)||s.isEqual(de.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const i=this.ji(n,o);return this.zi(n,i,r,s)?this.Qi(e,n):(pw()<=Ce.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),_g(n)),this.Wi(e,i,n,BL(s,-1)))})}ji(e,n){let r=new qt(Qb(e));return n.forEach((s,o)=>{Uf(e,o)&&(r=r.add(o))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Qi(e,n){return pw()<=Ce.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",_g(n)),this.Ui.getDocumentsMatchingQuery(e,n,Qs.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new Ye(be),this.Yi=new za(o=>Ry(o),Oy),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function aO(t,e,n,r){return new iO(t,e,n,r)}async function v7(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let l=ve();for(const u of s){i.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:i,addedBatchIds:a}))})})}function lO(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(i,a,l,u){const d=l.batch,h=d.keys();let f=V.resolve();return h.forEach(m=>{f=f.next(()=>u.getEntry(a,m)).next(v=>{const w=l.docVersions.get(m);$e(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),u.addEntry(v)))})}),f.next(()=>i.mutationQueue.removeMutationBatch(a,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(i){let a=ve();for(let l=0;l<i.mutationResults.length;++l)i.mutationResults[l].transformResults.length>0&&(a=a.add(i.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function w7(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function cO(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(o,d.addedDocuments,h)));let m=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Yt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(v,w,x){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,d)&&a.push(n.Bs.updateTargetData(o,m))});let l=ss(),u=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(uO(o,i,e.documentUpdates).next(d=>{l=d.nr,u=d.sr})),!r.isEqual(de.min())){const d=n.Bs.getLastRemoteSnapshotVersion(o).next(h=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=s,o))}function uO(t,e,n){let r=ve(),s=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=ss();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:i,sr:s}})}function dO(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hO(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(o=>o?(s=o,V.resolve(s)):n.Bs.allocateTargetId(r).next(i=>(s=new Rs(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function bg(t,e,n){const r=fe(t),s=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!nu(i))throw i;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function Ow(t,e,n){const r=fe(t);let s=de.min(),o=ve();return r.persistence.runTransaction("Execute query","readonly",i=>function(a,l,u){const d=fe(a),h=d.Yi.get(u);return h!==void 0?V.resolve(d.Ji.get(h)):d.Bs.getTargetData(l,u)}(r,i,rs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(i,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(i,e,n?s:de.min(),n?o:ve())).next(a=>(fO(r,iR(e),a),{documents:a,ir:o})))}function fO(t,e,n){let r=t.Xi.get(e)||de.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class Dw{constructor(){this.activeTargetIds=hR()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pO{constructor(){this.Hr=new Dw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Dw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function ym(){return Hu===null?Hu=268435456+Math.round(2147483648*Math.random()):Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class _O extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,o){const i=ym(),a=this.To(e,n);J("RestConnection",`Sending RPC '${e}' ${i}:`,a,r);const l={};return this.Eo(l,s,o),this.Ao(e,a,l,r).then(u=>(J("RestConnection",`Received RPC '${e}' ${i}: `,u),u),u=>{throw ya("RestConnection",`RPC '${e}' ${i} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,s,o,i){return this.Io(e,n,r,s,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ua,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}To(e,n){const r=gO[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const o=ym();return new Promise((i,a)=>{const l=new NL;l.setWithCredentials(!0),l.listenOnce(EL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case mm.NO_ERROR:const d=l.getResponseJson();J(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),i(d);break;case mm.TIMEOUT:J(Ot,`RPC '${e}' ${o} timed out`),a(new K($.DEADLINE_EXCEEDED,"Request time out"));break;case mm.HTTP_ERROR:const h=l.getStatus();if(J(Ot,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(x)>=0?x:$.UNKNOWN}(m.status);a(new K(v,m.message))}else a(new K($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K($.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{J(Ot,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);J(Ot,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const s=ym(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=kL(),a=SL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new IL({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");J(Ot,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=i.createWebChannel(d,l);let f=!1,m=!1;const v=new yO({ro:x=>{m?J(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(f||(J(Ot,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),J(Ot,`RPC '${e}' stream ${s} sending:`,x),h.send(x))},oo:()=>h.close()}),w=(x,_,y)=>{x.listen(_,g=>{try{y(g)}catch(C){setTimeout(()=>{throw C},0)}})};return w(h,Bu.EventType.OPEN,()=>{m||J(Ot,`RPC '${e}' stream ${s} transport opened.`)}),w(h,Bu.EventType.CLOSE,()=>{m||(m=!0,J(Ot,`RPC '${e}' stream ${s} transport closed`),v.wo())}),w(h,Bu.EventType.ERROR,x=>{m||(m=!0,ya(Ot,`RPC '${e}' stream ${s} transport errored:`,x),v.wo(new K($.UNAVAILABLE,"The operation could not be completed")))}),w(h,Bu.EventType.MESSAGE,x=>{var _;if(!m){const y=x.data[0];$e(!!y);const g=y,C=g.error||((_=g[0])===null||_===void 0?void 0:_.error);if(C){J(Ot,`RPC '${e}' stream ${s} received error:`,C);const b=C.status;let k=function(S){const E=it[S];if(E!==void 0)return u7(E)}(b),T=C.message;k===void 0&&(k=$.INTERNAL,T="Unknown error status: "+b+" with message "+C.message),m=!0,v.wo(new K(k,T)),h.close()}else J(Ot,`RPC '${e}' stream ${s} received:`,y),v._o(y)}}),w(a,TL.STAT_EVENT,x=>{x.stat===hw.PROXY?J(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===hw.NOPROXY&&J(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return new jR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n,r,s,o,i,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new x7(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new K($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vO extends C7{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=LR(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Sr(o.readTime):de.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Cg(this.serializer),n.addTarget=function(s,o){let i;const a=o.target;if(i=mg(a)?{documents:DR(s,a)}:{query:MR(s,a)},i.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){i.resumeToken=f7(s,o.resumeToken);const l=vg(s,o.expectedCount);l!==null&&(i.expectedCount=l)}else if(o.snapshotVersion.compareTo(de.min())>0){i.readTime=_h(s,o.snapshotVersion.toTimestamp());const l=vg(s,o.expectedCount);l!==null&&(i.expectedCount=l)}return i}(this.serializer,e);const r=FR(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Cg(this.serializer),n.removeTarget=e,this.Wo(n)}}class wO extends C7{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if($e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=OR(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.cu(r,n)}return $e(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Cg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RR(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Io(e,n,r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K($.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.vo(e,n,r,o,i,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K($.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class CO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ns(n),this.mu=!1):J("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(i=>{r.enqueueAndForget(async()=>{hi(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=fe(a);l.vu.add(4),await ou(l),l.bu.set("Unknown"),l.vu.delete(4),await Wf(l)}(this))})}),this.bu=new CO(r,s)}}async function Wf(t){if(hi(t))for(const e of t.Ru)await e(!0)}async function ou(t){for(const e of t.Ru)await e(!1)}function b7(t,e){const n=fe(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Ky(n)?Gy(n):Ha(n).Ko()&&Wy(n,e))}function k7(t,e){const n=fe(t),r=Ha(n);n.Au.delete(e),r.Ko()&&S7(n,e),n.Au.size===0&&(r.Ko()?r.jo():hi(n)&&n.bu.set("Unknown"))}function Wy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ha(t).su(e)}function S7(t,e){t.Vu.qt(e),Ha(t).iu(e)}function Gy(t){t.Vu=new ER({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ha(t).start(),t.bu.gu()}function Ky(t){return hi(t)&&!Ha(t).Uo()&&t.Au.size>0}function hi(t){return fe(t).vu.size===0}function E7(t){t.Vu=void 0}async function kO(t){t.Au.forEach((e,n)=>{Wy(t,e)})}async function SO(t,e){E7(t),Ky(t)?(t.bu.Iu(e),Gy(t)):t.bu.set("Unknown")}async function EO(t,e,n){if(t.bu.set("Online"),e instanceof h7&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const i of s.targetIds)r.Au.has(i)&&(await r.remoteSyncer.rejectListen(i,o),r.Au.delete(i),r.Vu.removeTarget(i))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await vh(t,r)}else if(e instanceof Cd?t.Vu.Ht(e):e instanceof d7?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(de.min()))try{const r=await w7(t.localStore);n.compareTo(r)>=0&&await function(s,o){const i=s.Vu.ce(o);return i.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.Au.get(l);u&&s.Au.set(l,u.withResumeToken(a.resumeToken,o))}}),i.targetMismatches.forEach((a,l)=>{const u=s.Au.get(a);if(!u)return;s.Au.set(a,u.withResumeToken(Yt.EMPTY_BYTE_STRING,u.snapshotVersion)),S7(s,a);const d=new Rs(u.target,a,l,u.sequenceNumber);Wy(s,d)}),s.remoteSyncer.applyRemoteEvent(i)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await vh(t,r)}}async function vh(t,e,n){if(!nu(e))throw e;t.vu.add(1),await ou(t),t.bu.set("Offline"),n||(n=()=>w7(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Wf(t)})}function T7(t,e){return e().catch(n=>vh(t,n,e))}async function Gf(t){const e=fe(t),n=Js(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;TO(e);)try{const s=await dO(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,IO(e,s)}catch(s){await vh(e,s)}I7(e)&&N7(e)}function TO(t){return hi(t)&&t.Eu.length<10}function IO(t,e){t.Eu.push(e);const n=Js(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function I7(t){return hi(t)&&!Js(t).Uo()&&t.Eu.length>0}function N7(t){Js(t).start()}async function NO(t){Js(t).hu()}async function jO(t){const e=Js(t);for(const n of t.Eu)e.uu(n.mutations)}async function AO(t,e,n){const r=t.Eu.shift(),s=Fy.from(r,e,n);await T7(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gf(t)}async function PO(t,e){e&&Js(t).ou&&await async function(n,r){if(s=r.code,bR(s)&&s!==$.ABORTED){const o=n.Eu.shift();Js(n).Qo(),await T7(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Gf(n)}var s}(t,e),I7(t)&&N7(t)}async function $w(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=hi(n);n.vu.add(3),await ou(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Wf(n)}async function LO(t,e){const n=fe(t);e?(n.vu.delete(2),await Wf(n)):e||(n.vu.add(2),await ou(n),n.bu.set("Unknown"))}function Ha(t){return t.Su||(t.Su=function(e,n,r){const s=fe(e);return s.fu(),new vO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:kO.bind(null,t),ao:SO.bind(null,t),nu:EO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Ky(t)?Gy(t):t.bu.set("Unknown")):(await t.Su.stop(),E7(t))})),t.Su}function Js(t){return t.Du||(t.Du=function(e,n,r){const s=fe(e);return s.fu(),new wO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:NO.bind(null,t),ao:PO.bind(null,t),au:jO.bind(null,t),cu:AO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Gf(t)):(await t.Du.stop(),t.Eu.length>0&&(J("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new Zy(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(t,e){if(ns("AsyncQueue",`${e}: ${t}`),nu(t))return new K($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new oa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.Cu=new Ye(ee.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ie():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ka{constructor(e,n,r,s,o,i,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new ka(e,n,oa.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.Nu=void 0,this.listeners=[]}}class OO{constructor(){this.queries=new za(e=>Yb(e),Bf),this.onlineState="Unknown",this.ku=new Set}}async function Qy(t,e){const n=fe(t),r=e.query;let s=!1,o=n.queries.get(r);if(o||(s=!0,o=new RO),s)try{o.Nu=await n.onListen(r)}catch(i){const a=Yy(i,`Initialization of query '${_g(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&Jy(n)}async function Xy(t,e){const n=fe(t),r=e.query;let s=!1;const o=n.queries.get(r);if(o){const i=o.listeners.indexOf(e);i>=0&&(o.listeners.splice(i,1),s=o.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function DO(t,e){const n=fe(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.listeners)a.$u(s)&&(r=!0);i.Nu=s}}r&&Jy(n)}function MO(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);r.queries.delete(e)}function Jy(t){t.ku.forEach(e=>{e.next()})}class e_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e){this.key=e}}class A7{constructor(e){this.key=e}}class $O{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ve(),this.mutatedKeys=ve(),this.tc=Qb(e),this.ec=new oa(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Fw,s=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=Uf(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;f&&m?f.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),x=!0):this.rc(f,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.tc(m,l)>0||u&&this.tc(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),x=!0):f&&!m&&(r.track({type:1,doc:f}),x=!0,(l||u)&&(a=!0)),x&&(m?(i=i.add(m),o=w?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ec:i,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,d)=>function(h,f){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return m(h)-m(f)}(u.type,d.type)||this.tc(u.doc,d.doc)),this.oc(r);const i=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new ka(this.query,e.ec,s,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Fw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ve(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new A7(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new j7(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ve();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ka.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class FO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BO{constructor(e){this.key=e,this.fc=!1}}class UO{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new za(a=>Yb(a),Bf),this._c=new Map,this.mc=new Set,this.gc=new Ye(ee.comparator),this.yc=new Map,this.Ic=new zy,this.Tc={},this.Ec=new Map,this.Ac=ba.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function VO(t,e){const n=XO(t);let r,s;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),s=o.view.lc();else{const i=await hO(n.localStore,rs(e)),a=n.sharedClientState.addLocalQueryTarget(i.targetId);r=i.targetId,s=await zO(n,e,r,a==="current",i.resumeToken),n.isPrimaryClient&&b7(n.remoteStore,i)}return s}async function zO(t,e,n,r,s){t.Rc=(h,f,m)=>async function(v,w,x,_){let y=w.view.sc(x);y.zi&&(y=await Ow(v.localStore,w.query,!1).then(({documents:b})=>w.view.sc(b,y)));const g=_&&_.targetChanges.get(w.targetId),C=w.view.applyChanges(y,v.isPrimaryClient,g);return Uw(v,w.targetId,C.cc),C.snapshot}(t,h,f,m);const o=await Ow(t.localStore,e,!0),i=new $O(e,o.ir),a=i.sc(o.documents),l=su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(a,t.isPrimaryClient,l);Uw(t,n,u.cc);const d=new FO(e,n,i);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function HO(t,e){const n=fe(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(o=>!Bf(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await bg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),k7(n.remoteStore,r.targetId),kg(n,r.targetId)}).catch(tu)):(kg(n,r.targetId),await bg(n.localStore,r.targetId,!0))}async function qO(t,e,n){const r=JO(t);try{const s=await function(o,i){const a=fe(o),l=yt.now(),u=i.reduce((f,m)=>f.add(m.key),ve());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=ss(),v=ve();return a.Zi.getEntries(f,u).next(w=>{m=w,m.forEach((x,_)=>{_.isValidDocument()||(v=v.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(w=>{d=w;const x=[];for(const _ of i){const y=_R(_,d.get(_.key).overlayedDocument);y!=null&&x.push(new co(_.key,y,Vb(y.value.mapValue),Vn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,x,i)}).next(w=>{h=w;const x=w.applyToLocalDocumentSet(d,v);return a.documentOverlayCache.saveOverlays(f,w.batchId,x)})}).then(()=>({batchId:h.batchId,changes:Jb(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,i,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new Ye(be)),l=l.insert(i,a),o.Tc[o.currentUser.toKey()]=l}(r,s.batchId,n),await iu(r,s.changes),await Gf(r.remoteStore)}catch(s){const o=Yy(s,"Failed to persist write");n.reject(o)}}async function P7(t,e){const n=fe(t);try{const r=await cO(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.yc.get(o);i&&($e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?i.fc=!0:s.modifiedDocuments.size>0?$e(i.fc):s.removedDocuments.size>0&&($e(i.fc),i.fc=!1))}),await iu(n,r,e)}catch(r){await tu(r)}}function Bw(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((o,i)=>{const a=i.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(o,i){const a=fe(o);a.onlineState=i;let l=!1;a.queries.forEach((u,d)=>{for(const h of d.listeners)h.Mu(i)&&(l=!0)}),l&&Jy(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WO(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),o=s&&s.key;if(o){let i=new Ye(ee.comparator);i=i.insert(o,Bt.newNoDocument(o,de.min()));const a=ve().add(o),l=new Hf(de.min(),new Map,new Ye(be),i,a);await P7(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),t_(r)}else await bg(r.localStore,e,!1).then(()=>kg(r,e,n)).catch(tu)}async function GO(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await lO(n.localStore,e);R7(n,r,null),L7(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await iu(n,s)}catch(s){await tu(s)}}async function KO(t,e,n){const r=fe(t);try{const s=await function(o,i){const a=fe(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,i).next(d=>($e(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,i)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);R7(r,e,n),L7(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await iu(r,s)}catch(s){await tu(s)}}function L7(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function R7(t,e,n){const r=fe(t);let s=r.Tc[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function kg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||O7(t,r)})}function O7(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(k7(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),t_(t))}function Uw(t,e,n){for(const r of n)r instanceof j7?(t.Ic.addReference(r.key,e),ZO(t,r)):r instanceof A7?(J("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||O7(t,r.key)):ie()}function ZO(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(J("SyncEngine","New document in limbo: "+n),t.mc.add(r),t_(t))}function t_(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ee(De.fromString(e)),r=t.Ac.next();t.yc.set(r,new BO(n)),t.gc=t.gc.insert(n,r),b7(t.remoteStore,new Rs(rs($f(n.path)),r,"TargetPurposeLimboResolution",jy.ct))}}async function iu(t,e,n){const r=fe(t),s=[],o=[],i=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{i.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=qy.Li(l.targetId,u);o.push(d)}}))}),await Promise.all(i),r.dc.nu(s),await async function(a,l){const u=fe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(l,h=>V.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>V.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!nu(d))throw d;J("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),m=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(m);u.Ji=u.Ji.insert(h,v)}}}(r.localStore,o))}async function YO(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await v7(n.localStore,e);n.currentUser=e,function(s,o){s.Ec.forEach(i=>{i.forEach(a=>{a.reject(new K($.CANCELLED,o))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await iu(n,r.er)}}function QO(t,e){const n=fe(t),r=n.yc.get(e);if(r&&r.fc)return ve().add(r.key);{let s=ve();const o=n._c.get(e);if(!o)return s;for(const i of o){const a=n.wc.get(i);s=s.unionWith(a.view.nc)}return s}}function XO(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P7.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WO.bind(null,e),e.dc.nu=DO.bind(null,e.eventManager),e.dc.Pc=MO.bind(null,e.eventManager),e}function JO(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KO.bind(null,e),e}class Vw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aO(this.persistence,new oO,e.initialUser,this.serializer)}createPersistence(e){return new rO(Hy.zs,this.serializer)}createSharedClientState(e){return new pO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class eD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Bw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YO.bind(null,this.syncEngine),await LO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new OO}createDatastore(e){const n=qf(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new _O(s));var s;return function(o,i,a,l){return new xO(o,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,o=a=>Bw(this.syncEngine,a,0),i=Mw.D()?new Mw:new mO,new bO(n,r,s,o,i);var n,r,s,o,i}createSyncEngine(e,n){return function(r,s,o,i,a,l,u){const d=new UO(r,s,o,i,a,l);return u&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=fe(e);J("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ou(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$t.UNAUTHENTICATED,this.clientId=Fb.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{J("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vm(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await v7(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function zw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rD(t);J("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>$w(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>$w(e.remoteStore,o)),t._onlineComponents=e}function nD(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function rD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await vm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!nD(n))throw n;ya("Error using user provided cache. Falling back to memory cache: "+n),await vm(t,new Vw)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await vm(t,new Vw);return t._offlineComponents}async function D7(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await zw(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await zw(t,new eD))),t._onlineComponents}function sD(t){return D7(t).then(e=>e.syncEngine)}async function wh(t){const e=await D7(t),n=e.eventManager;return n.onListen=VO.bind(null,e.syncEngine),n.onUnlisten=HO.bind(null,e.syncEngine),n}function oD(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const u=new n_({next:h=>{o.enqueueAndForget(()=>Xy(s,d));const f=h.docs.has(i);!f&&h.fromCache?l.reject(new K($.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new K($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new e_($f(i.path),u,{includeMetadataChanges:!0,Ku:!0});return Qy(s,d)}(await wh(t),t.asyncQueue,e,n,r)),r.promise}function iD(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const u=new n_({next:h=>{o.enqueueAndForget(()=>Xy(s,d)),h.fromCache&&a.source==="server"?l.reject(new K($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new e_(i,u,{includeMetadataChanges:!0,Ku:!0});return Qy(s,d)}(await wh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t,e,n){if(!n)throw new K($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aD(t,e,n,r){if(e===!0&&r===!0)throw new K($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qw(t){if(!ee.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ww(t){if(ee.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(t);throw new K($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M7((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Zf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new AL;switch(n.type){case"firstParty":return new OL(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new K($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Hw.get(e);n&&(J("ComponentProvider","Removing Datastore"),Hw.delete(e),n.terminate())}(this),Promise.resolve()}}function lD(t,e,n,r={}){var s;const o=(t=yn(t,Zf))._getSettings(),i=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==i&&ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$t.MOCK_USER;else{a=Q4(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new K($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(u)}t._authCredentials=new PL(new $b(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class qs extends uo{constructor(e,n,r){super(e,n,$f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ee(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function In(t,e,...n){if(t=Ne(t),$7("collection","path",e),t instanceof Zf){const r=De.fromString(e,...n);return Ww(r),new qs(t,null,r)}{if(!(t instanceof Wt||t instanceof qs))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return Ww(r),new qs(t.firestore,null,r)}}function Q(t,e,...n){if(t=Ne(t),arguments.length===1&&(e=Fb.A()),$7("doc","path",e),t instanceof Zf){const r=De.fromString(e,...n);return qw(r),new Wt(t,null,new ee(r))}{if(!(t instanceof Wt||t instanceof qs))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return qw(r),new Wt(t.firestore,t instanceof qs?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new x7(this,"async_queue_retry"),this.Xc=()=>{const n=_m();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=_m();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new qr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!nu(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(o){let i=o.message||"";return o.stack&&(i=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),i}(r);throw ns("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=Zy.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(s),s}Zc(){this.Wc&&ie()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Kw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}let os=class extends Zf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new cD,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||F7(this),this._firestoreClient.terminate()}};function uD(t,e){const n=typeof t=="object"?t:X0(),r=typeof t=="string"?t:"(default)",s=gf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=K4("firestore");o&&lD(s,...o)}return s}function Yf(t){return t._firestoreClient||F7(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function F7(t){var e,n,r;const s=t._freezeSettings(),o=function(i,a,l,u){return new GL(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,M7(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new tD(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sa(Yt.fromBase64String(e))}catch(n){throw new K($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sa(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=/^__.*__$/;class hD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new co(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}class B7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function U7(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Xf{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Xf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return xh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(U7(this.ca)&&dD.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class fD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qf(e)}ya(e,n,r,s=!1){return new Xf({ca:e,methodName:n,ga:r,path:Ut.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(t){const e=t._freezeSettings(),n=qf(t._databaseId);return new fD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function V7(t,e,n,r,s,o={}){const i=t.ya(o.merge||o.mergeFields?2:0,e,n,s);s_("Data must be an object, but it was:",i,r);const a=H7(r,i);let l,u;if(o.merge)l=new Sn(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=Sg(e,h,n);if(!i.contains(f))throw new K($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);W7(d,f)||d.push(f)}l=new Sn(d),u=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=i.fieldTransforms;return new hD(new dn(a),l,u)}class ep extends qa{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ep}}function z7(t,e,n){return new Xf({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pD extends qa{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=z7(this,e,!0),r=this.pa.map(o=>fi(o,n)),s=new xa(r);return new My(e.path,s)}isEqual(e){return this===e}}class mD extends qa{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=z7(this,e,!0),r=this.pa.map(o=>fi(o,n)),s=new Ca(r);return new My(e.path,s)}isEqual(e){return this===e}}class gD extends qa{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new jc(e.serializer,r7(e.serializer,this.Ia));return new My(e.path,n)}isEqual(e){return this===e}}function yD(t,e,n,r){const s=t.ya(1,e,n);s_("Data must be an object, but it was:",s,r);const o=[],i=dn.empty();di(r,(l,u)=>{const d=o_(e,l,n);u=Ne(u);const h=s.da(d);if(u instanceof ep)o.push(d);else{const f=fi(u,h);f!=null&&(o.push(d),i.set(d,f))}});const a=new Sn(o);return new B7(i,a,s.fieldTransforms)}function _D(t,e,n,r,s,o){const i=t.ya(1,e,n),a=[Sg(e,r,n)],l=[s];if(o.length%2!=0)throw new K($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Sg(e,o[f])),l.push(o[f+1]);const u=[],d=dn.empty();for(let f=a.length-1;f>=0;--f)if(!W7(u,a[f])){const m=a[f];let v=l[f];v=Ne(v);const w=i.da(m);if(v instanceof ep)u.push(m);else{const x=fi(v,w);x!=null&&(u.push(m),d.set(m,x))}}const h=new Sn(u);return new B7(d,h,i.fieldTransforms)}function vD(t,e,n,r=!1){return fi(n,t.ya(r?4:3,e))}function fi(t,e){if(q7(t=Ne(t)))return s_("Unsupported field value:",e,t),H7(t,e);if(t instanceof qa)return function(n,r){if(!U7(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const i of n){let a=fi(i,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Ne(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return r7(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=yt.fromDate(n);return{timestampValue:_h(r.serializer,s)}}if(n instanceof yt){const s=new yt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_h(r.serializer,s)}}if(n instanceof r_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Sa)return{bytesValue:f7(r.serializer,n._byteString)};if(n instanceof Wt){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Kf(n)}`)}(t,e)}function H7(t,e){const n={};return Bb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,s)=>{const o=fi(s,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function q7(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof r_||t instanceof Sa||t instanceof Wt||t instanceof qa)}function s_(t,e,n){if(!q7(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Kf(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Sg(t,e,n){if((e=Ne(e))instanceof Qf)return e._internalPath;if(typeof e=="string")return o_(t,e);throw xh("Field path arguments must be of type string or ",t,!1,void 0,n)}const wD=new RegExp("[~\\*/\\[\\]]");function o_(t,e,n){if(e.search(wD)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qf(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xh(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new K($.INVALID_ARGUMENT,a+t+l)}function W7(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xD extends G7{data(){return super.data()}}function i_(t,e){return typeof e=="string"?o_(t,e):e instanceof Qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a_{}class Z7 extends a_{}function Wa(t,e,...n){let r=[];e instanceof a_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(a=>a instanceof c_).length,i=s.filter(a=>a instanceof l_).length;if(o>1||o>0&&i>0)throw new K($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class l_ extends Z7{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new l_(e,n,r)}_apply(e){const n=this._parse(e);return Y7(e._query,n),new uo(e.firestore,e.converter,gg(e._query,n))}_parse(e){const n=Jf(e.firestore);return function(s,o,i,a,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new K($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Yw(d,u);const f=[];for(const m of d)f.push(Zw(a,s,m));h={arrayValue:{values:f}}}else h=Zw(a,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Yw(d,u),h=vD(i,o,d,u==="in"||u==="not-in");return ct.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class c_ extends a_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new c_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const i=s.getFlattenedFilters();for(const a of i)Y7(o,a),o=gg(o,a)}(e._query,n),new uo(e.firestore,e.converter,gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class u_ extends Z7{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new u_(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new ra(s,o);return function(a,l){if(Dy(a)===null){const u=Ff(a);u!==null&&Q7(a,u,l.field)}}(r,i),i}(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Va(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Ga(t,e="asc"){const n=e,r=i_("orderBy",t);return u_._create(r,n)}function Zw(t,e,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new K($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zb(e)&&n.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!ee.isDocumentKey(r))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _w(t,new ee(r))}if(n instanceof Wt)return _w(t,n._key);throw new K($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function Yw(t,e){if(!Array.isArray(t)||t.length===0)throw new K($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y7(t,e){if(e.isInequality()){const r=Ff(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new K($.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const o=Dy(t);o!==null&&Q7(t,s,o)}const n=function(r,s){for(const o of r)for(const i of o.getFlattenedFilters())if(s.indexOf(i.op)>=0)return i.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Q7(t,e,n){if(!n.isEqual(e))throw new K($.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class CD{convertValue(e,n="none"){switch(Jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return di(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new r_(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Py(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=Xs(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);$e(_7(r));const s=new Ic(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return s.isEqual(n)||ns(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class J7 extends G7{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(i_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bd extends J7{data(e={}){return super.data(e)}}class ek{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Sl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bd(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(i=>{const a=new bd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new Sl(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);return i.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(i=>s||i.type!==3).map(i=>{const a=new bd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new Sl(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return i.type!==0&&(l=o.indexOf(i.doc.key),o=o.delete(i.doc.key)),i.type!==1&&(o=o.add(i.doc),u=o.indexOf(i.doc.key)),{type:bD(i.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t){t=yn(t,Wt);const e=yn(t.firestore,os);return oD(Yf(e),t._key).then(n=>rk(e,t,n))}class d_ extends CD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function tk(t){t=yn(t,uo);const e=yn(t.firestore,os),n=Yf(e),r=new d_(e);return K7(t._query),iD(n,t._query).then(s=>new ek(e,r,t,s))}function ut(t,e,n){t=yn(t,Wt);const r=yn(t.firestore,os),s=X7(t.converter,e,n);return np(r,[V7(Jf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Vn.none())])}function is(t,e,n,...r){t=yn(t,Wt);const s=yn(t.firestore,os),o=Jf(s);let i;return i=typeof(e=Ne(e))=="string"||e instanceof Qf?_D(o,"updateDoc",t._key,e,n,r):yD(o,"updateDoc",t._key,e),np(s,[i.toMutation(t._key,Vn.exists(!0))])}function nk(t){return np(yn(t.firestore,os),[new $y(t._key,Vn.none())])}function tp(t,e){const n=yn(t.firestore,os),r=Q(t),s=X7(t.converter,e);return np(n,[V7(Jf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}function pi(t,...e){var n,r,s;t=Ne(t);let o={includeMetadataChanges:!1},i=0;typeof e[i]!="object"||Kw(e[i])||(o=e[i],i++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Kw(e[i])){const h=e[i];e[i]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[i+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[i+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,u,d;if(t instanceof Wt)u=yn(t.firestore,os),d=$f(t._key.path),l={next:h=>{e[i]&&e[i](rk(u,t,h))},error:e[i+1],complete:e[i+2]};else{const h=yn(t,uo);u=yn(h.firestore,os),d=h._query;const f=new d_(u);l={next:m=>{e[i]&&e[i](new ek(u,f,h,m))},error:e[i+1],complete:e[i+2]},K7(t._query)}return function(h,f,m,v){const w=new n_(v),x=new e_(f,w,m);return h.asyncQueue.enqueueAndForget(async()=>Qy(await wh(h),x)),()=>{w.Dc(),h.asyncQueue.enqueueAndForget(async()=>Xy(await wh(h),x))}}(Yf(u),d,a,l)}function np(t,e){return function(n,r){const s=new qr;return n.asyncQueue.enqueueAndForget(async()=>qO(await sD(n),r,s)),s.promise}(Yf(t),e)}function rk(t,e,n){const r=n.docs.get(e._key),s=new d_(t);return new J7(t,s,e._key,r,new Sl(n.hasPendingWrites,n.fromCache),e.converter)}function bo(...t){return new pD("arrayUnion",t)}function kD(...t){return new mD("arrayRemove",t)}function SD(t){return new gD("increment",t)}(function(t,e=!0){(function(n){Ua=n})(li),Ko(new Ys("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),i=new os(new LL(n.getProvider("auth-internal")),new ML(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new K($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(a.options.projectId,l)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),i._setSettings(s),i},"PUBLIC").setMultipleInstances(!0)),Cr(fw,"3.13.0",t),Cr(fw,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="firebasestorage.googleapis.com",ok="storageBucket",ED=2*60*1e3,TD=10*60*1e3,ID=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends Pr{constructor(e,n,r=0){super(wm(e),`Firebase Storage: ${n} (${wm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fe||(Fe={}));function wm(t){return"storage/"+t}function h_(){const t="An unknown error occurred, please check the error payload for server response.";return new Qe(Fe.UNKNOWN,t)}function ND(t){return new Qe(Fe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function jD(t){return new Qe(Fe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function AD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe(Fe.UNAUTHENTICATED,t)}function PD(){return new Qe(Fe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LD(t){return new Qe(Fe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ik(){return new Qe(Fe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ak(){return new Qe(Fe.CANCELED,"User canceled the upload/download.")}function RD(t){return new Qe(Fe.INVALID_URL,"Invalid URL '"+t+"'.")}function OD(t){return new Qe(Fe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function DD(){return new Qe(Fe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ok+"' property when initializing the app?")}function lk(){return new Qe(Fe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function MD(){return new Qe(Fe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function $D(){return new Qe(Fe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FD(t){return new Qe(Fe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Eg(t){return new Qe(Fe.INVALID_ARGUMENT,t)}function ck(){return new Qe(Fe.APP_DELETED,"The Firebase app was deleted.")}function BD(t){return new Qe(Fe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vl(t,e){return new Qe(Fe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function il(t){throw new Qe(Fe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw OD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+s+i,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),v={bucket:1,path:3},w=n===sk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${w}/${s}/${x}`,"i"),g=[{regex:a,indices:l,postModify:o},{regex:m,indices:v,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<g.length;C++){const b=g[C],k=b.regex.exec(e);if(k){const T=k[b.indices.bucket];let S=k[b.indices.path];S||(S=""),r=new En(T,S),b.postModify(r);break}}if(r==null)throw RD(e);return r}}class UD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e,n){let r=1,s=null,o=null,i=!1,a=0;function l(){return a===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){s=setTimeout(()=>{s=null,t(m,l())},x)}function f(){o&&clearTimeout(o)}function m(x,..._){if(u){f();return}if(x){f(),d.call(null,x,..._);return}if(l()||i){f(),d.call(null,x,..._);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,h(g)}let v=!1;function w(x){v||(v=!0,f(),!u&&(s!==null?(x||(a=2),clearTimeout(s),h(0)):x||(a=1)))}return h(0),o=setTimeout(()=>{i=!0,w(!0)},n),w}function zD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){return t!==void 0}function qD(t){return typeof t=="function"}function WD(t){return typeof t=="object"&&!Array.isArray(t)}function rp(t){return typeof t=="string"||t instanceof String}function Qw(t){return f_()&&t instanceof Blob}function f_(){return typeof Blob<"u"&&!ZI()}function Xw(t,e,n,r){if(r<e)throw Eg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Eg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function uk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bo||(Bo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,s,o,i,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new qu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const a=o.getErrorCode()===Bo.NO_ERROR,l=o.getStatus();if(!a||dk(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Bo.ABORT;r(!1,new qu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new qu(u,o))})},n=(r,s)=>{const o=this.resolve_,i=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());HD(l)?o(l):o()}catch(l){i(l)}else if(a!==null){const l=h_();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(s.canceled){const l=this.appDelete_?ck():ak();i(l)}else{const l=ik();i(l)}};this.canceled_?n(!1,new qu(!1,null,!0)):this.backoffId_=VD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function KD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ZD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function YD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function QD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function XD(t,e,n,r,s,o,i=!0){const a=uk(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return YD(u,e),KD(u,n),ZD(u,o),QD(u,r),new GD(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eM(...t){const e=JD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(f_())return new Blob(t);throw new Qe(Fe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){if(typeof atob>"u")throw FD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xm{constructor(e,n){this.data=e,this.contentType=n||null}}function rM(t,e){switch(t){case _r.RAW:return new xm(hk(e));case _r.BASE64:case _r.BASE64URL:return new xm(fk(t,e));case _r.DATA_URL:return new xm(oM(e),iM(e))}throw h_()}function hk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,i=t.charCodeAt(++n);r=65536|(o&1023)<<10|i&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sM(t){let e;try{e=decodeURIComponent(t)}catch{throw Vl(_r.DATA_URL,"Malformed data URL.")}return hk(e)}function fk(t,e){switch(t){case _r.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Vl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case _r.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Vl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nM(e)}catch(s){throw s.message.includes("polyfill")?s:Vl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class pk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vl(_r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=aM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function oM(t){const e=new pk(t);return e.base64?fk(_r.BASE64,e.rest):sM(e.rest)}function iM(t){return new pk(t).contentType}function aM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){let r=0,s="";Qw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Qw(this.data_)){const r=this.data_,s=tM(r,e,n);return s===null?null:new Dr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Dr(r,!0)}}static getBlob(...e){if(f_()){const n=e.map(r=>r instanceof Dr?r.data_:r);return new Dr(eM.apply(null,n))}else{const n=e.map(i=>rp(i)?rM(_r.RAW,i).data:i.data_);let r=0;n.forEach(i=>{r+=i.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(i=>{for(let a=0;a<i.length;a++)s[o++]=i[a]}),new Dr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t){let e;try{e=JSON.parse(t)}catch{return null}return WD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function cM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function gk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(t,e){return e}class Qt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||uM}}let Wu=null;function dM(t){return!rp(t)||t.length<2?t:gk(t)}function sp(){if(Wu)return Wu;const t=[];t.push(new Qt("bucket")),t.push(new Qt("generation")),t.push(new Qt("metageneration")),t.push(new Qt("name","fullPath",!0));function e(o,i){return dM(i)}const n=new Qt("name");n.xform=e,t.push(n);function r(o,i){return i!==void 0?Number(i):i}const s=new Qt("size");return s.xform=r,t.push(s),t.push(new Qt("timeCreated")),t.push(new Qt("updated")),t.push(new Qt("md5Hash",null,!0)),t.push(new Qt("cacheControl",null,!0)),t.push(new Qt("contentDisposition",null,!0)),t.push(new Qt("contentEncoding",null,!0)),t.push(new Qt("contentLanguage",null,!0)),t.push(new Qt("contentType",null,!0)),t.push(new Qt("metadata","customMetadata",!0)),Wu=t,Wu}function hM(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new En(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function fM(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const i=n[o];r[i.local]=i.xform(r,e[i.server])}return hM(r,t),r}function yk(t,e,n){const r=mk(e);return r===null?null:fM(t,r,n)}function pM(t,e,n,r){const s=mk(e);if(s===null||!rp(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const i=encodeURIComponent;return o.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+i(d)+"/o/"+i(h),m=Ka(f,n,r),v=uk({alt:"media",token:u});return m+v})[0]}function _k(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class mi{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){if(!t)throw h_()}function p_(t,e){function n(r,s){const o=yk(t,s,e);return Wr(o!==null),o}return n}function mM(t,e){function n(r,s){const o=yk(t,s,e);return Wr(o!==null),pM(o,s,t.host,t._protocol)}return n}function au(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=PD():s=AD():n.getStatus()===402?s=jD(t.bucket):n.getStatus()===403?s=LD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function m_(t){const e=au(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=ND(t.path)),o.serverResponse=s.serverResponse,o}return n}function vk(t,e,n){const r=e.fullServerUrl(),s=Ka(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new mi(s,o,p_(t,n),i);return a.errorHandler=m_(e),a}function gM(t,e,n){const r=e.fullServerUrl(),s=Ka(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new mi(s,o,mM(t,n),i);return a.errorHandler=m_(e),a}function yM(t,e){const n=e.fullServerUrl(),r=Ka(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function i(l,u){}const a=new mi(r,s,i,o);return a.successCodes=[200,204],a.errorHandler=m_(e),a}function _M(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function wk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=_M(null,e)),r}function xk(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let C=0;C<2;C++)g=g+Math.random().toString().slice(2);return g}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const u=wk(e,r,s),d=_k(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Dr.getBlob(h,r,f);if(m===null)throw lk();const v={name:u.fullPath},w=Ka(o,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,y=new mi(w,x,p_(t,n),_);return y.urlParams=v,y.headers=i,y.body=m.uploadData(),y.errorHandler=au(e),y}class Ch{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function g_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Wr(!1)}return Wr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function vM(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i=wk(e,r,s),a={name:i.fullPath},l=Ka(o,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},h=_k(i,n),f=t.maxUploadRetryTime;function m(w){g_(w);let x;try{x=w.getResponseHeader("X-Goog-Upload-URL")}catch{Wr(!1)}return Wr(rp(x)),x}const v=new mi(l,u,m,f);return v.urlParams=a,v.headers=d,v.body=h,v.errorHandler=au(e),v}function wM(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function o(u){const d=g_(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Wr(!1)}h||Wr(!1);const f=Number(h);return Wr(!isNaN(f)),new Ch(f,r.size(),d==="final")}const i="POST",a=t.maxUploadRetryTime,l=new mi(n,i,o,a);return l.headers=s,l.errorHandler=au(e),l}const Jw=256*1024;function xM(t,e,n,r,s,o,i,a){const l=new Ch(0,0);if(i?(l.current=i.current,l.total=i.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw MD();const u=l.total-l.current;let d=u;s>0&&(d=Math.min(d,s));const h=l.current,f=h+d;let m="";d===0?m="finalize":u===d?m="upload, finalize":m="upload";const v={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,f);if(w===null)throw lk();function x(C,b){const k=g_(C,["active","final"]),T=l.current+d,S=r.size();let E;return k==="final"?E=p_(e,o)(C,b):E=null,new Ch(T,S,k==="final",E)}const _="POST",y=e.maxUploadRetryTime,g=new mi(n,_,x,y);return g.headers=v,g.body=w.uploadData(),g.progressCallback=a||null,g.errorHandler=au(t),g}const cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Cm(t){switch(t){case"running":case"pausing":case"canceling":return cn.RUNNING;case"paused":return cn.PAUSED;case"success":return cn.SUCCESS;case"canceled":return cn.CANCELED;case"error":return cn.ERROR;default:return cn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n,r){if(qD(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class bM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Bo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Bo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Bo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw il("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw il("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw il("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw il("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw il("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kM extends bM{initXhr(){this.xhr_.responseType="text"}}function Mr(){return new kM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=sp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(Fe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(dk(s.status,[]))if(o)s=ik();else{this.sleepTime=Math.max(this.sleepTime*2,ID),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(Fe.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=vM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Mr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=wM(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(s,Mr,n,r);this._request=o,o.getPromise().then(i=>{i=i,this._request=void 0,this._updateProgress(i.current),this._needToFetchStatus=!1,i.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Jw*this._chunkMultiplier,n=new Ch(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,o)=>{let i;try{i=xM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(i,Mr,s,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Jw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=vk(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Mr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=xk(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Mr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=ak(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Cm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const o=new CM(n||void 0,r||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Cm(this._state)){case cn.SUCCESS:wi(this._resolve.bind(null,this.snapshot))();break;case cn.CANCELED:case cn.ERROR:const n=this._reject;wi(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Cm(this._state)){case cn.RUNNING:case cn.PAUSED:e.next&&wi(e.next.bind(e,this.snapshot))();break;case cn.SUCCESS:e.complete&&wi(e.complete.bind(e))();break;case cn.CANCELED:case cn.ERROR:e.error&&wi(e.error.bind(e,this._error))();break;default:e.error&&wi(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ei(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gk(this._location.path)}get storage(){return this._service}get parent(){const e=lM(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new ei(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw BD(e)}}function EM(t,e,n){t._throwIfRoot("uploadBytes");const r=xk(t.storage,t._location,sp(),new Dr(e,!0),n);return t.storage.makeRequestWithTokens(r,Mr).then(s=>({metadata:s,ref:t}))}function TM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new SM(t,new Dr(e),n)}function IM(t){t._throwIfRoot("getMetadata");const e=vk(t.storage,t._location,sp());return t.storage.makeRequestWithTokens(e,Mr)}function NM(t){t._throwIfRoot("getDownloadURL");const e=gM(t.storage,t._location,sp());return t.storage.makeRequestWithTokens(e,Mr).then(n=>{if(n===null)throw $D();return n})}function jM(t){t._throwIfRoot("deleteObject");const e=yM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Mr)}function AM(t,e){const n=cM(t._location.path,e),r=new En(t._location.bucket,n);return new ei(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){return/^[A-Za-z]+:\/\//.test(t)}function LM(t,e){return new ei(t,e)}function Ck(t,e){if(t instanceof y_){const n=t;if(n._bucket==null)throw DD();const r=new ei(n,n._bucket);return e!=null?Ck(r,e):r}else return e!==void 0?AM(t,e):t}function RM(t,e){if(e&&PM(e)){if(t instanceof y_)return LM(t,e);throw Eg("To use ref(service, url), the first argument must be a Storage instance.")}else return Ck(t,e)}function ex(t,e){const n=e==null?void 0:e[ok];return n==null?null:En.makeFromBucketSpec(n,t)}function OM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Q4(s,t.app.options.projectId))}class y_{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=sk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ED,this._maxUploadRetryTime=TD,this._requests=new Set,s!=null?this._bucket=En.makeFromBucketSpec(s,this._host):this._bucket=ex(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=ex(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ei(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new UD(ck());{const i=XD(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const tx="@firebase/storage",nx="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="storage";function ti(t,e,n){return t=Ne(t),EM(t,e,n)}function DM(t,e,n){return t=Ne(t),TM(t,e,n)}function MM(t){return t=Ne(t),IM(t)}function as(t){return t=Ne(t),NM(t)}function $M(t){return t=Ne(t),jM(t)}function Nr(t,e){return t=Ne(t),RM(t,e)}function FM(t=X0(),e){t=Ne(t);const r=gf(t,bk).getImmediate({identifier:e}),s=K4("storage");return s&&BM(r,...s),r}function BM(t,e,n,r={}){OM(t,e,n,r)}function UM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new y_(n,r,s,e,li)}function VM(){Ko(new Ys(bk,UM,"PUBLIC").setMultipleInstances(!0)),Cr(tx,nx,""),Cr(tx,nx,"esm2017")}VM();const zM={apiKey:"AIzaSyBBlQca3oj1efZEEjTu1XSmMHRcbGX_Hj8",authDomain:"genery-c83e3.firebaseapp.com",projectId:"genery-c83e3",storageBucket:"genery-c83e3.appspot.com",messagingSenderId:"179227356988",appId:"1:179227356988:web:31e0070216dbb4bf673839"},__=e9(zM),kk=CP(__),q=uD(__),jr=FM(__),Sk=p.createContext(),HM=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(""),o=kk;p.useEffect(()=>{const a=cA(o,l=>{l?(async()=>{const d=Q(q,"users",l.uid,"info","preferences"),h=await le(d);if(h.exists()){const f=h.data();console.log(f),n({_id:l.uid,avatar:f.photo,name:f.name,cover:f.cover,mainGroup:f.mainGroup,email:l.email})}else console.log("No such document!")})():n(null)});return()=>{a()}},[]);const i=p.useMemo(()=>({authUser:e,setAuthUser:n,ga:o}),[e]);return c.jsx(Sk.Provider,{value:i,children:t})},pe=()=>p.useContext(Sk);function qM(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),{authUser:s}=pe();let o;const i=ce();return p.useEffect(()=>{s?o="/menu":o="/about";const a=setTimeout(()=>{i(o)},3e3);return()=>clearTimeout(a)},[i]),c.jsx("div",{className:DI.container,children:c.jsx(z4,{color:t.icon_color})})}const al={"input-container":"_input-container_oontd_1","input-inside":"_input-inside_oontd_10","show-button":"_show-button_oontd_26"};function Er({type:t,placeholder:e,onInputChange:n,backgroundColor:r,textColor:s}){const{theme:o,elementColors:i,setElementColors:a}=p.useContext(F),[l,u]=p.useState(!1),[d,h]=p.useState(!1),[f,m]=p.useState(!1),v=()=>{u(!l)},w=[c.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M15 10.4C13.9874 10.4 13.0162 10.7793 12.3001 11.4544C11.5841 12.1295 11.1818 13.0452 11.1818 14C11.1818 14.9548 11.5841 15.8705 12.3001 16.5456C13.0162 17.2207 13.9874 17.6 15 17.6C16.0126 17.6 16.9838 17.2207 17.6999 16.5456C18.4159 15.8705 18.8182 14.9548 18.8182 14C18.8182 13.0452 18.4159 12.1295 17.6999 11.4544C16.9838 10.7793 16.0126 10.4 15 10.4ZM15 20C13.3123 20 11.6936 19.3679 10.5002 18.2426C9.30682 17.1174 8.63636 15.5913 8.63636 14C8.63636 12.4087 9.30682 10.8826 10.5002 9.75736C11.6936 8.63214 13.3123 8 15 8C16.6877 8 18.3064 8.63214 19.4998 9.75736C20.6932 10.8826 21.3636 12.4087 21.3636 14C21.3636 15.5913 20.6932 17.1174 19.4998 18.2426C18.3064 19.3679 16.6877 20 15 20ZM15 5C8.63636 5 3.20182 8.732 1 14C3.20182 19.268 8.63636 23 15 23C21.3636 23 26.7982 19.268 29 14C26.7982 8.732 21.3636 5 15 5Z",fill:o.text_first_color})})],x=[c.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7836 10.2632L18.8182 14.0884V13.8947C18.8182 12.9316 18.4159 12.0079 17.6999 11.3268C16.9838 10.6458 16.0126 10.2632 15 10.2632H14.7836ZM9.31091 11.2316L11.2836 13.1079C11.22 13.3621 11.1818 13.6163 11.1818 13.8947C11.1818 14.8579 11.5841 15.7816 12.3001 16.4627C13.0162 17.1437 13.9874 17.5263 15 17.5263C15.28 17.5263 15.56 17.49 15.8273 17.4295L17.8 19.3058C16.9473 19.7053 16.0055 19.9474 15 19.9474C13.3123 19.9474 11.6936 19.3097 10.5002 18.1746C9.30682 17.0395 8.63636 15.5 8.63636 13.8947C8.63636 12.9384 8.89091 12.0426 9.31091 11.2316ZM2.27273 4.53737L5.17455 7.29737L5.74727 7.84211C3.64727 9.41579 1.99273 11.4737 1 13.8947C3.20182 19.2089 8.63636 22.9737 15 22.9737C16.9727 22.9737 18.8564 22.6105 20.5745 21.9568L21.1218 22.4653L24.8382 26L26.4545 24.4626L3.88909 3M15 7.84211C16.6877 7.84211 18.3064 8.47979 19.4998 9.61488C20.6932 10.75 21.3636 12.2895 21.3636 13.8947C21.3636 14.6695 21.1982 15.42 20.9055 16.0979L24.6345 19.6447C26.5436 18.1316 28.0709 16.1463 29 13.8947C26.7982 8.58053 21.3636 4.81579 15 4.81579C13.2182 4.81579 11.5127 5.11842 9.90909 5.66316L12.6709 8.26579C13.3964 7.99947 14.1727 7.84211 15 7.84211Z",fill:o.text_first_color})})];let _=[c.jsx("div",{className:al["input-container"],children:c.jsx("input",{className:al["input-inside"],type:t,placeholder:e,onChange:n,style:{backgroundColor:r,color:s,caretColor:o.first_color,borderColor:o.first_color,outline:"none"},onFocus:()=>m(!0),onBlur:()=>m(!1)})})];return t==="password"&&(_=[c.jsxs("div",{className:al["input-container"],children:[c.jsx("input",{className:al["input-inside"],type:l?"text":"password",placeholder:e,onChange:n,style:{backgroundColor:r,color:s,caretColor:o.first_color,borderColor:o.first_color,outline:"none"},onFocus:()=>m(!0),onBlur:()=>m(!1)}),c.jsx("button",{className:al["show-button"],onClick:v,children:l?x:w},"")]})]),_}const WM="_container_bxems_1",GM="_greeting_bxems_22",KM="_error_bxems_54",ar={container:WM,"auth-form":"_auth-form_bxems_12",greeting:GM,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:KM,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"},rx=[{src:"avatars/1.png"},{src:"avatars/2.png"},{src:"avatars/3.png"},{src:"avatars/4.png"},{src:"avatars/5.png"},{src:"avatars/6.png"},{src:"avatars/7.png"},{src:"avatars/8.png"},{src:"avatars/9.png"},{src:"avatars/10.png"},{src:"avatars/11.png"},{src:"avatars/12.png"},{src:"avatars/13.png"},{src:"avatars/14.png"},{src:"avatars/15.png"},{src:"avatars/16.png"},{src:"avatars/17.png"},{src:"avatars/18.png"},{src:"avatars/19.png"},{src:"avatars/20.png"}];function ZM(){const t=()=>{const y=Math.floor(Math.random()*rx.length);return rx[y].src},{theme:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState(),[o,i]=p.useState(),[a,l]=p.useState(),[u,d]=p.useState(),{authUser:h,setAuthUser:f,ga:m}=pe(),[v,w]=p.useState(t()),x=ce();p.useEffect(()=>{n({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!1,arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!1,footerBackground:e.background_color,activeElementIndex:3,background:e.background_color}),document.body.style.background=e.background_color},[e]);function _(y){if(y.preventDefault(),!r&&!o&&!a){d("введите email и пароль");return}else if(r)if(a){if(!o){d("введите пароль");return}}else{d("введите имя");return}else{d("введите email");return}(async()=>{try{const b=(await oA(m,r,o)).user;console.log(b);const k=Q(q,"users",b.uid,"info","preferences");await ut(k,{uid:b.uid,name:a,photo:v,cover:"blue",biography:"",boughtThemes:["default"],boughtColors:["default"],boughtEmojies:[],censorState:!0,balance:1e3,followers:[]},{merge:!0}),console.log("Profile updated successfully"),localStorage.setItem("censor",!0),localStorage.setItem("theme","default"),s(""),i(""),l("")}catch(C){d(C.message),console.error("Error creating user or updating profile: ",C)}})()}return p.useEffect(()=>{h&&x("/menu")},[h]),c.jsx("div",{className:ar.container,children:c.jsxs("form",{className:ar["auth-form"],children:[c.jsxs("div",{className:ar.greeting,children:[c.jsx("h2",{className:ar["greeting-title"],style:{color:e.text_first_color},children:"Давай знакомиться"}),c.jsx("h3",{className:ar["greeting-text"],style:{color:e.text_first_color},children:"Выбери желаемое имя и пароль"})]}),c.jsxs("div",{className:ar["input-container"],children:[c.jsx("div",{className:ar.error,style:{color:e.gradient_first_color},children:u}),c.jsx(Er,{type:"email",placeholder:"Введите email",onInputChange:y=>s(y.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),c.jsx(Er,{type:"text",placeholder:"Введите имя",onInputChange:y=>l(y.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),c.jsx(Er,{type:"password",placeholder:"Введите пароль",onInputChange:y=>i(y.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color})]}),c.jsxs("div",{className:ar["button-container"],children:[c.jsxs("button",{onClick:_,className:ar["continue-button"],style:{background:e.first_color},children:["Регистрация",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:ar["create-account"],style:{color:e.text_first_color},onClick:()=>x("/sign-in"),children:"Уже есть аккаунт? Войти"})]})]})})}const YM="_container_bxems_1",QM="_greeting_bxems_22",XM="_error_bxems_54",Gn={container:YM,"auth-form":"_auth-form_bxems_12",greeting:QM,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:XM,"forgot-password":"_forgot-password_bxems_65","button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function Ek(){const{authUser:t,ga:e}=pe(),{theme:n,setElementColors:r}=p.useContext(F),[s,o]=p.useState(""),[i,a]=p.useState(""),[l,u]=p.useState(""),d=ce(),h={"auth/invalid-login-credentials":"Неверный email или пароль"};p.useEffect(()=>{r({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!1,arrowColor:n.text_first_color,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!1,footerBackground:n.background_color,activeElementIndex:3,background:n.background_color}),document.body.style.background=n.background_color},[n]);function f(m){m.preventDefault(),!s&&!i?u("введите email и пароль"):s?i||u("введите пароль"):u("введите email"),iA(e,s,i).then(()=>{const v=userCredential.user;console.log(v),o(""),a("")}).then(()=>{console.log("Profile updated successfully")}).catch(v=>{const w=h[v.code]||"Произошла ошибка";u(w)})}return p.useEffect(()=>{t&&d("/menu")},[t]),c.jsx("div",{className:Gn.container,children:c.jsxs("form",{className:Gn["auth-form"],children:[c.jsxs("div",{className:Gn.greeting,children:[c.jsx("h2",{className:Gn["greeting-title"],style:{color:n.text_first_color},children:"Представьтесь"}),c.jsx("h3",{className:Gn["greeting-text"],style:{color:n.text_first_color},children:"Работа не волк, подождет, а мы нет"})]}),c.jsxs("div",{className:Gn["input-container"],children:[c.jsx("div",{className:Gn.error,style:{color:n.gradient_first_color},children:l}),c.jsx(Er,{type:"email",placeholder:"Введите email",onInputChange:m=>o(m.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),c.jsx(Er,{type:"password",placeholder:"Введите пароль",onInputChange:m=>a(m.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),c.jsx("button",{className:Gn["forgot-password"],style:{color:n.text_first_color},onClick:()=>d("/resetpassword"),children:"Забыли пароль?"})]}),c.jsxs("div",{className:Gn["button-container"],children:[c.jsxs("button",{onClick:f,className:Gn["continue-button"],style:{background:n.first_color},children:["Войти",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:Gn["create-account"],style:{color:n.text_first_color},onClick:()=>d("/sign-up"),children:"Нет аккаунта? Регистрация"})]})]})})}var Tk={},Ik={},op={},Nk={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(Nk);var JM="Expected a function",sx=NaN,e$="[object Symbol]",t$=/^\s+|\s+$/g,n$=/^[-+]0x[0-9a-f]+$/i,r$=/^0b[01]+$/i,s$=/^0o[0-7]+$/i,o$=parseInt,i$=typeof ze=="object"&&ze&&ze.Object===Object&&ze,a$=typeof self=="object"&&self&&self.Object===Object&&self,l$=i$||a$||Function("return this")(),c$=Object.prototype,u$=c$.toString,d$=Math.max,h$=Math.min,bm=function(){return l$.Date.now()};function f$(t,e,n){var r,s,o,i,a,l,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(JM);e=ox(e)||0,Tg(n)&&(d=!!n.leading,h="maxWait"in n,o=h?d$(ox(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function m(k){var T=r,S=s;return r=s=void 0,u=k,i=t.apply(S,T),i}function v(k){return u=k,a=setTimeout(_,e),d?m(k):i}function w(k){var T=k-l,S=k-u,E=e-T;return h?h$(E,o-S):E}function x(k){var T=k-l,S=k-u;return l===void 0||T>=e||T<0||h&&S>=o}function _(){var k=bm();if(x(k))return y(k);a=setTimeout(_,w(k))}function y(k){return a=void 0,f&&r?m(k):(r=s=void 0,i)}function g(){a!==void 0&&clearTimeout(a),u=0,r=l=s=a=void 0}function C(){return a===void 0?i:y(bm())}function b(){var k=bm(),T=x(k);if(r=arguments,s=this,l=k,T){if(a===void 0)return v(l);if(h)return a=setTimeout(_,e),m(l)}return a===void 0&&(a=setTimeout(_,e)),i}return b.cancel=g,b.flush=C,b}function Tg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function p$(t){return!!t&&typeof t=="object"}function m$(t){return typeof t=="symbol"||p$(t)&&u$.call(t)==e$}function ox(t){if(typeof t=="number")return t;if(m$(t))return sx;if(Tg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Tg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(t$,"");var n=r$.test(t);return n||s$.test(t)?o$(t.slice(2),n?2:8):n$.test(t)?sx:+t}var g$=f$,jk={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)e.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(jk);var ip=jk.exports,z={},v_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(p);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(v_);Object.defineProperty(z,"__esModule",{value:!0});z.checkSpecKeys=z.checkNavigable=z.changeSlide=z.canUseDOM=z.canGoNext=void 0;z.clamp=Pk;z.extractObject=void 0;z.filterSettings=A$;z.validSettings=z.swipeStart=z.swipeMove=z.swipeEnd=z.slidesOnRight=z.slidesOnLeft=z.slideHandler=z.siblingDirection=z.safePreventDefault=z.lazyStartIndex=z.lazySlidesOnRight=z.lazySlidesOnLeft=z.lazyEndIndex=z.keyHandler=z.initializedState=z.getWidth=z.getTrackLeft=z.getTrackCSS=z.getTrackAnimateCSS=z.getTotalSlides=z.getSwipeDirection=z.getSlideCount=z.getRequiredLazySlides=z.getPreClones=z.getPostClones=z.getOnDemandLazySlides=z.getNavigableIndexes=z.getHeight=void 0;var y$=Ak(p),_$=Ak(v_);function Ak(t){return t&&t.__esModule?t:{default:t}}function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function ix(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ix(Object(n),!0).forEach(function(r){v$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ix(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v$(t,e,n){return e=w$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w$(t){var e=x$(t,"string");return Ac(e)=="symbol"?e:String(e)}function x$(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pk(t,e,n){return Math.max(e,Math.min(t,n))}var ia=z.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},Lk=z.getOnDemandLazySlides=function(e){for(var n=[],r=Rk(e),s=Ok(e),o=r;o<s;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};z.getRequiredLazySlides=function(e){for(var n=[],r=Rk(e),s=Ok(e),o=r;o<s;o++)n.push(o);return n};var Rk=z.lazyStartIndex=function(e){return e.currentSlide-C$(e)},Ok=z.lazyEndIndex=function(e){return e.currentSlide+b$(e)},C$=z.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},b$=z.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},Ig=z.getWidth=function(e){return e&&e.offsetWidth||0},Dk=z.getHeight=function(e){return e&&e.offsetHeight||0},Mk=z.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,s,o,i;return r=e.startX-e.curX,s=e.startY-e.curY,o=Math.atan2(s,r),i=Math.round(o*180/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":n===!0?i>=35&&i<=135?"up":"down":"vertical"},$k=z.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};z.extractObject=function(e,n){var r={};return n.forEach(function(s){return r[s]=e[s]}),r};z.initializedState=function(e){var n=y$.default.Children.count(e.children),r=e.listRef,s=Math.ceil(Ig(r)),o=e.trackRef&&e.trackRef.node,i=Math.ceil(Ig(o)),a;if(e.vertical)a=s;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=s/100),a=Math.ceil((s-l)/e.slidesToShow)}var u=r&&Dk(r.querySelector('[data-index="0"]')),d=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var f=e.lazyLoadedList||[],m=Lk(Ue(Ue({},e),{},{currentSlide:h,lazyLoadedList:f}));f=f.concat(m);var v={slideCount:n,slideWidth:a,listWidth:s,trackWidth:i,currentSlide:h,slideHeight:u,listHeight:d,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(v.autoplaying="playing"),v};z.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,s=e.fade,o=e.infinite,i=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,f=e.slidesToShow,m=e.useCSS,v=e.lazyLoadedList;if(n&&r)return{};var w=i,x,_,y,g={},C={},b=o?i:Pk(i,0,a-1);if(s){if(!o&&(i<0||i>=a))return{};i<0?w=i+a:i>=a&&(w=i-a),l&&v.indexOf(w)<0&&(v=v.concat(w)),g={animating:!0,currentSlide:w,lazyLoadedList:v,targetSlide:w},C={animating:!1,targetSlide:w}}else x=w,w<0?(x=w+a,o?a%h!==0&&(x=a-a%h):x=0):!$k(e)&&w>u?w=x=u:d&&w>=a?(w=o?a:a-1,x=o?0:a-1):w>=a&&(x=w-a,o?a%h!==0&&(x=0):x=a-f),!o&&w+f>=a&&(x=a-f),_=kh(Ue(Ue({},e),{},{slideIndex:w})),y=kh(Ue(Ue({},e),{},{slideIndex:x})),o||(_===y&&(w=x),_=y),l&&(v=v.concat(Lk(Ue(Ue({},e),{},{currentSlide:w})))),m?(g={animating:!0,currentSlide:x,trackStyle:Fk(Ue(Ue({},e),{},{left:_})),lazyLoadedList:v,targetSlide:b},C={animating:!1,currentSlide:x,trackStyle:bh(Ue(Ue({},e),{},{left:y})),swipeLeft:null,targetSlide:b}):g={currentSlide:x,trackStyle:bh(Ue(Ue({},e),{},{left:y})),lazyLoadedList:v,targetSlide:b};return{state:g,nextState:C}};z.changeSlide=function(e,n){var r,s,o,i,a,l=e.slidesToScroll,u=e.slidesToShow,d=e.slideCount,h=e.currentSlide,f=e.targetSlide,m=e.lazyLoad,v=e.infinite;if(i=d%l!==0,r=i?0:(d-h)%l,n.message==="previous")o=r===0?l:u-r,a=h-o,m&&!v&&(s=h-o,a=s===-1?d-1:s),v||(a=f-l);else if(n.message==="next")o=r===0?l:r,a=h+o,m&&!v&&(a=(h+l)%d+r),v||(a=f+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,v){var w=T$(Ue(Ue({},e),{},{targetSlide:a}));a>n.currentSlide&&w==="left"?a=a-d:a<n.currentSlide&&w==="right"&&(a=a+d)}}else n.message==="index"&&(a=Number(n.index));return a};z.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};z.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&ia(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};z.swipeMove=function(e,n){var r=n.scrolling,s=n.animating,o=n.vertical,i=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,d=n.edgeFriction,h=n.edgeDragged,f=n.onEdge,m=n.swiped,v=n.swiping,w=n.slideCount,x=n.slidesToScroll,_=n.infinite,y=n.touchObject,g=n.swipeEvent,C=n.listHeight,b=n.listWidth;if(!r){if(s)return ia(e);o&&i&&a&&ia(e);var k,T={},S=kh(n);y.curX=e.touches?e.touches[0].pageX:e.clientX,y.curY=e.touches?e.touches[0].pageY:e.clientY,y.swipeLength=Math.round(Math.sqrt(Math.pow(y.curX-y.startX,2)));var E=Math.round(Math.sqrt(Math.pow(y.curY-y.startY,2)));if(!a&&!v&&E>10)return{scrolling:!0};a&&(y.swipeLength=E);var I=(l?-1:1)*(y.curX>y.startX?1:-1);a&&(I=y.curY>y.startY?1:-1);var j=Math.ceil(w/x),N=Mk(n.touchObject,a),O=y.swipeLength;return _||(u===0&&(N==="right"||N==="down")||u+1>=j&&(N==="left"||N==="up")||!$k(n)&&(N==="left"||N==="up"))&&(O=y.swipeLength*d,h===!1&&f&&(f(N),T.edgeDragged=!0)),!m&&g&&(g(N),T.swiped=!0),o?k=S+O*(C/b)*I:l?k=S-O*I:k=S+O*I,a&&(k=S+O*I),T=Ue(Ue({},T),{},{touchObject:y,swipeLeft:k,trackStyle:bh(Ue(Ue({},n),{},{left:k}))}),Math.abs(y.curX-y.startX)<Math.abs(y.curY-y.startY)*.8||y.swipeLength>10&&(T.swiping=!0,ia(e)),T}};z.swipeEnd=function(e,n){var r=n.dragging,s=n.swipe,o=n.touchObject,i=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,d=n.swipeToSlide,h=n.scrolling,f=n.onSwipe,m=n.targetSlide,v=n.currentSlide,w=n.infinite;if(!r)return s&&ia(e),{};var x=l?u/a:i/a,_=Mk(o,l),y={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!o.swipeLength)return y;if(o.swipeLength>x){ia(e),f&&f(_);var g,C,b=w?v:m;switch(_){case"left":case"up":C=b+lx(n),g=d?ax(n,C):C,y.currentDirection=0;break;case"right":case"down":C=b-lx(n),g=d?ax(n,C):C,y.currentDirection=1;break;default:g=b}y.triggerSlideHandler=g}else{var k=kh(n);y.trackStyle=Fk(Ue(Ue({},n),{},{left:k}))}return y};var k$=z.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,s=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=s+e.slidesToScroll,s+=Math.min(e.slidesToScroll,e.slidesToShow);return o},ax=z.checkNavigable=function(e,n){var r=k$(e),s=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=s;break}s=r[o]}return n},lx=z.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,s=e.listRef,o=s.querySelectorAll&&s.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(e.vertical){if(l.offsetTop+Dk(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+Ig(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var i=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-i)||1;return a}else return e.slidesToScroll},w_=z.checkSpecKeys=function(e,n){return n.reduce(function(r,s){return r&&e.hasOwnProperty(s)},!0)?null:console.error("Keys Missing:",e)},bh=z.getTrackCSS=function(e){w_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,s=e.slideCount+2*e.slidesToShow;e.vertical?r=s*e.slideHeight:n=E$(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=Ue(Ue({},o),{},{WebkitTransform:i,transform:a,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},Fk=z.getTrackAnimateCSS=function(e){w_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=bh(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},kh=z.getTrackLeft=function(e){if(e.unslick)return 0;w_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,s=e.infinite,o=e.centerMode,i=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,m=e.fade,v=e.vertical,w=0,x,_,y=0;if(m||e.slideCount===1)return 0;var g=0;if(s?(g=-kd(e),i%l!==0&&n+l>i&&(g=-(n>i?a-(n-i):i%l)),o&&(g+=parseInt(a/2))):(i%l!==0&&n+l>i&&(g=a-i%l),o&&(g=parseInt(a/2))),w=g*u,y=g*f,v?x=n*f*-1+y:x=n*u*-1+w,h===!0){var C,b=r&&r.node;if(C=n+kd(e),_=b&&b.childNodes[C],x=_?_.offsetLeft*-1:0,o===!0){C=s?n+kd(e):n,_=b&&b.children[C],x=0;for(var k=0;k<C;k++)x-=b&&b.children[k]&&b.children[k].offsetWidth;x-=parseInt(e.centerPadding),x+=_&&(d-_.offsetWidth)/2}}return x},kd=z.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},S$=z.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},E$=z.getTotalSlides=function(e){return e.slideCount===1?1:kd(e)+e.slideCount+S$(e)},T$=z.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+I$(e)?"left":"right":e.targetSlide<e.currentSlide-N$(e)?"right":"left"},I$=z.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,o=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),s&&n%2===0&&(i+=1),i}return s?0:n-1},N$=z.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,o=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),!s&&n%2===0&&(i+=1),i}return s?n-1:0};z.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var j$=z.validSettings=Object.keys(_$.default);function A$(t){return j$.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.Track=void 0;var xs=Bk(p),km=Bk(ip),Sm=z;function Bk(t){return t&&t.__esModule?t:{default:t}}function Ea(t){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(t)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ng.apply(this,arguments)}function P$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vk(r.key),r)}}function R$(t,e,n){return e&&L$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function O$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jg(t,e)}function jg(t,e){return jg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},jg(t,e)}function D$(t){var e=Uk();return function(){var r=Sh(t),s;if(e){var o=Sh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return M$(this,s)}}function M$(t,e){if(e&&(Ea(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ag(t)}function Ag(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uk=function(){return!!t})()}function Sh(t){return Sh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sh(t)}function cx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(n),!0).forEach(function(r){Pg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pg(t,e,n){return e=Vk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vk(t){var e=$$(t,"string");return Ea(e)=="symbol"?e:String(e)}function $$(t,e){if(Ea(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ea(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Em=function(e){var n,r,s,o,i;e.rtl?i=e.slideCount-1-e.index:i=e.index,s=i<0||i>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(i-e.currentSlide)%e.slideCount===0,i>e.currentSlide-o-1&&i<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=i&&i<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=i===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":s,"slick-current":l}},F$=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Tm=function(e,n){return e.key||n},B$=function(e){var n,r=[],s=[],o=[],i=xs.default.Children.count(e.children),a=(0,Sm.lazyStartIndex)(e),l=(0,Sm.lazyEndIndex)(e);return xs.default.Children.forEach(e.children,function(u,d){var h,f={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=u:h=xs.default.createElement("div",null);var m=F$(an(an({},e),{},{index:d})),v=h.props.className||"",w=Em(an(an({},e),{},{index:d}));if(r.push(xs.default.cloneElement(h,{key:"original"+Tm(h,d),"data-index":d,className:(0,km.default)(w,v),tabIndex:"-1","aria-hidden":!w["slick-active"],style:an(an({outline:"none"},h.props.style||{}),m),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&e.fade===!1){var x=i-d;x<=(0,Sm.getPreClones)(e)&&(n=-x,n>=a&&(h=u),w=Em(an(an({},e),{},{index:n})),s.push(xs.default.cloneElement(h,{key:"precloned"+Tm(h,n),"data-index":n,tabIndex:"-1",className:(0,km.default)(w,v),"aria-hidden":!w["slick-active"],style:an(an({},h.props.style||{}),m),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(f)}}))),n=i+d,n<l&&(h=u),w=Em(an(an({},e),{},{index:n})),o.push(xs.default.cloneElement(h,{key:"postcloned"+Tm(h,n),"data-index":n,tabIndex:"-1",className:(0,km.default)(w,v),"aria-hidden":!w["slick-active"],style:an(an({},h.props.style||{}),m),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(f)}}))}}),e.rtl?s.concat(r,o).reverse():s.concat(r,o)};ap.Track=function(t){O$(n,t);var e=D$(n);function n(){var r;P$(this,n);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o)),Pg(Ag(r),"node",null),Pg(Ag(r),"handleRef",function(a){r.node=a}),r}return R$(n,[{key:"render",value:function(){var s=B$(this.props),o=this.props,i=o.onMouseEnter,a=o.onMouseOver,l=o.onMouseLeave,u={onMouseEnter:i,onMouseOver:a,onMouseLeave:l};return xs.default.createElement("div",Ng({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),s)}}]),n}(xs.default.PureComponent);var lp={};function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}Object.defineProperty(lp,"__esModule",{value:!0});lp.Dots=void 0;var Gu=zk(p),U$=zk(ip),ux=z;function zk(t){return t&&t.__esModule?t:{default:t}}function dx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function V$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dx(Object(n),!0).forEach(function(r){z$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z$(t,e,n){return e=Hk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hk(r.key),r)}}function W$(t,e,n){return e&&q$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hk(t){var e=G$(t,"string");return Ta(e)=="symbol"?e:String(e)}function G$(t,e){if(Ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function K$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lg(t,e)}function Lg(t,e){return Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Lg(t,e)}function Z$(t){var e=qk();return function(){var r=Eh(t),s;if(e){var o=Eh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return Y$(this,s)}}function Y$(t,e){if(e&&(Ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q$(t)}function Q$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qk=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eh(t)}var X$=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};lp.Dots=function(t){K$(n,t);var e=Z$(n);function n(){return H$(this,n),e.apply(this,arguments)}return W$(n,[{key:"clickHandler",value:function(s,o){o.preventDefault(),this.props.clickHandler(s)}},{key:"render",value:function(){for(var s=this.props,o=s.onMouseEnter,i=s.onMouseOver,a=s.onMouseLeave,l=s.infinite,u=s.slidesToScroll,d=s.slidesToShow,h=s.slideCount,f=s.currentSlide,m=X$({slideCount:h,slidesToScroll:u,slidesToShow:d,infinite:l}),v={onMouseEnter:o,onMouseOver:i,onMouseLeave:a},w=[],x=0;x<m;x++){var _=(x+1)*u-1,y=l?_:(0,ux.clamp)(_,0,h-1),g=y-(u-1),C=l?g:(0,ux.clamp)(g,0,h-1),b=(0,U$.default)({"slick-active":l?f>=C&&f<=y:f===C}),k={message:"dots",index:x,slidesToScroll:u,currentSlide:f},T=this.clickHandler.bind(this,k);w=w.concat(Gu.default.createElement("li",{key:x,className:b},Gu.default.cloneElement(this.props.customPaging(x),{onClick:T})))}return Gu.default.cloneElement(this.props.appendDots(w),V$({className:this.props.dotsClass},v))}}]),n}(Gu.default.PureComponent);var Ia={};function Na(t){"@babel/helpers - typeof";return Na=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Na(t)}Object.defineProperty(Ia,"__esModule",{value:!0});Ia.PrevArrow=Ia.NextArrow=void 0;var aa=Gk(p),Wk=Gk(ip),J$=z;function Gk(t){return t&&t.__esModule?t:{default:t}}function Th(){return Th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Th.apply(this,arguments)}function hx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hx(Object(n),!0).forEach(function(r){eF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eF(t,e,n){return e=Yk(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yk(r.key),r)}}function Zk(t,e,n){return e&&tF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yk(t){var e=nF(t,"string");return Na(e)=="symbol"?e:String(e)}function nF(t,e){if(Na(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Na(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qk(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rg(t,e)}function Rg(t,e){return Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Rg(t,e)}function Xk(t){var e=Jk();return function(){var r=Nh(t),s;if(e){var o=Nh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return rF(this,s)}}function rF(t,e){if(e&&(Na(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sF(t)}function sF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jk=function(){return!!t})()}function Nh(t){return Nh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nh(t)}Ia.PrevArrow=function(t){Qk(n,t);var e=Xk(n);function n(){return Kk(this,n),e.apply(this,arguments)}return Zk(n,[{key:"clickHandler",value:function(s,o){o&&o.preventDefault(),this.props.clickHandler(s,o)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(s["slick-disabled"]=!0,o=null);var i={key:"0","data-role":"none",className:(0,Wk.default)(s),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=aa.default.cloneElement(this.props.prevArrow,Ih(Ih({},i),a)):l=aa.default.createElement("button",Th({key:"0",type:"button"},i)," ","Previous"),l}}]),n}(aa.default.PureComponent);Ia.NextArrow=function(t){Qk(n,t);var e=Xk(n);function n(){return Kk(this,n),e.apply(this,arguments)}return Zk(n,[{key:"clickHandler",value:function(s,o){o&&o.preventDefault(),this.props.clickHandler(s,o)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,J$.canGoNext)(this.props)||(s["slick-disabled"]=!0,o=null);var i={key:"1","data-role":"none",className:(0,Wk.default)(s),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=aa.default.cloneElement(this.props.nextArrow,Ih(Ih({},i),a)):l=aa.default.createElement("button",Th({key:"1",type:"button"},i)," ","Next"),l}}]),n}(aa.default.PureComponent);var eS=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(s,o){return s[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},e.prototype.set=function(n,r){var s=t(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,s=t(r,n);~s&&r.splice(s,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,o=this.__entries__;s<o.length;s++){var i=o[s];n.call(r,i[1],i[0])}},e}()}(),Og=typeof window<"u"&&typeof document<"u"&&window.document===document,jh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),oF=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(jh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),iF=2;function aF(t,e){var n=!1,r=!1,s=0;function o(){n&&(n=!1,t()),r&&a()}function i(){oF(o)}function a(){var l=Date.now();if(n){if(l-s<iF)return;r=!0}else n=!0,r=!1,setTimeout(i,e);s=l}return a}var lF=20,cF=["top","right","bottom","left","width","height","size","weight"],uF=typeof MutationObserver<"u",dF=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=aF(this.refresh.bind(this),lF)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Og||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),uF?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Og||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,s=cF.some(function(o){return!!~r.indexOf(o)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),tS=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},ja=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||jh},nS=cp(0,0,0,0);function Ah(t){return parseFloat(t)||0}function fx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,s){var o=t["border-"+s+"-width"];return r+Ah(o)},0)}function hF(t){for(var e=["top","right","bottom","left"],n={},r=0,s=e;r<s.length;r++){var o=s[r],i=t["padding-"+o];n[o]=Ah(i)}return n}function fF(t){var e=t.getBBox();return cp(0,0,e.width,e.height)}function pF(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return nS;var r=ja(t).getComputedStyle(t),s=hF(r),o=s.left+s.right,i=s.top+s.bottom,a=Ah(r.width),l=Ah(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=fx(r,"left","right")+o),Math.round(l+i)!==n&&(l-=fx(r,"top","bottom")+i)),!gF(t)){var u=Math.round(a+o)-e,d=Math.round(l+i)-n;Math.abs(u)!==1&&(a-=u),Math.abs(d)!==1&&(l-=d)}return cp(s.left,s.top,a,l)}var mF=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ja(t).SVGGraphicsElement}:function(t){return t instanceof ja(t).SVGElement&&typeof t.getBBox=="function"}}();function gF(t){return t===ja(t).document.documentElement}function yF(t){return Og?mF(t)?fF(t):pF(t):nS}function _F(t){var e=t.x,n=t.y,r=t.width,s=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,i=Object.create(o.prototype);return tS(i,{x:e,y:n,width:r,height:s,top:n,right:e+r,bottom:s+n,left:e}),i}function cp(t,e,n,r){return{x:t,y:e,width:n,height:r}}var vF=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=cp(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=yF(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),wF=function(){function t(e,n){var r=_F(n);tS(this,{target:e,contentRect:r})}return t}(),xF=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new eS,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ja(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new vF(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ja(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new wF(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),rS=typeof WeakMap<"u"?new WeakMap:new eS,sS=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=dF.getInstance(),r=new xF(e,n,this);rS.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){sS.prototype[t]=function(){var e;return(e=rS.get(this))[t].apply(e,arguments)}});var CF=function(){return typeof jh.ResizeObserver<"u"?jh.ResizeObserver:sS}();const bF=Object.freeze(Object.defineProperty({__proto__:null,default:CF},Symbol.toStringTag,{value:"Module"})),kF=d6(bF);Object.defineProperty(op,"__esModule",{value:!0});op.InnerSlider=void 0;var Xt=lu(p),SF=lu(Nk),EF=lu(g$),TF=lu(ip),He=z,IF=ap,NF=lp,px=Ia,jF=lu(kF);function lu(t){return t&&t.__esModule?t:{default:t}}function ni(t){"@babel/helpers - typeof";return ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ni(t)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(this,arguments)}function AF(t,e){if(t==null)return{};var n=PF(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function mx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mx(Object(n),!0).forEach(function(r){ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iS(r.key),r)}}function OF(t,e,n){return e&&RF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dg(t,e)}function Dg(t,e){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Dg(t,e)}function MF(t){var e=oS();return function(){var r=Lh(t),s;if(e){var o=Lh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return $F(this,s)}}function $F(t,e){if(e&&(ni(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return me(t)}function me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oS(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oS=function(){return!!t})()}function Lh(t){return Lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lh(t)}function ge(t,e,n){return e=iS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iS(t){var e=FF(t,"string");return ni(e)=="symbol"?e:String(e)}function FF(t,e){if(ni(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ni(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}op.InnerSlider=function(t){DF(n,t);var e=MF(n);function n(r){var s;LF(this,n),s=e.call(this,r),ge(me(s),"listRefHandler",function(i){return s.list=i}),ge(me(s),"trackRefHandler",function(i){return s.track=i}),ge(me(s),"adaptHeight",function(){if(s.props.adaptiveHeight&&s.list){var i=s.list.querySelector('[data-index="'.concat(s.state.currentSlide,'"]'));s.list.style.height=(0,He.getHeight)(i)+"px"}}),ge(me(s),"componentDidMount",function(){if(s.props.onInit&&s.props.onInit(),s.props.lazyLoad){var i=(0,He.getOnDemandLazySlides)(re(re({},s.props),s.state));i.length>0&&(s.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(i)}}),s.props.onLazyLoad&&s.props.onLazyLoad(i))}var a=re({listRef:s.list,trackRef:s.track},s.props);s.updateState(a,!0,function(){s.adaptHeight(),s.props.autoplay&&s.autoPlay("update")}),s.props.lazyLoad==="progressive"&&(s.lazyLoadTimer=setInterval(s.progressiveLazyLoad,1e3)),s.ro=new jF.default(function(){s.state.animating?(s.onWindowResized(!1),s.callbackTimers.push(setTimeout(function(){return s.onWindowResized()},s.props.speed))):s.onWindowResized()}),s.ro.observe(s.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=s.props.pauseOnFocus?s.onSlideFocus:null,l.onblur=s.props.pauseOnFocus?s.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",s.onWindowResized):window.attachEvent("onresize",s.onWindowResized)}),ge(me(s),"componentWillUnmount",function(){s.animationEndCallback&&clearTimeout(s.animationEndCallback),s.lazyLoadTimer&&clearInterval(s.lazyLoadTimer),s.callbackTimers.length&&(s.callbackTimers.forEach(function(i){return clearTimeout(i)}),s.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",s.onWindowResized):window.detachEvent("onresize",s.onWindowResized),s.autoplayTimer&&clearInterval(s.autoplayTimer),s.ro.disconnect()}),ge(me(s),"componentDidUpdate",function(i){if(s.checkImagesLoad(),s.props.onReInit&&s.props.onReInit(),s.props.lazyLoad){var a=(0,He.getOnDemandLazySlides)(re(re({},s.props),s.state));a.length>0&&(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),s.props.onLazyLoad&&s.props.onLazyLoad(a))}s.adaptHeight();var l=re(re({listRef:s.list,trackRef:s.track},s.props),s.state),u=s.didPropsChange(i);u&&s.updateState(l,u,function(){s.state.currentSlide>=Xt.default.Children.count(s.props.children)&&s.changeSlide({message:"index",index:Xt.default.Children.count(s.props.children)-s.props.slidesToShow,currentSlide:s.state.currentSlide}),s.props.autoplay?s.autoPlay("update"):s.pause("paused")})}),ge(me(s),"onWindowResized",function(i){s.debouncedResize&&s.debouncedResize.cancel(),s.debouncedResize=(0,EF.default)(function(){return s.resizeWindow(i)},50),s.debouncedResize()}),ge(me(s),"resizeWindow",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(s.track&&s.track.node);if(a){var l=re(re({listRef:s.list,trackRef:s.track},s.props),s.state);s.updateState(l,i,function(){s.props.autoplay?s.autoPlay("update"):s.pause("paused")}),s.setState({animating:!1}),clearTimeout(s.animationEndCallback),delete s.animationEndCallback}}),ge(me(s),"updateState",function(i,a,l){var u=(0,He.initializedState)(i);i=re(re(re({},i),u),{},{slideIndex:u.currentSlide});var d=(0,He.getTrackLeft)(i);i=re(re({},i),{},{left:d});var h=(0,He.getTrackCSS)(i);(a||Xt.default.Children.count(s.props.children)!==Xt.default.Children.count(i.children))&&(u.trackStyle=h),s.setState(u,l)}),ge(me(s),"ssrInit",function(){if(s.props.variableWidth){var i=0,a=0,l=[],u=(0,He.getPreClones)(re(re(re({},s.props),s.state),{},{slideCount:s.props.children.length})),d=(0,He.getPostClones)(re(re(re({},s.props),s.state),{},{slideCount:s.props.children.length}));s.props.children.forEach(function(T){l.push(T.props.style.width),i+=T.props.style.width});for(var h=0;h<u;h++)a+=l[l.length-1-h],i+=l[l.length-1-h];for(var f=0;f<d;f++)i+=l[f];for(var m=0;m<s.state.currentSlide;m++)a+=l[m];var v={width:i+"px",left:-a+"px"};if(s.props.centerMode){var w="".concat(l[s.state.currentSlide],"px");v.left="calc(".concat(v.left," + (100% - ").concat(w,") / 2 ) ")}return{trackStyle:v}}var x=Xt.default.Children.count(s.props.children),_=re(re(re({},s.props),s.state),{},{slideCount:x}),y=(0,He.getPreClones)(_)+(0,He.getPostClones)(_)+x,g=100/s.props.slidesToShow*y,C=100/y,b=-C*((0,He.getPreClones)(_)+s.state.currentSlide)*g/100;s.props.centerMode&&(b+=(100-C*g/100)/2);var k={width:g+"%",left:b+"%"};return{slideWidth:C+"%",trackStyle:k}}),ge(me(s),"checkImagesLoad",function(){var i=s.list&&s.list.querySelectorAll&&s.list.querySelectorAll(".slick-slide img")||[],a=i.length,l=0;Array.prototype.forEach.call(i,function(u){var d=function(){return++l&&l>=a&&s.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(f){h(f),u.parentNode.focus()}}u.onload||(s.props.lazyLoad?u.onload=function(){s.adaptHeight(),s.callbackTimers.push(setTimeout(s.onWindowResized,s.props.speed))}:(u.onload=d,u.onerror=function(){d(),s.props.onLazyLoadError&&s.props.onLazyLoadError()}))})}),ge(me(s),"progressiveLazyLoad",function(){for(var i=[],a=re(re({},s.props),s.state),l=s.state.currentSlide;l<s.state.slideCount+(0,He.getPostClones)(a);l++)if(s.state.lazyLoadedList.indexOf(l)<0){i.push(l);break}for(var u=s.state.currentSlide-1;u>=-(0,He.getPreClones)(a);u--)if(s.state.lazyLoadedList.indexOf(u)<0){i.push(u);break}i.length>0?(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(i)}}),s.props.onLazyLoad&&s.props.onLazyLoad(i)):s.lazyLoadTimer&&(clearInterval(s.lazyLoadTimer),delete s.lazyLoadTimer)}),ge(me(s),"slideHandler",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=s.props,u=l.asNavFor,d=l.beforeChange,h=l.onLazyLoad,f=l.speed,m=l.afterChange,v=s.state.currentSlide,w=(0,He.slideHandler)(re(re(re({index:i},s.props),s.state),{},{trackRef:s.track,useCSS:s.props.useCSS&&!a})),x=w.state,_=w.nextState;if(x){d&&d(v,x.currentSlide);var y=x.lazyLoadedList.filter(function(g){return s.state.lazyLoadedList.indexOf(g)<0});h&&y.length>0&&h(y),!s.props.waitForAnimate&&s.animationEndCallback&&(clearTimeout(s.animationEndCallback),m&&m(v),delete s.animationEndCallback),s.setState(x,function(){u&&s.asNavForIndex!==i&&(s.asNavForIndex=i,u.innerSlider.slideHandler(i)),_&&(s.animationEndCallback=setTimeout(function(){var g=_.animating,C=AF(_,["animating"]);s.setState(C,function(){s.callbackTimers.push(setTimeout(function(){return s.setState({animating:g})},10)),m&&m(x.currentSlide),delete s.animationEndCallback})},f))})}}),ge(me(s),"changeSlide",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=re(re({},s.props),s.state),u=(0,He.changeSlide)(l,i);if(!(u!==0&&!u)&&(a===!0?s.slideHandler(u,a):s.slideHandler(u),s.props.autoplay&&s.autoPlay("update"),s.props.focusOnSelect)){var d=s.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),ge(me(s),"clickHandler",function(i){s.clickable===!1&&(i.stopPropagation(),i.preventDefault()),s.clickable=!0}),ge(me(s),"keyHandler",function(i){var a=(0,He.keyHandler)(i,s.props.accessibility,s.props.rtl);a!==""&&s.changeSlide({message:a})}),ge(me(s),"selectHandler",function(i){s.changeSlide(i)}),ge(me(s),"disableBodyScroll",function(){var i=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=i}),ge(me(s),"enableBodyScroll",function(){window.ontouchmove=null}),ge(me(s),"swipeStart",function(i){s.props.verticalSwiping&&s.disableBodyScroll();var a=(0,He.swipeStart)(i,s.props.swipe,s.props.draggable);a!==""&&s.setState(a)}),ge(me(s),"swipeMove",function(i){var a=(0,He.swipeMove)(i,re(re(re({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));a&&(a.swiping&&(s.clickable=!1),s.setState(a))}),ge(me(s),"swipeEnd",function(i){var a=(0,He.swipeEnd)(i,re(re(re({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,s.setState(a),l!==void 0&&(s.slideHandler(l),s.props.verticalSwiping&&s.enableBodyScroll())}}),ge(me(s),"touchEnd",function(i){s.swipeEnd(i),s.clickable=!0}),ge(me(s),"slickPrev",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"previous"})},0))}),ge(me(s),"slickNext",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"next"})},0))}),ge(me(s),"slickGoTo",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i=Number(i),isNaN(i))return"";s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"index",index:i,currentSlide:s.state.currentSlide},a)},0))}),ge(me(s),"play",function(){var i;if(s.props.rtl)i=s.state.currentSlide-s.props.slidesToScroll;else if((0,He.canGoNext)(re(re({},s.props),s.state)))i=s.state.currentSlide+s.props.slidesToScroll;else return!1;s.slideHandler(i)}),ge(me(s),"autoPlay",function(i){s.autoplayTimer&&clearInterval(s.autoplayTimer);var a=s.state.autoplaying;if(i==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(i==="leave"){if(a==="paused"||a==="focused")return}else if(i==="blur"&&(a==="paused"||a==="hovered"))return;s.autoplayTimer=setInterval(s.play,s.props.autoplaySpeed+50),s.setState({autoplaying:"playing"})}),ge(me(s),"pause",function(i){s.autoplayTimer&&(clearInterval(s.autoplayTimer),s.autoplayTimer=null);var a=s.state.autoplaying;i==="paused"?s.setState({autoplaying:"paused"}):i==="focused"?(a==="hovered"||a==="playing")&&s.setState({autoplaying:"focused"}):a==="playing"&&s.setState({autoplaying:"hovered"})}),ge(me(s),"onDotsOver",function(){return s.props.autoplay&&s.pause("hovered")}),ge(me(s),"onDotsLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),ge(me(s),"onTrackOver",function(){return s.props.autoplay&&s.pause("hovered")}),ge(me(s),"onTrackLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),ge(me(s),"onSlideFocus",function(){return s.props.autoplay&&s.pause("focused")}),ge(me(s),"onSlideBlur",function(){return s.props.autoplay&&s.state.autoplaying==="focused"&&s.autoPlay("blur")}),ge(me(s),"render",function(){var i=(0,TF.default)("slick-slider",s.props.className,{"slick-vertical":s.props.vertical,"slick-initialized":!0}),a=re(re({},s.props),s.state),l=(0,He.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=s.props.pauseOnHover;l=re(re({},l),{},{onMouseEnter:u?s.onTrackOver:null,onMouseLeave:u?s.onTrackLeave:null,onMouseOver:u?s.onTrackOver:null,focusOnSelect:s.props.focusOnSelect&&s.clickable?s.selectHandler:null});var d;if(s.props.dots===!0&&s.state.slideCount>=s.props.slidesToShow){var h=(0,He.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=s.props.pauseOnDotsHover;h=re(re({},h),{},{clickHandler:s.changeSlide,onMouseEnter:f?s.onDotsLeave:null,onMouseOver:f?s.onDotsOver:null,onMouseLeave:f?s.onDotsLeave:null}),d=Xt.default.createElement(NF.Dots,h)}var m,v,w=(0,He.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);w.clickHandler=s.changeSlide,s.props.arrows&&(m=Xt.default.createElement(px.PrevArrow,w),v=Xt.default.createElement(px.NextArrow,w));var x=null;s.props.vertical&&(x={height:s.state.listHeight});var _=null;s.props.vertical===!1?s.props.centerMode===!0&&(_={padding:"0px "+s.props.centerPadding}):s.props.centerMode===!0&&(_={padding:s.props.centerPadding+" 0px"});var y=re(re({},x),_),g=s.props.touchMove,C={className:"slick-list",style:y,onClick:s.clickHandler,onMouseDown:g?s.swipeStart:null,onMouseMove:s.state.dragging&&g?s.swipeMove:null,onMouseUp:g?s.swipeEnd:null,onMouseLeave:s.state.dragging&&g?s.swipeEnd:null,onTouchStart:g?s.swipeStart:null,onTouchMove:s.state.dragging&&g?s.swipeMove:null,onTouchEnd:g?s.touchEnd:null,onTouchCancel:s.state.dragging&&g?s.swipeEnd:null,onKeyDown:s.props.accessibility?s.keyHandler:null},b={className:i,dir:"ltr",style:s.props.style};return s.props.unslick&&(C={className:"slick-list"},b={className:i}),Xt.default.createElement("div",b,s.props.unslick?"":m,Xt.default.createElement("div",Ph({ref:s.listRefHandler},C),Xt.default.createElement(IF.Track,Ph({ref:s.trackRefHandler},l),s.props.children)),s.props.unslick?"":v,s.props.unslick?"":d)}),s.list=null,s.track=null,s.state=re(re({},SF.default),{},{currentSlide:s.props.initialSlide,targetSlide:s.props.initialSlide?s.props.initialSlide:0,slideCount:Xt.default.Children.count(s.props.children)}),s.callbackTimers=[],s.clickable=!0,s.debouncedResize=null;var o=s.ssrInit();return s.state=re(re({},s.state),o),s}return OF(n,[{key:"didPropsChange",value:function(s){for(var o=!1,i=0,a=Object.keys(this.props);i<a.length;i++){var l=a[i];if(!s.hasOwnProperty(l)){o=!0;break}if(!(ni(s[l])==="object"||typeof s[l]=="function"||isNaN(s[l]))&&s[l]!==this.props[l]){o=!0;break}}return o||Xt.default.Children.count(this.props.children)!==Xt.default.Children.count(s.children)}}]),n}(Xt.default.Component);var BF=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},UF=BF,VF=UF,zF=function(t){var e=/[height|width]$/;return e.test(t)},gx=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,s){var o=t[r];r=VF(r),zF(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",s<n.length-1&&(e+=" and ")}),e},HF=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=gx(n),r<t.length-1&&(e+=", ")}),e):gx(t)},qF=HF,Im,yx;function WF(){if(yx)return Im;yx=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Im=t,Im}var Nm,_x;function aS(){if(_x)return Nm;_x=1;function t(r,s){var o=0,i=r.length,a;for(o;o<i&&(a=s(r[o],o),a!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Nm={isFunction:n,isArray:e,each:t},Nm}var jm,vx;function GF(){if(vx)return jm;vx=1;var t=WF(),e=aS().each;function n(r,s){this.query=r,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(i){o.mql=i.currentTarget||i,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var s=new t(r);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(r){var s=this.handlers;e(s,function(o,i){if(o.equals(r))return o.destroy(),!s.splice(i,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(s){s[r]()})}},jm=n,jm}var Am,wx;function KF(){if(wx)return Am;wx=1;var t=GF(),e=aS(),n=e.each,r=e.isFunction,s=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(i,a,l){var u=this.queries,d=l&&this.browserIsIncapable;return u[i]||(u[i]=new t(i,d)),r(a)&&(a={match:a}),s(a)||(a=[a]),n(a,function(h){r(h)&&(h={match:h}),u[i].addHandler(h)}),this},unregister:function(i,a){var l=this.queries[i];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[i])),this}},Am=o,Am}var Pm,xx;function ZF(){if(xx)return Pm;xx=1;var t=KF();return Pm=new t,Pm}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(p),n=op,r=i(qF),s=i(v_),o=z;function i(E){return E&&E.__esModule?E:{default:E}}function a(E){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},a(E)}function l(){return l=Object.assign?Object.assign.bind():function(E){for(var I=1;I<arguments.length;I++){var j=arguments[I];for(var N in j)Object.prototype.hasOwnProperty.call(j,N)&&(E[N]=j[N])}return E},l.apply(this,arguments)}function u(E,I){var j=Object.keys(E);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);I&&(N=N.filter(function(O){return Object.getOwnPropertyDescriptor(E,O).enumerable})),j.push.apply(j,N)}return j}function d(E){for(var I=1;I<arguments.length;I++){var j=arguments[I]!=null?arguments[I]:{};I%2?u(Object(j),!0).forEach(function(N){b(E,N,j[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(j)):u(Object(j)).forEach(function(N){Object.defineProperty(E,N,Object.getOwnPropertyDescriptor(j,N))})}return E}function h(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")}function f(E,I){for(var j=0;j<I.length;j++){var N=I[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,k(N.key),N)}}function m(E,I,j){return I&&f(E.prototype,I),Object.defineProperty(E,"prototype",{writable:!1}),E}function v(E,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),I&&w(E,I)}function w(E,I){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,O){return N.__proto__=O,N},w(E,I)}function x(E){var I=g();return function(){var N=C(E),O;if(I){var A=C(this).constructor;O=Reflect.construct(N,arguments,A)}else O=N.apply(this,arguments);return _(this,O)}}function _(E,I){if(I&&(a(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(E)}function y(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function g(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!E})()}function C(E){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},C(E)}function b(E,I,j){return I=k(I),I in E?Object.defineProperty(E,I,{value:j,enumerable:!0,configurable:!0,writable:!0}):E[I]=j,E}function k(E){var I=T(E,"string");return a(I)=="symbol"?I:String(I)}function T(E,I){if(a(E)!="object"||!E)return E;var j=E[Symbol.toPrimitive];if(j!==void 0){var N=j.call(E,I);if(a(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(E)}var S=(0,o.canUseDOM)()&&ZF();t.default=function(E){v(j,E);var I=x(j);function j(N){var O;return h(this,j),O=I.call(this,N),b(y(O),"innerSliderRefHandler",function(A){return O.innerSlider=A}),b(y(O),"slickPrev",function(){return O.innerSlider.slickPrev()}),b(y(O),"slickNext",function(){return O.innerSlider.slickNext()}),b(y(O),"slickGoTo",function(A){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return O.innerSlider.slickGoTo(A,R)}),b(y(O),"slickPause",function(){return O.innerSlider.pause("paused")}),b(y(O),"slickPlay",function(){return O.innerSlider.autoPlay("play")}),O.state={breakpoint:null},O._responsiveMediaHandlers=[],O}return m(j,[{key:"media",value:function(O,A){S.register(O,A),this._responsiveMediaHandlers.push({query:O,handler:A})}},{key:"componentDidMount",value:function(){var O=this;if(this.props.responsive){var A=this.props.responsive.map(function(D){return D.breakpoint});A.sort(function(D,L){return D-L}),A.forEach(function(D,L){var P;L===0?P=(0,r.default)({minWidth:0,maxWidth:D}):P=(0,r.default)({minWidth:A[L-1]+1,maxWidth:D}),(0,o.canUseDOM)()&&O.media(P,function(){O.setState({breakpoint:D})})});var R=(0,r.default)({minWidth:A.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(R,function(){O.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(O){S.unregister(O.query,O.handler)})}},{key:"render",value:function(){var O=this,A,R;this.state.breakpoint?(R=this.props.responsive.filter(function(Pe){return Pe.breakpoint===O.state.breakpoint}),A=R[0].settings==="unslick"?"unslick":d(d(d({},s.default),this.props),R[0].settings)):A=d(d({},s.default),this.props),A.centerMode&&(A.slidesToScroll>1,A.slidesToScroll=1),A.fade&&(A.slidesToShow>1,A.slidesToScroll>1,A.slidesToShow=1,A.slidesToScroll=1);var D=e.default.Children.toArray(this.props.children);D=D.filter(function(Pe){return typeof Pe=="string"?!!Pe.trim():!!Pe}),A.variableWidth&&(A.rows>1||A.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),A.variableWidth=!1);for(var L=[],P=null,M=0;M<D.length;M+=A.rows*A.slidesPerRow){for(var B=[],W=M;W<M+A.rows*A.slidesPerRow;W+=A.slidesPerRow){for(var te=[],ne=W;ne<W+A.slidesPerRow&&(A.variableWidth&&D[ne].props.style&&(P=D[ne].props.style.width),!(ne>=D.length));ne+=1)te.push(e.default.cloneElement(D[ne],{key:100*M+10*W+ne,tabIndex:-1,style:{width:"".concat(100/A.slidesPerRow,"%"),display:"inline-block"}}));B.push(e.default.createElement("div",{key:10*M+W},te))}A.variableWidth?L.push(e.default.createElement("div",{key:M,style:{width:P}},B)):L.push(e.default.createElement("div",{key:M},B))}if(A==="unslick"){var he="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:he},D)}else L.length<=A.slidesToShow&&!A.infinite&&(A.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(A)),L)}}]),j}(e.default.Component)})(Ik);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Ik);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(Tk);const YF=Gh(Tk);function QF(t){const{className:e,style:n,onClick:r}=t;return c.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function XF(t){const{className:e,style:n,onClick:r}=t;return c.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function JF(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState(0);p.useEffect(()=>{const i=document.querySelector(".slick-active"),a=parseInt(i.getAttribute("data-index")),l=["#C3F82B","#FF4365","#0040F9"],u={0:{iconColor:"#0A0B10",titleColor:"#0A0B10",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},1:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},2:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0}};document.body.style.background=l[a],document.body.style.transition="0.5s",n(u[a])},[r]);const o={customPaging:function(i){return c.jsx("a",{children:c.jsx("div",{className:"dots"})})},dots:!0,dotsClass:"slick-dots slick-thumb",infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:c.jsx(QF,{}),prevArrow:c.jsx(XF,{}),afterChange:i=>{s(i)}};return c.jsx("div",{className:"slider_container",children:c.jsxs(YF,{...o,children:[c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"1.png"})}),c.jsx("h2",{className:"title black",children:"Играй. Общайся. Развивайся."}),c.jsx("h3",{className:"text black",children:"Выигрывай в гонке или проигрывай все в казино."})]})}),c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"2.png"})}),c.jsx("h2",{className:"title white",children:"Учить - не значит запомнить"}),c.jsx("h3",{className:"text white",children:"Эту и многие другие цитаты ты узнаешь"})]})}),c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"3.png"})}),c.jsx("h2",{className:"title white",children:"Я забыл права дома. Честно"}),c.jsx("h3",{className:"text white",children:"Вот ты и попался, а использовал бы наши причины, мог быть на свободе"})]})})]})})}const eB="_button_rb0y4_1",tB="_arrow_rb0y4_18",Cx={button:eB,arrow:tB};function nB({linkTo:t,name:e}){const n=ce(),r=()=>{n(t)};return c.jsxs("button",{className:Cx.button,onClick:r,children:[e,c.jsx("div",{className:Cx.arrow,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:"white"})})})]})}const rB="_container_8awvt_1",sB="_button_container_8awvt_13",bx={container:rB,button_container:sB};function oB({setHeaderColor:t}){const{authUser:e,ga:n}=pe();ce();const[r,s]=p.useState(0);return c.jsxs("div",{className:bx.container,children:[c.jsx(JF,{}),c.jsx("div",{className:bx.button_container,children:c.jsx(nB,{name:"Начать",linkTo:"/sign-in"})})]})}const iB="_block_is8th_1",aB="_info_is8th_17",lB="_title_is8th_24",cB="_text_is8th_30",xi={block:iB,info:aB,title:lB,text:cB,"arrow-container":"_arrow-container_is8th_36","circle-arrow":"_circle-arrow_is8th_43"};function Qn({backgroundColor:t,isBorder:e,borderColor:n,textColor:r,name:s,description:o,linkTo:i,arrowBackgroundColor:a,arrowColor:l}){const u=ce(),d=()=>{u(i)};return c.jsxs("div",{className:xi.block,style:{background:t,transition:"0.5s ease",border:e?`2px solid ${n}`:"none"},onClick:d,children:[c.jsxs("div",{className:xi.info,children:[c.jsx("div",{className:xi.title,style:{color:r},children:s}),c.jsxs("div",{className:xi.text,style:{color:r},children:[" ",o," "]})]}),c.jsx("div",{className:xi["arrow-container"],children:c.jsx("div",{className:xi["circle-arrow"],style:{background:a},children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:l})})})})]})}const uB="_wrapper_icfzn_1",dB="_container_icfzn_8",kx={wrapper:uB,container:dB},ll={"block-body":"_block-body_1az4j_1","block-name":"_block-name_1az4j_10","block-text":"_block-text_1az4j_15","block-arrow":"_block-arrow_1az4j_21","circle-arrow":"_circle-arrow_1az4j_29"};function hB({name:t,text:e,circleColor:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F);return c.jsxs("div",{className:ll["block-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:ll["block-name"],style:{color:r.text_first_color},children:t}),c.jsx("div",{className:ll["block-text"],style:{color:r.text_first_color},children:e}),c.jsx("div",{className:ll["block-arrow"],children:c.jsx("div",{className:ll["circle-arrow"],style:{background:n},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.text_first_color})})})})]})}const Sx=["Пока не доказано - не ебет, что сказанно. - Т. Радмир","И рыбку съесть и нахуй сесть. - М. Даниэль","Скажем дружно: 'Нахуй нужно'. - М. Даниэль","Громко и уверенно: 'Пошла нахуй'. - Т. Радмир","Соси хуй и не психуй.","Скажи арбуз. (P.S. Не делай этого). - М. Амир","Кто свистит - тот трансвистит. Т. Радмир","Сразу нахуй. Чисто нахуй. Быстро нахуй. Р-Радик. О. Бекмырза","Только и делает, что стоит.","Тест-минутка.","Репортаж из зоопарка.","Кастет Жопарожевна.","Тимур Харкович.","Айсанина мандавошка.kg","Дикция - жок, интонация - жок, мамка - жок. - М. Даниэль","Отсосал! - О. Бекмырза","На сухую конспект не идет.","Между первой и второй, перерывчик небольшой.",'"Где этот Ли?". - "Он в другой группе". - "Два!".',"В Америке такой тест за минуту пишут, а вы за полсекунды должны.","Теркулов, че поругаться охота?","Чего пришел? Иди хохлов стреляй и адабият не забудь выучить.","Максим не боится никаких вызовов. Он говорит 'На мужика' перед тем, как пойти на рандеву с тремя мужиками одновременно. Он знает, что многозадачность - его второе имя!","Третья кабинка - имба!","Лучше иметь друга, чем друг друга.","Лучше посрать и опоздать, чем прийти и обосраться - А. Байсал","Если пьянка неизбежна - пей первым.","Работа не волк, работа - work, а walk - это ходить.","Запомни: одна ошибка и ты ошибся.","Все полезно, что в рот полезло.","Жы шы пишы от душы. - К. Глеб","Запомни: синус на синус - ебало минус! - Т. Радмир","Сдесь сидит Арс! - К. Глеб","Стрелку метнул, хуй заглотнул! - К. Глеб","Никогда не откладывай на завтра то, что можно сделать послезавтра.","Делай как надо, как не надо не делай!","Лучше 5 сантиметров спереди, чем 25 сзади!","Кто не пьет - тот наливает!","Нет - пидора ответ!","Не тот счастлив у кого много денег, а тот у кого жена верна!","Если заблудился в лесу, иди домой! - С. Канторо","Учеба не сцепление, можно и бросить!","Лучше быть в конце, чем на конце!","Запомни, а то забудешь!","Не важно кто ты нахуй, важно что ты нахуй!","Если ты не выиграл - значит проиграл!","У каждого волка есть шкура, но не у каждой шкуры есть волк!","Если дают - бери. Не дают - отбери! - Б. Сергей","Не мы такие, жизнь такая ...","Это на зубы! - О. Бекмырза","Какой хороший день, чтоб пойти на СВО!","Все что хорошое закончится плохим, все что плохое закончится хорошим - Ж. Бектур","Лучше понять и не сделать, чем списать и не понять!","Не бойся, тебе задачка посложнее! - Б. Сергей","Учить, не значить запомнить! - К. Глеб","Во рту может быть только хуй!","Букварь создал вселенную! - Е. Максим","Запомни: если все съебывают, надо остаться! Но если никто не съебался, надо уйти! - Р. Адиль","Запомни: когда голова работает, диплом нахуй не нужен! - М. Арсений","Имей ввиду, что очко - понятие растяжимое.","Слово не воробей, вылетит не поймаешь","Без труда не вытащить и рыбку из пруда","Лучшая зарядка - балтика девятка","Розы любят воду, а пацаны свободу","Чем меньше знаешь, тем ты тупее","Базар - он как вода, чем лучше фильтруешь, тем здоровее почки","Пацаны, запомните одну простую вещь - одна полоска означает подлежащее, а две полоски означают, что пора идти за хлебом","Без внятного ТЗ, результат ХЗ","Надо сдания сделать - К. Глеб","Если жизнь дает мне лимоны, я съебываю! - К. Глеб","Нормальные пацаны налево не ходят! - А. Байсал","Мне два раза повторять не надо, мне и с первого похуй - К. Глеб","Аналитики сказали ставить все на 7 черное! - Е. Максим","Почему один? Жизнь такая ...","Не важно в какой ты жопе, главное, чтобы никто не был в твоей","Сегодня делаем бизнес","Сто грамм по вечерам это норма! - Б. Сергей","Настанет час ///мечты","Может и не получится , но попробовать стоит всегда","Спасибо матери с отцом, что я родился ПАЦАНОМ!","Мудрецу даны знания, мужику умения, пацану — понятия","Пусть цитаты не делают нас умней, но некоторые из них заставляют задуматься о чем-то","Запомни: нет выхода только из гроба - Ж. Бектур"],fB="_body_aiao4_2",Ku={body:fB,"stroke-fill":"_stroke-fill_aiao4_12","stories-body":"_stories-body_aiao4_26"},pB=[{name:"download",img:"stories-cover.png",link:"/banner"}];function mB(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),r=ce();return c.jsx("div",{className:Ku.body,children:pB.map(s=>c.jsx("div",{className:Ku["stroke-fill"],style:{background:`linear-gradient(135deg,${t.gradient_first_color} 0%,${t.gradient_second_color} 100%)`},children:c.jsx("div",{className:Ku["stories-body"],style:{background:t.background_color},onClick:()=>r(s.link),children:c.jsx("img",{src:s.img,className:Ku["stories-img"]})})}))})}function gB(){const[t,e]=p.useState(""),{authUser:n}=pe();ce();const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F),a=()=>{const u=Math.floor(Math.random()*Sx.length);return Sx[u]},l=async()=>{const u=await a();e(u),localStorage.setItem("dailyQuote",u),localStorage.setItem("quoteDate",new Date().toISOString())};return p.useEffect(()=>{const u=localStorage.getItem("dailyQuote"),d=localStorage.getItem("quoteDate"),h=new Date().toISOString().split("T")[0];u&&d&&d.split("T")[0]===h?e(u):l();const f=setInterval(l,24*60*60*1e3);return()=>clearInterval(f)},[]),p.useEffect(()=>{i({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:0,background:r.background_color}),document.body.style.background=r.background_color},[F]),c.jsxs("div",{className:kx.wrapper,children:[c.jsx(mB,{}),c.jsxs("div",{className:kx.container,children:[c.jsx(hB,{name:"Ежедневная цитата",text:t,circleColor:r.block_arrow_first_color}),c.jsx(Qn,{name:"Обновления",description:"Будь в курсе событий",backgroundColor:r.block_first_color,isBorder:!0,borderColor:r.block_border_color,textColor:r.text_first_color,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_first_color,linkTo:"/updates"}),c.jsx(Qn,{name:"Меню игр",description:"Сделаешь ставку?",backgroundColor:r.block_second_color,isBorder:!1,borderColor:r.block_border_color,textColor:r.text_second_color,arrowColor:r.text_second_color,arrowBackgroundColor:r.block_arrow_second_color,linkTo:"/game-menu"}),c.jsx(Qn,{name:"Расписание",description:"Какой сейчас урок?",backgroundColor:r.block_third_color,isBorder:!1,borderColor:r.block_border_color,textColor:r.text_first_color,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_third_color,linkTo:`/timetable/${n.mainGroup}`}),c.jsx(Qn,{name:"Магазин",description:"Прояви себя",backgroundColor:r.block_first_color,isBorder:!0,borderColor:r.block_border_color,textColor:r.text_first_color,isCircleArrow:!1,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_first_color,linkTo:"/shop"})]})]})}const yB="_container_6lq07_2",_B="_categories_6lq07_149",vB="_active_6lq07_169",wB="_greeting_6lq07_212",xB="_image_0_6lq07_337",CB="_image_1_6lq07_353",bB="_image_2_6lq07_369",kB="_image_3_6lq07_385",SB="_image_4_6lq07_401",EB="_moveGradient_6lq07_1",TB="_moveGradientHigh_6lq07_1",qe={container:yB,"background-cover":"_background-cover_6lq07_12","input-container":"_input-container_6lq07_25","message-action":"_message-action_6lq07_37","add-file":"_add-file_6lq07_45","input-body":"_input-body_6lq07_64","smile-button":"_smile-button_6lq07_76","input-message":"_input-message_6lq07_97","send-button":"_send-button_6lq07_116","emoji-panel":"_emoji-panel_6lq07_135",categories:_B,"emoji-category":"_emoji-category_6lq07_157",active:vB,"emojies-container":"_emojies-container_6lq07_173","category-name":"_category-name_6lq07_180","emojies-body":"_emojies-body_6lq07_188","emojies-content":"_emojies-content_6lq07_196","messages-container":"_messages-container_6lq07_204",greeting:wB,"greeting-title":"_greeting-title_6lq07_220","greeting-text":"_greeting-text_6lq07_230","data-container":"_data-container_6lq07_240","message-body":"_message-body_6lq07_252","images-body":"_images-body_6lq07_262","images-wrapper_1":"_images-wrapper_1_6lq07_267","images-wrapper_2":"_images-wrapper_2_6lq07_281","images-wrapper_3":"_images-wrapper_3_6lq07_295","images-wrapper_4":"_images-wrapper_4_6lq07_309","images-wrapper_5":"_images-wrapper_5_6lq07_323",image_0:xB,image_1:CB,image_2:bB,image_3:kB,image_4:SB,"user-container":"_user-container_6lq07_431","user-photo":"_user-photo_6lq07_439","user-name":"_user-name_6lq07_452","message-text":"_message-text_6lq07_457","skeleton-high":"_skeleton-high_6lq07_473",moveGradient:EB,"skeleton-meduim":"_skeleton-meduim_6lq07_494","skeleton-small":"_skeleton-small_6lq07_515",moveGradientHigh:TB},Ex={default:{name:"default",img:"themes/default/preview.png"},genery:{name:"genery",img:"themes/genery/preview.png"},kyrgyzstan:{name:"kyrgyzstan",img:"themes/kyrgyzstan/preview.png"},winter_2024:{name:"winter_2024",img:"themes/winter_2024/preview.png"}},up=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),dp=p.createContext({}),hp=p.createContext(null),x_=typeof document<"u",C_=x_?p.useLayoutEffect:p.useEffect,lS=p.createContext({strict:!1}),b_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),IB="framerAppearId",cS="data-"+b_(IB),NB={useManualTiming:!1};class Tx{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function jB(t){let e=new Tx,n=new Tx,r=0,s=!1,o=!1;const i=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&s,f=h?e:n;return u&&i.add(l),f.add(l)&&h&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];i.has(d)&&(a.schedule(d),t()),d(l)}s=!1,o&&(o=!1,a.process(l))}};return a}const Zu=["read","resolveKeyframes","update","preRender","render","postRender"],AB=40;function uS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Zu.reduce((h,f)=>(h[f]=jB(()=>n=!0),h),{}),i=h=>{o[h].process(s)},a=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,AB),1),s.timestamp=h,s.isProcessing=!0,Zu.forEach(i),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Zu.reduce((h,f)=>{const m=o[f];return h[f]=(v,w=!1,x=!1)=>(n||l(),m.schedule(v,w,x)),h},{}),cancel:h=>Zu.forEach(f=>o[f].cancel(h)),state:s,steps:o}}const{schedule:k_}=uS(queueMicrotask,!1);function zi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const dS=p.createContext({});let Ix=!1;function PB(t,e,n,r,s){const{visualElement:o}=p.useContext(dp),i=p.useContext(lS),a=p.useContext(hp),l=p.useContext(up).reducedMotion,u=p.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=p.useContext(dS);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&RB(u.current,n,s,h),p.useInsertionEffect(()=>{d&&d.update(n,a)});const f=p.useRef(!!(n[cS]&&!window.HandoffComplete));return C_(()=>{d&&(d.updateFeatures(),k_.render(d.render),f.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,Ix||(Ix=!0,queueMicrotask(LB))))}),d}function LB(){window.HandoffComplete=!0}function RB(t,e,n,r){const{layoutId:s,layout:o,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hS(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!i||a&&zi(a),visualElement:t,scheduleRender:()=>t.scheduleRender(),animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function hS(t){if(t)return t.options.allowProjection!==!1?t.projection:hS(t.parent)}function OB(t,e,n){return p.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):zi(n)&&(n.current=r))},[e])}function Pc(t){return typeof t=="string"||Array.isArray(t)}function fp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const S_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],E_=["initial",...S_];function pp(t){return fp(t.animate)||E_.some(e=>Pc(t[e]))}function fS(t){return!!(pp(t)||t.variants)}function DB(t,e){if(pp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Pc(n)?n:void 0,animate:Pc(r)?r:void 0}}return t.inherit!==!1?e:{}}function MB(t){const{initial:e,animate:n}=DB(t,p.useContext(dp));return p.useMemo(()=>({initial:e,animate:n}),[Nx(e),Nx(n)])}function Nx(t){return Array.isArray(t)?t.join(" "):t}const jx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Aa={};for(const t in jx)Aa[t]={isEnabled:e=>jx[t].some(n=>!!e[n])};function $B(t){for(const e in t)Aa[e]={...Aa[e],...t[e]}}const Lc=p.createContext({}),FB=Symbol.for("motionComponentSymbol"),Gt=t=>t;let pS=Gt;function BB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&$B(t);function o(a,l){let u;const d={...p.useContext(up),...a,layoutId:UB(a)},{isStatic:h}=d,f=MB(a),m=r(a,h);if(!h&&x_){VB();const v=zB(d);u=v.MeasureLayout,f.visualElement=PB(s,m,d,e,v.ProjectionNode)}return c.jsxs(dp.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,a,OB(m,f.visualElement,l),m,h,f.visualElement)]})}const i=p.forwardRef(o);return i[FB]=s,i}function UB({layoutId:t}){const e=p.useContext(Lc).id;return e&&t!==void 0?e+"-"+t:t}function VB(t,e){p.useContext(lS).strict}function zB(t){const{drag:e,layout:n}=Aa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function HB(t){function e(r,s={}){return BB(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const qB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T_(t){return typeof t!="string"||t.includes("-")?!1:!!(qB.indexOf(t)>-1||/[A-Z]/u.test(t))}const Rh={};function WB(t){Object.assign(Rh,t)}const cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gi=new Set(cu);function mS(t,{layout:e,layoutId:n}){return gi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rh[t]||t==="opacity")}const Vt=t=>!!(t&&t.getVelocity),GB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KB=cu.length;function ZB(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<KB;i++){const a=cu[i];if(t[a]!==void 0){const l=GB[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const gS=t=>e=>typeof e=="string"&&e.startsWith(t),yS=gS("--"),YB=gS("var(--"),I_=t=>YB(t)?QB.test(t.split("/*")[0].trim()):!1,QB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,XB=(t,e)=>e&&typeof t=="number"?e.transform(t):t,eo=(t,e,n)=>n>e?e:n<t?t:n,Za={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zl={...Za,transform:t=>eo(0,1,t)},Yu={...Za,default:1},Hl=t=>Math.round(t*1e5)/1e5,N_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,JB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,eU=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function uu(t){return typeof t=="string"}const du=t=>({test:e=>uu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),_s=du("deg"),Tr=du("%"),se=du("px"),tU=du("vh"),nU=du("vw"),Ax={...Tr,parse:t=>Tr.parse(t)/100,transform:t=>Tr.transform(t*100)},Px={...Za,transform:Math.round},_S={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,size:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,rotate:_s,rotateX:_s,rotateY:_s,rotateZ:_s,scale:Yu,scaleX:Yu,scaleY:Yu,scaleZ:Yu,skew:_s,skewX:_s,skewY:_s,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:zl,originX:Ax,originY:Ax,originZ:se,zIndex:Px,backgroundPositionX:se,backgroundPositionY:se,fillOpacity:zl,strokeOpacity:zl,numOctaves:Px};function j_(t,e,n,r){const{style:s,vars:o,transform:i,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const f=e[h];if(yS(h)){o[h]=f;continue}const m=_S[h],v=XB(f,m);if(gi.has(h)){if(l=!0,i[h]=v,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=v):s[h]=v}if(e.transform||(l||r?s.transform=ZB(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;s.transformOrigin=`${h} ${f} ${m}`}}const A_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vS(t,e,n){for(const r in e)!Vt(e[r])&&!mS(r,n)&&(t[r]=e[r])}function rU({transformTemplate:t},e,n){return p.useMemo(()=>{const r=A_();return j_(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function sU(t,e,n){const r=t.style||{},s={};return vS(s,r,t),Object.assign(s,rU(t,e,n)),s}function oU(t,e,n){const r={},s=sU(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const iU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Oh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iU.has(t)}let wS=t=>!Oh(t);function aU(t){t&&(wS=e=>e.startsWith("on")?!Oh(e):t(e))}try{aU(require("@emotion/is-prop-valid").default)}catch{}function lU(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(wS(s)||n===!0&&Oh(s)||!e&&!Oh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Lx(t,e,n){return typeof t=="string"?t:se.transform(e+n*t)}function cU(t,e,n){const r=Lx(e,t.x,t.width),s=Lx(n,t.y,t.height);return`${r} ${s}`}const uU={offset:"stroke-dashoffset",array:"stroke-dasharray"},dU={offset:"strokeDashoffset",array:"strokeDasharray"};function hU(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?uU:dU;t[o.offset]=se.transform(-r);const i=se.transform(e),a=se.transform(n);t[o.array]=`${i} ${a}`}function P_(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},d,h,f){if(j_(t,u,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:v,dimensions:w}=t;m.transform&&(w&&(v.transform=m.transform),delete m.transform),w&&(s!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=cU(w,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&hU(m,i,a,l,!1)}const xS=()=>({...A_(),attrs:{}}),L_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fU(t,e,n,r){const s=p.useMemo(()=>{const o=xS();return P_(o,e,{enableHardwareAcceleration:!1},L_(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};vS(o,t.style,t),s.style={...o,...s.style}}return s}function pU(t=!1){return(n,r,s,{latestValues:o},i)=>{const l=(T_(n)?fU:oU)(r,o,i,n),u=lU(r,typeof n=="string",t),d=n!==p.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=p.useMemo(()=>Vt(h)?h.get():h,[h]);return p.createElement(n,{...d,children:f})}}function CS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const bS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kS(t,e,n,r){CS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(bS.has(s)?s:b_(s),e.attrs[s])}function R_(t,e,n){var r;const{style:s}=t,o={};for(const i in s)(Vt(s[i])||e.style&&Vt(e.style[i])||mS(i,t)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=s[i]);return o}function SS(t,e,n){const r=R_(t,e,n);for(const s in t)if(Vt(t[s])||Vt(e[s])){const o=cu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function Rx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function O_(t,e,n,r){if(typeof e=="function"){const[s,o]=Rx(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=Rx(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function D_(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Mg=t=>Array.isArray(t),mU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),gU=t=>Mg(t)?t[t.length-1]||0:t;function Sd(t){const e=Vt(t)?t.get():t;return mU(e)?e.toValue():e}function yU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const i={latestValues:_U(r,s,o,t),renderState:e()};return n&&(i.mount=a=>n(r,a,i)),i}const ES=t=>(e,n)=>{const r=p.useContext(dp),s=p.useContext(hp),o=()=>yU(t,e,r,s);return n?o():D_(o)};function _U(t,e,n,r){const s={},o=r(t,{});for(const f in o)s[f]=Sd(o[f]);let{initial:i,animate:a}=t;const l=pp(t),u=fS(t);e&&u&&!l&&t.inherit!==!1&&(i===void 0&&(i=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const h=d?a:i;return h&&typeof h!="boolean"&&!fp(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=O_(t,m);if(!v)return;const{transitionEnd:w,transition:x,..._}=v;for(const y in _){let g=_[y];if(Array.isArray(g)){const C=d?g.length-1:0;g=g[C]}g!==null&&(s[y]=g)}for(const y in w)s[y]=w[y]}),s}const{schedule:ke,cancel:ls,state:kt,steps:Lm}=uS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0),vU={useVisualState:ES({scrapeMotionValuesFromProps:SS,createRenderState:xS,onMount:(t,e,{renderState:n,latestValues:r})=>{ke.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ke.render(()=>{P_(n,r,{enableHardwareAcceleration:!1},L_(e.tagName),t.transformTemplate),kS(e,n)})}})},wU={useVisualState:ES({scrapeMotionValuesFromProps:R_,createRenderState:A_})};function xU(t,{forwardMotionProps:e=!1},n,r){return{...T_(t)?vU:wU,preloadedFeatures:n,useRender:pU(e),createVisualElement:r,Component:t}}function zr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const TS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function mp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const CU=t=>e=>TS(e)&&t(e,mp(e));function Gr(t,e,n,r){return zr(t,e,CU(n),r)}const bU=(t,e)=>n=>e(t(n)),Kr=(...t)=>t.reduce(bU);function IS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Ox=IS("dragHorizontal"),Dx=IS("dragVertical");function NS(t){let e=!1;if(t==="y")e=Dx();else if(t==="x")e=Ox();else{const n=Ox(),r=Dx();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function jS(){const t=NS(!0);return t?(t(),!1):!0}class ho{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Mx(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(o,i)=>{if(o.pointerType==="touch"||jS())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&ke.postRender(()=>l(o,i))};return Gr(t.current,n,s,{passive:!t.getProps()[r]})}class kU extends ho{mount(){this.unmount=Kr(Mx(this.node,!0),Mx(this.node,!1))}unmount(){}}class SU extends ho{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kr(zr(this.node.current,"focus",()=>this.onFocus()),zr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const AS=(t,e)=>e?t===e?!0:AS(t,e.parentElement):!1;function Rm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,mp(n))}class EU extends ho{constructor(){super(...arguments),this.removeStartListeners=Gt,this.removeEndListeners=Gt,this.removeAccessibleListeners=Gt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Gr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!AS(this.node.current,a.target)?d:u;f&&ke.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=Gr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Kr(o,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Rm("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&ke.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=zr(this.node.current,"keyup",i),Rm("down",(a,l)=>{this.startPress(a,l)})},n=zr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Rm("cancel",(o,i)=>this.cancelPress(o,i))},s=zr(this.node.current,"blur",r);this.removeAccessibleListeners=Kr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ke.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!jS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ke.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Gr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=zr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const $g=new WeakMap,Om=new WeakMap,TU=t=>{const e=$g.get(t.target);e&&e(t)},IU=t=>{t.forEach(TU)};function NU({root:t,...e}){const n=t||document;Om.has(n)||Om.set(n,{});const r=Om.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(IU,{root:t,...e})),r[s]}function jU(t,e,n){const r=NU(e);return $g.set(t,n),r.observe(t),()=>{$g.delete(t),r.unobserve(t)}}const AU={some:0,all:1};class PU extends ho{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:AU[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return jU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(LU(e,n))&&this.startObserver()}unmount(){}}function LU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const RU={inView:{Feature:PU},tap:{Feature:EU},focus:{Feature:SU},hover:{Feature:kU}};function PS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function gp(t,e,n){const r=t.getProps();return O_(r,e,n!==void 0?n:r.custom,t)}const Ws=t=>t*1e3,Zr=t=>t/1e3,OU={type:"spring",stiffness:500,damping:25,restSpeed:10},DU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),MU={type:"keyframes",duration:.8},$U={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FU=(t,{keyframes:e})=>e.length>2?MU:gi.has(t)?t.startsWith("scale")?DU(e[1]):OU:$U;function BU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function M_(t,e){return t[e]||t.default||t}const UU=t=>t!==null;function yp(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(UU),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}let Ed;function VU(){Ed=void 0}const Gs={now:()=>(Ed===void 0&&Gs.set(kt.isProcessing||NB.useManualTiming?kt.timestamp:performance.now()),Ed),set:t=>{Ed=t,queueMicrotask(VU)}},LS=t=>/^0[^.\s]+$/u.test(t);function zU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LS(t):!0}const RS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),HU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qU(t){const e=HU.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function OS(t,e,n=1){const[r,s]=qU(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return RS(i)?parseFloat(i):i}return I_(s)?OS(s,e,n+1):s}const WU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),$x=t=>t===Za||t===se,Fx=(t,e)=>parseFloat(t.split(", ")[e]),Bx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Fx(s[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?Fx(o[1],t):0}},GU=new Set(["x","y","z"]),KU=cu.filter(t=>!GU.has(t));function ZU(t){const e=[];return KU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Pa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Bx(4,13),y:Bx(5,14)};Pa.translateX=Pa.x;Pa.translateY=Pa.y;const DS=t=>e=>e.test(t),YU={test:t=>t==="auto",parse:t=>t},MS=[Za,se,Tr,_s,nU,tU,YU],Ux=t=>MS.find(DS(t)),Uo=new Set;let Fg=!1,Bg=!1;function $S(){if(Bg){const t=Array.from(Uo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=ZU(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,i])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(i)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Bg=!1,Fg=!1,Uo.forEach(t=>t.complete()),Uo.clear()}function FS(){Uo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Bg=!0)})}function QU(){FS(),$S()}class $_{constructor(e,n,r,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Uo.add(this),Fg||(Fg=!0,ke.read(FS),ke.resolveKeyframes($S))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Uo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Uo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const F_=(t,e)=>n=>!!(uu(n)&&eU.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),BS=(t,e,n)=>r=>{if(!uu(r))return r;const[s,o,i,a]=r.match(N_);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},XU=t=>eo(0,255,t),Dm={...Za,transform:t=>Math.round(XU(t))},Ro={test:F_("rgb","red"),parse:BS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Dm.transform(t)+", "+Dm.transform(e)+", "+Dm.transform(n)+", "+Hl(zl.transform(r))+")"};function JU(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Ug={test:F_("#"),parse:JU,transform:Ro.transform},Hi={test:F_("hsl","hue"),parse:BS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Tr.transform(Hl(e))+", "+Tr.transform(Hl(n))+", "+Hl(zl.transform(r))+")"},Mt={test:t=>Ro.test(t)||Ug.test(t)||Hi.test(t),parse:t=>Ro.test(t)?Ro.parse(t):Hi.test(t)?Hi.parse(t):Ug.parse(t),transform:t=>uu(t)?t:t.hasOwnProperty("red")?Ro.transform(t):Hi.transform(t)};function eV(t){var e,n;return isNaN(t)&&uu(t)&&(((e=t.match(N_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(JB))===null||n===void 0?void 0:n.length)||0)>0}const US="number",VS="color",tV="var",nV="var(",Vx="${}",rV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Rc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const a=e.replace(rV,l=>(Mt.test(l)?(r.color.push(o),s.push(VS),n.push(Mt.parse(l))):l.startsWith(nV)?(r.var.push(o),s.push(tV),n.push(l)):(r.number.push(o),s.push(US),n.push(parseFloat(l))),++o,Vx)).split(Vx);return{values:n,split:a,indexes:r,types:s}}function zS(t){return Rc(t).values}function HS(t){const{split:e,types:n}=Rc(t),r=e.length;return s=>{let o="";for(let i=0;i<r;i++)if(o+=e[i],s[i]!==void 0){const a=n[i];a===US?o+=Hl(s[i]):a===VS?o+=Mt.transform(s[i]):o+=s[i]}return o}}const sV=t=>typeof t=="number"?0:t;function oV(t){const e=zS(t);return HS(t)(e.map(sV))}const to={test:eV,parse:zS,createTransformer:HS,getAnimatableNone:oV},iV=new Set(["brightness","contrast","saturate","opacity"]);function aV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(N_)||[];if(!r)return t;const s=n.replace(r,"");let o=iV.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const lV=/\b([a-z-]*)\(.*?\)/gu,Vg={...to,getAnimatableNone:t=>{const e=t.match(lV);return e?e.map(aV).join(" "):t}},cV={..._S,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:Vg,WebkitFilter:Vg},B_=t=>cV[t];function qS(t,e){let n=B_(t);return n!==Vg&&(n=to),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uV=new Set(["auto","none","0"]);function dV(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!uV.has(o)&&Rc(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=qS(n,s)}class WS extends $_{constructor(e,n,r,s){super(e,n,r,s,s==null?void 0:s.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),I_(u))){const d=OS(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!WU.has(r)||e.length!==2)return;const[s,o]=e,i=Ux(s),a=Ux(o);if(i!==a)if($x(i)&&$x(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)zU(e[s])&&r.push(s);r.length&&dV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=Pa[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function GS(t){let e;return()=>(e===void 0&&(e=t()),e)}const zx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(to.test(t)||t==="0")&&!t.startsWith("url("));function hV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fV(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],i=zx(s,e),a=zx(o,e);return!i||!a?!1:hV(t)||n==="spring"&&r}class KS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&QU(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:i,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!fV(e,r,s,o))if(i)this.options.duration=0;else{l==null||l(yp(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function ZS(t,e){return e?t*(1e3/e):0}const pV=5;function YS(t,e,n){const r=Math.max(e-pV,0);return ZS(n-t(r),e-r)}const Hx=.001,mV=.01,gV=10,yV=.05,_V=1;function vV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o,i=1-e;i=eo(yV,_V,i),t=eo(mV,gV,Zr(t)),i<1?(s=u=>{const d=u*i,h=d*t,f=d-n,m=zg(u,i),v=Math.exp(-h);return Hx-f/m*v},o=u=>{const h=u*i*t,f=h*n+n,m=Math.pow(i,2)*Math.pow(u,2)*t,v=Math.exp(-h),w=zg(Math.pow(u,2),i);return(-s(u)+Hx>0?-1:1)*((f-m)*v)/w}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-.001+d*h},o=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=xV(s,o,a);if(t=Ws(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const wV=12;function xV(t,e,n){let r=n;for(let s=1;s<wV;s++)r=r-t(r)/e(r);return r}function zg(t,e){return t*Math.sqrt(1-e*e)}const CV=["duration","bounce"],bV=["stiffness","damping","mass"];function qx(t,e){return e.some(n=>t[n]!==void 0)}function kV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!qx(t,bV)&&qx(t,CV)){const n=vV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function QS({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],i={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=kV({...r,velocity:-Zr(r.velocity||0)}),m=h||0,v=l/(2*Math.sqrt(a*u)),w=o-s,x=Zr(Math.sqrt(a/u)),_=Math.abs(w)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let y;if(v<1){const g=zg(x,v);y=C=>{const b=Math.exp(-v*x*C);return o-b*((m+v*x*w)/g*Math.sin(g*C)+w*Math.cos(g*C))}}else if(v===1)y=g=>o-Math.exp(-x*g)*(w+(m+x*w)*g);else{const g=x*Math.sqrt(v*v-1);y=C=>{const b=Math.exp(-v*x*C),k=Math.min(g*C,300);return o-b*((m+v*x*w)*Math.sinh(k)+g*w*Math.cosh(k))/g}}return{calculatedDuration:f&&d||null,next:g=>{const C=y(g);if(f)i.done=g>=d;else{let b=m;g!==0&&(v<1?b=YS(y,g,C):b=0);const k=Math.abs(b)<=n,T=Math.abs(o-C)<=e;i.done=k&&T}return i.value=i.done?o:C,i}}}function Wx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=S=>a!==void 0&&S<a||l!==void 0&&S>l,v=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let w=n*e;const x=h+w,_=i===void 0?x:i(x);_!==x&&(w=_-h);const y=S=>-w*Math.exp(-S/r),g=S=>_+y(S),C=S=>{const E=y(S),I=g(S);f.done=Math.abs(E)<=u,f.value=f.done?_:I};let b,k;const T=S=>{m(f.value)&&(b=S,k=QS({keyframes:[f.value,v(f.value)],velocity:YS(g,S,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:S=>{let E=!1;return!k&&b===void 0&&(E=!0,C(S),T(S)),b!==void 0&&S>=b?k.next(S-b):(!E&&C(S),f)}}}const XS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SV=1e-7,EV=12;function TV(t,e,n,r,s){let o,i,a=0;do i=e+(n-e)/2,o=XS(i,r,s)-t,o>0?n=i:e=i;while(Math.abs(o)>SV&&++a<EV);return i}function hu(t,e,n,r){if(t===e&&n===r)return Gt;const s=o=>TV(o,0,1,t,n);return o=>o===0||o===1?o:XS(s(o),e,r)}const IV=hu(.42,0,1,1),NV=hu(0,0,.58,1),JS=hu(.42,0,.58,1),jV=t=>Array.isArray(t)&&typeof t[0]!="number",e8=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,t8=t=>e=>1-t(1-e),U_=t=>1-Math.sin(Math.acos(t)),n8=t8(U_),AV=e8(U_),r8=hu(.33,1.53,.69,.99),V_=t8(r8),PV=e8(V_),LV=t=>(t*=2)<1?.5*V_(t):.5*(2-Math.pow(2,-10*(t-1))),RV={linear:Gt,easeIn:IV,easeInOut:JS,easeOut:NV,circIn:U_,circInOut:AV,circOut:n8,backIn:V_,backInOut:PV,backOut:r8,anticipate:LV},Gx=t=>{if(Array.isArray(t)){pS(t.length===4);const[e,n,r,s]=t;return hu(e,n,r,s)}else if(typeof t=="string")return RV[t];return t},Oc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ge=(t,e,n)=>t+(e-t)*n;function Mm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function OV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,i=0;if(!e)s=o=i=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Mm(l,a,t+1/3),o=Mm(l,a,t),i=Mm(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Dh(t,e){return n=>n>0?e:t}const $m=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},DV=[Ug,Ro,Hi],MV=t=>DV.find(e=>e.test(t));function Kx(t){const e=MV(t);if(!e)return!1;let n=e.parse(t);return e===Hi&&(n=OV(n)),n}const Zx=(t,e)=>{const n=Kx(t),r=Kx(e);if(!n||!r)return Dh(t,e);const s={...n};return o=>(s.red=$m(n.red,r.red,o),s.green=$m(n.green,r.green,o),s.blue=$m(n.blue,r.blue,o),s.alpha=Ge(n.alpha,r.alpha,o),Ro.transform(s))},Hg=new Set(["none","hidden"]);function $V(t,e){return Hg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function FV(t,e){return n=>Ge(t,e,n)}function z_(t){return typeof t=="number"?FV:typeof t=="string"?I_(t)?Dh:Mt.test(t)?Zx:VV:Array.isArray(t)?s8:typeof t=="object"?Mt.test(t)?Zx:BV:Dh}function s8(t,e){const n=[...t],r=n.length,s=t.map((o,i)=>z_(o)(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}}function BV(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=z_(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function UV(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const i=e.types[o],a=t.indexes[i][s[i]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[o]=l,s[i]++}return r}const VV=(t,e)=>{const n=to.createTransformer(e),r=Rc(t),s=Rc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Hg.has(t)&&!s.values.length||Hg.has(e)&&!r.values.length?$V(t,e):Kr(s8(UV(r,s),s.values),n):Dh(t,e)};function o8(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ge(t,e,n):z_(t)(t,e)}function zV(t,e,n){const r=[],s=n||o8,o=t.length-1;for(let i=0;i<o;i++){let a=s(t[i],t[i+1]);if(e){const l=Array.isArray(e)?e[i]||Gt:e;a=Kr(l,a)}r.push(a)}return r}function HV(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(pS(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=zV(e,r,s),a=i.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Oc(t[d],t[d+1],u);return i[d](h)};return n?u=>l(eo(t[0],t[o-1],u)):l}function qV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Oc(0,e,r);t.push(Ge(n,1,s))}}function WV(t){const e=[0];return qV(e,t.length-1),e}function GV(t,e){return t.map(n=>n*e)}function KV(t,e){return t.map(()=>e||JS).splice(0,t.length-1)}function Mh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=jV(r)?r.map(Gx):Gx(r),o={done:!1,value:e[0]},i=GV(n&&n.length===e.length?n:WV(e),t),a=HV(i,e,{ease:Array.isArray(s)?s:KV(e,s)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const Yx=2e4;function ZV(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Yx;)e+=n,r=t.next(e);return e>=Yx?1/0:e}const YV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ke.update(e,!0),stop:()=>ls(e),now:()=>kt.isProcessing?kt.timestamp:Gs.now()}},QV={decay:Wx,inertia:Wx,tween:Mh,keyframes:Mh,spring:QS},XV=t=>t/100;class H_ extends KS{constructor({KeyframeResolver:e=$_,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:s,keyframes:o}=this.options,i=(a,l)=>this.onKeyframesResolved(a,l);r&&s&&s.owner?this.resolver=s.owner.resolveKeyframes(o,i,r,s):this.resolver=new e(o,i,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=this.options,a=QV[n]||Mh;let l,u;a!==Mh&&typeof e[0]!="number"&&(l=Kr(XV,o8(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});o==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=ZV(d));const{calculatedDuration:h}=d,f=h+s,m=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return o.next(0);const{delay:f,repeat:m,repeatType:v,repeatDelay:w,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?_<0:_>d;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let g=this.currentTime,C=o;if(m){const S=Math.min(this.currentTime,d)/h;let E=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(v==="reverse"?(I=1-I,w&&(I-=w/h)):v==="mirror"&&(C=i)),g=eo(0,1,I)*h}const b=y?{done:!1,value:l[0]}:C.next(g);a&&(b.value=a(b.value));let{done:k}=b;!y&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&s!==void 0&&(b.value=yp(l,this.options,s)),x&&x(b.value),T&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Zr(e.calculatedDuration):0}get time(){return Zr(this.currentTime)}set time(e){e=Ws(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=YV,onPlay:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const i8=t=>Array.isArray(t)&&typeof t[0]=="number";function a8(t){return!!(!t||typeof t=="string"&&t in q_||i8(t)||Array.isArray(t)&&t.every(a8))}const El=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,q_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:El([0,.65,.55,1]),circOut:El([.55,0,1,.45]),backIn:El([.31,.01,.66,-.59]),backOut:El([.33,1.53,.69,.99])};function JV(t){return l8(t)||q_.easeOut}function l8(t){if(t)return i8(t)?El(t):Array.isArray(t)?t.map(JV):q_[t]}function ez(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=l8(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}const tz=GS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),nz=new Set(["opacity","clipPath","filter","transform"]),$h=10,rz=2e4;function sz(t){return t.type==="spring"||t.name==="backgroundColor"||!a8(t.ease)}function oz(t,e){const n=new H_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let o=0;for(;!r.done&&o<rz;)r=n.sample(o),s.push(r.value),o+=$h;return{times:void 0,keyframes:s,duration:o-$h,ease:"linear"}}class Qx extends KS{constructor(e){super(e);const{name:n,motionValue:r,keyframes:s}=this.options;this.resolver=new WS(s,(o,i)=>this.onKeyframesResolved(o,i),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:o,ease:i,type:a,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(sz(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,...v}=this.options,w=oz(e,v);e=w.keyframes,e.length===1&&(e[1]=e[0]),s=w.duration,o=w.times,i=w.ease,a="keyframes"}const d=ez(l.owner.current,u,e,{...this.options,duration:s,times:o,ease:i});return d.startTime=Gs.now(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(yp(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:o,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Zr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Zr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ws(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Gt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Gt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:o,ease:i,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:d,...h}=this.options,f=new H_({...h,keyframes:r,duration:s,type:o,ease:i,times:a,isGenerator:!0}),m=Ws(this.time);l.setWithVelocity(f.sample(m-$h).value,f.sample(m).value,$h)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:i,type:a}=e;return tz()&&r&&nz.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&o!=="mirror"&&i!==0&&a!=="inertia"}}function iz(t,e){let n;const r=()=>{const{currentTime:s}=e,i=(s===null?0:s.value)/100;n!==i&&t(i),n=i};return ke.update(r,!0),()=>ls(r)}const az=GS(()=>window.ScrollTimeline!==void 0);class lz{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(az()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),iz(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const W_=(t,e,n,r={},s,o)=>i=>{const a=M_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ws(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:s};BU(a)||(d={...d,...FU(t,d)}),d.duration&&(d.duration=Ws(d.duration)),d.repeatDelay&&(d.repeatDelay=Ws(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!o&&e.get()!==void 0){const f=yp(d.keyframes,a);if(f!==void 0)return ke.update(()=>{d.onUpdate(f),d.onComplete()}),new lz([])}return!o&&Qx.supports(d)?new Qx(d):new H_(d)};function Fh(t){return!!(Vt(t)&&t.add)}function G_(t,e){t.indexOf(e)===-1&&t.push(e)}function K_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Z_{constructor(){this.subscriptions=[]}add(e){return G_(this.subscriptions,e),()=>K_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xx=30,cz=t=>!isNaN(parseFloat(t));class uz{constructor(e,n={}){this.version="11.2.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=Gs.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=cz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Z_);const r=this.events[e].add(n);return e==="change"?()=>{r(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Xx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Xx);return ZS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function La(t,e){return new uz(t,e)}function dz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,La(n))}function hz(t,e){const n=gp(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const i in o){const a=gU(o[i]);dz(t,i,a)}}function c8(t){return t.getProps()[cS]}function fz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function u8(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;const u=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const m=t.getValue(f,(o=t.latestValues[f])!==null&&o!==void 0?o:null),v=l[f];if(v===void 0||h&&fz(h,f))continue;const w={delay:n,elapsed:0,...M_(i||{},f)};let x=!1;if(window.HandoffAppearAnimations){const y=c8(t);if(y){const g=window.HandoffAppearAnimations(y,f,m,ke);g!==null&&(w.elapsed=g,x=!0)}}m.start(W_(f,m,v,t.shouldReduceMotion&&gi.has(f)?{type:!1}:w,t,x));const _=m.animation;_&&(Fh(u)&&(u.add(f),_.then(()=>u.remove(f))),d.push(_))}return a&&Promise.all(d).then(()=>{ke.update(()=>{a&&hz(t,a)})}),d}function qg(t,e,n={}){var r;const s=gp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const i=s?()=>Promise.all(u8(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=o;return pz(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function pz(t,e,n=0,r=0,s=1,o){const i=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(mz).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(qg(u,e,{...o,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function mz(t,e){return t.sortNodePosition(e)}function gz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>qg(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=qg(t,e,n);else{const s=typeof e=="function"?gp(t,e,n.custom):e;r=Promise.all(u8(t,s,n))}return r.then(()=>{ke.postRender(()=>{t.notify("AnimationComplete",e)})})}const yz=[...S_].reverse(),_z=S_.length;function vz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>gz(t,n,r)))}function wz(t){let e=vz(t),n=Jx(),r=!0;const s=l=>(u,d)=>{var h;const f=gp(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:v,...w}=f;u={...u,...w,...v}}return u};function o(l){e=l(t)}function i(l){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let m={},v=1/0;for(let x=0;x<_z;x++){const _=yz[x],y=n[_],g=u[_]!==void 0?u[_]:d[_],C=Pc(g),b=_===l?y.isActive:null;b===!1&&(v=x);let k=g===d[_]&&g!==u[_]&&C;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...m},!y.isActive&&b===null||!g&&!y.prevProp||fp(g)||typeof g=="boolean")continue;let S=xz(y.prevProp,g)||_===l&&y.isActive&&!k&&C||x>v&&C,E=!1;const I=Array.isArray(g)?g:[g];let j=I.reduce(s(_),{});b===!1&&(j={});const{prevResolvedValues:N={}}=y,O={...N,...j},A=R=>{S=!0,f.has(R)&&(E=!0,f.delete(R)),y.needsAnimating[R]=!0;const D=t.getValue(R);D&&(D.liveStyle=!1)};for(const R in O){const D=j[R],L=N[R];if(m.hasOwnProperty(R))continue;let P=!1;Mg(D)&&Mg(L)?P=!PS(D,L):P=D!==L,P?D!=null?A(R):f.add(R):D!==void 0&&f.has(R)?A(R):y.protectedKeys[R]=!0}y.prevProp=g,y.prevResolvedValues=j,y.isActive&&(m={...m,...j}),r&&t.blockInitialAnimation&&(S=!1),S&&(!k||E)&&h.push(...I.map(R=>({animation:R,options:{type:_}})))}if(f.size){const x={};f.forEach(_=>{const y=t.getBaseTarget(_),g=t.getValue(_);g&&(g.liveStyle=!0),x[_]=y??null}),h.push({animation:x})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=i(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Jx(),r=!0}}}function xz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!PS(e,t):!1}function yo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jx(){return{animate:yo(!0),whileInView:yo(),whileHover:yo(),whileTap:yo(),whileDrag:yo(),whileFocus:yo(),exit:yo()}}class Cz extends ho{constructor(e){super(e),e.animationState||(e.animationState=wz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let bz=0;class kz extends ho{constructor(){super(...arguments),this.id=bz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Sz={animation:{Feature:Cz},exit:{Feature:kz}},e3=(t,e)=>Math.abs(t-e);function Ez(t,e){const n=e3(t.x,e.x),r=e3(t.y,e.y);return Math.sqrt(n**2+r**2)}class d8{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Bm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=Ez(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:w}=kt;this.history.push({...v,timestamp:w});const{onStart:x,onMove:_}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Fm(f,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Bm(h.type==="pointercancel"?this.lastMoveEventInfo:Fm(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),v&&v(h,x)},!TS(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=mp(e),a=Fm(i,this.transformPagePoint),{point:l}=a,{timestamp:u}=kt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Bm(a,this.history)),this.removeListeners=Kr(Gr(this.contextWindow,"pointermove",this.handlePointerMove),Gr(this.contextWindow,"pointerup",this.handlePointerUp),Gr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ls(this.updatePoint)}}function Fm(t,e){return e?{point:e(t.point)}:t}function t3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Bm({point:t},e){return{point:t,delta:t3(t,h8(e)),offset:t3(t,Tz(e)),velocity:Iz(e,.1)}}function Tz(t){return t[0]}function h8(t){return t[t.length-1]}function Iz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=h8(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ws(e)));)n--;if(!r)return{x:0,y:0};const o=Zr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function An(t){return t.max-t.min}function Wg(t,e=0,n=.01){return Math.abs(t-e)<=n}function n3(t,e,n,r=.5){t.origin=r,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=An(n)/An(e),(Wg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ge(n.min,n.max,t.origin)-t.originPoint,(Wg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ql(t,e,n,r){n3(t.x,e.x,n.x,r?r.originX:void 0),n3(t.y,e.y,n.y,r?r.originY:void 0)}function r3(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function Nz(t,e,n){r3(t.x,e.x,n.x),r3(t.y,e.y,n.y)}function s3(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function Wl(t,e,n){s3(t.x,e.x,n.x),s3(t.y,e.y,n.y)}function jz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ge(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ge(n,t,r.max):Math.min(t,n)),t}function o3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Az(t,{top:e,left:n,bottom:r,right:s}){return{x:o3(t.x,n,s),y:o3(t.y,e,r)}}function i3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Pz(t,e){return{x:i3(t.x,e.x),y:i3(t.y,e.y)}}function Lz(t,e){let n=.5;const r=An(t),s=An(e);return s>r?n=Oc(e.min,e.max-r,t.min):r>s&&(n=Oc(t.min,t.max-s,e.min)),eo(0,1,n)}function Rz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Gg=.35;function Oz(t=Gg){return t===!1?t=0:t===!0&&(t=Gg),{x:a3(t,"left","right"),y:a3(t,"top","bottom")}}function a3(t,e,n){return{min:l3(t,e),max:l3(t,n)}}function l3(t,e){return typeof t=="number"?t:t[e]||0}const c3=()=>({translate:0,scale:1,origin:0,originPoint:0}),qi=()=>({x:c3(),y:c3()}),u3=()=>({min:0,max:0}),rt=()=>({x:u3(),y:u3()});function Dn(t){return[t("x"),t("y")]}function f8({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Dz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Mz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Um(t){return t===void 0||t===1}function Kg({scale:t,scaleX:e,scaleY:n}){return!Um(t)||!Um(e)||!Um(n)}function ko(t){return Kg(t)||p8(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function p8(t){return d3(t.x)||d3(t.y)}function d3(t){return t&&t!=="0%"}function Bh(t,e,n){const r=t-n,s=e*r;return n+s}function h3(t,e,n,r,s){return s!==void 0&&(t=Bh(t,s,r)),Bh(t,n,r)+e}function Zg(t,e=0,n=1,r,s){t.min=h3(t.min,e,n,r,s),t.max=h3(t.max,e,n,r,s)}function m8(t,{x:e,y:n}){Zg(t.x,e.translate,e.scale,e.originPoint),Zg(t.y,n.translate,n.scale,n.originPoint)}function $z(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,i;for(let a=0;a<s;a++){o=n[a],i=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Wi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,m8(t,i)),r&&ko(o.latestValues)&&Wi(t,o.latestValues))}e.x=f3(e.x),e.y=f3(e.y)}function f3(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Cs(t,e){t.min=t.min+e,t.max=t.max+e}function p3(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,i=Ge(t.min,t.max,o);Zg(t,e[n],e[r],i,e.scale)}const Fz=["x","scaleX","originX"],Bz=["y","scaleY","originY"];function Wi(t,e){p3(t.x,e,Fz),p3(t.y,e,Bz)}function g8(t,e){return f8(Mz(t.getBoundingClientRect(),e))}function Uz(t,e,n){const r=g8(t,n),{scroll:s}=e;return s&&(Cs(r.x,s.offset.x),Cs(r.y,s.offset.y)),r}const y8=({current:t})=>t?t.ownerDocument.defaultView:null,Vz=new WeakMap;class zz{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mp(d,"page").point)},o=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=NS(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(x=>{let _=this.getAxisMotionValue(x).get()||0;if(Tr.test(_)){const{projection:y}=this.visualElement;if(y&&y.layout){const g=y.layout.layoutBox[x];g&&(_=An(g)*(parseFloat(_)/100))}}this.originPoint[x]=_}),v&&ke.postRender(()=>v(d,h));const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=Hz(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Dn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new d8(e,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:y8(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ke.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Qu(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=jz(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&zi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Az(s.layoutBox,n):this.constraints=!1,this.elastic=Oz(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Dn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Rz(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Uz(r,s.root,this.visualElement.getTransformPagePoint());let i=Pz(s.layout.layoutBox,o);if(n){const a=n(Dz(i));this.hasMutatedConstraints=!!a,a&&(i=f8(a))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Dn(d=>{if(!Qu(d,n,this.currentDirection))return;let h=l&&l[d]||{};i&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(W_(e,r,0,n,this.visualElement))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dn(n=>{const{drag:r}=this.getProps();if(!Qu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:a}=s.layout.layoutBox[n];o.set(e[n]-Ge(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Dn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();s[i]=Lz({min:l,max:l},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dn(i=>{if(!Qu(i,e,null))return;const a=this.getAxisMotionValue(i),{min:l,max:u}=this.constraints[i];a.set(Ge(l,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;Vz.set(this.visualElement,this);const e=this.visualElement.current,n=Gr(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();zi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ke.read(r);const i=zr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Dn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=Gg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function Qu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Hz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qz extends ho{constructor(e){super(e),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new zz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const m3=t=>(e,n)=>{t&&ke.postRender(()=>t(e,n))};class Wz extends ho{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(e){this.session=new d8(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:y8(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:m3(e),onStart:m3(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&ke.postRender(()=>s(o,i))}}}mount(){this.removePointerDownListener=Gr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Gz(){const t=p.useContext(hp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=p.useId();return p.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Td={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function g3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const cl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=g3(t,e.target.x),r=g3(t,e.target.y);return`${n}% ${r}%`}},Kz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=to.parse(t);if(s.length>5)return r;const o=to.createTransformer(t),i=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+i]/=a,s[1+i]/=l;const u=Ge(a,l,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class Zz extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;WB(Yz),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Td.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||ke.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),k_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _8(t){const[e,n]=Gz(),r=p.useContext(Lc);return c.jsx(Zz,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(dS),isPresent:e,safeToRemove:n})}const Yz={borderRadius:{...cl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:cl,borderTopRightRadius:cl,borderBottomLeftRadius:cl,borderBottomRightRadius:cl,boxShadow:Kz},v8=["TopLeft","TopRight","BottomLeft","BottomRight"],Qz=v8.length,y3=t=>typeof t=="string"?parseFloat(t):t,_3=t=>typeof t=="number"||se.test(t);function Xz(t,e,n,r,s,o){s?(t.opacity=Ge(0,n.opacity!==void 0?n.opacity:1,Jz(r)),t.opacityExit=Ge(e.opacity!==void 0?e.opacity:1,0,eH(r))):o&&(t.opacity=Ge(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<Qz;i++){const a=`border${v8[i]}Radius`;let l=v3(e,a),u=v3(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||_3(l)===_3(u)?(t[a]=Math.max(Ge(y3(l),y3(u),r),0),(Tr.test(u)||Tr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ge(e.rotate||0,n.rotate||0,r))}function v3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Jz=w8(0,.5,n8),eH=w8(.5,.95,Gt);function w8(t,e,n){return r=>r<t?0:r>e?1:n(Oc(t,e,r))}function w3(t,e){t.min=e.min,t.max=e.max}function On(t,e){w3(t.x,e.x),w3(t.y,e.y)}function x3(t,e,n,r,s){return t-=e,t=Bh(t,1/n,r),s!==void 0&&(t=Bh(t,1/s,r)),t}function tH(t,e=0,n=1,r=.5,s,o=t,i=t){if(Tr.test(e)&&(e=parseFloat(e),e=Ge(i.min,i.max,e/100)-i.min),typeof e!="number")return;let a=Ge(o.min,o.max,r);t===o&&(a-=e),t.min=x3(t.min,e,n,a,s),t.max=x3(t.max,e,n,a,s)}function C3(t,e,[n,r,s],o,i){tH(t,e[n],e[r],e[s],e.scale,o,i)}const nH=["x","scaleX","originX"],rH=["y","scaleY","originY"];function b3(t,e,n,r){C3(t.x,e,nH,n?n.x:void 0,r?r.x:void 0),C3(t.y,e,rH,n?n.y:void 0,r?r.y:void 0)}function k3(t){return t.translate===0&&t.scale===1}function x8(t){return k3(t.x)&&k3(t.y)}function sH(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function C8(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function S3(t){return An(t.x)/An(t.y)}class oH{constructor(){this.members=[]}add(e){G_(this.members,e),e.scheduleRender()}remove(e){if(K_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function E3(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,i=(n==null?void 0:n.z)||0;if((s||o||i)&&(r=`translate3d(${s}px, ${o}px, ${i}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const iH=(t,e)=>t.depth-e.depth;class aH{constructor(){this.children=[],this.isDirty=!1}add(e){G_(this.children,e),this.isDirty=!0}remove(e){K_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iH),this.isDirty=!1,this.children.forEach(e)}}function lH(t,e){const n=Gs.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(ls(r),t(o-e))};return ke.read(r,!0),()=>ls(r)}function cH(t){window.MotionDebug&&window.MotionDebug.record(t)}function uH(t){return t instanceof SVGElement&&t.tagName!=="svg"}function dH(t,e,n){const r=Vt(t)?t:La(t);return r.start(W_("",r,e,n)),r.animation}const Vm=["","X","Y","Z"],hH={visibility:"hidden"},T3=1e3;let fH=0;const So={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function zm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function b8(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?c8(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?b8(t.parent):!1:!1}function k8({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=e==null?void 0:e()){this.id=fH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,So.totalNodes=So.resolvedTargetDeltas=So.recalculatedProjection=0,this.nodes.forEach(gH),this.nodes.forEach(xH),this.nodes.forEach(CH),this.nodes.forEach(yH),cH(So)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new aH)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Z_),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=uH(i),this.instance=i;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=lH(f,250),Td.hasAnimatedSinceResize&&(Td.hasAnimatedSinceResize=!1,this.nodes.forEach(N3))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||TH,{onLayoutAnimationStart:x,onLayoutAnimationComplete:_}=d.getProps(),y=!this.targetLayout||!C8(this.targetLayout,v)||m,g=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const C={...M_(w,"layout"),onPlay:x,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||N3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ls(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bH),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&b8(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(I3);return}this.isUpdating||this.nodes.forEach(vH),this.isUpdating=!1,this.nodes.forEach(wH),this.nodes.forEach(pH),this.nodes.forEach(mH),this.clearAllSnapshots();const a=Gs.now();kt.delta=eo(0,1e3/60,a-kt.timestamp),kt.timestamp=a,kt.isProcessing=!0,Lm.update.process(kt),Lm.preRender.process(kt),Lm.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,k_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_H),this.sharedNodes.forEach(kH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!x8(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(a||ko(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),IH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return rt();const a=i.measureViewportBox(),{scroll:l}=this.root;return l&&(Cs(a.x,l.offset.x),Cs(a.y,l.offset.y)),a}removeElementScroll(i){const a=rt();On(a,i);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){On(a,i);const{scroll:f}=this.root;f&&(Cs(a.x,-f.offset.x),Cs(a.y,-f.offset.y))}Cs(a.x,d.offset.x),Cs(a.y,d.offset.y)}}return a}applyTransform(i,a=!1){const l=rt();On(l,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Wi(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ko(d.latestValues)&&Wi(l,d.latestValues)}return ko(this.latestValues)&&Wi(l,this.latestValues),l}removeTransform(i){const a=rt();On(a,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!ko(u.latestValues))continue;Kg(u.latestValues)&&u.updateSnapshot();const d=rt(),h=u.measurePageBox();On(d,h),b3(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ko(this.latestValues)&&b3(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Wl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),m8(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Wl(this.relativeTargetOrigin,this.target,m.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}So.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Kg(this.parent.latestValues)||p8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;On(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;$z(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=qi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qi(),this.projectionDeltaWithTransform=qi());const w=this.projectionTransform;ql(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=E3(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),So.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=qi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=rt(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=m!==v,x=this.getStack(),_=!x||x.members.length<=1,y=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(EH));this.animationProgress=0;let g;this.mixTargetDelta=C=>{const b=C/1e3;j3(h.x,i.x,b),j3(h.y,i.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SH(this.relativeTarget,this.relativeTargetOrigin,f,b),g&&sH(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=rt()),On(g,this.relativeTarget)),w&&(this.animationValues=d,Xz(d,u,this.latestValues,b,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ls(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{Td.hasAnimatedSinceResize=!0,this.currentAnimation=dH(0,T3,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(T3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=i;if(!(!a||!l||!u)){if(this!==i&&this.layout&&u&&S8(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||rt();const h=An(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+h;const f=An(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+f}On(a,l),Wi(a,d),ql(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new oH),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&zm("z",i,u,this.animationValues);for(let d=0;d<Vm.length;d++)zm(`rotate${Vm[d]}`,i,u,this.animationValues),zm(`skew${Vm[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hH;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Sd(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Sd(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!ko(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=E3(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Rh){if(f[w]===void 0)continue;const{correct:x,applyTo:_}=Rh[w],y=u.transform==="none"?f[w]:x(f[w],h);if(_){const g=_.length;for(let C=0;C<g;C++)u[_[C]]=y}else u[w]=y}return this.options.layoutId&&(u.pointerEvents=h===this?Sd(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(I3),this.root.sharedNodes.clear()}}}function pH(t){t.updateLayout()}function mH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,i=n.source!==t.layout.source;o==="size"?Dn(h=>{const f=i?n.measuredBox[h]:n.layoutBox[h],m=An(f);f.min=r[h].min,f.max=f.min+m}):S8(o,n.layoutBox,r)&&Dn(h=>{const f=i?n.measuredBox[h]:n.layoutBox[h],m=An(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=qi();ql(a,r,n.layoutBox);const l=qi();i?ql(l,t.applyTransform(s,!0),n.measuredBox):ql(l,r,n.layoutBox);const u=!x8(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=rt();Wl(v,n.layoutBox,f.layoutBox);const w=rt();Wl(w,r,m.layoutBox),C8(v,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function gH(t){So.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _H(t){t.clearSnapshot()}function I3(t){t.clearMeasurements()}function vH(t){t.isLayoutDirty=!1}function wH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function N3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function xH(t){t.resolveTargetDelta()}function CH(t){t.calcProjection()}function bH(t){t.resetSkewAndRotation()}function kH(t){t.removeLeadSnapshot()}function j3(t,e,n){t.translate=Ge(e.translate,0,n),t.scale=Ge(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function A3(t,e,n,r){t.min=Ge(e.min,n.min,r),t.max=Ge(e.max,n.max,r)}function SH(t,e,n,r){A3(t.x,e.x,n.x,r),A3(t.y,e.y,n.y,r)}function EH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TH={duration:.45,ease:[.4,0,.1,1]},P3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),L3=P3("applewebkit/")&&!P3("chrome/")?Math.round:Gt;function R3(t){t.min=L3(t.min),t.max=L3(t.max)}function IH(t){R3(t.x),R3(t.y)}function S8(t,e,n){return t==="position"||t==="preserve-aspect"&&!Wg(S3(e),S3(n),.2)}const NH=k8({attachResizeListener:(t,e)=>zr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hm={current:void 0},E8=k8({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hm.current){const t=new NH({});t.mount(window),t.setOptions({layoutScroll:!0}),Hm.current=t}return Hm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),jH={pan:{Feature:Wz},drag:{Feature:qz,ProjectionNode:E8,MeasureLayout:_8}},Yg={current:null},T8={current:!1};function AH(){if(T8.current=!0,!!x_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yg.current=t.matches;t.addListener(e),e()}else Yg.current=!1}function PH(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],i=n[s];if(Vt(o))t.addValue(s,o),Fh(r)&&r.add(s);else if(Vt(i))t.addValue(s,La(o,{owner:t})),Fh(r)&&r.remove(s);else if(i!==o)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(o):a.hasAnimated||a.set(o)}else{const a=t.getStaticValue(s);t.addValue(s,La(a!==void 0?a:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const O3=new WeakMap,LH=[...MS,Mt,to],RH=t=>LH.find(DS(t)),D3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],OH=E_.length;class DH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},a={}){this.resolveKeyframes=(f,m,v,w)=>new this.KeyframeResolver(f,m,v,w,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ke.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=pp(n),this.isVariantNode=fS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Vt(m)&&(m.set(l[f],!1),Fh(d)&&d.add(f))}}mount(e){this.current=e,O3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),T8.current||AH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){O3.delete(this.current),this.projection&&this.projection.unmount(),ls(this.notifyUpdate),ls(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=gi.has(e),s=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Aa){const n=Aa[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D3.length;r++){const s=D3[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=e[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=PH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<OH;r++){const s=E_[r],o=this.props[s];(Pc(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=La(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(RS(s)||LS(s))?s=parseFloat(s):!RH(s)&&to.test(n)&&(s=qS(e,n)),this.setBaseTarget(e,Vt(s)?s.get():s)),Vt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=O_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Vt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Z_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class I8 extends DH{constructor(){super(...arguments),this.KeyframeResolver=WS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function MH(t){return window.getComputedStyle(t)}class $H extends I8{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(gi.has(n)){const r=B_(n);return r&&r.default||0}else{const r=MH(e),s=(yS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return g8(e,n)}build(e,n,r,s){j_(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return R_(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){CS(e,n,r,s)}}class FH extends I8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(gi.has(n)){const r=B_(n);return r&&r.default||0}return n=bS.has(n)?n:b_(n),e.getAttribute(n)}measureInstanceViewportBox(){return rt()}scrapeMotionValuesFromProps(e,n,r){return SS(e,n,r)}build(e,n,r,s){P_(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){kS(e,n,r,s)}mount(e){this.isSVGTag=L_(e.tagName),super.mount(e)}}const BH=(t,e)=>T_(t)?new FH(e,{enableHardwareAcceleration:!1}):new $H(e,{allowProjection:t!==p.Fragment,enableHardwareAcceleration:!0}),UH={layout:{ProjectionNode:E8,MeasureLayout:_8}},VH={...Sz,...RU,...jH,...UH},ot=HB((t,e)=>xU(t,e,VH,BH));function N8(){const t=p.useRef(!1);return C_(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function j8(){const t=N8(),[e,n]=p.useState(0),r=p.useCallback(()=>{t.current&&n(e+1)},[e]);return[p.useCallback(()=>ke.postRender(r),[r]),e]}class zH extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function HH({children:t,isPresent:e}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=p.useContext(up);return p.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:u}=s.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),c.jsx(zH,{isPresent:e,childRef:r,sizeRef:s,children:p.cloneElement(t,{ref:r})})}const qm=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const a=D_(qH),l=p.useId(),u=p.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),o?[Math.random()]:[n]);return p.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(t=c.jsx(HH,{isPresent:n,children:t})),c.jsx(hp.Provider,{value:u,children:t})};function qH(){return new Map}function WH(t){return p.useEffect(()=>()=>t(),[])}const Eo=t=>t.key||"";function GH(t,e){t.forEach(n=>{const r=Eo(n);e.set(r,n)})}function KH(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const ZH=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const a=p.useContext(Lc).forceRender||j8()[0],l=N8(),u=KH(t);let d=u;const h=p.useRef(new Map).current,f=p.useRef(d),m=p.useRef(new Map).current,v=p.useRef(!0);if(C_(()=>{v.current=!1,GH(u,m),f.current=d}),WH(()=>{v.current=!0,m.clear(),h.clear()}),v.current)return c.jsx(c.Fragment,{children:d.map(y=>c.jsx(qm,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i,children:y},Eo(y)))});d=[...d];const w=f.current.map(Eo),x=u.map(Eo),_=w.length;for(let y=0;y<_;y++){const g=w[y];x.indexOf(g)===-1&&!h.has(g)&&h.set(g,void 0)}return i==="wait"&&h.size&&(d=[]),h.forEach((y,g)=>{if(x.indexOf(g)!==-1)return;const C=m.get(g);if(!C)return;const b=w.indexOf(g);let k=y;if(!k){const T=()=>{h.delete(g);const S=Array.from(m.keys()).filter(E=>!x.includes(E));if(S.forEach(E=>m.delete(E)),f.current=u.filter(E=>{const I=Eo(E);return I===g||S.includes(I)}),!h.size){if(l.current===!1)return;a(),r&&r()}};k=c.jsx(qm,{isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:o,mode:i,children:C},Eo(C)),h.set(g,k)}d.splice(b,0,k)}),d=d.map(y=>{const g=y.key;return h.has(g)?y:c.jsx(qm,{isPresent:!0,presenceAffectsLayout:o,mode:i,children:y},Eo(y))}),c.jsx(c.Fragment,{children:h.size?d:d.map(y=>p.cloneElement(y))})},YH=p.createContext(null),QH=t=>!t.isLayoutDirty&&t.willUpdate(!1);function M3(){const t=new Set,e=new WeakMap,n=()=>t.forEach(QH);return{add:r=>{t.add(r),e.set(r,r.addEventListener("willUpdate",n))},remove:r=>{t.delete(r);const s=e.get(r);s&&(s(),e.delete(r)),n()},dirty:n}}const A8=t=>t===!0,XH=t=>A8(t===!0)||t==="id",JH=({children:t,id:e,inherit:n=!0})=>{const r=p.useContext(Lc),s=p.useContext(YH),[o,i]=j8(),a=p.useRef(null),l=r.id||s;a.current===null&&(XH(n)&&l&&(e=e?l+"-"+e:l),a.current={id:e,group:A8(n)&&r.group||M3()});const u=p.useMemo(()=>({...a.current,forceRender:o}),[i]);return c.jsx(Lc.Provider,{value:u,children:t})};function P8(t){const e=D_(()=>La(t)),{isStatic:n}=p.useContext(up);if(n){const[,r]=p.useState(t);p.useEffect(()=>e.on("change",r),[])}return e}var L8={},Y_={},Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});var $3="html",F3="head",Xu="body",eq=/<([a-zA-Z]+[0-9]?)/,B3=/<head[^]*>/i,U3=/<body[^]*>/i,Uh=function(t,e){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Qg=function(t,e){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},V3=typeof window=="object"&&window.DOMParser;if(typeof V3=="function"){var tq=new V3,nq="text/html";Qg=function(t,e){return e&&(t="<".concat(e,">").concat(t,"</").concat(e,">")),tq.parseFromString(t,nq)},Uh=Qg}if(typeof document=="object"&&document.implementation){var Ju=document.implementation.createHTMLDocument();Uh=function(t,e){if(e){var n=Ju.documentElement.querySelector(e);return n&&(n.innerHTML=t),Ju}return Ju.documentElement.innerHTML=t,Ju}}var ed=typeof document=="object"&&document.createElement("template"),Xg;ed&&ed.content&&(Xg=function(t){return ed.innerHTML=t,ed.content.childNodes});function rq(t){var e,n,r=t.match(eq),s=r&&r[1]?r[1].toLowerCase():"";switch(s){case $3:{var o=Qg(t);if(!B3.test(t)){var i=o.querySelector(F3);(e=i==null?void 0:i.parentNode)===null||e===void 0||e.removeChild(i)}if(!U3.test(t)){var i=o.querySelector(Xu);(n=i==null?void 0:i.parentNode)===null||n===void 0||n.removeChild(i)}return o.querySelectorAll($3)}case F3:case Xu:{var a=Uh(t).querySelectorAll(s);return U3.test(t)&&B3.test(t)?a[0].parentNode.childNodes:a}default:{if(Xg)return Xg(t);var i=Uh(t,Xu).querySelector(Xu);return i.childNodes}}}Q_.default=rq;var Ra={},X_={},J_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(J_);var ye={},fo=ze&&ze.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Gl=ze&&ze.__assign||function(){return Gl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Gl.apply(this,arguments)};Object.defineProperty(ye,"__esModule",{value:!0});ye.cloneNode=ye.hasChildren=ye.isDocument=ye.isDirective=ye.isComment=ye.isText=ye.isCDATA=ye.isTag=ye.Element=ye.Document=ye.CDATA=ye.NodeWithChildren=ye.ProcessingInstruction=ye.Comment=ye.Text=ye.DataNode=ye.Node=void 0;var _n=J_,ev=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),tv(this,e)},t}();ye.Node=ev;var _p=function(t){fo(e,t);function e(n){var r=t.call(this)||this;return r.data=n,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(ev);ye.DataNode=_p;var R8=function(t){fo(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=_n.ElementType.Text,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(_p);ye.Text=R8;var O8=function(t){fo(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=_n.ElementType.Comment,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(_p);ye.Comment=O8;var D8=function(t){fo(e,t);function e(n,r){var s=t.call(this,r)||this;return s.name=n,s.type=_n.ElementType.Directive,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(_p);ye.ProcessingInstruction=D8;var vp=function(t){fo(e,t);function e(n){var r=t.call(this)||this;return r.children=n,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(ev);ye.NodeWithChildren=vp;var M8=function(t){fo(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=_n.ElementType.CDATA,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(vp);ye.CDATA=M8;var $8=function(t){fo(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=_n.ElementType.Root,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(vp);ye.Document=$8;var F8=function(t){fo(e,t);function e(n,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=n==="script"?_n.ElementType.Script:n==="style"?_n.ElementType.Style:_n.ElementType.Tag);var i=t.call(this,s)||this;return i.name=n,i.attribs=r,i.type=o,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,o;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(o=n["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(vp);ye.Element=F8;function B8(t){return(0,_n.isTag)(t)}ye.isTag=B8;function U8(t){return t.type===_n.ElementType.CDATA}ye.isCDATA=U8;function V8(t){return t.type===_n.ElementType.Text}ye.isText=V8;function z8(t){return t.type===_n.ElementType.Comment}ye.isComment=z8;function H8(t){return t.type===_n.ElementType.Directive}ye.isDirective=H8;function q8(t){return t.type===_n.ElementType.Root}ye.isDocument=q8;function sq(t){return Object.prototype.hasOwnProperty.call(t,"children")}ye.hasChildren=sq;function tv(t,e){e===void 0&&(e=!1);var n;if(V8(t))n=new R8(t.data);else if(z8(t))n=new O8(t.data);else if(B8(t)){var r=e?Wm(t.children):[],s=new F8(t.name,Gl({},t.attribs),r);r.forEach(function(l){return l.parent=s}),t.namespace!=null&&(s.namespace=t.namespace),t["x-attribsNamespace"]&&(s["x-attribsNamespace"]=Gl({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(s["x-attribsPrefix"]=Gl({},t["x-attribsPrefix"])),n=s}else if(U8(t)){var r=e?Wm(t.children):[],o=new M8(r);r.forEach(function(u){return u.parent=o}),n=o}else if(q8(t)){var r=e?Wm(t.children):[],i=new $8(r);r.forEach(function(u){return u.parent=i}),t["x-mode"]&&(i["x-mode"]=t["x-mode"]),n=i}else if(H8(t)){var a=new D8(t.name,t.data);t["x-name"]!=null&&(a["x-name"]=t["x-name"],a["x-publicId"]=t["x-publicId"],a["x-systemId"]=t["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}ye.cloneNode=tv;function Wm(t){for(var e=t.map(function(r){return tv(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}(function(t){var e=ze&&ze.__createBinding||(Object.create?function(a,l,u,d){d===void 0&&(d=u);var h=Object.getOwnPropertyDescriptor(l,u);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,d,h)}:function(a,l,u,d){d===void 0&&(d=u),a[d]=l[u]}),n=ze&&ze.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&e(l,a,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=J_,s=ye;n(ye,t);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},i=function(){function a(l,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=o),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??o,this.elementCB=d??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new s.Element(l,u,void 0,d);this.addNode(h),this.tagStack.push(h)},a.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(l);this.addNode(d),this.lastNode=d}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new s.Comment(l);this.addNode(u),this.lastNode=u},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new s.Text(""),u=new s.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,u){var d=new s.ProcessingInstruction(l,u);this.addNode(d)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),d&&(l.prev=d,d.next=l),l.parent=u,this.lastNode=null},a}();t.DomHandler=i,t.default=i})(X_);var W8={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{})})(W8);Object.defineProperty(Ra,"__esModule",{value:!0});Ra.formatDOM=Ra.formatAttributes=void 0;var td=X_,oq=W8;function iq(t){return oq.CASE_SENSITIVE_TAG_NAMES_MAP[t]}function G8(t){for(var e={},n=0,r=t.length;n<r;n++){var s=t[n];e[s.name]=s.value}return e}Ra.formatAttributes=G8;function aq(t){t=t.toLowerCase();var e=iq(t);return e||t}function K8(t,e,n){e===void 0&&(e=null);for(var r=[],s,o=0,i=t.length;o<i;o++){var a=t[o];switch(a.nodeType){case 1:{var l=aq(a.nodeName);s=new td.Element(l,G8(a.attributes)),s.children=K8(l==="template"?a.content.childNodes:a.childNodes,s);break}case 3:s=new td.Text(a.nodeValue);break;case 8:s=new td.Comment(a.nodeValue);break;default:continue}var u=r[o-1]||null;u&&(u.next=s),s.parent=e,s.prev=u,s.next=null,r.push(s)}return n&&(s=new td.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),s.next=r[0]||null,s.parent=e,r.unshift(s),r[1]&&(r[1].prev=r[0])),r}Ra.formatDOM=K8;var lq=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Y_,"__esModule",{value:!0});var cq=lq(Q_),uq=Ra,dq=/<(![a-zA-Z\s]+)>/;function hq(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];var e=t.match(dq),n=e?e[1]:void 0;return(0,uq.formatDOM)((0,cq.default)(t),null,n)}Y_.default=hq;var wp={},or={},xp={},fq=0;xp.SAME=fq;var pq=1;xp.CAMELCASE=pq;xp.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const Z8=0,po=1,Cp=2,bp=3,nv=4,Y8=5,Q8=6;function mq(t){return At.hasOwnProperty(t)?At[t]:null}function on(t,e,n,r,s,o,i){this.acceptsBooleans=e===Cp||e===bp||e===nv,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}const At={},gq=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];gq.forEach(t=>{At[t]=new on(t,Z8,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,e])=>{At[t]=new on(t,po,!1,e,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(t=>{At[t]=new on(t,Cp,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{At[t]=new on(t,Cp,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{At[t]=new on(t,bp,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(t=>{At[t]=new on(t,bp,!0,t,null,!1,!1)});["capture","download"].forEach(t=>{At[t]=new on(t,nv,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(t=>{At[t]=new on(t,Q8,!1,t,null,!1,!1)});["rowSpan","start"].forEach(t=>{At[t]=new on(t,Y8,!1,t.toLowerCase(),null,!1,!1)});const rv=/[\-\:]([a-z])/g,sv=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const e=t.replace(rv,sv);At[e]=new on(e,po,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const e=t.replace(rv,sv);At[e]=new on(e,po,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(t=>{const e=t.replace(rv,sv);At[e]=new on(e,po,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(t=>{At[t]=new on(t,po,!1,t.toLowerCase(),null,!1,!1)});const yq="xlinkHref";At[yq]=new on("xlinkHref",po,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(t=>{At[t]=new on(t,po,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:_q,SAME:vq,possibleStandardNames:z3}=xp,wq=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",xq=wq+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Cq=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+xq+"]*$")),bq=Object.keys(z3).reduce((t,e)=>{const n=z3[e];return n===vq?t[e]=e:n===_q?t[e.toLowerCase()]=e:t[e]=n,t},{});or.BOOLEAN=bp;or.BOOLEANISH_STRING=Cp;or.NUMERIC=Y8;or.OVERLOADED_BOOLEAN=nv;or.POSITIVE_NUMERIC=Q8;or.RESERVED=Z8;or.STRING=po;or.getPropertyInfo=mq;or.isCustomAttribute=Cq;or.possibleStandardNames=bq;var ov={},iv={},H3=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,kq=/\n/g,Sq=/^\s*/,Eq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Tq=/^:\s*/,Iq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Nq=/^[;\s]*/,jq=/^\s+|\s+$/g,Aq=`
`,q3="/",W3="*",To="",Pq="comment",Lq="declaration",Rq=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function s(v){var w=v.match(kq);w&&(n+=w.length);var x=v.lastIndexOf(Aq);r=~x?v.length-x:r+v.length}function o(){var v={line:n,column:r};return function(w){return w.position=new i(v),u(),w}}function i(v){this.start=v,this.end={line:n,column:r},this.source=e.source}i.prototype.content=t;function a(v){var w=new Error(e.source+":"+n+":"+r+": "+v);if(w.reason=v,w.filename=e.source,w.line=n,w.column=r,w.source=t,!e.silent)throw w}function l(v){var w=v.exec(t);if(w){var x=w[0];return s(x),t=t.slice(x.length),w}}function u(){l(Sq)}function d(v){var w;for(v=v||[];w=h();)w!==!1&&v.push(w);return v}function h(){var v=o();if(!(q3!=t.charAt(0)||W3!=t.charAt(1))){for(var w=2;To!=t.charAt(w)&&(W3!=t.charAt(w)||q3!=t.charAt(w+1));)++w;if(w+=2,To===t.charAt(w-1))return a("End of comment missing");var x=t.slice(2,w-2);return r+=2,s(x),t=t.slice(w),r+=2,v({type:Pq,comment:x})}}function f(){var v=o(),w=l(Eq);if(w){if(h(),!l(Tq))return a("property missing ':'");var x=l(Iq),_=v({type:Lq,property:G3(w[0].replace(H3,To)),value:x?G3(x[0].replace(H3,To)):To});return l(Nq),_}}function m(){var v=[];d(v);for(var w;w=f();)w!==!1&&(v.push(w),d(v));return v}return u(),m()};function G3(t){return t?t.replace(jq,To):To}var Oq=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(iv,"__esModule",{value:!0});var Dq=Oq(Rq);function Mq(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,Dq.default)(t),s=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var i=o.property,a=o.value;s?e(i,a,o):a&&(n=n||{},n[i]=a)}}),n}iv.default=Mq;var kp={};Object.defineProperty(kp,"__esModule",{value:!0});kp.camelCase=void 0;var $q=/^--[a-zA-Z0-9-]+$/,Fq=/-([a-z])/g,Bq=/^[^-]+$/,Uq=/^-(webkit|moz|ms|o|khtml)-/,Vq=/^-(ms)-/,zq=function(t){return!t||Bq.test(t)||$q.test(t)},Hq=function(t,e){return e.toUpperCase()},K3=function(t,e){return"".concat(e,"-")},qq=function(t,e){return e===void 0&&(e={}),zq(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Vq,K3):t=t.replace(Uq,K3),t.replace(Fq,Hq))};kp.camelCase=qq;var Wq=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Gq=Wq(iv),Kq=kp;function Jg(t,e){var n={};return!t||typeof t!="string"||(0,Gq.default)(t,function(r,s){r&&s&&(n[(0,Kq.camelCase)(r,e)]=s)}),n}Jg.default=Jg;var Zq=Jg;(function(t){var e=ze&&ze.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var n=p,r=e(Zq),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(d,h){return d.includes("-")?!s.has(d):!!(h&&typeof h.is=="string")}t.isCustomComponent=o;var i={reactCompat:!0};function a(d,h){if(typeof d=="string"){if(!d.trim()){h.style={};return}try{h.style=(0,r.default)(d,i)}catch{h.style={}}}}t.setStyleProp=a,t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(d){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};t.canTextBeChildOfNode=l;var u=function(d){return d};t.returnFirstArg=u})(ov);Object.defineProperty(wp,"__esModule",{value:!0});var Tl=or,Z3=ov,Yq=["checked","value"],Qq=["input","select","textarea"],Xq={reset:!0,submit:!0};function Jq(t,e){t===void 0&&(t={});var n={},r=!!(t.type&&Xq[t.type]);for(var s in t){var o=t[s];if((0,Tl.isCustomAttribute)(s)){n[s]=o;continue}var i=s.toLowerCase(),a=Y3(i);if(a){var l=(0,Tl.getPropertyInfo)(a);switch(Yq.includes(a)&&Qq.includes(e)&&!r&&(a=Y3("default"+i)),n[a]=o,l&&l.type){case Tl.BOOLEAN:n[a]=!0;break;case Tl.OVERLOADED_BOOLEAN:o===""&&(n[a]=!0);break}continue}Z3.PRESERVE_CUSTOM_ATTRIBUTES&&(n[s]=o)}return(0,Z3.setStyleProp)(t.style,n),n}wp.default=Jq;function Y3(t){return Tl.possibleStandardNames[t]}var av={},eW=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(av,"__esModule",{value:!0});var Gm=p,tW=eW(wp),Kl=ov,nW={cloneElement:Gm.cloneElement,createElement:Gm.createElement,isValidElement:Gm.isValidElement};function X8(t,e){e===void 0&&(e={});for(var n=[],r=typeof e.replace=="function",s=e.transform||Kl.returnFirstArg,o=e.library||nW,i=o.cloneElement,a=o.createElement,l=o.isValidElement,u=t.length,d=0;d<u;d++){var h=t[d];if(r){var f=e.replace(h,d);if(l(f)){u>1&&(f=i(f,{key:f.key||d})),n.push(s(f,h,d));continue}}if(h.type==="text"){var m=!h.data.trim().length;if(m&&h.parent&&!(0,Kl.canTextBeChildOfNode)(h.parent)||e.trim&&m)continue;n.push(s(h.data,h,d));continue}var v=h,w={};rW(v)?((0,Kl.setStyleProp)(v.attribs.style,v.attribs),w=v.attribs):v.attribs&&(w=(0,tW.default)(v.attribs,v.name));var x=void 0;switch(h.type){case"script":case"style":h.children[0]&&(w.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?w.defaultValue=h.children[0].data:h.children&&h.children.length&&(x=X8(h.children,e));break;default:continue}u>1&&(w.key=d),n.push(s(a(h.name,w,x),h,d))}return n.length===1?n[0]:n}av.default=X8;function rW(t){return Kl.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&(0,Kl.isCustomComponent)(t.name,t.attribs)}(function(t){var e=ze&&ze.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var n=e(Y_);t.htmlToDOM=n.default;var r=e(wp);t.attributesToProps=r.default;var s=e(av);t.domToReact=s.default;var o=X_;Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return o.Text}});var i={lowerCaseAttributeNames:!1};function a(l,u){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,s.default)((0,n.default)(l,(u==null?void 0:u.htmlparser2)||i),u):[]}t.default=a})(L8);const Q3=Gh(L8),cs=Q3.default||Q3;function sW({messages:t,backgroundColor:e,textColor:n,date:r,photoClick:s}){const o=(h,f)=>{s(h,f)},{authUser:i}=pe(),{theme:a,setThemeById:l,elementColors:u,setElementColors:d}=p.useContext(F);return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:qe["data-container"],style:{background:e,color:n},children:r}),t.map((h,f)=>c.jsxs("div",{className:qe["message-body"],children:[c.jsxs("div",{className:qe["user-container"],children:[c.jsx("div",{className:qe["user-photo"],children:h.isUser?c.jsx("img",{src:i.avatar,className:qe["user-avatar"]}):c.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[c.jsx("stop",{"stop-color":a.gradient_first_color}),c.jsx("stop",{offset:"1","stop-color":a.gradient_second_color})]})})]})}),c.jsx("div",{className:qe["user-name"],style:{color:n},children:h.isUser?h.userName:"Genery"})]}),h.photos&&c.jsx("div",{className:qe["images-body"],children:c.jsx("div",{className:qe[`images-wrapper_${h.photos.length}`],children:h.photos.map((m,v)=>c.jsx(ot.div,{className:qe[`image_${v}`],whileTap:{scale:1.5},children:c.jsx("img",{src:m,onClick:()=>o(h.photos,v)})}))})}),c.jsx("div",{className:qe["message-text"],style:{color:n},children:cs(h.text)})]},f))]})}function oW({textColor:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=p.useContext(F);return c.jsxs("div",{className:qe["message-body"],children:[c.jsxs("div",{className:qe["user-container"],children:[c.jsx("div",{className:qe["user-photo"],children:c.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[c.jsx("stop",{"stop-color":e.first_color}),c.jsx("stop",{offset:"1","stop-color":e.element_first_color})]})})]})}),c.jsx("div",{className:qe["user-name"],style:{color:t},children:"Genery"})]}),c.jsx("div",{className:qe["skeleton-high"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),c.jsx("div",{className:qe["skeleton-meduim"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),c.jsx("div",{className:qe["skeleton-small"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}})]})}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=["user","model","function","system"];var hr;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(hr||(hr={}));var fr;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(fr||(fr={}));var J3;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(J3||(J3={}));var eC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(eC||(eC={}));var Vh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(Vh||(Vh={}));var tC;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(tC||(tC={}));var nC;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(nC||(nC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rC;(function(t){t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(rC||(rC={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Ci extends en{constructor(e,n){super(e),this.response=n}}class sC extends en{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class Id extends en{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW="https://generativelanguage.googleapis.com",aW="v1beta",lW="0.10.0",cW="genai-js";var ri;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ri||(ri={}));class J8{constructor(e,n,r,s,o){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=o}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||aW;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||iW}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function uW(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${cW}/${lW}`),e.join(" ")}async function dW(t){const e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",uW(t.requestOptions)),e.append("x-goog-api-key",t.apiKey);let n=t.requestOptions.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(r){throw new Id(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${r.message}`)}for(const[r,s]of n.entries()){if(r==="x-goog-api-key")throw new Id(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new Id(`Header name ${r} can only be set using the apiClient field`);e.append(r,s)}}return e}async function hW(t,e,n,r,s,o){const i=new J8(t,e,n,r,o);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},pW(o)),{method:"POST",headers:await dW(i),body:s})}}async function fu(t,e,n,r,s,o){return fW(t,e,n,r,s,o,fetch)}async function fW(t,e,n,r,s,o,i=fetch){const a=new J8(t,e,n,r,o);let l;try{const u=await hW(t,e,n,r,s,o);if(l=await i(u.url,u.fetchOptions),!l.ok){let d="",h;try{const f=await l.json();d=f.error.message,f.error.details&&(d+=` ${JSON.stringify(f.error.details)}`,h=f.error.details)}catch{}throw new sC(`Error fetching from ${a.toString()}: [${l.status} ${l.statusText}] ${d}`,l.status,l.statusText,h)}}catch(u){let d=u;throw u instanceof sC||u instanceof Id||(d=new en(`Error fetching from ${a.toString()}: ${u.message}`),d.stack=u.stack),d}return l}function pW(t){const e={};if((t==null?void 0:t.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),t.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Nd(t.candidates[0]))throw new Ci(`${bs(t)}`,t);return mW(t)}else if(t.promptFeedback)throw new Ci(`Text not available. ${bs(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Nd(t.candidates[0]))throw new Ci(`${bs(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),oC(t)[0]}else if(t.promptFeedback)throw new Ci(`Function call not available. ${bs(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Nd(t.candidates[0]))throw new Ci(`${bs(t)}`,t);return oC(t)}else if(t.promptFeedback)throw new Ci(`Function call not available. ${bs(t)}`,t)},t}function mW(t){var e,n,r,s;return!((s=(r=(n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?t.candidates[0].content.parts.map(({text:o})=>o).join(""):""}function oC(t){var e,n,r,s;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const i of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)i.functionCall&&o.push(i.functionCall);if(o.length>0)return o}const gW=[Vh.RECITATION,Vh.SAFETY];function Nd(t){return!!t.finishReason&&gW.includes(t.finishReason)}function bs(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];Nd(o)&&(s+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(s+=`: ${o.finishMessage}`))}return s}function Dc(t){return this instanceof Dc?(this.v=t,this):new Dc(t)}function yW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(f){r[f]&&(s[f]=function(m){return new Promise(function(v,w){o.push([f,m,v,w])>1||a(f,m)})})}function a(f,m){try{l(r[f](m))}catch(v){h(o[0][3],v)}}function l(f){f.value instanceof Dc?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,m){f(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function _W(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=xW(e),[r,s]=n.tee();return{stream:wW(r),response:vW(s)}}async function vW(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return lv(CW(e));e.push(s)}}function wW(t){return yW(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield Dc(n.read());if(s)break;yield yield Dc(lv(r))}})}function xW(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return o();function o(){return e.read().then(({value:i,done:a})=>{if(a){if(s.trim()){r.error(new en("Failed to parse stream"));return}r.close();return}s+=i;let l=s.match(iC),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new en(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(iC)}return o()})}}})}function CW(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const s of r.candidates){const o=s.index;if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:s.index}),n.candidates[o].citationMetadata=s.citationMetadata,n.candidates[o].finishReason=s.finishReason,n.candidates[o].finishMessage=s.finishMessage,n.candidates[o].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[o].content||(n.candidates[o].content={role:s.content.role||"user",parts:[]});const i={};for(const a of s.content.parts)a.text&&(i.text=a.text),a.functionCall&&(i.functionCall=a.functionCall),Object.keys(i).length===0&&(i.text=""),n.candidates[o].content.parts.push(i)}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e6(t,e,n,r){const s=await fu(e,ri.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return _W(s)}async function t6(t,e,n,r){const o=await(await fu(e,ri.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:lv(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function zh(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return bW(e)}function bW(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),s=!0):(e.parts.push(o),r=!0);if(r&&s)throw new en("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new en("No content is provided for sending chat message.");return r?e:n}function Km(t){let e;return t.contents?e=t:e={contents:[zh(t)]},t.systemInstruction&&(e.systemInstruction=n6(t.systemInstruction)),e}function kW(t){return typeof t=="string"||Array.isArray(t)?{content:zh(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=["text","inlineData","functionCall","functionResponse"],SW={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},lC={user:["model"],function:["model"],model:["user","function"],system:[]};function EW(t){let e;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new en(`First content should be with role 'user', got ${r}`);if(!X3.includes(r))throw new en(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(X3)}`);if(!Array.isArray(s))throw new en("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new en("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0};for(const a of s)for(const l of aC)l in a&&(o[l]+=1);const i=SW[r];for(const a of aC)if(!i.includes(a)&&o[a]>0)throw new en(`Content with role '${r}' can't contain '${a}' part`);if(e&&!lC[r].includes(e.role))throw new en(`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(lC)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="SILENT_ERROR";class TW{constructor(e,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(EW(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r,s,o,i;await this._sendPromise;const a=zh(e),l={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,contents:[...this._history,a]};let u;return this._sendPromise=this._sendPromise.then(()=>t6(this._apiKey,this.model,l,this.requestOptions)).then(d=>{var h;if(d.response.candidates&&d.response.candidates.length>0){this._history.push(a);const f=Object.assign({parts:[],role:"model"},(h=d.response.candidates)===null||h===void 0?void 0:h[0].content);this._history.push(f)}else{const f=bs(d.response);f&&console.warn(`sendMessage() was unsuccessful. ${f}. Inspect response object for details.`)}u=d}),await this._sendPromise,u}async sendMessageStream(e){var n,r,s,o,i;await this._sendPromise;const a=zh(e),l={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,contents:[...this._history,a]},u=e6(this._apiKey,this.model,l,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>u).catch(d=>{throw new Error(cC)}).then(d=>d.response).then(d=>{if(d.candidates&&d.candidates.length>0){this._history.push(a);const h=Object.assign({},d.candidates[0].content);h.role||(h.role="model"),this._history.push(h)}else{const h=bs(d);h&&console.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(d=>{d.message!==cC&&console.error(d)}),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IW(t,e,n,r){return(await fu(e,ri.COUNT_TOKENS,t,!1,JSON.stringify(Object.assign(Object.assign({},n),{model:e})),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NW(t,e,n,r){return(await fu(e,ri.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function jW(t,e,n,r){const s=n.requests.map(i=>Object.assign(Object.assign({},i),{model:e}));return(await fu(e,ri.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,n,r){this.apiKey=e,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=n6(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=Km(e);return t6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}async generateContentStream(e){const n=Km(e);return e6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}startChat(e){return new TW(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},e),this.requestOptions)}async countTokens(e){const n=Km(e);return IW(this.apiKey,this.model,n,this.requestOptions)}async embedContent(e){const n=kW(e);return NW(this.apiKey,this.model,n,this.requestOptions)}async batchEmbedContents(e){return jW(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new en("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new AW(this.apiKey,e,n)}}async function LW(t){return{inlineData:{data:await new Promise(n=>{const r=new FileReader;r.onloadend=()=>n(r.result.split(",")[1]),r.readAsDataURL(t)}),mimeType:t.type}}}async function RW(t,e){const n=localStorage.getItem("censor")==="true",r=n?[{category:hr.HARM_CATEGORY_HARASSMENT,threshold:fr.BLOCK_LOW_AND_ABOVE},{category:hr.HARM_CATEGORY_HATE_SPEECH,threshold:fr.BLOCK_LOW_AND_ABOVE},{category:hr.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:fr.BLOCK_LOW_AND_ABOVE},{category:hr.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:fr.BLOCK_LOW_AND_ABOVE}]:[{category:hr.HARM_CATEGORY_HARASSMENT,threshold:fr.BLOCK_NONE},{category:hr.HARM_CATEGORY_HATE_SPEECH,threshold:fr.BLOCK_NONE},{category:hr.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:fr.BLOCK_NONE},{category:hr.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:fr.BLOCK_NONE}],s="tunedModels/untitled-tuned-model-br14g0ftksw6",o="AIzaSyCkA6qe0gFiRJctb3l9iGnI7YTyyN3kTkg",a=new PW(o).getGenerativeModel({model:s}),l={temperature:.5,topK:1,topP:1,maxOutputTokens:2048},u=n?[{text:`input: ${t}`}]:[{text:"input: Заебал"},{text:"output: Эу, братишка, проще общайся"},{text:`input: ${t}`}];try{const d=await Promise.all(e.map(LW));let h;e.length>0?h=await a.generateContent([t,...d]):h=await a.generateContent({contents:[{role:"user",parts:u}],generationConfig:l,safetySettings:r});const f=await h.response.text();return console.log(f),[f,!1]}catch(d){return console.error("Ошибка при запросе к Google Generative AI:",d),["Ошибка при генерации ответа",!1]}}const wn={"input-container":"_input-container_hubm7_1","button-circle":"_button-circle_hubm7_28","input-message-body":"_input-message-body_hubm7_45","image-previewer":"_image-previewer_hubm7_56","image-wrapper":"_image-wrapper_hubm7_66","remove-image":"_remove-image_hubm7_81","image-no-select":"_image-no-select_hubm7_102","input-message-wrapper":"_input-message-wrapper_hubm7_111","emoji-button":"_emoji-button_hubm7_120","message-input":"_message-input_hubm7_138","send-button":"_send-button_hubm7_171","emoji-img":"_emoji-img_hubm7_192"},OW="_show_esoz4_22",DW="_categories_esoz4_27",MW="_emoji_esoz4_2",Kn={"emoji-panel":"_emoji-panel_esoz4_2",show:OW,categories:DW,"emoji-category":"_emoji-category_esoz4_50","emojies-container":"_emojies-container_esoz4_69","category-name":"_category-name_esoz4_78","emojies-body":"_emojies-body_esoz4_86","emojies-content":"_emojies-content_esoz4_95",emoji:MW,"emoji-img":"_emoji-img_esoz4_116","emoji-img-text":"_emoji-img-text_esoz4_124"},uC=[{name:"smiles",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M7.99985 15C8.84985 15.63 9.88485 16 10.9998 16C12.1148 16 13.1498 15.63 13.9998 15" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M14.9998 9.50003C14.9998 10.328 14.5518 11 13.9998 11C13.4478 11 12.9998 10.328 12.9998 9.50003C12.9998 8.67203 13.4478 8.00003 13.9998 8.00003C14.5518 8.00003 14.9998 8.67203 14.9998 9.50003Z" fill="{theme.text_first_color}"/>
                <path d="M7.99994 11C8.55222 11 8.99994 10.3285 8.99994 9.50003C8.99994 8.6716 8.55222 8.00003 7.99994 8.00003C7.44765 8.00003 6.99994 8.6716 6.99994 9.50003C6.99994 10.3285 7.44765 11 7.99994 11Z" fill="{theme.text_first_color}"/>
            </svg>
         
        `,isImgEmoji:!1,emojis:["😀","😃","😄","😁","😆","😅","😂","🤣","😭","😉","😗","😙","😚","😘","🥰","😍","🤩","🥳","🙃","🙂","🥲","🥹","😋","😛","😝","😜","🤪","😇","😊","😊","😏","😏","😌","😔","😑","😐","😶","🫡","🤔","🤫","🫢","🤭","🥱","🤗","🫣","😱","🤨","🧐","😒","🙄","😮‍💨","😤","😠","😡","🤬","🥺","😟","😟","😢","☹️","🙁","🫤","😕","🤐","😰","😨","😧","😦","😮","😯","😲","😳","🤯","😬","😓","😞","😖","😣","😩","😫","😵","😵‍💫","🫥","😴","😪","🤤","🌛","🌜","🌚","🌝","🌞","🫠","😶‍🌫️","🥴","🥵","🥶","🤢","🤮","🤧","🤒","🤕","😷","🤠","🤠","😎","🤓","🥸","🤥","🤡","👻","💩","👽","🤖","🎃","😈","👿","👹","👺","🔥","💫","⭐","🌟","✨","💥","💯","💢","💨","💦","🫧","💤","🕳️","🎉","🎊","🙈","🙉","🙊","😺","😸","😹","😻","😼","😽","🙀","😿","😾","👶","🧒","👦","👧","🧑","👱‍♂️","👱‍♀️","👨","👩","🧔","👨‍🦰","👩‍🦰","👨‍🦱","👩‍🦱","👨‍🦳","👩‍🦳","👨‍🦲","👩‍🦲","👱","👴","👵","🧓","👲","👳‍♂️","👳‍♀️","🧕","👮‍♂️","👮‍♀️","👷‍♂️","👷‍♀️","💂‍♂️","💂‍♀️","🕵️‍♂️","🕵️‍♀️","👩‍⚕️","👨‍⚕️","👩‍🌾","👨‍🌾","👩‍🍳","👨‍🍳","👩‍🎓","👨‍🎓","👩‍🏫","👨‍🏫","👩‍⚖️","👨‍⚖️","👩‍🌾","👨‍🌾","👩‍⚕️","👨‍⚕️","👩‍💻","👨‍💻","👩‍💼","👨‍💼","👩‍🔧","👨‍🔧","👩‍🔬","👨‍🔬","👩‍🎨","👨‍🎨","👩‍🚒","👨‍🚒","👩‍✈️","👨‍✈️","👩‍🚀","👨‍🚀","👩‍⚖️","👨‍⚖️","👰","🤵","👸","🤴","🤶","🎅","🧙‍♀️","🧙‍♂️","🧝‍♀️","🧝‍♂️","🧛‍♀️","🧛‍♂️","🧟‍♀️","🧟‍♂️","🧞‍♀️","🧞‍♂️","🧜‍♀️","🧜‍♂️","🧚‍♀️","🧚‍♂️","👼","🤰","🤱","👩‍🍼","👨‍🍼","🙇‍♀️","🙇‍♂️","💁‍♀️","💁‍♂️","🙅‍♀️","🙅‍♂️","🙆‍♀️","🙆‍♂️","🙋‍♀️","🙋‍♂️","🧏‍♀️","🧏‍♂️","🙎‍♀️","🙎‍♂️","🙍‍♀️","🙍‍♂️","💇‍♀️","💇‍♂️","💆‍♀️","💆‍♂️","🧖‍♀️","🧖‍♂️","🧘‍♀️","🧘‍♂️","🛀","🛌","🕴️","💃","🕺","👯‍♀️","👯‍♂️","🕴️","🚶‍♀️","🚶‍♂️","🏃‍♀️","🏃‍♂️","👭","👫","👬","💑","👩‍❤️‍👩","👨‍❤️‍👨","👩‍❤️‍👨","🧑‍🤝‍🧑","👭","👫","👬","💏","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨"]},{name:"animals",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="30" height="23" viewBox="0 0 30 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24.94 8.924C26.4954 10.7636 26.172 13.0148 26.172 15C26.172 20.4684 18.7982 22 15 22C11.2018 22 3.82798 20.4684 3.82798 15C3.82798 13.0148 3.50458 10.7636 5.05998 8.924M24.94 8.924C24.667 8.602 24.338 8.294 23.9376 8M24.94 8.924C25.92 9.4882 26.1706 7.377 26.172 6.6868V4.0632C26.172 1.7882 24.6082 1 23.267 1C21.9272 1 19.2448 3.1882 18.3516 3.1882C17.2792 3.1882 17.072 2.9684 15 2.9684C12.928 2.9684 12.7208 3.1882 11.6484 3.1882C10.7552 3.1882 8.07278 1 6.73298 1C5.39178 1 3.82798 1.7882 3.82798 4.0632V6.6882C3.83078 7.377 4.07998 9.4882 5.05998 8.924M5.05998 8.924C5.33298 8.602 5.66198 8.294 6.06238 8" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M16.1564 16.4C16.1564 16.6422 15.651 16.8382 15.0266 16.8382C14.4036 16.8382 13.8982 16.6422 13.8982 16.4C13.8982 16.1578 14.4036 15.9632 15.0266 15.9632C15.651 15.9632 16.1564 16.1592 16.1564 16.4ZM19.9 13.0316C19.9 13.635 19.5962 14.125 19.2224 14.125C18.8486 14.125 18.5448 13.635 18.5448 13.0316C18.5448 12.4268 18.8486 11.9382 19.2224 11.9382C19.5962 11.9382 19.9 12.4296 19.9 13.0316ZM11.5 13.0316C11.5 13.635 11.1962 14.125 10.8224 14.125C10.4486 14.125 10.1448 13.635 10.1448 13.0316C10.1448 12.4268 10.4486 11.9382 10.8224 11.9382C11.1962 11.9382 11.5 12.4296 11.5 13.0316Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M29 15.6566C28.3238 15.2184 25.388 14.125 24.2582 14.125M26.7418 19.1566C26.0642 18.7184 24.4836 17.625 23.3538 17.625M1 15.6566C1.6776 15.2184 4.612 14.125 5.7418 14.125M3.2582 19.1566C3.9358 18.7184 5.5164 17.625 6.6462 17.625" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🙈","🙉","🙊","🐵","🦁","🐯","🐱","🐶","🐺","🐻","🐻‍❄️","🐨","🐼","🐹","🐭","🐰","🦊","🦝","🐮","🐷","🐽","🐗","🦓","🦄","🐴","🐸","🐲","🦎","🐉","🦖","🦕","🐢","🐊","🐍","🐁","🐀","🐇","🐈","🐈‍⬛","🐩","🐕","🦮","🐕‍🦺","🐕‍🦺","🐆","🐎","🐖","🐄","🐂","🐃","🦬","🐏","🐑","🐐","🦌","🦙","🦥","🦘","🐘","🦣","🦏","🦛","🦒","🐒","🦍","🦧","🐪","🐫","🐿️","🦫","🦨","🦡","🦔","🦦","🦇","🪶","🪶","🦉","🐓","🐔","🐣","🐤","🐥","🐦","🦜","🕊️","🕊️","🦢","🦩","🦚","🦃","🦆","🐧","🦭","🦈","🦈","🐬","🐋","🐳","🐟","🐠","🐡","🦐","🦞","🦀","🦑","🐙","🦪","🪸","🦂","🕷️","🕸️","🐚","🐌","🐜","🦗","🪲","🦟","🪳","🪰","🐝","🐞","🦋","🐛","🪱","🦠","🐾"]},{name:"food",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.4286 7.28573C8.86121 7.28573 1 4.1632 1 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 12C1 19.8368 5.71835 23 7.28571 23C8.85308 23 8.86121 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28573C11.9959 7.28573 19.8571 4.1632 19.8571 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M19.8653 11.9879C19.8653 19.8247 15.1388 23 13.5714 23C12.0041 23 11.9959 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4285 7.28571C10.4285 2.58362 7.28568 1 7.28568 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C10.4286 1.01626 13.5755 2.56736 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C15.1306 5.71835 16.7102 4.13473 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>

        `,isImgEmoji:!1,emojis:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🫒","🥑","🍆","🥔","🥕","🌽","🌶️","🫑","🥒","🥬","🥦","🧄","🧅","🍄","🥜","🫘","🌰","🍞","🥐","🥖","🫓","🥨","🥯","🥞","🧇","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🫔","🥙","🧆","🥚","🍳","🥘","🍲","🫕","🥣","🥗","🍿","🧈","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🦪","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🫖","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🫗","🥤","🧋","🧃","🧉","🧊","🥢","🍽️","🍴","🥄"]},{name:"exercise",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 11C21 16.523 16.523 21 11 21C5.477 21 1 16.523 1 11C1 5.477 5.477 1 11 1C16.523 1 21 5.477 21 11Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 4C7.99 7.52 8.01 14.462 4 18M18 18C13.99 14.462 14.01 7.52 18 4" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🥅","🏒","🏑","🏏","⛳","🪁","🥌","🛷","🥋","⛸️","🥊","🥋","🥅","🥋","🥌","🛷","⛷️","🏂","🏋️‍♀️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸‍♂️","⛹️‍♀️","⛹️‍♂️","🤺","🤾‍♀️","🤾‍♂️","🏌️‍♀️","🏌️‍♂️","🏇","🧘‍♀️","🧘‍♂️","🏄‍♀️","🏄‍♂️","🏊‍♀️","🏊‍♂️","🤽‍♀️","🤽‍♂️","🚣‍♀️","🚣‍♂️","🚴‍♀️","🚴‍♂️","🚵‍♀️","🚵‍♂️","🎽","🏅","🎖️","🥇","🥈","🥉","🏆","🏵️","🎗️","🎫","🎟️","🎭","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🎷","🎺","🎸","🎻","🎲","🎯","🎳","🎮","🎰"]},{name:"transport",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22.3341 8.30094H23.4404C23.7495 8.30094 24 8.55146 24 8.8605V8.8605C24 9.16954 23.7495 9.42006 23.4404 9.42006H23.167C22.707 9.42006 22.3341 9.79299 22.3341 10.253V16C22.3341 17.1046 21.4387 18 20.3341 18H18.601C17.9535 18 17.4286 17.4751 17.4286 16.8276V16.8276C17.4286 16.1801 16.9037 15.6552 16.2562 15.6552H12.5H8.74385C8.09634 15.6552 7.57143 16.1801 7.57143 16.8276V16.8276C7.57143 17.4751 7.04652 18 6.39902 18H4.66592C3.56136 18 2.66592 17.1046 2.66592 16V10.253C2.66592 9.79299 2.293 9.42006 1.83297 9.42006H1.55957C1.25054 9.42006 1.00001 9.16954 1.00001 8.8605V8.8605C1.00001 8.55146 1.25054 8.30094 1.55957 8.30094H2.66592M22.3341 8.30094L19.2752 2.11364C18.938 1.43164 18.2431 1 17.4823 1H12.5H7.51769C6.7569 1 6.062 1.43164 5.72483 2.11364L2.66592 8.30094M22.3341 8.30094H2.66592" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <circle cx="6.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
                <circle cx="18.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🚚","🚛","🚜","🛴","🚲","🛵","🏍️","🛺","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","⚓","🚧","⛽","🚏","🚦","🚥","🛑","🚧","⚠️","🚸","🚨","🛑","⚠️","🚏","🛣️","🛤️","🛢️","💈","🛎️","🧭","🧱","🛠️","🪛","🧰","🔧","🔨","⚒️","🪓","🔩","⚙️","🗜️","🧲","🪚","🔪","🗡️","⚔️","🛡️","🔫","🪃","🪚","🪓","🧲","🛠️","🧱","⚙️","🔩","🔨","🛢️","🧭","🛤️","🛣️","🛑","🛎️","🛠️","🧰","🧱","🧲","🔧","🔨","⚒️","🪓","🔩","⚙️","🗜️","🪚","🔪","🗡️","⚔️","🛡️","🔫","🪃"]},{name:"objects",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.501 18.5012C6.501 17.7872 6.501 17.4312 6.462 17.1942C6.34 16.4312 6.319 16.3822 5.832 15.7822C5.68 15.5952 5.12 15.0942 4 14.0902C2.86788 13.0776 2.06988 11.7452 1.71159 10.2692C1.3533 8.79316 1.45161 7.24315 1.9935 5.82422C2.53539 4.4053 3.49533 3.18434 4.7463 2.3229C5.99727 1.46147 7.48031 1.00015 8.99919 1C10.5181 0.999848 12.0012 1.46086 13.2523 2.32205C14.5035 3.18324 15.4637 4.404 16.0058 5.82282C16.548 7.24164 16.6466 8.79164 16.2886 10.2677C15.9306 11.7438 15.1329 13.0764 14.001 14.0892C12.88 15.0932 12.32 15.5952 12.169 15.7812C11.682 16.3812 11.661 16.4302 11.538 17.1932C11.5 17.4302 11.5 17.7872 11.5 18.5002H6.5C6.5 19.4352 6.5 19.9022 6.701 20.2502C6.83265 20.4782 7.02199 20.6676 7.25 20.7992C7.598 21.0002 8.065 21.0002 9 21.0002C9.935 21.0002 10.402 21.0002 10.751 20.8002C10.979 20.6686 11.1684 20.4792 11.3 20.2512C11.501 19.9032 11.501 19.4362 11.501 18.5012" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M9.00001 16.0002V14.0002M9.00001 14.0002C9.35106 14.0002 9.69593 13.9077 9.99996 13.7322C10.304 13.5567 10.5565 13.3042 10.732 13.0002M9.00001 14.0002C8.64895 14.0002 8.30408 13.9077 8.00005 13.7322C7.69602 13.5567 7.44355 13.3042 7.26801 13.0002" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","💰","💳","💎","⚖️","🪜","🧰","🧲","🪛","🔧","🔨","⚒️","🛠️","⛏️","🪚","🔩","⚙️","🗜️","⚗️","🧪","🧫","🧬","🔬","🔭","📡","💉","🩸","💊","🩹","🩺","🚪","🛏️","🛋️","🪑","🚽","🚿","🛁","🪠","🪣","🧹","🧺","🧻","🪟","🪑","🛌","🛋️","🚪","🛏️","🛋️","🪑","🚽","🚿","🛁","🪠","🪣","🧹","🧺","🧻","🪟","🛒","🎁","🎈","🎏","🎀","🎊","🎉","🎎","🏮","🎐","🧧","📩","📨","📧","💌","📮","📪","📫","📬","📭","📦","📤","📥","📜","📃","📄","📑","📊","📈","📉","📁","📂","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","📅","📆","🗳️","🔒","🔓","🔏","🔐","🔑","🗝️","🪙","🧾","💼","📁","📂","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","📅","📆","🗳️","🔒","🔓","🔏","🔐","🔑","🗝️","🪙","🧾","💼","❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🛗","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","⚧️","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🔟","🔢","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","🔀","🔁","🔂","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","🔄","↪️","↩️","⤴️","⤵️","🔃","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","⬛","⬜","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","➕","➖","➗","✖️","♾️","‼️","⁉️","❓","❔","❗","❕","🔀","🔁","🔂","🕛","🕧","🕐","🕜","🕑","🕝","🕒","🕞","🕓","🕟","🕔","🕠","🕕","🕡","🕖","🕢","🕗","🕣","🕘","🕤","🕙","🕥","🕚","🕦"]},{name:"flags",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 12.9675C2.06816 11.9163 3.50427 11.3274 5 11.3274C6.49573 11.3274 7.93184 11.9163 9 12.9675C10.0682 14.0188 11.5043 14.6076 13 14.6076C14.4957 14.6076 15.9318 14.0188 17 12.9675V2.6401C15.9318 3.69136 14.4957 4.28019 13 4.28019C11.5043 4.28019 10.0682 3.69136 9 2.6401C7.93184 1.58884 6.49573 1 5 1C3.50427 1 2.06816 1.58884 1 2.6401V12.9675ZM1 12.9675V21" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🏁","🚩","🎌","🏴","🏳️","🏳️‍🌈","🏳️‍⚧️","🏴‍☠️","🇦🇫","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇨","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇦","🇧🇼","🇧🇷","🇮🇴","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇨🇻","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇰🇾","🇨🇫","🇹🇩","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇨🇮","🇯🇲","🇯🇵","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇰","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇲🇵","🇰🇵","🇲🇰","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇬🇸","🇸🇧","🇸🇴","🇿🇦","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇲🇫","🇵🇲","🇻🇨","🇸🇩","🇸🇷","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🇺🇸","🇻🇮","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]},{name:"genery",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/genery/icon.png",isImgEmoji:!0,emojis:["emojies/genery/1.png","emojies/genery/2.png","emojies/genery/3.png","emojies/genery/4.png","emojies/genery/5.png","emojies/genery/6.png","emojies/genery/7.png","emojies/genery/8.png","emojies/genery/9.png","emojies/genery/10.png","emojies/genery/11.png","emojies/genery/12.png","emojies/genery/13.png","emojies/genery/14.png","emojies/genery/15.png","emojies/genery/16.png","emojies/genery/17.png","emojies/genery/18.png","emojies/genery/19.png","emojies/genery/20.png","emojies/genery/21.png","emojies/genery/22.png","emojies/genery/23.png","emojies/genery/24.png"]},{name:"kyrgyzstan",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/kyrgyzstan/icon.png",isImgEmoji:!0,emojis:["emojies/kyrgyzstan/1.png","emojies/kyrgyzstan/2.png","emojies/kyrgyzstan/3.png","emojies/kyrgyzstan/4.png","emojies/kyrgyzstan/5.png","emojies/kyrgyzstan/6.png","emojies/kyrgyzstan/7.png","emojies/kyrgyzstan/8.png","emojies/kyrgyzstan/9.png","emojies/kyrgyzstan/10.png","emojies/kyrgyzstan/11.png","emojies/kyrgyzstan/12.png"]},{name:"winter_2024",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/winter_2024/icon.png",isImgEmoji:!0,emojis:["emojies/winter_2024/1.png","emojies/winter_2024/2.png","emojies/winter_2024/3.png","emojies/winter_2024/4.png","emojies/winter_2024/5.png","emojies/winter_2024/6.png","emojies/winter_2024/7.png","emojies/winter_2024/8.png","emojies/winter_2024/9.png","emojies/winter_2024/10.png","emojies/winter_2024/11.png","emojies/winter_2024/12.png"]}];function $W({isShow:t,isImages:e,isTop:n,marginTop:r,onEmojiSelect:s}){const{theme:o,setThemeById:i,elementColors:a,setElementColors:l}=p.useContext(F),{authUser:u}=pe(),[d,h]=p.useState(uC[0].name),[f,m]=p.useState(["smiles","animals","food","exercise","transport","objects","flags"]),v=p.useRef({}),w=p.useRef(),x=p.useRef(),[_,y]=p.useState(),[g,C]=p.useState([]);p.useEffect(()=>{y(r)},[r]);const b=(S,E)=>{if(h(S),v.current[S]&&x.current){const I=v.current[S].offsetTop-x.current.offsetTop;x.current.scrollTo({top:I,behavior:"smooth"})}},k=(S,E,I)=>{s(S,E,I)};p.useEffect(()=>{(async()=>{if(u&&u._id){const E=Q(q,"users",u._id,"info","preferences"),I=await le(E);if(I.exists()){const j=I.data();m(N=>[...N,...j.boughtEmojies])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const T=f?uC.filter(S=>f.includes(S.name)):[];return p.useEffect(()=>{const S=I=>{w.current&&(w.current.scrollLeft+=I.deltaY/5)},E=w.current;return E&&E.addEventListener("wheel",S),()=>{E&&E.removeEventListener("wheel",S)}},[]),p.useEffect(()=>{const S={root:x.current,rootMargin:"0px",threshold:Array.from({length:101},(j,N)=>N/100)},E=new IntersectionObserver(j=>{j.forEach(N=>{N.isIntersecting&&h(N.target.getAttribute("data-category"))})},S),I=Object.values(v.current);return I.forEach(j=>{E.observe(j)}),()=>{I.forEach(j=>{E.unobserve(j)})}},[]),c.jsxs("div",{className:`${Kn["emoji-panel"]} ${t?Kn.show:""}`,style:{background:o.element_first_color,bottom:n?"auto":"50px",top:n?`${r}`:"auto",transformOrigin:n?"top left":"bottom left",boxShadow:`0 5px 10px 5px ${o.shadow_color}`},children:[c.jsx("style",{children:`
                    div::-webkit-scrollbar {
                      width: 6px; /* Ширина ползунка */
                    }

                    /* Стилизация ползунка скроллбара */
                    div::-webkit-scrollbar-thumb {
                      background-color: ${o.text_second_color}; /* Цвет ползунка */
                      border-radius: 5px; /* Закругление углов ползунка */
                      cursor: pointer;
                    }

                    /* Стилизация фона скроллбара */
                    div::-webkit-scrollbar-track {
                      border-radius: 0 0 50px 0;
                      background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                    }
                `}),c.jsx("div",{className:Kn.categories,style:{},ref:w,children:T.map(S=>{const E=S.icon.replace(/{theme.text_first_color}/g,o.text_first_color);return c.jsx("button",{className:Kn["emoji-category"],onClick:()=>b(S.name,S.isCustom),onMouseEnter:I=>{I.currentTarget.style.background=o.element_second_color},onMouseLeave:I=>{I.currentTarget.style.background=d===S.name?o.element_second_color:"none"},style:{background:d===S.name?o.element_second_color:"none","--font":S.fontFamily},children:S.emojiIcon?S.icon:S.emojiIconImg?c.jsx("img",{src:S.icon,className:Kn["emoji-img"]}):cs(E)},S.name)})}),c.jsx("div",{className:Kn["emojies-container"],ref:x,children:T.map(S=>c.jsxs("div",{className:Kn["emojies-body"],"data-category":S.name,ref:E=>v.current[S.name]=E,children:[c.jsx("h2",{className:Kn["category-name"],style:{color:o.text_first_color},children:S.name}),c.jsx("div",{className:Kn["emojies-content"],children:S.emojis.map((E,I)=>S.isImgEmoji?c.jsx("img",{src:E,className:Kn["emoji-img-text"],onClick:()=>k(E,S.isImgEmoji,S.fontFamily),onMouseEnter:j=>{j.currentTarget.style.background=o.element_second_color},onMouseLeave:j=>{j.currentTarget.style.background="none"}},I):c.jsx("span",{className:Kn.emoji,style:{fontFamily:S.fontFamily},onClick:()=>k(E,S.isImgEmoji,S.fontFamily),onMouseEnter:j=>{j.currentTarget.style.background=o.element_second_color},onMouseLeave:j=>{j.currentTarget.style.background="none"},children:E},I))})]},S.name))})]})}const dC={"notif-area":"_notif-area_1bj00_1","notif-body":"_notif-body_1bj00_14"};function Pt({text:t,isShow:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),o={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,top:"70%"},hidden:{opacity:1,top:"100%"}};return c.jsx(ot.div,{className:dC["notif-area"],animate:e?"open":"closed",variants:o,transition:{duration:.3},children:c.jsx(ot.div,{className:dC["notif-body"],variants:o,initial:"hidden",animate:e?"show":"hidden",transition:{duration:.4},style:{background:n.element_first_color,color:n.text_first_color},children:t})})}function Sp({isPanelTop:t,placeholder:e,Addtext:n,onClearText:r,onSend:s,addFiles:o}){const{theme:i,setElementColors:a}=p.useContext(F),l=p.useRef(null);p.useRef(null);const[u,d]=p.useState(""),[h,f]=p.useState(!1),[m,v]=p.useState([]),w=p.useRef(),x=p.useRef(null),[_,y]=p.useState(50),[g,C]=p.useState({isShow:!1,text:""});p.useEffect(()=>{n&&d(n+"​")},[n]),p.useEffect(()=>{if(g.isShow){const j=setTimeout(()=>{C({isShow:!1})},1e3);return()=>clearTimeout(j)}},[g]),p.useEffect(()=>{if(u===""){r&&r(),l.current.style.height="auto",x.current.style.height="10px",y(50);return}const j=parseInt(x.current.style.height.replace("px",""),10);j>40&&t&&(j>90?y(120):y(`${j+20}px`))},[u]);const b=()=>{u===""&&m.length===0||(s(u,m),d(""),v([]),f(!1),x.current.style.lineHeight="30px",x.current.style.height="10px",l.current.style.height="auto")},k=j=>{j.key==="Enter"&&(j.preventDefault(),b())},T=(j,N,O)=>{let A;if(N){A=`<img class="${wn["emoji-img"]}" src="${j}" style="width: 22px; height: 22px"/>`,d(u+A+"​");return}const R=`<span class="${wn.emoji}" style="font-family: ${O}">${j}</span>`;d(u+R+"​")},S=j=>{let N=j.target.innerHTML;d(N)};p.useEffect(()=>{if(m.length>0){y(160);return}y(50)},[m]);const E=j=>{y(R=>R+100);const N=j.target.files;if(N.length>5){C({isShow:!0,text:"Максимально возможное число фотографий - 5"});return}for(let R=0;R<N.length;R++){const D=N[R];if(!D.type.startsWith("image/")){C({isShow:!0,text:`Файл ${D.name} не является изображением. Выберите только изображения.`});return}}if(N.length>5)return;Array.from(j.target.files).forEach(R=>{console.log(R),v(D=>[...D,R])}),w.current.value=""},I=j=>{v(N=>N.filter((O,A)=>A!==j))};return p.useEffect(()=>{const j=document.createRange();j.selectNodeContents(x.current),j.collapse(!1);const N=window.getSelection();N.removeAllRanges(),N.addRange(j)},[u]),p.useEffect(()=>{const j=O=>{x.current&&(x.current.scrollTop+=O.deltaY)},N=x.current;return N&&N.addEventListener("wheel",j),()=>{N&&N.removeEventListener("wheel",j)}},[]),c.jsx(c.Fragment,{children:c.jsxs("section",{className:wn["input-container"],children:[c.jsx(Pt,{isShow:g.isShow,text:g.text}),c.jsx($W,{isShow:h,isTop:t,marginTop:`${_}px`,isImages:m.length>0&&!0,onEmojiSelect:T}),o&&c.jsxs("button",{className:wn["button-circle"],style:{background:i.element_first_color},onClick:()=>document.getElementById("file-input").click(),children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"})}),c.jsx("input",{type:"file",id:"file-input",multiple:!0,ref:w,style:{display:"none"},onChange:E})]}),c.jsxs("div",{className:wn["input-message-body"],style:{background:i.element_first_color},children:[m.length>0&&c.jsx("div",{className:wn["image-previewer"],children:m.map((j,N)=>c.jsxs("div",{className:wn["image-wrapper"],children:[c.jsx("button",{className:wn["remove-image"],onClick:()=>I(N),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})}),c.jsx("div",{className:wn["image-no-select"]}),j&&c.jsx("img",{src:URL.createObjectURL(j),alt:"Preview"})]},N))}),c.jsxs("div",{className:wn["input-message-wrapper"],ref:l,style:{alignItems:t?"flex-end":"flex-start"},children:[c.jsx("button",{className:wn["emoji-button"],onClick:()=>f(!h),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",stroke:i.text_first_color,"stroke-width":"2"}),c.jsx("path",{d:"M8.25049 15.5C9.13085 16.1525 10.2028 16.5357 11.3576 16.5357C12.5125 16.5357 13.5844 16.1525 14.4648 15.5",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"}),c.jsx("path",{d:"M15.5006 9.80356C15.5006 10.6611 15.0366 11.3571 14.4649 11.3571C13.8932 11.3571 13.4292 10.6611 13.4292 9.80356C13.4292 8.94599 13.8932 8.24999 14.4649 8.24999C15.0366 8.24999 15.5006 8.94599 15.5006 9.80356Z",fill:i.text_first_color}),c.jsx("path",{d:"M8.25007 11.3571C8.82208 11.3571 9.28578 10.6616 9.28578 9.80356C9.28578 8.94555 8.82208 8.24999 8.25007 8.24999C7.67806 8.24999 7.21436 8.94555 7.21436 9.80356C7.21436 10.6616 7.67806 11.3571 8.25007 11.3571Z",fill:i.text_first_color})]})}),c.jsx("div",{ref:x,className:wn["message-input"],contentEditable:!0,onInput:S,onKeyPress:k,"data-placeholder":e,dangerouslySetInnerHTML:{__html:u},suppressContentEditableWarning:!0,style:{color:i.text_first_color,caretColor:i.first_color,"--placeholder-color":i.text_third_color}}),c.jsx("button",{className:wn["send-button"],style:{background:i.first_color},onClick:b,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 11.2071C1.81658 11.5976 1.18342 11.5976 0.792893 11.2071C0.402369 10.8166 0.402369 10.1834 0.792893 9.79289L2.20711 11.2071ZM10.5 0.5C11.0523 0.5 11.5 0.947715 11.5 1.5L11.5 10.5C11.5 11.0523 11.0523 11.5 10.5 11.5C9.94772 11.5 9.5 11.0523 9.5 10.5L9.5 2.5L1.5 2.5C0.947715 2.5 0.5 2.05228 0.5 1.5C0.5 0.947715 0.947715 0.5 1.5 0.5L10.5 0.5ZM0.792893 9.79289L9.79289 0.792893L11.2071 2.20711L2.20711 11.2071L0.792893 9.79289Z",fill:i.text_first_color})})})]})]})]})})}const FW="_animated_1wmka_14",BW="_show_1wmka_32",UW="_close_1wmka_74",VW="_download_1wmka_82",ln={"viewer-area":"_viewer-area_1wmka_1",animated:FW,"image-view":"_image-view_1wmka_18","viewer-actions":"_viewer-actions_1wmka_21","prev-button":"_prev-button_1wmka_26","next-button":"_next-button_1wmka_29",show:BW,"viewer-button":"_viewer-button_1wmka_63",close:UW,download:VW,"image-wrapper":"_image-wrapper_1wmka_89","image-view-bg":"_image-view-bg_1wmka_157","image-no-select":"_image-no-select_1wmka_172"};function mo({isShow:t,images:e,index:n,onClose:r}){const{theme:s,setElementColors:o}=p.useContext(F),[i,a]=p.useState(n),[l,u]=p.useState([]),[d,h]=p.useState(!1),f=P8(0);p.useEffect(()=>{console.log(e);let C=[];Array.isArray(e)?u(e):(C.push(e),u(C),console.log(C))},[e]),p.useEffect(()=>{a(n)},[n]);const m=()=>{a(C=>C===l.length-1?0:C+1)},v=()=>{a(C=>C===0?l.length-1:C-1)},w=()=>{h(!0)},x=()=>{h(!1),f.get()<-50?a(C=>C===0?l.length-1:C-1):f.get()>50&&a(C=>C===l.length-1?0:C+1),f.set(0)},_=C=>{const b=decodeURIComponent(C),k=b.indexOf("post_photos/"),T=b.indexOf("?alt=media");if(k===-1||T===-1)throw new Error("Не удалось найти путь в URL");return b.substring(k,T)},y=()=>{const C=l[i],b=document.createElement("a");console.log("URL:",C);const k="повестка.png";if(C.startsWith("blob:"))console.log("Downloading blob URL"),b.href=C,b.download=k,document.body.appendChild(b),b.click(),document.body.removeChild(b);else if(C.startsWith("https://firebasestorage.googleapis.com")){console.log("Downloading from Firebase Storage");try{const T=_(C);as(Nr(jr,T)).then(S=>{console.log("Firebase download URL:",S),fetch(S).then(E=>{if(!E.ok)throw new Error("Network response was not ok.");return E.blob()}).then(E=>{console.log("Blob:",E);const I=window.URL.createObjectURL(E);console.log("Blob URL:",I),b.href=I,b.download=k,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(I)}).catch(E=>{console.error("Error fetching file:",E)})}).catch(S=>{console.error("Error getting download URL from Firebase:",S)})}catch(T){console.error("Error converting Firebase URL:",T)}}else console.log("Downloading from other URL"),b.href=C,b.download=k,document.body.appendChild(b),b.click(),document.body.removeChild(b)},g={enter:{opacity:0,x:90,scale:.5,transition:{duration:.2}},center:{opacity:1,x:0,scale:1,transition:{duration:.2}},exit:{opacity:0,x:-90,scale:.5,transition:{duration:.2}}};return c.jsxs("div",{className:`${ln["viewer-area"]} ${ln.animated} ${t?ln.show:""}`,children:[c.jsxs("div",{className:ln["viewer-actions"],children:[c.jsx("button",{className:`${ln["viewer-button"]} ${ln.download}`,onClick:y,children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1C8.5 0.447715 8.05228 2.41411e-08 7.5 0C6.94772 -2.41411e-08 6.5 0.447715 6.5 1L8.5 1ZM6.79289 14.435C7.18342 14.8256 7.81658 14.8256 8.20711 14.435L14.5711 8.07107C14.9616 7.68054 14.9616 7.04738 14.5711 6.65685C14.1805 6.26633 13.5474 6.26633 13.1569 6.65685L7.5 12.3137L1.84315 6.65685C1.45262 6.26633 0.819456 6.26633 0.428932 6.65685C0.0384075 7.04738 0.0384075 7.68054 0.428932 8.07107L6.79289 14.435ZM6.5 1L6.5 13.7279L8.5 13.7279L8.5 1L6.5 1Z",fill:s.text_first_color})})}),c.jsx("button",{className:`${ln["viewer-button"]} ${ln.close}`,onClick:r,children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:s.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]}),c.jsxs("div",{className:ln["image-wrapper"],children:[l.length>1&&c.jsx("button",{className:ln["prev-button"],onClick:v,children:c.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.3638 6.36395C14.9161 6.36395 15.3638 6.81167 15.3638 7.36395C15.3638 7.91624 14.9161 8.36395 14.3638 8.36395L14.3638 6.36395ZM0.92874 8.07106C0.538216 7.68053 0.538216 7.04737 0.92874 6.65684L7.2927 0.292884C7.68323 -0.0976401 8.31639 -0.09764 8.70692 0.292884C9.09744 0.683409 9.09744 1.31657 8.70692 1.7071L3.05006 7.36395L8.70691 13.0208C9.09744 13.4113 9.09744 14.0445 8.70691 14.435C8.31639 14.8255 7.68322 14.8255 7.2927 14.435L0.92874 8.07106ZM14.3638 8.36395L1.63585 8.36395L1.63585 6.36395L14.3638 6.36395L14.3638 8.36395Z",fill:s.text_first_color})})}),c.jsx(ot.div,{className:ln["image-view"],variants:g,style:{x:f},drag:"x",dragConstraints:{left:0,right:0},onDragStart:w,onDragEnd:x,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween"},children:c.jsxs("div",{className:ln["image-view-bg"],children:[c.jsx("div",{className:ln["image-no-select"]}),c.jsx("img",{src:l&&l[i]},l[i])]})},l[i]),l.length>1&&c.jsx("button",{className:ln["next-button"],onClick:m,children:c.jsx("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9C0.447715 9 0 8.55228 0 8C0 7.44772 0.447715 7 1 7L1 9ZM14.435 7.29289C14.8256 7.68342 14.8256 8.31658 14.435 8.70711L8.07107 15.0711C7.68054 15.4616 7.04738 15.4616 6.65685 15.0711C6.26633 14.6805 6.26633 14.0474 6.65685 13.6569L12.3137 8L6.65685 2.34315C6.26633 1.95262 6.26633 1.31946 6.65685 0.928932C7.04738 0.538408 7.68054 0.538408 8.07107 0.928932L14.435 7.29289ZM1 7L13.7279 7V9L1 9L1 7Z",fill:s.text_first_color})})})]})]})}function zW(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),[s,o]=p.useState(""),[i,a]=p.useState({}),[l,u]=p.useState(),{authUser:d}=pe();p.useRef(null);const h=p.useRef(null),[f,m]=p.useState(!1),[v,w]=p.useState(!0);p.useEffect(()=>{w(Object.keys(i).length===0)},[i]);const[x,_]=p.useState({isShow:!1,images:[],index:null}),y=ce();p.useEffect(()=>{h.current&&window.scrollTo(0,1e6)},[i]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>y("/menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[F]),p.useEffect(()=>{const k=pi(Wa(In(q,"users",d._id,"messages"),Ga("timestamp","asc")),T=>{const S={};T.forEach(E=>{const I=E.data(),j=new Date(I.timestamp),N=I.isUser,O=j.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});S[O]||(S[O]=[]);const A={...I,isUser:N,userName:d.name};S[O].push(A)}),a(S)});return()=>{k()}},[]);const g=async(k,T)=>{try{const S=new Date().toISOString();await tp(In(q,"users",d._id,"messages"),{text:k.text,timestamp:S,isUser:T,userName:d.name,photos:k.images}),console.log("Message saved successfully.")}catch(S){console.error("Error adding document: ",S)}},C=async(k,T)=>{try{const S=new Date().toISOString();let E=[];for(const A of T){const R=Nr(jr,`messenger_photos/${d._id}/${S}_${A.name}`);await ti(R,A);const D=await as(R);E.push(D)}await g({text:k,images:E},!0),u(!0);const[j,N]=await RW(k,T);await g({text:j,images:[]},N),u(!1)}catch(S){console.error("Error handling send: ",S),u(!1)}finally{u(!1)}},b=(k,T)=>{_({isShow:!0,images:k,index:T})};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:qe["background-cover"],style:{background:t.background_color},children:c.jsx(Sp,{placeholder:"Сообщение",isPanelTop:!1,onSend:C})}),c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsxs("div",{className:qe.container,children:[c.jsx(mo,{isShow:x.isShow,images:x.images,index:x.index,onClose:()=>_({isShow:!1})}),c.jsxs("div",{className:qe["messages-container"],ref:h,style:{background:t.background_color},children:[v?c.jsxs("div",{className:qe.greeting,children:[c.jsxs("div",{className:qe["greeting-title"],style:{background:`linear-gradient(90deg,${t.gradient_first_color} 0%,${t.gradient_second_color} 50%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Привет, ",d.name,"!"]}),c.jsx("div",{className:qe["greeting-text"],style:{color:t.text_second_color},children:"Чем я могу помочь?"})]}):Object.keys(i).map(k=>c.jsx(sW,{date:k,messages:i[k],textColor:t.text_first_color,backgroundColor:t.element_first_color,photoClick:b},k)),l&&c.jsx(oW,{textColor:t.text_first_color},"loading")]})]})]})}const HW="_container_r65pq_1",qW="_week_r65pq_11",WW="_day_r65pq_20",GW="_edit_r65pq_92",KW="_circle_r65pq_121",ZW="_button_r65pq_131",Te={container:HW,week:qW,day:WW,"day-date":"_day-date_r65pq_35","lessons-container":"_lessons-container_r65pq_40","lesson-body":"_lesson-body_r65pq_49","lesson-circle":"_lesson-circle_r65pq_60","lesson-name":"_lesson-name_r65pq_69","lesson-time":"_lesson-time_r65pq_74","lesson-room":"_lesson-room_r65pq_79","info-body":"_info-body_r65pq_85",edit:GW,"add-body":"_add-body_r65pq_112",circle:KW,button:ZW};function YW({color:t,backgroundColor:e,textColor:n,lessonName:r,lessonTimeStart:s,lessonTimeEnd:o,lessonRoom:i,arrowColor:a}){const{theme:l,elementColors:u,setElementColors:d}=p.useContext(F),[h,f]=p.useState("var(--first-color)"),[m,v]=p.useState("var(--text-first-color)");return c.jsxs("div",{className:Te["lesson-body"],style:{background:e},children:[c.jsx("circle",{className:Te["lesson-circle"],style:{background:t},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.29289 10.7071C9.68342 11.0976 10.3166 11.0976 10.7071 10.7071C11.0976 10.3166 11.0976 9.68342 10.7071 9.29289L9.29289 10.7071ZM1 4.72575e-08C0.447715 -3.74211e-07 -3.74211e-07 0.447715 4.72575e-08 1L-1.63477e-07 10C-1.63477e-07 10.5523 0.447715 11 1 11C1.55228 11 2 10.5523 2 10L2 2L10 2C10.5523 2 11 1.55228 11 1C11 0.447715 10.5523 -1.63477e-07 10 -1.63477e-07L1 4.72575e-08ZM10.7071 9.29289L1.70711 0.292893L0.292893 1.70711L9.29289 10.7071L10.7071 9.29289Z",fill:a})})}),c.jsxs("div",{className:Te["lesson-info"],children:[c.jsx("div",{className:Te["lesson-name"],style:{color:n},children:r}),c.jsx("div",{className:Te["lesson-time"],style:{color:n},children:`${s} - ${o}`})]}),c.jsx("div",{className:Te["lesson-room"],style:{color:n},children:i})]})}const QW="_area_1d870_1",XW="_body_1d870_14",JW="_header_1d870_21",eG="_line_1d870_30",tG="_title_1d870_35",nG="_close_1d870_40",rG="_border_1d870_59",sG="_circle_1d870_71",oG="_text_1d870_80",iG="_progress_1d870_119",Ie={area:QW,body:XW,header:JW,line:eG,title:tG,close:nG,"add-area":"_add-area_1d870_51",border:rG,circle:sG,text:oG,"file-body":"_file-body_1d870_85","file-wrapper":"_file-wrapper_1d870_96","remove-button":"_remove-button_1d870_104","file-info":"_file-info_1d870_109","progress-bar":"_progress-bar_1d870_119",progress:iG,"input-container":"_input-container_1d870_128","input-body":"_input-body_1d870_136","error-container":"_error-container_1d870_154","color-container":"_color-container_1d870_164","circles-container":"_circles-container_1d870_174","color-circle":"_color-circle_1d870_184","active-circle":"_active-circle_1d870_194","button-container":"_button-container_1d870_201","main-button":"_main-button_1d870_209"},pu=[{name:"default",colors:["#0040F9","#C3F82B","#FF4365"]},{name:"genery",colors:["linear-gradient(75deg, #2400FF 0%, #00C2FF 80%)","linear-gradient(75deg, #C3F82B 0%, #00FF66 80%)","linear-gradient(75deg, #FF4365 0%, #AD00FF 80%)"]},{name:"kyrgyzstan",colors:["#E3010F","#FEF400"]},{name:"winter_2024",colors:["#CBE0FF","#85AFED"]}];function aG({id:t,isShow:e,close:n}){const{theme:r,elementColors:s,setElementColors:o}=p.useContext(F),[i,a]=p.useState([]),{authUser:l}=pe(),[u,d]=p.useState(r.first_color),[h,f]=p.useState(""),[m,v]=p.useState(),[w,x]=p.useState(!1),[_,y]=p.useState(0),[g,C]=p.useState({isShow:!1,text:""}),[b,k]=p.useState({isShow:!1,text:""}),T={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};p.useEffect(()=>{(async()=>{if(l&&l._id){const D=Q(q,"users",l._id,"info","preferences"),L=await le(D);if(L.exists()){const P=L.data();a(M=>[...M,...P.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[l]);const S=i?pu.filter(R=>i.includes(R.name)):[],E=async()=>{if(h.length<3){C({isShow:!0,text:"Название должно быть более 3 символов"});return}else C({isShow:!1,text:""});if(m)k({isShow:!1,text:""});else{k({isShow:!0,text:"Прикрепите файл"});return}x(!0);try{const R=Nr(jr,`groups_files/${t}/${m.name}`);try{await MM(R),k({isShow:!0,text:"Файл с таким именем уже существует"}),x(!1);return}catch(L){if(L.code==="storage/object-not-found")console.log("File does not exist, proceeding with upload.");else{console.error("Error checking file existence:",L),k({isShow:!0,text:"Ошибка при проверке наличия файла"}),x(!1);return}}const D=DM(R,m);D.on("state_changed",L=>{const P=L.bytesTransferred/L.totalBytes*100;y(P)},L=>{console.error("Error uploading file:",L),k({isShow:!0,text:"Ошибка при загрузке файла"}),x(!1)},async()=>{const L=await as(D.snapshot.ref),P={color:u,link:L,name:h},M=Q(q,"groups",t,"info","downloads"),B=await le(M);let W=[];B.exists()&&(W=B.data().files||[]),W.push(P),await ut(M,{files:W},{merge:!0}),x(!1),f(""),v(null),d(r.first_color),n()})}catch(R){console.error("Error uploading file:",R),k({isShow:!0,text:"Ошибка при загрузке файла"}),x(!1)}finally{f(""),v(null),d(r.first_color)}},I=R=>{v(R.target.files[0])},j=()=>{document.getElementById("fileInput").click()},N=()=>{v(null)},O=()=>{f(""),v(null),d(r.first_color),n()};function A(R){if(!R)return!1;let D,L,P;if(R.startsWith("#"))if(R.length===4)D=parseInt(R[1]+R[1],16),L=parseInt(R[2]+R[2],16),P=parseInt(R[3]+R[3],16);else if(R.length===7)D=parseInt(R.slice(1,3),16),L=parseInt(R.slice(3,5),16),P=parseInt(R.slice(5,7),16);else return!1;else if(R.startsWith("rgb")){const B=R.substring(R.indexOf("(")+1,R.lastIndexOf(")")).split(",").map(Number);if(B.length===3)D=B[0],L=B[1],P=B[2];else return!1}else{const B=document.createElement("div");B.style.color=R,document.body.appendChild(B);const W=window.getComputedStyle(B).color;if(document.body.removeChild(B),W.startsWith("rgb")){const te=W.substring(W.indexOf("(")+1,W.lastIndexOf(")")).split(",").map(Number);if(te.length===3)D=te[0],L=te[1],P=te[2];else return!1}else return!1}return(D*299+L*587+P*114)/1e3>180}return c.jsx(ot.div,{className:Ie.area,animate:e?"open":"closed",variants:T,transition:{duration:.1},children:c.jsxs(ot.section,{className:Ie.body,style:{background:r.element_first_color},animate:e?"show":"hidden",variants:T,transition:{duration:.5},children:[c.jsxs("header",{className:Ie.header,children:[c.jsx("div",{className:Ie.title,style:{color:r.text_third_color},children:"Добавление файла"}),c.jsx("button",{className:Ie.close,style:{background:r.element_second_color},onClick:O,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})})]}),c.jsx("line",{className:Ie.line,style:{background:r.element_second_color}}),c.jsxs("div",{className:Ie["add-area"],children:[m?c.jsxs("div",{className:Ie["file-body"],style:{border:`1px solid ${r.element_second_color}`},children:[c.jsxs("div",{className:Ie["file-wrapper"],children:[c.jsx("button",{className:Ie["remove-button"],style:{background:r.element_second_color,color:r.text_first_color,border:"none",borderRadius:"3px",cursor:"pointer"},onClick:N,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})}),c.jsxs("div",{className:Ie["file-info"],style:{color:r.text_first_color},children:[c.jsx("div",{children:m.name}),c.jsxs("div",{children:[(m.size/(1024*1024)).toFixed(2)," MB"]})]})]}),w&&c.jsx("div",{className:Ie["progress-bar"],style:{background:r.element_second_color},children:c.jsx("div",{className:Ie.progress,style:{background:r.first_color,width:`${_}%`}})})]}):c.jsxs("div",{className:Ie.border,style:{border:`1px solid ${r.element_second_color}`},onClick:j,children:[c.jsx("div",{className:Ie.circle,style:{background:r.element_second_color},children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 1.5L9 9M9 16.5L9 9M9 9L16.5 9M9 9L1.5 9",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})})}),c.jsx("div",{className:Ie.text,style:{color:r.text_third_color},children:"Загрузите файл размером до 300мб"})]}),c.jsx("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:I})]}),b.isShow&&c.jsx("div",{className:Ie["error-container"],style:{color:r.text_first_color},children:b.text}),c.jsx("div",{className:Ie["input-container"],children:c.jsx("input",{className:Ie["input-body"],placeholder:"Название",style:{background:r.element_second_color,color:r.text_first_color,caretColor:r.first_color,"--placeholder-color":r.text_third_color},value:h,onInput:R=>f(R.target.value)})}),g.isShow&&c.jsx("div",{className:Ie["error-container"],style:{color:r.text_first_color},children:g.text}),c.jsxs("div",{className:Ie["color-container"],children:[c.jsx("div",{className:Ie.title,style:{color:r.text_first_color},children:"Выберите цвет"}),c.jsx("div",{className:Ie["circles-container"],children:S.map(R=>c.jsx(c.Fragment,{children:R.colors.map((D,L)=>c.jsx("div",{className:Ie["color-circle"],style:{background:D},onClick:()=>d(D),children:u===D&&c.jsx("div",{className:Ie["active-circle"],style:{borderColor:A(D)?"#0A0B10":"#fff"}})},L))}))})]}),c.jsx("div",{className:Ie["button-container"],children:c.jsx("button",{className:Ie["main-button"],style:{background:r.first_color,color:r.text_first_color},onClick:E,children:"Добавить"})})]})})}function lG({color:t,backgroundColor:e,textColor:n,arrowColor:r,lessonName:s,lessonTimeStart:o,lessonTimeEnd:i,lessonRoom:a,onRemove:l}){const{theme:u,elementColors:d,setElementColors:h}=p.useContext(F),[f,m]=p.useState("var(--first-color)"),[v,w]=p.useState("var(--text-first-color)");return c.jsxs("div",{className:Te["lesson-body"],style:{background:e},children:[c.jsx("circle",{className:Te["lesson-circle"],style:{background:t},onClick:l,children:c.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.8031 1.1967L6.49984 6.5M1.19654 11.8033L6.49984 6.5M6.49984 6.5L11.8031 11.8033M6.49984 6.5L1.19654 1.1967",stroke:r,"stroke-width":"2","stroke-linecap":"round"})})}),c.jsxs("div",{className:Te["lesson-info"],children:[c.jsx("div",{className:Te["lesson-name"],style:{color:n},children:s}),c.jsx("div",{className:Te["lesson-time"],style:{color:n},children:`${o} - ${i}`})]}),c.jsx("div",{className:Te["lesson-room"],style:{color:n},children:a})]})}const ps={"notif-area":"_notif-area_gbq6r_1","notif-body":"_notif-body_gbq6r_14","notif-info":"_notif-info_gbq6r_25","notif-title":"_notif-title_gbq6r_34","notif-text":"_notif-text_gbq6r_43","button-container":"_button-container_gbq6r_52","first-button":"_first-button_gbq6r_60","second-button":"_second-button_gbq6r_85"};function go({title:t,text:e,isShow:n,firstButtonName:r,secondButtonName:s,firstButtonOnClick:o,secondButtonOnClick:i}){const{theme:a,elementColors:l,setElementColors:u}=p.useContext(F),d={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};return c.jsx(ot.div,{className:ps["notif-area"],animate:n?"open":"closed",variants:d,transition:{duration:.1},children:c.jsxs(ot.div,{className:ps["notif-body"],style:{background:a.element_first_color},animate:n?"show":"hidden",variants:d,transition:{duration:.5},children:[c.jsxs("div",{className:ps["notif-info"],children:[c.jsx("div",{className:ps["notif-title"],style:{color:a.text_first_color},children:t}),c.jsx("div",{className:ps["notif-text"],style:{color:a.text_first_color},children:e})]}),c.jsxs("div",{className:ps["button-container"],children:[c.jsx("button",{className:ps["first-button"],style:{background:a.element_second_color,color:a.text_first_color},onClick:o,children:r}),c.jsx("button",{className:ps["second-button"],style:{background:a.first_color,color:a.text_first_color},onClick:i,children:s})]})]})})}const cG="_area_1s5gc_1",uG="_body_1s5gc_14",dG="_header_1s5gc_21",hG="_line_1s5gc_30",fG="_title_1s5gc_35",pG="_close_1s5gc_40",Be={area:cG,body:uG,header:dG,line:hG,title:fG,close:pG,"input-container":"_input-container_1s5gc_128","input-body":"_input-body_1s5gc_136","time-container":"_time-container_1s5gc_154","input-wrapper":"_input-wrapper_1s5gc_164","error-container":"_error-container_1s5gc_172","color-container":"_color-container_1s5gc_182","circles-container":"_circles-container_1s5gc_192","color-circle":"_color-circle_1s5gc_202","active-circle":"_active-circle_1s5gc_212","button-container":"_button-container_1s5gc_219","main-button":"_main-button_1s5gc_227"};function mG({activeDay:t,id:e,isShow:n,close:r}){const{theme:s,elementColors:o,setElementColors:i}=p.useContext(F),[a,l]=p.useState([]),{authUser:u}=pe(),[d,h]=p.useState(s.first_color),[f,m]=p.useState(""),[v,w]=p.useState(),[x,_]=p.useState(""),[y,g]=p.useState(""),[C,b]=p.useState(""),[k,T]=p.useState([]),[S,E]=p.useState({isShow:!1,text:""}),[I,j]=p.useState({isShow:!1,text:""}),N={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};p.useEffect(()=>{(async()=>{if(u&&u._id){const P=Q(q,"users",u._id,"info","preferences"),M=await le(P);if(M.exists()){const B=M.data();l(W=>[...W,...B.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[u]);const O=a?pu.filter(L=>a.includes(L.name)):[],A=async()=>{if(f.length<3){E({isShow:!0,text:"Название должно быть более 3 символов"});return}else E({isShow:!1,text:""});try{const L=Q(q,"groups",e,"info","timetable"),P=await le(L);if(P.exists()){const B=P.data().timetable||[],W={name:f,timeStart:x,timeEnd:y,room:C,color:d};B[t]?B[t].lessons.push(W):B[t]={day:"",lessons:[W]},await ut(L,{timetable:B},{merge:!0}),T(B),m(""),_(""),g(""),b(""),h(s.first_color),r()}else console.log("No such document!"),T([])}catch(L){console.error("Error adding lesson:",L)}finally{m(""),_(""),g(""),b(""),h(s.first_color)}},R=()=>{m(""),w(null),h(s.first_color),r()};function D(L){if(!L)return!1;let P,M,B;if(L.startsWith("#"))if(L.length===4)P=parseInt(L[1]+L[1],16),M=parseInt(L[2]+L[2],16),B=parseInt(L[3]+L[3],16);else if(L.length===7)P=parseInt(L.slice(1,3),16),M=parseInt(L.slice(3,5),16),B=parseInt(L.slice(5,7),16);else return!1;else if(L.startsWith("rgb")){const te=L.substring(L.indexOf("(")+1,L.lastIndexOf(")")).split(",").map(Number);if(te.length===3)P=te[0],M=te[1],B=te[2];else return!1}else{const te=document.createElement("div");te.style.color=L,document.body.appendChild(te);const ne=window.getComputedStyle(te).color;if(document.body.removeChild(te),ne.startsWith("rgb")){const he=ne.substring(ne.indexOf("(")+1,ne.lastIndexOf(")")).split(",").map(Number);if(he.length===3)P=he[0],M=he[1],B=he[2];else return!1}else return!1}return(P*299+M*587+B*114)/1e3>180}return c.jsx(ot.div,{className:Be.area,animate:n?"open":"closed",variants:N,transition:{duration:.1},children:c.jsxs(ot.section,{className:Be.body,style:{background:s.element_first_color},animate:n?"show":"hidden",variants:N,transition:{duration:.5},children:[c.jsxs("header",{className:Be.header,children:[c.jsx("div",{className:Be.title,style:{color:s.text_third_color},children:"Добавление урока"}),c.jsx("button",{className:Be.close,style:{background:s.element_second_color},onClick:R,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:s.text_first_color,"stroke-linecap":"round"})})})]}),c.jsx("line",{className:Be.line,style:{background:s.element_second_color}}),c.jsx("div",{className:Be["input-container"],children:c.jsx("input",{className:Be["input-body"],placeholder:"Название",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:f,onInput:L=>m(L.target.value)})}),S.isShow&&c.jsx("div",{className:Be["error-container"],style:{color:s.text_first_color},children:S.text}),c.jsxs("div",{className:Be["time-container"],children:[c.jsx("div",{className:Be.title,style:{color:s.text_first_color},children:"Введите время"}),c.jsxs("div",{className:Be["input-wrapper"],children:[c.jsx("input",{className:Be["input-body"],placeholder:"Начало",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:x,onInput:L=>_(L.target.value)}),c.jsx("line",{className:Be.line,style:{background:s.element_second_color}}),c.jsx("input",{className:Be["input-body"],placeholder:"Конец",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:y,onInput:L=>g(L.target.value)})]})]}),c.jsx("div",{className:Be["input-container"],children:c.jsx("input",{className:Be["input-body"],placeholder:"Кабинет",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:C,onInput:L=>b(L.target.value)})}),c.jsxs("div",{className:Be["color-container"],children:[c.jsx("div",{className:Be.title,style:{color:s.text_first_color},children:"Выберите цвет"}),c.jsx("div",{className:Be["circles-container"],children:O.map(L=>c.jsx(c.Fragment,{children:L.colors.map((P,M)=>c.jsx("div",{className:Be["color-circle"],style:{background:P},onClick:()=>h(P),children:d===P&&c.jsx("div",{className:Be["active-circle"],style:{borderColor:D(P)?"#0A0B10":"#fff"}})},M))}))})]}),c.jsx("div",{className:Be["button-container"],children:c.jsx("button",{className:Be["main-button"],style:{background:s.first_color,color:s.text_first_color},onClick:A,children:"Добавить"})})]})})}const hC=[{day:"ПН",lessons:[]},{day:"ВТ",lessons:[]},{day:"СР",lessons:[]},{day:"ЧТ",lessons:[]},{day:"ПТ",lessons:[]},{day:"СБ",lessons:[]},{day:"ВС",lessons:[]}];function gG({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState([]),[a,l]=p.useState(0),[u,d]=p.useState(),[h,f]=p.useState(),[m,v]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[w,x]=p.useState(),{authUser:_}=pe();ce(),p.useEffect(()=>{(async()=>{try{const S=Q(q,"groups",t,"info","info"),E=await le(S);if(E.exists()){const I=E.data();x(I.owner)}else console.error("Group not found")}catch(S){console.error("Error fetching group data:",S)}finally{}})()},[t]);const y=async()=>{if(t)try{const T=Q(q,"groups",t,"info","timetable"),S=await le(T);if(S.exists()){const E=S.data();i(E.timetable),console.log(E.timetable)}else console.log("No such document! Creating a new one with initial data."),await ut(T,{timetable:hC}),i(hC)}catch(T){console.error("Error fetching group data:",T),i([])}else console.error("ID группы не указан"),i([])};p.useEffect(()=>{y()},[t]),p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:()=>e(),isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[F]);const g=(T,S)=>{const E=[...o];E[T].lessons.splice(S,1),i(E);const I=Q(q,"groups",t,"info","timetable");ut(I,{timetable:E},{merge:!0})},C=async()=>{await y(),f(!1)};function b(T){if(!T)return!1;let S,E,I;if(T.startsWith("#"))if(T.length===4)S=parseInt(T[1]+T[1],16),E=parseInt(T[2]+T[2],16),I=parseInt(T[3]+T[3],16);else if(T.length===7)S=parseInt(T.slice(1,3),16),E=parseInt(T.slice(3,5),16),I=parseInt(T.slice(5,7),16);else return!1;else if(T.startsWith("rgb")){const N=T.substring(T.indexOf("(")+1,T.lastIndexOf(")")).split(",").map(Number);if(N.length===3)S=N[0],E=N[1],I=N[2];else return!1}else{const N=document.createElement("div");N.style.color=T,document.body.appendChild(N);const O=window.getComputedStyle(N).color;if(document.body.removeChild(N),O.startsWith("rgb")){const A=O.substring(O.indexOf("(")+1,O.lastIndexOf(")")).split(",").map(Number);if(A.length===3)S=A[0],E=A[1],I=A[2];else return!1}else return!1}return(S*299+E*587+I*114)/1e3>180}const k=T=>{const S=new Date,E=S.getDay(),I=E===0?6:E-1,j=T-I,N=new Date(S);return N.setDate(S.getDate()+j),N.toLocaleDateString("ru-RU",{day:"numeric"})};return c.jsxs(c.Fragment,{children:[c.jsx(go,{title:m.title,text:m.text,isShow:m.isShow,firstButtonName:m.firstButtonName,secondButtonName:m.secondButtonName,firstButtonOnClick:m.firstButtonOnClick,secondButtonOnClick:m.secondButtonOnClick}),c.jsx(mG,{activeDay:a,id:t,isShow:h,close:C}),c.jsx("div",{className:Te.week,children:o&&o.length>0&&o.map((T,S)=>c.jsxs("div",{onClick:()=>l(S),className:`${Te.day} ${a===S?Te.active:""}`,style:{background:a===S?n.first_color:n.element_first_color,color:n.text_first_color},children:[T.day,c.jsx("div",{className:Te["day-date"],children:k(S)})]},S))}),c.jsxs("div",{className:Te["lessons-container"],children:[o&&o.length>0&&o[a]&&c.jsxs(c.Fragment,{children:[o[a].lessons.map((T,S)=>c.jsx(lG,{color:T.color,backgroundColor:n.element_first_color,circleBackgroundColor:n.first_color,arrowColor:b(T.color)?"#0A0B10":"#fff",textColor:n.text_first_color,lessonName:T.name,lessonTimeStart:T.timeStart,lessonTimeEnd:T.timeEnd,lessonRoom:T.room,onRemove:()=>g(a,S)},S)),c.jsx("div",{className:Te["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>f(!0),children:c.jsx("div",{className:Te.circle,style:{background:n.element_first_color},children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})})]}),c.jsx("button",{className:Te.button,style:{background:n.first_color,color:n.text_first_color},onClick:e,children:"Сохранить"})]})]})}function yG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),{id:r}=Ar(),[s,o]=p.useState(),[i,a]=p.useState([]),[l,u]=p.useState(),{authUser:d}=pe(),h=ce(),[f,m]=p.useState(!1);p.useEffect(()=>{const g=new Date().getDay(),C=g===0?6:g-1;i&&i.length>0&&i[C]?o(C):i&&i.length>0&&o(0)},[i]),p.useEffect(()=>{(async()=>{try{const C=Q(q,"groups",r,"info","info"),b=await le(C);if(b.exists()){const k=b.data();u(k.owner)}else console.error("Group not found")}catch(C){console.error("Error fetching group data:",C)}finally{}})()},[r]);const v=async()=>{if(r)try{const g=Q(q,"groups",r,"info","timetable"),C=await le(g);if(C.exists()){const b=C.data();a(b.timetable),console.log(b.timetable)}else console.log("No such document!"),a([])}catch(g){console.error("Error fetching group data:",g),a([])}else console.error("ID группы не указан"),a([])};p.useEffect(()=>{v()},[r]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${r}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[F]);const w=()=>{m(!0)},x=async()=>{m(!1),await v()};function _(g){if(!g)return!1;let C,b,k;if(g.startsWith("#"))if(g.length===4)C=parseInt(g[1]+g[1],16),b=parseInt(g[2]+g[2],16),k=parseInt(g[3]+g[3],16);else if(g.length===7)C=parseInt(g.slice(1,3),16),b=parseInt(g.slice(3,5),16),k=parseInt(g.slice(5,7),16);else return!1;else if(g.startsWith("rgb")){const S=g.substring(g.indexOf("(")+1,g.lastIndexOf(")")).split(",").map(Number);if(S.length===3)C=S[0],b=S[1],k=S[2];else return!1}else{const S=document.createElement("div");S.style.color=g,document.body.appendChild(S);const E=window.getComputedStyle(S).color;if(document.body.removeChild(S),E.startsWith("rgb")){const I=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(I.length===3)C=I[0],b=I[1],k=I[2];else return!1}else return!1}return(C*299+b*587+k*114)/1e3>180}const y=g=>{const C=new Date,b=C.getDay(),k=b===0?6:b-1,T=g-k,S=new Date(C);return S.setDate(C.getDate()+T),S.toLocaleDateString("ru-RU",{day:"numeric"})};return c.jsx("div",{className:Te.container,children:f?c.jsx(gG,{id:r,handleEdit:x}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Te.week,children:i&&i.length>0&&i.map((g,C)=>c.jsxs("div",{onClick:()=>o(C),className:`${Te.day} ${s===C?Te.active:""}`,style:{background:s===C?t.first_color:t.element_first_color,color:t.text_first_color},children:[g.day,c.jsx("div",{className:Te["day-date"],children:y(C)})]},C))}),c.jsx("div",{className:Te["lessons-container"],children:i&&i.length>0&&i[s]?i[s].lessons.map((g,C)=>c.jsx(YW,{color:g.color,backgroundColor:t.element_first_color,circleBackgroundColor:t.first_color,arrowColor:_(g.color)?"#0A0B10":"#fff",textColor:t.text_first_color,lessonName:g.name,lessonTimeStart:g.timeStart,lessonTimeEnd:g.timeEnd,lessonRoom:g.room},C)):c.jsx("div",{className:Te["info-body"],style:{color:t.text_first_color},children:"Тут пока пусто ..."})}),l&&l===d._id&&c.jsx("button",{className:Te.edit,style:{background:t.first_color},onClick:w,children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_first_color})})})]})})}const _G="_container_1ue5g_1",js={container:_G,"category-name":"_category-name_1ue5g_12","contact-category":"_contact-category_1ue5g_17","category-container":"_category-container_1ue5g_23","item-body":"_item-body_1ue5g_30","item-icon":"_item-icon_1ue5g_43","item-name":"_item-name_1ue5g_51","item-info":"_item-info_1ue5g_56","item-circle":"_item-circle_1ue5g_64"},vG=[{category:"запросы",items:[{name:"Загрузки",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 21V27.6667C31 28.5507 30.6488 29.3986 30.0237 30.0237C29.3986 30.6488 28.5507 31 27.6667 31H4.33333C3.44928 31 2.60143 30.6488 1.97631 30.0237C1.35119 29.3986 1 28.5507 1 27.6667V21M7.66667 12.6667L16 21M16 21L24.3333 12.6667M16 21V1" stroke="{theme.text_first_color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"/downloads",category:"second"},{name:"Расписание",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 31C24.2845 31 31 24.2845 31 16C31 7.7155 24.2845 1 16 1C7.7155 1 1 7.7155 1 16C1 24.2845 7.7155 31 16 31Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linejoin="round"/>
                        <path d="M16.0059 7V16.0075L22.3651 22.3675" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
            `,link:"/timetable",category:"first"},{name:"Профиль",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 27C1 24.8783 1.73974 22.8434 3.05648 21.3431C4.37323 19.8429 6.15912 19 8.02128 19H23.9787C25.8409 19 27.6268 19.8429 28.9435 21.3431C30.2603 22.8434 31 24.8783 31 27C31 28.0609 30.6301 29.0783 29.9718 29.8284C29.3134 30.5786 28.4204 31 27.4894 31H4.51064C3.57956 31 2.68661 30.5786 2.02824 29.8284C1.36987 29.0783 1 28.0609 1 27Z" stroke="{theme.text_first_color}" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M16 13C19.3137 13 22 10.3137 22 7C22 3.68629 19.3137 1 16 1C12.6863 1 10 3.68629 10 7C10 10.3137 12.6863 13 16 13Z" stroke="{theme.text_first_color}" stroke-width="2"/>
                    </svg>
            `,link:"/profile",category:"first"}]},{category:"развелечения",items:[{name:"Кешбэк",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.196 28.804C5.395 31 8.929 31 16 31C23.071 31 26.6065 31 28.8025 28.8025C31 26.608 31 23.071 31 16C31 8.929 31 5.3935 28.8025 3.196C26.608 1 23.071 1 16 1C8.929 1 5.3935 1 3.196 3.196C1 5.395 1 8.929 1 16C1 23.071 1 26.608 3.196 28.804Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                        <path d="M25 10.75H19M25 19.75H19M25 24.25H19M13 10.75H10M10 10.75H7M10 10.75V7.75M10 10.75V13.75M12.25 19.75L10 22M10 22L7.75 24.25M10 22L7.75 19.75M10 22L12.25 24.25" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>`,link:"/cashback",category:"third"},{name:"Goosling",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 31L23.7617 23.7617M23.7617 23.7617C24.9999 22.5236 25.982 21.0537 26.6521 19.436C27.3222 17.8183 27.667 16.0845 27.667 14.3335C27.667 12.5825 27.3222 10.8487 26.6521 9.23101C25.982 7.61331 24.9999 6.14343 23.7617 4.9053C22.5236 3.66717 21.0537 2.68503 19.436 2.01495C17.8183 1.34488 16.0845 1 14.3335 1C12.5825 1 10.8487 1.34488 9.23101 2.01495C7.61331 2.68503 6.14343 3.66717 4.9053 4.9053C2.40478 7.40582 1 10.7973 1 14.3335C1 17.8698 2.40478 21.2612 4.9053 23.7617C7.40582 26.2623 10.7973 27.667 14.3335 27.667C17.8698 27.667 21.2612 26.2623 23.7617 23.7617Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"https://ridgeld.github.io/causegenerator.github.io/rayn_gosling.html",category:"first"}]},{category:"контакты",items:[{name:"Telegram",icon:`<svg width="36" height="30" viewBox="0 0 36 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M32.271 0.205239C32.7136 0.0235109 33.1981 -0.039166 33.674 0.0237315C34.1499 0.086629 34.5998 0.272802 34.9769 0.562873C35.354 0.852943 35.6445 1.23631 35.8182 1.67306C35.9918 2.10982 36.0423 2.584 35.9644 3.04625L31.902 27.083C31.508 29.4016 28.9001 30.7312 26.7202 29.5763C24.8968 28.6101 22.1886 27.1214 19.7526 25.5681C18.5347 24.7906 14.8037 22.3008 15.2622 20.5291C15.6563 19.0142 21.9253 13.3217 25.5076 9.93735C26.9137 8.6077 26.2724 7.84066 24.612 9.06373C20.487 12.1004 13.8687 16.7184 11.6799 18.0183C9.74905 19.1645 8.74242 19.3602 7.53876 19.1645C5.34281 18.8081 3.30627 18.2559 1.64408 17.5833C-0.602028 16.6747 -0.492768 13.6625 1.64229 12.7853L32.271 0.205239Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://t.me/genery_dm",category:"contact"},{name:"Vk",icon:`<svg width="36" height="21" viewBox="0 0 36 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M34.5534 20.9983H30.6117C29.121 20.9983 28.6719 19.8127 25.9997 17.1872C23.6644 14.9772 22.678 14.7024 22.0873 14.7024C21.2703 14.7024 21.0475 14.9229 21.0475 16.027V19.5074C21.0475 20.4488 20.7365 21 18.2319 21C15.8021 20.8397 13.4458 20.1149 11.3571 18.8852C9.26844 17.6556 7.50717 15.9563 6.21837 13.9273C3.15822 10.1874 1.02898 5.79801 0 1.10816C0 0.528092 0.224552 0.00230128 1.35077 0.00230128H5.28907C6.30128 0.00230128 6.66575 0.444983 7.06303 1.46773C8.97518 6.99362 12.2381 11.8004 13.563 11.8004C14.0708 11.8004 14.2919 11.5799 14.2919 10.3366V4.64452C14.1243 2.0478 12.72 1.829 12.72 0.889361C12.7378 0.641461 12.8533 0.410126 13.0419 0.244493C13.2306 0.0788594 13.4776 -0.00802255 13.7305 0.00230128H19.9212C20.7676 0.00230128 21.0475 0.416149 21.0475 1.41006V9.09339C21.0475 9.92278 21.4102 10.1975 21.6658 10.1975C22.1737 10.1975 22.564 9.92278 23.4951 9.01028C25.4907 6.62045 27.1212 3.95789 28.335 1.10646C28.4593 0.764109 28.6942 0.47106 29.0039 0.27201C29.3135 0.0729603 29.681 -0.021163 30.0503 0.00399725H33.9903C35.1718 0.00399725 35.4223 0.584064 35.1718 1.41176C33.7388 4.56382 31.9656 7.55588 29.8827 10.3366C29.4578 10.9727 29.2885 11.3034 29.8827 12.0497C30.2731 12.6298 31.655 13.7627 32.5825 14.8398C33.9333 16.1627 35.0543 17.6926 35.9025 19.3684C36.241 20.4471 35.6779 20.9983 34.5534 20.9983Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://vk.com/generatordm",category:"contact"},{name:"X",icon:`<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.2786 12.7995L28.1143 0H23.7243L16.2171 9.7755L9.55714 0H0L11.1514 16.365L0.671429 30H5.06286L13.2129 19.395L20.4429 30H30L18.2786 12.7995ZM14.8786 17.2245L12.8143 14.196L4.8 2.4405H8.1L14.5686 11.916L16.63 14.946L25.2271 27.5595H21.9271L14.8786 17.2245Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://x.com/GeneryDM",category:"contact"}]}];function wG({name:t,textColor:e,icon:n,link:r,category:s}){const{theme:o,setThemeById:i,elementColors:a,setElementColors:l}=p.useContext(F),[u,d]=p.useState(o.text_first_color),[h,f]=p.useState(o.first_color),[m,v]=p.useState(o.text_first_color),w=ce(),{authUser:x}=pe(),_=C=>{if(C.includes("https:"))window.location.href=C;else{if(C==="/timetable"){w(`/timetable/${x.mainGroup}`);return}if(C==="/downloads"){w(`/download/${x.mainGroup}`);return}w(C)}},y={first:{circle:o.first_color,icon:o.text_first_color},second:{circle:o.second_color,icon:o.text_second_color},third:{circle:o.third_color,icon:o.text_first_color},contact:{circle:o.element_first_color,icon:o.text_first_color}};p.useEffect(()=>{s in y?(f(y[s].circle),v(y[s].icon)):(f(o.first_color),v(o.second_color))},[s]);const g=n.replace(/{theme.text_first_color}/g,o.text_first_color);return c.jsxs("div",{className:js["item-body"],style:{border:`2px solid ${o.element_first_color}`},onClick:()=>_(r),children:[c.jsxs("div",{className:js["item-info"],children:[c.jsx("div",{className:js["item-icon"],children:cs(g)}),c.jsx("div",{className:js["item-name"],style:{color:e},children:t})]}),c.jsx("div",{className:js["item-circle"],style:{background:h},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:m})})})]})}function xG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F);return p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[t]),c.jsxs("div",{className:js.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),vG.map((s,o)=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:js[`${s.category==="контакты"?"contact-category":"category-name"}`],style:{color:t.text_first_color},children:s.category},o),c.jsx("div",{className:js["category-container"],children:s.items.map((i,a)=>c.jsx(wG,{name:i.name,textColor:t.text_first_color,category:i.category,icon:i.icon,link:i.link},a))})]}))]})}const CG="_container_18erj_2",bG="_hashtags_18erj_180",kG="_comment_18erj_247",SG="_image_0_18erj_537",EG="_image_1_18erj_553",TG="_image_2_18erj_569",IG="_image_3_18erj_585",NG="_image_4_18erj_601",jG="_emoji_18erj_617",ue={container:CG,"fixed-post-input":"_fixed-post-input_18erj_14","post-body":"_post-body_18erj_23","fixed-post":"_fixed-post_18erj_14","post-body-empty":"_post-body-empty_18erj_43","post-info":"_post-info_18erj_53","post-author":"_post-author_18erj_62","author-photo":"_author-photo_18erj_70","author-photo-empty":"_author-photo-empty_18erj_86","author-name":"_author-name_18erj_96","author-name-empty":"_author-name-empty_18erj_102","post-delete":"_post-delete_18erj_109","post-more":"_post-more_18erj_118","post-date":"_post-date_18erj_125","post-data":"_post-data_18erj_135","post-photo":"_post-photo_18erj_145","post-text":"_post-text_18erj_157","post-text-empty":"_post-text-empty_18erj_169",hashtags:bG,"post-buttons":"_post-buttons_18erj_184","post-actions":"_post-actions_18erj_191","action-like":"_action-like_18erj_200","action-comment":"_action-comment_18erj_219","action-send":"_action-send_18erj_233","comments-container":"_comments-container_18erj_247","comments-container-preview":"_comments-container-preview_18erj_259","fixed-input":"_fixed-input_18erj_265",comment:kG,"author-info":"_author-info_18erj_282","comment-text":"_comment-text_18erj_290","comment-actions":"_comment-actions_18erj_295","answer-button":"_answer-button_18erj_303","input-container":"_input-container_18erj_312","message-action":"_message-action_18erj_324","add-file":"_add-file_18erj_332","input-body":"_input-body_18erj_351","image-preview":"_image-preview_18erj_361","remove-image":"_remove-image_18erj_374","input-component":"_input-component_18erj_393","smile-button":"_smile-button_18erj_404","input-message":"_input-message_18erj_425","send-button":"_send-button_18erj_444","images-body":"_images-body_18erj_463","images-wrapper_1":"_images-wrapper_1_18erj_467","images-wrapper_2":"_images-wrapper_2_18erj_481","images-wrapper_3":"_images-wrapper_3_18erj_495","images-wrapper_4":"_images-wrapper_4_18erj_509","images-wrapper_5":"_images-wrapper_5_18erj_523",image_0:SG,image_1:EG,image_2:TG,image_3:IG,image_4:NG,emoji:jG},AG="_body_unqzg_1",ul={body:AG,"item-body":"_item-body_unqzg_17","item-info":"_item-info_unqzg_28","item-icon":"_item-icon_unqzg_35","item-name":"_item-name_unqzg_44"},PG=[{name:"Удалить",icon:`
            <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 6V16H3V6H11ZM9.5 0H4.5L3.5 1H0V3H14V1H10.5L9.5 0ZM13 4H1V16C1 17.1 1.9 18 3 18H11C12.1 18 13 17.1 13 16V4Z" fill="{theme.text_first_color}"/>
            </svg>
        `,borderRadius:"15px",id:"delete"}];function LG({isShow:t,onClick:e}){const{theme:n,setElementColors:r}=p.useContext(F),s=i=>{e(i)},o={open:{opacity:1,scale:1},closed:{opacity:0,scale:0}};return c.jsx(ot.div,{className:ul.body,animate:t?"open":"closed",variants:o,transition:{duration:.1},style:{background:n.element_second_color,boxShadow:`0 5px 10px 5px ${n.shadow_color}`},children:PG.map((i,a)=>{const l=i.icon.replace(/{theme.text_first_color}/g,n.text_first_color);return c.jsx("div",{className:ul["item-body"],onClick:()=>s(i.id),onMouseEnter:u=>{u.currentTarget.style.background=n.active_element_color},onMouseLeave:u=>{u.currentTarget.style.background="none"},children:c.jsxs("div",{className:ul["item-info"],children:[c.jsx("div",{className:ul["item-icon"],children:cs(l)}),c.jsx("div",{className:ul["item-name"],style:{color:n.text_first_color},children:i.name})]})},a)})})}const RG="_replies_7pjjr_91",dt={"comment-info":"_comment-info_7pjjr_2","author-info":"_author-info_7pjjr_8","author-photo":"_author-photo_7pjjr_16","author-name":"_author-name_7pjjr_32","comment-body":"_comment-body_7pjjr_38","comment-text":"_comment-text_7pjjr_46","comment-actions":"_comment-actions_7pjjr_58","answer-button":"_answer-button_7pjjr_66","show-answers":"_show-answers_7pjjr_78",replies:RG};function OG({isPreview:t,userId:e,userPhoto:n,userName:r,text:s,showUserProfile:o,onReply:i,replies:a,commentId:l}){const{theme:u,elementColors:d,setElementColors:h}=p.useContext(F),[f,m]=p.useState(!1),v=ce(),w=g=>typeof g=="string"?g.replace(/(#[\wа-яА-Я_]+)/g,C=>`<div class="${dt.hashtags}">${C}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map((C,b)=>C.startsWith("<div")?cs(C):C):g,x=g=>{if(typeof g=="string")return w(g);if(vr.isValidElement(g)){const C=vr.Children.map(g.props.children,x);return vr.cloneElement(g,{children:C})}return g},_=g=>{const C=cs(g);return x(C)},y=g=>{g=g.replace("#","");const C=parseInt(g.substring(0,2),16),b=parseInt(g.substring(2,4),16),k=parseInt(g.substring(4,6),16);return`rgba(${C}, ${b}, ${k}, 0.2)`};return c.jsxs("div",{className:dt["comment-info"],children:[c.jsxs("div",{className:dt["comment-body"],style:{},children:[c.jsxs("div",{className:dt["author-info"],onClick:()=>o(e),children:[c.jsx("div",{className:dt["author-photo"],children:c.jsx("img",{className:dt.avatar,src:n})}),c.jsx("div",{className:dt["author-name"],style:{color:u.text_first_color},children:r})]}),c.jsx("div",{className:dt["comment-text"],style:{color:u.text_first_color},children:_(s)}),c.jsx("div",{className:dt["comment-actions"],children:c.jsx("button",{className:dt["answer-button"],style:{color:u.element_second_color},onClick:()=>i({userName:r,commentId:l}),children:"Ответить"})}),a&&a.length>0&&c.jsx("button",{onClick:()=>m(!f),className:dt["show-answers"],style:{color:u.first_color,background:y(u.first_color)},children:f?"Скрыть ответы":`Показать ответы (${a.length})`})]}),f&&c.jsx("div",{className:dt.replies,children:a.map((g,C)=>c.jsxs("div",{className:dt["comment-body"],children:[c.jsxs("div",{className:dt["author-info"],onClick:()=>o(g.userId),children:[c.jsx("div",{className:dt["author-photo"],children:c.jsx("img",{className:dt.avatar,src:g.userPhoto})}),c.jsx("div",{className:dt["author-name"],style:{color:u.text_first_color},children:g.userName})]}),c.jsxs("div",{className:dt["comment-text"],style:{color:u.text_first_color},children:[c.jsxs("div",{className:dt["link-to-answer"],style:{color:u.first_color},onClick:()=>v(`/profile/${g.userId}`),children:["@",g.userName]}),_(g.text)]})]},C))})]})}function mu({postId:t,userPhoto:e,groupOwnerId:n,userId:r,userName:s,postData:o,postText:i,postPhotos:a,likesArray:l,commentCount:u,photoClick:d,postAction:h,commentsArray:f}){const m=ce(),[v,w]=p.useState(!1),{theme:x,setThemeById:_,elementColors:y,setElementColors:g}=p.useContext(F),{authUser:C}=pe(),[b,k]=p.useState(!1);p.useEffect(()=>{C&&l.includes(C._id)&&w(!0)},[C._id]);const T=async()=>{const D=Q(q,"posts",t);v?(await is(D,{likesArray:kD(C._id)}),w(!1)):(await is(D,{likesArray:bo(C._id)}),w(!0))},S=D=>{h(D,t),k(!1)},E=(D,L)=>{d(D,L)},I=D=>typeof D=="string"?D.replace(/(#[\wа-яА-Я_]+)/g,L=>`<div class="${ue.hashtags}">${L}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map((L,P)=>L.startsWith("<div")?cs(L):L):D,j=D=>{if(typeof D=="string")return I(D);if(vr.isValidElement(D)){const L=vr.Children.map(D.props.children,j);return vr.cloneElement(D,{children:L})}return D},N=D=>{const L=cs(D);return j(L)},O=D=>{m(n?`/group/${D}`:`/profile/${D}`)},A=()=>{m(`/post/${t}`)};p.useEffect(()=>{C._id===r&&console.log("Это ваш пост: "+t)},[t]);const R=()=>{navigator.share?navigator.share({title:i,url:`https://ridgeld.github.io/genery/#/post/${t}`}).then(()=>console.log("Успешно поделились!")).catch(D=>console.error("Ошибка при попытке поделиться: ",D)):alert("Ваш браузер не поддерживает возможность отправки через Share API.")};return c.jsxs("div",{className:ue["post-body"],style:{"--hashtag-color":x.icon_color},children:[c.jsx(LG,{isShow:b,onClick:S}),c.jsxs("div",{className:ue["post-info"],children:[c.jsxs("div",{className:ue["post-author"],onClick:()=>O(r),children:[c.jsx("div",{className:ue["author-photo"],children:c.jsx("img",{src:e,className:ue["user-avatar"]})}),c.jsx("div",{className:ue["author-name"],style:{color:x.text_first_color},children:s})]}),(r===C._id||n===C._id)&&c.jsx("div",{className:ue["post-delete"],onClick:()=>k(!b),children:c.jsxs("div",{className:ue["post-more"],children:[c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})})]})})]}),c.jsxs("div",{className:ue["post-data"],children:[a&&c.jsx("div",{className:ue["images-body"],children:c.jsx("div",{className:ue[`images-wrapper_${a.length}`],children:a.map((D,L)=>c.jsx(ot.div,{className:ue[`image_${L}`],whileTap:{scale:1.5},children:c.jsx("img",{src:D,onClick:()=>E(a,L)})}))})}),i&&c.jsx("div",{className:ue["post-text"],style:{color:x.text_first_color},children:N(i)})]}),c.jsxs("div",{className:ue["post-actions"],children:[c.jsx("div",{className:ue["post-date"],style:{color:x.text_first_color},children:o}),c.jsxs("div",{className:ue["post-buttons"],children:[c.jsx("div",{className:ue["like-count"],style:{color:x.text_first_color},children:l.length}),c.jsx("div",{className:ue["action-like"],style:{background:x.third_color},onClick:T,children:c.jsx(ot.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 32",fill:"none",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileTap:{scale:3,opacity:.5},children:v?c.jsx(ot.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",fill:x.text_first_color},"heart-filled"):c.jsx(ot.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",stroke:x.text_first_color,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"},"heart-outline")})}),c.jsx("div",{className:ue["like-count"],style:{color:x.text_first_color},children:u}),c.jsx("div",{className:ue["action-comment"],style:{background:x.second_color},onClick:A,children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M10 19C11.78 19 13.5201 18.4722 15.0001 17.4832C16.4802 16.4943 17.6337 15.0887 18.3149 13.4442C18.9961 11.7996 19.1743 9.99002 18.8271 8.24419C18.4798 6.49836 17.6226 4.89471 16.364 3.63604C15.1053 2.37737 13.5016 1.5202 11.7558 1.17294C10.01 0.82567 8.20038 1.0039 6.55585 1.68509C4.91131 2.36628 3.50571 3.51983 2.51677 4.99987C1.52784 6.47991 1 8.21997 1 10C1 11.488 1.36 12.891 2 14.127L1 19L5.873 18C7.109 18.64 8.513 19 10 19Z",stroke:x.background_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}),c.jsx("div",{className:ue["action-send"],style:{background:x.first_color},onClick:R,children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:x.text_first_color})})})]})]}),c.jsx("div",{className:ue["comments-container-preview"],children:f&&c.jsxs("div",{className:ue.comment,style:{background:x.element_first_color},children:[c.jsxs("div",{className:ue["author-info"],children:[c.jsx("div",{className:ue["author-photo"],children:c.jsx("img",{className:ue.avatar,src:f.userPhoto})}),c.jsx("div",{className:ue["author-name"],style:{color:x.text_first_color},children:f.userName})]}),c.jsx("div",{className:ue["comment-text"],style:{color:x.text_first_color},children:N(f.text)}),c.jsx("div",{className:ue["comment-actions"],children:c.jsx("div",{className:ue["answer-button"],style:{color:x.element_second_color},onClick:()=>m(`/post/${t}`),children:"Ответить"})})]})})]})}const fC={"circle-skeleton":"_circle-skeleton_1fo8g_2","rect-skeleton":"_rect-skeleton_1fo8g_20"};function bn({width:t,height:e,shape:n}){const{theme:r,setElementColors:s}=p.useContext(F),o=()=>c.jsx("div",{className:fC["circle-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}}),i=()=>c.jsx("div",{className:fC["rect-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}});return c.jsx(c.Fragment,{children:n==="rect"?i():o()})}function Tt(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F);return c.jsxs("div",{className:ue["post-body-empty"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:ue["post-info"],children:[c.jsxs("div",{className:ue["post-author"],children:[c.jsx("div",{className:ue["author-photo-empty"],children:c.jsx(bn,{width:"100%",height:"100%",shape:"circle"})}),c.jsx("div",{className:ue["author-name"],style:{color:t.text_first_color},children:c.jsx(bn,{width:"50%",height:"15px",shape:"rect"})})]}),c.jsx("div",{className:ue["post-date"],style:{color:t.text_first_color},children:c.jsx(bn,{width:"30%",height:"15px",shape:"rect"})})]}),c.jsx("div",{className:ue["post-data"],children:c.jsxs("div",{className:ue["post-text-empty"],children:[c.jsx(bn,{width:"100%",height:"15px",shape:"rect"}),c.jsx(bn,{width:"90%",height:"15px",shape:"rect"})]})})]})}function DG(){const[t,e]=p.useState([]),n=ce();p.useRef(null);const{theme:r,elementColors:s,setElementColors:o}=p.useContext(F),{authUser:i}=pe(),[a,l]=p.useState(!0),[u,d]=p.useState({isShow:!1,images:[],index:null}),[h,f]=p.useState({isShow:!1,text:""}),[m,v]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"});p.useEffect(()=>{if(h.isShow){const b=setTimeout(()=>{f({isShow:!1})},1e3);return()=>clearTimeout(b)}},[h]),p.useEffect(()=>{o({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,arrowLink:()=>n("/menu"),isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:3}),document.body.style.background=r.background_color},[F]),p.useEffect(()=>{const b=pi(Wa(In(q,"posts"),Ga("timestamp","desc")),async k=>{const T=k.docs.map(async E=>{const I=E.data(),N=new Date(I.timestamp).toLocaleDateString("ru-RU",{day:"2-digit",month:"long"}),O=In(q,"posts",E.id,"comments"),R=(await tk(O)).docs.map(P=>({commentId:P.id,...P.data()})),D=R.map(P=>({...P,replyCount:R.filter(M=>M.replyTo===P.commentId).length}));let L=null;return D.length&&(L=D.reduce((P,M)=>M.replyCount>P.replyCount?M:P,D[0])),{id:E.id,userId:I.userId,groupOwnerId:I.groupOwnerId,userName:I.userName,userPhoto:I.userPhoto,postText:I.text,postPhoto:I.photos,postData:N,likesArray:I.likesArray,commentsArray:D,topComment:L}}),S=await Promise.all(T);e(S),l(!1)});return()=>b()},[]);const w=async(b,k)=>{try{const T=new Date().toISOString();let S=[];for(const E of k){const I=Nr(jr,`post_photos/${i._id}/${T}_${E.name}`);await ti(I,E);const j=await as(I);S.push(j)}await x(b,S)}catch(T){console.error("Error handling send: ",T)}},x=async(b,k)=>{try{const T=new Date().toISOString();await tp(In(q,"posts"),{photos:k,text:b,timestamp:T,userId:i._id,userName:i.name,userPhoto:i.avatar,likesArray:[],commentsArray:[]}),console.log("Message saved successfully.")}catch(T){console.error("Error adding document: ",T)}},_=(b,k)=>{d({isShow:!0,images:b,index:k})},y=()=>{v({isShow:!1})},g=async b=>{v({isShow:!1});try{await nk(Q(q,"posts",b))}catch(k){console.error("Error deleting post: ",k)}finally{f({isShow:!0,text:"Пост удален"})}},C=(b,k)=>{switch(b){case"delete":return v({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:y,secondButtonOnClick:()=>g(k)});default:return v({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:ue.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${r.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(mo,{isShow:u.isShow,images:u.images,index:u.index,onClose:()=>d({isShow:!1})}),c.jsx("div",{className:ue["fixed-post-input"],style:{background:r.background_color},children:c.jsx(Sp,{placeholder:"Что у вас нового?",isPanelTop:!0,addFiles:!0,onSend:w})}),c.jsx(go,{title:m.title,text:m.text,isShow:m.isShow,firstButtonName:m.firstButtonName,secondButtonName:m.secondButtonName,firstButtonOnClick:m.firstButtonOnClick,secondButtonOnClick:m.secondButtonOnClick}),c.jsx(Pt,{isShow:h.isShow,text:h.text}),a?c.jsxs(c.Fragment,{children:[c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{})]}):t.map(b=>c.jsx(mu,{postId:b.id,userId:b.userId,groupOwnerId:b.groupOwnerId,userName:b.userName,userPhoto:b.userPhoto,postData:b.postData,postText:b.postText,postPhotos:b.postPhoto,likesArray:b.likesArray,photoClick:_,postAction:C,commentCount:b.commentsArray.length,commentsArray:b.commentsArray?b.topComment:[],onSend:""},b.id))]})}const MG="_container_8pw6e_1",$G="_circle_8pw6e_188",je={container:MG,"category-container":"_category-container_8pw6e_12","category-name":"_category-name_8pw6e_21","item-body":"_item-body_8pw6e_30","item-info":"_item-info_8pw6e_39","item-icon":"_item-icon_8pw6e_47","item-name":"_item-name_8pw6e_55","check-box":"_check-box_8pw6e_60","check-box-circle":"_check-box-circle_8pw6e_81","themes-body":"_themes-body_8pw6e_89","themes-name":"_themes-name_8pw6e_100","themes-container":"_themes-container_8pw6e_109","theme-body":"_theme-body_8pw6e_117","theme-active":"_theme-active_8pw6e_134","block-body":"_block-body_8pw6e_150","block-title":"_block-title_8pw6e_161","block-text":"_block-text_8pw6e_166","block-arrow":"_block-arrow_8pw6e_171","reset-password":"_reset-password_8pw6e_178",circle:$G},FG=[{category:"запросы",items:[{name:"Цензура",icon:`
                <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.86667 5.6418C2.46706 8.22887 1 11.6931 1 15.5C1 23.5081 7.49187 30 15.5 30C19.3069 30 22.7711 28.5329 25.3582 26.1333M4.86667 5.6418C7.51484 2.78674 11.2988 1 15.5 1C23.5081 1 30 7.49187 30 15.5C30 19.7012 28.2133 23.4852 25.3582 26.1333M4.86667 5.6418L25.3582 26.1333" stroke="{theme.text_first_color}" stroke-width="2"/>
                </svg>                                                                
            `}]}];function BG({itemName:t,itemIcon:e,authUserCensor:n,onCensorChange:r}){console.log(`Пришло значение: ${n}`);const{theme:s,setThemeById:o,elementColors:i,setElementColors:a}=p.useContext(F),l=()=>{if(t==="Цензура"){const d=!n;console.log(`Изменено при клике на: ${d}`),r(d)}},u=e.replace(/{theme.text_first_color}/g,s.text_first_color);return c.jsxs("div",{className:je["item-body"],style:{background:s.element_first_color},children:[c.jsxs("div",{className:je["item-info"],children:[c.jsx("div",{className:je["item-icon"],children:cs(u)}),c.jsx("div",{className:je["item-name"],style:{color:s.text_first_color},children:t})]}),c.jsx("div",{className:je["check-box"],style:{background:n&&t==="Цензура"?s.first_color:s.element_second_color},onClick:l,children:c.jsx("div",{className:je["check-box-circle"],style:{background:s.text_first_color,marginLeft:n&&t==="Цензура"?"29px":"0"}})})]})}function UG({name:t,img:e,activeTheme:n,onThemeChange:r}){const{theme:s,elementColors:o,setElementColors:i}=p.useContext(F),a=()=>{r(t)};return c.jsxs("div",{className:je["theme-body"],style:{border:n===t?`2px solid ${s.gradient_first_color}`:"none"},onClick:a,children:[c.jsx("img",{src:e,alt:t}),n===t&&c.jsx("div",{className:je["theme-active"],style:{background:s.first_color},children:c.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.14645 4.64645C0.951184 4.84171 0.951184 5.15829 1.14645 5.35355C1.34171 5.54882 1.65829 5.54882 1.85355 5.35355L1.14645 4.64645ZM6 1C6 0.723858 5.77614 0.5 5.5 0.5L1 0.5C0.723858 0.5 0.5 0.723858 0.5 1C0.5 1.27614 0.723858 1.5 1 1.5L5 1.5L5 5.5C5 5.77614 5.22386 6 5.5 6C5.77614 6 6 5.77614 6 5.5L6 1ZM1.85355 5.35355L5.85355 1.35355L5.14645 0.646447L1.14645 4.64645L1.85355 5.35355Z",fill:s.text_first_color})})})]})}function VG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),s=localStorage.getItem("censor")==="true",[o,i]=p.useState(s);console.log(`Состояние из хранилища ${s}`);const{authUser:a}=pe(),[l,u]=p.useState([]),[d,h]=p.useState({isShow:!1,text:""}),f=ce();p.useEffect(()=>{if(d.isShow){const x=setTimeout(()=>{h({isShow:!1})},1e3);return()=>clearTimeout(x)}},[d]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>f("/list-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{(async()=>{if(a&&a._id){const _=Q(q,"users",a._id,"info","preferences"),y=await le(_);if(y.exists()){const g=y.data();u(g.boughtThemes)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const m=l?l.filter(x=>Ex[x]).map(x=>Ex[x]):[],v=async x=>{e(x),h({isShow:!0,text:`Выбрана тема: ${x}`})},w=x=>{i(x),localStorage.setItem("censor",x)};return c.jsxs("div",{className:je.container,children:[c.jsx(Pt,{text:d.text,isShow:d.isShow}),FG.map(x=>c.jsxs("div",{className:je["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:je["category-name"],children:x.category}),x.items.map(_=>c.jsx(BG,{itemIcon:_.icon,itemName:_.name,authUserCensor:o,onCensorChange:w}))]})),c.jsxs("div",{className:je["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:je["category-name"],style:{color:t.text_first_color},children:"Темы"}),c.jsxs("div",{className:je["themes-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:je["themes-name"],style:{color:t.text_first_color},children:"Доступные темы:"}),c.jsx("div",{className:je["themes-container"],children:m.map(x=>c.jsx(UG,{img:x.img,name:x.name,activeTheme:t.name,onThemeChange:v}))})]})]}),c.jsxs("div",{className:je["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:je["category-name"],style:{color:t.text_first_color},children:"Безопасность и личные данные"}),c.jsxs("button",{className:je["reset-password"],style:{color:t.text_first_color,background:t.element_first_color},onClick:()=>f("/authresetpassword"),children:["Сбросить пароль",c.jsx("div",{className:je.circle,style:{background:t.element_first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:"white"})})})]})]}),c.jsxs("div",{className:je["category-container"],children:[c.jsx("div",{className:je["category-name"],style:{color:t.text_first_color},children:"информация"}),c.jsxs("div",{className:je["block-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:je["block-title"],style:{color:t.text_first_color},children:"GENERY"}),c.jsx("div",{className:je["block-text"],style:{color:t.text_first_color},children:"Genery 5.4.1"}),c.jsx("div",{className:je["block-arrow"],children:c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:t.text_first_color})})})]})]})]})}const zG="_container_1wjrk_1",dl={container:zG,"block-body":"_block-body_1wjrk_11","block-name":"_block-name_1wjrk_20","block-text":"_block-text_1wjrk_25","block-price":"_block-price_1wjrk_30"},HG="_button_rb0y4_1",qG="_arrow_rb0y4_18",pC={button:HG,arrow:qG};function WG({name:t,backgroundColor:e,textColor:n,onButtonClick:r}){return c.jsxs("button",{className:pC.button,style:{background:e,color:n},onClick:r,children:[t,c.jsx("div",{className:pC.arrow,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:n})})})]})}function GG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState("0 c"),[o,i]=p.useState(""),[a,l]=p.useState(""),[u,d]=p.useState(!1),h=ce(),f=()=>{d(!0),o!==" "&&a!==" "&&s(o*a+" с")};return p.useEffect(()=>{if(u){const m=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(m)}},[u]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>h("/list-menu"),arrowColor:t.background_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]),c.jsxs("div",{className:dl.container,children:[c.jsxs("div",{className:dl["block-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:dl["block-name"],style:{color:t.text_first_color},children:"1X ГЛЕБ"}),c.jsx("div",{className:dl["block-text"],style:{color:t.text_first_color},children:"Ваш выигрыш составил:"}),c.jsx("div",{className:dl["block-price"],style:{color:t.text_first_color},children:r})]}),c.jsx(Er,{type:"number",placeholder:"Введите сумму ставки",onInputChange:m=>i(m.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},1),c.jsx(Er,{type:"number",placeholder:"Введите коэффициент ставки",onInputChange:m=>l(m.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},2),c.jsx(WG,{name:"Рассчитать",backgroundColor:t.first_color,textColor:t.text_first_color,onButtonClick:f})]})}const KG="_container_1uk81_1",ZG="_hidden_1uk81_123",Je={container:KG,"category-container":"_category-container_1uk81_12","balance-container":"_balance-container_1uk81_19","image-cover":"_image-cover_1uk81_26","no-select":"_no-select_1uk81_37","back-image":"_back-image_1uk81_47","text-image":"_text-image_1uk81_51","items-container":"_items-container_1uk81_56","card-body":"_card-body_1uk81_64","card-photo-body":"_card-photo-body_1uk81_77","card-photo":"_card-photo_1uk81_77","card-info":"_card-info_1uk81_90","card-name":"_card-name_1uk81_98","card-label":"_card-label_1uk81_103","card-action":"_card-action_1uk81_113",hidden:ZG,"card-price":"_card-price_1uk81_128","card-buy":"_card-buy_1uk81_137","buy-button":"_buy-button_1uk81_153","button-price":"_button-price_1uk81_167"},YG=[{category:"winter_2024",img:"shop/winter_2024/cover.png",textImg:"shop/winter_2024/text-img.png",items:[{id:"winter_2024",category:"theme",img:"shop/winter_2024/img-1.png",name:"Морозная свежесть",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"colors",img:"shop/winter_2024/img-2.png",name:"Морозная палитра",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"emojies",img:"shop/winter_2024/img-3.png",name:"Морозные эмодзи",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"all",img:"shop/winter_2024/img-4.png",name:"Морозный пак",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0}]},{category:"kyrgyzstan",img:"shop/kyrgyzstan/cover.png",textImg:"shop/kyrgyzstan/text-img.png",items:[{id:"kyrgyzstan",category:"theme",img:"shop/kyrgyzstan/img-2.png",name:"Тема",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"emojies",img:"shop/kyrgyzstan/img-1.png",name:"Смайлы",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"colors",img:"shop/kyrgyzstan/img-3.png",name:"Пак цветов",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"all",img:"shop/kyrgyzstan/img-4.png",name:'Пак "Родина"',label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0}]},{category:"genery",img:"shop/genery/cover.png",textImg:"shop/genery/text-img.png",items:[{id:"genery",category:"theme",img:"shop/genery/img-1.png",name:"Тема",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:1e3},{id:"genery",img:"shop/genery/img-2.png",category:"colors",name:"Пак смайлов",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:250},{id:"genery",img:"shop/genery/img-3.png",category:"emojies",name:"Пак смайлов",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:500},{id:"genery",img:"shop/genery/img-4.png",category:"all",name:"Набор Genery",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:0}]}];function QG({img:t,textImg:e}){return c.jsxs("div",{className:Je["image-cover"],children:[c.jsx("div",{className:Je["no-select"]}),c.jsx("img",{src:t,className:Je["back-image"]}),c.jsx("img",{src:e,className:Je["text-image"]})]})}const mC={"coin-outer":"_coin-outer_1t7ga_1","coin-inner":"_coin-inner_1t7ga_10"};function Hh({color:t}){return c.jsx("div",{className:mC["coin-outer"],style:{background:t},children:c.jsx("div",{className:mC["coin-inner"]})})}function XG({category:t,id:e,photo:n,name:r,label:s,labelTextColor:o,labelColor:i,isBought:a,isFree:l,price:u,onBuyItem:d}){const{theme:h,elementColors:f,setElementColors:m}=p.useContext(F);return c.jsxs("div",{className:Je["card-body"],style:{background:h.element_first_color},children:[c.jsxs("div",{className:Je["card-photo-body"],style:{background:h.background_color},children:[c.jsx("div",{className:Je["no-select"]}),c.jsx("img",{src:n,className:Je["card-photo"]})]}),c.jsxs("div",{className:Je["card-info"],children:[c.jsx("div",{className:Je["card-name"],style:{color:h.text_first_color},children:r}),c.jsx("div",{className:Je["card-label"],style:{background:i,color:o},children:s})]}),c.jsxs("div",{className:Je["card-action"],children:[c.jsx("div",{className:Je["card-price"],style:{color:h.text_first_color},children:a?"Куплено":l?"Бесплатно":c.jsxs(c.Fragment,{children:[u,c.jsx(Hh,{color:h.first_color})]})}),c.jsx("div",{className:Je["card-arrow"],children:c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:h.text_first_color})})})]}),!a&&c.jsx("div",{className:`${Je["card-buy"]} ${Je.hidden}`,children:c.jsx("button",{className:Je["buy-button"],style:{background:h.first_color,color:h.text_first_color},onClick:()=>d(t,e,u),children:l?c.jsx(c.Fragment,{children:"Бесплатно"}):c.jsxs(c.Fragment,{children:["Купить за",c.jsxs("div",{className:Je["button-price"],children:[u,c.jsx(Hh,{color:h.text_first_color})]})]})})})]})}const nd={"score-container":"_score-container_71jb4_1","name-body":"_name-body_71jb4_9","count-body":"_count-body_71jb4_22","balance-body":"_balance-body_71jb4_35"};function gu({name:t,count:e,isBalance:n}){const{theme:r,elementColors:s,setElementColors:o}=p.useContext(F);return c.jsxs("div",{className:nd["score-container"],children:[c.jsx("div",{className:nd["name-body"],style:{background:r.element_first_color,color:r.text_first_color},children:t}),c.jsx("div",{className:nd["count-body"],style:{background:r.element_first_color,color:r.text_first_color},children:n?c.jsxs("div",{className:nd["balance-body"],style:{color:r.text_first_color},children:[e,c.jsx(Hh,{color:r.first_color})]}):e})]})}function JG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState({isShow:!1,text:""}),[o,i]=p.useState([]),[a,l]=p.useState([]),[u,d]=p.useState([]),[h,f]=p.useState(""),[m,v]=p.useState(0),{authUser:w}=pe(),x=ce();p.useEffect(()=>{if(r.isShow){const C=setTimeout(()=>{s({isShow:!1})},1e3);return()=>clearTimeout(C)}},[r]),p.useEffect(()=>{(async()=>{if(w&&w._id){const b=Q(q,"users",w._id,"info","preferences"),k=await le(b);if(k.exists()){const T=k.data();v(T.balance),i(T.boughtThemes),l(T.boughtColors),d(T.boughtEmojies)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[m,o,a,u]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>x("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[F]);const _=async C=>{if(w&&w._id)try{const b=Q(q,"users",w._id,"info","preferences");await is(b,{balance:C}),console.log(`Balance updated to ${C}`)}catch(b){console.error("Error updating balance:",b)}else console.error("authUser or authUser._id is undefined")},y=async(C,b,k)=>{const T=Q(q,"users",w._id,"info","preferences");if(m<k){s({isShow:!0,text:"У вас недостаточно средств для покупки"});return}v(m-k),_(m-k);let S={},E="";switch(C){case"colors":S={boughtColors:bo(b)},E=`вы приобрели цвета: ${b}`;break;case"emojies":S={boughtEmojies:bo(b)},E=`вы приобрели пак эмодзи: ${b}`;break;case"theme":S={boughtThemes:bo(b)},E=`вы приобрели тему: ${b}`;break;case"all":S={boughtColors:bo(b),boughtEmojies:bo(b),boughtThemes:bo(b)},E=`вы приобрели коллекцию: ${b}`;break;default:return}await is(T,S),s({isShow:!0,text:E})},g=(C,b)=>{switch(C){case"colors":return a.includes(b);case"theme":return o.includes(b);case"emojies":return u.includes(b);case"all":return a.includes(b)&&o.includes(b)&&u.includes(b);default:return!1}};return c.jsxs("div",{className:Je.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(Pt,{isShow:r.isShow,text:r.text}),c.jsx("div",{className:Je["balance-container"],style:{background:t.background_color},children:c.jsx(gu,{name:"Баланс",isBalance:!0,count:m})}),YG.map(C=>c.jsxs("div",{className:Je["category-container"],children:[c.jsx(QG,{img:C.img,textImg:C.textImg}),c.jsx("div",{className:Je["items-container"],children:C.items.map((b,k)=>c.jsx(XG,{category:b.category,id:b.id,photo:b.img,name:b.name,label:b.label,labelTextColor:b.labelTextColor,labelColor:b.labelColor,isBought:g(b.category,b.id),isFree:b.isFree,price:b.price,onBuyItem:y},k))})]}))]})}const eK="_container_1lamj_1",tK="_area_1lamj_9",nK="_table_1lamj_19",rK="_item_1lamj_28",sK="_circle_1lamj_40",oK="_spin_1lamj_51",bi={container:eK,area:tK,table:nK,item:rK,circle:sK,spin:oK},iK=t=>[{grid:"row",size:"1/4",name:0,isZero:!0,isCircle:!1,background:t.casino_first_color,border:"20px 0 0 20px",circleColor:""},{grid:"column",size:"",name:3,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:6,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:9,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:12,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:15,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:18,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:21,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:24,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:27,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:30,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:33,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:36,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"1st",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 20px 0 0",circleColor:t.casino_third_color},{grid:"column",size:"",name:2,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:5,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:8,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:11,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:14,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:17,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:20,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:23,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:26,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:29,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:32,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:35,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:"2nd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:1,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:4,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:7,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:10,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:13,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:16,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:19,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:22,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:25,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:28,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:31,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:34,isZero:!1,isCircle:!0,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"3rd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 20px",circleColor:t.casino_third_color},{grid:"column",size:"2/8",name:"1-18",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"8/14",name:"19-36",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"2/5",name:"even",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 0 20px",circleColor:t.casino_second_color},{grid:"column",size:"5/8",name:"red",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"8/11",name:"black",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"11/14",name:"odd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color}],aK="_overlay_usz7u_1",lK="_animated_usz7u_14",cK="_wheel_usz7u_18",uK="_show_usz7u_24",dK="_spin_usz7u_47",hK="_arrow_usz7u_66",ki={overlay:aK,animated:lK,wheel:cK,show:uK,spin:dK,arrow:hK};function fK(t,e){const n=r=>{if(r>=t.length){e();return}const s=document.createElement("script");s.src=t[r],s.async=!0,s.onload=()=>n(r+1),document.body.appendChild(s)};n(0)}function pK({isShow:t,onStop:e}){const[n,r]=p.useState(null),s=p.useRef(null);getComputedStyle(document.documentElement);const{theme:o,elementColors:i,setElementColors:a}=p.useContext(F),[l,u]=p.useState(125),[d,h]=p.useState(100),[f,m]=p.useState("center"),v=()=>{window.innerWidth<=700?(u(125),h(100),m("outer")):(u(155),h(100),m("center"))};p.useEffect(()=>(v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}),[]),p.useEffect(()=>{const x=["https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js","script/Winwheel.min.js"],_={green:o.casino_first_color,red:o.casino_second_color,black:o.casino_third_color};fK(x,()=>{const y=new Winwheel({canvasId:s.current.id,numSegments:37,outerRadius:l,innerRadius:d,textFontSize:12,textOrientation:"curved",textAlignment:f,segments:[{fillStyle:_.green,text:"0",textFillStyle:o.text_first_color},{fillStyle:_.red,text:"32",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"15",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"19",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"4",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"21",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"2",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"25",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"17",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"34",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"6",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"27",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"13",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"36",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"11",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"30",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"8",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"23",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"10",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"5",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"24",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"16",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"33",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"1",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"20",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"14",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"31",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"9",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"22",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"18",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"29",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"7",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"28",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"12",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"35",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"3",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"26",textFillStyle:o.text_third_color}],animation:{type:"spinToStop",duration:5,spins:8,callbackFinished:e}});r(y)})},[t]);const w=()=>{n&&n.startAnimation()};return c.jsx("div",{className:`${ki.overlay} ${ki.animated} ${t?ki.show:""}`,children:c.jsxs("div",{className:ki.wheel,style:{background:o.casino_first_color,border:`10px solid ${o.element_second_color}`},children:[c.jsx("canvas",{ref:s,id:"canvas",width:"310",height:"310",children:"Canvas not supported, use another browser."}),c.jsx("div",{className:ki.arrow,children:c.jsx("svg",{width:"40",height:"18",viewBox:"0 0 40 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M40 0L20 18L0 0H40Z",fill:o.element_second_color})})}),c.jsx("button",{className:ki.spin,style:{background:o.element_first_color,border:`10px solid ${o.element_second_color}`,color:o.text_first_color},onClick:w,children:"крутить"})]})})}const gC={"chip-body":"_chip-body_n5j63_1","chip-inner":"_chip-inner_n5j63_12"};function mK({price:t}){return c.jsx("div",{className:gC["chip-body"],children:c.jsx("div",{className:gC["chip-inner"],children:t})})}const gK={0:["green"],1:["red","1-18","odd"],2:["black","1-18","even"],3:["red","1-18","odd"],4:["black","1-18","even"],5:["red","1-18","odd"],6:["black","1-18","even"],7:["red","1-18","odd"],8:["black","1-18","even"],9:["red","1-18","odd"],10:["black","1-18","even"],11:["black","1-18","odd"],12:["red","1-18","even"],13:["black","1-18","odd"],14:["red","1-18","even"],15:["black","1-18","odd"],16:["red","1-18","even"],17:["black","1-18","odd"],18:["red","1-18","even"],19:["red","19-36","odd"],20:["black","19-36","even"],21:["red","19-36","odd"],22:["black","19-36","even"],23:["red","19-36","odd"],24:["black","19-36","even"],25:["red","19-36","odd"],26:["black","19-36","even"],27:["red","19-36","odd"],28:["black","19-36","even"],29:["black","19-36","odd"],30:["red","19-36","even"],31:["black","19-36","odd"],32:["red","19-36","even"],33:["black","19-36","odd"],34:["red","19-36","even"],35:["black","19-36","odd"],36:["red","19-36","even"]};function yK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),r=iK(t),s=ce(),[o,i]=p.useState(!1),{authUser:a}=pe(),[l,u]=p.useState(0),[d,h]=p.useState([]),[f,m]=p.useState(0),[v,w]=p.useState(!1),[x,_]=p.useState(null),[y,g]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[C,b]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(C.isShow){const O=setTimeout(()=>{b({isShow:!1})},1e3);return()=>clearTimeout(O)}},[C]);const k=()=>{g({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),i(!1),h([]),m(0),w(!1)},T=()=>{s("/menu")},S=()=>{i(!0)};p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{(async()=>{if(a&&a._id){const A=Q(q,"users",a._id,"info","preferences"),R=await le(A);if(R.exists()){const D=R.data();console.log(D),u(D.balance<100?1e3:D.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const E=async O=>{if(a&&a._id)try{const A=Q(q,"users",a._id,"info","preferences");await is(A,{balance:O}),console.log(`Balance updated to ${O}`)}catch(A){console.error("Error updating balance:",A)}else console.error("authUser or authUser._id is undefined")},I=O=>{if(l<100){b({isShow:!0,text:"У вас недостаточно средств для ставки"});return}h(A=>{if(A.some(D=>D.item===O)){const D=A.filter(L=>L.item!==O);return u(l+100),D}else{const D=[...A,{item:O,bet:100}];return u(l-100),D}})},j=O=>{w(!0),_(Number(O.text)),console.log(Number(O.text))};p.useEffect(()=>{console.log(d),v&&N(x)},[d,v]);const N=O=>{const A=gK[O];let R=0,D=0;d.forEach(P=>{(P.item===O||A.includes(P.item))&&(D+=P.bet)});const L=d.some(P=>P.item===O);if(console.log("Base bet:",D),console.log("Has number bet:",L),L)R=D*4;else{const P=d.filter(M=>A.includes(M.item)).length;R=D*P}m(R),u(l+R),E(l+R),g({isShow:!0,title:"Вы выиграли",text:`Ваш выигрыш составил: ${R}`,firstButtonName:"Выйти",secondButtonName:"Играть",firstButtonOnClick:T,secondButtonOnClick:k})};return c.jsxs("div",{className:bi.container,children:[c.jsx(go,{title:y.title,text:y.text,isShow:y.isShow,firstButtonName:y.firstButtonName,secondButtonName:y.secondButtonName,firstButtonOnClick:y.firstButtonOnClick,secondButtonOnClick:y.secondButtonOnClick}),c.jsx(Pt,{isShow:C.isShow,text:C.text}),c.jsx(pK,{isShow:o,onStop:j}),c.jsxs("div",{className:bi.area,children:[c.jsx(gu,{name:"Баланс",isBalance:!0,count:l}),c.jsxs("div",{className:bi.table,children:[r.map(O=>c.jsxs("div",{className:bi.item,style:{background:O.isZero?O.background:"transparent",gridColumn:O.grid==="column"?O.size:"",gridRow:O.grid==="row"?O.size:"",border:`1px solid ${t.element_first_color}`,borderRadius:O.border,color:t.text_first_color},onClick:()=>I(O.name),children:[d.some(A=>A.item===O.name)&&c.jsx(mK,{price:100}),O.isCircle?c.jsx("div",{className:bi.circle,style:{background:O.circleColor,color:t.text_first_color},children:O.name}):O.name]},O.name)),c.jsx("button",{className:bi.spin,style:{background:t.element_first_color,color:t.text_first_color},onClick:S,children:"крутить"})]})]})]})}const _K="_container_1vtou_1",vK="_title_1vtou_36",wK="_text_1vtou_27",Lr={container:_K,"update-body":"_update-body_1vtou_12","update-data":"_update-data_1vtou_22","text-container":"_text-container_1vtou_27",title:vK,text:wK},xK=[{data:"27.03.2025",update:"Добавлена возможность сброса и восстановления пароля по email. Добавлена возможность скачать приложение"},{data:"25.03.2025",update:"Добавлена возможность оставлять комментарии и делиться публикациями"},{data:"23.03.2025",update:'Добавлена игра "Угадай линию"'},{data:"19.01.2025",corrections:"Исправлен цвет иконок на светлых цветах"},{data:"16.01.2025",update:"Добавлена возможность просмотра профилей пользователей. Добавлена возможность подписки на пользователей. Добавлено отображение подписчиков. Добавлено отображение дат в расписании. Добавлено отображение количество лайков в постах.",corrections:"Цвет иконок на карточке урока теперь зависит от фонового цвета."},{data:"31.08.2024",update:'Добавлена новая категория товаров: "Родина"'},{data:"29.08.2024",update:"Добавлен отображение повестки в военкомат после игры в тест"},{data:"19.08.2024",update:"Добавлена возможность скачивать картинки в окне просмотра фотографии. Добавлена возможность создавать группы. Добавлена возможность загружать файлы, создавать расписание и делать публикации в своей группе. Добавлен раздел основной группы в меню навигации.",corrections:"Изменен внешний вид публикаций."},{data:"03.07.2024",update:"Добавлена новая игра - тест минутка."},{data:"29.06.2024",update:"Добавлена система промокодов.",corrections:'Исправлена возможность случайного клика на текст "Баланс"'},{data:"27.06.2024",update:`Добавлена новая игра: GCOIN TAP.
Добавлена новая игра: Ракетка.`,corrections:"Изменена высота расположения панели смайлов при загруженных изображения."},{data:"25.06.2024",update:`Добавлена стартовая страница.
Добавлена система входа и регистрации.
Обновлены все меню.
Добавлена возможность отправлять фотографии и смайлы в чат.
Добавлена система цензуры(по умолчанию включена).
Добавлена система публикаций.
Добавлена возможность публиковать до 5 фотографий и сколько угодно текста.
Добавлена система монет(несгораемая сумма состовляет 1000 монет).
Добавлена возможность заработать монеты в казино.
Добавлена система магазина.
Добавлена возможность покупки тем, цветов для обложки профиля, смайлов
Добавлена возможность смены темы.
Добавлена страница профиля.
Добавлена система аватаров(по умполчанию выбирается рандомно)
Появилась возмножность изменить имя, описание, аватар и цвет обложки
Добавлена возможность посмотреть фотографии в исходном размере(для этого необходими кликнуть на неё).
Добавлена система эмодзи(по умолчанию доступны стандартные, но дополнительные можно купить в магазине.
В обновления добавлен раздел "Исправления".`,corrections:`Сумма выигрыша теперь зависит от коэффициента.
Изменилась система подсчета выигрыша в казино(если вы точно угадали число, то +400 монет, если угадали один из параметров числа: odd/even, red/black, 1-18/19-36 - то за каждое совпадание +100 монет.`},{data:"14.02.2024",update:`Добавлено 2 новые игры.
Добавлено 5 новых цитат.
Добавлено 5 новых причин.
Добавлены новые функции в публикации.
Добавлена сортировка по датам в запросы.`,corrections:`Обновлено расписание уроков.
Заменена иконка выхода в меню в играх.`},{data:"21.01.2024",update:`Добавлена новая стартовая страница.
Добавлено новое меню навигации.`,corrections:`Исправлен выход меню из игры.
Заменена иконка выхода в меню в играх.`},{data:"19.12.2023",update:`Новая игра - пианино.
Добавлены звуки: при проирыше, при победе.
Добавлен сезонный приз - зеленая змея.
Добавлен новогодний стартовый экран.`},{data:"11.12.2023",update:"Новая игра - 2048"},{data:"04.12.2023",update:"Новая игра - тетрис"},{data:"03.12.2023",update:"Добавлена генерация полезных цитат для Вашего развития"},{data:"02.12.2023",update:`Добавлена новая страница с фотографиями.
Добавлены интерактивные элементы.`},{data:"11.11.2023",update:"Добавлено 2 новые игры.",corrections:"Внесены правки в игру змейка."},{data:"28.10.2023",update:`Обновлен дизайн сайта.
Изменена система генерации причин и цитат.
Добавлено 20 новых цитат.
Добавлено 10 новых причин.`,corrections:`Удалена генерация оскорблений.
Название сайта изменено на GENERY.
Изменена механика игр.
Изменена система подбора культурных слов.
Изменена система отображения расписания.
Изменено меню выбора игр.
Изменена система подсчета кешбэка.
Обновлена система уведломений.
Изменена система загрузки файлов.`},{data:"29.09.2023",update:`Добавлено две новых цитаты.
Исправлены ошибки в тексте.`,corrections:"Правки кода."},{data:"04.09.2023",update:`Добавлено актуальное расписание уроков.
Добавлено 5 новых причин.
Добавлено 100 новых профессий.
Добавлена версия для ПК.
Добавлена новая игра.`,corrections:"Изменена система отображения обновлений."},{data:"01.08.2023",update:`Добавлено 2 игры.
Добавлен раздел с играми.`,corrections:"Правки кода."},{data:"19.07.2023",update:`Полностью обновлен дизайн.
Добавлен раздел связи с разработчиком.
Добавлена динамическая загрузка расписания.
Добавлен стартовый экран.`},{data:"15.07.2023",update:`Добавлены новые культурные версии для матов.
Добавлен раздел с загрузками.`,corrections:"Заменена иконка раздела оскорблений."},{data:"30.06.2023",update:`Добавлен раздел подбора культурных слов к матам.
Добавлен раздел генерации профессий.`,corrections:'Название сайта изменено на "Мега генератор"'},{data:"11.06.2023",update:`Добавлен раздел генерации оскорблений.
Число пацанских цитат составляет 70.`},{data:"02.06.2023",update:`Сайт снова работает.
Добавлено 100 новых пацанских цитат.`},{data:"05.05.2023",update:`Удален раздел с анекдотами.
Добавлен раздел регистрации и входа в аккаунт.
Добавлено 5 новых цитат.`},{data:"03.05.2023",corrections:`Сайт перенес на другой хостинг
Смена темы больше не доступна.
Причины идти на урок больше не доступны.`},{data:"01.05.2023",update:`Добавлено 5 новых причин не идти на урок.
Добавлен раздел подсчета выигрыша на ставках`},{data:"30.04.2023",update:"Добавлен функционал к разделу с расписанием."},{data:"30.04.2023",update:`Добавлено новое меню.
Добавлен раздел с расписанием уроков.`,corrections:"Раздел обновлений перенесен в новое меню."},{data:"28.04.2023",update:`Добавлен раздел великих цитат.
Добавлено более 30 самых крутых цитат и случаев.`,corrections:"Цитаты разделены на две группы: с матами, и без них."},{data:"28.04.2023",update:"Ведется разработка новых разделов.",corrections:"Кнопка смены темы теперь закреплена при прокрутке."},{data:"28.04.2023",update:"Ведется разработка новых разделов.",corrections:"Кнопка смены темы теперь закреплена при прокрутке."},{data:"28.04.2023",update:`Добавлено меню для переключения страниц в нижней части экрана.
Добавлены разделы: обновлений, анекдотов, причин.
Увеличино разрешение иконок.`},{data:"26.04.2023",update:`Добавлена возможность изменить цветовую тему сайта.
Добавлено изменение генерации причин при смене темы.`},{data:"26.04.2023",update:`Добавлена страница генерации причин
Увеличено количество причин идти/не идти на урок.`},{data:"26.04.2023",update:`Запущен сайт для генерации причин не идти на урок.
Добавлено 36 причин не идти на урок.`}];function CK({data:t,update:e,corrections:n}){const{theme:r,elementColors:s,setElementColors:o}=p.useContext(F),i=e?e.split(`
`):[],a=n?n.split(`
`):[];return c.jsxs("div",{className:Lr["update-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:Lr["update-data"],style:{color:r.text_first_color},children:t}),e&&c.jsxs("div",{className:Lr["text-container"],children:[c.jsx("div",{className:Lr.title,style:{color:r.text_first_color},children:"Новые функции:"}),c.jsx("div",{className:Lr.text,style:{color:r.text_first_color},children:i.map((l,u)=>c.jsxs(vr.Fragment,{children:[l,c.jsx("br",{})]},u))})]}),n&&c.jsxs("div",{className:Lr["text-container"],children:[c.jsx("div",{className:Lr.title,style:{color:r.text_first_color},children:"Исправления:"}),c.jsx("div",{className:Lr.text,style:{color:r.text_first_color},children:a.map((l,u)=>c.jsxs(vr.Fragment,{children:[l,c.jsx("br",{})]},u))})]})]})}function bK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),r=ce();return p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>r("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[F]),c.jsxs("div",{className:Lr.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),xK.map(s=>c.jsx(CK,{data:s.data,update:s.update,corrections:s.corrections}))]})}const kK="_container_1qgb1_1",SK="_title_1qgb1_12",EK="_circle_1qgb1_47",TK="_edit_1qgb1_93",IK="_button_1qgb1_113",pt={container:kK,title:SK,"files-container":"_files-container_1qgb1_18","download-body":"_download-body_1qgb1_28","add-body":"_add-body_1qgb1_38",circle:EK,"download-name":"_download-name_1qgb1_57","download-name-empty":"_download-name-empty_1qgb1_63","download-button":"_download-button_1qgb1_70","download-button-empty":"_download-button-empty_1qgb1_87",edit:TK,button:IK};function NK({color:t,name:e,url:n,id:r}){const{theme:s,elementColors:o,setElementColors:i}=p.useContext(F),a=(l,u)=>{const d=new XMLHttpRequest;d.responseType="blob",d.onload=h=>{const f=d.response,m=document.createElement("a");m.href=window.URL.createObjectURL(f),m.download=u,document.body.appendChild(m),m.click(),document.body.removeChild(m)},d.open("GET",l),d.send()};return c.jsxs("div",{className:pt["download-body"],style:{border:`2px solid ${s.element_first_color}`},children:[c.jsx("div",{className:pt["download-name"],style:{color:s.text_first_color},children:e}),c.jsx("button",{className:pt["download-button"],style:{background:t},onClick:l=>{l.preventDefault(),a(n,e)},children:c.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 1C9 0.447715 8.55228 2.41411e-08 8 0C7.44772 -2.41411e-08 7 0.447715 7 1L9 1ZM7.29289 14.435C7.68342 14.8256 8.31658 14.8256 8.70711 14.435L15.0711 8.07107C15.4616 7.68054 15.4616 7.04738 15.0711 6.65685C14.6805 6.26633 14.0474 6.26633 13.6569 6.65685L8 12.3137L2.34315 6.65685C1.95262 6.26633 1.31946 6.26633 0.928932 6.65685C0.538408 7.04738 0.538408 7.68054 0.928932 8.07107L7.29289 14.435ZM7 1L7 13.7279L9 13.7279L9 1L7 1Z",fill:s.text_first_color})})})]})}function qh(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F);return c.jsxs("div",{className:pt["download-body"],style:{border:`2px solid ${t.element_first_color}`},children:[c.jsx("div",{className:pt["download-name-empty"],style:{color:t.text_first_color},children:c.jsx(bn,{width:"100%",height:"18px",shape:"rect"})}),c.jsx("div",{className:pt["download-button-empty"],children:c.jsx(bn,{width:"32px",height:"32px",shape:"circle"})})]})}function jK({color:t,name:e,url:n,id:r,onDelete:s}){const{theme:o,elementColors:i,setElementColors:a}=p.useContext(F);return c.jsxs("div",{className:pt["download-body"],style:{border:`2px solid ${o.element_first_color}`},children:[c.jsx("div",{className:pt["download-name"],style:{color:o.text_first_color},children:e}),c.jsx("button",{className:pt["download-button"],style:{background:t},onClick:s,children:c.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:o.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function AK({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState([]),[a,l]=p.useState(),[u,d]=p.useState(),[h,f]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[m,v]=p.useState(),{authUser:w}=pe();ce(),p.useEffect(()=>{(async()=>{try{const b=Q(q,"groups",t,"info","info"),k=await le(b);if(k.exists()){const T=k.data();v(T.owner)}else console.error("Group not found")}catch(b){console.error("Error fetching group data:",b)}finally{}})()},[t]);const x=async()=>{if(t)try{const C=Q(q,"groups",t,"info","downloads"),b=await le(C);if(b.exists()){const k=b.data();i(k.files||[]),console.log(k.files)}else console.log("No such document!"),i([])}catch(C){console.error("Error fetching group data:",C),i([])}finally{l(!1)}else console.error("ID группы не указан"),i([]),l(!1)};p.useEffect(()=>{x()},[t]),p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:e,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[F]);const _=C=>{f({isShow:!0,title:"Удаление файла",text:`Вы действительно хотите удалить файл ${C.name}?`,firstButtonName:"Отмена",firstButtonOnClick:()=>f({isShow:!1}),secondButtonName:"Удалить",secondButtonOnClick:()=>y(C)})},y=async C=>{if(!C||!C.link){console.error("Invalid file or file URL:",C);return}f({isShow:!1});try{const b=C.link;console.log("File URL:",b);let T=b.replace("https://firebasestorage.googleapis.com/v0/b/genery-c83e3.appspot.com/o/","");T=decodeURIComponent(T);const[S]=T.split("?");console.log("File Path:",S);const E=Nr(jr,S);await $M(E),console.log("File deleted from Firebase Storage");const I=Q(q,"groups",t,"info","downloads"),j=await le(I);if(j.exists()){const O=(j.data().files||[]).filter(A=>A.link!==b);await ut(I,{files:O},{merge:!0}),i(O),console.log("File deleted from Firestore")}else console.log("No such document in Firestore!")}catch(b){console.error("Error deleting file:",b)}},g=async()=>{await x(),d(!1)};return c.jsxs(c.Fragment,{children:[c.jsx(go,{title:h.title,text:h.text,isShow:h.isShow,firstButtonName:h.firstButtonName,secondButtonName:h.secondButtonName,firstButtonOnClick:h.firstButtonOnClick,secondButtonOnClick:h.secondButtonOnClick}),c.jsx(aG,{id:t,isShow:u,close:g}),c.jsx("div",{className:pt.title,style:{color:n.text_first_color},children:"Файлы"}),c.jsx("div",{className:pt["files-container"],children:a?c.jsxs(c.Fragment,{children:[c.jsx(qh,{}),c.jsx(qh,{})]}):c.jsxs(c.Fragment,{children:[o.map(C=>c.jsx(jK,{color:C.color,name:C.name,url:C.link,id:t,onDelete:()=>_(C)},C.name)),c.jsx("div",{className:pt["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>d(!0),children:c.jsx("div",{className:pt.circle,style:{background:n.element_first_color},children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})}),c.jsx("button",{className:pt.button,style:{background:n.first_color,color:n.text_first_color},onClick:e,children:"Сохранить"})]})})]})}function PK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState([]),[o,i]=p.useState(),{id:a}=Ar(),[l,u]=p.useState(),{authUser:d}=pe(),h=ce(),[f,m]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const y=Q(q,"groups",a,"info","info"),g=await le(y);if(g.exists()){const C=g.data();u(C.owner)}else console.error("Group not found")}catch(y){console.error("Error fetching group data:",y)}finally{}})()},[a]);const v=async()=>{if(a)try{const _=Q(q,"groups",a,"info","downloads"),y=await le(_);if(y.exists()){const g=y.data();s(g.files||[]),console.log(g.files)}else console.log("No such document!"),s([])}catch(_){console.error("Error fetching group data:",_),s([])}finally{i(!1)}else console.error("ID группы не указан"),s([]),i(!1)};p.useEffect(()=>{v()},[a]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${a}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[F]);const w=()=>{m(!0)},x=()=>{m(!1)};return c.jsx("div",{className:pt.container,children:f?c.jsx(AK,{id:a,handleEdit:x}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:pt.title,style:{color:t.text_first_color},children:"Файлы"}),c.jsx("div",{className:pt["files-container"],children:o?c.jsxs(c.Fragment,{children:[c.jsx(qh,{}),c.jsx(qh,{})]}):r.length>0?r.map(_=>c.jsx(NK,{color:_.color,name:_.name,url:_.link,id:a},_.name)):c.jsx("div",{className:pt["info-body"],style:{color:t.text_first_color},children:"Тут пока пусто ..."})}),l&&l===d._id&&c.jsx("button",{className:pt.edit,style:{background:t.first_color},onClick:w,children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_first_color})})})]})})}const LK="_container_143zk_2",RK="_cover_143zk_22",OK="_label_143zk_189",Y={container:LK,"profile-container":"_profile-container_143zk_13","cover-container":"_cover-container_143zk_22",cover:RK,"cover-pattern":"_cover-pattern_143zk_41","user-photo":"_user-photo_143zk_49","change-photo-button":"_change-photo-button_143zk_68","user-actions":"_user-actions_143zk_86","user-info":"_user-info_143zk_92","user-name":"_user-name_143zk_99","circle-button":"_circle-button_143zk_104","user-biography":"_user-biography_143zk_121","button-container":"_button-container_143zk_126","quit-button":"_quit-button_143zk_135","colors-container":"_colors-container_143zk_152","color-circle":"_color-circle_143zk_162","active-circle":"_active-circle_143zk_172","input-data-container":"_input-data-container_143zk_179",label:OK,"input-data":"_input-data_143zk_179","item-body":"_item-body_143zk_205","item-icon":"_item-icon_143zk_218","item-name":"_item-name_143zk_226","item-info":"_item-info_143zk_233","item-circle":"_item-circle_143zk_241","posts-container":"_posts-container_143zk_258"};function DK({fetchUserPreferences:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),{authUser:o}=pe(),[i,a]=p.useState(o.name),[l,u]=p.useState(o.biography),[d,h]=p.useState(!0),[f,m]=p.useState(null),[v,w]=p.useState(o.cover),[x,_]=p.useState([]),[y,g]=p.useState({isShow:!1,text:""});p.useEffect(()=>{(async()=>{if(o&&o._id){const I=Q(q,"users",o._id,"info","preferences"),j=await le(I);if(j.exists()){const N=j.data();console.log(N),a(N.name),u(N.biography),w(N.cover),_(O=>[...O,...N.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const C=x?pu.filter(E=>x.includes(E.name)):[];p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{if(y.isShow){const E=setTimeout(()=>{g({isShow:!1})},1500);return()=>clearTimeout(E)}},[y.isShow]);const b=E=>{E.target.files[0]&&(m(E.target.files[0]),console.log(E.target.files[0]))},k=E=>{w(E)},T=async()=>{let E=null;const I=new Date().toISOString();if(f){const j=Nr(jr,`users_photo/${o._id}/${I}_${f.name}`);await ti(j,f),E=await as(j)}if(o&&o._id){const j=Q(q,"users",o._id,"info","preferences");try{await ut(j,{name:i,biography:l,photo:f?E:o.avatar,cover:v},{merge:!0}),await t(),e()}catch(N){console.error("Error updating document: ",N)}}};function S(E){if(!E)return!1;let I,j,N;if(E.startsWith("#"))if(E.length===4)I=parseInt(E[1]+E[1],16),j=parseInt(E[2]+E[2],16),N=parseInt(E[3]+E[3],16);else if(E.length===7)I=parseInt(E.slice(1,3),16),j=parseInt(E.slice(3,5),16),N=parseInt(E.slice(5,7),16);else return!1;else if(E.startsWith("rgb")){const A=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(A.length===3)I=A[0],j=A[1],N=A[2];else return!1}else{const A=document.createElement("div");A.style.color=E,document.body.appendChild(A);const R=window.getComputedStyle(A).color;if(document.body.removeChild(A),R.startsWith("rgb")){const D=R.substring(R.indexOf("(")+1,R.lastIndexOf(")")).split(",").map(Number);if(D.length===3)I=D[0],j=D[1],N=D[2];else return!1}else return!1}return(I*299+j*587+N*114)/1e3>180}return c.jsxs("div",{className:Y["profile-container"],children:[c.jsx(Pt,{isShow:y.isShow,text:y.text}),c.jsx("div",{className:Y["cover-container"],children:c.jsx("div",{className:Y.cover,style:{background:v},children:c.jsx("div",{className:Y["cover-pattern"]})})}),c.jsxs("div",{className:Y["user-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[c.jsx("button",{className:Y["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:f?URL.createObjectURL(f):o.avatar}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:b})]}),c.jsx("div",{className:Y["colors-container"],style:{background:n.element_first_color},children:C.map(E=>c.jsx(c.Fragment,{children:E.colors.map((I,j)=>c.jsx("div",{className:Y["color-circle"],style:{background:I},onClick:()=>k(I),children:v===I&&c.jsx("div",{className:Y["active-circle"],style:{borderColor:S(I)?"#0A0B10":"#fff"}})},j))}))}),c.jsxs("div",{className:Y["user-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:Y["input-data-container"],children:[c.jsx("div",{className:Y.label,style:{color:n.first_color},children:"Имя"}),c.jsx("input",{type:"text",value:i,className:Y["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>a(E.target.value)})]}),c.jsxs("div",{className:Y["input-data-container"],children:[c.jsx("div",{className:Y.label,style:{color:n.first_color},children:"О себе"}),c.jsx("input",{type:"text",value:l,className:Y["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>u(E.target.value)})]}),c.jsx("div",{className:Y["button-container"],children:c.jsx("button",{className:Y["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:T,children:"Сохранить"})})]})]})}function MK({id:t}){const{theme:e,elementColors:n,setElementColors:r}=p.useContext(F),{authUser:s,ga:o}=pe(),[i,a]=p.useState({name:s.name,biography:s.biography,photo:s.avatar}),l=ce(),[u,d]=p.useState(!1),[h,f]=p.useState({isShow:!1,text:""}),[m,v]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{r({iconColor:e.text_first_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>l("/list-menu"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const w=async()=>{if(s&&s._id){const g=Q(q,"users",s._id,"info","preferences"),C=await le(g);if(C.exists()){const b=C.data();console.log(b),a({name:b.name,biography:b.biography,photo:b.photo,cover:b.cover,balance:b.balance,followers:b.followers})}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{w()},[]);const x=()=>{navigator.clipboard.writeText(s._id).then(()=>{f({isShow:!0,text:"id скопирован в буфер обмена"})}).catch(g=>{f({isShow:!0,text:`Не удалось скопировать id ${g}`})})};p.useEffect(()=>{if(h.isShow){const g=setTimeout(()=>{f({isShow:!1})},1500);return()=>clearTimeout(g)}},[h.isShow]);const _=()=>{d(!1),f({isShow:!0,text:"изменения успешно сохранены"})},y=g=>{v({isShow:!0,images:g,index:0})};return c.jsxs("div",{className:Y.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(mo,{isShow:m.isShow,images:m.images,index:m.index,onClose:()=>v({isShow:!1})}),u?c.jsx(DK,{handleEdit:_,fetchUserPreferences:w}):c.jsxs("div",{className:Y["profile-container"],children:[c.jsx(Pt,{isShow:h.isShow,text:h.text}),c.jsx("div",{className:Y["cover-container"],children:c.jsx("div",{className:Y.cover,style:{background:i.cover},children:c.jsx("div",{className:Y["cover-pattern"]})})}),c.jsx("div",{className:Y["user-photo"],style:{borderColor:e.background_color},children:c.jsx("img",{src:i.photo,onClick:()=>y(i.photo)})}),c.jsxs("div",{className:Y["user-actions"],style:{background:e.element_first_color},children:[c.jsxs("div",{className:Y["user-info"],children:[c.jsx("div",{className:Y["user-name"],style:{color:e.text_first_color},children:i.name}),c.jsx("button",{className:Y["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:x,children:"#"})]}),c.jsx("div",{className:Y["user-biography"],style:{color:e.text_first_color},children:i.biography}),c.jsxs("div",{className:Y["button-container"],children:[c.jsx("button",{className:Y["quit-button"],style:{background:e.element_second_color,color:e.text_first_color},onClick:()=>uA(o),children:"Выйти"}),c.jsx("button",{className:Y["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:()=>d(!0),children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:e.text_first_color})})})]})]}),c.jsxs("div",{className:Y["item-body"],style:{border:`2px solid ${e.element_first_color}`},children:[c.jsx("div",{className:Y["item-info"],children:c.jsxs("div",{className:Y["item-name"],style:{color:e.text_first_color},children:["Баланс:  ",i.balance," ",c.jsx(Hh,{color:e.first_color})]})}),c.jsx("div",{className:Y["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:Y["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l(`/subscribers/${t}?isGroup=false`),children:[c.jsx("div",{className:Y["item-info"],children:c.jsxs("div",{className:Y["item-name"],style:{color:e.text_first_color},children:["Подписчики: ",i.followers?i.followers.length:0]})}),c.jsx("div",{className:Y["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:Y["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l("/settings"),children:[c.jsxs("div",{className:Y["item-info"],children:[c.jsx("div",{className:Y["item-icon"],children:c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.0001 1C16.7522 1 17.4936 1.05571 18.2158 1.16286L19.3043 4.46066C20.2579 4.7328 21.1643 5.12065 22.0043 5.60921L25.1328 4.10067C26.2406 4.95137 27.2263 5.95421 28.0578 7.07705L26.4935 10.1777C26.9671 11.0263 27.3399 11.9391 27.5949 12.8991L30.8734 14.0412C31.0541 15.4276 31.0418 16.8324 30.837 18.2154L27.5392 19.304C27.2689 20.2478 26.8831 21.1547 26.3906 22.004L27.8992 25.1325C27.0473 26.2406 26.0456 27.225 24.9228 28.0574L21.8221 26.4932C20.9644 26.9722 20.0502 27.3422 19.1008 27.5946L17.9586 30.8731C16.5722 31.0537 15.1675 31.0415 13.7844 30.8367L12.6959 27.5389C11.752 27.2686 10.8452 26.8828 9.9959 26.3903L6.86738 27.8989C5.75923 27.047 4.77484 26.0453 3.94243 24.9225L5.50669 21.8218C5.02886 20.9635 4.65892 20.0495 4.40528 19.1004L1.12676 17.9562C0.946317 16.5704 0.958576 15.1664 1.16318 13.7841L4.46099 12.6955C4.73313 11.742 5.12098 10.8356 5.60954 9.99557L4.10099 6.86705C4.95285 5.75891 5.95455 4.77451 7.07738 3.9421L10.178 5.50636C11.0358 5.02737 11.95 4.65737 12.8994 4.40495L14.0437 1.12643C14.6924 1.04203 15.3459 0.999799 16.0001 1Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),c.jsx("path",{d:"M16.0002 22.4282C19.5506 22.4282 22.4287 19.5501 22.4287 15.9998C22.4287 12.4494 19.5506 9.57129 16.0002 9.57129C12.4499 9.57129 9.57178 12.4494 9.57178 15.9998C9.57178 19.5501 12.4499 22.4282 16.0002 22.4282Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}),c.jsx("div",{className:Y["item-name"],style:{color:e.text_first_color},children:"Настройки"})]}),c.jsx("div",{className:Y["item-circle"],style:{background:e.second_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.background_color})})})]})]})]})}function $K({id:t}){const{authUser:e}=pe(),{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState({isShow:!0}),[a,l]=p.useState({isShow:!1,text:""}),u=ce(),[d,h]=p.useState([]),[f,m]=p.useState(!1),[v,w]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>u("/posts"),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{x()},[t]);const x=async()=>{if(t){const k=Q(q,"users",t,"info","preferences"),T=await le(k);if(T.exists()){const S=T.data();console.log(S),i({id:S.uid,isUser:!0,name:S.name,biography:S.biography,photo:S.photo,cover:S.cover,followers:S.followers||[]})}else console.log("No such document!"),i({isUser:!1,name:"Пользователь не найден",biography:""})}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{if(a.isShow){const k=setTimeout(()=>{l({isShow:!1})},1500);return()=>clearTimeout(k)}},[a.isShow]),p.useEffect(()=>{const k=pi(Wa(In(q,"posts"),Ga("timestamp","desc")),T=>{const S=[];T.forEach(E=>{const I=E.data();if(I.userId===t){const j=new Date(I.timestamp),N=I.likesArray,O=j.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});S.push({id:E.id,userId:I.userId,userName:I.userName,groupOwnerId:I.groupOwnerId,userPhoto:I.userPhoto,postText:I.text,postPhoto:I.photos,postData:O,likesArray:N})}}),h(S),m(!1)});return()=>{k()}},[t]);const _=(k,T)=>{w({isShow:!0,images:k,index:T})},y=(k,T)=>{switch(k){case"delete":return setAlertProp({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(T)});default:return setAlertProp({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}},g=k=>{w({isShow:!0,images:k,index:0})},C=async()=>{if(e._id){const k=Q(q,"users",t,"info","preferences"),T=Q(q,"users",e._id,"info","preferences");try{const S=await le(k),E=await le(T);if(S.exists()&&E.exists()){const I=S.data(),j=E.data(),N=I.followers||[],O=j.subscribes||[];let A,R;N.includes(e._id)?(A=N.filter(D=>D!==e._id),R=O.filter(D=>D!==t)):(A=[...N,e._id],R=[...O,t]),await ut(k,{followers:A},{merge:!0}),await ut(T,{subscribes:R},{merge:!0}),await x(),console.log("Subscription updated successfully")}else console.error("Group or user document does not exist")}catch(S){console.error("Error updating subscription:",S)}}else console.error("User is not authenticated")},b=()=>{navigator.clipboard.writeText(o.id).then(()=>{l({isShow:!0,text:"id скопирован в буфер обмена"})}).catch(k=>{l({isShow:!0,text:`Не удалось скопировать id ${k}`})})};return c.jsxs("div",{className:Y.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${n.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(mo,{isShow:v.isShow,images:v.images,index:v.index,onClose:()=>w({isShow:!1})}),c.jsx(Pt,{isShow:a.isShow,text:a.text}),c.jsx("div",{className:Y["cover-container"],children:c.jsx("div",{className:Y.cover,style:{background:o.cover},children:c.jsx("div",{className:Y["cover-pattern"]})})}),c.jsx("div",{className:Y["user-photo"],style:{borderColor:n.background_color},children:c.jsx("img",{src:o.photo,onClick:()=>g(o.photo)})}),o.isUser?c.jsxs("div",{className:Y["user-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:Y["user-info"],children:[c.jsx("div",{className:Y["user-name"],style:{color:n.text_first_color},children:o.name}),c.jsx("button",{className:Y["circle-button"],style:{color:"var(--text-first-color)",background:"var(--first-color)"},onClick:b,children:"#"})]}),c.jsx("div",{className:Y["user-biography"],style:{color:n.text_first_color},children:o.biography}),c.jsx("div",{className:Y["button-container"],children:c.jsx("button",{className:Y["quit-button"],style:{background:o.followers.includes(e._id)?n.element_second_color:n.first_color,color:n.text_first_color},onClick:C,children:o.followers&&o.followers.includes(e._id)?"Отписаться":"Подписаться"})})]}):c.jsx("div",{className:Y["user-actions"],style:{background:n.element_first_color},children:c.jsx("div",{className:Y["user-info"],children:c.jsx("div",{className:Y["user-name"],style:{color:n.text_first_color},children:o.name})})}),c.jsxs("div",{className:Y["item-body"],style:{border:`2px solid ${n.element_first_color}`},onClick:()=>u(`/subscribers/${t}?isGroup=false`),children:[c.jsx("div",{className:Y["item-info"],children:c.jsxs("div",{className:Y["item-name"],style:{color:n.text_first_color},children:["Подписчики: ",o.followers?o.followers.length:0]})}),c.jsx("div",{className:Y["item-circle"],style:{background:n.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n.text_first_color})})})]}),c.jsx("div",{className:Y["posts-container"],children:f?c.jsxs(c.Fragment,{children:[c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{})]}):d.map(k=>c.jsx(mu,{postId:k.id,groupOwnerId:k.groupOwnerId,userId:k.userId,userName:k.userName,userPhoto:k.userPhoto,postData:k.postData,postText:k.postText,postPhotos:k.postPhoto,likesArray:k.likesArray,photoClick:_,postAction:y},k.id))})]})}function FK(){const{authUser:t}=pe(),{id:e}=Ar();return!e||e===t._id?c.jsx(MK,{id:t._id}):c.jsx($K,{id:e})}const BK="_container_84yn6_1",UK={container:BK},hl={"block-body":"_block-body_1qf46_1","block-name":"_block-name_1qf46_10","block-button":"_block-button_1qf46_15","button-circle":"_button-circle_1qf46_25","button-name":"_button-name_1qf46_41"};function VK({name:t,buttonText:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F);return c.jsxs("div",{className:hl["block-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:hl["block-name"],style:{color:r.text_first_color},children:t}),c.jsxs("button",{className:hl["block-button"],style:{background:r.first_color},onClick:n,children:[c.jsx("h4",{className:hl["button-name"],style:{color:r.text_first_color},children:e}),c.jsx("div",{className:hl["button-circle"],style:{background:r.text_first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.background_color})})})]})]})}const zK="_overlay_1y7wn_1",HK="_line_1y7wn_25",qK="_content_1y7wn_36",ms={overlay:zK,"menu-wrapper":"_menu-wrapper_1y7wn_11",line:HK,"content-wrapper":"_content-wrapper_1y7wn_36","menu-title":"_menu-title_1y7wn_46",content:qK,"input-promo":"_input-promo_1y7wn_64","main-button":"_main-button_1y7wn_80"};function WK({isShow:t,setShow:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F),{authUser:a}=pe(),[l,u]=p.useState(Array(6).fill("")),[d,h]=p.useState([]),[f,m]=p.useState(!1),[v,w]=p.useState(!0),[x,_]=p.useState(),[y,g]=p.useState(),C=p.useRef(),b=p.useRef([]),[k,T]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(k.isShow){const R=setTimeout(()=>{T({isShow:!1})},1e3);return()=>clearTimeout(R)}},[k]);const S=P8(0),E={hidden:{opacity:0,visibility:"hidden"},show:{opacity:1,visibility:"visible"},close:{marginTop:"100%"},open:{marginTop:"30%"}},I=(R,D)=>{const L=R.target.value,P=[...l];P[D]=L,u(P),L.length===1&&D<b.current.length-1?b.current[D+1].focus():L.length===0&&D>0&&b.current[D-1].focus();const M=P.filter(B=>B!=="");w(M.length<6)},j=(R,D)=>{const[L,P,M]=R.split(".").map(Number),[B,W]=D.split(":").map(Number);return new Date(M,P-1,L,B,W)},N=async()=>{u(Array(6).fill("")),w(!0);const R=l.join("").toUpperCase(),D=Q(q,"promocodes",R),L=await le(D);if(L.exists()){const P=L.data();j(P.time.data,P.time.time)>new Date?(n("found",P.money),e(!1)):n("time exist",0)}else n("not found",0)},O=()=>{m(!0)},A=()=>{m(!1);const R=S.get();console.log("dragY:",R),C.current&&(R<-70?C.current.style.marginTop="2%":R>10&&R<50?C.current.style.marginTop="3%":R>70&&e(!1)),S.set(0)};return c.jsxs(ot.div,{className:ms.overlay,variants:E,initial:"hidden",animate:t?"show":"hidden",children:[c.jsx(Pt,{isShow:k.isShow,text:k.text}),c.jsxs(ot.section,{className:ms["menu-wrapper"],style:{y:S,background:r.element_first_color},ref:C,variants:E,initial:"close",animate:t?"open":"close",drag:"y",dragConstraints:{top:window.innerWidth>700?-300:-50,bottom:0},transition:{type:"spring",damping:40,stiffness:400},onDragStart:O,onDragEnd:A,children:[c.jsx("div",{className:ms.line,style:{background:r.element_second_color}}),c.jsxs("div",{className:ms["content-wrapper"],children:[c.jsx("h3",{className:ms["menu-title"],style:{color:r.text_first_color},children:"Промокод"}),c.jsx("div",{className:ms.content,children:l.map((R,D)=>c.jsx("input",{type:"text",className:ms["input-promo"],style:{color:r.text_first_color,background:r.element_second_color,"--focusColor":r.gradient_first_color},maxLength:1,value:R,onChange:L=>I(L,D),ref:L=>b.current[D]=L},D))}),c.jsx("button",{className:ms["main-button"],style:{background:v?r.element_second_color:r.first_color,color:r.text_first_color},disabled:v,onClick:N,children:"Активировать"})]})]})]})}function GK(){const{authUser:t}=pe(),{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState(!1),[a,l]=p.useState(),[u,d]=p.useState(),h=ce(),[f,m]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(f.isShow){const _=setTimeout(()=>{m({isShow:!1})},1e3);return()=>clearTimeout(_)}},[f]),p.useEffect(()=>{s({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>h("/group-list"),arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:0,background:e.background_color}),document.body.style.background=e.background_color},[F]),p.useEffect(()=>{(async()=>{if(t&&t._id){const y=Q(q,"users",t._id,"info","preferences"),g=await le(y);if(g.exists()){const C=g.data();l(C.balance),d(C.promoLastActivated?new Date(C.promoLastActivated):null)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const v=async(_,y)=>{if(t&&t._id){const g=Q(q,"users",t._id,"info","preferences"),C=await le(g),b=new Date;if(C.exists()){const k=C.data(),T=k.promoLastActivated?new Date(k.promoLastActivated):null;if(T&&b-T<24*60*60*1e3){m({isShow:!0,text:"Промокод можно активировать только раз в сутки"});return}}try{await is(g,{balance:_,promoLastActivated:b.toISOString()}),m({isShow:!0,text:`Промод активирован. Ваш баланс пополнен на ${y}`}),console.log(`Balance updated to ${_}`)}catch(k){console.error("Error updating balance:",k)}}else console.error("authUser or authUser._id is undefined")},w=(_,y)=>{switch(_){case"not found":return[m({isShow:!0,text:"Промокод не найден"}),i(!1)];case"time exist":return[m({isShow:!0,text:"Действие промокода закончилось"}),i(!1)];case"found":return[v(a+y,y)]}},x=()=>{i(!0)};return c.jsxs("div",{className:UK.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 5px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.element_first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
        `}),c.jsx(Pt,{isShow:f.isShow,text:f.text}),c.jsx(WK,{isShow:o,setShow:i,onClick:w}),c.jsx(VK,{name:"Активируйте промокод",buttonText:"Активировать",onClick:x}),c.jsx(Qn,{name:"Казино",description:"Последний деп?",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_first_color,linkTo:"/casino"}),c.jsx(Qn,{name:"GCOIN",description:"тапай по экрану",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_second_color,linkTo:"/tapcoin"}),c.jsx(Qn,{name:"Ракетка",description:"Не входи в азарт",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/rocket"}),c.jsx(Qn,{name:"Тест",description:"поступи на СВО",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/quiz"}),c.jsx(Qn,{name:"Flyppi bird",description:"9/11",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/flippybird"}),c.jsx(Qn,{name:"Рейтинг студентов",description:"Баллы получай, IQ повышай",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/rating"}),c.jsx(Qn,{name:"Угадай линию",description:"Ну могу 2 балла поставить",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/guessline"})]})}const KK=()=>{const t=p.useRef(null),e=p.useRef(null),[n,r]=p.useState(null),s=async()=>{try{const a=await navigator.mediaDevices.getUserMedia({video:!0});t.current.srcObject=a,t.current.play()}catch(a){console.error("Error accessing camera: ",a)}},o=()=>{t.current.srcObject.getTracks().forEach(u=>{u.stop()}),t.current.srcObject=null},i=()=>{e.current.getContext("2d").drawImage(t.current,0,0,e.current.width,e.current.height);const l=e.current.toDataURL("image/png");r(l)};return c.jsxs("div",{children:[c.jsx("video",{ref:t,width:"640",height:"480",autoPlay:!0}),c.jsx("canvas",{ref:e,width:"640",height:"480",style:{display:"none"}}),c.jsxs("div",{children:[c.jsx("button",{onClick:s,children:"Start Camera"}),c.jsx("button",{onClick:i,children:"Capture Photo"}),c.jsx("button",{onClick:o,children:"Stop Camera"})]}),n&&c.jsxs("div",{children:[c.jsx("h2",{children:"Captured Image:"}),c.jsx("img",{src:n,alt:"Captured"})]})]})},ZK="_container_1ka4o_1",YK="_coin_1ka4o_34",QK="_limit_1ka4o_120",XK="_icon_1ka4o_126",JK="_data_1ka4o_113",Dt={container:ZK,"score-container":"_score-container_1ka4o_12","wrapper-action":"_wrapper-action_1ka4o_17","score-add":"_score-add_1ka4o_26",coin:YK,"control-point-1":"_control-point-1_1ka4o_45","control-point-2":"_control-point-2_1ka4o_55","control-point-3":"_control-point-3_1ka4o_64","control-point-4":"_control-point-4_1ka4o_74","control-point-center":"_control-point-center_1ka4o_84","coin-outer":"_coin-outer_1ka4o_93","coin-inner":"_coin-inner_1ka4o_104","data-container":"_data-container_1ka4o_113",limit:QK,icon:XK,data:JK};function eZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),{authUser:s}=pe(),[o,i]=p.useState(),[a,l]=p.useState(0),[u,d]=p.useState(),h=p.useRef(),[f,m]=p.useState(0),[v,w]=p.useState([]),x=ce();p.useEffect(()=>{d(a)},[a]),p.useEffect(()=>{(async()=>{if(s&&s._id){const C=Q(q,"users",s._id,"info","preferences"),b=await le(C);if(b.exists()){const k=b.data();i(k.balance),l(k.limit)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const _=async g=>{if(s&&s._id)try{const C=Q(q,"users",s._id,"info","preferences");await is(C,{balance:g}),console.log(`Balance updated to ${g}`)}catch(C){console.error("Error updating balance:",C)}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{_(o)},[o]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>x("/game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(u<a){const g=setTimeout(()=>{d(u+1)},500);return()=>clearTimeout(g)}},[u]);const y=g=>{if(u<=0)return;i(o+1),d(u-1);const C={x:g.clientX,y:g.clientY,id:Date.now()};w(b=>[...b,C]),setTimeout(()=>{w(b=>b.filter(k=>k.id!==C.id))},10)};return p.useEffect(()=>{h.current&&(h.current.style.transform=`rotateY(${f}deg)`,f&&setTimeout(()=>{m(0)},70))},[f]),c.jsxs("div",{className:Dt.container,children:[c.jsx(ZH,{children:v.map(g=>c.jsx(ot.div,{className:Dt["score-add"],initial:{opacity:1,top:g.y-10,left:g.x-10},animate:{opacity:0,top:g.y-40,left:g.x-10},exit:{opacity:0},style:{color:t.text_first_color},children:"+1"},g.id))}),c.jsx("div",{className:Dt["score-container"],children:c.jsx(gu,{name:"Баланс",count:o,isBalance:!0})}),c.jsx("div",{className:Dt["wrapper-action"],children:c.jsxs("div",{className:Dt.coin,ref:h,onClick:y,children:[c.jsx("div",{className:Dt["control-point-1"],onClick:()=>m(30)}),c.jsx("div",{className:Dt["control-point-2"],onClick:()=>m(-30)}),c.jsx("div",{className:Dt["control-point-3"],onClick:()=>m(30)}),c.jsx("div",{className:Dt["control-point-4"],onClick:()=>m(-30)}),c.jsx("div",{className:Dt["control-point-center"]}),c.jsx("div",{className:Dt["coin-outer"],style:{background:t.first_color},children:c.jsx("div",{className:Dt["coin-inner"]})})]})}),c.jsx("div",{className:Dt["data-container"],children:c.jsxs("div",{className:Dt.limit,children:[c.jsx("div",{className:Dt.icon,children:c.jsx("svg",{width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.17925 0.737957C9.28191 0.797057 9.36135 0.88898 9.4046 0.998711C9.44784 1.10844 9.45234 1.22949 9.41735 1.34209L7.52826 7.43758H11.0138C11.1162 7.43754 11.2164 7.46728 11.302 7.52314C11.3876 7.57901 11.4549 7.65854 11.4955 7.75192C11.5361 7.84531 11.5483 7.94846 11.5305 8.04864C11.5128 8.14882 11.4659 8.24164 11.3956 8.31565L3.0043 17.1693C2.9231 17.2551 2.81506 17.311 2.69778 17.3279C2.58049 17.3449 2.46089 17.3219 2.35845 17.2627C2.25601 17.2035 2.17679 17.1116 2.13369 17.0019C2.09059 16.8923 2.08616 16.7714 2.12111 16.6589L4.0102 10.5624H0.524666C0.422234 10.5624 0.322033 10.5327 0.236431 10.4768C0.150829 10.421 0.0835737 10.3414 0.0429683 10.248C0.00236276 10.1547 -0.00981566 10.0515 0.00793624 9.95134C0.0256882 9.85116 0.0725932 9.75833 0.142861 9.68432L8.53417 0.83066C8.61526 0.745039 8.72314 0.689177 8.84025 0.672158C8.95737 0.655138 9.07685 0.677961 9.17925 0.736916V0.737957Z",fill:t.light_color})})}),c.jsx("div",{className:Dt.data,style:{color:t.text_first_color},children:`${u} / ${a}`})]})})]})}const tZ="_overlay_1r3zo_2",nZ="_container_1r3zo_14",rZ="_koeff_1r3zo_36",sZ="_action_text_1r3zo_48",oZ="_track_1r3zo_59",iZ="_rocket_1r3zo_70",aZ="_cloud_1r3zo_81",nt={overlay:tZ,container:nZ,"score-container":"_score-container_1r3zo_24","view-container":"_view-container_1r3zo_29",koeff:rZ,action_text:sZ,track:oZ,"track-bg":"_track-bg_1r3zo_65",rocket:iZ,"cloud-container":"_cloud-container_1r3zo_81",cloud:aZ,"bet-container":"_bet-container_1r3zo_104","input-container":"_input-container_1r3zo_114","input-button":"_input-button_1r3zo_124","input-bet":"_input-bet_1r3zo_137","add-bet":"_add-bet_1r3zo_154"};function lZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),{authUser:s}=pe(),[o,i]=p.useState(),[a,l]=p.useState(!1),[u,d]=p.useState(0),[h,f]=p.useState(100),[m,v]=p.useState("Ставка"),[w,x]=p.useState("Успей забрать"),[_,y]=p.useState(!1),[g,C]=p.useState(!1),[b,k]=p.useState(!1),[T,S]=p.useState({isShow:!1,text:""}),[E,I]=p.useState({}),j=ce();p.useEffect(()=>{const P=()=>{window.innerWidth>700?I({stop:{right:-100,top:30},fly:{right:-600,top:-60}}):I({stop:{right:-20,top:120},fly:{right:-150,top:60}})};return P(),window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P)}},[]);const N=p.useRef(),O=(P,M)=>{P=P.replace("#","");let B=parseInt(P.substring(0,2),16),W=parseInt(P.substring(2,4),16),te=parseInt(P.substring(4,6),16);return`rgba(${B}, ${W}, ${te}, ${M})`};p.useEffect(()=>{const P=N.current,M=P.getContext("2d");M.clearRect(0,0,P.width,P.height),M.beginPath(),M.moveTo(0,P.height),M.quadraticCurveTo(250,P.height/2,P.width,0),M.lineTo(P.width,P.height),M.closePath();const B=O(t.gradient_first_color,.5);M.fillStyle=B,M.fill(),M.strokeStyle=t.gradient_first_color,M.lineWidth=2,M.stroke()},[]),p.useEffect(()=>{if(T.isShow){const P=setTimeout(()=>{S({isShow:!1})},1e3);return()=>clearTimeout(P)}},[T]),p.useEffect(()=>{(async()=>{if(s&&s._id){const M=Q(q,"users",s._id,"info","preferences"),B=await le(M);if(B.exists()){const W=B.data();i(W.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]),p.useEffect(()=>{if(!_){f(100),k(!1),C(!1),v("Ставка"),x(a?"Улетел":"Успей забрать");return}if(_){d(0),v("Забрать"),x("Успей забрать"),C(!0),k(!0),l(!1);const P=2e3+Math.random()*18e3,M=setTimeout(()=>{l(!0),y(!1),k(!1)},P);return()=>clearTimeout(M)}},[_]);const A=async P=>{if(s&&s._id)try{const M=Q(q,"users",s._id,"info","preferences");await is(M,{balance:P}),console.log(`Balance updated to ${P}`)}catch(M){console.error("Error updating balance:",M)}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>j("game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(!b)return;const P=setInterval(()=>{d(M=>parseFloat((M+.01).toFixed(2)))},70);return()=>clearInterval(P)},[b]);const R=P=>{const M=P.target.value;f(M===""?"":parseInt(M,10))},D=()=>{if(h>o){S({isShow:!0,text:"У вас недостаточно средств для ставки"});return}i(o-h),A(o-h),y(!0)},L=()=>{S({isShow:!0,text:`Вы выиграли ${Math.floor(h*u)}`}),i(P=>Math.floor(P+h*u)),A(o+Math.floor(h*u)),y(!1)};return c.jsx("div",{className:nt.overlay,children:c.jsxs("div",{className:nt.container,children:[c.jsx(Pt,{text:T.text,isShow:T.isShow}),c.jsx("div",{className:nt["score-container"],children:c.jsx(gu,{name:"Баланс",count:o,isBalance:!0})}),c.jsxs("div",{className:nt["view-container"],children:[c.jsx("h3",{className:nt.koeff,style:{color:t.text_first_color},children:`x${u}`}),c.jsx("h4",{className:nt.action_text,style:{color:t.text_first_color},children:w}),c.jsx("div",{className:nt.track,children:c.jsx("canvas",{ref:N,className:nt["track-bg"]})}),c.jsx(ot.div,{variants:E,animate:a?"fly":"stop",className:nt.rocket,transition:{duration:.3},children:c.jsx("img",{src:"rocket.png"})}),c.jsxs("div",{className:nt["cloud-container"],children:[c.jsx("div",{className:nt.cloud,children:c.jsx("img",{src:"cloud_1.png"})}),c.jsx("div",{className:nt.cloud,children:c.jsx("img",{src:"cloud_2.png"})}),c.jsx("div",{className:nt.cloud,children:c.jsx("img",{src:"cloud_3.png"})}),c.jsx("div",{className:nt.cloud,children:c.jsx("img",{src:"cloud_2.png"})}),c.jsx("div",{className:nt.cloud,children:c.jsx("img",{src:"cloud_1.png"})})]})]}),c.jsxs("div",{className:nt["bet-container"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:nt["input-container"],children:[c.jsx("button",{className:nt["input-button"],style:{background:t.element_second_color},onClick:()=>f(P=>P-1),disabled:g,children:c.jsx("svg",{width:"18",height:"4",viewBox:"0 0 18 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M16 2H9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})}),c.jsx("input",{type:"number",placeholder:"Ставка",min:0,value:h,onChange:R,className:nt["input-bet"],style:{color:t.text_first_color,caretColor:t.first_color,"--placeholderColor":t.text_third_color}}),c.jsx("button",{className:nt["input-button"],style:{background:t.element_second_color},onClick:()=>f(P=>P+1),disabled:g,children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 2V9M9 16V9M9 9H16M9 9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})})]}),c.jsx("button",{className:nt["add-bet"],style:{background:t.first_color,color:t.text_first_color},onClick:m==="Ставка"?D:L,children:m})]})]})})}const cZ="_container_1lqg5_1",uZ="_title_1lqg5_11",dZ="_block_1lqg5_26",hn={container:cZ,title:uZ,block:dZ,"block-info":"_block-info_1lqg5_40","block-name":"_block-name_1lqg5_49","block-label":"_block-label_1lqg5_56","block-arrow":"_block-arrow_1lqg5_65","question-index":"_question-index_1lqg5_74","question-body":"_question-body_1lqg5_85","variants-container":"_variants-container_1lqg5_96","variant-body":"_variant-body_1lqg5_105","variant-name":"_variant-name_1lqg5_115","variant-circle":"_variant-circle_1lqg5_123"},yC={"progress-body":"_progress-body_5eai3_1","progress-line":"_progress-line_5eai3_11"};function hZ({color:t,progress:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F);return c.jsx("section",{className:yC["progress-body"],style:{background:n.element_first_color},children:c.jsx("div",{className:yC["progress-line"],style:{background:t,width:e}})})}function fZ({name:t,state:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F),a={correct:{isBackground:!0,color:r.first_color,svg:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(-45deg)",isBorder:!1},incorrect:{isBackground:!0,color:r.third_color,svg:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(45deg)",isBorder:!1},base:{isBackground:!1,color:r.element_first_color,svg:"",transform:"none",isBorder:!0}},l=a[e]||a.base;return c.jsxs("section",{variants:a,className:hn["variant-body"],style:{border:`2px solid ${l.color}`},onClick:n,children:[c.jsx("h4",{className:hn["variant-name"],style:{color:r.text_first_color},children:t}),c.jsx("div",{className:hn["variant-circle"],style:{background:l.isBackground?l.color:"none",border:l.isBorder?`2px solid ${r.element_first_color}`:"none",transform:l.transform},children:l.svg})]})}const pZ=[{question:"What is the name of Russia's highest military award, often referred to as the 'Hero of the Russian Federation'?",answers:[{name:"Order of Lenin"},{name:"Order of the Red Banner"},{name:"Order of St. George"},{name:"Order of Courage"}],correctAnswerIndex:3},{question:"Which military branch of Russia operates the strategic missile forces responsible for nuclear deterrence?",answers:[{name:"Russian Ground Forces"},{name:"Russian Aerospace Forces"},{name:"Russian Navy"},{name:"Strategic Missile Troops"}],correctAnswerIndex:3},{question:"What is the name of Russia's only aircraft carrier, currently in service with the Russian Navy?",answers:[{name:"Admiral Kuznetsov"},{name:"Admiral Gorshkov"},{name:"Peter the Great"},{name:"Varyag"}],correctAnswerIndex:0},{question:"Which city hosts the headquarters of the Russian Navy's Northern Fleet?",answers:[{name:"Moscow"},{name:"Saint Petersburg"},{name:"Murmansk"},{name:"Sevastopol"}],correctAnswerIndex:2},{question:"In what year was the Russian Federation officially established, marking the modern era of the Russian military?",answers:[{name:"1991"},{name:"1993"},{name:"1995"},{name:"1999"}],correctAnswerIndex:0},{question:"Which Russian military operation annexed Crimea from Ukraine in 2014?",answers:[{name:"Operation Polar Star"},{name:"Operation Arctic Fox"},{name:"Operation Siberian Shield"},{name:"Operation Crimea"}],correctAnswerIndex:3},{question:"What is the name of Russia's main battle tank, known for its formidable firepower and armor?",answers:[{name:"T-72"},{name:"T-80"},{name:"T-90"},{name:"T-14 Armata"}],correctAnswerIndex:3},{question:"Which military exercise series, initiated by Russia, is one of the largest in the world, involving thousands of troops?",answers:[{name:"Exercise Suvorov"},{name:"Exercise Zapad"},{name:"Exercise Kavkaz"},{name:"Exercise Vostok"}],correctAnswerIndex:3},{question:"What is the name of Russia's primary combat aircraft, known for its versatility and role in air superiority?",answers:[{name:"Su-30"},{name:"MiG-31"},{name:"Su-57"},{name:"Tu-160"}],correctAnswerIndex:2},{question:"Which Russian military unit is famous for its demonstration of precision and coordination in military parades?",answers:[{name:"Spetsnaz"},{name:"VDV (Airborne Forces)"},{name:"Marines"},{name:"Presidential Regiment"}],correctAnswerIndex:3},{question:"What is the Russian term for a nuclear-powered ballistic missile submarine?",answers:[{name:"Kirov-class"},{name:"Yasen-class"},{name:"Typhoon-class"},{name:"Akula-class"}],correctAnswerIndex:2},{question:"Which Russian military figure is known as the 'Father of the Russian Navy' for his reforms and modernization efforts?",answers:[{name:"Peter the Great"},{name:"Admiral Kuznetsov"},{name:"Vladimir Putin"},{name:"Admiral Gorshkov"}],correctAnswerIndex:3},{question:"In which conflict did Russia deploy its military forces to support the Syrian government?",answers:[{name:"Libyan Civil War"},{name:"Yemeni Civil War"},{name:"Syrian Civil War"},{name:"Iraqi Civil War"}],correctAnswerIndex:2},{question:"What is the name of Russia's main strategic bomber, capable of carrying nuclear weapons and conducting long-range missions?",answers:[{name:"Tu-95"},{name:"Tu-22M"},{name:"Tu-160"},{name:"Su-24"}],correctAnswerIndex:2},{question:"Which Russian military branch is responsible for space operations and satellite launches?",answers:[{name:"Russian Space Forces"},{name:"Russian Strategic Missile Troops"},{name:"Russian Aerospace Forces"},{name:"Russian Airborne Troops"}],correctAnswerIndex:2},{question:"What is the name of Russia's primary infantry combat vehicle, widely used by its ground forces?",answers:[{name:"BMP-3"},{name:"BTR-80"},{name:"T-14 Armata"},{name:"Kurganets-25"}],correctAnswerIndex:0},{question:"Which military base, located in the Kaliningrad region, serves as a strategic outpost for Russia in Europe?",answers:[{name:"Sevastopol Naval Base"},{name:"Kronstadt Naval Base"},{name:"Luga Air Base"},{name:"Baltiysk Naval Base"}],correctAnswerIndex:3},{question:"What is the name of Russia's main anti-aircraft missile system, designed to defend against aerial threats?",answers:[{name:"S-300"},{name:"S-400"},{name:"Pantsir-S"},{name:"Tor-M2"}],correctAnswerIndex:1},{question:"Which Russian military doctrine emphasizes the use of nuclear weapons in response to conventional threats?",answers:[{name:"Gerasimov Doctrine"},{name:"Primakov Doctrine"},{name:"Makarov Doctrine"},{name:"Putin Doctrine"}],correctAnswerIndex:0},{question:"What is the name of Russia's main armored personnel carrier, widely used for troop transport?",answers:[{name:"BTR-82A"},{name:"BMP-2"},{name:"MT-LB"},{name:"Kurganets-25"}],correctAnswerIndex:0}],mZ=[{question:"Сколько будет 15 + 7?",answers:[{name:"21"},{name:"22"},{name:"23"},{name:"24"}],correctAnswerIndex:1},{question:"Если у каждого танка есть 5 орудий, а в полку 24 таких танка, сколько всего орудий в полку?",answers:[{name:"110"},{name:"115"},{name:"120"},{name:"125"}],correctAnswerIndex:2},{question:"Если в каждом отряде 12 солдат, а в батальоне 4 таких отряда, сколько всего человек в мире?",answers:[{name:"1"},{name:"1488"},{name:"8 млн."},{name:"8 млрд."}],correctAnswerIndex:3},{question:"Если в каждом танке 3 боевых бойца, а в дивизионе 10 таких танков, то куда летит самолет?",answers:[{name:"На север"},{name:"На юг"},{name:"На восток"},{name:"На хуй"}],correctAnswerIndex:3},{question:"Если в каждой эскадрилье 6 истребителей, а в авиагруппе 4 таких эскадрильи, сколько всего истребителей в авиагруппе?",answers:[{name:"20"},{name:"22"},{name:"24"},{name:"26"}],correctAnswerIndex:2},{question:"Если в каждой морской пехотной дивизии 24 танка, а в бригаде 3 таких дивизии, то какое звание у лейтенанта?",answers:[{name:"лейтенант"},{name:"майор"},{name:"генерал"},{name:"ефрейтор"}],correctAnswerIndex:0},{question:"Если в каждом отряде 20 солдат, а в роте 5 отрядов, сколько всего солдат в роте?",answers:[{name:"В роте может быть только хуй"},{name:"Хз"},{name:"100"},{name:"34"}],correctAnswerIndex:2},{question:"Если в каждом батальоне 10 танков, а в полку 8 батальонов, сколько всего танков в полку?",answers:[{name:"70"},{name:"75"},{name:"80"},{name:"85"}],correctAnswerIndex:2},{question:"Если в каждом отделении 8 солдат, а в роте 6 отделений, сколько всего солдат в роте?",answers:[{name:"42"},{name:"44"},{name:"46"},{name:"48"}],correctAnswerIndex:3},{question:"Если в каждой роте 3 танка, а в батальоне 4 роты, сколько всего танков в батальоне?",answers:[{name:"8"},{name:"10"},{name:"12"},{name:"14"}],correctAnswerIndex:2},{question:"Если в каждом полку 4 батальона, а в каждом батальоне 8 бронированных машин, сколько всего бронированных машин в полку?",answers:[{name:"24"},{name:"28"},{name:"32"},{name:"36"}],correctAnswerIndex:2},{question:"Если в каждом батальоне 5 отрядов, а в каждом отряде 40 солдат, сколько всего солдат в батальоне?",answers:[{name:"180"},{name:"200"},{name:"220"},{name:"240"}],correctAnswerIndex:1},{question:"Если в каждой роте 5 бронетранспортеров, а в полку 6 рот, сколько всего бронетранспортеров в полку?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1},{question:"Если в каждом отделении 10 солдат, а в батальоне 5 отделений, сколько всего солдат в батальоне?",answers:[{name:"45"},{name:"50"},{name:"55"},{name:"60"}],correctAnswerIndex:1},{question:"Если в каждом батальоне 6 танков, а в полку 8 батальонов. Сколько весит танк?",answers:[{name:"40 тонн"},{name:"45 тонн"},{name:"5 кг"},{name:"65 кг"}],correctAnswerIndex:2},{question:"Если в каждой эскадрилье 8 истребителей, а в авиагруппе 4 таких эскадрильи, сколько всего истребителей в авиагруппе?",answers:[{name:"28"},{name:"30"},{name:"32"},{name:"34"}],correctAnswerIndex:2},{question:"Если в каждой морской пехотной дивизии 20 танков, а в бригаде 5 таких дивизии, сколько всего танков в бригаде?",answers:[{name:"90"},{name:"100"},{name:"110"},{name:"120"}],correctAnswerIndex:1},{question:"Если в каждой роте 4 бронетранспортера, а в батальоне 6 рот, сколько всего бронетранспортеров в батальоне?",answers:[{name:"20"},{name:"24"},{name:"28"},{name:"32"}],correctAnswerIndex:1},{question:"Если в каждом отряде 18 солдат, а в роте 5 отрядов, сколько всего солдат в роте?",answers:[{name:"85"},{name:"90"},{name:"95"},{name:"100"}],correctAnswerIndex:1},{question:"Если в каждом полку 3 батальона, а в каждом батальоне 10 танков, сколько всего танков в полку?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1}],gZ=[{question:"Какое слово является множественным числом: книга, книги, книжка, книгу?",answers:[{name:"Книга"},{name:"Книги"},{name:"Книжка"},{name:"Книгу"}],correctAnswerIndex:1},{question:"Какое слово является противоположным слову 'горячий'?",answers:[{name:"Холодный"},{name:"Теплый"},{name:"Зимний"},{name:"Горячечный"}],correctAnswerIndex:0},{question:"Какой из глаголов является несовершенным: пел, поет, поют, пляшет?",answers:[{name:"Пел"},{name:"Поет"},{name:"Поют"},{name:"Пляшет"}],correctAnswerIndex:1},{question:"Какой предлог указывает на местоположение: на, под, из, от?",answers:[{name:"На"},{name:"Под"},{name:"Из"},{name:"От"}],correctAnswerIndex:0},{question:"Какое слово является множественным числом: стол, столы, столик, стола?",answers:[{name:"Стол"},{name:"Столы"},{name:"Столик"},{name:"Стола"}],correctAnswerIndex:1},{question:"Какое слово является синонимом слова 'смешной'?",answers:[{name:"Серьезный"},{name:"Веселый"},{name:"Тяжелый"},{name:"Грустный"}],correctAnswerIndex:1},{question:"Какой вариант предложения правильный: 'Она пошла домой' или 'Она пошла дома'?",answers:[{name:"Она пошла домой"},{name:"Она пошла дома"}],correctAnswerIndex:0},{question:"Какое слово является множественным числом: стекло, стекла, стеклышко, стеклом?",answers:[{name:"Стекло"},{name:"Стекла"},{name:"Стеклышко"},{name:"Стеклом"}],correctAnswerIndex:1},{question:"Какой из слов является союзом: и, книга, мяч, вода?",answers:[{name:"Книга"},{name:"Мяч"},{name:"Вода"},{name:"И"}],correctAnswerIndex:3},{question:"Какое слово является синонимом слова 'быстрый'?",answers:[{name:"Медленный"},{name:"Скорый"},{name:"Тяжелый"},{name:"Легкий"}],correctAnswerIndex:1},{question:"Какая ракетная система считается основной тактической ядерной системой Российской Федерации?",answers:[{name:"Искандер"},{name:"Тополь"},{name:"Булава"},{name:"Калибр"}],correctAnswerIndex:0},{question:"Какой тип военного самолета является основным истребителем в Российских Военно-воздушных силах?",answers:[{name:"Сухой Су-35"},{name:"МиГ-29"},{name:"Сухой Су-57"},{name:"МиГ-31"}],correctAnswerIndex:0},{question:"Как называется российский бронированный автомобиль с усиленной защитой и вооруженный пулеметом?",answers:[{name:"Тигр"},{name:"Буран"},{name:"Урал"},{name:"Камаз"}],correctAnswerIndex:0},{question:"Какой танк считается основным боевым танком Российской армии?",answers:[{name:"Т-90"},{name:"Т-80"},{name:"Т-72"},{name:"Армата"}],correctAnswerIndex:0},{question:"Какой тип вооружения используется на российских кораблях для уничтожения подводных лодок?",answers:[{name:"Торпеды"},{name:"Ракеты Калибр"},{name:"ПЗРК Игла"},{name:"Антиподводные ракеты"}],correctAnswerIndex:0},{question:"Как называется новейший российский беспилотный летательный аппарат, предназначенный для боевых задач?",answers:[{name:"Охотник"},{name:"Стриж"},{name:"Истребитель"},{name:"Мурман"}],correctAnswerIndex:0},{question:"Какая зенитная ракетная система предназначена для уничтожения воздушных целей и баллистических ракет?",answers:[{name:"С-400"},{name:"С-300"},{name:"С-500"},{name:"С-200"}],correctAnswerIndex:0},{question:"Какое стратегическое ядерное оружие является основным средством вторжения?",answers:[{name:"Баллистическая ракета"},{name:"Бомбардировщик Ту-160"},{name:"Подводная лодка"},{name:"Крылатая ракета"}],correctAnswerIndex:0},{question:"Какое средство является основным беспилотным летательным аппаратом Российских Военно-воздушных сил?",answers:[{name:"Орлан"},{name:"Байкал"},{name:"Истребитель"},{name:"Сухой"}],correctAnswerIndex:0},{question:"Какой пулемет используют для установки на танки Российских Военно-воздушных сил?",answers:[{name:"Калашников"},{name:"Максим"},{name:"Миномет"},{name:"Дробовик"}],correctAnswerIndex:0},{question:"Какое оружие используется для борьбы с танками?",answers:[{name:"РПГ-7"},{name:"Метательный оружие"},{name:"Снайпер"},{name:"Танковое оружие"}],correctAnswerIndex:0},{question:"Какой стратегический бомбардировщик используется для стратегических воздушных атак?",answers:[{name:"Ту-95"},{name:"Су-30"},{name:"МиГ-35"},{name:"Ту-22"}],correctAnswerIndex:0},{question:"Какое средство является основным воздушным кораблем в Российских Военно-воздушных силах?",answers:[{name:"Истребитель"},{name:"Ракета"},{name:"Корабль"},{name:"Дирижабль"}],correctAnswerIndex:0},{question:"Как называется новейший российский военный танк?",answers:[{name:"Армата"},{name:"Т-72"},{name:"Т-90"},{name:"Сухой"}],correctAnswerIndex:0},{question:"Какое вооружение используется для борьбы с воздушными целями?",answers:[{name:"Ракеты"},{name:"Самолеты"},{name:"Боевые вертолеты"},{name:"ПВО"}],correctAnswerIndex:0},{question:"Какой военный корабль используется в Российских Военно-воздушных силах?",answers:[{name:"Ракета"},{name:"Корабль"},{name:"Танк"},{name:"Линкор"}],correctAnswerIndex:0},{question:"Какой военный вертолет используется для боевых действий?",answers:[{name:"Ми-24"},{name:"Сухой"},{name:"Истребитель"},{name:"Боевой"}],correctAnswerIndex:0},{question:"Как называется новейший российский военный беспилотный летательный аппарат?",answers:[{name:"Охотник"},{name:"Стриж"},{name:"Истребитель"},{name:"Мурман"}],correctAnswerIndex:0},{question:"Какое оружие является основным для строительства Российской империи?",answers:[{name:"Снаряд"},{name:"Ракеты"},{name:"Взрывчатое вещество"},{name:"Калибр"}],correctAnswerIndex:0}],yZ=[{question:"Манас эпосунун аткысуун жазып жаткан кандай кыргыз ашык?",answers:[{name:"Чыңгыз"},{name:"Манас"},{name:"Борубай"},{name:"Сейтек"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'балык' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Күй"},{name:"Жабык"},{name:"Тамак"},{name:"Төрөл"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'жашын' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жыл"},{name:"Жол"},{name:"Жуу"},{name:"Жапа"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'айыл' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жашын"},{name:"Жол"},{name:"Жамгыр"},{name:"Жороо"}],correctAnswerIndex:2},{question:"Кыргыз тилинде 'көз' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Куу"},{name:"Кара"},{name:"Камчы"},{name:"Кымбат"}],correctAnswerIndex:3},{question:"Кыргыз тилинде 'кайын' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Кайык"},{name:"Кайыр"},{name:"Кайнак"},{name:"Кайырмак"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'кайырмак' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Кайыр"},{name:"Кайык"},{name:"Кайын"},{name:"Кайынак"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'төрөл' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Торгон"},{name:"Тамак"},{name:"Толкун"},{name:"Тиркеме"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'өзгөчө' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Өзгө"},{name:"Өзүн"},{name:"Өз"},{name:"Өздөр"}],correctAnswerIndex:3},{question:"Кыргыз тилинде 'жүрөк' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жаңы"},{name:"Жаткан"},{name:"Жана"},{name:"Жүрөктөр"}],correctAnswerIndex:2},{question:"Кыргызстандын мамлекеттик тили кандай?",answers:[{name:"Кыргыз тили"},{name:"Рус тили"},{name:"Англис тили"},{name:"Француз тили"}],correctAnswerIndex:0},{question:"Кыргызстандын абалдуу өнүгүү кандай тартилет?",answers:[{name:"Тор жарактуу"},{name:"Чок көчөндүруү"},{name:"Терөө бурчулуу"},{name:"Жооп көрсөтүү"}],correctAnswerIndex:0},{question:"Ата-энен деген сөз кандай тилде тартылат?",answers:[{name:"Кыргыз тили"},{name:"Рус тили"},{name:"Англис тили"},{name:"Түрк тили"}],correctAnswerIndex:0},{question:"Кыргызстандын астанасы ким?",answers:[{name:"Манас"},{name:"Чыңгыз айтматов"},{name:"Жүсүп абдыкадыров"},{name:"Мырза алаш"}],correctAnswerIndex:0},{question:"Кыргызстандын кайрыктуу өнүгүү кандай тартилет?",answers:[{name:"Алаңдатуу"},{name:"Алаша чатат"},{name:"Куу суу айтат"},{name:"Жооп көрсөтүү"}],correctAnswerIndex:1},{question:"Кыргызстандын аталышы кандай?",answers:[{name:"Кыргызстан"},{name:"Казастан"},{name:"Узбекстан"},{name:"Төркистан"}],correctAnswerIndex:0},{question:"Кыргызстандын эне-кеңеш деген сөз кандай тартылат?",answers:[{name:"Ата-энен"},{name:"Карындаш"},{name:"Баласы"},{name:"Көрүшү"}],correctAnswerIndex:0},{question:"Кыргызстандын жери кандай?",answers:[{name:"Жамияткан"},{name:"Күрөнүшкөн"},{name:"Желөөк"},{name:"Жалынуучу"}],correctAnswerIndex:1},{question:"Кыргызстандын туура тарапы кандай?",answers:[{name:"Ысык-көл"},{name:"Чолпон-ата"},{name:"Алай"},{name:"Талас"}],correctAnswerIndex:0},{question:"Кыргызстандын булуттары кандай?",answers:[{name:"Таң аралык"},{name:"Ала-туулук"},{name:"Кызыл катын"},{name:"Калын ара"}],correctAnswerIndex:1},{question:"Кыргызстандын айыл чөйрөктөри кандай?",answers:[{name:"Жаркынбек"},{name:"Айыл-чөйрөк"},{name:"Жаны-базар"},{name:"Кыргыз"}],correctAnswerIndex:1},{question:"Кыргызстандын аяктары кандай?",answers:[{name:"Сары-булак"},{name:"Ак-булак"},{name:"Кызыл-төк"},{name:"Чоң курум"}],correctAnswerIndex:2},{question:"Кыргызстандын көлдөрү кандай?",answers:[{name:"Ысык-көл"},{name:"Чолпон-ата"},{name:"Торткөл"},{name:"Алай"}],correctAnswerIndex:0},{question:"Кыргызстандын курулуштары кандай?",answers:[{name:"Кара-дарыя"},{name:"Көл-дарыя"},{name:"Туу-дарыя"},{name:"Темир-дарыя"}],correctAnswerIndex:3},{question:"Кыргызстандын аркылы кандай тийиш?",answers:[{name:"Айтар"},{name:"Сыйлык"},{name:"Сыйлык"},{name:"Манипуляция"}],correctAnswerIndex:2},{question:"Кыргызстандын аркылы кандай күрүшүн?",answers:[{name:"Жамияткан"},{name:"Күрөнүшкөн"},{name:"Алча-туу"},{name:"Желөөк"}],correctAnswerIndex:1},{question:"Кыргызстандын аркылы кандай өнүүдү тартылат?",answers:[{name:"Чүү"},{name:"Эс"},{name:"Алды"},{name:"Бүтүн"}],correctAnswerIndex:0},{question:"Кыргызстандын аркылы кандай экилик?",answers:[{name:"Чолпон-ата"},{name:"Чыңгыз айтматов"},{name:"Манас"},{name:"Мырза алаш"}],correctAnswerIndex:3},{question:"Кыргызстандын аркылы кандай дары?",answers:[{name:"Айыл"},{name:"Айл"},{name:"Айыл"},{name:"Айл"}],correctAnswerIndex:0}];function _Z({mode:t}){const[e,n]=p.useState(""),[r,s]=p.useState(),{authUser:o}=pe(),i=p.useRef(null),{theme:a,setThemeById:l,elementColors:u,setElementColors:d}=p.useContext(F),h=ce(),m={english:{questions:pZ,timePerQuestion:5},math:{questions:mZ,timePerQuestion:20},russian:{questions:gZ,timePerQuestion:15},kyrgyz:{questions:yZ,timePerQuestion:20}}[t];p.useEffect(()=>{d({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!0,arrowLink:()=>h("/quiz"),arrowColor:a.text_first_color,isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:0,background:a.background_color}),document.body.style.background=a.background_color},[F]);const v=(X,Le)=>[...X].sort(()=>.5-Math.random()).slice(0,Le),[w,x]=p.useState([]),[_,y]=p.useState(0),[g,C]=p.useState(new Array(4).fill("base")),[b,k]=p.useState(0),[T,S]=p.useState(0),[E,I]=p.useState(!1),[j,N]=p.useState(!1),[O,A]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[R,D]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{fetch("https://api.ipify.org?format=json").then(X=>X.json()).then(X=>{n(X.ip)}).catch(X=>{console.error("Error fetching IP address:",X)})},[]),p.useEffect(()=>{fetch("https://ipinfo.io/json?token=daabefc348f9fc").then(X=>X.json()).then(X=>{console.log("IP Address:",X.ip),console.log("City:",X.city),console.log("Region:",X.region),console.log("Country:",X.country),console.log("Location:",X.loc),console.log("Street:",X.org),n({ip:X.ip,city:X.city,region:X.region,location:X.loc})}).catch(X=>{console.error("Error fetching IP address and location:",X)})},[]);const L=X=>["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][X],P=X=>new Promise((Le,Xe)=>{const qn=new Image;qn.src=X,qn.onload=()=>Le(qn),qn.onerror=ds=>Xe(ds)}),M=async X=>{try{const Le=i.current,Xe=Le.getContext("2d"),qn=await P("SMO.jpg"),ds=await P("print.png");Xe.drawImage(qn,0,0,Le.width,Le.height),Xe.font="20px Times New Roman",Xe.fillStyle="#000",Xe.fillText(o.name,145,48);const yu=Math.floor(Math.random()*9001)+1e3;Xe.font="16px Times New Roman",Xe.fillText(`по адресу:  город ${e.city}, ${e.location}, IP адрес: ${e.ip} `,170,68),Xe.font="20px Times New Roman",Xe.fillText(yu,680,95);const yi=new Date;yi.setDate(yi.getDate()+1);const i6=yi.getDate(),a6=yi.getMonth(),l6=L(a6);Xe.fillText(i6,420,138),Xe.fillText(l6,470,138),Xe.drawImage(ds,450,140,200,200);const c6=Le.toDataURL("image/png");X(c6,yu)}catch(Le){console.error("Ошибка загрузки изображения:",Le)}};p.useEffect(()=>{if(!m)return;const X=v(m.questions,10);x(X),S(m.timePerQuestion)},[t]);const B=X=>{const Le=Math.floor(X/60),Xe=X%60;return`${Le}:${Xe<10?"0":""}${Xe}`};p.useEffect(()=>{let X;return T>0&&!E&&!j?X=setInterval(()=>{S(Le=>Le-1)},1e3):T===0&&!j&&te(),()=>clearInterval(X)},[T,E,j]),p.useEffect(()=>{w[_]&&(C(new Array(w[_].answers.length).fill("base")),S(m.timePerQuestion),I(!1))},[_,w]);const W=X=>{var Le;if(!E&&!j){const Xe=(Le=w[_])==null?void 0:Le.correctAnswerIndex,qn=X===Xe,ds=g.map((yu,yi)=>yi===X?qn?"correct":"incorrect":yu);qn||(ds[Xe]="correct"),C(ds),qn&&k(b+5),I(!0),setTimeout(()=>Rn(),2e3)}},te=()=>{var X;if(!E&&!j){const Le=(X=w[_])==null?void 0:X.correctAnswerIndex;if(Le!==void 0){const Xe=g.map((qn,ds)=>ds===Le?"correct":"base");C(Xe),I(!0),setTimeout(()=>Rn(),2e3)}}},ne=()=>{h("/quiz")},[he,Pe]=p.useState(!1);p.useEffect(()=>{!R.isShow&&he&&(A({...O,isShow:!0}),Pe(!1))},[R.isShow]);const Rn=async()=>{_<w.length-1?y(_+1):(N(!0),t==="kyrgyz"?b>40?M(X=>{D({isShow:!0,images:[X],index:0}),Pe(!0),A({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в Улуттук гвардия на бюджетную форму обучения!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&M(X=>{D({isShow:!0,images:[X],index:0}),Pe(!0),A({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в Улуттук гвардия на бюджетную форму обучения!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):t==="russian"?b>40?M(X=>{D({isShow:!0,images:[X],index:0}),Pe(!0),A({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской армии на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&M(X=>{D({isShow:!0,images:[X],index:0}),Pe(!0),A({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской армии, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):t==="math"?b>40?M(X=>{D({isShow:!0,images:[X],index:0}),Pe(!0),A({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды военных инженеров СВО на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&M(X=>{D({isShow:!0,images:[X],index:0}),Pe(!0),A({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды военных инженеров СВО, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):t==="english"&&(b>40?M(X=>{D({isShow:!0,images:[X],index:0}),Pe(!0),A({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской разведки на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&M(X=>{D({isShow:!0,images:[X],index:0}),Pe(!0),A({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской разведки, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})})))},vn=()=>{N(!1),x(v(m.questions,10)),y(0),C(new Array(4).fill("base")),k(0),S(m.timePerQuestion),I(!1),A({isShow:!1})},o6=(_+1)/w.length*100;return w[_]?c.jsxs("div",{className:hn.container,children:[c.jsx("canvas",{ref:i,width:"816",height:"367",style:{display:"none"}}),c.jsx(mo,{isShow:R.isShow,images:R.images,index:R.index,onClose:()=>D({isShow:!1})}),c.jsx(go,{title:O.title,text:O.text,isShow:O.isShow,firstButtonName:O.firstButtonName,secondButtonName:O.secondButtonName,firstButtonOnClick:O.firstButtonOnClick,secondButtonOnClick:O.secondButtonOnClick}),c.jsx(gu,{name:"Время",isBalance:!1,count:B(T)}),c.jsxs("h3",{className:hn["question-index"],style:{color:a.text_first_color},children:["Вопрос: ",_+1," / ",w.length]}),c.jsx(hZ,{color:a.first_color,progress:`${o6}%`}),c.jsx("div",{className:hn["question-body"],style:{color:a.text_first_color},children:w[_].question}),c.jsx("div",{className:hn["variants-container"],children:w[_].answers.map((X,Le)=>c.jsx(fZ,{name:X.name,state:g[Le],onClick:()=>W(Le)},Le))})]}):null}function vZ({blockColor:t,name:e,textColor:n,arrowBackground:r,labelColor:s,labelTextColor:o,labelName:i,onClick:a}){const{theme:l,setThemeById:u,elementColors:d,setElementColors:h}=p.useContext(F);return c.jsxs("div",{className:hn.block,style:{background:t},onClick:a,children:[c.jsxs("section",{className:hn["block-info"],children:[c.jsx("h5",{className:hn["block-name"],style:{color:n},children:e}),c.jsx("div",{className:hn["block-label"],style:{background:s,color:o},children:i})]}),c.jsx("div",{className:hn["block-arrow"],style:{background:r},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n})})})]})}function wZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),s=ce(),[o,i]=p.useState(),a=[{blockColor:t.second_color,name:"English",labelName:"5 секунд",textColor:t.background_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/english")},{blockColor:t.third_color,name:"Кыргызский язык",labelName:"20 секунд",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/kyrgyz")},{blockColor:t.first_color,name:"Русский язык",labelName:"15 секунд",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/russian")},{blockColor:t.second_color,name:"Математика",labelName:"20 секунд",textColor:t.background_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/math")}];return p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[F]),c.jsxs("div",{className:hn.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx("h4",{className:hn.title,style:{color:t.text_first_color},children:"Выберите режим:"}),a.map((l,u)=>c.jsx(vZ,{blockColor:l.blockColor,name:l.name,textColor:l.textColor,labelColor:l.labelcolor,labelName:l.labelName,labelTextColor:l.labelTextColor,arrowBackground:l.arrowBackground,onClick:l.onClick},u))]})}function xZ(){const{mode:t}=Ar();return t?c.jsx(_Z,{mode:t}):c.jsx(wZ,{})}const CZ="_container_8l478_2",bZ="_add_8l478_31",gs={container:CZ,"search-input-container":"_search-input-container_8l478_12","search-container":"_search-container_8l478_23",add:bZ,"empty-body":"_empty-body_8l478_51","empty-photo":"_empty-photo_8l478_60","empty-info":"_empty-info_8l478_70","empty-name":"_empty-name_8l478_79"},kZ="_container_1qk2k_1",SZ="_icon_1qk2k_10",EZ="_input_1qk2k_16",Zm={container:kZ,icon:SZ,input:EZ};function r6({value:t,onChange:e,placeholder:n}){const{theme:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState("");return c.jsxs("div",{className:Zm.container,style:{background:r.element_first_color},children:[c.jsx("div",{className:Zm.icon,children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.8637 11.7356C12.8296 10.5965 13.4157 9.10026 13.4157 7.46154C13.4157 3.89293 10.6363 1 7.20785 1C3.77935 1 1 3.89293 1 7.46154C1 11.0301 3.77935 13.9231 7.20785 13.9231C9.06196 13.9231 10.7262 13.077 11.8637 11.7356ZM11.8637 11.7356L15 15",stroke:r.text_first_color,"stroke-linejoin":"round"})})}),c.jsx("input",{className:Zm.input,placeholder:n,onChange:e,style:{"--caret-color":r.first_color,"--placeholder-color":r.text_third_color,color:r.text_first_color}})]})}const TZ="_body_1amdf_2",IZ="_photo_1amdf_11",NZ="_info_1amdf_27",jZ="_name_1amdf_36",rd={body:TZ,photo:IZ,info:NZ,name:jZ};function s6({id:t,name:e,photo:n,onClick:r}){const{theme:s,setElementColors:o}=p.useContext(F),i=()=>{r(t)};return c.jsxs("div",{className:rd.body,style:{borderTop:`1px solid ${s.element_first_color}`},onClick:i,children:[c.jsx("div",{className:rd.photo,children:c.jsx("img",{src:n,alt:"ава"})}),c.jsx("div",{className:rd.info,children:c.jsx("div",{className:rd.name,style:{color:s.text_first_color},children:e})})]})}function AZ(){const{theme:t,setElementColors:e}=p.useContext(F),{authUser:n}=pe(),[r,s]=p.useState([]),[o,i]=p.useState(""),[a,l]=p.useState(!1),u=ce();p.useEffect(()=>{e({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>u("/home"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]);const d=async()=>{const v=In(q,"groups"),w=await tk(v),x=[];return await Promise.all(w.docs.map(async _=>{const y=_.id,g=Q(q,"groups",y,"info","info"),C=await le(g);if(C.exists()){const b=C.data();x.push({id:y,name:b.name,photo:b.photo,membersCount:b.members?b.members.length:0,isGroup:!0})}})),x.sort((_,y)=>y.membersCount-_.membersCount),x};p.useEffect(()=>{(async()=>{try{l(!0);const w=await d();s([...w])}catch(w){console.error("Error fetching data:",w)}finally{l(!1)}})()},[]);const h=v=>{i(v.target.value)},f=r.filter(v=>v.name.toLowerCase().includes(o.toLowerCase())||v.id.toLowerCase().includes(o.toLowerCase())),m=(v,w)=>{u(w?`/group/${v}`:`/profile/${v}`)};return c.jsxs("div",{className:gs.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color};
                  border-radius: 5px;
                  cursor: pointer;
                }
                ::-webkit-scrollbar-track {
                  background-color: rgba(0, 0, 0, 0.3);
                }
            `}),c.jsx("div",{className:gs["search-input-container"],style:{background:t.background_color},children:c.jsx(r6,{value:o,onChange:h,placeholder:"Поиск группы или пользователя"})}),c.jsx("div",{className:gs["search-container"],children:a?Array.from({length:2}).map((v,w)=>c.jsxs("div",{className:gs["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:gs["empty-photo"],children:c.jsx(bn,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:gs["empty-info"],children:c.jsx("div",{className:gs["empty-name"],style:{color:t.text_first_color},children:c.jsx(bn,{height:"10px",width:"100px",shape:"rect"})})})]},w)):f.map((v,w)=>c.jsx(s6,{id:v.id,name:v.name,photo:v.photo,onClick:()=>m(v.id,v.isGroup)},w))}),c.jsx("button",{className:gs.add,style:{background:t.first_color},onClick:()=>u("/create-group"),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:t.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})]})}const PZ="_container_bn3pq_2",LZ="_cover_bn3pq_22",RZ="_label_bn3pq_189",G={container:PZ,"profile-container":"_profile-container_bn3pq_13","cover-container":"_cover-container_bn3pq_22",cover:LZ,"cover-pattern":"_cover-pattern_bn3pq_41","group-photo":"_group-photo_bn3pq_49","change-photo-button":"_change-photo-button_bn3pq_68","group-actions":"_group-actions_bn3pq_86","group-info":"_group-info_bn3pq_92","group-name":"_group-name_bn3pq_99","circle-button":"_circle-button_bn3pq_104","group-description":"_group-description_bn3pq_121","button-container":"_button-container_bn3pq_126","quit-button":"_quit-button_bn3pq_135","colors-container":"_colors-container_bn3pq_152","color-circle":"_color-circle_bn3pq_162","active-circle":"_active-circle_bn3pq_172","input-data-container":"_input-data-container_bn3pq_179",label:RZ,"input-data":"_input-data_bn3pq_179","item-body":"_item-body_bn3pq_205","item-name":"_item-name_bn3pq_226","item-info":"_item-info_bn3pq_233","item-circle":"_item-circle_bn3pq_241","posts-container":"_posts-container_bn3pq_258"};function OZ({fetchGroupData:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),{authUser:o}=pe(),{id:i}=Ar(),[a,l]=p.useState(""),[u,d]=p.useState(""),[h,f]=p.useState(!0),[m,v]=p.useState(null),[w,x]=p.useState(""),[_,y]=p.useState([]),[g,C]=p.useState({isShow:!1,text:""}),[b,k]=p.useState([]);p.useEffect(()=>{(async()=>{if(i)try{const N=Q(q,"groups",i,"info","info"),O=await le(N);if(O.exists()){const A=O.data();x(A.cover),l(A.name),d(A.description),k(A),console.log(A)}else console.log("No such document!")}catch(N){console.error("Error fetching group data:",N)}else console.error("ID группы не указан")})()},[i]),p.useEffect(()=>{(async()=>{if(o&&o._id){const N=Q(q,"users",o._id,"info","preferences"),O=await le(N);if(O.exists()){const A=O.data();y(R=>[...R,...A.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const T=_?pu.filter(j=>_.includes(j.name)):[];p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{if(g.isShow){const j=setTimeout(()=>{C({isShow:!1})},1500);return()=>clearTimeout(j)}},[g.isShow]);const S=j=>{j.target.files[0]&&(v(j.target.files[0]),console.log(j.target.files[0]))},E=j=>{x(j)},I=async()=>{let j=null;const N=new Date().toISOString();if(m){const O=Nr(jr,`groups_photo/${i}/${N}_${m.name}`);await ti(O,m),j=await as(O)}if(i){const O=Q(q,"groups",i,"info","info");try{await ut(O,{name:a,description:u,photo:m?j:b.photo,cover:w},{merge:!0}),await t(),e()}catch(A){console.error("Error updating document: ",A)}}};return c.jsxs("div",{className:G["profile-container"],children:[c.jsx(Pt,{isShow:g.isShow,text:g.text}),c.jsx("div",{className:G["cover-container"],children:c.jsx("div",{className:G.cover,style:{background:w},children:c.jsx("div",{className:G["cover-pattern"]})})}),c.jsxs("div",{className:G["group-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[c.jsx("button",{className:G["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:m?URL.createObjectURL(m):b.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:S})]}),c.jsx("div",{className:G["colors-container"],style:{background:n.element_first_color},children:T.map(j=>c.jsx(c.Fragment,{children:j.colors.map((N,O)=>c.jsx("div",{className:G["color-circle"],style:{background:N},onClick:()=>E(N),children:w===N&&c.jsx("div",{className:G["active-circle"],style:{borderColor:n.text_first_color}})},O))}))}),c.jsxs("div",{className:G["group-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:G["input-data-container"],children:[c.jsx("div",{className:G.label,style:{color:n.first_color},children:"Имя"}),c.jsx("input",{type:"text",value:a,className:G["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:j=>l(j.target.value)})]}),c.jsxs("div",{className:G["input-data-container"],children:[c.jsx("div",{className:G.label,style:{color:n.text_first_color},children:"О себе"}),c.jsx("input",{type:"text",value:u,className:G["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:j=>d(j.target.value)})]}),c.jsx("div",{className:G["button-container"],children:c.jsx("button",{className:G["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:I,children:"Сохранить"})})]})]})}function DZ(){const{theme:t,setElementColors:e}=p.useContext(F),{authUser:n,ga:r}=pe(),[s,o]=p.useState({}),i=ce(),{id:a}=Ar(),[l,u]=p.useState(!1),[d,h]=p.useState({isShow:!1,text:""}),[f,m]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[v,w]=p.useState({isShow:!1,images:[],index:null}),[x,_]=p.useState([]),[y,g]=p.useState(!1),[C,b]=p.useState(!1);p.useEffect(()=>{e({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>i("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]);const k=async()=>{if(a)try{const L=Q(q,"groups",a,"info","info"),P=await le(L);if(P.exists()){const M=P.data();o(M),console.log(M)}else console.log("No such document!"),o({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null})}catch(L){console.error("Error fetching group data:",L)}else console.error("ID группы не указан")};p.useEffect(()=>{k()},[a]);const T=()=>{navigator.clipboard.writeText(a).then(()=>{h({isShow:!0,text:"ID группы скопирован в буфер обмена"}),console.log(s)}).catch(L=>{h({isShow:!0,text:`Не удалось скопировать ID: ${L}`})})};p.useEffect(()=>{if(d.isShow){const L=setTimeout(()=>{h({isShow:!1})},1500);return()=>clearTimeout(L)}},[d.isShow]);const S=()=>{u(!1),h({isShow:!0,text:"Изменения успешно сохранены"})},E=L=>{w({isShow:!0,images:L,index:0})},I=async()=>{if(n._id){const L=Q(q,"groups",a,"info","info"),P=Q(q,"users",n._id,"info","preferences");try{const M=await le(P),B=await le(L);if(B.exists()){let W;const te=B.data().members||[];te.includes(n._id)?(W=te.filter(ne=>ne!==n._id),M.exists()&&await ut(P,{mainGroup:null},{merge:!0})):(W=[...te,n._id],M.exists()&&await ut(P,{mainGroup:a},{merge:!0})),await ut(L,{members:W},{merge:!0}),await k()}else console.error("No such document!")}catch(M){console.error("Error updating document: ",M)}}};p.useEffect(()=>{const L=pi(Wa(In(q,"posts"),Ga("timestamp","desc")),P=>{const M=[];P.forEach(B=>{const W=B.data();if(W.userId===a){const te=new Date(W.timestamp),ne=W.likesArray,he=te.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});M.push({id:B.id,userId:W.userId,userName:W.userName,groupOwnerId:W.groupOwnerId,userPhoto:W.userPhoto,postText:W.text,postPhoto:W.photos,postData:he,likesArray:ne})}}),_(M),g(!1)});return()=>{L()}},[a]);const j=async(L,P)=>{try{const M=new Date().toISOString();let B=[];for(const W of P){const te=Nr(jr,`groups_photo/${a}/${M}_${W.name}`);await ti(te,W);const ne=await as(te);B.push(ne)}await N(L,B)}catch(M){console.error("Error handling send: ",M)}},N=async(L,P)=>{try{const M=new Date().toISOString();await tp(In(q,"posts"),{photos:P,text:L,timestamp:M,userId:a,groupOwnerId:s.owner,userName:s.name,userPhoto:s.photo,likesArray:[]}),console.log("Message saved successfully.")}catch(M){console.error("Error adding document: ",M)}},O=(L,P)=>{w({isShow:!0,images:L,index:P})},A=()=>{m({isShow:!1})},R=async L=>{m({isShow:!1});try{await nk(Q(q,"posts",L))}catch(P){console.error("Error deleting post: ",P)}finally{h({isShow:!0,text:"Пост удален"})}},D=(L,P)=>{switch(L){case"delete":return m({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:A,secondButtonOnClick:()=>R(P)});default:return m({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:G.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(mo,{isShow:v.isShow,images:v.images,index:v.index,onClose:()=>w({isShow:!1})}),c.jsx(go,{title:f.title,text:f.text,isShow:f.isShow,firstButtonName:f.firstButtonName,secondButtonName:f.secondButtonName,firstButtonOnClick:f.firstButtonOnClick,secondButtonOnClick:f.secondButtonOnClick}),c.jsx(Pt,{isShow:d.isShow,text:d.text}),l?c.jsx(OZ,{handleEdit:S,fetchGroupData:k,id:s.userId}):c.jsxs("div",{className:G["profile-container"],children:[c.jsx("div",{className:G["cover-container"],children:c.jsx("div",{className:G.cover,style:{background:s.cover},children:c.jsx("div",{className:G["cover-pattern"]})})}),c.jsx("div",{className:G["group-photo"],style:{borderColor:t.background_color},children:c.jsx("img",{src:s.photo,onClick:()=>E(s.photo)})}),c.jsxs("div",{className:G["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:G["group-info"],children:[c.jsx("div",{className:G["group-name"],style:{color:t.text_first_color},children:s.name}),c.jsx("button",{className:G["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:T,children:"#"})]}),c.jsx("div",{className:G["group-description"],style:{color:t.text_first_color},children:s.description}),c.jsxs("div",{className:G["button-container"],children:[c.jsx("button",{className:G["quit-button"],style:{background:s.members&&s.members.includes(n._id)?t.element_second_color:t.first_color,color:t.text_first_color},onClick:I,children:s.members&&s.members.includes(n._id)?"Отписаться":"Подписаться"}),c.jsx("button",{className:G["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:()=>u(!0),children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:t.text_first_color})})})]})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/subscribers/${a}?isGroup=true`),children:[c.jsx("div",{className:G["item-info"],children:c.jsxs("div",{className:G["item-name"],style:{color:t.text_first_color},children:["Подписчики: ",s.members?s.members.length:0]})}),c.jsx("div",{className:G["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/timetable/${a}`),children:[c.jsx("div",{className:G["item-info"],children:c.jsx("div",{className:G["item-name"],style:{color:t.text_first_color},children:"Посмотреть расписание"})}),c.jsx("div",{className:G["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/download/${a}`),children:[c.jsx("div",{className:G["item-info"],children:c.jsx("div",{className:G["item-name"],style:{color:t.text_first_color},children:"Посмотреть файлы"})}),c.jsx("div",{className:G["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),c.jsx(Sp,{placeholder:"Что нового?",isPanelTop:!1,onSend:j,addFiles:!0}),c.jsx("div",{className:G["posts-container"],children:y?c.jsxs(c.Fragment,{children:[c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{})]}):x.map(L=>c.jsx(mu,{postId:L.id,groupOwnerId:L.groupOwnerId,userId:L.userId,userName:L.userName,userPhoto:L.userPhoto,postData:L.postData,postText:L.postText,postPhotos:L.postPhoto,likesArray:L.likesArray,photoClick:O,postAction:D},L.id))})]})]})}function MZ({id:t}){const{theme:e,setElementColors:n}=p.useContext(F),{authUser:r}=pe(),[s,o]=p.useState({name:"",description:"",photo:"",cover:"",balance:0,members:[]}),[i,a]=p.useState({isShow:!1,text:""}),[l,u]=p.useState([]),[d,h]=p.useState(!1),[f,m]=p.useState({isShow:!1,images:[],index:null}),v=ce();p.useEffect(()=>{n({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>v("/search"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const w=async()=>{if(t)try{const g=Q(q,"groups",t,"info","info"),C=await le(g);if(C.exists()){const b=C.data();o(b),console.log(b)}else console.log("No such document!"),o({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null})}catch(g){console.error("Error fetching group data:",g)}else console.error("ID группы не указан")};p.useEffect(()=>{w()},[t]),p.useEffect(()=>{if(i.isShow){const g=setTimeout(()=>{a({isShow:!1})},1500);return()=>clearTimeout(g)}},[i.isShow]);const x=async()=>{if(r._id){const g=Q(q,"groups",t,"info","info"),C=Q(q,"users",r._id,"info","preferences");try{const b=await le(C),k=await le(g);if(k.exists()){let T;const S=k.data().members||[];S.includes(r._id)?(T=S.filter(E=>E!==r._id),b.exists()&&await ut(C,{mainGroup:null},{merge:!0})):(T=[...S,r._id],b.exists()&&await ut(C,{mainGroup:t},{merge:!0})),await ut(g,{members:T},{merge:!0}),await w()}else console.error("No such document!")}catch(b){console.error("Error updating document: ",b)}}};p.useEffect(()=>{const g=pi(Wa(In(q,"posts"),Ga("timestamp","desc")),C=>{const b=[];C.forEach(k=>{const T=k.data();if(T.userId===t){const S=new Date(T.timestamp),E=T.likesArray,I=S.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});b.push({id:k.id,userId:T.userId,userName:T.userName,groupOwnerId:T.groupOwnerId,userPhoto:T.userPhoto,postText:T.text,postPhoto:T.photos,postData:I,likesArray:E})}}),u(b),h(!1)});return()=>{g()}},[t]);const _=(g,C)=>{m({isShow:!0,images:g,index:C})},y=(g,C)=>{switch(g){case"delete":return setAlertProp({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(C)});default:return setAlertProp({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:G.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(mo,{isShow:f.isShow,images:f.images,index:f.index,onClose:()=>m({isShow:!1})}),c.jsx(Pt,{isShow:i.isShow,text:i.text}),c.jsx("div",{className:G["cover-container"],children:c.jsx("div",{className:G.cover,style:{background:"var(--first-color)"},children:c.jsx("div",{className:G["cover-pattern"]})})}),c.jsx("div",{className:G["group-photo"],style:{borderColor:e.background_color},children:c.jsx("img",{src:s.photo||"/genery/public/1.png",alt:`${s.name} photo`})}),c.jsxs("div",{className:G["group-actions"],style:{background:e.element_first_color},children:[c.jsx("div",{className:G["group-info"],children:c.jsx("div",{className:G["group-name"],style:{color:e.text_first_color},children:s.name})}),c.jsx("div",{className:G["group-biography"],style:{color:e.text_first_color},children:s.description}),c.jsx("div",{className:G["button-container"],children:c.jsx("button",{className:G["quit-button"],style:{background:s.members.includes(r._id)?e.element_second_color:e.first_color,color:e.text_first_color},onClick:x,children:s.members&&s.members.includes(r._id)?"Отписаться":"Подписаться"})})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>v(`/subscribers/${t}?isGroup=true`),children:[c.jsx("div",{className:G["item-info"],children:c.jsxs("div",{className:G["item-name"],style:{color:e.text_first_color},children:["Подписчики: ",s.members?s.members.length:0]})}),c.jsx("div",{className:G["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>v(`/timetable/${t}`),children:[c.jsx("div",{className:G["item-info"],children:c.jsx("div",{className:G["item-name"],style:{color:e.text_first_color},children:"Посмотреть расписание"})}),c.jsx("div",{className:G["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>v(`/download/${t}`),children:[c.jsx("div",{className:G["item-info"],children:c.jsx("div",{className:G["item-name"],style:{color:e.text_first_color},children:"Посмотреть файлы"})}),c.jsx("div",{className:G["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsx("div",{className:G["posts-container"],children:d?c.jsxs(c.Fragment,{children:[c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{})]}):l.map(g=>c.jsx(mu,{postId:g.id,groupOwnerId:g.groupOwnerId,userId:g.userId,userName:g.userName,userPhoto:g.userPhoto,postData:g.postData,postText:g.postText,postPhotos:g.postPhoto,likesArray:g.likesArray,photoClick:_,postAction:y},g.id))})]})}function $Z(){const{authUser:t}=pe(),{id:e}=Ar(),[n,r]=p.useState(null),[s,o]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const a=Q(q,"groups",e,"info","info"),l=await le(a);if(l.exists()){const u=l.data();r(u.owner)}else console.error("Group not found")}catch(a){console.error("Error fetching group data:",a)}finally{o(!1)}})()},[e]),n===t._id?c.jsx(DZ,{id:e}):c.jsx(MZ,{id:e})}const FZ="_container_1hmv2_2",fl={container:FZ,"empty-body":"_empty-body_1hmv2_9","empty-photo":"_empty-photo_1hmv2_18","empty-info":"_empty-info_1hmv2_28","empty-name":"_empty-name_1hmv2_37"};function BZ(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),{authUser:r}=pe(),[s,o]=p.useState(!1),[i,a]=p.useState(null),l=ce(),[u,d]=p.useState(),[h,f]=p.useState();p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>l("/search"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{let v;return(async()=>{if(r){const x=Q(q,"users",r._id,"info","preferences");v=pi(x,async _=>{if(_.exists()){const y=_.data(),g=y.mainGroup;if(f(y.mainGroup),g){const C=Q(q,"groups",g,"info","info"),b=await le(C);b.exists()?a(b.data()):a({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null}),o(!1)}}})}})(),()=>{v&&v()}},[r]);const m=v=>{l(`/group/${v}`)};return c.jsx("div",{className:fl.container,children:s?c.jsxs("div",{className:fl["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:fl["empty-photo"],children:c.jsx(bn,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:fl["empty-info"],children:c.jsx("div",{className:fl["empty-name"],style:{color:t.text_first_color},children:c.jsx(bn,{height:"10px",width:"100px",shape:"rect"})})})]}):i&&c.jsx(s6,{name:i.name,photo:i.photo,id:h,onClick:m})})}const UZ="_container_144b8_2",VZ="_cover_144b8_22",zZ="_label_144b8_189",ht={container:UZ,"profile-container":"_profile-container_144b8_13","cover-container":"_cover-container_144b8_22",cover:VZ,"cover-pattern":"_cover-pattern_144b8_41","group-photo":"_group-photo_144b8_49","change-photo-button":"_change-photo-button_144b8_68","group-actions":"_group-actions_144b8_86","button-container":"_button-container_144b8_126","quit-button":"_quit-button_144b8_135","colors-container":"_colors-container_144b8_152","color-circle":"_color-circle_144b8_162","active-circle":"_active-circle_144b8_172","input-data-container":"_input-data-container_144b8_179",label:zZ,"input-data":"_input-data_144b8_179"};var HZ=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};function qZ({}){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),{authUser:r}=pe(),{id:s}=Ar(),[o,i]=p.useState(""),[a,l]=p.useState(""),[u,d]=p.useState(!0),[h,f]=p.useState(null),[m,v]=p.useState("#0040F9"),[w,x]=p.useState([]),[_,y]=p.useState({isShow:!1,text:""}),[g,C]=p.useState([]),b=ce(),k=[t.first_color,t.second_color,t.third_color];p.useEffect(()=>{(async()=>{if(r&&r._id){const O=Q(q,"users",r._id,"info","preferences"),A=await le(O);if(A.exists()){const R=A.data();x(D=>[...D,...R.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[r]);const T=w?pu.filter(N=>w.includes(N.name)):[];p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>b("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(_.isShow){const N=setTimeout(()=>{y({isShow:!1})},1500);return()=>clearTimeout(N)}},[_.isShow]);const S=N=>{N.target.files[0]&&(f(N.target.files[0]),console.log(N.target.files[0]))},E=N=>{v(N)},I=async()=>{let N=null;const O=new Date().toISOString();if(o.length<=3){y({isShow:!0,text:"Название должно быть больше 3-х символов"});return}if(h){const A=Nr(jr,`groups_photo/${O}_${h.name}`);await ti(A,h),N=await as(A)}else{const A=HZ(500,500),R=A.getContext("2d"),D=k[Math.floor(Math.random()*k.length)];R.fillStyle=D,R.fillRect(0,0,A.width,A.height),R.fillStyle="white",R.font="bold 250px Inter",R.textAlign="center",R.textBaseline="middle",R.fillText(o[0].toUpperCase(),A.width/2,A.height/2);const L=await new Promise(M=>A.toBlob(M)),P=Nr(jr,`groups_photo/${O}_${o}_default.png`);await ti(P,L),N=await as(P)}try{const A=In(q,"groups"),D=(await tp(A,{})).id,L=Q(q,"groups",D,"info","info");await ut(L,{name:o,description:a,photo:N,cover:m,owner:r._id,members:[r._id]},{merge:!0}),b(`/group/${D}`)}catch(A){console.error("Error creating document: ",A)}};function j(N){if(!N)return!1;let O,A,R;if(N.startsWith("#"))if(N.length===4)O=parseInt(N[1]+N[1],16),A=parseInt(N[2]+N[2],16),R=parseInt(N[3]+N[3],16);else if(N.length===7)O=parseInt(N.slice(1,3),16),A=parseInt(N.slice(3,5),16),R=parseInt(N.slice(5,7),16);else return!1;else if(N.startsWith("rgb")){const L=N.substring(N.indexOf("(")+1,N.lastIndexOf(")")).split(",").map(Number);if(L.length===3)O=L[0],A=L[1],R=L[2];else return!1}else{const L=document.createElement("div");L.style.color=N,document.body.appendChild(L);const P=window.getComputedStyle(L).color;if(document.body.removeChild(L),P.startsWith("rgb")){const M=P.substring(P.indexOf("(")+1,P.lastIndexOf(")")).split(",").map(Number);if(M.length===3)O=M[0],A=M[1],R=M[2];else return!1}else return!1}return(O*299+A*587+R*114)/1e3>180}return c.jsx("div",{className:ht.container,children:c.jsxs("div",{className:ht["profile-container"],children:[c.jsx(Pt,{isShow:_.isShow,text:_.text}),c.jsx("div",{className:ht["cover-container"],children:c.jsx("div",{className:ht.cover,style:{background:m},children:c.jsx("div",{className:ht["cover-pattern"]})})}),c.jsxs("div",{className:ht["group-photo"],style:{borderColor:t.background_color,background:t.background_color},children:[c.jsx("button",{className:ht["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:h?URL.createObjectURL(h):g.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:S})]}),c.jsx("div",{className:ht["colors-container"],style:{background:t.element_first_color},children:T.map(N=>c.jsx(c.Fragment,{children:N.colors.map((O,A)=>c.jsx("div",{className:ht["color-circle"],style:{background:O},onClick:()=>E(O),children:m===O&&c.jsx("div",{className:ht["active-circle"],style:{borderColor:j(O)?"#0A0B10":"#fff"}})},A))}))}),c.jsxs("div",{className:ht["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:ht["input-data-container"],children:[c.jsx("div",{className:ht.label,style:{color:t.first_color},children:"Название"}),c.jsx("input",{type:"text",value:o,className:ht["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:N=>i(N.target.value)})]}),c.jsxs("div",{className:ht["input-data-container"],children:[c.jsx("div",{className:ht.label,style:{color:t.first_color},children:"Описание"}),c.jsx("input",{type:"text",value:a,className:ht["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:N=>l(N.target.value)})]}),c.jsx("div",{className:ht["button-container"],children:c.jsx("button",{className:ht["quit-button"],style:{color:t.text_first_color,background:t.first_color},onClick:I,children:"Создать"})})]})]})})}const WZ="_container_yjc12_1",Ym={container:WZ,"main-button":"_main-button_yjc12_12"};function GZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F);p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[F]);const[s,o]=p.useState([[1,2],[3,4]]),[i,a]=p.useState([]),l=v=>v[0].map((x,_)=>v.map(y=>y[_])),u=[[1,2],[3,4]],d=[[1,2,3],[4,5,6]],h=(v,w)=>{const x=v.length,_=v[0].length,y=w.length,g=w[0].length;if(_!==y)throw new Error("Количество столбцов в A должно быть равно количеству строк в B");const C=Array.from({length:x},()=>Array(g).fill(0));for(let b=0;b<x;b++)for(let k=0;k<g;k++)for(let T=0;T<_;T++)C[b][k]+=v[b][T]*w[T][k];return C},f=()=>{console.log(l(d))},m=()=>{console.log(h(u,d))};return c.jsxs("div",{className:Ym.container,children:[c.jsx("button",{className:Ym["main-button"],style:{background:t.first_color},onClick:f,children:"Транспонировать"}),c.jsx("button",{className:Ym["main-button"],style:{background:t.first_color},onClick:m,children:"Умножить"})]})}const KZ="_container_1pzp3_1",ZZ="_game_1pzp3_18",_C={container:KZ,game:ZZ};function YZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),s=ce();p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/group-list"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[F]);const[o,i]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),a=p.useRef(),[l,u]=p.useState(0),[d,h]=p.useState({width:360,height:500});let f,m=d.width,v=d.height,w;const x=70,_=70,y=d.width/8,g=d.height/2;let C,b={x:y,y:g,width:x,height:_},k=[];const T=60,S=400,E=d.width,I=0;let j,N,O=-2,A=0,R=.4,D=!1;const L=()=>{const ne=window.innerWidth<768,he=Math.min(window.innerWidth,360),Pe=ne?700:Math.min(window.innerHeight,100);h({width:he,height:Pe})};p.useEffect(()=>(window.addEventListener("resize",L),L(),()=>{window.removeEventListener("resize",L)}),[]),p.useEffect(()=>{const ne=a.current;if(!ne)return;f=ne,f.height=v,f.width=m,w=f.getContext("2d"),C=new Image,C.src="flippybird/flappybird.png",C.onload=()=>{w.drawImage(C,b.x,b.y,b.width,b.height)},j=new Image,j.src="flippybird/toppipe.png",N=new Image,N.src="flippybird/bottompipe.png",requestAnimationFrame(P);const he=setInterval(B,1500);return document.addEventListener("click",W),()=>{clearInterval(he),document.removeEventListener("click",W)}},[C]);const P=()=>{if(requestAnimationFrame(P),!D){w.clearRect(0,0,f.width,f.height),A+=R,b.y=Math.max(b.y+A,0),w.drawImage(C,b.x,b.y,b.width,b.height),b.y>f.height&&(D=!0);for(let ne=0;ne<k.length;ne++){let he=k[ne];he.x+=O,w.drawImage(he.img,he.x,he.y,he.width,he.height),!he.passed&&b.x>he.x+he.width&&(u(Pe=>Pe+=.5),he.passed=!0),te(b,he)&&(D=!0)}for(;k.length>0&&k[0].x<-60;)k.shift();w.fillStyle="white",w.font="15px sans-serif",D&&i({isShow:!0,title:"Вы проиграли!",text:`Ваш счет: ${l}`,firstButtonName:"Выйти",secondButtonName:"Играть",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:()=>M()})}},M=()=>{D=!1,b={x:y,y:g,width:x,height:_},k=[],u(0),i({isShow:!1})},B=()=>{if(D)return;let ne=I-S/4-Math.random()*(S/2),he=f.height/4,Pe={img:j,x:E,y:ne,width:T,height:S,passed:!1};k.push(Pe);let Rn={img:N,x:E,y:ne+S+he,width:T,height:S,passed:!1};k.push(Rn)},W=ne=>{A=-6},te=(ne,he)=>ne.x<he.x+he.width&&ne.x+ne.width>he.x&&ne.y<he.y+he.height&&ne.y+ne.height>he.y;return c.jsx("div",{className:_C.container,children:c.jsx("iframe",{className:_C.game,src:"https://ridgeld.github.io/game/",allowfullscreen:!0})})}const QZ="_container_isjmo_1",XZ="_game_isjmo_12",vC={container:QZ,game:XZ};function JZ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),s=ce();p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[F]);const[o,i]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"});return c.jsx("div",{className:vC.container,children:c.jsx("iframe",{className:vC.game,src:"https://students-rating-private-ridgelds-projects.vercel.app/"})})}const eY="_container_zepfk_2",Si={container:eY,"search-container":"_search-container_zepfk_12","empty-body":"_empty-body_zepfk_40","empty-photo":"_empty-photo_zepfk_49","empty-info":"_empty-info_zepfk_59","empty-name":"_empty-name_zepfk_68"},tY="_body_68fin_2",nY="_photo_68fin_19",rY="_info_68fin_13",sY="_name_68fin_44",Ei={body:tY,"info-group":"_info-group_68fin_13",photo:nY,info:rY,name:sY,"delete-button":"_delete-button_68fin_49"};function oY({id:t,name:e,photo:n,onClick:r,canDelete:s,removeUser:o}){const{theme:i,setElementColors:a}=p.useContext(F),l=d=>{r(t)},u=d=>{d.stopPropagation(),o(t,e)};return c.jsxs("div",{className:Ei.body,style:{borderTop:`1px solid ${i.element_first_color}`},onClick:l,children:[c.jsxs("div",{className:Ei["info-group"],children:[c.jsx("div",{className:Ei.photo,children:c.jsx("img",{src:n,alt:"ава"})}),c.jsx("div",{className:Ei.info,children:c.jsx("div",{className:Ei.name,style:{color:i.text_first_color},children:e})})]}),s&&c.jsx("button",{className:Ei["delete-button"],style:{background:i.element_first_color},onClick:u,children:c.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function iY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),r=ce(),[s]=RI(),{id:o}=Ar(),{authUser:i}=pe(),a=s.get("isGroup")==="true",[l,u]=p.useState([]),[d,h]=p.useState(""),[f,m]=p.useState(!1),[v,w]=p.useState(!1),[x,_]=p.useState({isShow:!1,text:""}),y=async()=>{try{if(m(!0),!o){console.error("ID не найден в параметрах запроса");return}const k=Q(q,a?"groups":"users",o,"info",a?"info":"preferences"),T=await le(k);if(T.exists()){const S=T.data(),E=a?S.members:S.followers||[];(a?S.owner:S.uid)===i._id&&w(!0);const j=await Promise.all(E.map(async N=>{const O=Q(q,"users",N,"info","preferences"),A=await le(O);if(A.exists()){const R=A.data();return{uid:N,name:R.name||"Без имени",photo:R.photo||""}}return null}));u(j.filter(Boolean))}}catch(k){console.error("Ошибка загрузки данных:",k)}finally{m(!1)}};p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:a?()=>r(`/group/${o}`):()=>r(`/profile/${o}`),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t,o,a,r]),p.useEffect(()=>{y()},[o,a]);const g=k=>{h(k.target.value)},C=l.filter(k=>k.name.toLowerCase().includes(d.toLowerCase())),b=async(k,T)=>{try{if(a){const S=Q(q,"groups",o,"info","info"),E=await le(S);if(E.exists()){const j=E.data().members.filter(N=>N!==k);await ut(S,{members:j},{merge:!0}),_({isShow:!0,text:`Вы удалили ${T} из подписчиков `}),y(),console.log(`Пользователь ${k} удалён из группы`)}}else{const S=Q(q,"users",o,"info","preferences"),E=await le(S);if(E.exists()){const j=E.data().subscribers.filter(N=>N!==k);await ut(S,{followers:j},{merge:!0}),_({isShow:!0,text:`Вы удалили ${T} из подписчиков `}),y(),console.log(`Пользователь ${k} удалён из подписчиков`)}}}catch(S){console.error("Ошибка при удалении пользователя:",S)}};return c.jsxs("div",{className:Si.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                    width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                    background: ${t.first_color};
                    border-radius: 5px;
                }
                ::-webkit-scrollbar-track {
                    background-color: rgba(0, 0, 0, 0.3);
                }
            `}),c.jsx(Pt,{isShow:x.isShow,text:x.text}),c.jsx(r6,{value:d,onChange:g,placeholder:"Подписчики"}),c.jsx("div",{className:Si["search-container"],children:f?Array.from({length:2}).map((k,T)=>c.jsxs("div",{className:Si["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:Si["empty-photo"],children:c.jsx(bn,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:Si["empty-info"],children:c.jsx("div",{className:Si["empty-name"],style:{color:t.text_first_color},children:c.jsx(bn,{height:"10px",width:"100px",shape:"rect"})})})]},T)):C.map((k,T)=>c.jsx(oY,{id:k.uid,name:k.name,photo:k.photo,canDelete:v,removeUser:b,onClick:()=>r(`/profile/${k.uid}`)},T))})]})}const aY="_container_1e7tt_1",lY="_board_1e7tt_8",cY="_controls_1e7tt_15",xn={container:aY,board:lY,controls:cY,"input-container":"_input-container_1e7tt_22","input-data":"_input-data_1e7tt_30","check-button":"_check-button_1e7tt_48","show-name-button":"_show-name-button_1e7tt_65","next-button":"_next-button_1e7tt_82","bottom-controls":"_bottom-controls_1e7tt_99","answer-display":"_answer-display_1e7tt_107"},_o=[{id:1,name:"Горизонтальная линия уровня",frontalProjection:[{x:2,y:5},{x:8,y:5}],horizontalProjection:[{x:2,y:3},{x:8,y:6}]},{id:2,name:"Фронтально проецирующая линия",frontalProjection:[{x:5,y:5}],horizontalProjection:[{x:5,y:2},{x:5,y:6}]},{id:3,name:"Линия общего положения",frontalProjection:[{x:1,y:3},{x:9,y:7}],horizontalProjection:[{x:1,y:7},{x:9,y:3}]},{id:4,name:"Фронтальная линия уровня",frontalProjection:[{x:3,y:5},{x:4,y:4},{x:5,y:3.5},{x:6,y:3.2},{x:7,y:3.5},{x:8,y:4},{x:9,y:5}],horizontalProjection:[{x:3,y:5},{x:9,y:5}]},{id:5,name:"Горизонтально проецирующая линия",frontalProjection:[{x:5,y:3},{x:5,y:7}],horizontalProjection:[{x:5,y:4}]},{id:6,name:"Профильная линия уровня",frontalProjection:[{x:5,y:3},{x:5,y:7}],horizontalProjection:[{x:5,y:3},{x:5,y:7}]},{id:7,name:"Профильно проецирующая линия",frontalProjection:[{x:4,y:5},{x:9,y:5}],horizontalProjection:[{x:4,y:5},{x:9,y:5}]},{id:8,name:"Фронтально проецирующая плоскость",frontalProjection:[{x:4,y:3},{x:9,y:5}],horizontalProjection:[{x:4,y:3},{x:9,y:5},null,{x:9,y:3},{x:4,y:5}]},{id:9,name:"Фронтальная плоскость уровня",frontalProjection:[{x:4,y:3},{x:9,y:3},null,{x:4,y:6},{x:9,y:6}],horizontalProjection:[{x:4,y:5},{x:9,y:5}]},{id:10,name:"Фронтальная плоскость уровня",frontalProjection:[{x:2.5,y:3},{x:1,y:3},{x:1,y:6},{x:2.5,y:6},null,{x:1,y:4.5},{x:2.5,y:4.5},null,{x:3.5,y:3},{x:3.5,y:6},{x:5,y:6},null,{x:6.3,y:3},{x:6,y:3},{x:6,y:6},{x:6.3,y:6},{x:7,y:5.7},{x:7.5,y:5},{x:7.5,y:4},{x:7,y:3.3},{x:6.3,y:3},null,{x:8.5,y:6},{x:9.25,y:3},{x:10,y:6},null,{x:8.75,y:5},{x:9.75,y:5},null,{x:11,y:6},{x:11,y:3},{x:12.5,y:6},{x:12.5,y:3}],horizontalProjection:[{x:1,y:5},{x:2.5,y:5},null,{x:3.5,y:5},{x:5,y:5},null,{x:6,y:5},{x:7.5,y:5},null,{x:8.5,y:5},{x:10,y:5},null,{x:11,y:5},{x:12.5,y:5},null]},{id:11,name:"Фронтально проецирующая плоскость",frontalProjection:[{x:4,y:3},{x:9,y:5}],horizontalProjection:[{x:4,y:3},{x:9,y:3},null,{x:4,y:6},{x:9,y:6}]},{id:12,name:"Zа наших!",frontalProjection:[{x:4,y:3},{x:9,y:3},{x:4,y:6},{x:9,y:6}],horizontalProjection:[{x:4,y:3},{x:6.5,y:6},{x:9,y:3}]},{id:13,name:"Горизонтально проецирующая плоскость",frontalProjection:[{x:4,y:6},{x:6.5,y:3},{x:9,y:6},{x:4,y:6}],horizontalProjection:[{x:4,y:3},{x:9,y:5}]},{id:14,name:"Горизонтальная плоскость уровня",frontalProjection:[{x:4,y:5},{x:9,y:5}],horizontalProjection:[{x:4,y:6},{x:4.5,y:5},{x:5.5,y:4.2},{x:6.5,y:4},{x:7.5,y:4.2},{x:8.5,y:5},{x:9,y:6}]},{id:15,name:"Плоскость общего положения",frontalProjection:[{x:4,y:3},{x:9,y:6}],horizontalProjection:[{x:4,y:2},{x:9,y:5},null,{x:4,y:4},{x:9,y:7}]},{id:16,name:"Плоскость общего положения",frontalProjection:[{x:6,y:7},{x:8,y:7},{x:9.5,y:5},{x:8,y:3},{x:6,y:3},{x:4.5,y:5},{x:6,y:7}],horizontalProjection:[{x:6,y:7},{x:8,y:7},{x:9.5,y:5},{x:8,y:3},{x:6,y:3},{x:4.5,y:5},{x:6,y:7}]}];function uY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),s=ce(),o=p.useRef(),[i,a]=p.useState(0),[l,u]=p.useState(0),[d,h]=p.useState(""),[f,m]=p.useState(!1),[v,w]=p.useState(null),[x,_]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[y,g]=p.useState({width:400,height:600});p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[t]);const C=()=>{const j=window.innerWidth<768,N=j?window.innerWidth-40:600,O=j?350:Math.min(window.innerHeight-100,300);g({width:Math.min(window.innerWidth-40,N),height:O})};p.useEffect(()=>{window.addEventListener("resize",C),C();const j=Math.floor(Math.random()*_o.length);return u(j),()=>{window.removeEventListener("resize",C)}},[]),p.useEffect(()=>{const j=o.current;if(!j)return;const N=j.getContext("2d"),O=20,A=Math.floor(y.width/O),R=Math.floor(y.height/O);N.clearRect(0,0,y.width,y.height),b(N,O,A,R);const D={x:0,y:0,width:y.width,height:y.height/2},L={x:0,y:y.height/2,width:y.width,height:y.height/2};N.beginPath(),N.moveTo(0,y.height/2),N.lineTo(y.width,y.height/2),N.strokeStyle=t.text_first_color,N.lineWidth=2,N.stroke();const P=_o[l];k(N,P.frontalProjection,O,D,t.third_color),k(N,P.horizontalProjection,O,L,t.first_color),N.font="16px Inter",N.fillStyle=t.text_first_color,N.fillText("Фронтальная проекция",10,20),N.fillText("Горизонтальная проекция",10,y.height/2+20)},[y,l]);const b=(j,N,O,A)=>{j.beginPath(),j.strokeStyle=t.element_second_color,j.lineWidth=.5;for(let R=0;R<=O;R++)j.moveTo(R*N,0),j.lineTo(R*N,y.height);for(let R=0;R<=A;R++)j.moveTo(0,R*N),j.lineTo(y.width,R*N);j.stroke()},k=(j,N,O,A,R)=>{if(N.length===0)return;j.strokeStyle=R,j.lineWidth=2,j.fillStyle=R;let D=null;N.forEach((L,P)=>{if(L===null){D=null;return}const M=A.x+L.x*O,B=A.y+L.y*O;D!==null&&(j.beginPath(),j.moveTo(D.x,D.y),j.lineTo(M,B),j.stroke()),j.beginPath(),j.arc(M,B,4,0,Math.PI*2),j.fill(),D={x:M,y:B}})},T=j=>{h(j.target.value),w(null)},S=()=>{const j=_o[l].name.toLowerCase();d.toLowerCase()===j?(w(!0),a(O=>O+1),_({isShow:!0,title:"Правильно!",text:"Вы правильно определили линию.",firstButtonName:"Выйти",secondButtonName:"Далее",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:E})):(w(!1),_({isShow:!0,title:"Неверно!",text:`Правильный ответ: ${_o[l].name}`,firstButtonName:"Выйти",secondButtonName:"Далее",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:E}))},E=()=>{let j;do j=Math.floor(Math.random()*_o.length);while(j===l&&_o.length>1);u(j),h(""),m(!1),w(null),_({isShow:!1})},I=()=>{m(!0)};return c.jsxs("div",{className:xn.container,children:[c.jsx(go,{title:x.title,text:x.text,isShow:x.isShow,firstButtonName:x.firstButtonName,secondButtonName:x.secondButtonName,firstButtonOnClick:x.firstButtonOnClick,secondButtonOnClick:x.secondButtonOnClick}),c.jsx("canvas",{ref:o,width:y.width,height:y.height,className:xn.board,style:{background:t.element_first_color}}),f&&c.jsxs("div",{className:xn["answer-display"],style:{background:t.element_first_color,color:t.text_first_color,border:`1px solid ${t.text_first_color}`},children:["Название: ",_o[l].name]}),c.jsxs("div",{className:xn.controls,children:[c.jsxs("div",{className:xn["input-container"],children:[c.jsx("input",{type:"text",placeholder:"Название",value:d,className:xn["input-data"],style:{color:t.text_first_color,caretColor:t.first_color,backgroundColor:t.element_first_color,"--placeholder-color":t.text_third_color},onChange:T}),c.jsx("button",{className:xn["check-button"],style:{color:t.text_first_color,background:t.first_color},onClick:S,children:"Проверить"})]}),c.jsxs("div",{className:xn["bottom-controls"],children:[c.jsx("button",{className:xn["show-name-button"],style:{color:t.text_first_color,background:t.element_first_color},onClick:I,children:"Показать название"}),c.jsx("button",{className:xn["next-button"],style:{color:t.text_first_color,background:t.first_color},onClick:E,children:"Далее"})]}),v!==null&&!x.isShow&&c.jsx("div",{className:`${xn.result} ${v?xn.correct:xn.incorrect}`,children:v?"Правильно!":"Неверно!"})]})]})}const dY=()=>{const{id:t}=Ar(),e=ce();p.useRef(null);const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),{authUser:o}=pe(),[i,a]=p.useState(null),[l,u]=p.useState(null),[d,h]=p.useState(!0),[f,m]=p.useState({isShow:!1,images:[],index:null}),[v,w]=p.useState({isShow:!1,text:""}),[x,_]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"});p.useEffect(()=>{if(v.isShow){const A=setTimeout(()=>{w({isShow:!1})},1e3);return()=>clearTimeout(A)}},[v]),p.useEffect(()=>{if(!i)return;const A=(R,D)=>{let L=document.querySelector(`meta[${R.includes("og:")||R.includes("twitter:")?"property":"name"}="${R}"]`);L||(L=document.createElement("meta"),L.setAttribute(R.includes("og:")||R.includes("twitter:")?"property":"name",R),document.head.appendChild(L)),L.setAttribute("content",D)};A("description",i.description||"Описание поста"),A("author",i.userName||"Автор неизвестен"),A("og:title",i.text),A("og:description",i.description||"Описание поста"),A("og:image",i.postPhotos[0]||"default-image-url"),A("og:url",`https://ridgeld.github.io/genery/#/post/${t}`),A("twitter:title",i.text),A("twitter:image",i.postPhotos[0]||"default-image-url")},[i,t]),p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:()=>e("/posts"),isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:3}),document.body.style.background=n.background_color},[n,s,e]),p.useEffect(()=>{(async()=>{try{const R=Q(q,"posts",t),D=await le(R);if(D.exists()){const L=D.data(),M=new Date(L.timestamp).toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});a({id:D.id,userId:L.userId,groupOwnerId:L.groupOwnerId,userName:L.userName,userPhoto:L.userPhoto,postText:L.text,postPhotos:L.photos,postData:M,likesArray:L.likesArray})}}catch(R){console.error("Ошибка при загрузке поста:",R)}finally{h(!1)}})()},[t]),p.useEffect(()=>{const A=In(q,"posts",t,"comments"),R=Wa(A,Ga("timestamp","asc")),D=pi(R,L=>{const P=L.docs.map(M=>({commentId:M.id,...M.data()}));u(P)});return()=>D()},[t]);const y=(A,R)=>{m({isShow:!0,images:A,index:R})},g=()=>{_({isShow:!1})},C=(A,R)=>{switch(A){case"delete":return _({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:g,secondButtonOnClick:()=>deletePost(R)});default:return _({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}},[b,k]=p.useState(null),T=async A=>{const R=b?A.replace(`@${b.userName} `,""):A;try{const D=Q(In(q,"posts",t,"comments")),P={commentId:D.id,text:R,timestamp:Date.now(),userId:o._id,userName:o.name,userPhoto:o.avatar,replyTo:b?b.commentId:null,isReply:!!b};if(await ut(D,P),b){const M=Q(q,"posts",t,"comments",b.commentId);await is(M,{replyCount:SD(1)})}k(null),E("")}catch(D){console.error("Ошибка при добавлении комментария: ",D)}},[S,E]=p.useState(null),I=A=>{e(`/profile/${A}`)},j=A=>{console.log("Ответ на комментарий:",A),k(A),E(`@${A.userName} `)};if(d)return c.jsx(Tt,{});if(!i)return c.jsx("p",{children:"Пост не найден."});l.filter(A=>!A.replyTo);const N=A=>l.filter(R=>R.replyTo===A),O=()=>{E("")};return c.jsxs("div",{className:ue.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${n.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(mo,{isShow:f.isShow,images:f.images,index:f.index,onClose:()=>m({isShow:!1})}),c.jsx(go,{title:x.title,text:x.text,isShow:x.isShow,firstButtonName:x.firstButtonName,secondButtonName:x.secondButtonName,firstButtonOnClick:x.firstButtonOnClick,secondButtonOnClick:x.secondButtonOnClick}),c.jsx(Pt,{isShow:v.isShow,text:v.text}),c.jsx(mu,{postId:i.id,userId:i.userId,groupOwnerId:i.groupOwnerId,userName:i.userName,userPhoto:i.userPhoto,postData:i.postData,postText:i.postText,postPhotos:i.postPhotos,likesArray:i.likesArray,photoClick:y,postAction:C},i.id),c.jsxs("div",{className:ue["comments-container"],children:[l&&l.filter(A=>!A.isReply).map(A=>c.jsx(OG,{userId:A.userId,userPhoto:A.userPhoto,userName:A.userName,text:A.text,showUserProfile:I,onReply:j,replies:N(A.commentId),timestamp:A.timestamp,commentId:A.commentId},A.commentId)),c.jsx("div",{className:ue["fixed-input"],style:{background:n.background_color},children:c.jsx(Sp,{placeholder:"Оставьте комментарий",Addtext:S&&`<div style="color: ${n.first_color};">${S}</div>`,onClearText:O,isPanelTop:!1,onSend:T,addFiles:!1})})]})]})},hY="_wrapper_sos77_1",fY="_info_sos77_36",pY="_text_sos77_70",ys={wrapper:hY,"close-button":"_close-button_sos77_13",info:fY,text:pY,"absolute-svg":"_absolute-svg_sos77_84","skip-button":"_skip-button_sos77_91"};function mY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState(localStorage.getItem("isBannerShow")),o=ce();p.useEffect(()=>{const a=document.querySelector(".install_button");return a&&(a.style.display="flex"),()=>{a&&(a.style.display="none")}},[]);const i=()=>{localStorage.setItem("isBannerShow",!1),o("/menu")};return c.jsxs("div",{className:ys.wrapper,style:{background:"#0040F9"},children:[c.jsx("button",{className:ys["close-button"],onClick:()=>o("/menu"),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.4467 1.5533L9 9.10661M16.5533 16.6599L9 9.10661M9 9.10661L16.5533 1.5533M9 9.10661L1.4467 16.6599",stroke:"#fff","stroke-width":"2","stroke-linecap":"round"})})}),c.jsxs("div",{className:ys.info,children:[c.jsx("h4",{className:ys.hashtag,children:"# 2 года"}),c.jsxs("h1",{className:ys.title,children:["СКАЧАЙ ",c.jsx("br",{})," ПРИЛОЖЕНИЕ"]}),c.jsxs("span",{className:ys.text,children:["Устал искать ссылку на сайт?",c.jsx("br",{}),"Добавь его на главный экран и не парься"]})]}),c.jsx("div",{className:ys["absolute-svg"],children:c.jsx("svg",{width:"1203",height:"345",viewBox:"0 0 1203 345",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 96.3389L82.8243 170.06L156.649 96.3389L230.473 170.06L278.517 81.5166L328.905 236.37L386.715 117.792L437.103 195.024L506.631 39L559.362 298L633 66L704 236.37L789 117.792L866 236.37L978 81.5166L1024 195.024L1096.5 96.3389L1192.5 236.37",stroke:"#C3F82B","stroke-width":"23.4802"})})}),c.jsx("button",{className:ys["skip-button"],onClick:i,children:"Пропустить"})]})}const gY={};function yY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),r=ce();return p.useEffect(()=>{n({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!1,arrowColor:t.text_first_color,arrowLink:()=>r("/posts"),isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t,n,r]),c.jsx("div",{className:gY.container,children:c.jsx(mY,{})})}const _Y="_container_bxems_1",vY="_greeting_bxems_22",wY="_error_bxems_54",lr={container:_Y,"auth-form":"_auth-form_bxems_12",greeting:vY,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:wY,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function xY(){const[t,e]=p.useState(""),[n,r]=p.useState(""),{authUser:s,ga:o}=pe(),i=ce(),{theme:a,setElementColors:l}=p.useContext(F);p.useEffect(()=>{l({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!1,arrowColor:a.text_first_color,isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:3,background:a.background_color}),document.body.style.background=a.background_color},[a]);const u=async d=>{d.preventDefault();try{await E9(o,t),r("Письмо для сброса пароля отправлено! Проверьте почту.")}catch(h){r("Ошибка: "+h.message)}};return c.jsx("div",{className:lr.container,children:c.jsxs("form",{className:lr["auth-form"],onSubmit:u,children:[c.jsxs("div",{className:lr.greeting,children:[c.jsx("h2",{className:lr["greeting-title"],style:{color:a.text_first_color},children:"Введите свой email"}),c.jsx("h3",{className:lr["greeting-text"],style:{color:a.text_first_color},children:"И мы отправим вас в ссылку"})]}),c.jsxs("div",{className:lr["input-container"],children:[c.jsx("div",{className:lr.error,style:{color:a.gradient_first_color},children:n}),c.jsx(Er,{type:"email",placeholder:"Введите email",onInputChange:d=>e(d.target.value),backgroundColor:a.element_first_color,textColor:a.text_first_color,placeholderColor:a.text_second_color})]}),c.jsxs("div",{className:lr["button-container"],children:[c.jsxs("button",{type:"submit",className:lr["continue-button"],style:{background:a.first_color},children:["Отправить письмо",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:lr["create-account"],style:{color:a.text_first_color},onClick:()=>i("/sign-in"),children:"Войти"})]})]})})}const CY="_container_bxems_1",bY="_greeting_bxems_22",kY="_error_bxems_54",cr={container:CY,"auth-form":"_auth-form_bxems_12",greeting:bY,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:kY,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function SY(){const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,o]=p.useState("null"),[i,a]=p.useState(""),[l,u]=p.useState(""),d=pf(),{authUser:h,ga:f}=pe(),{theme:m,setElementColors:v}=p.useContext(F),w=ce();p.useEffect(()=>{v({iconColor:m.icon_color,titleColor:m.text_first_color,showArrow:!1,arrowColor:m.text_first_color,isHeaderBackground:!0,headerBackground:m.background_color,isHeader:!0,isFooter:!1,footerBackground:m.background_color,activeElementIndex:3,background:m.background_color}),document.body.style.background=m.background_color},[m]),p.useEffect(()=>{const y=new URLSearchParams(d.search).get("oobCode");console.log("oobCode:",y),y?u(y):a("Ошибка: код сброса отсутствует.")},[]);const x=async _=>{if(_.preventDefault(),n.length<6){a("Пароль должен содержать минимум 6 символов");return}if(n!==s){a("Пароли не совпадают");return}try{await sA(f,l,n),a("Пароль успешно изменен! Теперь вы можете войти."),setTimeout(()=>w("/sign-in"),3e3)}catch(y){a("Ошибка: "+y.message)}};return c.jsx("div",{className:cr.container,children:c.jsxs("form",{className:cr["auth-form"],onSubmit:x,children:[c.jsxs("div",{className:cr.greeting,children:[c.jsx("h2",{className:cr["greeting-title"],style:{color:m.text_first_color},children:"Придумайте новый пароль"}),c.jsx("h3",{className:cr["greeting-text"],style:{color:m.text_first_color},children:"А мы его все равно узнаем"})]}),c.jsxs("div",{className:cr["input-container"],children:[c.jsx("div",{className:cr.error,style:{color:m.gradient_first_color},children:i}),c.jsx(Er,{type:"password",placeholder:"Введите пароль",onInputChange:_=>r(_.target.value),backgroundColor:m.element_first_color,textColor:m.text_first_color,placeholderColor:m.text_second_color}),c.jsx(Er,{type:"password",placeholder:"Повторите пароль",onInputChange:_=>o(_.target.value),backgroundColor:m.element_first_color,textColor:m.text_first_color,placeholderColor:m.text_second_color})]}),c.jsxs("div",{className:cr["button-container"],children:[c.jsxs("button",{type:"submit",className:cr["continue-button"],style:{background:m.first_color},children:["Подтвердить",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:cr["create-account"],style:{color:m.text_first_color},onClick:()=>w("/sign-in"),children:"Войти"})]})]})})}const EY="_container_9sinb_1",TY="_greeting_9sinb_22",IY="_error_9sinb_55",ur={container:EY,"auth-form":"_auth-form_9sinb_12",greeting:TY,"greeting-title":"_greeting-title_9sinb_31","greeting-text":"_greeting-text_9sinb_38","input-container":"_input-container_9sinb_45",error:IY,"button-container":"_button-container_9sinb_78","continue-button":"_continue-button_9sinb_85","create-account":"_create-account_9sinb_105"};function NY(){const[t,e]=p.useState(""),[n,r]=p.useState(""),{authUser:s,ga:o}=pe(),i=ce(),{theme:a,setElementColors:l}=p.useContext(F);p.useEffect(()=>{l({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!0,arrowColor:a.text_first_color,arrowLink:()=>i("/settings"),isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:3,background:a.background_color}),document.body.style.background=a.background_color},[a]);const u=async d=>{d.preventDefault();try{await E9(o,s.email),r("Письмо для сброса пароля отправлено! Проверьте почту.")}catch(h){r("Ошибка: "+h.message)}};return c.jsx("div",{className:ur.container,children:c.jsxs("form",{className:ur["auth-form"],onSubmit:u,children:[c.jsxs("div",{className:ur.greeting,children:[c.jsx("h2",{className:ur["greeting-title"],style:{color:a.text_first_color},children:"Мы отправим письмо на ваш email"}),c.jsx("h3",{className:ur["greeting-text"],style:{color:a.text_first_color},children:"Перейдите по ссылке в письме для сброса пароля"})]}),c.jsx("div",{className:ur["input-container"],children:c.jsx("div",{className:ur.error,style:{color:a.gradient_first_color},children:n})}),c.jsxs("div",{className:ur["button-container"],children:[c.jsxs("button",{type:"submit",className:ur["continue-button"],style:{background:a.first_color},children:["Отправить письмо",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:ur["create-account"],style:{color:a.text_first_color},onClick:()=>i("/settings"),children:"Отмена"})]})]})})}const jY=[{path:"/",exact:!0,component:c.jsx(qM,{}),auth:!1},{path:"/sign-up",exact:!1,component:c.jsx(ZM,{}),auth:!1},{path:"/sign-in",exact:!1,component:c.jsx(Ek,{}),auth:!0},{path:"/resetpassword",exact:!0,component:c.jsx(xY,{}),banner:!0,auth:!1},{path:"/authresetpassword",exact:!0,component:c.jsx(NY,{}),banner:!0,auth:!0},{path:"/setnewpassword/*",exact:!1,component:c.jsx(SY,{}),banner:!0,auth:!1},{path:"/about",exact:!1,component:c.jsx(oB,{}),auth:!1},{path:"/menu",exact:!0,component:c.jsx(gB,{}),auth:!0},{path:"/messenger",exact:!0,component:c.jsx(zW,{}),auth:!0},{path:"/timetable/:id?",exact:!0,component:c.jsx(yG,{}),auth:!0},{path:"/list-menu",exact:!0,component:c.jsx(xG,{}),auth:!0},{path:"/posts",exact:!0,component:c.jsx(DG,{}),auth:!0},{path:"/post/:id?",exact:!0,component:c.jsx(dY,{}),auth:!0},{path:"/settings",exact:!0,component:c.jsx(VG,{}),auth:!0},{path:"/cashback",exact:!0,component:c.jsx(GG,{}),auth:!1},{path:"/shop",exact:!0,component:c.jsx(JG,{}),auth:!0},{path:"/casino",exact:!0,component:c.jsx(yK,{}),auth:!0},{path:"/updates",exact:!0,component:c.jsx(bK,{}),auth:!0},{path:"/download/:id?",exact:!1,component:c.jsx(PK,{}),auth:!0},{path:"/profile/:id?",exact:!1,component:c.jsx(FK,{}),auth:!0},{path:"/game-menu",exact:!0,component:c.jsx(GK,{}),auth:!0},{path:"/tapcoin",exact:!0,component:c.jsx(eZ,{}),auth:!0},{path:"/rocket",exact:!0,component:c.jsx(lZ,{}),auth:!0},{path:"/quiz/:mode?",exact:!1,component:c.jsx(xZ,{}),auth:!0},{path:"/search",exact:!0,component:c.jsx(AZ,{}),auth:!0},{path:"/test",exact:!0,component:c.jsx(KK,{}),auth:!0},{path:"/group/:id?",exact:!1,component:c.jsx($Z,{}),auth:!0},{path:"/subscribers/:id?",exact:!1,component:c.jsx(iY,{}),auth:!0},{path:"/group-list",exact:!1,component:c.jsx(BZ,{}),auth:!0},{path:"/create-group",exact:!1,component:c.jsx(qZ,{}),auth:!0},{path:"/matrix",exact:!0,component:c.jsx(GZ,{}),auth:!1},{path:"/flippybird",exact:!0,component:c.jsx(YZ,{}),auth:!1},{path:"/rating",exact:!0,component:c.jsx(JZ,{}),auth:!1},{path:"/guessline",exact:!0,component:c.jsx(uY,{}),auth:!1},{path:"/banner",exact:!0,component:c.jsx(yY,{}),banner:!0,auth:!1}],AY="_heading_qnxvq_34",pl={"content-wrapper":"_content-wrapper_qnxvq_1","img-wrapper":"_img-wrapper_qnxvq_13","image-no-select":"_image-no-select_qnxvq_26",heading:AY};function PY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F);return p.useEffect(()=>{n({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:"#/menu",isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[F]),c.jsxs("div",{className:pl.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsxs("div",{className:pl["content-wrapper"],style:{background:t.first_color},children:[c.jsxs("div",{className:pl["img-wrapper"],children:[c.jsx("div",{className:pl["image-no-select"]}),c.jsx("img",{src:"4.png"})]}),c.jsx("h3",{className:pl.heading,style:{color:t.text_first_color},children:"Страница не найдена"})]})]})}function LY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),{authUser:r}=pe(),[s,o]=p.useState(!1);return p.useEffect(()=>{const i=kk.onAuthStateChanged(a=>{o(!0)});return()=>i()},[]),s?c.jsx(LI,{children:c.jsxs(NI,{children:[jY.map(i=>c.jsx(H1,{path:i.path,element:i.auth&&!r?c.jsx(Ek,{}):i.component,exact:i.exact},i.path)),c.jsx(H1,{path:"*",element:c.jsx(PY,{})})," "]})}):c.jsx(z4,{color:t.icon_color})}function RY(){return c.jsx(HM,{children:c.jsx(LY,{})})}const OY="_header_oh6ql_1",DY="_logo_container_oh6ql_14",MY="_icon_oh6ql_22",$Y="_masked_oh6ql_28",FY="_title_oh6ql_34",BY="_show_oh6ql_41",UY="_hide_oh6ql_51",vo={header:OY,logo_container:DY,icon:MY,masked:$Y,title:FY,show:BY,hide:UY};function VY(t){const{elementColors:e}=p.useContext(F);return e.isHeader?c.jsxs("div",{className:vo.header,style:{background:e.isHeaderBackground?e.headerBackground:"transparent"},children:[c.jsxs("div",{className:vo.logo_container,children:[c.jsxs("div",{className:vo.icon,children:[c.jsx("div",{className:vo.masked,style:{background:e.iconColor}}),c.jsx("svg",{width:"0",height:"0",children:c.jsx("clipPath",{id:"light",children:c.jsx("path",{d:"M9.54642 0.0769926C9.65318 0.14082 9.7358 0.240097 9.78078 0.358606C9.82576 0.477116 9.83043 0.607851 9.79404 0.729455L7.82939 7.31258H11.4543C11.5609 7.31254 11.6651 7.34466 11.7541 7.405C11.8431 7.46533 11.9131 7.55122 11.9553 7.65208C11.9975 7.75293 12.0102 7.86433 11.9917 7.97253C11.9733 8.08072 11.9245 8.18097 11.8514 8.2609L3.12447 17.8229C3.04003 17.9155 2.92766 17.9758 2.80569 17.9941C2.68371 18.0124 2.55932 17.9876 2.45279 17.9237C2.34625 17.8597 2.26386 17.7605 2.21904 17.6421C2.17421 17.5237 2.1696 17.3931 2.20596 17.2716L4.17061 10.6874H0.545652C0.439123 10.6874 0.334914 10.6553 0.245888 10.595C0.156862 10.5346 0.0869167 10.4487 0.044687 10.3479C0.00245728 10.247 -0.0102083 10.1356 0.00825369 10.0274C0.0267157 9.91925 0.0754969 9.819 0.148576 9.73907L8.87553 0.177112C8.95987 0.0846411 9.07206 0.0243103 9.19387 0.00592874C9.31567 -0.0124528 9.43992 0.0121961 9.54642 0.0758676V0.0769926Z"})})})]}),c.jsx("div",{className:vo.title,style:{color:e.titleColor},children:"GENERY"})]}),c.jsx("a",{onClick:e.arrowLink,className:e.showArrow?vo.show:vo.hide,children:c.jsx("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M21 9C21.5523 9 22 8.55228 22 8C22 7.44772 21.5523 7 21 7L21 9ZM0.292893 7.2929C-0.0976311 7.68342 -0.097631 8.31658 0.292893 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928933C7.68054 0.538409 7.04738 0.538409 6.65685 0.928933L0.292893 7.2929ZM21 7L1 7L1 9L21 9L21 7Z",fill:e.titleColor})})})]}):null}const zY="_footer_frqas_1",HY="_item_frqas_14",Wh={footer:zY,"item-body":"_item-body_frqas_14",item:HY,"item-bg":"_item-bg_frqas_34"};function qY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F);return c.jsx(ot.div,{className:Wh["item-bg"],layoutId:"activeItem",style:{background:t.active_element_color}})}function WY({icon:t,link:e,isActive:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F);return c.jsxs(ot.a,{className:Wh["item-body"],layout:!0,onMouseEnter:a=>{a.currentTarget.style.background=r.active_element_color},onMouseLeave:a=>{a.currentTarget.style.background="none"},href:e,children:[c.jsx("div",{className:Wh.item,children:t}),n&&c.jsx(qY,{})]})}function GY(){const{elementColors:t,theme:e}=p.useContext(F),n=[{icon:c.jsx("svg",{width:"26",height:"25",viewBox:"0 0 26 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M24.5 21.4781V12.988C24.5 12.3039 24.359 11.6269 24.0855 10.9982C23.812 10.3696 23.4118 9.80239 22.9092 9.3312L14.7608 1.69353C14.2858 1.24827 13.6557 1 13.0006 1C12.3455 1 11.7154 1.24827 11.2405 1.69353L3.09083 9.3312C2.58822 9.80239 2.188 10.3696 1.91452 10.9982C1.64103 11.6269 1.5 12.3039 1.5 12.988V21.4781C1.5 22.1469 1.76925 22.7884 2.2485 23.2613C2.72776 23.7343 3.37778 24 4.05556 24H21.9444C22.6222 24 23.2722 23.7343 23.7515 23.2613C24.2308 22.7884 24.5 22.1469 24.5 21.4781Z",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),link:"#/menu"},{icon:c.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M19.0976 18.396C20.6844 16.5982 21.6472 14.2366 21.6472 11.6501C21.6472 6.01758 17.0811 1.45151 11.4486 1.45151C5.81607 1.45151 1.25 6.01758 1.25 11.6501C1.25 17.2827 5.81607 21.8487 11.4486 21.8487C14.4947 21.8487 17.2288 20.5133 19.0976 18.396ZM19.0976 18.396L24.25 23.5485",stroke:e.text_first_color,"stroke-width":"2","stroke-linejoin":"round"})}),link:"#/search"},{icon:c.jsx("svg",{width:"26",height:"23",viewBox:"0 0 26 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M13 13.1C14.1573 13.1 15.2672 12.6364 16.0856 11.8113C16.9039 10.9861 17.3636 9.86695 17.3636 8.7C17.3636 7.53305 16.9039 6.41389 16.0856 5.58873C15.2672 4.76357 14.1573 4.3 13 4.3C11.8427 4.3 10.7328 4.76357 9.91444 5.58873C9.0961 6.41389 8.63636 7.53305 8.63636 8.7C8.63636 9.86695 9.0961 10.9861 9.91444 11.8113C10.7328 12.6364 11.8427 13.1 13 13.1ZM13 13.1C11.264 13.1 9.59918 13.7954 8.37167 15.0331C7.14415 16.2708 6.45455 17.9496 6.45455 19.7V23M13 13.1C14.736 13.1 16.4008 13.7954 17.6283 15.0331C18.8558 16.2708 19.5455 17.9496 19.5455 19.7V23M14.0909 4.3C14.5316 2.4696 16.2891 1 18.4545 1C20.824 1 22.7964 2.969 22.8182 5.4C22.7964 7.831 20.824 9.8 18.4545 9.8M18.4545 9.8H17.3636M18.4545 9.8C22.0415 9.8 25 12.7546 25 16.4V18.6M11.9091 4.3C11.4684 2.4696 9.71091 1 7.54545 1C5.176 1 3.20364 2.969 3.18182 5.4C3.20364 7.831 5.176 9.8 7.54545 9.8M7.54545 9.8H8.63636M7.54545 9.8C3.95855 9.8 1 12.7546 1 16.4V18.6",stroke:e.text_first_color,"stroke-width":"2"})}),link:"#/group-list"},{icon:c.jsxs("svg",{width:"26",height:"27",viewBox:"0 0 26 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M16.8333 7.74997H16.8461M14.9167 24.3611H5.33333C4.31667 24.3611 3.34165 23.9572 2.62276 23.2383C1.90387 22.5194 1.5 21.5444 1.5 20.5278V5.19442C1.5 4.17775 1.90387 3.20273 2.62276 2.48384C3.34165 1.76495 4.31667 1.36108 5.33333 1.36108H20.6667C21.6833 1.36108 22.6584 1.76495 23.3772 2.48384C24.0961 3.20273 24.5 4.17775 24.5 5.19442V13.5",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M1.5 17.9721L7.88889 11.5832C9.07467 10.4422 10.5364 10.4422 11.7222 11.5832L16.8333 16.6944",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M15.5557 15.4167L16.8334 14.1389C17.6883 13.3173 18.6862 13.0873 19.619 13.4489M21.9446 17.9723L19.389 21.8056H24.5001L21.9446 25.6389",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),link:"#/posts"},{icon:c.jsxs("svg",{width:"26",height:"17",viewBox:"0 0 26 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M1 1.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M1 8.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M1 15.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"})]}),link:"#/list-menu"}];return t.isFooter&&c.jsx("div",{className:Wh.footer,style:{background:t.footerBackground},children:c.jsx(JH,{id:"footer",children:n.map((r,s)=>c.jsx(WY,{icon:r.icon,link:r.link,isActive:s===t.activeElementIndex},s))})})}const KY="_wrapper_u6s2n_1",ZY="_content_u6s2n_12",wC={wrapper:KY,content:ZY};function YY({children:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState(e.background_color);return p.useEffect(()=>{i(r.background)},[r]),c.jsxs(c.Fragment,{children:[c.jsx(VY,{}),c.jsx("div",{className:wC.wrapper,children:c.jsx("div",{className:wC.content,children:t})}),c.jsx(GY,{})]})}if("serviceWorker"in navigator){navigator.serviceWorker.register("/serviceworker.js",{scope:"/"}).then(e=>{console.log("Сервис-воркер зарегистрирован",e)}).catch(e=>{console.error("Ошибка при регистрации сервис-воркера:",e)});let t;window.addEventListener("beforeinstallprompt",e=>{console.log("Событие beforeinstallprompt поймано"),e.preventDefault(),t=e;const n=document.createElement("button");n.textContent="Установить приложение",n.className="install_button",document.body.appendChild(n);const r=document.createElement("div");r.innerHTML=`<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6.5 1.13605C6.5 0.583763 6.94772 0.136047 7.5 0.136047C8.05228 0.136047 8.5 0.583763 8.5 1.13605L6.5 1.13605ZM8.20711 14.5711C7.81658 14.9616 7.18342 14.9616 6.79289 14.5711L0.428932 8.20712C0.0384076 7.81659 0.0384076 7.18343 0.428932 6.7929C0.819456 6.40238 1.45262 6.40238 1.84315 6.7929L7.5 12.4498L13.1569 6.7929C13.5474 6.40238 14.1805 6.40238 14.5711 6.7929C14.9616 7.18343 14.9616 7.81659 14.5711 8.20712L8.20711 14.5711ZM8.5 1.13605L8.5 13.864L6.5 13.864L6.5 1.13605L8.5 1.13605Z" fill="#fff"/>
    </svg>`,r.className="circle",n.appendChild(r),n.addEventListener("click",()=>{t&&(t.prompt(),t.userChoice.then(s=>{s.outcome==="accepted"?console.log("Пользователь установил приложение"):(console.log("Пользователь отклонил установку"),navigateTo("/menu"))}).catch(s=>{console.error("Ошибка при установке приложения:",s)}),t=null)})})}else console.log("Service Worker не поддерживается в этом браузере.");FT.createRoot(document.getElementById("main")).render(c.jsx(vr.StrictMode,{children:c.jsx(FI,{children:c.jsx(YY,{children:c.jsx(RY,{})})})}));
