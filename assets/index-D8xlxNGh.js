function s8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o8(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var gC={exports:{}},qh={},yC={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=Symbol.for("react.element"),i8=Symbol.for("react.portal"),a8=Symbol.for("react.fragment"),l8=Symbol.for("react.strict_mode"),c8=Symbol.for("react.profiler"),u8=Symbol.for("react.provider"),d8=Symbol.for("react.context"),h8=Symbol.for("react.forward_ref"),f8=Symbol.for("react.suspense"),p8=Symbol.for("react.memo"),m8=Symbol.for("react.lazy"),ov=Symbol.iterator;function g8(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var _C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vC=Object.assign,wC={};function Ia(t,e,n){this.props=t,this.context=e,this.refs=wC,this.updater=n||_C}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xC(){}xC.prototype=Ia.prototype;function Yg(t,e,n){this.props=t,this.context=e,this.refs=wC,this.updater=n||_C}var Qg=Yg.prototype=new xC;Qg.constructor=Yg;vC(Qg,Ia.prototype);Qg.isPureReactComponent=!0;var iv=Array.isArray,CC=Object.prototype.hasOwnProperty,Zg={current:null},bC={key:!0,ref:!0,__self:!0,__source:!0};function kC(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)CC.call(e,r)&&!bC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Rc,type:t,key:o,ref:i,props:s,_owner:Zg.current}}function y8(t,e){return{$$typeof:Rc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rc}function _8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var av=/\/+/g;function Cp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_8(""+t.key):e.toString(36)}function ed(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Rc:case i8:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+Cp(i,0):r,iv(s)?(n="",t!=null&&(n=t.replace(av,"$&/")+"/"),ed(s,e,n,"",function(u){return u})):s!=null&&(Xg(s)&&(s=y8(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(av,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",iv(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Cp(o,a);i+=ed(o,e,n,l,s)}else if(l=g8(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Cp(o,a++),i+=ed(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function pu(t,e,n){if(t==null)return t;var r=[],s=0;return ed(t,r,"","",function(o){return e.call(n,o,s++)}),r}function v8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},td={transition:null},w8={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:td,ReactCurrentOwner:Zg};function SC(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Xg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Ia;_e.Fragment=a8;_e.Profiler=c8;_e.PureComponent=Yg;_e.StrictMode=l8;_e.Suspense=f8;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w8;_e.act=SC;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vC({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=Zg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)CC.call(e,l)&&!bC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Rc,type:t.type,key:s,ref:o,props:r,_owner:i}};_e.createContext=function(t){return t={$$typeof:d8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:u8,_context:t},t.Consumer=t};_e.createElement=kC;_e.createFactory=function(t){var e=kC.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:h8,render:t}};_e.isValidElement=Xg;_e.lazy=function(t){return{$$typeof:m8,_payload:{_status:-1,_result:t},_init:v8}};_e.memo=function(t,e){return{$$typeof:p8,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=td.transition;td.transition={};try{t()}finally{td.transition=e}};_e.unstable_act=SC;_e.useCallback=function(t,e){return rn.current.useCallback(t,e)};_e.useContext=function(t){return rn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return rn.current.useEffect(t,e)};_e.useId=function(){return rn.current.useId()};_e.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return rn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};_e.useRef=function(t){return rn.current.useRef(t)};_e.useState=function(t){return rn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return rn.current.useTransition()};_e.version="18.3.1";yC.exports=_e;var p=yC.exports;const gr=Hh(p),x8=s8({__proto__:null,default:gr},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C8=p,b8=Symbol.for("react.element"),k8=Symbol.for("react.fragment"),S8=Object.prototype.hasOwnProperty,E8=C8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T8={key:!0,ref:!0,__self:!0,__source:!0};function EC(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)S8.call(e,r)&&!T8.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:b8,type:t,key:o,ref:i,props:s,_owner:E8.current}}qh.Fragment=k8;qh.jsx=EC;qh.jsxs=EC;gC.exports=qh;var c=gC.exports,TC={exports:{}},Pn={},IC={exports:{}},NC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,M){var B=P.length;P.push(M);e:for(;0<B;){var W=B-1>>>1,te=P[W];if(0<s(te,M))P[W]=M,P[B]=te,B=W;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var M=P[0],B=P.pop();if(B!==M){P[0]=B;e:for(var W=0,te=P.length,ne=te>>>1;W<ne;){var de=2*(W+1)-1,Ae=P[de],Ln=de+1,vn=P[Ln];if(0>s(Ae,B))Ln<te&&0>s(vn,Ae)?(P[W]=vn,P[Ln]=B,W=Ln):(P[W]=Ae,P[de]=B,W=de);else if(Ln<te&&0>s(vn,B))P[W]=vn,P[Ln]=B,W=Ln;else break e}}return M}function s(P,M){var B=P.sortIndex-M.sortIndex;return B!==0?B:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,_=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=P)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function C(P){if(w=!1,g(P),!_)if(n(l)!==null)_=!0,D(b);else{var M=n(u);M!==null&&R(C,M.startTime-P)}}function b(P,M){_=!1,w&&(w=!1,v(S),S=-1),m=!0;var B=f;try{for(g(M),h=n(l);h!==null&&(!(h.expirationTime>M)||P&&!j());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var te=W(h.expirationTime<=M);M=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),g(M)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var de=n(u);de!==null&&R(C,de.startTime-M),ne=!1}return ne}finally{h=null,f=B,m=!1}}var k=!1,T=null,S=-1,E=5,I=-1;function j(){return!(t.unstable_now()-I<E)}function N(){if(T!==null){var P=t.unstable_now();I=P;var M=!0;try{M=T(!0,P)}finally{M?O():(k=!1,T=null)}}else k=!1}var O;if(typeof y=="function")O=function(){y(N)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,L=A.port2;A.port1.onmessage=N,O=function(){L.postMessage(null)}}else O=function(){x(N,0)};function D(P){T=P,k||(k=!0,O())}function R(P,M){S=x(function(){P(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,D(b))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var B=f;f=M;try{return P()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=f;f=P;try{return M()}finally{f=B}},t.unstable_scheduleCallback=function(P,M,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=B+te,P={id:d++,callback:M,priorityLevel:P,startTime:B,expirationTime:te,sortIndex:-1},B>W?(P.sortIndex=B,e(u,P),n(l)===null&&P===n(u)&&(w?(v(S),S=-1):w=!0,R(C,B-W))):(P.sortIndex=te,e(l,P),_||m||(_=!0,D(b))),P},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(P){var M=f;return function(){var B=f;f=M;try{return P.apply(this,arguments)}finally{f=B}}}})(NC);IC.exports=NC;var I8=IC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N8=p,Nn=I8;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jC=new Set,ql={};function Jo(t,e){na(t,e),na(t+"Capture",e)}function na(t,e){for(ql[t]=e,t=0;t<e.length;t++)jC.add(e[t])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wm=Object.prototype.hasOwnProperty,j8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lv={},cv={};function A8(t){return Wm.call(cv,t)?!0:Wm.call(lv,t)?!1:j8.test(t)?cv[t]=!0:(lv[t]=!0,!1)}function P8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R8(t,e,n,r){if(e===null||typeof e>"u"||P8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jg=/[\-:]([a-z])/g;function e0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jg,e0);jt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jg,e0);jt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jg,e0);jt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function t0(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R8(e,n,s,r)&&(n=null),r||s===null?A8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=N8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),bi=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),Gm=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),PC=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),Km=Symbol.for("react.suspense"),Ym=Symbol.for("react.suspense_list"),s0=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),RC=Symbol.for("react.offscreen"),uv=Symbol.iterator;function Wa(t){return t===null||typeof t!="object"?null:(t=uv&&t[uv]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,bp;function dl(t){if(bp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bp=e&&e[1]||""}return`
`+bp+t}var kp=!1;function Sp(t,e){if(!t||kp)return"";kp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{kp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?dl(t):""}function L8(t){switch(t.tag){case 5:return dl(t.type);case 16:return dl("Lazy");case 13:return dl("Suspense");case 19:return dl("SuspenseList");case 0:case 2:case 15:return t=Sp(t.type,!1),t;case 11:return t=Sp(t.type.render,!1),t;case 1:return t=Sp(t.type,!0),t;default:return""}}function Qm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ki:return"Fragment";case bi:return"Portal";case Gm:return"Profiler";case n0:return"StrictMode";case Km:return"Suspense";case Ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PC:return(t.displayName||"Context")+".Consumer";case AC:return(t._context.displayName||"Context")+".Provider";case r0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case s0:return e=t.displayName||null,e!==null?e:Qm(t.type)||"Memo";case ms:e=t._payload,t=t._init;try{return Qm(t(e))}catch{}}return null}function O8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qm(e);case 8:return e===n0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function D8(t){var e=LC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=D8(t))}function OC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ed(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zm(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DC(t,e){e=e.checked,e!=null&&t0(t,"checked",e,!1)}function Xm(t,e){DC(t,e);var n=Hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jm(t,e.type,Hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jm(t,e,n){(e!=="number"||Ed(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hl=Array.isArray;function Ui(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function e1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(hl(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hs(n)}}function MC(t,e){var n=Hs(e.value),r=Hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $C(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$C(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var yu,FC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(yu=yu||document.createElement("div"),yu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=yu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M8=["Webkit","ms","Moz","O"];Object.keys(kl).forEach(function(t){M8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kl[e]=kl[t]})});function BC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kl.hasOwnProperty(t)&&kl[t]?(""+e).trim():e+"px"}function UC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=BC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var $8=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n1(t,e){if(e){if($8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function r1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s1=null;function o0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var o1=null,Vi=null,zi=null;function mv(t){if(t=Dc(t)){if(typeof o1!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Qh(e),o1(t.stateNode,t.type,e))}}function VC(t){Vi?zi?zi.push(t):zi=[t]:Vi=t}function zC(){if(Vi){var t=Vi,e=zi;if(zi=Vi=null,mv(t),e)for(t=0;t<e.length;t++)mv(e[t])}}function HC(t,e){return t(e)}function qC(){}var Ep=!1;function WC(t,e,n){if(Ep)return t(e,n);Ep=!0;try{return HC(t,e,n)}finally{Ep=!1,(Vi!==null||zi!==null)&&(qC(),zC())}}function Gl(t,e){var n=t.stateNode;if(n===null)return null;var r=Qh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var i1=!1;if(Wr)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){i1=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{i1=!1}function F8(t,e,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Sl=!1,Td=null,Id=!1,a1=null,B8={onError:function(t){Sl=!0,Td=t}};function U8(t,e,n,r,s,o,i,a,l){Sl=!1,Td=null,F8.apply(B8,arguments)}function V8(t,e,n,r,s,o,i,a,l){if(U8.apply(this,arguments),Sl){if(Sl){var u=Td;Sl=!1,Td=null}else throw Error(U(198));Id||(Id=!0,a1=u)}}function ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function GC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gv(t){if(ei(t)!==t)throw Error(U(188))}function z8(t){var e=t.alternate;if(!e){if(e=ei(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return gv(s),t;if(o===r)return gv(s),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function KC(t){return t=z8(t),t!==null?YC(t):null}function YC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YC(t);if(e!==null)return e;t=t.sibling}return null}var QC=Nn.unstable_scheduleCallback,yv=Nn.unstable_cancelCallback,H8=Nn.unstable_shouldYield,q8=Nn.unstable_requestPaint,st=Nn.unstable_now,W8=Nn.unstable_getCurrentPriorityLevel,i0=Nn.unstable_ImmediatePriority,ZC=Nn.unstable_UserBlockingPriority,Nd=Nn.unstable_NormalPriority,G8=Nn.unstable_LowPriority,XC=Nn.unstable_IdlePriority,Wh=null,yr=null;function K8(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Wh,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:Z8,Y8=Math.log,Q8=Math.LN2;function Z8(t){return t>>>=0,t===0?32:31-(Y8(t)/Q8|0)|0}var _u=64,vu=4194304;function fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=fl(a):(o&=i,o!==0&&(r=fl(o)))}else i=n&~s,i!==0?r=fl(i):o!==0&&(r=fl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),s=1<<n,r|=t[n],e&=~s;return r}function X8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Jn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=X8(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function l1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JC(){var t=_u;return _u<<=1,!(_u&4194240)&&(_u=64),t}function Tp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function eE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Jn(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function a0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Se=0;function e5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var t5,l0,n5,r5,s5,c1=!1,wu=[],As=null,Ps=null,Rs=null,Kl=new Map,Yl=new Map,ws=[],tE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _v(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(e.pointerId)}}function Ka(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Dc(e),e!==null&&l0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function nE(t,e,n,r,s){switch(e){case"focusin":return As=Ka(As,t,e,n,r,s),!0;case"dragenter":return Ps=Ka(Ps,t,e,n,r,s),!0;case"mouseover":return Rs=Ka(Rs,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Kl.set(o,Ka(Kl.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Yl.set(o,Ka(Yl.get(o)||null,t,e,n,r,s)),!0}return!1}function o5(t){var e=Co(t.target);if(e!==null){var n=ei(e);if(n!==null){if(e=n.tag,e===13){if(e=GC(n),e!==null){t.blockedOn=e,s5(t.priority,function(){n5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);s1=r,n.target.dispatchEvent(r),s1=null}else return e=Dc(n),e!==null&&l0(e),t.blockedOn=n,!1;e.shift()}return!0}function vv(t,e,n){nd(t)&&n.delete(e)}function rE(){c1=!1,As!==null&&nd(As)&&(As=null),Ps!==null&&nd(Ps)&&(Ps=null),Rs!==null&&nd(Rs)&&(Rs=null),Kl.forEach(vv),Yl.forEach(vv)}function Ya(t,e){t.blockedOn===e&&(t.blockedOn=null,c1||(c1=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,rE)))}function Ql(t){function e(s){return Ya(s,t)}if(0<wu.length){Ya(wu[0],t);for(var n=1;n<wu.length;n++){var r=wu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Ya(As,t),Ps!==null&&Ya(Ps,t),Rs!==null&&Ya(Rs,t),Kl.forEach(e),Yl.forEach(e),n=0;n<ws.length;n++)r=ws[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ws.length&&(n=ws[0],n.blockedOn===null);)o5(n),n.blockedOn===null&&ws.shift()}var Hi=is.ReactCurrentBatchConfig,Ad=!0;function sE(t,e,n,r){var s=Se,o=Hi.transition;Hi.transition=null;try{Se=1,c0(t,e,n,r)}finally{Se=s,Hi.transition=o}}function oE(t,e,n,r){var s=Se,o=Hi.transition;Hi.transition=null;try{Se=4,c0(t,e,n,r)}finally{Se=s,Hi.transition=o}}function c0(t,e,n,r){if(Ad){var s=u1(t,e,n,r);if(s===null)Mp(t,e,r,Pd,n),_v(t,r);else if(nE(s,t,e,n,r))r.stopPropagation();else if(_v(t,r),e&4&&-1<tE.indexOf(t)){for(;s!==null;){var o=Dc(s);if(o!==null&&t5(o),o=u1(t,e,n,r),o===null&&Mp(t,e,r,Pd,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Mp(t,e,r,null,n)}}var Pd=null;function u1(t,e,n,r){if(Pd=null,t=o0(r),t=Co(t),t!==null)if(e=ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=GC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pd=t,null}function i5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(W8()){case i0:return 1;case ZC:return 4;case Nd:case G8:return 16;case XC:return 536870912;default:return 16}default:return 16}}var Ts=null,u0=null,rd=null;function a5(){if(rd)return rd;var t,e=u0,n=e.length,r,s="value"in Ts?Ts.value:Ts.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return rd=s.slice(t,1<r?1-r:void 0)}function sd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function wv(){return!1}function Rn(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xu:wv,this.isPropagationStopped=wv,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=Rn(Na),Oc=Ke({},Na,{view:0,detail:0}),iE=Rn(Oc),Ip,Np,Qa,Gh=Ke({},Oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qa&&(Qa&&t.type==="mousemove"?(Ip=t.screenX-Qa.screenX,Np=t.screenY-Qa.screenY):Np=Ip=0,Qa=t),Ip)},movementY:function(t){return"movementY"in t?t.movementY:Np}}),xv=Rn(Gh),aE=Ke({},Gh,{dataTransfer:0}),lE=Rn(aE),cE=Ke({},Oc,{relatedTarget:0}),jp=Rn(cE),uE=Ke({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),dE=Rn(uE),hE=Ke({},Na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fE=Rn(hE),pE=Ke({},Na,{data:0}),Cv=Rn(pE),mE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _E(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yE[t])?!!e[t]:!1}function h0(){return _E}var vE=Ke({},Oc,{key:function(t){if(t.key){var e=mE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h0,charCode:function(t){return t.type==="keypress"?sd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wE=Rn(vE),xE=Ke({},Gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bv=Rn(xE),CE=Ke({},Oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h0}),bE=Rn(CE),kE=Ke({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),SE=Rn(kE),EE=Ke({},Gh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TE=Rn(EE),IE=[9,13,27,32],f0=Wr&&"CompositionEvent"in window,El=null;Wr&&"documentMode"in document&&(El=document.documentMode);var NE=Wr&&"TextEvent"in window&&!El,l5=Wr&&(!f0||El&&8<El&&11>=El),kv=" ",Sv=!1;function c5(t,e){switch(t){case"keyup":return IE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Si=!1;function jE(t,e){switch(t){case"compositionend":return u5(e);case"keypress":return e.which!==32?null:(Sv=!0,kv);case"textInput":return t=e.data,t===kv&&Sv?null:t;default:return null}}function AE(t,e){if(Si)return t==="compositionend"||!f0&&c5(t,e)?(t=a5(),rd=u0=Ts=null,Si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return l5&&e.locale!=="ko"?null:e.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PE[t.type]:e==="textarea"}function d5(t,e,n,r){VC(r),e=Rd(e,"onChange"),0<e.length&&(n=new d0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tl=null,Zl=null;function RE(t){C5(t,0)}function Kh(t){var e=Ii(t);if(OC(e))return t}function LE(t,e){if(t==="change")return e}var h5=!1;if(Wr){var Ap;if(Wr){var Pp="oninput"in document;if(!Pp){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),Pp=typeof Tv.oninput=="function"}Ap=Pp}else Ap=!1;h5=Ap&&(!document.documentMode||9<document.documentMode)}function Iv(){Tl&&(Tl.detachEvent("onpropertychange",f5),Zl=Tl=null)}function f5(t){if(t.propertyName==="value"&&Kh(Zl)){var e=[];d5(e,Zl,t,o0(t)),WC(RE,e)}}function OE(t,e,n){t==="focusin"?(Iv(),Tl=e,Zl=n,Tl.attachEvent("onpropertychange",f5)):t==="focusout"&&Iv()}function DE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kh(Zl)}function ME(t,e){if(t==="click")return Kh(e)}function $E(t,e){if(t==="input"||t==="change")return Kh(e)}function FE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tr=typeof Object.is=="function"?Object.is:FE;function Xl(t,e){if(tr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wm.call(e,s)||!tr(t[s],e[s]))return!1}return!0}function Nv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jv(t,e){var n=Nv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nv(n)}}function p5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?p5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function m5(){for(var t=window,e=Ed();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ed(t.document)}return e}function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function BE(t){var e=m5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&p5(n.ownerDocument.documentElement,n)){if(r!==null&&p0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=jv(n,o);var i=jv(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var UE=Wr&&"documentMode"in document&&11>=document.documentMode,Ei=null,d1=null,Il=null,h1=!1;function Av(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;h1||Ei==null||Ei!==Ed(r)||(r=Ei,"selectionStart"in r&&p0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Il&&Xl(Il,r)||(Il=r,r=Rd(d1,"onSelect"),0<r.length&&(e=new d0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ei)))}function Cu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ti={animationend:Cu("Animation","AnimationEnd"),animationiteration:Cu("Animation","AnimationIteration"),animationstart:Cu("Animation","AnimationStart"),transitionend:Cu("Transition","TransitionEnd")},Rp={},g5={};Wr&&(g5=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function Yh(t){if(Rp[t])return Rp[t];if(!Ti[t])return t;var e=Ti[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in g5)return Rp[t]=e[n];return t}var y5=Yh("animationend"),_5=Yh("animationiteration"),v5=Yh("animationstart"),w5=Yh("transitionend"),x5=new Map,Pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,e){x5.set(t,e),Jo(e,[t])}for(var Lp=0;Lp<Pv.length;Lp++){var Op=Pv[Lp],VE=Op.toLowerCase(),zE=Op[0].toUpperCase()+Op.slice(1);Xs(VE,"on"+zE)}Xs(y5,"onAnimationEnd");Xs(_5,"onAnimationIteration");Xs(v5,"onAnimationStart");Xs("dblclick","onDoubleClick");Xs("focusin","onFocus");Xs("focusout","onBlur");Xs(w5,"onTransitionEnd");na("onMouseEnter",["mouseout","mouseover"]);na("onMouseLeave",["mouseout","mouseover"]);na("onPointerEnter",["pointerout","pointerover"]);na("onPointerLeave",["pointerout","pointerover"]);Jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HE=new Set("cancel close invalid load scroll toggle".split(" ").concat(pl));function Rv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,V8(r,e,void 0,t),t.currentTarget=null}function C5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Rv(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Rv(s,a,u),o=l}}}if(Id)throw t=a1,Id=!1,a1=null,t}function Re(t,e){var n=e[y1];n===void 0&&(n=e[y1]=new Set);var r=t+"__bubble";n.has(r)||(b5(e,t,2,!1),n.add(r))}function Dp(t,e,n){var r=0;e&&(r|=4),b5(n,t,r,e)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Jl(t){if(!t[bu]){t[bu]=!0,jC.forEach(function(n){n!=="selectionchange"&&(HE.has(n)||Dp(n,!1,t),Dp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bu]||(e[bu]=!0,Dp("selectionchange",!1,e))}}function b5(t,e,n,r){switch(i5(e)){case 1:var s=sE;break;case 4:s=oE;break;default:s=c0}n=s.bind(null,e,n,t),s=void 0,!i1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mp(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Co(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}WC(function(){var u=o,d=o0(n),h=[];e:{var f=x5.get(t);if(f!==void 0){var m=d0,_=t;switch(t){case"keypress":if(sd(n)===0)break e;case"keydown":case"keyup":m=wE;break;case"focusin":_="focus",m=jp;break;case"focusout":_="blur",m=jp;break;case"beforeblur":case"afterblur":m=jp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=lE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bE;break;case y5:case _5:case v5:m=dE;break;case w5:m=SE;break;case"scroll":m=iE;break;case"wheel":m=TE;break;case"copy":case"cut":case"paste":m=fE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bv}var w=(e&4)!==0,x=!w&&t==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var y=u,g;y!==null;){g=y;var C=g.stateNode;if(g.tag===5&&C!==null&&(g=C,v!==null&&(C=Gl(y,v),C!=null&&w.push(ec(y,C,g)))),x)break;y=y.return}0<w.length&&(f=new m(f,_,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==s1&&(_=n.relatedTarget||n.fromElement)&&(Co(_)||_[Gr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(_=n.relatedTarget||n.toElement,m=u,_=_?Co(_):null,_!==null&&(x=ei(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(m=null,_=u),m!==_)){if(w=xv,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=bv,C="onPointerLeave",v="onPointerEnter",y="pointer"),x=m==null?f:Ii(m),g=_==null?f:Ii(_),f=new w(C,y+"leave",m,n,d),f.target=x,f.relatedTarget=g,C=null,Co(d)===u&&(w=new w(v,y+"enter",_,n,d),w.target=g,w.relatedTarget=x,C=w),x=C,m&&_)t:{for(w=m,v=_,y=0,g=w;g;g=hi(g))y++;for(g=0,C=v;C;C=hi(C))g++;for(;0<y-g;)w=hi(w),y--;for(;0<g-y;)v=hi(v),g--;for(;y--;){if(w===v||v!==null&&w===v.alternate)break t;w=hi(w),v=hi(v)}w=null}else w=null;m!==null&&Lv(h,f,m,w,!1),_!==null&&x!==null&&Lv(h,x,_,w,!0)}}e:{if(f=u?Ii(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var b=LE;else if(Ev(f))if(h5)b=$E;else{b=DE;var k=OE}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=ME);if(b&&(b=b(t,u))){d5(h,b,n,d);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Jm(f,"number",f.value)}switch(k=u?Ii(u):window,t){case"focusin":(Ev(k)||k.contentEditable==="true")&&(Ei=k,d1=u,Il=null);break;case"focusout":Il=d1=Ei=null;break;case"mousedown":h1=!0;break;case"contextmenu":case"mouseup":case"dragend":h1=!1,Av(h,n,d);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":Av(h,n,d)}var T;if(f0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Si?c5(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(l5&&n.locale!=="ko"&&(Si||S!=="onCompositionStart"?S==="onCompositionEnd"&&Si&&(T=a5()):(Ts=d,u0="value"in Ts?Ts.value:Ts.textContent,Si=!0)),k=Rd(u,S),0<k.length&&(S=new Cv(S,t,null,n,d),h.push({event:S,listeners:k}),T?S.data=T:(T=u5(n),T!==null&&(S.data=T)))),(T=NE?jE(t,n):AE(t,n))&&(u=Rd(u,"onBeforeInput"),0<u.length&&(d=new Cv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=T))}C5(h,e)})}function ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Gl(t,n),o!=null&&r.unshift(ec(t,o,s)),o=Gl(t,e),o!=null&&r.push(ec(t,o,s))),t=t.return}return r}function hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lv(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Gl(n,o),l!=null&&i.unshift(ec(n,l,a))):s||(l=Gl(n,o),l!=null&&i.push(ec(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var qE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function Ov(t){return(typeof t=="string"?t:""+t).replace(qE,`
`).replace(WE,"")}function ku(t,e,n){if(e=Ov(e),Ov(t)!==e&&n)throw Error(U(425))}function Ld(){}var f1=null,p1=null;function m1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var g1=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(t){return Dv.resolve(null).then(t).catch(YE)}:g1;function YE(t){setTimeout(function(){throw t})}function $p(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ql(e)}function Ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ja=Math.random().toString(36).slice(2),dr="__reactFiber$"+ja,tc="__reactProps$"+ja,Gr="__reactContainer$"+ja,y1="__reactEvents$"+ja,QE="__reactListeners$"+ja,ZE="__reactHandles$"+ja;function Co(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mv(t);t!==null;){if(n=t[dr])return n;t=Mv(t)}return e}t=n,n=t.parentNode}return null}function Dc(t){return t=t[dr]||t[Gr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Qh(t){return t[tc]||null}var _1=[],Ni=-1;function Js(t){return{current:t}}function De(t){0>Ni||(t.current=_1[Ni],_1[Ni]=null,Ni--)}function Ne(t,e){Ni++,_1[Ni]=t.current,t.current=e}var qs={},Kt=Js(qs),pn=Js(!1),Mo=qs;function ra(t,e){var n=t.type.contextTypes;if(!n)return qs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function Od(){De(pn),De(Kt)}function $v(t,e,n){if(Kt.current!==qs)throw Error(U(168));Ne(Kt,e),Ne(pn,n)}function k5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,O8(t)||"Unknown",s));return Ke({},n,r)}function Dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qs,Mo=Kt.current,Ne(Kt,t),Ne(pn,pn.current),!0}function Fv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=k5(t,e,Mo),r.__reactInternalMemoizedMergedChildContext=t,De(pn),De(Kt),Ne(Kt,t)):De(pn),Ne(pn,n)}var Ar=null,Zh=!1,Fp=!1;function S5(t){Ar===null?Ar=[t]:Ar.push(t)}function XE(t){Zh=!0,S5(t)}function eo(){if(!Fp&&Ar!==null){Fp=!0;var t=0,e=Se;try{var n=Ar;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ar=null,Zh=!1}catch(s){throw Ar!==null&&(Ar=Ar.slice(t+1)),QC(i0,eo),s}finally{Se=e,Fp=!1}}return null}var ji=[],Ai=0,Md=null,$d=0,Mn=[],$n=0,$o=null,Lr=1,Or="";function po(t,e){ji[Ai++]=$d,ji[Ai++]=Md,Md=t,$d=e}function E5(t,e,n){Mn[$n++]=Lr,Mn[$n++]=Or,Mn[$n++]=$o,$o=t;var r=Lr;t=Or;var s=32-Jn(r)-1;r&=~(1<<s),n+=1;var o=32-Jn(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Lr=1<<32-Jn(e)+s|n<<s|r,Or=o+t}else Lr=1<<o|n<<s|r,Or=t}function m0(t){t.return!==null&&(po(t,1),E5(t,1,0))}function g0(t){for(;t===Md;)Md=ji[--Ai],ji[Ai]=null,$d=ji[--Ai],ji[Ai]=null;for(;t===$o;)$o=Mn[--$n],Mn[$n]=null,Or=Mn[--$n],Mn[$n]=null,Lr=Mn[--$n],Mn[$n]=null}var Tn=null,kn=null,Ue=!1,Xn=null;function T5(t,e){var n=Bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,kn=Ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,kn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$o!==null?{id:Lr,overflow:Or}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,kn=null,!0):!1;default:return!1}}function v1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function w1(t){if(Ue){var e=kn;if(e){var n=e;if(!Bv(t,e)){if(v1(t))throw Error(U(418));e=Ls(n.nextSibling);var r=Tn;e&&Bv(t,e)?T5(r,n):(t.flags=t.flags&-4097|2,Ue=!1,Tn=t)}}else{if(v1(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ue=!1,Tn=t}}}function Uv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function Su(t){if(t!==Tn)return!1;if(!Ue)return Uv(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!m1(t.type,t.memoizedProps)),e&&(e=kn)){if(v1(t))throw I5(),Error(U(418));for(;e;)T5(t,e),e=Ls(e.nextSibling)}if(Uv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kn=Ls(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kn=null}}else kn=Tn?Ls(t.stateNode.nextSibling):null;return!0}function I5(){for(var t=kn;t;)t=Ls(t.nextSibling)}function sa(){kn=Tn=null,Ue=!1}function y0(t){Xn===null?Xn=[t]:Xn.push(t)}var JE=is.ReactCurrentBatchConfig;function Za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Eu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vv(t){var e=t._init;return e(t._payload)}function N5(t){function e(v,y){if(t){var g=v.deletions;g===null?(v.deletions=[y],v.flags|=16):g.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=$s(v,y),v.index=0,v.sibling=null,v}function o(v,y,g){return v.index=g,t?(g=v.alternate,g!==null?(g=g.index,g<y?(v.flags|=2,y):g):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,g,C){return y===null||y.tag!==6?(y=Wp(g,v.mode,C),y.return=v,y):(y=s(y,g),y.return=v,y)}function l(v,y,g,C){var b=g.type;return b===ki?d(v,y,g.props.children,C,g.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ms&&Vv(b)===y.type)?(C=s(y,g.props),C.ref=Za(v,y,g),C.return=v,C):(C=dd(g.type,g.key,g.props,null,v.mode,C),C.ref=Za(v,y,g),C.return=v,C)}function u(v,y,g,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Gp(g,v.mode,C),y.return=v,y):(y=s(y,g.children||[]),y.return=v,y)}function d(v,y,g,C,b){return y===null||y.tag!==7?(y=jo(g,v.mode,C,b),y.return=v,y):(y=s(y,g),y.return=v,y)}function h(v,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Wp(""+y,v.mode,g),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mu:return g=dd(y.type,y.key,y.props,null,v.mode,g),g.ref=Za(v,null,y),g.return=v,g;case bi:return y=Gp(y,v.mode,g),y.return=v,y;case ms:var C=y._init;return h(v,C(y._payload),g)}if(hl(y)||Wa(y))return y=jo(y,v.mode,g,null),y.return=v,y;Eu(v,y)}return null}function f(v,y,g,C){var b=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:a(v,y,""+g,C);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case mu:return g.key===b?l(v,y,g,C):null;case bi:return g.key===b?u(v,y,g,C):null;case ms:return b=g._init,f(v,y,b(g._payload),C)}if(hl(g)||Wa(g))return b!==null?null:d(v,y,g,C,null);Eu(v,g)}return null}function m(v,y,g,C,b){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(g)||null,a(y,v,""+C,b);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case mu:return v=v.get(C.key===null?g:C.key)||null,l(y,v,C,b);case bi:return v=v.get(C.key===null?g:C.key)||null,u(y,v,C,b);case ms:var k=C._init;return m(v,y,g,k(C._payload),b)}if(hl(C)||Wa(C))return v=v.get(g)||null,d(y,v,C,b,null);Eu(y,C)}return null}function _(v,y,g,C){for(var b=null,k=null,T=y,S=y=0,E=null;T!==null&&S<g.length;S++){T.index>S?(E=T,T=null):E=T.sibling;var I=f(v,T,g[S],C);if(I===null){T===null&&(T=E);break}t&&T&&I.alternate===null&&e(v,T),y=o(I,y,S),k===null?b=I:k.sibling=I,k=I,T=E}if(S===g.length)return n(v,T),Ue&&po(v,S),b;if(T===null){for(;S<g.length;S++)T=h(v,g[S],C),T!==null&&(y=o(T,y,S),k===null?b=T:k.sibling=T,k=T);return Ue&&po(v,S),b}for(T=r(v,T);S<g.length;S++)E=m(T,v,S,g[S],C),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?S:E.key),y=o(E,y,S),k===null?b=E:k.sibling=E,k=E);return t&&T.forEach(function(j){return e(v,j)}),Ue&&po(v,S),b}function w(v,y,g,C){var b=Wa(g);if(typeof b!="function")throw Error(U(150));if(g=b.call(g),g==null)throw Error(U(151));for(var k=b=null,T=y,S=y=0,E=null,I=g.next();T!==null&&!I.done;S++,I=g.next()){T.index>S?(E=T,T=null):E=T.sibling;var j=f(v,T,I.value,C);if(j===null){T===null&&(T=E);break}t&&T&&j.alternate===null&&e(v,T),y=o(j,y,S),k===null?b=j:k.sibling=j,k=j,T=E}if(I.done)return n(v,T),Ue&&po(v,S),b;if(T===null){for(;!I.done;S++,I=g.next())I=h(v,I.value,C),I!==null&&(y=o(I,y,S),k===null?b=I:k.sibling=I,k=I);return Ue&&po(v,S),b}for(T=r(v,T);!I.done;S++,I=g.next())I=m(T,v,S,I.value,C),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?S:I.key),y=o(I,y,S),k===null?b=I:k.sibling=I,k=I);return t&&T.forEach(function(N){return e(v,N)}),Ue&&po(v,S),b}function x(v,y,g,C){if(typeof g=="object"&&g!==null&&g.type===ki&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case mu:e:{for(var b=g.key,k=y;k!==null;){if(k.key===b){if(b=g.type,b===ki){if(k.tag===7){n(v,k.sibling),y=s(k,g.props.children),y.return=v,v=y;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ms&&Vv(b)===k.type){n(v,k.sibling),y=s(k,g.props),y.ref=Za(v,k,g),y.return=v,v=y;break e}n(v,k);break}else e(v,k);k=k.sibling}g.type===ki?(y=jo(g.props.children,v.mode,C,g.key),y.return=v,v=y):(C=dd(g.type,g.key,g.props,null,v.mode,C),C.ref=Za(v,y,g),C.return=v,v=C)}return i(v);case bi:e:{for(k=g.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(v,y.sibling),y=s(y,g.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Gp(g,v.mode,C),y.return=v,v=y}return i(v);case ms:return k=g._init,x(v,y,k(g._payload),C)}if(hl(g))return _(v,y,g,C);if(Wa(g))return w(v,y,g,C);Eu(v,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,g),y.return=v,v=y):(n(v,y),y=Wp(g,v.mode,C),y.return=v,v=y),i(v)):n(v,y)}return x}var oa=N5(!0),j5=N5(!1),Fd=Js(null),Bd=null,Pi=null,_0=null;function v0(){_0=Pi=Bd=null}function w0(t){var e=Fd.current;De(Fd),t._currentValue=e}function x1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qi(t,e){Bd=t,_0=Pi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(_0!==t)if(t={context:t,memoizedValue:e,next:null},Pi===null){if(Bd===null)throw Error(U(308));Pi=t,Bd.dependencies={lanes:0,firstContext:t}}else Pi=Pi.next=t;return e}var bo=null;function x0(t){bo===null?bo=[t]:bo.push(t)}function A5(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,x0(e)):(n.next=s.next,s.next=n),e.interleaved=n,Kr(t,r)}function Kr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gs=!1;function C0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function P5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Br(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Kr(t,n)}return s=r.interleaved,s===null?(e.next=e,x0(r)):(e.next=s.next,s.next=e),r.interleaved=e,Kr(t,n)}function od(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}function zv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ud(t,e,n,r){var s=t.updateQueue;gs=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,w=a;switch(f=e,m=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){h=_.call(m,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,f=typeof _=="function"?_.call(m,h,f):_,f==null)break e;h=Ke({},h,f);break e;case 2:gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Bo|=i,t.lanes=i,t.memoizedState=h}}function Hv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Mc={},_r=Js(Mc),nc=Js(Mc),rc=Js(Mc);function ko(t){if(t===Mc)throw Error(U(174));return t}function b0(t,e){switch(Ne(rc,e),Ne(nc,t),Ne(_r,Mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:t1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=t1(e,t)}De(_r),Ne(_r,e)}function ia(){De(_r),De(nc),De(rc)}function R5(t){ko(rc.current);var e=ko(_r.current),n=t1(e,t.type);e!==n&&(Ne(nc,t),Ne(_r,n))}function k0(t){nc.current===t&&(De(_r),De(nc))}var qe=Js(0);function Vd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bp=[];function S0(){for(var t=0;t<Bp.length;t++)Bp[t]._workInProgressVersionPrimary=null;Bp.length=0}var id=is.ReactCurrentDispatcher,Up=is.ReactCurrentBatchConfig,Fo=0,Ge=null,ft=null,vt=null,zd=!1,Nl=!1,sc=0,eT=0;function Rt(){throw Error(U(321))}function E0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tr(t[n],e[n]))return!1;return!0}function T0(t,e,n,r,s,o){if(Fo=o,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,id.current=t===null||t.memoizedState===null?sT:oT,t=n(r,s),Nl){o=0;do{if(Nl=!1,sc=0,25<=o)throw Error(U(301));o+=1,vt=ft=null,e.updateQueue=null,id.current=iT,t=n(r,s)}while(Nl)}if(id.current=Hd,e=ft!==null&&ft.next!==null,Fo=0,vt=ft=Ge=null,zd=!1,e)throw Error(U(300));return t}function I0(){var t=sc!==0;return sc=0,t}function lr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ge.memoizedState=vt=t:vt=vt.next=t,vt}function Hn(){if(ft===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=vt===null?Ge.memoizedState:vt.next;if(e!==null)vt=e,ft=t;else{if(t===null)throw Error(U(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},vt===null?Ge.memoizedState=vt=t:vt=vt.next=t}return vt}function oc(t,e){return typeof e=="function"?e(t):e}function Vp(t){var e=Hn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=ft,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((Fo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,Ge.lanes|=d,Bo|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,tr(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Ge.lanes|=o,Bo|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zp(t){var e=Hn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);tr(o,e.memoizedState)||(fn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function L5(){}function O5(t,e){var n=Ge,r=Hn(),s=e(),o=!tr(r.memoizedState,s);if(o&&(r.memoizedState=s,fn=!0),r=r.queue,N0($5.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,ic(9,M5.bind(null,n,r,s,e),void 0,null),wt===null)throw Error(U(349));Fo&30||D5(n,e,s)}return s}function D5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function M5(t,e,n,r){e.value=n,e.getSnapshot=r,F5(e)&&B5(t)}function $5(t,e,n){return n(function(){F5(e)&&B5(t)})}function F5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tr(t,n)}catch{return!0}}function B5(t){var e=Kr(t,1);e!==null&&er(e,t,1,-1)}function qv(t){var e=lr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:t},e.queue=t,t=t.dispatch=rT.bind(null,Ge,t),[e.memoizedState,t]}function ic(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function U5(){return Hn().memoizedState}function ad(t,e,n,r){var s=lr();Ge.flags|=t,s.memoizedState=ic(1|e,n,void 0,r===void 0?null:r)}function Xh(t,e,n,r){var s=Hn();r=r===void 0?null:r;var o=void 0;if(ft!==null){var i=ft.memoizedState;if(o=i.destroy,r!==null&&E0(r,i.deps)){s.memoizedState=ic(e,n,o,r);return}}Ge.flags|=t,s.memoizedState=ic(1|e,n,o,r)}function Wv(t,e){return ad(8390656,8,t,e)}function N0(t,e){return Xh(2048,8,t,e)}function V5(t,e){return Xh(4,2,t,e)}function z5(t,e){return Xh(4,4,t,e)}function H5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q5(t,e,n){return n=n!=null?n.concat([t]):null,Xh(4,4,H5.bind(null,e,t),n)}function j0(){}function W5(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function G5(t,e){var n=Hn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function K5(t,e,n){return Fo&21?(tr(n,e)||(n=JC(),Ge.lanes|=n,Bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function tT(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=Up.transition;Up.transition={};try{t(!1),e()}finally{Se=n,Up.transition=r}}function Y5(){return Hn().memoizedState}function nT(t,e,n){var r=Ms(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q5(t))Z5(e,n);else if(n=A5(t,e,n,r),n!==null){var s=nn();er(n,t,r,s),X5(n,e,r)}}function rT(t,e,n){var r=Ms(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q5(t))Z5(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,tr(a,i)){var l=e.interleaved;l===null?(s.next=s,x0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=A5(t,e,s,r),n!==null&&(s=nn(),er(n,t,r,s),X5(n,e,r))}}function Q5(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function Z5(t,e){Nl=zd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X5(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a0(t,n)}}var Hd={readContext:zn,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useInsertionEffect:Rt,useLayoutEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useMutableSource:Rt,useSyncExternalStore:Rt,useId:Rt,unstable_isNewReconciler:!1},sT={readContext:zn,useCallback:function(t,e){return lr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:Wv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ad(4194308,4,H5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ad(4194308,4,t,e)},useInsertionEffect:function(t,e){return ad(4,2,t,e)},useMemo:function(t,e){var n=lr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=lr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nT.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=lr();return t={current:t},e.memoizedState=t},useState:qv,useDebugValue:j0,useDeferredValue:function(t){return lr().memoizedState=t},useTransition:function(){var t=qv(!1),e=t[0];return t=tT.bind(null,t[1]),lr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=lr();if(Ue){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),wt===null)throw Error(U(349));Fo&30||D5(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Wv($5.bind(null,r,o,t),[t]),r.flags|=2048,ic(9,M5.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=lr(),e=wt.identifierPrefix;if(Ue){var n=Or,r=Lr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},oT={readContext:zn,useCallback:W5,useContext:zn,useEffect:N0,useImperativeHandle:q5,useInsertionEffect:V5,useLayoutEffect:z5,useMemo:G5,useReducer:Vp,useRef:U5,useState:function(){return Vp(oc)},useDebugValue:j0,useDeferredValue:function(t){var e=Hn();return K5(e,ft.memoizedState,t)},useTransition:function(){var t=Vp(oc)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:L5,useSyncExternalStore:O5,useId:Y5,unstable_isNewReconciler:!1},iT={readContext:zn,useCallback:W5,useContext:zn,useEffect:N0,useImperativeHandle:q5,useInsertionEffect:V5,useLayoutEffect:z5,useMemo:G5,useReducer:zp,useRef:U5,useState:function(){return zp(oc)},useDebugValue:j0,useDeferredValue:function(t){var e=Hn();return ft===null?e.memoizedState=t:K5(e,ft.memoizedState,t)},useTransition:function(){var t=zp(oc)[0],e=Hn().memoizedState;return[t,e]},useMutableSource:L5,useSyncExternalStore:O5,useId:Y5,unstable_isNewReconciler:!1};function Yn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function C1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jh={isMounted:function(t){return(t=t._reactInternals)?ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),s=Ms(t),o=Br(r,s);o.payload=e,n!=null&&(o.callback=n),e=Os(t,o,s),e!==null&&(er(e,t,s,r),od(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),s=Ms(t),o=Br(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Os(t,o,s),e!==null&&(er(e,t,s,r),od(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=Ms(t),s=Br(n,r);s.tag=2,e!=null&&(s.callback=e),e=Os(t,s,r),e!==null&&(er(e,t,r,n),od(e,t,r))}};function Gv(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!Xl(n,r)||!Xl(s,o):!0}function J5(t,e,n){var r=!1,s=qs,o=e.contextType;return typeof o=="object"&&o!==null?o=zn(o):(s=mn(e)?Mo:Kt.current,r=e.contextTypes,o=(r=r!=null)?ra(t,s):qs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Kv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jh.enqueueReplaceState(e,e.state,null)}function b1(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},C0(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=zn(o):(o=mn(e)?Mo:Kt.current,s.context=ra(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(C1(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Jh.enqueueReplaceState(s,s.state,null),Ud(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function aa(t,e){try{var n="",r=e;do n+=L8(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Hp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function k1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aT=typeof WeakMap=="function"?WeakMap:Map;function e4(t,e,n){n=Br(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wd||(Wd=!0,L1=r),k1(t,e)},n}function t4(t,e,n){n=Br(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){k1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){k1(t,e),typeof r!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Yv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=xT.bind(null,t,e,n),e.then(t,t))}function Qv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Br(-1,1),e.tag=2,Os(n,e,1))),n.lanes|=1),t)}var lT=is.ReactCurrentOwner,fn=!1;function Jt(t,e,n,r){e.child=t===null?j5(e,null,n,r):oa(e,t.child,n,r)}function Xv(t,e,n,r,s){n=n.render;var o=e.ref;return qi(e,s),r=T0(t,e,n,r,o,s),n=I0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yr(t,e,s)):(Ue&&n&&m0(e),e.flags|=1,Jt(t,e,r,s),e.child)}function Jv(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!$0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,n4(t,e,o,r,s)):(t=dd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xl,n(i,r)&&t.ref===e.ref)return Yr(t,e,s)}return e.flags|=1,t=$s(o,r),t.ref=e.ref,t.return=e,e.child=t}function n4(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Xl(o,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,Yr(t,e,s)}return S1(t,e,n,r,s)}function r4(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Li,Cn),Cn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Li,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ne(Li,Cn),Cn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ne(Li,Cn),Cn|=r;return Jt(t,e,s,n),e.child}function s4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function S1(t,e,n,r,s){var o=mn(n)?Mo:Kt.current;return o=ra(e,o),qi(e,s),n=T0(t,e,n,r,o,s),r=I0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Yr(t,e,s)):(Ue&&r&&m0(e),e.flags|=1,Jt(t,e,n,s),e.child)}function e2(t,e,n,r,s){if(mn(n)){var o=!0;Dd(e)}else o=!1;if(qi(e,s),e.stateNode===null)ld(t,e),J5(e,n,r),b1(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=mn(n)?Mo:Kt.current,u=ra(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Kv(e,i,r,u),gs=!1;var f=e.memoizedState;i.state=f,Ud(e,r,i,s),l=e.memoizedState,a!==r||f!==l||pn.current||gs?(typeof d=="function"&&(C1(e,n,d,r),l=e.memoizedState),(a=gs||Gv(e,n,a,r,f,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,P5(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Yn(e.type,a),i.props=u,h=e.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=mn(n)?Mo:Kt.current,l=ra(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Kv(e,i,r,l),gs=!1,f=e.memoizedState,i.state=f,Ud(e,r,i,s);var _=e.memoizedState;a!==h||f!==_||pn.current||gs?(typeof m=="function"&&(C1(e,n,m,r),_=e.memoizedState),(u=gs||Gv(e,n,u,r,f,_,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,_,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,_,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),i.props=r,i.state=_,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return E1(t,e,n,r,o,s)}function E1(t,e,n,r,s,o){s4(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&Fv(e,n,!1),Yr(t,e,o);r=e.stateNode,lT.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=oa(e,t.child,null,o),e.child=oa(e,null,a,o)):Jt(t,e,a,o),e.memoizedState=r.state,s&&Fv(e,n,!0),e.child}function o4(t){var e=t.stateNode;e.pendingContext?$v(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$v(t,e.context,!1),b0(t,e.containerInfo)}function t2(t,e,n,r,s){return sa(),y0(s),e.flags|=256,Jt(t,e,n,r),e.child}var T1={dehydrated:null,treeContext:null,retryLane:0};function I1(t){return{baseLanes:t,cachePool:null,transitions:null}}function i4(t,e,n){var r=e.pendingProps,s=qe.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ne(qe,s&1),t===null)return w1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=nf(i,r,0,null),t=jo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=I1(n),e.memoizedState=T1,t):A0(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return cT(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$s(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=$s(a,o):(o=jo(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?I1(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=T1,r}return o=t.child,t=o.sibling,r=$s(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function A0(t,e){return e=nf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Tu(t,e,n,r){return r!==null&&y0(r),oa(e,t.child,null,n),t=A0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cT(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Hp(Error(U(422))),Tu(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=nf({mode:"visible",children:r.children},s,0,null),o=jo(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&oa(e,t.child,null,i),e.child.memoizedState=I1(i),e.memoizedState=T1,o);if(!(e.mode&1))return Tu(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Hp(o,r,void 0),Tu(t,e,i,r)}if(a=(i&t.childLanes)!==0,fn||a){if(r=wt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Kr(t,s),er(r,t,s,-1))}return M0(),r=Hp(Error(U(421))),Tu(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=CT.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,kn=Ls(s.nextSibling),Tn=e,Ue=!0,Xn=null,t!==null&&(Mn[$n++]=Lr,Mn[$n++]=Or,Mn[$n++]=$o,Lr=t.id,Or=t.overflow,$o=e),e=A0(e,r.children),e.flags|=4096,e)}function n2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),x1(t.return,e,n)}function qp(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function a4(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Jt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n2(t,n,e);else if(t.tag===19)n2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qp(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qp(e,!0,n,null,o);break;case"together":qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ld(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=$s(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$s(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uT(t,e,n){switch(e.tag){case 3:o4(e),sa();break;case 5:R5(e);break;case 1:mn(e.type)&&Dd(e);break;case 4:b0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ne(Fd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?i4(t,e,n):(Ne(qe,qe.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);Ne(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return a4(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,r4(t,e,n)}return Yr(t,e,n)}var l4,N1,c4,u4;l4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};N1=function(){};c4=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ko(_r.current);var o=null;switch(n){case"input":s=Zm(t,s),r=Zm(t,r),o=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),o=[];break;case"textarea":s=e1(t,s),r=e1(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ld)}n1(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ql.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Re("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};u4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xa(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dT(t,e,n){var r=e.pendingProps;switch(g0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return mn(e.type)&&Od(),Lt(e),null;case 3:return r=e.stateNode,ia(),De(pn),De(Kt),S0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(M1(Xn),Xn=null))),N1(t,e),Lt(e),null;case 5:k0(e);var s=ko(rc.current);if(n=e.type,t!==null&&e.stateNode!=null)c4(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Lt(e),null}if(t=ko(_r.current),Su(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[dr]=e,r[tc]=o,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<pl.length;s++)Re(pl[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":dv(r,o),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Re("invalid",r);break;case"textarea":fv(r,o),Re("invalid",r)}n1(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ku(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ku(r.textContent,a,t),s=["children",""+a]):ql.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Re("scroll",r)}switch(n){case"input":gu(r),hv(r,o,!0);break;case"textarea":gu(r),pv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ld)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$C(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[dr]=e,t[tc]=r,l4(t,e,!1,!1),e.stateNode=t;e:{switch(i=r1(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<pl.length;s++)Re(pl[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":dv(t,r),s=Zm(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Re("invalid",t);break;case"textarea":fv(t,r),s=e1(t,r),Re("invalid",t);break;default:s=r}n1(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?UC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wl(t,l):typeof l=="number"&&Wl(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ql.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Re("scroll",t):l!=null&&t0(t,o,l,i))}switch(n){case"input":gu(t),hv(t,r,!1);break;case"textarea":gu(t),pv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hs(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ui(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ui(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ld)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)u4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=ko(rc.current),ko(_r.current),Su(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(o=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:ku(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ku(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return Lt(e),null;case 13:if(De(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&kn!==null&&e.mode&1&&!(e.flags&128))I5(),sa(),e.flags|=98560,o=!1;else if(o=Su(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[dr]=e}else sa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),o=!1}else Xn!==null&&(M1(Xn),Xn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?mt===0&&(mt=3):M0())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return ia(),N1(t,e),t===null&&Jl(e.stateNode.containerInfo),Lt(e),null;case 10:return w0(e.type._context),Lt(e),null;case 17:return mn(e.type)&&Od(),Lt(e),null;case 19:if(De(qe),o=e.memoizedState,o===null)return Lt(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Xa(o,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Vd(t),i!==null){for(e.flags|=128,Xa(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(qe,qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&st()>la&&(e.flags|=128,r=!0,Xa(o,!1),e.lanes=4194304)}else{if(!r)if(t=Vd(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ue)return Lt(e),null}else 2*st()-o.renderingStartTime>la&&n!==1073741824&&(e.flags|=128,r=!0,Xa(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=st(),e.sibling=null,n=qe.current,Ne(qe,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return D0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function hT(t,e){switch(g0(e),e.tag){case 1:return mn(e.type)&&Od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ia(),De(pn),De(Kt),S0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return k0(e),null;case 13:if(De(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));sa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(qe),null;case 4:return ia(),null;case 10:return w0(e.type._context),null;case 22:case 23:return D0(),null;case 24:return null;default:return null}}var Iu=!1,Ft=!1,fT=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ri(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function j1(t,e,n){try{n()}catch(r){et(t,e,r)}}var r2=!1;function pT(t,e){if(f1=Ad,t=m5(),p0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++u===s&&(a=i),f===o&&++d===r&&(l=i),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(p1={focusedElem:t,selectionRange:n},Ad=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,x=_.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:Yn(e.type,w),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(C){et(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return _=r2,r2=!1,_}function jl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&j1(e,n,o)}s=s.next}while(s!==r)}}function ef(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function A1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function d4(t){var e=t.alternate;e!==null&&(t.alternate=null,d4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[tc],delete e[y1],delete e[QE],delete e[ZE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function h4(t){return t.tag===5||t.tag===3||t.tag===4}function s2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||h4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function P1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ld));else if(r!==4&&(t=t.child,t!==null))for(P1(t,e,n),t=t.sibling;t!==null;)P1(t,e,n),t=t.sibling}function R1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R1(t,e,n),t=t.sibling;t!==null;)R1(t,e,n),t=t.sibling}var bt=null,Qn=!1;function ls(t,e,n){for(n=n.child;n!==null;)f4(t,e,n),n=n.sibling}function f4(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Wh,n)}catch{}switch(n.tag){case 5:Ft||Ri(n,e);case 6:var r=bt,s=Qn;bt=null,ls(t,e,n),bt=r,Qn=s,bt!==null&&(Qn?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Qn?(t=bt,n=n.stateNode,t.nodeType===8?$p(t.parentNode,n):t.nodeType===1&&$p(t,n),Ql(t)):$p(bt,n.stateNode));break;case 4:r=bt,s=Qn,bt=n.stateNode.containerInfo,Qn=!0,ls(t,e,n),bt=r,Qn=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&j1(n,e,i),s=s.next}while(s!==r)}ls(t,e,n);break;case 1:if(!Ft&&(Ri(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}ls(t,e,n);break;case 21:ls(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,ls(t,e,n),Ft=r):ls(t,e,n);break;default:ls(t,e,n)}}function o2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fT),e.forEach(function(r){var s=bT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,Qn=!1;break e;case 3:bt=a.stateNode.containerInfo,Qn=!0;break e;case 4:bt=a.stateNode.containerInfo,Qn=!0;break e}a=a.return}if(bt===null)throw Error(U(160));f4(o,i,s),bt=null,Qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){et(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)p4(e,t),e=e.sibling}function p4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wn(e,t),ir(t),r&4){try{jl(3,t,t.return),ef(3,t)}catch(w){et(t,t.return,w)}try{jl(5,t,t.return)}catch(w){et(t,t.return,w)}}break;case 1:Wn(e,t),ir(t),r&512&&n!==null&&Ri(n,n.return);break;case 5:if(Wn(e,t),ir(t),r&512&&n!==null&&Ri(n,n.return),t.flags&32){var s=t.stateNode;try{Wl(s,"")}catch(w){et(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&DC(s,o),r1(a,i);var u=r1(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?UC(s,h):d==="dangerouslySetInnerHTML"?FC(s,h):d==="children"?Wl(s,h):t0(s,d,h,u)}switch(a){case"input":Xm(s,o);break;case"textarea":MC(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Ui(s,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ui(s,!!o.multiple,o.defaultValue,!0):Ui(s,!!o.multiple,o.multiple?[]:"",!1))}s[tc]=o}catch(w){et(t,t.return,w)}}break;case 6:if(Wn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(w){et(t,t.return,w)}}break;case 3:if(Wn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ql(e.containerInfo)}catch(w){et(t,t.return,w)}break;case 4:Wn(e,t),ir(t);break;case 13:Wn(e,t),ir(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(L0=st())),r&4&&o2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(u=Ft)||d,Wn(e,t),Ft=u):Wn(e,t),ir(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:jl(4,f,f.return);break;case 1:Ri(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){et(r,n,w)}}break;case 5:Ri(f,f.return);break;case 22:if(f.memoizedState!==null){a2(h);continue}}m!==null?(m.return=f,Y=m):a2(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=BC("display",i))}catch(w){et(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){et(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Wn(e,t),ir(t),r&4&&o2(t);break;case 21:break;default:Wn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(h4(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wl(s,""),r.flags&=-33);var o=s2(t);R1(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=s2(t);P1(t,a,i);break;default:throw Error(U(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mT(t,e,n){Y=t,m4(t)}function m4(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Iu;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ft;a=Iu;var u=Ft;if(Iu=i,(Ft=l)&&!u)for(Y=s;Y!==null;)i=Y,l=i.child,i.tag===22&&i.memoizedState!==null?l2(s):l!==null?(l.return=i,Y=l):l2(s);for(;o!==null;)Y=o,m4(o),o=o.sibling;Y=s,Iu=a,Ft=u}i2(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Y=o):i2(t)}}function i2(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||ef(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Hv(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hv(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ql(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ft||e.flags&512&&A1(e)}catch(f){et(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function a2(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function l2(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ef(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){et(e,s,l)}}var o=e.return;try{A1(e)}catch(l){et(e,o,l)}break;case 5:var i=e.return;try{A1(e)}catch(l){et(e,i,l)}}}catch(l){et(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var gT=Math.ceil,qd=is.ReactCurrentDispatcher,P0=is.ReactCurrentOwner,Un=is.ReactCurrentBatchConfig,xe=0,wt=null,lt=null,It=0,Cn=0,Li=Js(0),mt=0,ac=null,Bo=0,tf=0,R0=0,Al=null,un=null,L0=0,la=1/0,jr=null,Wd=!1,L1=null,Ds=null,Nu=!1,Is=null,Gd=0,Pl=0,O1=null,cd=-1,ud=0;function nn(){return xe&6?st():cd!==-1?cd:cd=st()}function Ms(t){return t.mode&1?xe&2&&It!==0?It&-It:JE.transition!==null?(ud===0&&(ud=JC()),ud):(t=Se,t!==0||(t=window.event,t=t===void 0?16:i5(t.type)),t):1}function er(t,e,n,r){if(50<Pl)throw Pl=0,O1=null,Error(U(185));Lc(t,n,r),(!(xe&2)||t!==wt)&&(t===wt&&(!(xe&2)&&(tf|=n),mt===4&&xs(t,It)),gn(t,r),n===1&&xe===0&&!(e.mode&1)&&(la=st()+500,Zh&&eo()))}function gn(t,e){var n=t.callbackNode;J8(t,e);var r=jd(t,t===wt?It:0);if(r===0)n!==null&&yv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yv(n),e===1)t.tag===0?XE(c2.bind(null,t)):S5(c2.bind(null,t)),KE(function(){!(xe&6)&&eo()}),n=null;else{switch(e5(r)){case 1:n=i0;break;case 4:n=ZC;break;case 16:n=Nd;break;case 536870912:n=XC;break;default:n=Nd}n=b4(n,g4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function g4(t,e){if(cd=-1,ud=0,xe&6)throw Error(U(327));var n=t.callbackNode;if(Wi()&&t.callbackNode!==n)return null;var r=jd(t,t===wt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kd(t,r);else{e=r;var s=xe;xe|=2;var o=_4();(wt!==t||It!==e)&&(jr=null,la=st()+500,No(t,e));do try{vT();break}catch(a){y4(t,a)}while(!0);v0(),qd.current=o,xe=s,lt!==null?e=0:(wt=null,It=0,e=mt)}if(e!==0){if(e===2&&(s=l1(t),s!==0&&(r=s,e=D1(t,s))),e===1)throw n=ac,No(t,0),xs(t,r),gn(t,st()),n;if(e===6)xs(t,r);else{if(s=t.current.alternate,!(r&30)&&!yT(s)&&(e=Kd(t,r),e===2&&(o=l1(t),o!==0&&(r=o,e=D1(t,o))),e===1))throw n=ac,No(t,0),xs(t,r),gn(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:mo(t,un,jr);break;case 3:if(xs(t,r),(r&130023424)===r&&(e=L0+500-st(),10<e)){if(jd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=g1(mo.bind(null,t,un,jr),e);break}mo(t,un,jr);break;case 4:if(xs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-Jn(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gT(r/1960))-r,10<r){t.timeoutHandle=g1(mo.bind(null,t,un,jr),r);break}mo(t,un,jr);break;case 5:mo(t,un,jr);break;default:throw Error(U(329))}}}return gn(t,st()),t.callbackNode===n?g4.bind(null,t):null}function D1(t,e){var n=Al;return t.current.memoizedState.isDehydrated&&(No(t,e).flags|=256),t=Kd(t,e),t!==2&&(e=un,un=n,e!==null&&M1(e)),t}function M1(t){un===null?un=t:un.push.apply(un,t)}function yT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!tr(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~R0,e&=~tf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function c2(t){if(xe&6)throw Error(U(327));Wi();var e=jd(t,0);if(!(e&1))return gn(t,st()),null;var n=Kd(t,e);if(t.tag!==0&&n===2){var r=l1(t);r!==0&&(e=r,n=D1(t,r))}if(n===1)throw n=ac,No(t,0),xs(t,e),gn(t,st()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,mo(t,un,jr),gn(t,st()),null}function O0(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(la=st()+500,Zh&&eo())}}function Uo(t){Is!==null&&Is.tag===0&&!(xe&6)&&Wi();var e=xe;xe|=1;var n=Un.transition,r=Se;try{if(Un.transition=null,Se=1,t)return t()}finally{Se=r,Un.transition=n,xe=e,!(xe&6)&&eo()}}function D0(){Cn=Li.current,De(Li)}function No(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GE(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(g0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Od();break;case 3:ia(),De(pn),De(Kt),S0();break;case 5:k0(r);break;case 4:ia();break;case 13:De(qe);break;case 19:De(qe);break;case 10:w0(r.type._context);break;case 22:case 23:D0()}n=n.return}if(wt=t,lt=t=$s(t.current,null),It=Cn=e,mt=0,ac=null,R0=tf=Bo=0,un=Al=null,bo!==null){for(e=0;e<bo.length;e++)if(n=bo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}bo=null}return t}function y4(t,e){do{var n=lt;try{if(v0(),id.current=Hd,zd){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zd=!1}if(Fo=0,vt=ft=Ge=null,Nl=!1,sc=0,P0.current=null,n===null||n.return===null){mt=1,ac=e,lt=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Qv(i);if(m!==null){m.flags&=-257,Zv(m,i,a,o,e),m.mode&1&&Yv(o,u,e),e=m,l=u;var _=e.updateQueue;if(_===null){var w=new Set;w.add(l),e.updateQueue=w}else _.add(l);break e}else{if(!(e&1)){Yv(o,u,e),M0();break e}l=Error(U(426))}}else if(Ue&&a.mode&1){var x=Qv(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Zv(x,i,a,o,e),y0(aa(l,a));break e}}o=l=aa(l,a),mt!==4&&(mt=2),Al===null?Al=[o]:Al.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=e4(o,l,e);zv(o,v);break e;case 1:a=l;var y=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ds===null||!Ds.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=t4(o,a,e);zv(o,C);break e}}o=o.return}while(o!==null)}w4(n)}catch(b){e=b,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function _4(){var t=qd.current;return qd.current=Hd,t===null?Hd:t}function M0(){(mt===0||mt===3||mt===2)&&(mt=4),wt===null||!(Bo&268435455)&&!(tf&268435455)||xs(wt,It)}function Kd(t,e){var n=xe;xe|=2;var r=_4();(wt!==t||It!==e)&&(jr=null,No(t,e));do try{_T();break}catch(s){y4(t,s)}while(!0);if(v0(),xe=n,qd.current=r,lt!==null)throw Error(U(261));return wt=null,It=0,mt}function _T(){for(;lt!==null;)v4(lt)}function vT(){for(;lt!==null&&!H8();)v4(lt)}function v4(t){var e=C4(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?w4(t):lt=e,P0.current=null}function w4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hT(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,lt=null;return}}else if(n=dT(n,e,Cn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);mt===0&&(mt=5)}function mo(t,e,n){var r=Se,s=Un.transition;try{Un.transition=null,Se=1,wT(t,e,n,r)}finally{Un.transition=s,Se=r}return null}function wT(t,e,n,r){do Wi();while(Is!==null);if(xe&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(eE(t,o),t===wt&&(lt=wt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nu||(Nu=!0,b4(Nd,function(){return Wi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Un.transition,Un.transition=null;var i=Se;Se=1;var a=xe;xe|=4,P0.current=null,pT(t,n),p4(n,t),BE(p1),Ad=!!f1,p1=f1=null,t.current=n,mT(n),q8(),xe=a,Se=i,Un.transition=o}else t.current=n;if(Nu&&(Nu=!1,Is=t,Gd=s),o=t.pendingLanes,o===0&&(Ds=null),K8(n.stateNode),gn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wd)throw Wd=!1,t=L1,L1=null,t;return Gd&1&&t.tag!==0&&Wi(),o=t.pendingLanes,o&1?t===O1?Pl++:(Pl=0,O1=t):Pl=0,eo(),null}function Wi(){if(Is!==null){var t=e5(Gd),e=Un.transition,n=Se;try{if(Un.transition=null,Se=16>t?16:t,Is===null)var r=!1;else{if(t=Is,Is=null,Gd=0,xe&6)throw Error(U(331));var s=xe;for(xe|=4,Y=t.current;Y!==null;){var o=Y,i=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:jl(8,d,o)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,m=d.return;if(d4(d),d===u){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var _=o.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}Y=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Y=i;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:jl(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Y=v;break e}Y=o.return}}var y=t.current;for(Y=y;Y!==null;){i=Y;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,Y=g;else e:for(i=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ef(9,a)}}catch(b){et(a,a.return,b)}if(a===i){Y=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Y=C;break e}Y=a.return}}if(xe=s,eo(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Wh,t)}catch{}r=!0}return r}finally{Se=n,Un.transition=e}}return!1}function u2(t,e,n){e=aa(n,e),e=e4(t,e,1),t=Os(t,e,1),e=nn(),t!==null&&(Lc(t,1,e),gn(t,e))}function et(t,e,n){if(t.tag===3)u2(t,t,n);else for(;e!==null;){if(e.tag===3){u2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ds===null||!Ds.has(r))){t=aa(n,t),t=t4(e,t,1),e=Os(e,t,1),t=nn(),e!==null&&(Lc(e,1,t),gn(e,t));break}}e=e.return}}function xT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(It&n)===n&&(mt===4||mt===3&&(It&130023424)===It&&500>st()-L0?No(t,0):R0|=n),gn(t,e)}function x4(t,e){e===0&&(t.mode&1?(e=vu,vu<<=1,!(vu&130023424)&&(vu=4194304)):e=1);var n=nn();t=Kr(t,e),t!==null&&(Lc(t,e,n),gn(t,n))}function CT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),x4(t,n)}function bT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),x4(t,n)}var C4;C4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,uT(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Ue&&e.flags&1048576&&E5(e,$d,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ld(t,e),t=e.pendingProps;var s=ra(e,Kt.current);qi(e,n),s=T0(null,e,r,t,s,n);var o=I0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(o=!0,Dd(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,C0(e),s.updater=Jh,e.stateNode=s,s._reactInternals=e,b1(e,r,t,n),e=E1(null,e,r,!0,o,n)):(e.tag=0,Ue&&o&&m0(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ld(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ST(r),t=Yn(r,t),s){case 0:e=S1(null,e,r,t,n);break e;case 1:e=e2(null,e,r,t,n);break e;case 11:e=Xv(null,e,r,t,n);break e;case 14:e=Jv(null,e,r,Yn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),S1(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),e2(t,e,r,s,n);case 3:e:{if(o4(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,s=o.element,P5(t,e),Ud(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=aa(Error(U(423)),e),e=t2(t,e,r,n,s);break e}else if(r!==s){s=aa(Error(U(424)),e),e=t2(t,e,r,n,s);break e}else for(kn=Ls(e.stateNode.containerInfo.firstChild),Tn=e,Ue=!0,Xn=null,n=j5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sa(),r===s){e=Yr(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return R5(e),t===null&&w1(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,m1(r,s)?i=null:o!==null&&m1(r,o)&&(e.flags|=32),s4(t,e),Jt(t,e,i,n),e.child;case 6:return t===null&&w1(e),null;case 13:return i4(t,e,n);case 4:return b0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oa(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),Xv(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,Ne(Fd,r._currentValue),r._currentValue=i,o!==null)if(tr(o.value,i)){if(o.children===s.children&&!pn.current){e=Yr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Br(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),x1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),x1(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,qi(e,n),s=zn(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=Yn(r,e.pendingProps),s=Yn(r.type,s),Jv(t,e,r,s,n);case 15:return n4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),ld(t,e),e.tag=1,mn(r)?(t=!0,Dd(e)):t=!1,qi(e,n),J5(e,r,s),b1(e,r,s,n),E1(null,e,r,!0,t,n);case 19:return a4(t,e,n);case 22:return r4(t,e,n)}throw Error(U(156,e.tag))};function b4(t,e){return QC(t,e)}function kT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,e,n,r){return new kT(t,e,n,r)}function $0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ST(t){if(typeof t=="function")return $0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r0)return 11;if(t===s0)return 14}return 2}function $s(t,e){var n=t.alternate;return n===null?(n=Bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dd(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")$0(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case ki:return jo(n.children,s,o,e);case n0:i=8,s|=8;break;case Gm:return t=Bn(12,n,e,s|2),t.elementType=Gm,t.lanes=o,t;case Km:return t=Bn(13,n,e,s),t.elementType=Km,t.lanes=o,t;case Ym:return t=Bn(19,n,e,s),t.elementType=Ym,t.lanes=o,t;case RC:return nf(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AC:i=10;break e;case PC:i=9;break e;case r0:i=11;break e;case s0:i=14;break e;case ms:i=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Bn(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function jo(t,e,n,r){return t=Bn(7,t,r,e),t.lanes=n,t}function nf(t,e,n,r){return t=Bn(22,t,r,e),t.elementType=RC,t.lanes=n,t.stateNode={isHidden:!1},t}function Wp(t,e,n){return t=Bn(6,t,null,e),t.lanes=n,t}function Gp(t,e,n){return e=Bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ET(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tp(0),this.expirationTimes=Tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function F0(t,e,n,r,s,o,i,a,l){return t=new ET(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},C0(o),t}function TT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function k4(t){if(!t)return qs;t=t._reactInternals;e:{if(ei(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(mn(n))return k5(t,n,e)}return e}function S4(t,e,n,r,s,o,i,a,l){return t=F0(n,r,!0,t,s,o,i,a,l),t.context=k4(null),n=t.current,r=nn(),s=Ms(n),o=Br(r,s),o.callback=e??null,Os(n,o,s),t.current.lanes=s,Lc(t,s,r),gn(t,r),t}function rf(t,e,n,r){var s=e.current,o=nn(),i=Ms(s);return n=k4(n),e.context===null?e.context=n:e.pendingContext=n,e=Br(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Os(s,e,i),t!==null&&(er(t,s,i,o),od(t,s,i)),i}function Yd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function B0(t,e){d2(t,e),(t=t.alternate)&&d2(t,e)}function IT(){return null}var E4=typeof reportError=="function"?reportError:function(t){console.error(t)};function U0(t){this._internalRoot=t}sf.prototype.render=U0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));rf(t,e,null,null)};sf.prototype.unmount=U0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Uo(function(){rf(null,t,null,null)}),e[Gr]=null}};function sf(t){this._internalRoot=t}sf.prototype.unstable_scheduleHydration=function(t){if(t){var e=r5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ws.length&&e!==0&&e<ws[n].priority;n++);ws.splice(n,0,t),n===0&&o5(t)}};function V0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function of(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h2(){}function NT(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Yd(i);o.call(u)}}var i=S4(e,r,t,0,null,!1,!1,"",h2);return t._reactRootContainer=i,t[Gr]=i.current,Jl(t.nodeType===8?t.parentNode:t),Uo(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Yd(l);a.call(u)}}var l=F0(t,0,!1,null,null,!1,!1,"",h2);return t._reactRootContainer=l,t[Gr]=l.current,Jl(t.nodeType===8?t.parentNode:t),Uo(function(){rf(e,l,n,r)}),l}function af(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Yd(i);a.call(l)}}rf(e,i,t,s)}else i=NT(n,e,t,s,r);return Yd(i)}t5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fl(e.pendingLanes);n!==0&&(a0(e,n|1),gn(e,st()),!(xe&6)&&(la=st()+500,eo()))}break;case 13:Uo(function(){var r=Kr(t,1);if(r!==null){var s=nn();er(r,t,1,s)}}),B0(t,1)}};l0=function(t){if(t.tag===13){var e=Kr(t,134217728);if(e!==null){var n=nn();er(e,t,134217728,n)}B0(t,134217728)}};n5=function(t){if(t.tag===13){var e=Ms(t),n=Kr(t,e);if(n!==null){var r=nn();er(n,t,e,r)}B0(t,e)}};r5=function(){return Se};s5=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};o1=function(t,e,n){switch(e){case"input":if(Xm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Qh(r);if(!s)throw Error(U(90));OC(r),Xm(r,s)}}}break;case"textarea":MC(t,n);break;case"select":e=n.value,e!=null&&Ui(t,!!n.multiple,e,!1)}};HC=O0;qC=Uo;var jT={usingClientEntryPoint:!1,Events:[Dc,Ii,Qh,VC,zC,O0]},Ja={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AT={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=KC(t),t===null?null:t.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||IT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Wh=ju.inject(AT),yr=ju}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jT;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V0(e))throw Error(U(200));return TT(t,e,null,n)};Pn.createRoot=function(t,e){if(!V0(t))throw Error(U(299));var n=!1,r="",s=E4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=F0(t,1,!1,null,null,n,!1,r,s),t[Gr]=e.current,Jl(t.nodeType===8?t.parentNode:t),new U0(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=KC(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Uo(t)};Pn.hydrate=function(t,e,n){if(!of(e))throw Error(U(200));return af(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!V0(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=E4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=S4(e,null,t,1,n??null,s,!1,o,i),t[Gr]=e.current,Jl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new sf(e)};Pn.render=function(t,e,n){if(!of(e))throw Error(U(200));return af(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!of(t))throw Error(U(40));return t._reactRootContainer?(Uo(function(){af(null,null,t,!1,function(){t._reactRootContainer=null,t[Gr]=null})}),!0):!1};Pn.unstable_batchedUpdates=O0;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!of(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return af(t,e,n,!1,r)};Pn.version="18.3.1-next-f1338f8080-20240426";function T4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T4)}catch(t){console.error(t)}}T4(),TC.exports=Pn;var PT=TC.exports;const RT=Hh(PT);/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}var Ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ns||(Ns={}));const f2="popstate";function LT(t){t===void 0&&(t={});function e(s,o){let{pathname:i="/",search:a="",hash:l=""}=ti(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),$1("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:I4(o))}function r(s,o){z0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return DT(e,n,r,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function z0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OT(){return Math.random().toString(36).substr(2,8)}function p2(t,e){return{usr:t.state,key:t.key,idx:e}}function $1(t,e,n,r){return n===void 0&&(n=null),lc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ti(e):e,{state:n,key:e&&e.key||r||OT()})}function I4(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ti(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function DT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Ns.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(lc({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=Ns.Pop;let x=d(),v=x==null?null:x-u;u=x,l&&l({action:a,location:w.location,delta:v})}function f(x,v){a=Ns.Push;let y=$1(w.location,x,v);n&&n(y,x),u=d()+1;let g=p2(y,u),C=w.createHref(y);try{i.pushState(g,"",C)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(C)}o&&l&&l({action:a,location:w.location,delta:1})}function m(x,v){a=Ns.Replace;let y=$1(w.location,x,v);n&&n(y,x),u=d();let g=p2(y,u),C=w.createHref(y);i.replaceState(g,"",C),o&&l&&l({action:a,location:w.location,delta:0})}function _(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:I4(x);return y=y.replace(/ $/,"%20"),gt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let w={get action(){return a},get location(){return t(s,i)},listen(x){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(f2,h),l=x,()=>{s.removeEventListener(f2,h),l=null}},createHref(x){return e(s,x)},createURL:_,encodeLocation(x){let v=_(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:m,go(x){return i.go(x)}};return w}var m2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(m2||(m2={}));function MT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ti(e):e,s=A4(r.pathname||"/",n);if(s==null)return null;let o=N4(t);$T(o);let i=null;for(let a=0;i==null&&a<o.length;++a){let l=QT(s);i=GT(o[a],l)}return i}function N4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(gt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ao([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(gt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),N4(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:qT(u,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of j4(o.path))s(o,i,l)}),e}function j4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=j4(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $T(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:WT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FT=/^:[\w-]+$/,BT=3,UT=2,VT=1,zT=10,HT=-2,g2=t=>t==="*";function qT(t,e){let n=t.split("/"),r=n.length;return n.some(g2)&&(r+=HT),e&&(r+=UT),n.filter(s=>!g2(s)).reduce((s,o)=>s+(FT.test(o)?BT:o===""?VT:zT),r)}function WT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function GT(t,e){let{routesMeta:n}=t,r={},s="/",o=[];for(let i=0;i<n.length;++i){let a=n[i],l=i===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=KT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!d)return null;Object.assign(r,d.params);let h=a.route;o.push({params:r,pathname:Ao([s,d.pathname]),pathnameBase:nI(Ao([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ao([s,d.pathnameBase]))}return o}function KT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=a[h]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const _=a[h];return m&&!_?u[f]=void 0:u[f]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function YT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),z0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function QT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return z0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function A4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ti(t):t;return{pathname:n?n.startsWith("/")?n:XT(n,e):e,search:rI(r),hash:sI(s)}}function XT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Kp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function eI(t,e){let n=JT(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tI(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ti(t):(s=lc({},t),gt(!s.pathname||!s.pathname.includes("?"),Kp("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Kp("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Kp("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=ZT(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Ao=t=>t.join("/").replace(/\/\/+/g,"/"),nI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const P4=["post","put","patch","delete"];new Set(P4);const iI=["get",...P4];new Set(iI);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cc(){return cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cc.apply(this,arguments)}const H0=p.createContext(null),aI=p.createContext(null),lf=p.createContext(null),cf=p.createContext(null),ni=p.createContext({outlet:null,matches:[],isDataRoute:!1}),R4=p.createContext(null);function uf(){return p.useContext(cf)!=null}function q0(){return uf()||gt(!1),p.useContext(cf).location}function L4(t){p.useContext(lf).static||p.useLayoutEffect(t)}function fe(){let{isDataRoute:t}=p.useContext(ni);return t?wI():lI()}function lI(){uf()||gt(!1);let t=p.useContext(H0),{basename:e,future:n,navigator:r}=p.useContext(lf),{matches:s}=p.useContext(ni),{pathname:o}=q0(),i=JSON.stringify(eI(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return L4(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=tI(u,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ao([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,i,o,t])}function Tr(){let{matches:t}=p.useContext(ni),e=t[t.length-1];return e?e.params:{}}function cI(t,e){return uI(t,e)}function uI(t,e,n,r){uf()||gt(!1);let{navigator:s}=p.useContext(lf),{matches:o}=p.useContext(ni),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=q0(),d;if(e){var h;let x=typeof e=="string"?ti(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||gt(!1),d=x}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=MT(t,{pathname:m}),w=mI(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Ao([l,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Ao([l,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&w?p.createElement(cf.Provider,{value:{location:cc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ns.Pop}},w):w}function dI(){let t=vI(),e=oI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const hI=p.createElement(dI,null);class fI extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(ni.Provider,{value:this.props.routeContext},p.createElement(R4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pI(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(H0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(ni.Provider,{value:e},r)}function mI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||gt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=n,_=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||_){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,f)=>{let m,_=!1,w=null,x=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||hI,l&&(u<0&&f===0?(xI("route-fallback"),_=!0,x=null):u===f&&(_=!0,x=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,f+1)),y=()=>{let g;return m?g=w:_?g=x:h.route.Component?g=p.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,p.createElement(pI,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(fI,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var O4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(O4||{}),D4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(D4||{});function gI(t){let e=p.useContext(H0);return e||gt(!1),e}function yI(t){let e=p.useContext(aI);return e||gt(!1),e}function _I(t){let e=p.useContext(ni);return e||gt(!1),e}function M4(t){let e=_I(),n=e.matches[e.matches.length-1];return n.route.id||gt(!1),n.route.id}function vI(){var t;let e=p.useContext(R4),n=yI(),r=M4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function wI(){let{router:t}=gI(O4.UseNavigateStable),e=M4(D4.UseNavigateStable),n=p.useRef(!1);return L4(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,cc({fromRouteId:e},o)))},[t,e])}const y2={};function xI(t,e,n){y2[t]||(y2[t]=!0)}function F1(t){gt(!1)}function CI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ns.Pop,navigator:o,static:i=!1,future:a}=t;uf()&&gt(!1);let l=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:l,navigator:o,static:i,future:cc({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=ti(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:_="default"}=r,w=p.useMemo(()=>{let x=A4(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:m,key:_},navigationType:s}},[l,d,h,f,m,_,s]);return w==null?null:p.createElement(lf.Provider,{value:u},p.createElement(cf.Provider,{children:n,value:w}))}function bI(t){let{children:e,location:n}=t;return cI(B1(e),n)}new Promise(()=>{});function B1(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let o=[...e,s];if(r.type===p.Fragment){n.push.apply(n,B1(r.props.children,o));return}r.type!==F1&&gt(!1),!r.props.index||!r.props.children||gt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=B1(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function U1(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function kI(t,e){let n=U1(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const SI="6";try{window.__reactRouterVersion=SI}catch{}const EI="startTransition",_2=x8[EI];function TI(t){let{basename:e,children:n,future:r,window:s}=t,o=p.useRef();o.current==null&&(o.current=LT({window:s,v5Compat:!0}));let i=o.current,[a,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&_2?_2(()=>l(h)):l(h)},[l,u]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.createElement(CI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var v2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(v2||(v2={}));var w2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(w2||(w2={}));function II(t){let e=p.useRef(U1(t)),n=p.useRef(!1),r=q0(),s=p.useMemo(()=>kI(r.search,n.current?null:e.current),[r.search]),o=fe(),i=p.useCallback((a,l)=>{const u=U1(typeof a=="function"?a(s):a);n.current=!0,o("?"+u,l)},[o,s]);return[s,i]}const NI="_container_1a1ax_1",jI={container:NI},AI="_container_1k8xw_1",PI="_loader_1k8xw_12",x2={container:AI,loader:PI},C2={default:{name:"default",icon_color:"#0040F9",first_color:"#0040F9",second_color:"#C3F82B",third_color:"#FF4365",gradient_first_color:"#0040F9",gradient_second_color:"#C3F82B",light_color:"#C3F82B",block_first_color:"#0040F9",block_second_color:"#C3F82B",block_third_color:"#FF4365",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#0A0B10",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},genery:{name:"genery",icon_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",gradient_first_color:"#2400FF",gradient_second_color:"#00C2FF",light_color:"#C3F82B",block_first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",block_second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",block_third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#0A0B10",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},kyrgyzstan:{name:"kyrgyzstan",icon_color:"#E3010F",first_color:"#FEF400",second_color:"#E3010F",third_color:"#FEF400",gradient_first_color:"#FEF400",gradient_second_color:"#E3010F",light_color:"#C3F82B",block_first_color:"#E3010F",block_second_color:"#FEF400",block_third_color:"#FEF400",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#DEDDDD",loader_second_color:"#A6A6A6",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#A6A6A6",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},winter_2024:{name:"winter_2024",icon_color:"#85B6FF",first_color:"#85AFED",second_color:"#A7C0E5",third_color:"#A7C0E5",gradient_first_color:"#85AFED",gradient_second_color:"#CBE0FF",light_color:"green",block_first_color:"#85AFED",block_second_color:"#A7C0E5",block_third_color:"#CBE0FF",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#85AFED",loader_second_color:"#CBE0FF",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#A6A6A6",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"}},F=p.createContext();function RI({children:t}){const e=localStorage.getItem("theme")||"default",[n,r]=p.useState(e);p.useEffect(()=>{localStorage.setItem("theme",n)},[n]);const s=a=>{C2[a]&&r(a)},[o,i]=p.useState({iconColor:"#000000",titleColor:"#000000",arrowColor:"#000000",backgroundColor:"#FFFFFF",activeButton:1});return c.jsx(F.Provider,{value:{theme:C2[n],setThemeById:s,elementColors:o,setElementColors:i},children:t})}function $4({color:t}){const{theme:e,elementColors:n,setElementColors:r}=p.useContext(F);return p.useEffect(()=>{r({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowColor:e.text_first_color,arrowLink:"#/menu",isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!1,isFooter:!1,footerBackground:e.background_color,activeElementIndex:2}),document.body.style.background=e.background_color},[e]),c.jsx("div",{className:x2.container,children:c.jsx("div",{className:x2.loader,children:c.jsx("svg",{width:"50",height:"73",viewBox:"0 0 50 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M39.7767 0.312248C40.2216 0.571102 40.5658 0.973727 40.7532 1.45435C40.9407 1.93497 40.9601 2.46517 40.8085 2.95835L32.6225 29.6566H47.7265C48.1703 29.6564 48.6045 29.7867 48.9755 30.0314C49.3464 30.2761 49.6379 30.6244 49.8138 31.0334C49.9898 31.4425 50.0425 31.8942 49.9656 32.333C49.8887 32.7718 49.6854 33.1784 49.3809 33.5025L13.0186 72.2816C12.6668 72.6571 12.1986 72.902 11.6904 72.9762C11.1821 73.0505 10.6638 72.9497 10.2199 72.6905C9.77606 72.4312 9.43275 72.0286 9.24599 71.5484C9.05922 71.0682 9.04001 70.5387 9.19148 70.0461L17.3776 43.3433H2.27355C1.82968 43.3435 1.39547 43.2132 1.02453 42.9685C0.653591 42.7238 0.362153 42.3755 0.186196 41.9665C0.0102386 41.5574 -0.0425346 41.1056 0.0343904 40.6668C0.111315 40.2281 0.31457 39.8215 0.619066 39.4973L36.9814 0.718287C37.3328 0.343267 37.8003 0.0985916 38.3078 0.0240443C38.8153 -0.0505029 39.333 0.0494621 39.7767 0.307685V0.312248Z",fill:t})})})})}var b2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},LI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},B4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,i||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||u==null||h==null)throw new OI;const f=o<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DI=function(t){const e=F4(t);return B4.encodeByteArray(e,!0)},Qd=function(t){return DI(t).replace(/\./g,"")},U4=function(t){try{return B4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=()=>MI().__FIREBASE_DEFAULTS__,FI=()=>{if(typeof process>"u"||typeof b2>"u")return;const t=b2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&U4(t[1]);return e&&JSON.parse(e)},df=()=>{try{return $I()||FI()||BI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},V4=t=>{var e,n;return(n=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},z4=t=>{const e=V4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},H4=()=>{var t;return(t=df())===null||t===void 0?void 0:t.config},q4=t=>{var e;return(e=df())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qd(JSON.stringify(n)),Qd(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function zI(){var t;const e=(t=df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WI(){const t=Yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GI(){try{return typeof indexedDB=="object"}catch{return!1}}function KI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="FirebaseError";class Ir extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YI,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?QI(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Ir(s,a,r)}}function QI(t,e){return t.replace(ZI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ZI=/\{\$([^}]+)}/g;function XI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(k2(o)&&k2(i)){if(!Zd(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function k2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ml(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function gl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function JI(t,e){const n=new eN(t,e);return n.subscribe.bind(n)}class eN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Yp),s.error===void 0&&(s.error=Yp),s.complete===void 0&&(s.complete=Yp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(t){return t&&t._delegate?t._delegate:t}class Ws{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sN(e))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=go){return this.instances.has(e)}getOptions(e=go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=go){return this.component?this.component.multipleInstances?e:go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rN(t){return t===go?void 0:t}function sN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const iN={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},aN=Ce.INFO,lN={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},cN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=lN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W0{constructor(e){this.name=e,this._logLevel=aN,this._logHandler=cN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const uN=(t,e)=>e.some(n=>t instanceof n);let S2,E2;function dN(){return S2||(S2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hN(){return E2||(E2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G4=new WeakMap,V1=new WeakMap,K4=new WeakMap,Qp=new WeakMap,G0=new WeakMap;function fN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Fs(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&G4.set(n,t)}).catch(()=>{}),G0.set(e,t),e}function pN(t){if(V1.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});V1.set(t,e)}let z1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return V1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||K4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mN(t){z1=t(z1)}function gN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zp(this),e,...n);return K4.set(r,e.sort?e.sort():[e]),Fs(r)}:hN().includes(t)?function(...e){return t.apply(Zp(this),e),Fs(G4.get(this))}:function(...e){return Fs(t.apply(Zp(this),e))}}function yN(t){return typeof t=="function"?gN(t):(t instanceof IDBTransaction&&pN(t),uN(t,dN())?new Proxy(t,z1):t)}function Fs(t){if(t instanceof IDBRequest)return fN(t);if(Qp.has(t))return Qp.get(t);const e=yN(t);return e!==t&&(Qp.set(t,e),G0.set(e,t)),e}const Zp=t=>G0.get(t);function _N(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Fs(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Fs(i.result),l.oldVersion,l.newVersion,Fs(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const vN=["get","getKey","getAll","getAllKeys","count"],wN=["put","add","delete","clear"],Xp=new Map;function T2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xp.get(e))return Xp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=wN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||vN.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Xp.set(e,o),o}mN(t=>({...t,get:(e,n,r)=>T2(e,n)||t.get(e,n,r),has:(e,n)=>!!T2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const H1="@firebase/app",I2="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new W0("@firebase/app"),bN="@firebase/app-compat",kN="@firebase/analytics-compat",SN="@firebase/analytics",EN="@firebase/app-check-compat",TN="@firebase/app-check",IN="@firebase/auth",NN="@firebase/auth-compat",jN="@firebase/database",AN="@firebase/database-compat",PN="@firebase/functions",RN="@firebase/functions-compat",LN="@firebase/installations",ON="@firebase/installations-compat",DN="@firebase/messaging",MN="@firebase/messaging-compat",$N="@firebase/performance",FN="@firebase/performance-compat",BN="@firebase/remote-config",UN="@firebase/remote-config-compat",VN="@firebase/storage",zN="@firebase/storage-compat",HN="@firebase/firestore",qN="@firebase/firestore-compat",WN="firebase",GN="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="[DEFAULT]",KN={[H1]:"fire-core",[bN]:"fire-core-compat",[SN]:"fire-analytics",[kN]:"fire-analytics-compat",[TN]:"fire-app-check",[EN]:"fire-app-check-compat",[IN]:"fire-auth",[NN]:"fire-auth-compat",[jN]:"fire-rtdb",[AN]:"fire-rtdb-compat",[PN]:"fire-fn",[RN]:"fire-fn-compat",[LN]:"fire-iid",[ON]:"fire-iid-compat",[DN]:"fire-fcm",[MN]:"fire-fcm-compat",[$N]:"fire-perf",[FN]:"fire-perf-compat",[BN]:"fire-rc",[UN]:"fire-rc-compat",[VN]:"fire-gcs",[zN]:"fire-gcs-compat",[HN]:"fire-fst",[qN]:"fire-fst-compat","fire-js":"fire-js",[WN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,W1=new Map;function YN(t,e){try{t.container.addComponent(e)}catch(n){Vo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zo(t){const e=t.name;if(W1.has(e))return Vo.debug(`There were multiple attempts to register component ${e}.`),!1;W1.set(e,t);for(const n of Xd.values())YN(n,t);return!0}function hf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Bs=new $c("app","Firebase",QN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=GN;function Y4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:q1,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Bs.create("bad-app-name",{appName:String(s)});if(n||(n=H4()),!n)throw Bs.create("no-options");const o=Xd.get(s);if(o){if(Zd(n,o.options)&&Zd(r,o.config))return o;throw Bs.create("duplicate-app",{appName:s})}const i=new oN(s);for(const l of W1.values())i.addComponent(l);const a=new ZN(n,r,i);return Xd.set(s,a),a}function K0(t=q1){const e=Xd.get(t);if(!e&&t===q1&&H4())return Y4();if(!e)throw Bs.create("no-app",{appName:t});return e}function vr(t,e,n){var r;let s=(r=KN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vo.warn(a.join(" "));return}zo(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="firebase-heartbeat-database",JN=1,uc="firebase-heartbeat-store";let Jp=null;function Q4(){return Jp||(Jp=_N(XN,JN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(uc)}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),Jp}async function ej(t){try{return await(await Q4()).transaction(uc).objectStore(uc).get(Z4(t))}catch(e){if(e instanceof Ir)Vo.warn(e.message);else{const n=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vo.warn(n.message)}}}async function N2(t,e){try{const r=(await Q4()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,Z4(t)),await r.done}catch(n){if(n instanceof Ir)Vo.warn(n.message);else{const r=Bs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vo.warn(r.message)}}}function Z4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=1024,nj=30*24*60*60*1e3;class rj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=j2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=nj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=j2(),{heartbeatsToSend:n,unsentEntries:r}=sj(this._heartbeatsCache.heartbeats),s=Qd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function j2(){return new Date().toISOString().substring(0,10)}function sj(t,e=tj){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),A2(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),A2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GI()?KI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ej(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return N2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return N2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function A2(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){zo(new Ws("platform-logger",e=>new xN(e),"PRIVATE")),zo(new Ws("heartbeat",e=>new rj(e),"PRIVATE")),vr(H1,I2,t),vr(H1,I2,"esm2017"),vr("fire-js","")}ij("");function Y0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function X4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aj=X4,J4=new $c("auth","Firebase",X4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new W0("@firebase/auth");function lj(t,...e){Jd.logLevel<=Ce.WARN&&Jd.warn(`Auth (${ri}): ${t}`,...e)}function hd(t,...e){Jd.logLevel<=Ce.ERROR&&Jd.error(`Auth (${ri}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,...e){throw Q0(t,...e)}function wr(t,...e){return Q0(t,...e)}function cj(t,e,n){const r=Object.assign(Object.assign({},aj()),{[e]:n});return new $c("auth","Firebase",r).create(e,{appName:t.name})}function Q0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return J4.create(t,...e)}function oe(t,e,...n){if(!t)throw Q0(e,...n)}function Dr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hd(e),new Error(e)}function Qr(t,e){t||Dr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function uj(){return P2()==="http:"||P2()==="https:"}function P2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uj()||HI()||"connection"in navigator)?navigator.onLine:!0}function hj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=VI()||qI()}get(){return dj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e){Qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Bc(3e4,6e4);function Aa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pa(t,e,n,r,s={}){return tb(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const a=Fc(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),eb.fetch()(nb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function tb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fj),e);try{const s=new mj(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Au(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Au(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw Au(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw Au(t,"user-disabled",i);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw cj(t,d,u);nr(t,d)}}catch(s){if(s instanceof Ir)throw s;nr(t,"network-request-failed",{message:String(s)})}}async function Uc(t,e,n,r,s={}){const o=await Pa(t,e,n,r,s);return"mfaPendingCredential"in o&&nr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function nb(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Z0(t.config,s):`${t.config.apiScheme}://${s}`}class mj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),pj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=wr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e){return Pa(t,"POST","/v1/accounts:delete",e)}async function yj(t,e){return Pa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _j(t,e=!1){const n=je(t),r=await n.getIdToken(e),s=X0(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Rl(em(s.auth_time)),issuedAtTime:Rl(em(s.iat)),expirationTime:Rl(em(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function em(t){return Number(t)*1e3}function X0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{const s=U4(n);return s?JSON.parse(s):(hd("Failed to decode base64 JWT payload"),null)}catch(s){return hd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function vj(t){const e=X0(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ir&&wj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await dc(t,yj(n,{idToken:r}));oe(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?kj(o.providerUserInfo):[],a=bj(t.providerData,i),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new rb(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Cj(t){const e=je(t);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kj(t){return t.map(e=>{var{providerId:n}=e,r=Y0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sj(t,e){const n=await tb(t,{},async()=>{const r=Fc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=nb(t,s,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eb.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await Sj(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new hc;return r&&(oe(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(oe(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hc,this.toJSON())}_performRefresh(){return Dr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Po{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=Y0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await dc(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _j(this,e)}reload(){return Cj(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Po(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await dc(this,gj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,i,a,l,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,_=(i=n.photoURL)!==null&&i!==void 0?i:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:g,emailVerified:C,isAnonymous:b,providerData:k,stsTokenManager:T}=n;oe(g&&T,e,"internal-error");const S=hc.fromJSON(this.name,T);oe(typeof g=="string",e,"internal-error"),cs(h,e.name),cs(f,e.name),oe(typeof C=="boolean",e,"internal-error"),oe(typeof b=="boolean",e,"internal-error"),cs(m,e.name),cs(_,e.name),cs(w,e.name),cs(x,e.name),cs(v,e.name),cs(y,e.name);const E=new Po({uid:g,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:b,photoURL:_,phoneNumber:m,tenantId:w,stsTokenManager:S,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(E.providerData=k.map(I=>Object.assign({},I))),x&&(E._redirectEventId=x),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new hc;s.updateFromServerResponse(n);const o=new Po({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await eh(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Map;function Mr(t){Qr(t instanceof Function,"Expected a class definition");let e=R2.get(t);return e?(Qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,R2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sb.type="NONE";const L2=sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t,e,n){return`firebase:${t}:${e}:${n}`}class Gi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=fd(this.userKey,s.apiKey,o),this.fullPersistenceKey=fd("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Po._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Gi(Mr(L2),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=s[0]||Mr(L2);const i=fd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(i);if(d){const h=Po._fromJSON(e,d);u!==o&&(a=h),o=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Gi(o,e,r):(o=l[0],a&&await o._set(i,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(i)}catch{}})),new Gi(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ab(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ob(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cb(e))return"Blackberry";if(ub(e))return"Webos";if(J0(e))return"Safari";if((e.includes("chrome/")||ib(e))&&!e.includes("edge/"))return"Chrome";if(lb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ob(t=Yt()){return/firefox\//i.test(t)}function J0(t=Yt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ib(t=Yt()){return/crios\//i.test(t)}function ab(t=Yt()){return/iemobile/i.test(t)}function lb(t=Yt()){return/android/i.test(t)}function cb(t=Yt()){return/blackberry/i.test(t)}function ub(t=Yt()){return/webos/i.test(t)}function ff(t=Yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ej(t=Yt()){var e;return ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Tj(){return WI()&&document.documentMode===10}function db(t=Yt()){return ff(t)||lb(t)||ub(t)||cb(t)||/windows phone/i.test(t)||ab(t)}function Ij(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t,e=[]){let n;switch(t){case"Browser":n=O2(Yt());break;case"Worker":n=`${O2(Yt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ri}/${r}`}async function fb(t,e){return Pa(t,"GET","/v2/recaptchaConfig",Aa(t,e))}function D2(t){return t!==void 0&&t.enterprise!==void 0}class pb{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function mb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=wr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",Nj().appendChild(r)})}function jj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Aj="https://www.google.com/recaptcha/enterprise.js?render=",Pj="recaptcha-enterprise",Rj="NO_RECAPTCHA";class gb{constructor(e){this.type=Pj,this.auth=Ra(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,a)=>{fb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new pb(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,i(u.siteKey)}}).catch(l=>{a(l)})})}function s(o,i,a){const l=window.grecaptcha;D2(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{i(u)}).catch(()=>{i(Rj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,i)=>{r(this.auth).then(a=>{if(!n&&D2(window.grecaptcha))s(a,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}mb(Aj+a).then(()=>{s(a,o,i)}).catch(l=>{i(l)})}}).catch(a=>{i(a)})})}}async function th(t,e,n,r=!1){const s=new gb(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const i=Object.assign({},e);return r?Object.assign(i,{captchaResp:o}):Object.assign(i,{captchaResponse:o}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,a)=>{try{const l=e(o);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new M2(this),this.idTokenSubscription=new M2(this),this.beforeStateQueue=new Lj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Gi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?je(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}async initializeRecaptchaConfig(){const e=await fb(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new pb(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new gb(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Gi.create(this,[Mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),i=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(i,this,"internal-error"),i.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ra(t){return je(t)}class M2{constructor(e){this.auth=e,this.observer=null,this.addObserver=JI(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t,e){const n=hf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Zd(o,e??{}))return s;nr(s,"already-initialized")}return n.initialize({options:e})}function Mj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $j(t,e,n){const r=Ra(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=yb(e),{host:i,port:a}=Fj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),Bj()}function yb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Fj(t){const e=yb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:$2(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:$2(i)}}}function $2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Bj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function Uj(t,e){return Pa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(t,e){return Uc(t,"POST","/v1/accounts:signInWithPassword",Aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",Aa(t,e))}async function zj(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",Aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends ey{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new fc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await th(e,r,"signInWithPassword");return tm(e,s)}else return tm(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await th(e,r,"signInWithPassword");return tm(e,o)}else return Promise.reject(s)});case"emailLink":return Vj(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Uj(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return zj(e,{idToken:n,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ki(t,e){return Uc(t,"POST","/v1/accounts:signInWithIdp",Aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="http://localhost";class Ho extends ey{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=Y0(n,["providerId","signInMethod"]);if(!r||!s)return null;const i=new Ho(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Ki(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ki(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ki(e,n)}buildRequest(){const e={requestUri:Hj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wj(t){const e=ml(gl(t)).link,n=e?ml(gl(e)).deep_link_id:null,r=ml(gl(t)).deep_link_id;return(r?ml(gl(r)).link:null)||r||n||e||t}class ty{constructor(e){var n,r,s,o,i,a;const l=ml(gl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=qj((s=l.mode)!==null&&s!==void 0?s:null);oe(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=l.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Wj(e);try{return new ty(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.providerId=La.PROVIDER_ID}static credential(e,n){return fc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ty.parseLink(n);return oe(r,"argument-error"),fc._fromEmailAndCode(e,r.code,r.tenantId)}}La.PROVIDER_ID="password";La.EMAIL_PASSWORD_SIGN_IN_METHOD="password";La.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends _b{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Vc{constructor(){super("facebook.com")}static credential(e){return Ho._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ho._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Vc{constructor(){super("github.com")}static credential(e){return Ho._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Vc{constructor(){super("twitter.com")}static credential(e,n){return Ho._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(t,e){return Uc(t,"POST","/v1/accounts:signUp",Aa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await Po._fromIdTokenResponse(e,r,s),i=F2(r);return new qo({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=F2(r);return new qo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function F2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends Ir{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new nh(e,n,r,s)}}function vb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(t,o,e,r):o})}async function Gj(t,e,n=!1){const r=await dc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kj(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const o=await dc(t,vb(r,s,e,t),n);oe(o.idToken,r,"internal-error");const i=X0(o.idToken);oe(i,r,"internal-error");const{sub:a}=i;return oe(t.uid===a,r,"user-mismatch"),qo._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&nr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(t,e,n=!1){const r="signIn",s=await vb(t,r,e),o=await qo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function Yj(t,e){return wb(Ra(t),e)}async function Qj(t,e,n){var r;const s=Ra(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let i;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await th(s,o,"signUpPassword");i=nm(s,u)}else i=nm(s,o).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await th(s,o,"signUpPassword");return nm(s,d)}else return Promise.reject(u)});const a=await i.catch(u=>Promise.reject(u)),l=await qo._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function Zj(t,e,n){return Yj(je(t),La.credential(e,n))}function Xj(t,e,n,r){return je(t).onIdTokenChanged(e,n,r)}function Jj(t,e,n){return je(t).beforeAuthStateChanged(e,n)}function eA(t,e,n,r){return je(t).onAuthStateChanged(e,n,r)}function tA(t){return je(t).signOut()}const rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){const t=Yt();return J0(t)||ff(t)}const rA=1e3,sA=10;class Cb extends xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=nA()&&Ij(),this.fallbackToPolling=db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(r);if(e.newValue!==i)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);Tj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sA):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cb.type="LOCAL";const oA=Cb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb extends xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bb.type="SESSION";const kb=bb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(i).map(async u=>u(n.origin,o)),l=await iA(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((a,l)=>{const u=ny("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function lA(t){xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function cA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dA(){return Sb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebaseLocalStorageDb",hA=1,sh="firebaseLocalStorage",Tb="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(t,e){return t.transaction([sh],e?"readwrite":"readonly").objectStore(sh)}function fA(){const t=indexedDB.deleteDatabase(Eb);return new zc(t).toPromise()}function K1(){const t=indexedDB.open(Eb,hA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sh,{keyPath:Tb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sh)?e(r):(r.close(),await fA(),e(await K1()))})})}async function B2(t,e,n){const r=mf(t,!0).put({[Tb]:e,value:n});return new zc(r).toPromise()}async function pA(t,e){const n=mf(t,!1).get(e),r=await new zc(n).toPromise();return r===void 0?null:r.value}function U2(t,e){const n=mf(t,!0).delete(e);return new zc(n).toPromise()}const mA=800,gA=3;class Ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(dA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cA(),!this.activeServiceWorker)return;this.sender=new aA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K1();return await B2(e,rh,"1"),await U2(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>B2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>U2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=mf(s,!1).getAll();return new zc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ib.type="LOCAL";const yA=Ib;new Bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e){return e?Mr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends ey{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ki(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ki(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ki(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vA(t){return wb(t.auth,new ry(t),t.bypassAuthState)}function wA(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),Kj(n,new ry(t),t.bypassAuthState)}async function xA(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),Gj(n,new ry(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vA;case"linkViaPopup":case"linkViaRedirect":return xA;case"reauthViaPopup":case"reauthViaRedirect":return wA;default:nr(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=new Bc(2e3,1e4);class Oi extends Nb{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Oi.currentPopupAction&&Oi.currentPopupAction.cancel(),Oi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CA.get())};e()}}Oi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="pendingRedirect",pd=new Map;class kA extends Nb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pd.get(this.auth._key());if(!e){try{const r=await SA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pd.set(this.auth._key(),e)}return this.bypassAuthState||pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SA(t,e){const n=IA(e),r=TA(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function EA(t,e){pd.set(t._key(),e)}function TA(t){return Mr(t._redirectPersistence)}function IA(t){return fd(bA,t.config.apiKey,t.name)}async function NA(t,e,n=!1){const r=Ra(t),s=_A(r,e),i=await new kA(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=10*60*1e3;class AA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jA&&this.cachedEventUids.clear(),this.cachedEventUids.has(V2(e))}saveEventToCache(e){this.cachedEventUids.add(V2(e)),this.lastProcessedEventTime=Date.now()}}function V2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(t,e={}){return Pa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OA=/^https?/;async function DA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await RA(t);for(const n of e)try{if(MA(n))return}catch{}nr(t,"unauthorized-domain")}function MA(t){const e=G1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!OA.test(n))return!1;if(LA.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new Bc(3e4,6e4);function z2(){const t=xr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FA(t){return new Promise((e,n)=>{var r,s,o;function i(){z2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z2(),n(wr(t,"network-request-failed"))},timeout:$A.get()})}if(!((s=(r=xr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=xr().gapi)===null||o===void 0)&&o.load)i();else{const a=jj("iframefcb");return xr()[a]=()=>{gapi.load?i():n(wr(t,"network-request-failed"))},mb(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw md=null,e})}let md=null;function BA(t){return md=md||FA(t),md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new Bc(5e3,15e3),VA="__/auth/iframe",zA="emulator/auth/iframe",HA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WA(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Z0(e,zA):`https://${t.config.authDomain}/${VA}`,r={apiKey:e.apiKey,appName:t.name,v:ri},s=qA.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Fc(r).slice(1)}`}async function GA(t){const e=await BA(t),n=xr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:WA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HA,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=wr(t,"network-request-failed"),a=xr().setTimeout(()=>{o(i)},UA.get());function l(){xr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YA=500,QA=600,ZA="_blank",XA="http://localhost";class H2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JA(t,e,n,r=YA,s=QA){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},KA),{width:r.toString(),height:s.toString(),top:o,left:i}),u=Yt().toLowerCase();n&&(a=ib(u)?ZA:n),ob(u)&&(e=e||XA,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,_])=>`${f}${m}=${_},`,"");if(Ej(u)&&a!=="_self")return eP(e||"",a),new H2(null);const h=window.open(e||"",a,d);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new H2(h)}function eP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP="__/auth/handler",nP="emulator/auth/handler",rP=encodeURIComponent("fac");async function q2(t,e,n,r,s,o){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ri,eventId:s};if(e instanceof _b){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",XI(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof Vc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${rP}=${encodeURIComponent(l)}`:"";return`${sP(t)}?${Fc(a).slice(1)}${u}`}function sP({config:t}){return t.emulator?Z0(t,nP):`https://${t.authDomain}/${tP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="webStorageSupport";class oP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kb,this._completeRedirectFn=NA,this._overrideRedirectResult=EA}async _openPopup(e,n,r,s){var o;Qr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await q2(e,n,r,G1(),s);return JA(e,i,ny())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await q2(e,n,r,G1(),s);return lA(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Qr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GA(e),r=new AA(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rm,{type:rm},s=>{var o;const i=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[rm];i!==void 0&&n(!!i),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return db()||J0()||ff()}}const iP=oP;var W2="@firebase/auth",G2="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function cP(t){zo(new Ws("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;oe(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hb(t)},u=new Oj(r,s,o,l);return Mj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zo(new Ws("auth-internal",e=>{const n=Ra(e.getProvider("auth").getImmediate());return(r=>new aP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(W2,G2,lP(t)),vr(W2,G2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=5*60,dP=q4("authIdTokenMaxAge")||uP;let K2=null;const hP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dP)return;const s=n==null?void 0:n.token;K2!==s&&(K2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fP(t=K0()){const e=hf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Dj(t,{popupRedirectResolver:iP,persistence:[yA,oA,kb]}),r=q4("authTokenSyncURL");if(r){const o=hP(r);Jj(n,o,()=>o(n.currentUser)),Xj(n,i=>o(i))}const s=V4("auth");return s&&$j(n,`http://${s}`),n}cP("Browser");var pP="firebase",mP="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vr(pP,mP,"app");var gP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,sy=sy||{},ae=gP||self;function gf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function yf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function yP(t,e,n){return t.call.apply(t.bind,arguments)}function _P(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function zt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?zt=yP:zt=_P,zt.apply(null,arguments)}function Pu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ct(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,o){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[s].apply(r,i)}}function to(){this.s=this.s,this.o=this.o}var vP=0;to.prototype.s=!1;to.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),vP!=0)};to.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ab=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function oy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Y2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gf(r)){const s=t.length||0,o=r.length||0;t.length=s+o;for(let i=0;i<o;i++)t[s+i]=r[i]}else t.push(r)}}function Ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var wP=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return t}();function pc(t){return/^[\s\xa0]*$/.test(t)}function _f(){var t=ae.navigator;return t&&(t=t.userAgent)?t:""}function hr(t){return _f().indexOf(t)!=-1}function iy(t){return iy[" "](t),t}iy[" "]=function(){};function xP(t,e){var n=pR;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var CP=hr("Opera"),ca=hr("Trident")||hr("MSIE"),Pb=hr("Edge"),Y1=Pb||ca,Rb=hr("Gecko")&&!(_f().toLowerCase().indexOf("webkit")!=-1&&!hr("Edge"))&&!(hr("Trident")||hr("MSIE"))&&!hr("Edge"),bP=_f().toLowerCase().indexOf("webkit")!=-1&&!hr("Edge");function Lb(){var t=ae.document;return t?t.documentMode:void 0}var Q1;e:{var sm="",om=function(){var t=_f();if(Rb)return/rv:([^\);]+)(\)|;)/.exec(t);if(Pb)return/Edge\/([\d\.]+)/.exec(t);if(ca)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(bP)return/WebKit\/(\S+)/.exec(t);if(CP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(om&&(sm=om?om[1]:""),ca){var im=Lb();if(im!=null&&im>parseFloat(sm)){Q1=String(im);break e}}Q1=sm}var Z1;if(ae.document&&ca){var Q2=Lb();Z1=Q2||parseInt(Q1,10)||void 0}else Z1=void 0;var kP=Z1;function mc(t,e){if(Ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Rb){e:{try{iy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:SP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&mc.$.h.call(this)}}Ct(mc,Ht);var SP={2:"touch",3:"pen",4:"mouse"};mc.prototype.h=function(){mc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vf="closure_listenable_"+(1e6*Math.random()|0),EP=0;function TP(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++EP,this.fa=this.ia=!1}function wf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ay(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function IP(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Ob(t){const e={};for(const n in t)e[n]=t[n];return e}const Z2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Db(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let o=0;o<Z2.length;o++)n=Z2[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xf(t){this.src=t,this.g={},this.h=0}xf.prototype.add=function(t,e,n,r,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var i=J1(t,e,r,s);return-1<i?(e=t[i],n||(e.ia=!1)):(e=new TP(e,this.src,o,!!r,s),e.ia=n,t.push(e)),e};function X1(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Ab(r,e),o;(o=0<=s)&&Array.prototype.splice.call(r,s,1),o&&(wf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function J1(t,e,n,r){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return s}return-1}var ly="closure_lm_"+(1e6*Math.random()|0),am={};function Mb(t,e,n,r,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Mb(t,e[o],n,r,s);return null}return n=Bb(n),t&&t[vf]?t.O(e,n,yf(r)?!!r.capture:!1,s):NP(t,e,n,!1,r,s)}function NP(t,e,n,r,s,o){if(!e)throw Error("Invalid event type");var i=yf(s)?!!s.capture:!!s,a=uy(t);if(a||(t[ly]=a=new xf(t)),n=a.add(e,n,r,i,o),n.proxy)return n;if(r=jP(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wP||(s=i),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Fb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function jP(){function t(n){return e.call(t.src,t.listener,n)}const e=AP;return t}function $b(t,e,n,r,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)$b(t,e[o],n,r,s);else r=yf(r)?!!r.capture:!!r,n=Bb(n),t&&t[vf]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=J1(o,n,r,s),-1<n&&(wf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=uy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=J1(e,n,r,s)),(n=-1<t?e[t]:null)&&cy(n))}function cy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[vf])X1(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Fb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uy(e))?(X1(n,t),n.h==0&&(n.src=null,e[ly]=null)):wf(t)}}}function Fb(t){return t in am?am[t]:am[t]="on"+t}function AP(t,e){if(t.fa)t=!0;else{e=new mc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cy(t),t=n.call(r,e)}return t}function uy(t){return t=t[ly],t instanceof xf?t:null}var lm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bb(t){return typeof t=="function"?t:(t[lm]||(t[lm]=function(e){return t.handleEvent(e)}),t[lm])}function xt(){to.call(this),this.i=new xf(this),this.S=this,this.J=null}Ct(xt,to);xt.prototype[vf]=!0;xt.prototype.removeEventListener=function(t,e,n,r){$b(this,t,e,n,r)};function Nt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ht(e,t);else if(e instanceof Ht)e.target=e.target||t;else{var s=e;e=new Ht(r,t),Db(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var i=e.g=n[o];s=Ru(i,r,!0,e)&&s}if(i=e.g=t,s=Ru(i,r,!0,e)&&s,s=Ru(i,r,!1,e)&&s,n)for(o=0;o<n.length;o++)i=e.g=n[o],s=Ru(i,r,!1,e)&&s}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)wf(n[r]);delete t.g[e],t.h--}}this.J=null};xt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};xt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ru(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var i=e[o];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&X1(t.i,i),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var dy=ae.JSON.stringify;class PP{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function RP(){var t=hy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class LP{constructor(){this.h=this.g=null}add(e,n){const r=Ub.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Ub=new PP(()=>new OP,t=>t.reset());class OP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function DP(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function MP(t){ae.setTimeout(()=>{throw t},0)}let gc,yc=!1,hy=new LP,Vb=()=>{const t=ae.Promise.resolve(void 0);gc=()=>{t.then($P)}};var $P=()=>{for(var t;t=RP();){try{t.h.call(t.g)}catch(n){MP(n)}var e=Ub;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}yc=!1};function Cf(t,e){xt.call(this),this.h=t||1,this.g=e||ae,this.j=zt(this.qb,this),this.l=Date.now()}Ct(Cf,xt);H=Cf.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Nt(this,"tick"),this.ga&&(fy(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function fy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Cf.$.N.call(this),fy(this),delete this.g};function py(t,e,n){if(typeof t=="function")n&&(t=zt(t,n));else if(t&&typeof t.handleEvent=="function")t=zt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ae.setTimeout(t,e||0)}function zb(t){t.g=py(()=>{t.g=null,t.i&&(t.i=!1,zb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class FP extends to{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zb(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _c(t){to.call(this),this.h=t,this.g={}}Ct(_c,to);var X2=[];function Hb(t,e,n,r){Array.isArray(n)||(n&&(X2[0]=n.toString()),n=X2);for(var s=0;s<n.length;s++){var o=Mb(e,n[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function qb(t){ay(t.g,function(e,n){this.g.hasOwnProperty(n)&&cy(e)},t),t.g={}}_c.prototype.N=function(){_c.$.N.call(this),qb(this)};_c.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bf(){this.g=!0}bf.prototype.Ea=function(){this.g=!1};function BP(t,e,n,r,s,o){t.info(function(){if(t.g)if(o)for(var i="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var d=u[0];u=u[1];var h=d.split("_");i=2<=h.length&&h[1]=="type"?i+(d+"="+u+"&"):i+(d+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+i})}function UP(t,e,n,r,s,o,i){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+i})}function Di(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zP(t,n)+(r?" "+r:"")})}function VP(t,e){t.info(function(){return"TIMEOUT: "+e})}bf.prototype.info=function(){};function zP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var i=1;i<s.length;i++)s[i]=""}}}}return dy(n)}catch{return e}}var si={},J2=null;function kf(){return J2=J2||new xt}si.Ta="serverreachability";function Wb(t){Ht.call(this,si.Ta,t)}Ct(Wb,Ht);function vc(t){const e=kf();Nt(e,new Wb(e))}si.STAT_EVENT="statevent";function Gb(t,e){Ht.call(this,si.STAT_EVENT,t),this.stat=e}Ct(Gb,Ht);function tn(t){const e=kf();Nt(e,new Gb(e,t))}si.Ua="timingevent";function Kb(t,e){Ht.call(this,si.Ua,t),this.size=e}Ct(Kb,Ht);function Hc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){t()},e)}var Sf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function my(){}my.prototype.h=null;function ew(t){return t.h||(t.h=t.i())}function Qb(){}var qc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gy(){Ht.call(this,"d")}Ct(gy,Ht);function yy(){Ht.call(this,"c")}Ct(yy,Ht);var eg;function Ef(){}Ct(Ef,my);Ef.prototype.g=function(){return new XMLHttpRequest};Ef.prototype.i=function(){return{}};eg=new Ef;function Wc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new _c(this),this.P=HP,t=Y1?125:void 0,this.V=new Cf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Zb}function Zb(){this.i=null,this.g="",this.h=!1}var HP=45e3,tg={},oh={};H=Wc.prototype;H.setTimeout=function(t){this.P=t};function ng(t,e,n){t.L=1,t.v=If(Zr(e)),t.s=n,t.S=!0,Xb(t,null)}function Xb(t,e){t.G=Date.now(),Gc(t),t.A=Zr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),i9(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Zb,t.g=T9(t.l,n?e:null,!t.s),0<t.O&&(t.M=new FP(zt(t.Pa,t,t.g),t.O)),Hb(t.U,t.g,"readystatechange",t.nb),e=t.I?Ob(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),vc(),BP(t.j,t.u,t.A,t.m,t.W,t.s)}H.nb=function(t){t=t.target;const e=this.M;e&&fr(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const d=fr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||Y1||this.g&&(this.h.h||this.g.ja()||sw(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?vc(3):vc(2)),Tf(this);var n=this.g.da();this.ca=n;t:if(Jb(this)){var r=sw(this.g);t="";var s=r.length,o=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){So(this),Ll(this);var i="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,UP(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pc(a)){var u=a;break t}}u=null}if(n=u)Di(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rg(this,n);else{this.i=!1,this.o=3,tn(12),So(this),Ll(this);break e}}this.S?(e9(this,d,i),Y1&&this.i&&d==3&&(Hb(this.U,this.V,"tick",this.mb),this.V.start())):(Di(this.j,this.m,i,null),rg(this,i)),d==4&&So(this),this.i&&!this.J&&(d==4?b9(this.l,this):(this.i=!1,Gc(this)))}else dR(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.o=3,tn(12)):(this.o=0,tn(13)),So(this),Ll(this)}}}catch{}finally{}};function Jb(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function e9(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=qP(t,n),s==oh){e==4&&(t.o=4,tn(14),r=!1),Di(t.j,t.m,null,"[Incomplete Response]");break}else if(s==tg){t.o=4,tn(15),Di(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Di(t.j,t.m,s,null),rg(t,s);Jb(t)&&s!=oh&&s!=tg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,tn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),by(e),e.M=!0,tn(11))):(Di(t.j,t.m,n,"[Invalid Chunked Response]"),So(t),Ll(t))}H.mb=function(){if(this.g){var t=fr(this.g),e=this.g.ja();this.C<e.length&&(Tf(this),e9(this,t,e),this.i&&t!=4&&Gc(this))}};function qP(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?oh:(n=Number(e.substring(n,r)),isNaN(n)?tg:(r+=1,r+n>e.length?oh:(e=e.slice(r,r+n),t.C=r+n,e)))}H.cancel=function(){this.J=!0,So(this)};function Gc(t){t.Y=Date.now()+t.P,t9(t,t.P)}function t9(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Hc(zt(t.lb,t),e)}function Tf(t){t.B&&(ae.clearTimeout(t.B),t.B=null)}H.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(VP(this.j,this.A),this.L!=2&&(vc(),tn(17)),So(this),this.o=2,Ll(this)):t9(this,this.Y-t)};function Ll(t){t.l.H==0||t.J||b9(t.l,t)}function So(t){Tf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,fy(t.V),qb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function rg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||sg(n.i,t))){if(!t.K&&sg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)lh(n),Af(n);else break e;Cy(n),tn(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Hc(zt(n.ib,n),6e3));if(1>=c9(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Eo(n,11)}else if((t.K||n.g==t)&&lh(n),!pc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const d=u[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const _=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(_y(o,o.h),o.h=null))}if(r.F){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Le(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=t;if(r.wa=E9(r,r.J?r.pa:null,r.Y),i.K){u9(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.B&&(Tf(a),Gc(a)),r.g=i}else x9(r);0<n.j.length&&Pf(n)}else u[0]!="stop"&&u[0]!="close"||Eo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Eo(n,7):xy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}vc(4)}catch{}}function WP(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function GP(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function n9(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=GP(t),r=WP(t),s=r.length,o=0;o<s;o++)e.call(void 0,r[o],n&&n[o],t)}var r9=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var o=t[n].substring(0,r);s=t[n].substring(r+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ro(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ro){this.h=t.h,ih(this,t.j),this.s=t.s,this.g=t.g,ah(this,t.m),this.l=t.l;var e=t.i,n=new wc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),tw(this,n),this.o=t.o}else t&&(e=String(t).match(r9))?(this.h=!1,ih(this,e[1]||"",!0),this.s=yl(e[2]||""),this.g=yl(e[3]||"",!0),ah(this,e[4]),this.l=yl(e[5]||"",!0),tw(this,e[6]||"",!0),this.o=yl(e[7]||"")):(this.h=!1,this.i=new wc(null,this.h))}Ro.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_l(e,nw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(_l(e,nw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(_l(n,n.charAt(0)=="/"?ZP:QP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_l(n,JP)),t.join("")};function Zr(t){return new Ro(t)}function ih(t,e,n){t.j=n?yl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ah(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function tw(t,e,n){e instanceof wc?(t.i=e,eR(t.i,t.h)):(n||(e=_l(e,XP)),t.i=new wc(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function If(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _l(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var nw=/[#\/\?@]/g,QP=/[#\?:]/g,ZP=/[#\?]/g,XP=/[#\?@]/g,JP=/#/g;function wc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function no(t){t.g||(t.g=new Map,t.h=0,t.i&&KP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=wc.prototype;H.add=function(t,e){no(this),this.i=null,t=Oa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function s9(t,e){no(t),e=Oa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function o9(t,e){return no(t),e=Oa(t,e),t.g.has(e)}H.forEach=function(t,e){no(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};H.ta=function(){no(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let o=0;o<s.length;o++)n.push(e[r])}return n};H.Z=function(t){no(this);let e=[];if(typeof t=="string")o9(this,t)&&(e=e.concat(this.g.get(Oa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return no(this),this.i=null,t=Oa(this,t),o9(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function i9(t,e,n){s9(t,e),0<n.length&&(t.i=null,t.g.set(Oa(t,e),oy(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var s=o;i[r]!==""&&(s+="="+encodeURIComponent(String(i[r]))),t.push(s)}}return this.i=t.join("&")};function Oa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function eR(t,e){e&&!t.j&&(no(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(s9(this,r),i9(this,s,n))},t)),t.j=e}var tR=class{constructor(t,e){this.g=t,this.map=e}};function a9(t){this.l=t||nR,ae.PerformanceNavigationTiming?(t=ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nR=10;function l9(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function c9(t){return t.h?1:t.g?t.g.size:0}function sg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function _y(t,e){t.g?t.g.add(e):t.h=e}function u9(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}a9.prototype.cancel=function(){if(this.i=d9(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function d9(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return oy(t.i)}var rR=class{stringify(t){return ae.JSON.stringify(t,void 0)}parse(t){return ae.JSON.parse(t,void 0)}};function sR(){this.g=new rR}function oR(t,e,n){const r=n||"";try{n9(t,function(s,o){let i=s;yf(s)&&(i=dy(s)),e.push(r+o+"="+encodeURIComponent(i))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function iR(t,e){const n=new bf;if(ae.Image){const r=new Image;r.onload=Pu(Lu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Pu(Lu,n,r,"TestLoadImage: error",!1,e),r.onabort=Pu(Lu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pu(Lu,n,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Lu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Kc(t){this.l=t.fc||null,this.j=t.ob||!1}Ct(Kc,my);Kc.prototype.g=function(){return new Nf(this.l,this.j)};Kc.prototype.i=function(t){return function(){return t}}({});function Nf(t,e){xt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=vy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ct(Nf,xt);var vy=0;H=Nf.prototype;H.open=function(t,e){if(this.readyState!=vy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xc(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yc(this)),this.readyState=vy};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xc(this)),this.g&&(this.readyState=3,xc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;h9(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function h9(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Yc(this):xc(this),this.readyState==3&&h9(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,Yc(this))};H.Ya=function(t){this.g&&(this.response=t,Yc(this))};H.ka=function(){this.g&&Yc(this)};function Yc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xc(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function xc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Nf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var aR=ae.JSON.parse;function tt(t){xt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=f9,this.L=this.M=!1}Ct(tt,xt);var f9="",lR=/^https?$/i,cR=["POST","PUT"];H=tt.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():eg.g(),this.C=this.u?ew(this.u):ew(eg),this.g.onreadystatechange=zt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){rw(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=ae.FormData&&t instanceof ae.FormData,!(0<=Ab(cR,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,i]of n)this.g.setRequestHeader(o,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{g9(this),0<this.B&&((this.L=uR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zt(this.ua,this)):this.A=py(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){rw(this,o)}};function uR(t){return ca&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof sy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Nt(this,"timeout"),this.abort(8))};function rw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,p9(t),jf(t)}function p9(t){t.F||(t.F=!0,Nt(t,"complete"),Nt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Nt(this,"complete"),Nt(this,"abort"),jf(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jf(this,!0)),tt.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?m9(this):this.kb())};H.kb=function(){m9(this)};function m9(t){if(t.h&&typeof sy<"u"&&(!t.C[1]||fr(t)!=4||t.da()!=2)){if(t.v&&fr(t)==4)py(t.La,0,t);else if(Nt(t,"readystatechange"),fr(t)==4){t.h=!1;try{const i=t.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=i===0){var s=String(t.I).match(r9)[1]||null;!s&&ae.self&&ae.self.location&&(s=ae.self.location.protocol.slice(0,-1)),r=!lR.test(s?s.toLowerCase():"")}n=r}if(n)Nt(t,"complete"),Nt(t,"success");else{t.m=6;try{var o=2<fr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",p9(t)}}finally{jf(t)}}}}function jf(t,e){if(t.g){g9(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Nt(t,"ready");try{n.onreadystatechange=r}catch{}}}function g9(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ae.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function fr(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),aR(e)}};function sw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case f9:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function dR(t){const e={};t=(t.g&&2<=fr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(pc(t[r]))continue;var n=DP(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}IP(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function y9(t){let e="";return ay(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function wy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=y9(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Le(t,e,n))}function el(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _9(t){this.Ga=0,this.j=[],this.l=new bf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=el("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=el("baseRetryDelayMs",5e3,t),this.hb=el("retryDelaySeedMs",1e4,t),this.eb=el("forwardChannelMaxRetries",2,t),this.xa=el("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new a9(t&&t.concurrentRequestLimit),this.Ja=new sR,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=_9.prototype;H.ra=8;H.H=1;function xy(t){if(v9(t),t.H==3){var e=t.W++,n=Zr(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),Qc(t,n),e=new Wc(t,t.l,e),e.L=2,e.v=If(Zr(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon)try{n=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ae.Image&&(new Image().src=e.v,n=!0),n||(e.g=T9(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gc(e)}S9(t)}function Af(t){t.g&&(by(t),t.g.cancel(),t.g=null)}function v9(t){Af(t),t.u&&(ae.clearTimeout(t.u),t.u=null),lh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ae.clearTimeout(t.m),t.m=null)}function Pf(t){if(!l9(t.i)&&!t.m){t.m=!0;var e=t.Na;gc||Vb(),yc||(gc(),yc=!0),hy.add(e,t),t.C=0}}function hR(t,e){return c9(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Hc(zt(t.Na,t,e),k9(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Wc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Ob(o),Db(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=w9(this,s,e),n=Zr(this.I),Le(n,"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),Qc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(y9(o)))+"&"+e:this.o&&wy(n,this.o,o)),_y(this.i,s),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),s.aa=!0,ng(s,n,null)):ng(s,n,e),this.H=2}}else this.H==3&&(t?ow(this,t):this.j.length==0||l9(this.i)||ow(this))};function ow(t,e){var n;e?n=e.m:n=t.W++;const r=Zr(t.I);Le(r,"SID",t.K),Le(r,"RID",n),Le(r,"AID",t.V),Qc(t,r),t.o&&t.s&&wy(r,t.o,t.s),n=new Wc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=w9(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_y(t.i,n),ng(n,r,e)}function Qc(t,e){t.na&&ay(t.na,function(n,r){Le(e,r,n)}),t.h&&n9({},function(n,r){Le(e,r,n)})}function w9(t,e,n){n=Math.min(t.j.length,n);var r=t.h?zt(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const i=["count="+n];o==-1?0<n?(o=s[0].g,i.push("ofs="+o)):o=0:i.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const d=s[l].map;if(u-=o,0>u)o=Math.max(0,s[l].g-100),a=!1;else try{oR(d,i,"req"+u+"_")}catch{r&&r(d)}}if(a){r=i.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function x9(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;gc||Vb(),yc||(gc(),yc=!0),hy.add(e,t),t.A=0}}function Cy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Hc(zt(t.Ma,t),k9(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,C9(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Hc(zt(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,tn(10),Af(this),C9(this))};function by(t){t.B!=null&&(ae.clearTimeout(t.B),t.B=null)}function C9(t){t.g=new Wc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zr(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),Qc(t,e),t.o&&t.s&&wy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=If(Zr(e)),n.s=null,n.S=!0,Xb(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Af(this),Cy(this),tn(19))};function lh(t){t.v!=null&&(ae.clearTimeout(t.v),t.v=null)}function b9(t,e){var n=null;if(t.g==e){lh(t),by(t),t.g=null;var r=2}else if(sg(t.i,e))n=e.F,u9(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=kf(),Nt(r,new Kb(r,n)),Pf(t)}else x9(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&hR(t,e)||r==2&&Cy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Eo(t,5);break;case 4:Eo(t,10);break;case 3:Eo(t,6);break;default:Eo(t,2)}}}function k9(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Eo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=zt(t.pb,t);n||(n=new Ro("//www.google.com/images/cleardot.gif"),ae.location&&ae.location.protocol=="http"||ih(n,"https"),If(n)),iR(n.toString(),r)}else tn(2);t.H=0,t.h&&t.h.za(e),S9(t),v9(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),tn(2)):(this.l.info("Failed to ping google.com"),tn(1))};function S9(t){if(t.H=0,t.ma=[],t.h){const e=d9(t.i);(e.length!=0||t.j.length!=0)&&(Y2(t.ma,e),Y2(t.ma,t.j),t.i.i.length=0,oy(t.j),t.j.length=0),t.h.ya()}}function E9(t,e,n){var r=n instanceof Ro?Zr(n):new Ro(n);if(r.g!="")e&&(r.g=e+"."+r.g),ah(r,r.m);else{var s=ae.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Ro(null);r&&ih(o,r),e&&(o.g=e),s&&ah(o,s),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Le(r,n,e),Le(r,"VER",t.ra),Qc(t,r),r}function T9(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new tt(new Kc({ob:!0})):new tt(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function I9(){}H=I9.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function ch(){if(ca&&!(10<=Number(kP)))throw Error("Environmental error: no available transport.")}ch.prototype.g=function(t,e){return new jn(t,e)};function jn(t,e){xt.call(this),this.g=new _9(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!pc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Da(this)}Ct(jn,xt);jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;tn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=E9(t,null,t.Y),Pf(t)};jn.prototype.close=function(){xy(this.g)};jn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=dy(t),t=n);e.j.push(new tR(e.fb++,t)),e.H==3&&Pf(e)};jn.prototype.N=function(){this.g.h=null,delete this.j,xy(this.g),delete this.g,jn.$.N.call(this)};function N9(t){gy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ct(N9,gy);function j9(){yy.call(this),this.status=1}Ct(j9,yy);function Da(t){this.g=t}Ct(Da,I9);Da.prototype.Ba=function(){Nt(this.g,"a")};Da.prototype.Aa=function(t){Nt(this.g,new N9(t))};Da.prototype.za=function(t){Nt(this.g,new j9)};Da.prototype.ya=function(){Nt(this.g,"b")};function fR(){this.blockSize=-1}function rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ct(rr,fR);rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],i=e+(o^n&(s^o))+r[0]+3614090360&4294967295;e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[1]+3905402710&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[2]+606105819&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[3]+3250441966&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[4]+4118548399&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[5]+1200080426&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[6]+2821735955&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[7]+4249261313&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[8]+1770035416&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[9]+2336552879&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[10]+4294925233&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[11]+2304563134&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[12]+1804603682&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[13]+4254626195&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[14]+2792965006&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[15]+1236535329&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(s^o&(n^s))+r[1]+4129170786&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[6]+3225465664&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[11]+643717713&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[0]+3921069994&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[5]+3593408605&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[10]+38016083&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[15]+3634488961&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[4]+3889429448&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[9]+568446438&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[14]+3275163606&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[3]+4107603335&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[8]+1163531501&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[13]+2850285829&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[2]+4243563512&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[7]+1735328473&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[12]+2368359562&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(n^s^o)+r[5]+4294588738&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[8]+2272392833&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[11]+1839030562&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[14]+4259657740&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[1]+2763975236&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[4]+1272893353&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[7]+4139469664&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[10]+3200236656&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[13]+681279174&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[0]+3936430074&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[3]+3572445317&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[6]+76029189&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[9]+3654602809&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[12]+3873151461&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[15]+530742520&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[2]+3299628645&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(s^(n|~o))+r[0]+4096336452&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[7]+1126891415&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[14]+2878612391&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[5]+4237533241&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[12]+1700485571&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[3]+2399980690&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[10]+4293915773&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[1]+2240044497&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[8]+1873313359&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[15]+4264355552&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[6]+2734768916&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[13]+1309151649&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[4]+4149444226&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[11]+3174756917&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[2]+718787259&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(i<<21&4294967295|i>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}rr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)cm(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){cm(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){cm(this,r),s=0;break}}this.h=s,this.i+=e};rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;r&&o==e||(n[s]=o,r=!1)}this.g=n}var pR={};function ky(t){return-128<=t&&128>t?xP(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function pr(t){if(isNaN(t)||!isFinite(t))return Yi;if(0>t)return Et(pr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=og;return new Ee(e,0)}function A9(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(A9(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pr(Math.pow(e,8)),r=Yi,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),i=parseInt(t.substring(s,s+o),e);8>o?(o=pr(Math.pow(e,o)),r=r.R(o).add(pr(i))):(r=r.R(n),r=r.add(pr(i)))}return r}var og=4294967296,Yi=ky(0),ig=ky(1),iw=ky(16777216);H=Ee.prototype;H.ea=function(){if(Fn(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:og+r)*e,e*=og}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if($r(this))return"0";if(Fn(this))return"-"+Et(this).toString(t);for(var e=pr(Math.pow(t,6)),n=this,r="";;){var s=dh(n,e).g;n=uh(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,$r(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function $r(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Fn(t){return t.h==-1}H.X=function(t){return t=uh(this,t),Fn(t)?-1:$r(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(ig)}H.abs=function(){return Fn(this)?Et(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(this.D(s)&65535)+(t.D(s)&65535),i=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=i>>>16,o&=65535,i&=65535,n[s]=i<<16|o}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function uh(t,e){return t.add(Et(e))}H.R=function(t){if($r(this)||$r(t))return Yi;if(Fn(this))return Fn(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(Fn(t))return Et(this.R(Et(t)));if(0>this.X(iw)&&0>t.X(iw))return pr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var o=this.D(r)>>>16,i=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=i*l,Ou(n,2*r+2*s),n[2*r+2*s+1]+=o*l,Ou(n,2*r+2*s+1),n[2*r+2*s+1]+=i*a,Ou(n,2*r+2*s+1),n[2*r+2*s+2]+=o*a,Ou(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function Ou(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function tl(t,e){this.g=t,this.h=e}function dh(t,e){if($r(e))throw Error("division by zero");if($r(t))return new tl(Yi,Yi);if(Fn(t))return e=dh(Et(t),e),new tl(Et(e.g),Et(e.h));if(Fn(e))return e=dh(t,Et(e)),new tl(Et(e.g),e.h);if(30<t.g.length){if(Fn(t)||Fn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ig,r=e;0>=r.X(t);)n=aw(n),r=aw(r);var s=fi(n,1),o=fi(r,1);for(r=fi(r,2),n=fi(n,2);!$r(r);){var i=o.add(r);0>=i.X(t)&&(s=s.add(n),o=i),r=fi(r,1),n=fi(n,1)}return e=uh(t,s.R(e)),new tl(s,e)}for(s=Yi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=pr(n),i=o.R(e);Fn(i)||0<i.X(t);)n-=r,o=pr(n),i=o.R(e);$r(o)&&(o=ig),s=s.add(o),t=uh(t,i)}return new tl(s,t)}H.gb=function(t){return dh(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function aw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function fi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ee(s,t.h)}ch.prototype.createWebChannel=ch.prototype.g;jn.prototype.send=jn.prototype.u;jn.prototype.open=jn.prototype.m;jn.prototype.close=jn.prototype.close;Sf.NO_ERROR=0;Sf.TIMEOUT=8;Sf.HTTP_ERROR=6;Yb.COMPLETE="complete";Qb.EventType=qc;qc.OPEN="a";qc.CLOSE="b";qc.ERROR="c";qc.MESSAGE="d";xt.prototype.listen=xt.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;rr.prototype.digest=rr.prototype.l;rr.prototype.reset=rr.prototype.reset;rr.prototype.update=rr.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=pr;Ee.fromString=A9;var mR=function(){return new ch},gR=function(){return kf()},um=Sf,yR=Yb,_R=si,lw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vR=Kc,Du=Qb,wR=tt,xR=rr,Qi=Ee;const cw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new W0("@firebase/firestore");function uw(){return Wo.logLevel}function J(t,...e){if(Wo.logLevel<=Ce.DEBUG){const n=e.map(Sy);Wo.debug(`Firestore (${Ma}): ${t}`,...n)}}function Xr(t,...e){if(Wo.logLevel<=Ce.ERROR){const n=e.map(Sy);Wo.error(`Firestore (${Ma}): ${t}`,...n)}}function ua(t,...e){if(Wo.logLevel<=Ce.WARN){const n=e.map(Sy);Wo.warn(`Firestore (${Ma}): ${t}`,...n)}}function Sy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+t;throw Xr(e),new Error(e)}function Me(t,e){t||ie()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class bR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kR{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ur,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ur)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new P9(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new $t(e)}}class SR{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ER{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new SR(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class TR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IR{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.T;return this.T=o.token,J("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?s(o):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.T=n.token,new TR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=NR(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function da(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new yt(0,0))}static max(){return new ue(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),i=n.get(s);if(o<i)return-1;if(o>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends Cc{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const jR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Cc{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return jR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new K($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new K($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Oe.fromString(e))}static fromName(e){return new ee(Oe.fromString(e).popFirst(5))}static empty(){return new ee(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Oe(e.slice()))}}function AR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Gs(s,ee.empty(),e)}function PR(t){return new Gs(t.readTime,t.key,-1)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(ue.min(),ee.empty(),-1)}static max(){return new Gs(ue.max(),ee.empty(),-1)}}function RR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==LR)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},l=>r(l))}),i=!0,o===s&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(s=>s?V.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{i[u]=d,++a,a===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new V((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function Xc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Ey.ct=-1;function Rf(t){return t==null}function hh(t){return t===0&&1/t==-1/0}function DR(t){return typeof t=="number"&&Number.isInteger(t)&&!hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mu(this.root,e,this.comparator,!0)}}class Mu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=o??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new St(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(t,e,n,r,s){return this}insert(t,e,n){return new St(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hw(this.data.getIterator())}getIteratorFrom(e){return new hw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class hw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new qt(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return da(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new O9("Invalid base64 string: "+s):s}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(Me(!!t),typeof t=="string"){let e=0;const n=MR.exec(t);if(Me(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Iy(t){const e=t.mapValue.fields.__previous_value__;return Ty(e)?Iy(e):e}function bc(t){const e=Ks(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,r,s,o,i,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class kc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new kc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u={mapValue:{}};function Ko(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ty(t)?4:FR(t)?9007199254740991:10:ie()}function kr(t,e){if(t===e)return!0;const n=Ko(t);if(n!==Ko(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bc(t).isEqual(bc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Ks(r.timestampValue),i=Ks(s.timestampValue);return o.seconds===i.seconds&&o.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Go(r.bytesValue).isEqual(Go(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return at(r.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return at(r.integerValue)===at(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=at(r.doubleValue),i=at(s.doubleValue);return o===i?hh(o)===hh(i):isNaN(o)&&isNaN(i)}return!1}(t,e);case 9:return da(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:return function(r,s){const o=r.mapValue.fields||{},i=s.mapValue.fields||{};if(dw(o)!==dw(i))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(i[a]===void 0||!kr(o[a],i[a])))return!1;return!0}(t,e);default:return ie()}}function Sc(t,e){return(t.values||[]).find(n=>kr(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=Ko(t),r=Ko(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){const i=at(s.integerValue||s.doubleValue),a=at(o.integerValue||o.doubleValue);return i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1}(t,e);case 3:return fw(t.timestampValue,e.timestampValue);case 4:return fw(bc(t),bc(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){const i=Go(s),a=Go(o);return i.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const i=s.split("/"),a=o.split("/");for(let l=0;l<i.length&&l<a.length;l++){const u=be(i[l],a[l]);if(u!==0)return u}return be(i.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const i=be(at(s.latitude),at(o.latitude));return i!==0?i:be(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const i=s.values||[],a=o.values||[];for(let l=0;l<i.length&&l<a.length;++l){const u=ha(i[l],a[l]);if(u)return u}return be(i.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===$u.mapValue&&o===$u.mapValue)return 0;if(s===$u.mapValue)return 1;if(o===$u.mapValue)return-1;const i=s.fields||{},a=Object.keys(i),l=o.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let d=0;d<a.length&&d<u.length;++d){const h=be(a[d],u[d]);if(h!==0)return h;const f=ha(i[a[d]],l[u[d]]);if(f!==0)return f}return be(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ie()}}function fw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Ks(t),r=Ks(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function fa(t){return ag(t)}function ag(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=Ks(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Go(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ee.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",o=!0;for(const i of r.values||[])o?o=!1:s+=",",s+=ag(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",i=!0;for(const a of s)i?i=!1:o+=",",o+=`${a}:${ag(r.fields[a])}`;return o+"}"}(t.mapValue):ie();var e,n}function pw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lg(t){return!!t&&"integerValue"in t}function Ny(t){return!!t&&"arrayValue"in t}function mw(t){return!!t&&"nullValue"in t}function gw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gd(t){return!!t&&"mapValue"in t}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return oi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Ut.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=Ol(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];gd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){oi(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new dn(Ol(this.value))}}function D9(t){const e=[];return oi(t.fields,(n,r)=>{const s=new Ut([n]);if(gd(r)){const o=D9(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,ue.min(),ue.min(),ue.min(),dn.empty(),0)}static newFoundDocument(e,n,r,s){return new Bt(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new Bt(e,2,n,ue.min(),ue.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,ue.min(),ue.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function yw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(i.referenceValue),n.key):r=ha(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _w(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n="asc"){this.field=e,this.dir=n}}function BR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{}class ct extends M9{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VR(e,n,r):n==="array-contains"?new qR(e,r):n==="in"?new WR(e,r):n==="not-in"?new GR(e,r):n==="array-contains-any"?new KR(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zR(e,r):new HR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ha(n,this.value)):n!==null&&Ko(this.value)===Ko(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class sr extends M9{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new sr(e,n)}matches(e){return $9(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function $9(t){return t.op==="and"}function F9(t){return UR(t)&&$9(t)}function UR(t){for(const e of t.filters)if(e instanceof sr)return!1;return!0}function cg(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+fa(t.value);if(F9(t))return t.filters.map(e=>cg(e)).join(",");{const e=t.filters.map(n=>cg(n)).join(",");return`${t.op}(${e})`}}function B9(t,e){return t instanceof ct?function(n,r){return r instanceof ct&&n.op===r.op&&n.field.isEqual(r.field)&&kr(n.value,r.value)}(t,e):t instanceof sr?function(n,r){return r instanceof sr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,o,i)=>s&&B9(o,r.filters[i]),!0):!1}(t,e):void ie()}function U9(t){return t instanceof ct?function(e){return`${e.field.canonicalString()} ${e.op} ${fa(e.value)}`}(t):t instanceof sr?function(e){return e.op.toString()+" {"+e.getFilters().map(U9).join(" ,")+"}"}(t):"Filter"}class VR extends ct{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class zR extends ct{constructor(e,n){super(e,"in",n),this.keys=V9("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HR extends ct{constructor(e,n){super(e,"not-in",n),this.keys=V9("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function V9(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class qR extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ny(n)&&Sc(n.arrayValue,this.value)}}class WR extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class GR extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sc(this.value.arrayValue,n)}}class KR extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.dt=null}}function vw(t,e=null,n=[],r=[],s=null,o=null,i=null){return new YR(t,e,n,r,s,o,i)}function jy(t){const e=he(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fa(r)).join(",")),e.dt=n}return e.dt}function Ay(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!B9(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_w(t.startAt,e.startAt)&&_w(t.endAt,e.endAt)}function ug(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function QR(t,e,n,r,s,o,i,a){return new $a(t,e,n,r,s,o,i,a)}function Lf(t){return new $a(t)}function ww(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Py(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Of(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function z9(t){return t.collectionGroup!==null}function Xi(t){const e=he(t);if(e.wt===null){e.wt=[];const n=Of(e),r=Py(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Zi(n)),e.wt.push(new Zi(Ut.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Zi(Ut.keyField(),o))}}}return e.wt}function Jr(t){const e=he(t);if(!e._t)if(e.limitType==="F")e._t=vw(e.path,e.collectionGroup,Xi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Xi(e)){const i=o.dir==="desc"?"asc":"desc";n.push(new Zi(o.field,i))}const r=e.endAt?new fh(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new fh(e.startAt.position,e.startAt.inclusive):null;e._t=vw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function dg(t,e){e.getFirstInequalityField(),Of(t);const n=t.filters.concat([e]);return new $a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hg(t,e,n){return new $a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Df(t,e){return Ay(Jr(t),Jr(e))&&t.limitType===e.limitType}function H9(t){return`${jy(Jr(t))}|lt:${t.limitType}`}function fg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>U9(r)).join(", ")}]`),Rf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fa(r)).join(",")),`Target(${n})`}(Jr(t))}; limitType=${t.limitType})`}function Mf(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ee.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Xi(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,o,i){const a=yw(s,o,i);return s.inclusive?a<=0:a<0}(n.startAt,Xi(n),r)||n.endAt&&!function(s,o,i){const a=yw(s,o,i);return s.inclusive?a>=0:a>0}(n.endAt,Xi(n),r))}(t,e)}function ZR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function q9(t){return(e,n)=>{let r=!1;for(const s of Xi(t)){const o=XR(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function XR(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,i){const a=o.data.field(s),l=i.data.field(s);return a!==null&&l!==null?ha(a,l):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){oi(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return L9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Ye(ee.comparator);function es(){return JR}const W9=new Ye(ee.comparator);function vl(...t){let e=W9;for(const n of t)e=e.insert(n.key,n);return e}function G9(t){let e=W9;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function To(){return Dl()}function K9(){return Dl()}function Dl(){return new Fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const eL=new Ye(ee.comparator),tL=new qt(ee.comparator);function ve(...t){let e=tL;for(const n of t)e=e.add(n);return e}const nL=new qt(be);function rL(){return nL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function Q9(t){return{integerValue:""+t}}function Z9(t,e){return DR(e)?Q9(e):Y9(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function sL(t,e,n){return t instanceof ph?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Ty(s)&&(s=Iy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof pa?J9(t,e):t instanceof ma?ek(t,e):function(r,s){const o=X9(r,s),i=xw(o)+xw(r.gt);return lg(o)&&lg(r.gt)?Q9(i):Y9(r.serializer,i)}(t,e)}function oL(t,e,n){return t instanceof pa?J9(t,e):t instanceof ma?ek(t,e):n}function X9(t,e){return t instanceof Ec?lg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ph extends $f{}class pa extends $f{constructor(e){super(),this.elements=e}}function J9(t,e){const n=tk(e);for(const r of t.elements)n.some(s=>kr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ma extends $f{constructor(e){super(),this.elements=e}}function ek(t,e){let n=tk(e);for(const r of t.elements)n=n.filter(s=>!kr(s,r));return{arrayValue:{values:n}}}class Ec extends $f{constructor(e,n){super(),this.serializer=e,this.gt=n}}function xw(t){return at(t.integerValue||t.doubleValue)}function tk(t){return Ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.field=e,this.transform=n}}function iL(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof pa&&r instanceof pa||n instanceof ma&&r instanceof ma?da(n.elements,r.elements,kr):n instanceof Ec&&r instanceof Ec?kr(n.gt,r.gt):n instanceof ph&&r instanceof ph}(t.transform,e.transform)}class aL{constructor(e,n){this.version=e,this.transformResults=n}}class Vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ff{}function nk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ly(t.key,Vn.none()):new Jc(t.key,t.data,Vn.none());{const n=t.data,r=dn.empty();let s=new qt(Ut.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new ro(t.key,r,new Sn(s.toArray()),Vn.none())}}function lL(t,e,n){t instanceof Jc?function(r,s,o){const i=r.value.clone(),a=bw(r.fieldTransforms,s,o.transformResults);i.setAll(a),s.convertToFoundDocument(o.version,i).setHasCommittedMutations()}(t,e,n):t instanceof ro?function(r,s,o){if(!yd(r.precondition,s))return void s.convertToUnknownDocument(o.version);const i=bw(r.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(rk(r)),a.setAll(i),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ml(t,e,n,r){return t instanceof Jc?function(s,o,i,a){if(!yd(s.precondition,o))return i;const l=s.value.clone(),u=kw(s.fieldTransforms,a,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ro?function(s,o,i,a){if(!yd(s.precondition,o))return i;const l=kw(s.fieldTransforms,a,o),u=o.data;return u.setAll(rk(s)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),i===null?null:i.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,i){return yd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):i}(t,e,n)}function cL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=X9(r.transform,s||null);o!=null&&(n===null&&(n=dn.empty()),n.set(r.field,o))}return n||null}function Cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&da(n,r,(s,o)=>iL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jc extends Ff{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ro extends Ff{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function bw(t,e,n){const r=new Map;Me(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,oL(i,a,n[s]))}return r}function kw(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,sL(o,i,e))}return r}class Ly extends Ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uL extends Ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&lL(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ml(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ml(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=K9();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const l=nk(i,a);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&da(this.mutations,e.mutations,(n,r)=>Cw(n,r))&&da(this.baseMutations,e.baseMutations,(n,r)=>Cw(n,r))}}class Oy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length);let s=eL;const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Oy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,we;function pL(t){switch(t){default:return ie();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function sk(t){if(t===void 0)return Xr("GRPC error has no .code"),$.UNKNOWN;switch(t){case it.OK:return $.OK;case it.CANCELLED:return $.CANCELLED;case it.UNKNOWN:return $.UNKNOWN;case it.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case it.INTERNAL:return $.INTERNAL;case it.UNAVAILABLE:return $.UNAVAILABLE;case it.UNAUTHENTICATED:return $.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case it.NOT_FOUND:return $.NOT_FOUND;case it.ALREADY_EXISTS:return $.ALREADY_EXISTS;case it.PERMISSION_DENIED:return $.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case it.ABORTED:return $.ABORTED;case it.OUT_OF_RANGE:return $.OUT_OF_RANGE;case it.UNIMPLEMENTED:return $.UNIMPLEMENTED;case it.DATA_LOSS:return $.DATA_LOSS;default:return ie()}}(we=it||(it={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Fu}static getOrCreateInstance(){return Fu===null&&(Fu=new Dy),Fu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Fu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new Qi([4294967295,4294967295],0);function Sw(t){const e=mL().encode(t),n=new xR;return n.update(e),new Uint8Array(n.digest())}function Ew(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qi([n,r],0),new Qi([s,o],0)]}class My{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(r<0)throw new wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Qi.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(Qi.fromNumber(r)));return s.compare(gL)===1&&(s=new Qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Sw(e),[r,s]=Ew(n);for(let o=0;o<this.hashCount;o++){const i=this.Et(r,s,o);if(!this.At(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new My(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.It===0)return;const n=Sw(e),[r,s]=Ew(n);for(let o=0;o<this.hashCount;o++){const i=this.Et(r,s,o);this.Rt(i)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bf(ue.min(),s,new Ye(be),es(),ve())}}class eu{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new eu(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class ok{constructor(e,n){this.targetId=e,this.Vt=n}}class ik{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Tw{constructor(){this.St=0,this.Dt=Nw(),this.Ct=Qt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ve(),n=ve(),r=ve();return this.Dt.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie()}}),new eu(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Nw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class yL{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=es(),this.zt=Iw(),this.Wt=new Ye(be)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,o=this.se(r);if(o){const i=o.target;if(ug(i))if(s===0){const a=new ee(i.path);this.Yt(r,a,Bt.newNoDocument(a,ue.min()))}else Me(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Dy.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,d,h){var f,m,_,w,x,v;const y={localCacheCount:d,existenceFilterCount:h.count},g=h.unchangedNames;return g&&(y.bloomFilter={applied:u===0,hashCount:(f=g==null?void 0:g.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(w=(_=(m=g==null?void 0:g.bits)===null||m===void 0?void 0:m.bitmap)===null||_===void 0?void 0:_.length)!==null&&w!==void 0?w:0,padding:(v=(x=g==null?void 0:g.bits)===null||x===void 0?void 0:x.padding)!==null&&v!==void 0?v:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:i=0},hashCount:a=0}=r;let l,u;try{l=Go(o).toUint8Array()}catch(d){if(d instanceof O9)return ua("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{u=new My(l,i,a)}catch(d){return ua(d instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return u.It===0?1:s!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(o=>{const i=this.Gt.ue(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((o,i)=>{const a=this.se(i);if(a){if(o.current&&ug(a.target)){const l=new ee(a.target.path);this.jt.get(l)!==null||this.ae(i,l)||this.Yt(i,l,Bt.newNoDocument(l,e))}o.Mt&&(n.set(i,o.Ot()),o.Ft())}});let r=ve();this.zt.forEach((o,i)=>{let a=!0;i.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,i)=>i.setReadTime(e));const s=new Bf(e,n,this.Wt,this.jt,r);return this.jt=es(),this.zt=Iw(),this.Wt=new Ye(be),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Tw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new qt(be),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Tw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Iw(){return new Ye(ee.comparator)}function Nw(){return new Ye(ee.comparator)}const _L={asc:"ASCENDING",desc:"DESCENDING"},vL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wL={and:"AND",or:"OR"};class xL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function pg(t,e){return t.useProto3Json||Rf(e)?e:{value:e}}function mh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ak(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CL(t,e){return mh(t,e.toTimestamp())}function Cr(t){return Me(!!t),ue.fromTimestamp(function(e){const n=Ks(e);return new yt(n.seconds,n.nanos)}(t))}function $y(t,e){return function(n){return new Oe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function lk(t){const e=Oe.fromString(t);return Me(hk(e)),e}function mg(t,e){return $y(t.databaseId,e.path)}function dm(t,e){const n=lk(e);if(n.get(1)!==t.databaseId.projectId)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(ck(n))}function gg(t,e){return $y(t.databaseId,e)}function bL(t){const e=lk(t);return e.length===4?Oe.emptyPath():ck(e)}function yg(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ck(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jw(t,e,n){return{name:mg(t,e),fields:n.value.mapValue.fields}}function kL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(Me(u===void 0||typeof u=="string"),Qt.fromBase64String(u||"")):(Me(u===void 0||u instanceof Uint8Array),Qt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(l){const u=l.code===void 0?$.UNKNOWN:sk(l.code);return new K(u,l.message||"")}(i);n=new ik(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=dm(t,r.document.name),o=Cr(r.document.updateTime),i=r.document.createTime?Cr(r.document.createTime):ue.min(),a=new dn({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(s,o,i,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new _d(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=dm(t,r.document),o=r.readTime?Cr(r.readTime):ue.min(),i=Bt.newNoDocument(s,o),a=r.removedTargetIds||[];n=new _d([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=dm(t,r.document),o=r.removedTargetIds||[];n=new _d([],o,s,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new fL(s,o),a=r.targetId;n=new ok(a,i)}}return n}function SL(t,e){let n;if(e instanceof Jc)n={update:jw(t,e.key,e.value)};else if(e instanceof Ly)n={delete:mg(t,e.key)};else if(e instanceof ro)n={update:jw(t,e.key,e.data),updateMask:LL(e.fieldMask)};else{if(!(e instanceof uL))return ie();n={verify:mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const i=o.transform;if(i instanceof ph)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof pa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof ma)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof Ec)return{fieldPath:o.field.canonicalString(),increment:i.gt};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:CL(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function EL(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Cr(r.updateTime):Cr(s);return o.isEqual(ue.min())&&(o=Cr(s)),new aL(o,r.transformResults||[])}(n,e))):[]}function TL(t,e){return{documents:[gg(t,e.path)]}}function IL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=gg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=gg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return dk(sr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:xi(d.field),direction:AL(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const i=pg(t,e.limit);var a;return i!==null&&(n.structuredQuery.limit=i),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function NL(t){let e=bL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(d){const h=uk(d);return h instanceof sr&&F9(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=n.orderBy.map(d=>function(h){return new Zi(Ci(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Rf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new fh(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new fh(f,h)}(n.endAt)),QR(e,s,i,o,a,"F",l,u)}function jL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uk(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ci(e.unaryFilter.field);return ct.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ci(e.unaryFilter.field);return ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ci(e.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ci(e.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(e){return ct.create(Ci(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return sr.create(e.compositeFilter.filters.map(n=>uk(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ie()}}(e.compositeFilter.op))}(t):ie()}function AL(t){return _L[t]}function PL(t){return vL[t]}function RL(t){return wL[t]}function xi(t){return{fieldPath:t.canonicalString()}}function Ci(t){return Ut.fromServerFormat(t.fieldPath)}function dk(t){return t instanceof ct?function(e){if(e.op==="=="){if(gw(e.value))return{unaryFilter:{field:xi(e.field),op:"IS_NAN"}};if(mw(e.value))return{unaryFilter:{field:xi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(gw(e.value))return{unaryFilter:{field:xi(e.field),op:"IS_NOT_NAN"}};if(mw(e.value))return{unaryFilter:{field:xi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xi(e.field),op:PL(e.op),value:e.value}}}(t):t instanceof sr?function(e){const n=e.getFilters().map(r=>dk(r));return n.length===1?n[0]:{compositeFilter:{op:RL(e.op),filters:n}}}(t):ie()}function LL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,s,o=ue.min(),i=ue.min(),a=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.fe=e}}function DL(t){const e=NL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.rn=new $L}addToCollectionParentIndex(e,n){return this.rn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Gs.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class $L{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new qt(Oe.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ga(0)}static Mn(){return new ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.changes=new Fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ml(r.mutation,s,Sn.empty(),yt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const s=To();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=vl();return o.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=To();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=es();const i=Dl(),a=Dl();return n.forEach((l,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof ro)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),Ml(d.mutation,u,d.mutation.getFieldMask(),yt.now())):i.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new BL(d,(h=i.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Dl();let s=new Ye((i,a)=>i-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Sn.empty();d=a.applyToLocalView(u,d),r.set(l,d);const h=(s.get(a.batchId)||ve()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=K9();d.forEach(f=>{if(!o.has(f)){const m=nk(n.get(f),r.get(f));m!==null&&h.set(f,m),o=o.add(f)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):z9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):V.resolve(To());let a=-1,l=o;return i.next(u=>V.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ve())).next(d=>({batchId:a,changes:G9(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=vl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let o=vl();return this.indexManager.getCollectionParents(e,s).next(i=>V.forEach(i,a=>{const l=function(u,d){return new $a(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(o=>{s.forEach((a,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Bt.newInvalidDocument(u)))});let i=vl();return o.forEach((a,l)=>{const u=s.get(a);u!==void 0&&Ml(u.mutation,l,Sn.empty(),yt.now()),Mf(n,l)&&(i=i.insert(a,l))}),i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return V.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Cr(r.createTime)}),V.resolve()}getNamedQuery(e,n){return V.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:DL(r.bundledQuery),readTime:Cr(r.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.overlays=new Ye(ee.comparator),this.ls=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=To();return V.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.we(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const s=To(),o=n.length+1,i=new ee(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return V.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Ye((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=To(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=To(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return V.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new hL(n,r));let o=this.ls.get(n);o===void 0&&(o=ve(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.fs=new qt(_t.ds),this.ws=new qt(_t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new _t(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new _t(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ee(new Oe([])),r=new _t(n,e),s=new _t(n,e+1),o=[];return this.ws.forEachInRange([r,s],i=>{this.ys(i),o.push(i.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ee(new Oe([])),r=new _t(n,e),s=new _t(n,e+1);let o=ve();return this.ws.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new _t(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ee.comparator(e.key,n.key)||be(e.As,n.As)}static _s(e,n){return be(e.As,n.As)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new qt(_t.ds)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new dL(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.Rs=this.Rs.add(new _t(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(i)}lookupMutationBatch(e,n){return V.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),o=s<0?0:s;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,s],i=>{const a=this.Ps(i.As);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(be);return n.forEach(s=>{const o=new _t(s,0),i=new _t(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,i],a=>{r=r.add(a.As)})}),V.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const i=new _t(new ee(o),0);let a=new qt(be);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.As)),!0)},i),V.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return V.forEach(n.mutations,s=>{const o=new _t(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new _t(n,0),s=this.Rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.Ds=e,this.docs=new Ye(ee.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=es();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Bt.newInvalidDocument(s))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=es();const i=n.path,a=new ee(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||RR(PR(d),r)<=0||(s.has(d.key)||Mf(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,s){ie()}Cs(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WL(this)}getSize(e){return V.resolve(this.size)}}class WL extends FL{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.persistence=e,this.xs=new Fa(n=>jy(n),Ay),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Fy,this.targetCount=0,this.Ms=ga.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),V.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Fn(n),V.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.xs.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),V.waitFor(o).next(()=>s)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.$s={},this.overlays={},this.Os=new Ey(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new GL(this),this.indexManager=new ML,this.remoteDocumentCache=function(r){return new qL(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new OL(n),this.qs=new VL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new HL(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new YL(this.Os.next());return this.referenceDelegate.Us(),r(s).next(o=>this.referenceDelegate.Ks(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Gs(e,n){return V.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class YL extends OR{constructor(e){super(),this.currentSequenceNumber=e}}class By{constructor(e){this.persistence=e,this.Qs=new Fy,this.js=null}static zs(e){return new By(e)}get Ws(){if(this.js)return this.js;throw ie()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),V.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Ws,r=>{const s=ee.fromPath(r);return this.Hs(e,s).next(o=>{o||n.removeEntry(s,ue.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return V.or([()=>V.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=ve(),s=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Uy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(o=>o||this.Gi(e,n,s,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(ww(n))return V.resolve(null);let r=Jr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=hg(n,null,"F"),r=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=ve(...o);return this.Ui.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,i,l.readTime)?this.Ki(e,hg(n,null,"F")):this.Wi(e,u,n,l)}))})))}Gi(e,n,r,s){return ww(n)||s.isEqual(ue.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const i=this.ji(n,o);return this.zi(n,i,r,s)?this.Qi(e,n):(uw()<=Ce.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fg(n)),this.Wi(e,i,n,AR(s,-1)))})}ji(e,n){let r=new qt(q9(e));return n.forEach((s,o)=>{Mf(e,o)&&(r=r.add(o))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Qi(e,n){return uw()<=Ce.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",fg(n)),this.Ui.getDocumentsMatchingQuery(e,n,Gs.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new Ye(be),this.Yi=new Fa(o=>jy(o),Ay),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UL(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function XL(t,e,n,r){return new ZL(t,e,n,r)}async function fk(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let l=ve();for(const u of s){i.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:i,addedBatchIds:a}))})})}function JL(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(i,a,l,u){const d=l.batch,h=d.keys();let f=V.resolve();return h.forEach(m=>{f=f.next(()=>u.getEntry(a,m)).next(_=>{const w=l.docVersions.get(m);Me(w!==null),_.version.compareTo(w)<0&&(d.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),u.addEntry(_)))})}),f.next(()=>i.mutationQueue.removeMutationBatch(a,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(i){let a=ve();for(let l=0;l<i.mutationResults.length;++l)i.mutationResults[l].transformResults.length>0&&(a=a.add(i.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function pk(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function eO(t,e){const n=he(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(o,d.addedDocuments,h)));let m=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Qt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(_,w,x){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,m,d)&&a.push(n.Bs.updateTargetData(o,m))});let l=es(),u=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(tO(o,i,e.documentUpdates).next(d=>{l=d.nr,u=d.sr})),!r.isEqual(ue.min())){const d=n.Bs.getLastRemoteSnapshotVersion(o).next(h=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ji=s,o))}function tO(t,e,n){let r=ve(),s=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=es();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:i,sr:s}})}function nO(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rO(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(o=>o?(s=o,V.resolve(s)):n.Bs.allocateTargetId(r).next(i=>(s=new js(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function _g(t,e,n){const r=he(t),s=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Xc(i))throw i;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function Aw(t,e,n){const r=he(t);let s=ue.min(),o=ve();return r.persistence.runTransaction("Execute query","readonly",i=>function(a,l,u){const d=he(a),h=d.Yi.get(u);return h!==void 0?V.resolve(d.Ji.get(h)):d.Bs.getTargetData(l,u)}(r,i,Jr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(i,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(i,e,n?s:ue.min(),n?o:ve())).next(a=>(sO(r,ZR(e),a),{documents:a,ir:o})))}function sO(t,e,n){let r=t.Xi.get(e)||ue.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class Pw{constructor(){this.activeTargetIds=rL()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oO{constructor(){this.Hr=new Pw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Pw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function hm(){return Bu===null?Bu=268435456+Math.round(2147483648*Math.random()):Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class cO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,o){const i=hm(),a=this.To(e,n);J("RestConnection",`Sending RPC '${e}' ${i}:`,a,r);const l={};return this.Eo(l,s,o),this.Ao(e,a,l,r).then(u=>(J("RestConnection",`Received RPC '${e}' ${i}: `,u),u),u=>{throw ua("RestConnection",`RPC '${e}' ${i} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,s,o,i){return this.Io(e,n,r,s,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}To(e,n){const r=aO[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const o=hm();return new Promise((i,a)=>{const l=new wR;l.setWithCredentials(!0),l.listenOnce(yR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case um.NO_ERROR:const d=l.getResponseJson();J(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),i(d);break;case um.TIMEOUT:J(Ot,`RPC '${e}' ${o} timed out`),a(new K($.DEADLINE_EXCEEDED,"Request time out"));break;case um.HTTP_ERROR:const h=l.getStatus();if(J(Ot,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const _=function(w){const x=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(x)>=0?x:$.UNKNOWN}(m.status);a(new K(_,m.message))}else a(new K($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K($.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{J(Ot,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);J(Ot,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",u,r,15)})}Ro(e,n,r){const s=hm(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=mR(),a=gR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new vR({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");J(Ot,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=i.createWebChannel(d,l);let f=!1,m=!1;const _=new lO({ro:x=>{m?J(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(f||(J(Ot,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),J(Ot,`RPC '${e}' stream ${s} sending:`,x),h.send(x))},oo:()=>h.close()}),w=(x,v,y)=>{x.listen(v,g=>{try{y(g)}catch(C){setTimeout(()=>{throw C},0)}})};return w(h,Du.EventType.OPEN,()=>{m||J(Ot,`RPC '${e}' stream ${s} transport opened.`)}),w(h,Du.EventType.CLOSE,()=>{m||(m=!0,J(Ot,`RPC '${e}' stream ${s} transport closed`),_.wo())}),w(h,Du.EventType.ERROR,x=>{m||(m=!0,ua(Ot,`RPC '${e}' stream ${s} transport errored:`,x),_.wo(new K($.UNAVAILABLE,"The operation could not be completed")))}),w(h,Du.EventType.MESSAGE,x=>{var v;if(!m){const y=x.data[0];Me(!!y);const g=y,C=g.error||((v=g[0])===null||v===void 0?void 0:v.error);if(C){J(Ot,`RPC '${e}' stream ${s} received error:`,C);const b=C.status;let k=function(S){const E=it[S];if(E!==void 0)return sk(E)}(b),T=C.message;k===void 0&&(k=$.INTERNAL,T="Unknown error status: "+b+" with message "+C.message),m=!0,_.wo(new K(k,T)),h.close()}else J(Ot,`RPC '${e}' stream ${s} received:`,y),_._o(y)}}),w(a,_R.STAT_EVENT,x=>{x.stat===lw.PROXY?J(Ot,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===lw.NOPROXY&&J(Ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t){return new xL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r,s,o,i,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new mk(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new K($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uO extends gk{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=kL(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Cr(o.readTime):ue.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=yg(this.serializer),n.addTarget=function(s,o){let i;const a=o.target;if(i=ug(a)?{documents:TL(s,a)}:{query:IL(s,a)},i.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){i.resumeToken=ak(s,o.resumeToken);const l=pg(s,o.expectedCount);l!==null&&(i.expectedCount=l)}else if(o.snapshotVersion.compareTo(ue.min())>0){i.readTime=mh(s,o.snapshotVersion.toTimestamp());const l=pg(s,o.expectedCount);l!==null&&(i.expectedCount=l)}return i}(this.serializer,e);const r=jL(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=yg(this.serializer),n.removeTarget=e,this.Wo(n)}}class dO extends gk{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=EL(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.cu(r,n)}return Me(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=yg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SL(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Io(e,n,r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K($.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.vo(e,n,r,o,i,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K($.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class fO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Xr(n),this.mu=!1):J("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(i=>{r.enqueueAndForget(async()=>{ii(this)&&(J("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=he(a);l.vu.add(4),await tu(l),l.bu.set("Unknown"),l.vu.delete(4),await Vf(l)}(this))})}),this.bu=new fO(r,s)}}async function Vf(t){if(ii(t))for(const e of t.Ru)await e(!0)}async function tu(t){for(const e of t.Ru)await e(!1)}function yk(t,e){const n=he(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Hy(n)?zy(n):Ba(n).Ko()&&Vy(n,e))}function _k(t,e){const n=he(t),r=Ba(n);n.Au.delete(e),r.Ko()&&vk(n,e),n.Au.size===0&&(r.Ko()?r.jo():ii(n)&&n.bu.set("Unknown"))}function Vy(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ba(t).su(e)}function vk(t,e){t.Vu.qt(e),Ba(t).iu(e)}function zy(t){t.Vu=new yL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ba(t).start(),t.bu.gu()}function Hy(t){return ii(t)&&!Ba(t).Uo()&&t.Au.size>0}function ii(t){return he(t).vu.size===0}function wk(t){t.Vu=void 0}async function mO(t){t.Au.forEach((e,n)=>{Vy(t,e)})}async function gO(t,e){wk(t),Hy(t)?(t.bu.Iu(e),zy(t)):t.bu.set("Unknown")}async function yO(t,e,n){if(t.bu.set("Online"),e instanceof ik&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const i of s.targetIds)r.Au.has(i)&&(await r.remoteSyncer.rejectListen(i,o),r.Au.delete(i),r.Vu.removeTarget(i))}(t,e)}catch(r){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gh(t,r)}else if(e instanceof _d?t.Vu.Ht(e):e instanceof ok?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ue.min()))try{const r=await pk(t.localStore);n.compareTo(r)>=0&&await function(s,o){const i=s.Vu.ce(o);return i.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=s.Au.get(l);u&&s.Au.set(l,u.withResumeToken(a.resumeToken,o))}}),i.targetMismatches.forEach((a,l)=>{const u=s.Au.get(a);if(!u)return;s.Au.set(a,u.withResumeToken(Qt.EMPTY_BYTE_STRING,u.snapshotVersion)),vk(s,a);const d=new js(u.target,a,l,u.sequenceNumber);Vy(s,d)}),s.remoteSyncer.applyRemoteEvent(i)}(t,n)}catch(r){J("RemoteStore","Failed to raise snapshot:",r),await gh(t,r)}}async function gh(t,e,n){if(!Xc(e))throw e;t.vu.add(1),await tu(t),t.bu.set("Offline"),n||(n=()=>pk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Vf(t)})}function xk(t,e){return e().catch(n=>gh(t,n,e))}async function zf(t){const e=he(t),n=Ys(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;_O(e);)try{const s=await nO(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,vO(e,s)}catch(s){await gh(e,s)}Ck(e)&&bk(e)}function _O(t){return ii(t)&&t.Eu.length<10}function vO(t,e){t.Eu.push(e);const n=Ys(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Ck(t){return ii(t)&&!Ys(t).Uo()&&t.Eu.length>0}function bk(t){Ys(t).start()}async function wO(t){Ys(t).hu()}async function xO(t){const e=Ys(t);for(const n of t.Eu)e.uu(n.mutations)}async function CO(t,e,n){const r=t.Eu.shift(),s=Oy.from(r,e,n);await xk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await zf(t)}async function bO(t,e){e&&Ys(t).ou&&await async function(n,r){if(s=r.code,pL(s)&&s!==$.ABORTED){const o=n.Eu.shift();Ys(n).Qo(),await xk(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await zf(n)}var s}(t,e),Ck(t)&&bk(t)}async function Lw(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");const r=ii(n);n.vu.add(3),await tu(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Vf(n)}async function kO(t,e){const n=he(t);e?(n.vu.delete(2),await Vf(n)):e||(n.vu.add(2),await tu(n),n.bu.set("Unknown"))}function Ba(t){return t.Su||(t.Su=function(e,n,r){const s=he(e);return s.fu(),new uO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:mO.bind(null,t),ao:gO.bind(null,t),nu:yO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Hy(t)?zy(t):t.bu.set("Unknown")):(await t.Su.stop(),wk(t))})),t.Su}function Ys(t){return t.Du||(t.Du=function(e,n,r){const s=he(e);return s.fu(),new dO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:wO.bind(null,t),ao:bO.bind(null,t),au:xO.bind(null,t),cu:CO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await zf(t)):(await t.Du.stop(),t.Eu.length>0&&(J("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new qy(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wy(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),Xc(t))return new K($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=vl(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Ji(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ji)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ji;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.Cu=new Ye(ee.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ie():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ya{constructor(e,n,r,s,o,i,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new ya(e,n,Ji.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(){this.Nu=void 0,this.listeners=[]}}class EO{constructor(){this.queries=new Fa(e=>H9(e),Df),this.onlineState="Unknown",this.ku=new Set}}async function Gy(t,e){const n=he(t),r=e.query;let s=!1,o=n.queries.get(r);if(o||(s=!0,o=new SO),s)try{o.Nu=await n.onListen(r)}catch(i){const a=Wy(i,`Initialization of query '${fg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&Yy(n)}async function Ky(t,e){const n=he(t),r=e.query;let s=!1;const o=n.queries.get(r);if(o){const i=o.listeners.indexOf(e);i>=0&&(o.listeners.splice(i,1),s=o.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function TO(t,e){const n=he(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.listeners)a.$u(s)&&(r=!0);i.Nu=s}}r&&Yy(n)}function IO(t,e,n){const r=he(t),s=r.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);r.queries.delete(e)}function Yy(t){t.ku.forEach(e=>{e.next()})}class Qy{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ya(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.key=e}}class Sk{constructor(e){this.key=e}}class NO{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ve(),this.mutatedKeys=ve(),this.tc=q9(e),this.ec=new Ji(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Ow,s=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=Mf(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;f&&m?f.data.isEqual(m.data)?_!==w&&(r.track({type:3,doc:m}),x=!0):this.rc(f,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.tc(m,l)>0||u&&this.tc(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),x=!0):f&&!m&&(r.track({type:1,doc:f}),x=!0,(l||u)&&(a=!0)),x&&(m?(i=i.add(m),o=w?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ec:i,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((u,d)=>function(h,f){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return m(h)-m(f)}(u.type,d.type)||this.tc(u.doc,d.doc)),this.oc(r);const i=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new ya(this.query,e.ec,s,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Ow,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ve(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new Sk(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new kk(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ve();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ya.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class jO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AO{constructor(e){this.key=e,this.fc=!1}}class PO{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new Fa(a=>H9(a),Df),this._c=new Map,this.mc=new Set,this.gc=new Ye(ee.comparator),this.yc=new Map,this.Ic=new Fy,this.Tc={},this.Ec=new Map,this.Ac=ga.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function RO(t,e){const n=zO(t);let r,s;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),s=o.view.lc();else{const i=await rO(n.localStore,Jr(e)),a=n.sharedClientState.addLocalQueryTarget(i.targetId);r=i.targetId,s=await LO(n,e,r,a==="current",i.resumeToken),n.isPrimaryClient&&yk(n.remoteStore,i)}return s}async function LO(t,e,n,r,s){t.Rc=(h,f,m)=>async function(_,w,x,v){let y=w.view.sc(x);y.zi&&(y=await Aw(_.localStore,w.query,!1).then(({documents:b})=>w.view.sc(b,y)));const g=v&&v.targetChanges.get(w.targetId),C=w.view.applyChanges(y,_.isPrimaryClient,g);return Mw(_,w.targetId,C.cc),C.snapshot}(t,h,f,m);const o=await Aw(t.localStore,e,!0),i=new NO(e,o.ir),a=i.sc(o.documents),l=eu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(a,t.isPrimaryClient,l);Mw(t,n,u.cc);const d=new jO(e,n,i);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function OO(t,e){const n=he(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(o=>!Df(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await _g(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),_k(n.remoteStore,r.targetId),vg(n,r.targetId)}).catch(Zc)):(vg(n,r.targetId),await _g(n.localStore,r.targetId,!0))}async function DO(t,e,n){const r=HO(t);try{const s=await function(o,i){const a=he(o),l=yt.now(),u=i.reduce((f,m)=>f.add(m.key),ve());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=es(),_=ve();return a.Zi.getEntries(f,u).next(w=>{m=w,m.forEach((x,v)=>{v.isValidDocument()||(_=_.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(w=>{d=w;const x=[];for(const v of i){const y=cL(v,d.get(v.key).overlayedDocument);y!=null&&x.push(new ro(v.key,y,D9(y.value.mapValue),Vn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,x,i)}).next(w=>{h=w;const x=w.applyToLocalDocumentSet(d,_);return a.documentOverlayCache.saveOverlays(f,w.batchId,x)})}).then(()=>({batchId:h.batchId,changes:G9(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,i,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new Ye(be)),l=l.insert(i,a),o.Tc[o.currentUser.toKey()]=l}(r,s.batchId,n),await nu(r,s.changes),await zf(r.remoteStore)}catch(s){const o=Wy(s,"Failed to persist write");n.reject(o)}}async function Ek(t,e){const n=he(t);try{const r=await eO(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.yc.get(o);i&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?i.fc=!0:s.modifiedDocuments.size>0?Me(i.fc):s.removedDocuments.size>0&&(Me(i.fc),i.fc=!1))}),await nu(n,r,e)}catch(r){await Zc(r)}}function Dw(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((o,i)=>{const a=i.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(o,i){const a=he(o);a.onlineState=i;let l=!1;a.queries.forEach((u,d)=>{for(const h of d.listeners)h.Mu(i)&&(l=!0)}),l&&Yy(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MO(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),o=s&&s.key;if(o){let i=new Ye(ee.comparator);i=i.insert(o,Bt.newNoDocument(o,ue.min()));const a=ve().add(o),l=new Bf(ue.min(),new Map,new Ye(be),i,a);await Ek(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),Zy(r)}else await _g(r.localStore,e,!1).then(()=>vg(r,e,n)).catch(Zc)}async function $O(t,e){const n=he(t),r=e.batch.batchId;try{const s=await JL(n.localStore,e);Ik(n,r,null),Tk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await nu(n,s)}catch(s){await Zc(s)}}async function FO(t,e,n){const r=he(t);try{const s=await function(o,i){const a=he(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,i).next(d=>(Me(d!==null),u=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,i)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Ik(r,e,n),Tk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await nu(r,s)}catch(s){await Zc(s)}}function Tk(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Ik(t,e,n){const r=he(t);let s=r.Tc[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function vg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||Nk(t,r)})}function Nk(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(_k(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Zy(t))}function Mw(t,e,n){for(const r of n)r instanceof kk?(t.Ic.addReference(r.key,e),BO(t,r)):r instanceof Sk?(J("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||Nk(t,r.key)):ie()}function BO(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(J("SyncEngine","New document in limbo: "+n),t.mc.add(r),Zy(t))}function Zy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ee(Oe.fromString(e)),r=t.Ac.next();t.yc.set(r,new AO(n)),t.gc=t.gc.insert(n,r),yk(t.remoteStore,new js(Jr(Lf(n.path)),r,"TargetPurposeLimboResolution",Ey.ct))}}async function nu(t,e,n){const r=he(t),s=[],o=[],i=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{i.push(r.Rc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const d=Uy.Li(l.targetId,u);o.push(d)}}))}),await Promise.all(i),r.dc.nu(s),await async function(a,l){const u=he(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(l,h=>V.forEach(h.Fi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>V.forEach(h.Bi,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Xc(d))throw d;J("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=u.Ji.get(h),m=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(m);u.Ji=u.Ji.insert(h,_)}}}(r.localStore,o))}async function UO(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());const r=await fk(n.localStore,e);n.currentUser=e,function(s,o){s.Ec.forEach(i=>{i.forEach(a=>{a.reject(new K($.CANCELLED,o))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nu(n,r.er)}}function VO(t,e){const n=he(t),r=n.yc.get(e);if(r&&r.fc)return ve().add(r.key);{let s=ve();const o=n._c.get(e);if(!o)return s;for(const i of o){const a=n.wc.get(i);s=s.unionWith(a.view.nc)}return s}}function zO(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ek.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MO.bind(null,e),e.dc.nu=TO.bind(null,e.eventManager),e.dc.Pc=IO.bind(null,e.eventManager),e}function HO(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$O.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FO.bind(null,e),e}class $w{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Uf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return XL(this.persistence,new QL,e.initialUser,this.serializer)}createPersistence(e){return new KL(By.zs,this.serializer)}createSharedClientState(e){return new oO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UO.bind(null,this.syncEngine),await kO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new EO}createDatastore(e){const n=Uf(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new cO(s));var s;return function(o,i,a,l){return new hO(o,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,o=a=>Dw(this.syncEngine,a,0),i=Rw.D()?new Rw:new iO,new pO(n,r,s,o,i);var n,r,s,o,i}createSyncEngine(e,n){return function(r,s,o,i,a,l,u){const d=new PO(r,s,o,i,a,l);return u&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=he(e);J("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await tu(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$t.UNAUTHENTICATED,this.clientId=R9.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{J("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pm(t,e){t.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await fk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Fw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KO(t);J("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Lw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>Lw(e.remoteStore,o)),t._onlineComponents=e}function GO(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function KO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{await pm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!GO(n))throw n;ua("Error using user provided cache. Falling back to memory cache: "+n),await pm(t,new $w)}}else J("FirestoreClient","Using default OfflineComponentProvider"),await pm(t,new $w);return t._offlineComponents}async function jk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),await Fw(t,t._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),await Fw(t,new qO))),t._onlineComponents}function YO(t){return jk(t).then(e=>e.syncEngine)}async function yh(t){const e=await jk(t),n=e.eventManager;return n.onListen=RO.bind(null,e.syncEngine),n.onUnlisten=OO.bind(null,e.syncEngine),n}function QO(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const u=new Xy({next:h=>{o.enqueueAndForget(()=>Ky(s,d));const f=h.docs.has(i);!f&&h.fromCache?l.reject(new K($.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new K($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new Qy(Lf(i.path),u,{includeMetadataChanges:!0,Ku:!0});return Gy(s,d)}(await yh(t),t.asyncQueue,e,n,r)),r.promise}function ZO(t,e,n={}){const r=new Ur;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const u=new Xy({next:h=>{o.enqueueAndForget(()=>Ky(s,d)),h.fromCache&&a.source==="server"?l.reject(new K($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new Qy(i,u,{includeMetadataChanges:!0,Ku:!0});return Gy(s,d)}(await yh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t,e,n){if(!n)throw new K($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XO(t,e,n,r){if(e===!0&&r===!0)throw new K($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Uw(t){if(!ee.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vw(t){if(ee.isDocumentKey(t))throw new K($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function yn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hf(t);throw new K($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ak((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class qf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new CR;switch(n.type){case"firstParty":return new ER(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new K($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Bw.get(e);n&&(J("ComponentProvider","Removing Datastore"),Bw.delete(e),n.terminate())}(this),Promise.resolve()}}function JO(t,e,n,r={}){var s;const o=(t=yn(t,qf))._getSettings(),i=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==i&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$t.MOCK_USER;else{a=W4(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new K($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(u)}t._authCredentials=new bR(new P9(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class so{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class Us extends so{constructor(e,n,r){super(e,n,Lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ee(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function In(t,e,...n){if(t=je(t),Pk("collection","path",e),t instanceof qf){const r=Oe.fromString(e,...n);return Vw(r),new Us(t,null,r)}{if(!(t instanceof Wt||t instanceof Us))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Vw(r),new Us(t.firestore,null,r)}}function Z(t,e,...n){if(t=je(t),arguments.length===1&&(e=R9.A()),Pk("doc","path",e),t instanceof qf){const r=Oe.fromString(e,...n);return Uw(r),new Wt(t,null,new ee(r))}{if(!(t instanceof Wt||t instanceof Us))throw new K($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Uw(r),new Wt(t.firestore,t instanceof Us?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new mk(this,"async_queue_retry"),this.Xc=()=>{const n=fm();n&&J("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=fm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Ur;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Xc(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(o){let i=o.message||"";return o.stack&&(i=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),i}(r);throw Xr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=qy.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(s),s}Zc(){this.Wc&&ie()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Hw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}let ts=class extends qf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new eD,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rk(this),this._firestoreClient.terminate()}};function tD(t,e){const n=typeof t=="object"?t:K0(),r=typeof t=="string"?t:"(default)",s=hf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=z4("firestore");o&&JO(s,...o)}return s}function Wf(t){return t._firestoreClient||Rk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rk(t){var e,n,r;const s=t._freezeSettings(),o=function(i,a,l,u){return new $R(i,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Ak(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new WO(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _a(Qt.fromBase64String(e))}catch(n){throw new K($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _a(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/^__.*__$/;class rD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ro(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jc(e,this.data,n,this.fieldTransforms)}}class Lk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ro(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ok(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Kf{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Kf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return _h(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Ok(this.ca)&&nD.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class sD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uf(e)}ya(e,n,r,s=!1){return new Kf({ca:e,methodName:n,ga:r,path:Ut.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yf(t){const e=t._freezeSettings(),n=Uf(t._databaseId);return new sD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dk(t,e,n,r,s,o={}){const i=t.ya(o.merge||o.mergeFields?2:0,e,n,s);e_("Data must be an object, but it was:",i,r);const a=$k(r,i);let l,u;if(o.merge)l=new Sn(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=wg(e,h,n);if(!i.contains(f))throw new K($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Bk(d,f)||d.push(f)}l=new Sn(d),u=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=i.fieldTransforms;return new rD(new dn(a),l,u)}class Qf extends Ua{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qf}}function Mk(t,e,n){return new Kf({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class oD extends Ua{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Mk(this,e,!0),r=this.pa.map(o=>ai(o,n)),s=new pa(r);return new Ry(e.path,s)}isEqual(e){return this===e}}class iD extends Ua{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=Mk(this,e,!0),r=this.pa.map(o=>ai(o,n)),s=new ma(r);return new Ry(e.path,s)}isEqual(e){return this===e}}class aD extends Ua{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Ec(e.serializer,Z9(e.serializer,this.Ia));return new Ry(e.path,n)}isEqual(e){return this===e}}function lD(t,e,n,r){const s=t.ya(1,e,n);e_("Data must be an object, but it was:",s,r);const o=[],i=dn.empty();oi(r,(l,u)=>{const d=t_(e,l,n);u=je(u);const h=s.da(d);if(u instanceof Qf)o.push(d);else{const f=ai(u,h);f!=null&&(o.push(d),i.set(d,f))}});const a=new Sn(o);return new Lk(i,a,s.fieldTransforms)}function cD(t,e,n,r,s,o){const i=t.ya(1,e,n),a=[wg(e,r,n)],l=[s];if(o.length%2!=0)throw new K($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(wg(e,o[f])),l.push(o[f+1]);const u=[],d=dn.empty();for(let f=a.length-1;f>=0;--f)if(!Bk(u,a[f])){const m=a[f];let _=l[f];_=je(_);const w=i.da(m);if(_ instanceof Qf)u.push(m);else{const x=ai(_,w);x!=null&&(u.push(m),d.set(m,x))}}const h=new Sn(u);return new Lk(d,h,i.fieldTransforms)}function uD(t,e,n,r=!1){return ai(n,t.ya(r?4:3,e))}function ai(t,e){if(Fk(t=je(t)))return e_("Unsupported field value:",e,t),$k(t,e);if(t instanceof Ua)return function(n,r){if(!Ok(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const i of n){let a=ai(i,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=je(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Z9(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=yt.fromDate(n);return{timestampValue:mh(r.serializer,s)}}if(n instanceof yt){const s=new yt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:mh(r.serializer,s)}}if(n instanceof Jy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _a)return{bytesValue:ak(r.serializer,n._byteString)};if(n instanceof Wt){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$y(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Hf(n)}`)}(t,e)}function $k(t,e){const n={};return L9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oi(t,(r,s)=>{const o=ai(s,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Fk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof Jy||t instanceof _a||t instanceof Wt||t instanceof Ua)}function e_(t,e,n){if(!Fk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Hf(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function wg(t,e,n){if((e=je(e))instanceof Gf)return e._internalPath;if(typeof e=="string")return t_(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}const dD=new RegExp("[~\\*/\\[\\]]");function t_(t,e,n){if(e.search(dD)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gf(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new K($.INVALID_ARGUMENT,a+t+l)}function Bk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(n_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hD extends Uk{data(){return super.data()}}function n_(t,e){return typeof e=="string"?t_(t,e):e instanceof Gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r_{}class zk extends r_{}function Va(t,e,...n){let r=[];e instanceof r_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(a=>a instanceof o_).length,i=s.filter(a=>a instanceof s_).length;if(o>1||o>0&&i>0)throw new K($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class s_ extends zk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new s_(e,n,r)}_apply(e){const n=this._parse(e);return Hk(e._query,n),new so(e.firestore,e.converter,dg(e._query,n))}_parse(e){const n=Yf(e.firestore);return function(s,o,i,a,l,u,d){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new K($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Ww(d,u);const f=[];for(const m of d)f.push(qw(a,s,m));h={arrayValue:{values:f}}}else h=qw(a,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Ww(d,u),h=uD(i,o,d,u==="in"||u==="not-in");return ct.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class o_ extends r_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new o_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const i=s.getFlattenedFilters();for(const a of i)Hk(o,a),o=dg(o,a)}(e._query,n),new so(e.firestore,e.converter,dg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i_ extends zk{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i_(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new K($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Zi(s,o);return function(a,l){if(Py(a)===null){const u=Of(a);u!==null&&qk(a,u,l.field)}}(r,i),i}(e._query,this._field,this._direction);return new so(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new $a(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function za(t,e="asc"){const n=e,r=n_("orderBy",t);return i_._create(r,n)}function qw(t,e,n){if(typeof(n=je(n))=="string"){if(n==="")throw new K($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z9(e)&&n.indexOf("/")!==-1)throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!ee.isDocumentKey(r))throw new K($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pw(t,new ee(r))}if(n instanceof Wt)return pw(t,n._key);throw new K($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hf(n)}.`)}function Ww(t,e){if(!Array.isArray(t)||t.length===0)throw new K($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hk(t,e){if(e.isInequality()){const r=Of(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new K($.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const o=Py(t);o!==null&&qk(t,s,o)}const n=function(r,s){for(const o of r)for(const i of o.getFlattenedFilters())if(s.indexOf(i.op)>=0)return i.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qk(t,e,n){if(!n.isEqual(e))throw new K($.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class fD{convertValue(e,n="none"){switch(Ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return oi(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Jy(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Iy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bc(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Me(hk(r));const s=new kc(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return s.isEqual(n)||Xr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gk extends Uk{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(n_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vd extends Gk{data(e={}){return super.data(e)}}class Kk{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new xl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vd(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(i=>{const a=new vd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new xl(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);return i.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(i=>s||i.type!==3).map(i=>{const a=new vd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new xl(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return i.type!==0&&(l=o.indexOf(i.doc.key),o=o.delete(i.doc.key)),i.type!==1&&(o=o.add(i.doc),u=o.indexOf(i.doc.key)),{type:pD(i.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t){t=yn(t,Wt);const e=yn(t.firestore,ts);return QO(Wf(e),t._key).then(n=>Zk(e,t,n))}class a_ extends fD{constructor(e){super(),this.firestore=e}convertBytes(e){return new _a(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function Yk(t){t=yn(t,so);const e=yn(t.firestore,ts),n=Wf(e),r=new a_(e);return Vk(t._query),ZO(n,t._query).then(s=>new Kk(e,r,t,s))}function ut(t,e,n){t=yn(t,Wt);const r=yn(t.firestore,ts),s=Wk(t.converter,e,n);return Xf(r,[Dk(Yf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Vn.none())])}function ns(t,e,n,...r){t=yn(t,Wt);const s=yn(t.firestore,ts),o=Yf(s);let i;return i=typeof(e=je(e))=="string"||e instanceof Gf?cD(o,"updateDoc",t._key,e,n,r):lD(o,"updateDoc",t._key,e),Xf(s,[i.toMutation(t._key,Vn.exists(!0))])}function Qk(t){return Xf(yn(t.firestore,ts),[new Ly(t._key,Vn.none())])}function Zf(t,e){const n=yn(t.firestore,ts),r=Z(t),s=Wk(t.converter,e);return Xf(n,[Dk(Yf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Vn.exists(!1))]).then(()=>r)}function li(t,...e){var n,r,s;t=je(t);let o={includeMetadataChanges:!1},i=0;typeof e[i]!="object"||Hw(e[i])||(o=e[i],i++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Hw(e[i])){const h=e[i];e[i]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[i+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[i+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,u,d;if(t instanceof Wt)u=yn(t.firestore,ts),d=Lf(t._key.path),l={next:h=>{e[i]&&e[i](Zk(u,t,h))},error:e[i+1],complete:e[i+2]};else{const h=yn(t,so);u=yn(h.firestore,ts),d=h._query;const f=new a_(u);l={next:m=>{e[i]&&e[i](new Kk(u,f,h,m))},error:e[i+1],complete:e[i+2]},Vk(t._query)}return function(h,f,m,_){const w=new Xy(_),x=new Qy(f,w,m);return h.asyncQueue.enqueueAndForget(async()=>Gy(await yh(h),x)),()=>{w.Dc(),h.asyncQueue.enqueueAndForget(async()=>Ky(await yh(h),x))}}(Wf(u),d,a,l)}function Xf(t,e){return function(n,r){const s=new Ur;return n.asyncQueue.enqueueAndForget(async()=>DO(await YO(n),r,s)),s.promise}(Wf(t),e)}function Zk(t,e,n){const r=n.docs.get(e._key),s=new a_(t);return new Gk(t,s,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}function yo(...t){return new oD("arrayUnion",t)}function mD(...t){return new iD("arrayRemove",t)}function gD(t){return new aD("increment",t)}(function(t,e=!0){(function(n){Ma=n})(ri),zo(new Ws("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),i=new ts(new kR(n.getProvider("auth-internal")),new IR(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new K($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(a.options.projectId,l)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),i._setSettings(s),i},"PUBLIC").setMultipleInstances(!0)),vr(cw,"3.13.0",t),vr(cw,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="firebasestorage.googleapis.com",Jk="storageBucket",yD=2*60*1e3,_D=10*60*1e3,vD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends Ir{constructor(e,n,r=0){super(mm(e),`Firebase Storage: ${n} (${mm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $e;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($e||($e={}));function mm(t){return"storage/"+t}function l_(){const t="An unknown error occurred, please check the error payload for server response.";return new Qe($e.UNKNOWN,t)}function wD(t){return new Qe($e.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function xD(t){return new Qe($e.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe($e.UNAUTHENTICATED,t)}function bD(){return new Qe($e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kD(t){return new Qe($e.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function e7(){return new Qe($e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t7(){return new Qe($e.CANCELED,"User canceled the upload/download.")}function SD(t){return new Qe($e.INVALID_URL,"Invalid URL '"+t+"'.")}function ED(t){return new Qe($e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TD(){return new Qe($e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jk+"' property when initializing the app?")}function n7(){return new Qe($e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ID(){return new Qe($e.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ND(){return new Qe($e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jD(t){return new Qe($e.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xg(t){return new Qe($e.INVALID_ARGUMENT,t)}function r7(){return new Qe($e.APP_DELETED,"The Firebase app was deleted.")}function AD(t){return new Qe($e.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $l(t,e){return new Qe($e.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nl(t){throw new Qe($e.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=En.makeFromUrl(e,n)}catch{return new En(e,"")}if(r.path==="")return r;throw ED(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+s+i,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),_={bucket:1,path:3},w=n===Xk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",v=new RegExp(`^https?://${w}/${s}/${x}`,"i"),g=[{regex:a,indices:l,postModify:o},{regex:m,indices:_,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<g.length;C++){const b=g[C],k=b.regex.exec(e);if(k){const T=k[b.indices.bucket];let S=k[b.indices.path];S||(S=""),r=new En(T,S),b.postModify(r);break}}if(r==null)throw SD(e);return r}}class PD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(t,e,n){let r=1,s=null,o=null,i=!1,a=0;function l(){return a===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){s=setTimeout(()=>{s=null,t(m,l())},x)}function f(){o&&clearTimeout(o)}function m(x,...v){if(u){f();return}if(x){f(),d.call(null,x,...v);return}if(l()||i){f(),d.call(null,x,...v);return}r<64&&(r*=2);let g;a===1?(a=2,g=0):g=(r+Math.random())*1e3,h(g)}let _=!1;function w(x){_||(_=!0,f(),!u&&(s!==null?(x||(a=2),clearTimeout(s),h(0)):x||(a=1)))}return h(0),o=setTimeout(()=>{i=!0,w(!0)},n),w}function LD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t){return t!==void 0}function DD(t){return typeof t=="function"}function MD(t){return typeof t=="object"&&!Array.isArray(t)}function Jf(t){return typeof t=="string"||t instanceof String}function Gw(t){return c_()&&t instanceof Blob}function c_(){return typeof Blob<"u"&&!zI()}function Kw(t,e,n,r){if(r<e)throw xg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function s7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Lo||(Lo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,r,s,o,i,a,l,u,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,_)=>{this.resolve_=m,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Uu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const a=o.getErrorCode()===Lo.NO_ERROR,l=o.getStatus();if(!a||o7(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===Lo.ABORT;r(!1,new Uu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Uu(u,o))})},n=(r,s)=>{const o=this.resolve_,i=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());OD(l)?o(l):o()}catch(l){i(l)}else if(a!==null){const l=l_();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(s.canceled){const l=this.appDelete_?r7():t7();i(l)}else{const l=e7();i(l)}};this.canceled_?n(!1,new Uu(!1,null,!0)):this.backoffId_=RD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Uu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function FD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function UD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zD(t,e,n,r,s,o,i=!0){const a=s7(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return UD(u,e),FD(u,n),BD(u,o),VD(u,r),new $D(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qD(...t){const e=HD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(c_())return new Blob(t);throw new Qe($e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function WD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){if(typeof atob>"u")throw jD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gm{constructor(e,n){this.data=e,this.contentType=n||null}}function KD(t,e){switch(t){case mr.RAW:return new gm(i7(e));case mr.BASE64:case mr.BASE64URL:return new gm(a7(t,e));case mr.DATA_URL:return new gm(QD(e),ZD(e))}throw l_()}function i7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,i=t.charCodeAt(++n);r=65536|(o&1023)<<10|i&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function YD(t){let e;try{e=decodeURIComponent(t)}catch{throw $l(mr.DATA_URL,"Malformed data URL.")}return i7(e)}function a7(t,e){switch(t){case mr.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw $l(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case mr.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw $l(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=GD(e)}catch(s){throw s.message.includes("polyfill")?s:$l(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class l7{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $l(mr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=XD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function QD(t){const e=new l7(t);return e.base64?a7(mr.BASE64,e.rest):YD(e.rest)}function ZD(t){return new l7(t).contentType}function XD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){let r=0,s="";Gw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Gw(this.data_)){const r=this.data_,s=WD(r,e,n);return s===null?null:new Pr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Pr(r,!0)}}static getBlob(...e){if(c_()){const n=e.map(r=>r instanceof Pr?r.data_:r);return new Pr(qD.apply(null,n))}else{const n=e.map(i=>Jf(i)?KD(mr.RAW,i).data:i.data_);let r=0;n.forEach(i=>{r+=i.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(i=>{for(let a=0;a<i.length;a++)s[o++]=i[a]}),new Pr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(t){let e;try{e=JSON.parse(t)}catch{return null}return MD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function u7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(t,e){return e}class Zt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||tM}}let Vu=null;function nM(t){return!Jf(t)||t.length<2?t:u7(t)}function ep(){if(Vu)return Vu;const t=[];t.push(new Zt("bucket")),t.push(new Zt("generation")),t.push(new Zt("metageneration")),t.push(new Zt("name","fullPath",!0));function e(o,i){return nM(i)}const n=new Zt("name");n.xform=e,t.push(n);function r(o,i){return i!==void 0?Number(i):i}const s=new Zt("size");return s.xform=r,t.push(s),t.push(new Zt("timeCreated")),t.push(new Zt("updated")),t.push(new Zt("md5Hash",null,!0)),t.push(new Zt("cacheControl",null,!0)),t.push(new Zt("contentDisposition",null,!0)),t.push(new Zt("contentEncoding",null,!0)),t.push(new Zt("contentLanguage",null,!0)),t.push(new Zt("contentType",null,!0)),t.push(new Zt("metadata","customMetadata",!0)),Vu=t,Vu}function rM(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new En(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function sM(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const i=n[o];r[i.local]=i.xform(r,e[i.server])}return rM(r,t),r}function d7(t,e,n){const r=c7(e);return r===null?null:sM(t,r,n)}function oM(t,e,n,r){const s=c7(e);if(s===null||!Jf(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const i=encodeURIComponent;return o.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+i(d)+"/o/"+i(h),m=Ha(f,n,r),_=s7({alt:"media",token:u});return m+_})[0]}function h7(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class ci{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t){if(!t)throw l_()}function u_(t,e){function n(r,s){const o=d7(t,s,e);return Vr(o!==null),o}return n}function iM(t,e){function n(r,s){const o=d7(t,s,e);return Vr(o!==null),oM(o,s,t.host,t._protocol)}return n}function ru(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=bD():s=CD():n.getStatus()===402?s=xD(t.bucket):n.getStatus()===403?s=kD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function d_(t){const e=ru(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=wD(t.path)),o.serverResponse=s.serverResponse,o}return n}function f7(t,e,n){const r=e.fullServerUrl(),s=Ha(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new ci(s,o,u_(t,n),i);return a.errorHandler=d_(e),a}function aM(t,e,n){const r=e.fullServerUrl(),s=Ha(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new ci(s,o,iM(t,n),i);return a.errorHandler=d_(e),a}function lM(t,e){const n=e.fullServerUrl(),r=Ha(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function i(l,u){}const a=new ci(r,s,i,o);return a.successCodes=[200,204],a.errorHandler=d_(e),a}function cM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function p7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=cM(null,e)),r}function m7(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let g="";for(let C=0;C<2;C++)g=g+Math.random().toString().slice(2);return g}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const u=p7(e,r,s),d=h7(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Pr.getBlob(h,r,f);if(m===null)throw n7();const _={name:u.fullPath},w=Ha(o,t.host,t._protocol),x="POST",v=t.maxUploadRetryTime,y=new ci(w,x,u_(t,n),v);return y.urlParams=_,y.headers=i,y.body=m.uploadData(),y.errorHandler=ru(e),y}class vh{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function h_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Vr(!1)}return Vr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function uM(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i=p7(e,r,s),a={name:i.fullPath},l=Ha(o,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},h=h7(i,n),f=t.maxUploadRetryTime;function m(w){h_(w);let x;try{x=w.getResponseHeader("X-Goog-Upload-URL")}catch{Vr(!1)}return Vr(Jf(x)),x}const _=new ci(l,u,m,f);return _.urlParams=a,_.headers=d,_.body=h,_.errorHandler=ru(e),_}function dM(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function o(u){const d=h_(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Vr(!1)}h||Vr(!1);const f=Number(h);return Vr(!isNaN(f)),new vh(f,r.size(),d==="final")}const i="POST",a=t.maxUploadRetryTime,l=new ci(n,i,o,a);return l.headers=s,l.errorHandler=ru(e),l}const Yw=256*1024;function hM(t,e,n,r,s,o,i,a){const l=new vh(0,0);if(i?(l.current=i.current,l.total=i.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw ID();const u=l.total-l.current;let d=u;s>0&&(d=Math.min(d,s));const h=l.current,f=h+d;let m="";d===0?m="finalize":u===d?m="upload, finalize":m="upload";const _={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,f);if(w===null)throw n7();function x(C,b){const k=h_(C,["active","final"]),T=l.current+d,S=r.size();let E;return k==="final"?E=u_(e,o)(C,b):E=null,new vh(T,S,k==="final",E)}const v="POST",y=e.maxUploadRetryTime,g=new ci(n,v,x,y);return g.headers=_,g.body=w.uploadData(),g.progressCallback=a||null,g.errorHandler=ru(t),g}const cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ym(t){switch(t){case"running":case"pausing":case"canceling":return cn.RUNNING;case"paused":return cn.PAUSED;case"success":return cn.SUCCESS;case"canceled":return cn.CANCELED;case"error":return cn.ERROR;default:return cn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,r){if(DD(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class pM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Lo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Lo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Lo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw nl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mM extends pM{initXhr(){this.xhr_.responseType="text"}}function Rr(){return new mM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=ep(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals($e.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(o7(s.status,[]))if(o)s=e7();else{this.sleepTime=Math.max(this.sleepTime*2,vD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals($e.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=uM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Rr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=dM(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(s,Rr,n,r);this._request=o,o.getPromise().then(i=>{i=i,this._request=void 0,this._updateProgress(i.current),this._needToFetchStatus=!1,i.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Yw*this._chunkMultiplier,n=new vh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,o)=>{let i;try{i=hM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(i,Rr,s,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Yw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=f7(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Rr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=m7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Rr,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=t7(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=ym(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const o=new fM(n||void 0,r||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(ym(this._state)){case cn.SUCCESS:pi(this._resolve.bind(null,this.snapshot))();break;case cn.CANCELED:case cn.ERROR:const n=this._reject;pi(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ym(this._state)){case cn.RUNNING:case cn.PAUSED:e.next&&pi(e.next.bind(e,this.snapshot))();break;case cn.SUCCESS:e.complete&&pi(e.complete.bind(e))();break;case cn.CANCELED:case cn.ERROR:e.error&&pi(e.error.bind(e,this._error))();break;default:e.error&&pi(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this._service=e,n instanceof En?this._location=n:this._location=En.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yo(e,n)}get root(){const e=new En(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return u7(this._location.path)}get storage(){return this._service}get parent(){const e=JD(this._location.path);if(e===null)return null;const n=new En(this._location.bucket,e);return new Yo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AD(e)}}function yM(t,e,n){t._throwIfRoot("uploadBytes");const r=m7(t.storage,t._location,ep(),new Pr(e,!0),n);return t.storage.makeRequestWithTokens(r,Rr).then(s=>({metadata:s,ref:t}))}function _M(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new gM(t,new Pr(e),n)}function vM(t){t._throwIfRoot("getMetadata");const e=f7(t.storage,t._location,ep());return t.storage.makeRequestWithTokens(e,Rr)}function wM(t){t._throwIfRoot("getDownloadURL");const e=aM(t.storage,t._location,ep());return t.storage.makeRequestWithTokens(e,Rr).then(n=>{if(n===null)throw ND();return n})}function xM(t){t._throwIfRoot("deleteObject");const e=lM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Rr)}function CM(t,e){const n=eM(t._location.path,e),r=new En(t._location.bucket,n);return new Yo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){return/^[A-Za-z]+:\/\//.test(t)}function kM(t,e){return new Yo(t,e)}function g7(t,e){if(t instanceof f_){const n=t;if(n._bucket==null)throw TD();const r=new Yo(n,n._bucket);return e!=null?g7(r,e):r}else return e!==void 0?CM(t,e):t}function SM(t,e){if(e&&bM(e)){if(t instanceof f_)return kM(t,e);throw xg("To use ref(service, url), the first argument must be a Storage instance.")}else return g7(t,e)}function Qw(t,e){const n=e==null?void 0:e[Jk];return n==null?null:En.makeFromBucketSpec(n,t)}function EM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:W4(s,t.app.options.projectId))}class f_{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=Xk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yD,this._maxUploadRetryTime=_D,this._requests=new Set,s!=null?this._bucket=En.makeFromBucketSpec(s,this._host):this._bucket=Qw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=En.makeFromBucketSpec(this._url,e):this._bucket=Qw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Kw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Kw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yo(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new PD(r7());{const i=zD(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Zw="@firebase/storage",Xw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7="storage";function Qo(t,e,n){return t=je(t),yM(t,e,n)}function TM(t,e,n){return t=je(t),_M(t,e,n)}function IM(t){return t=je(t),vM(t)}function rs(t){return t=je(t),wM(t)}function NM(t){return t=je(t),xM(t)}function Sr(t,e){return t=je(t),SM(t,e)}function jM(t=K0(),e){t=je(t);const r=hf(t,y7).getImmediate({identifier:e}),s=z4("storage");return s&&AM(r,...s),r}function AM(t,e,n,r={}){EM(t,e,n,r)}function PM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new f_(n,r,s,e,ri)}function RM(){zo(new Ws(y7,PM,"PUBLIC").setMultipleInstances(!0)),vr(Zw,Xw,""),vr(Zw,Xw,"esm2017")}RM();const LM={apiKey:"AIzaSyBBlQca3oj1efZEEjTu1XSmMHRcbGX_Hj8",authDomain:"genery-c83e3.firebaseapp.com",projectId:"genery-c83e3",storageBucket:"genery-c83e3.appspot.com",messagingSenderId:"179227356988",appId:"1:179227356988:web:31e0070216dbb4bf673839"},p_=Y4(LM),_7=fP(p_),q=tD(p_),Er=jM(p_),v7=p.createContext(),OM=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(""),o=_7;p.useEffect(()=>{const a=eA(o,l=>{l?(async()=>{const d=Z(q,"users",l.uid,"info","preferences"),h=await le(d);if(h.exists()){const f=h.data();console.log(f),n({_id:l.uid,avatar:f.photo,name:f.name,cover:f.cover,mainGroup:f.mainGroup})}else console.log("No such document!")})():n(null)});return()=>{a()}},[]);const i=p.useMemo(()=>({authUser:e,setAuthUser:n,ga:o}),[e]);return c.jsx(v7.Provider,{value:i,children:t})},pe=()=>p.useContext(v7);function DM(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),{authUser:s}=pe();let o;const i=fe();return p.useEffect(()=>{s?o="/menu":o="/about";const a=setTimeout(()=>{i(o)},3e3);return()=>clearTimeout(a)},[i]),c.jsx("div",{className:jI.container,children:c.jsx($4,{color:t.icon_color})})}const rl={"input-container":"_input-container_oontd_1","input-inside":"_input-inside_oontd_10","show-button":"_show-button_oontd_26"};function Oo({type:t,placeholder:e,onInputChange:n,backgroundColor:r,textColor:s}){const{theme:o,elementColors:i,setElementColors:a}=p.useContext(F),[l,u]=p.useState(!1),[d,h]=p.useState(!1),[f,m]=p.useState(!1),_=()=>{u(!l)},w=[c.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M15 10.4C13.9874 10.4 13.0162 10.7793 12.3001 11.4544C11.5841 12.1295 11.1818 13.0452 11.1818 14C11.1818 14.9548 11.5841 15.8705 12.3001 16.5456C13.0162 17.2207 13.9874 17.6 15 17.6C16.0126 17.6 16.9838 17.2207 17.6999 16.5456C18.4159 15.8705 18.8182 14.9548 18.8182 14C18.8182 13.0452 18.4159 12.1295 17.6999 11.4544C16.9838 10.7793 16.0126 10.4 15 10.4ZM15 20C13.3123 20 11.6936 19.3679 10.5002 18.2426C9.30682 17.1174 8.63636 15.5913 8.63636 14C8.63636 12.4087 9.30682 10.8826 10.5002 9.75736C11.6936 8.63214 13.3123 8 15 8C16.6877 8 18.3064 8.63214 19.4998 9.75736C20.6932 10.8826 21.3636 12.4087 21.3636 14C21.3636 15.5913 20.6932 17.1174 19.4998 18.2426C18.3064 19.3679 16.6877 20 15 20ZM15 5C8.63636 5 3.20182 8.732 1 14C3.20182 19.268 8.63636 23 15 23C21.3636 23 26.7982 19.268 29 14C26.7982 8.732 21.3636 5 15 5Z",fill:o.text_first_color})})],x=[c.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7836 10.2632L18.8182 14.0884V13.8947C18.8182 12.9316 18.4159 12.0079 17.6999 11.3268C16.9838 10.6458 16.0126 10.2632 15 10.2632H14.7836ZM9.31091 11.2316L11.2836 13.1079C11.22 13.3621 11.1818 13.6163 11.1818 13.8947C11.1818 14.8579 11.5841 15.7816 12.3001 16.4627C13.0162 17.1437 13.9874 17.5263 15 17.5263C15.28 17.5263 15.56 17.49 15.8273 17.4295L17.8 19.3058C16.9473 19.7053 16.0055 19.9474 15 19.9474C13.3123 19.9474 11.6936 19.3097 10.5002 18.1746C9.30682 17.0395 8.63636 15.5 8.63636 13.8947C8.63636 12.9384 8.89091 12.0426 9.31091 11.2316ZM2.27273 4.53737L5.17455 7.29737L5.74727 7.84211C3.64727 9.41579 1.99273 11.4737 1 13.8947C3.20182 19.2089 8.63636 22.9737 15 22.9737C16.9727 22.9737 18.8564 22.6105 20.5745 21.9568L21.1218 22.4653L24.8382 26L26.4545 24.4626L3.88909 3M15 7.84211C16.6877 7.84211 18.3064 8.47979 19.4998 9.61488C20.6932 10.75 21.3636 12.2895 21.3636 13.8947C21.3636 14.6695 21.1982 15.42 20.9055 16.0979L24.6345 19.6447C26.5436 18.1316 28.0709 16.1463 29 13.8947C26.7982 8.58053 21.3636 4.81579 15 4.81579C13.2182 4.81579 11.5127 5.11842 9.90909 5.66316L12.6709 8.26579C13.3964 7.99947 14.1727 7.84211 15 7.84211Z",fill:o.text_first_color})})];let v=[c.jsx("div",{className:rl["input-container"],children:c.jsx("input",{className:rl["input-inside"],type:t,placeholder:e,onChange:n,style:{backgroundColor:r,color:s,caretColor:o.first_color,borderColor:o.first_color,outline:"none"},onFocus:()=>m(!0),onBlur:()=>m(!1)})})];return t==="password"&&(v=[c.jsxs("div",{className:rl["input-container"],children:[c.jsx("input",{className:rl["input-inside"],type:l?"text":"password",placeholder:e,onChange:n,style:{backgroundColor:r,color:s,caretColor:o.first_color,borderColor:o.first_color,outline:"none"},onFocus:()=>m(!0),onBlur:()=>m(!1)}),c.jsx("button",{className:rl["show-button"],onClick:_,children:l?x:w},"")]})]),v}const MM="_container_bxems_1",$M="_greeting_bxems_22",FM="_error_bxems_54",ar={container:MM,"auth-form":"_auth-form_bxems_12",greeting:$M,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:FM,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"},Jw=[{src:"avatars/1.png"},{src:"avatars/2.png"},{src:"avatars/3.png"},{src:"avatars/4.png"},{src:"avatars/5.png"},{src:"avatars/6.png"},{src:"avatars/7.png"},{src:"avatars/8.png"},{src:"avatars/9.png"},{src:"avatars/10.png"},{src:"avatars/11.png"},{src:"avatars/12.png"},{src:"avatars/13.png"},{src:"avatars/14.png"},{src:"avatars/15.png"},{src:"avatars/16.png"},{src:"avatars/17.png"},{src:"avatars/18.png"},{src:"avatars/19.png"},{src:"avatars/20.png"}];function BM(){const t=()=>{const y=Math.floor(Math.random()*Jw.length);return Jw[y].src},{theme:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState(),[o,i]=p.useState(),[a,l]=p.useState(),[u,d]=p.useState(),{authUser:h,setAuthUser:f,ga:m}=pe(),[_,w]=p.useState(t()),x=fe();p.useEffect(()=>{n({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!1,arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!1,footerBackground:e.background_color,activeElementIndex:3,background:e.background_color}),document.body.style.background=e.background_color},[e]);function v(y){if(y.preventDefault(),!r&&!o&&!a){d("введите email и пароль");return}else if(r)if(a){if(!o){d("введите пароль");return}}else{d("введите имя");return}else{d("введите email");return}(async()=>{try{const b=(await Qj(m,r,o)).user;console.log(b);const k=Z(q,"users",b.uid,"info","preferences");await ut(k,{uid:b.uid,name:a,photo:_,cover:"blue",biography:"",boughtThemes:["default"],boughtColors:["default"],boughtEmojies:[],censorState:!0,balance:1e3,followers:[]},{merge:!0}),console.log("Profile updated successfully"),localStorage.setItem("censor",!0),localStorage.setItem("theme","default"),s(""),i(""),l("")}catch(C){d(C.message),console.error("Error creating user or updating profile: ",C)}})()}return p.useEffect(()=>{h&&x("/menu")},[h]),c.jsx("div",{className:ar.container,children:c.jsxs("form",{className:ar["auth-form"],children:[c.jsxs("div",{className:ar.greeting,children:[c.jsx("h2",{className:ar["greeting-title"],style:{color:e.text_first_color},children:"Давай знакомиться"}),c.jsx("h3",{className:ar["greeting-text"],style:{color:e.text_first_color},children:"Выбери желаемое имя и пароль"})]}),c.jsxs("div",{className:ar["input-container"],children:[c.jsx("div",{className:ar.error,style:{color:e.gradient_first_color},children:u}),c.jsx(Oo,{type:"email",placeholder:"Введите email",onInputChange:y=>s(y.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),c.jsx(Oo,{type:"text",placeholder:"Введите имя",onInputChange:y=>l(y.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),c.jsx(Oo,{type:"password",placeholder:"Введите пароль",onInputChange:y=>i(y.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color})]}),c.jsxs("div",{className:ar["button-container"],children:[c.jsxs("button",{onClick:v,className:ar["continue-button"],style:{background:e.first_color},children:["Регистрация",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:ar["create-account"],style:{color:e.text_first_color},onClick:()=>x("/sign-in"),children:"Уже есть аккаунт? Войти"})]})]})})}const UM="_container_bxems_1",VM="_greeting_bxems_22",zM="_error_bxems_54",Gn={container:UM,"auth-form":"_auth-form_bxems_12",greeting:VM,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:zM,"forgot-password":"_forgot-password_bxems_65","button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function w7(){const{authUser:t,ga:e}=pe(),{theme:n,setElementColors:r}=p.useContext(F),[s,o]=p.useState(""),[i,a]=p.useState(""),[l,u]=p.useState(""),d=fe(),h={"auth/invalid-login-credentials":"Неверный email или пароль"};p.useEffect(()=>{r({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!1,arrowColor:n.text_first_color,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!1,footerBackground:n.background_color,activeElementIndex:3,background:n.background_color}),document.body.style.background=n.background_color},[n]);function f(m){m.preventDefault(),!s&&!i?u("введите email и пароль"):s?i||u("введите пароль"):u("введите email"),Zj(e,s,i).then(()=>{const _=userCredential.user;console.log(_),o(""),a("")}).then(()=>{console.log("Profile updated successfully")}).catch(_=>{const w=h[_.code]||"Произошла ошибка";u(w)})}return p.useEffect(()=>{t&&d("/menu")},[t]),c.jsx("div",{className:Gn.container,children:c.jsxs("form",{className:Gn["auth-form"],children:[c.jsxs("div",{className:Gn.greeting,children:[c.jsx("h2",{className:Gn["greeting-title"],style:{color:n.text_first_color},children:"Представьтесь"}),c.jsx("h3",{className:Gn["greeting-text"],style:{color:n.text_first_color},children:"Работа не волк, подождет, а мы нет"})]}),c.jsxs("div",{className:Gn["input-container"],children:[c.jsx("div",{className:Gn.error,style:{color:n.gradient_first_color},children:l}),c.jsx(Oo,{type:"email",placeholder:"Введите email",onInputChange:m=>o(m.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),c.jsx(Oo,{type:"password",placeholder:"Введите пароль",onInputChange:m=>a(m.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),c.jsx("button",{className:Gn["forgot-password"],style:{color:n.text_first_color},children:"Забыли пароль?"})]}),c.jsxs("div",{className:Gn["button-container"],children:[c.jsxs("button",{onClick:f,className:Gn["continue-button"],style:{background:n.first_color},children:["Войти",c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),c.jsx("button",{className:Gn["create-account"],style:{color:n.text_first_color},onClick:()=>d("/sign-up"),children:"Нет аккаунта? Регистрация"})]})]})})}var x7={},C7={},tp={},b7={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(b7);var HM="Expected a function",ex=NaN,qM="[object Symbol]",WM=/^\s+|\s+$/g,GM=/^[-+]0x[0-9a-f]+$/i,KM=/^0b[01]+$/i,YM=/^0o[0-7]+$/i,QM=parseInt,ZM=typeof Ve=="object"&&Ve&&Ve.Object===Object&&Ve,XM=typeof self=="object"&&self&&self.Object===Object&&self,JM=ZM||XM||Function("return this")(),e$=Object.prototype,t$=e$.toString,n$=Math.max,r$=Math.min,_m=function(){return JM.Date.now()};function s$(t,e,n){var r,s,o,i,a,l,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(HM);e=tx(e)||0,Cg(n)&&(d=!!n.leading,h="maxWait"in n,o=h?n$(tx(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function m(k){var T=r,S=s;return r=s=void 0,u=k,i=t.apply(S,T),i}function _(k){return u=k,a=setTimeout(v,e),d?m(k):i}function w(k){var T=k-l,S=k-u,E=e-T;return h?r$(E,o-S):E}function x(k){var T=k-l,S=k-u;return l===void 0||T>=e||T<0||h&&S>=o}function v(){var k=_m();if(x(k))return y(k);a=setTimeout(v,w(k))}function y(k){return a=void 0,f&&r?m(k):(r=s=void 0,i)}function g(){a!==void 0&&clearTimeout(a),u=0,r=l=s=a=void 0}function C(){return a===void 0?i:y(_m())}function b(){var k=_m(),T=x(k);if(r=arguments,s=this,l=k,T){if(a===void 0)return _(l);if(h)return a=setTimeout(v,e),m(l)}return a===void 0&&(a=setTimeout(v,e)),i}return b.cancel=g,b.flush=C,b}function Cg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function o$(t){return!!t&&typeof t=="object"}function i$(t){return typeof t=="symbol"||o$(t)&&t$.call(t)==qM}function tx(t){if(typeof t=="number")return t;if(i$(t))return ex;if(Cg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Cg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(WM,"");var n=KM.test(t);return n||YM.test(t)?QM(t.slice(2),n?2:8):GM.test(t)?ex:+t}var a$=s$,k7={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)e.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(k7);var np=k7.exports,z={},m_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(p);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(m_);Object.defineProperty(z,"__esModule",{value:!0});z.checkSpecKeys=z.checkNavigable=z.changeSlide=z.canUseDOM=z.canGoNext=void 0;z.clamp=E7;z.extractObject=void 0;z.filterSettings=C$;z.validSettings=z.swipeStart=z.swipeMove=z.swipeEnd=z.slidesOnRight=z.slidesOnLeft=z.slideHandler=z.siblingDirection=z.safePreventDefault=z.lazyStartIndex=z.lazySlidesOnRight=z.lazySlidesOnLeft=z.lazyEndIndex=z.keyHandler=z.initializedState=z.getWidth=z.getTrackLeft=z.getTrackCSS=z.getTrackAnimateCSS=z.getTotalSlides=z.getSwipeDirection=z.getSlideCount=z.getRequiredLazySlides=z.getPreClones=z.getPostClones=z.getOnDemandLazySlides=z.getNavigableIndexes=z.getHeight=void 0;var l$=S7(p),c$=S7(m_);function S7(t){return t&&t.__esModule?t:{default:t}}function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function nx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nx(Object(n),!0).forEach(function(r){u$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u$(t,e,n){return e=d$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d$(t){var e=h$(t,"string");return Tc(e)=="symbol"?e:String(e)}function h$(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E7(t,e,n){return Math.max(e,Math.min(t,n))}var ea=z.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},T7=z.getOnDemandLazySlides=function(e){for(var n=[],r=I7(e),s=N7(e),o=r;o<s;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};z.getRequiredLazySlides=function(e){for(var n=[],r=I7(e),s=N7(e),o=r;o<s;o++)n.push(o);return n};var I7=z.lazyStartIndex=function(e){return e.currentSlide-f$(e)},N7=z.lazyEndIndex=function(e){return e.currentSlide+p$(e)},f$=z.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},p$=z.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},bg=z.getWidth=function(e){return e&&e.offsetWidth||0},j7=z.getHeight=function(e){return e&&e.offsetHeight||0},A7=z.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,s,o,i;return r=e.startX-e.curX,s=e.startY-e.curY,o=Math.atan2(s,r),i=Math.round(o*180/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":n===!0?i>=35&&i<=135?"up":"down":"vertical"},P7=z.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};z.extractObject=function(e,n){var r={};return n.forEach(function(s){return r[s]=e[s]}),r};z.initializedState=function(e){var n=l$.default.Children.count(e.children),r=e.listRef,s=Math.ceil(bg(r)),o=e.trackRef&&e.trackRef.node,i=Math.ceil(bg(o)),a;if(e.vertical)a=s;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=s/100),a=Math.ceil((s-l)/e.slidesToShow)}var u=r&&j7(r.querySelector('[data-index="0"]')),d=u*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var f=e.lazyLoadedList||[],m=T7(Be(Be({},e),{},{currentSlide:h,lazyLoadedList:f}));f=f.concat(m);var _={slideCount:n,slideWidth:a,listWidth:s,trackWidth:i,currentSlide:h,slideHeight:u,listHeight:d,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(_.autoplaying="playing"),_};z.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,s=e.fade,o=e.infinite,i=e.index,a=e.slideCount,l=e.lazyLoad,u=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,f=e.slidesToShow,m=e.useCSS,_=e.lazyLoadedList;if(n&&r)return{};var w=i,x,v,y,g={},C={},b=o?i:E7(i,0,a-1);if(s){if(!o&&(i<0||i>=a))return{};i<0?w=i+a:i>=a&&(w=i-a),l&&_.indexOf(w)<0&&(_=_.concat(w)),g={animating:!0,currentSlide:w,lazyLoadedList:_,targetSlide:w},C={animating:!1,targetSlide:w}}else x=w,w<0?(x=w+a,o?a%h!==0&&(x=a-a%h):x=0):!P7(e)&&w>u?w=x=u:d&&w>=a?(w=o?a:a-1,x=o?0:a-1):w>=a&&(x=w-a,o?a%h!==0&&(x=0):x=a-f),!o&&w+f>=a&&(x=a-f),v=xh(Be(Be({},e),{},{slideIndex:w})),y=xh(Be(Be({},e),{},{slideIndex:x})),o||(v===y&&(w=x),v=y),l&&(_=_.concat(T7(Be(Be({},e),{},{currentSlide:w})))),m?(g={animating:!0,currentSlide:x,trackStyle:R7(Be(Be({},e),{},{left:v})),lazyLoadedList:_,targetSlide:b},C={animating:!1,currentSlide:x,trackStyle:wh(Be(Be({},e),{},{left:y})),swipeLeft:null,targetSlide:b}):g={currentSlide:x,trackStyle:wh(Be(Be({},e),{},{left:y})),lazyLoadedList:_,targetSlide:b};return{state:g,nextState:C}};z.changeSlide=function(e,n){var r,s,o,i,a,l=e.slidesToScroll,u=e.slidesToShow,d=e.slideCount,h=e.currentSlide,f=e.targetSlide,m=e.lazyLoad,_=e.infinite;if(i=d%l!==0,r=i?0:(d-h)%l,n.message==="previous")o=r===0?l:u-r,a=h-o,m&&!_&&(s=h-o,a=s===-1?d-1:s),_||(a=f-l);else if(n.message==="next")o=r===0?l:r,a=h+o,m&&!_&&(a=(h+l)%d+r),_||(a=f+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,_){var w=_$(Be(Be({},e),{},{targetSlide:a}));a>n.currentSlide&&w==="left"?a=a-d:a<n.currentSlide&&w==="right"&&(a=a+d)}}else n.message==="index"&&(a=Number(n.index));return a};z.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};z.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&ea(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};z.swipeMove=function(e,n){var r=n.scrolling,s=n.animating,o=n.vertical,i=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,u=n.currentSlide,d=n.edgeFriction,h=n.edgeDragged,f=n.onEdge,m=n.swiped,_=n.swiping,w=n.slideCount,x=n.slidesToScroll,v=n.infinite,y=n.touchObject,g=n.swipeEvent,C=n.listHeight,b=n.listWidth;if(!r){if(s)return ea(e);o&&i&&a&&ea(e);var k,T={},S=xh(n);y.curX=e.touches?e.touches[0].pageX:e.clientX,y.curY=e.touches?e.touches[0].pageY:e.clientY,y.swipeLength=Math.round(Math.sqrt(Math.pow(y.curX-y.startX,2)));var E=Math.round(Math.sqrt(Math.pow(y.curY-y.startY,2)));if(!a&&!_&&E>10)return{scrolling:!0};a&&(y.swipeLength=E);var I=(l?-1:1)*(y.curX>y.startX?1:-1);a&&(I=y.curY>y.startY?1:-1);var j=Math.ceil(w/x),N=A7(n.touchObject,a),O=y.swipeLength;return v||(u===0&&(N==="right"||N==="down")||u+1>=j&&(N==="left"||N==="up")||!P7(n)&&(N==="left"||N==="up"))&&(O=y.swipeLength*d,h===!1&&f&&(f(N),T.edgeDragged=!0)),!m&&g&&(g(N),T.swiped=!0),o?k=S+O*(C/b)*I:l?k=S-O*I:k=S+O*I,a&&(k=S+O*I),T=Be(Be({},T),{},{touchObject:y,swipeLeft:k,trackStyle:wh(Be(Be({},n),{},{left:k}))}),Math.abs(y.curX-y.startX)<Math.abs(y.curY-y.startY)*.8||y.swipeLength>10&&(T.swiping=!0,ea(e)),T}};z.swipeEnd=function(e,n){var r=n.dragging,s=n.swipe,o=n.touchObject,i=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,u=n.listHeight,d=n.swipeToSlide,h=n.scrolling,f=n.onSwipe,m=n.targetSlide,_=n.currentSlide,w=n.infinite;if(!r)return s&&ea(e),{};var x=l?u/a:i/a,v=A7(o,l),y={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!o.swipeLength)return y;if(o.swipeLength>x){ea(e),f&&f(v);var g,C,b=w?_:m;switch(v){case"left":case"up":C=b+sx(n),g=d?rx(n,C):C,y.currentDirection=0;break;case"right":case"down":C=b-sx(n),g=d?rx(n,C):C,y.currentDirection=1;break;default:g=b}y.triggerSlideHandler=g}else{var k=xh(n);y.trackStyle=R7(Be(Be({},n),{},{left:k}))}return y};var m$=z.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,s=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=s+e.slidesToScroll,s+=Math.min(e.slidesToScroll,e.slidesToShow);return o},rx=z.checkNavigable=function(e,n){var r=m$(e),s=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=s;break}s=r[o]}return n},sx=z.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,s=e.listRef,o=s.querySelectorAll&&s.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(e.vertical){if(l.offsetTop+j7(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+bg(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var i=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-i)||1;return a}else return e.slidesToScroll},g_=z.checkSpecKeys=function(e,n){return n.reduce(function(r,s){return r&&e.hasOwnProperty(s)},!0)?null:console.error("Keys Missing:",e)},wh=z.getTrackCSS=function(e){g_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,s=e.slideCount+2*e.slidesToShow;e.vertical?r=s*e.slideHeight:n=y$(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=Be(Be({},o),{},{WebkitTransform:i,transform:a,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},R7=z.getTrackAnimateCSS=function(e){g_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=wh(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},xh=z.getTrackLeft=function(e){if(e.unslick)return 0;g_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,s=e.infinite,o=e.centerMode,i=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,u=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,m=e.fade,_=e.vertical,w=0,x,v,y=0;if(m||e.slideCount===1)return 0;var g=0;if(s?(g=-wd(e),i%l!==0&&n+l>i&&(g=-(n>i?a-(n-i):i%l)),o&&(g+=parseInt(a/2))):(i%l!==0&&n+l>i&&(g=a-i%l),o&&(g=parseInt(a/2))),w=g*u,y=g*f,_?x=n*f*-1+y:x=n*u*-1+w,h===!0){var C,b=r&&r.node;if(C=n+wd(e),v=b&&b.childNodes[C],x=v?v.offsetLeft*-1:0,o===!0){C=s?n+wd(e):n,v=b&&b.children[C],x=0;for(var k=0;k<C;k++)x-=b&&b.children[k]&&b.children[k].offsetWidth;x-=parseInt(e.centerPadding),x+=v&&(d-v.offsetWidth)/2}}return x},wd=z.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},g$=z.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},y$=z.getTotalSlides=function(e){return e.slideCount===1?1:wd(e)+e.slideCount+g$(e)},_$=z.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+v$(e)?"left":"right":e.targetSlide<e.currentSlide-w$(e)?"right":"left"},v$=z.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,o=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),s&&n%2===0&&(i+=1),i}return s?0:n-1},w$=z.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,o=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),!s&&n%2===0&&(i+=1),i}return s?n-1:0};z.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var x$=z.validSettings=Object.keys(c$.default);function C$(t){return x$.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.Track=void 0;var ys=L7(p),vm=L7(np),wm=z;function L7(t){return t&&t.__esModule?t:{default:t}}function va(t){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(t)}function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}function b$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D7(r.key),r)}}function S$(t,e,n){return e&&k$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function E$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sg(t,e)}function Sg(t,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Sg(t,e)}function T$(t){var e=O7();return function(){var r=Ch(t),s;if(e){var o=Ch(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return I$(this,s)}}function I$(t,e){if(e&&(va(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eg(t)}function Eg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O7=function(){return!!t})()}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ch(t)}function ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(n),!0).forEach(function(r){Tg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tg(t,e,n){return e=D7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D7(t){var e=N$(t,"string");return va(e)=="symbol"?e:String(e)}function N$(t,e){if(va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xm=function(e){var n,r,s,o,i;e.rtl?i=e.slideCount-1-e.index:i=e.index,s=i<0||i>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(i-e.currentSlide)%e.slideCount===0,i>e.currentSlide-o-1&&i<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=i&&i<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=i===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":s,"slick-current":l}},j$=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},Cm=function(e,n){return e.key||n},A$=function(e){var n,r=[],s=[],o=[],i=ys.default.Children.count(e.children),a=(0,wm.lazyStartIndex)(e),l=(0,wm.lazyEndIndex)(e);return ys.default.Children.forEach(e.children,function(u,d){var h,f={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=u:h=ys.default.createElement("div",null);var m=j$(an(an({},e),{},{index:d})),_=h.props.className||"",w=xm(an(an({},e),{},{index:d}));if(r.push(ys.default.cloneElement(h,{key:"original"+Cm(h,d),"data-index":d,className:(0,vm.default)(w,_),tabIndex:"-1","aria-hidden":!w["slick-active"],style:an(an({outline:"none"},h.props.style||{}),m),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&e.fade===!1){var x=i-d;x<=(0,wm.getPreClones)(e)&&(n=-x,n>=a&&(h=u),w=xm(an(an({},e),{},{index:n})),s.push(ys.default.cloneElement(h,{key:"precloned"+Cm(h,n),"data-index":n,tabIndex:"-1",className:(0,vm.default)(w,_),"aria-hidden":!w["slick-active"],style:an(an({},h.props.style||{}),m),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(f)}}))),n=i+d,n<l&&(h=u),w=xm(an(an({},e),{},{index:n})),o.push(ys.default.cloneElement(h,{key:"postcloned"+Cm(h,n),"data-index":n,tabIndex:"-1",className:(0,vm.default)(w,_),"aria-hidden":!w["slick-active"],style:an(an({},h.props.style||{}),m),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(f)}}))}}),e.rtl?s.concat(r,o).reverse():s.concat(r,o)};rp.Track=function(t){E$(n,t);var e=T$(n);function n(){var r;b$(this,n);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o)),Tg(Eg(r),"node",null),Tg(Eg(r),"handleRef",function(a){r.node=a}),r}return S$(n,[{key:"render",value:function(){var s=A$(this.props),o=this.props,i=o.onMouseEnter,a=o.onMouseOver,l=o.onMouseLeave,u={onMouseEnter:i,onMouseOver:a,onMouseLeave:l};return ys.default.createElement("div",kg({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},u),s)}}]),n}(ys.default.PureComponent);var sp={};function wa(t){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(t)}Object.defineProperty(sp,"__esModule",{value:!0});sp.Dots=void 0;var zu=M7(p),P$=M7(np),ix=z;function M7(t){return t&&t.__esModule?t:{default:t}}function ax(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function R$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(n),!0).forEach(function(r){L$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L$(t,e,n){return e=$7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$7(r.key),r)}}function M$(t,e,n){return e&&D$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $7(t){var e=$$(t,"string");return wa(e)=="symbol"?e:String(e)}function $$(t,e){if(wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function F$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ig(t,e)}function Ig(t,e){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ig(t,e)}function B$(t){var e=F7();return function(){var r=bh(t),s;if(e){var o=bh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return U$(this,s)}}function U$(t,e){if(e&&(wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V$(t)}function V$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F7=function(){return!!t})()}function bh(t){return bh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bh(t)}var z$=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};sp.Dots=function(t){F$(n,t);var e=B$(n);function n(){return O$(this,n),e.apply(this,arguments)}return M$(n,[{key:"clickHandler",value:function(s,o){o.preventDefault(),this.props.clickHandler(s)}},{key:"render",value:function(){for(var s=this.props,o=s.onMouseEnter,i=s.onMouseOver,a=s.onMouseLeave,l=s.infinite,u=s.slidesToScroll,d=s.slidesToShow,h=s.slideCount,f=s.currentSlide,m=z$({slideCount:h,slidesToScroll:u,slidesToShow:d,infinite:l}),_={onMouseEnter:o,onMouseOver:i,onMouseLeave:a},w=[],x=0;x<m;x++){var v=(x+1)*u-1,y=l?v:(0,ix.clamp)(v,0,h-1),g=y-(u-1),C=l?g:(0,ix.clamp)(g,0,h-1),b=(0,P$.default)({"slick-active":l?f>=C&&f<=y:f===C}),k={message:"dots",index:x,slidesToScroll:u,currentSlide:f},T=this.clickHandler.bind(this,k);w=w.concat(zu.default.createElement("li",{key:x,className:b},zu.default.cloneElement(this.props.customPaging(x),{onClick:T})))}return zu.default.cloneElement(this.props.appendDots(w),R$({className:this.props.dotsClass},_))}}]),n}(zu.default.PureComponent);var xa={};function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}Object.defineProperty(xa,"__esModule",{value:!0});xa.PrevArrow=xa.NextArrow=void 0;var ta=U7(p),B7=U7(np),H$=z;function U7(t){return t&&t.__esModule?t:{default:t}}function kh(){return kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kh.apply(this,arguments)}function lx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lx(Object(n),!0).forEach(function(r){q$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function q$(t,e,n){return e=H7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H7(r.key),r)}}function z7(t,e,n){return e&&W$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H7(t){var e=G$(t,"string");return Ca(e)=="symbol"?e:String(e)}function G$(t,e){if(Ca(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ca(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function q7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ng(t,e)}function Ng(t,e){return Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ng(t,e)}function W7(t){var e=G7();return function(){var r=Eh(t),s;if(e){var o=Eh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return K$(this,s)}}function K$(t,e){if(e&&(Ca(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y$(t)}function Y$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G7=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eh(t)}xa.PrevArrow=function(t){q7(n,t);var e=W7(n);function n(){return V7(this,n),e.apply(this,arguments)}return z7(n,[{key:"clickHandler",value:function(s,o){o&&o.preventDefault(),this.props.clickHandler(s,o)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(s["slick-disabled"]=!0,o=null);var i={key:"0","data-role":"none",className:(0,B7.default)(s),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=ta.default.cloneElement(this.props.prevArrow,Sh(Sh({},i),a)):l=ta.default.createElement("button",kh({key:"0",type:"button"},i)," ","Previous"),l}}]),n}(ta.default.PureComponent);xa.NextArrow=function(t){q7(n,t);var e=W7(n);function n(){return V7(this,n),e.apply(this,arguments)}return z7(n,[{key:"clickHandler",value:function(s,o){o&&o.preventDefault(),this.props.clickHandler(s,o)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,H$.canGoNext)(this.props)||(s["slick-disabled"]=!0,o=null);var i={key:"1","data-role":"none",className:(0,B7.default)(s),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=ta.default.cloneElement(this.props.nextArrow,Sh(Sh({},i),a)):l=ta.default.createElement("button",kh({key:"1",type:"button"},i)," ","Next"),l}}]),n}(ta.default.PureComponent);var K7=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(s,o){return s[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},e.prototype.set=function(n,r){var s=t(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,s=t(r,n);~s&&r.splice(s,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,o=this.__entries__;s<o.length;s++){var i=o[s];n.call(r,i[1],i[0])}},e}()}(),jg=typeof window<"u"&&typeof document<"u"&&window.document===document,Th=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Q$=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Th):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Z$=2;function X$(t,e){var n=!1,r=!1,s=0;function o(){n&&(n=!1,t()),r&&a()}function i(){Q$(o)}function a(){var l=Date.now();if(n){if(l-s<Z$)return;r=!0}else n=!0,r=!1,setTimeout(i,e);s=l}return a}var J$=20,eF=["top","right","bottom","left","width","height","size","weight"],tF=typeof MutationObserver<"u",nF=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=X$(this.refresh.bind(this),J$)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!jg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),tF?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!jg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,s=eF.some(function(o){return!!~r.indexOf(o)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Y7=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},ba=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Th},Q7=op(0,0,0,0);function Ih(t){return parseFloat(t)||0}function cx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,s){var o=t["border-"+s+"-width"];return r+Ih(o)},0)}function rF(t){for(var e=["top","right","bottom","left"],n={},r=0,s=e;r<s.length;r++){var o=s[r],i=t["padding-"+o];n[o]=Ih(i)}return n}function sF(t){var e=t.getBBox();return op(0,0,e.width,e.height)}function oF(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Q7;var r=ba(t).getComputedStyle(t),s=rF(r),o=s.left+s.right,i=s.top+s.bottom,a=Ih(r.width),l=Ih(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=cx(r,"left","right")+o),Math.round(l+i)!==n&&(l-=cx(r,"top","bottom")+i)),!aF(t)){var u=Math.round(a+o)-e,d=Math.round(l+i)-n;Math.abs(u)!==1&&(a-=u),Math.abs(d)!==1&&(l-=d)}return op(s.left,s.top,a,l)}var iF=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ba(t).SVGGraphicsElement}:function(t){return t instanceof ba(t).SVGElement&&typeof t.getBBox=="function"}}();function aF(t){return t===ba(t).document.documentElement}function lF(t){return jg?iF(t)?sF(t):oF(t):Q7}function cF(t){var e=t.x,n=t.y,r=t.width,s=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,i=Object.create(o.prototype);return Y7(i,{x:e,y:n,width:r,height:s,top:n,right:e+r,bottom:s+n,left:e}),i}function op(t,e,n,r){return{x:t,y:e,width:n,height:r}}var uF=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=op(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=lF(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),dF=function(){function t(e,n){var r=cF(n);Y7(this,{target:e,contentRect:r})}return t}(),hF=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new K7,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ba(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new uF(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ba(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new dF(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Z7=typeof WeakMap<"u"?new WeakMap:new K7,X7=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=nF.getInstance(),r=new hF(e,n,this);Z7.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){X7.prototype[t]=function(){var e;return(e=Z7.get(this))[t].apply(e,arguments)}});var fF=function(){return typeof Th.ResizeObserver<"u"?Th.ResizeObserver:X7}();const pF=Object.freeze(Object.defineProperty({__proto__:null,default:fF},Symbol.toStringTag,{value:"Module"})),mF=o8(pF);Object.defineProperty(tp,"__esModule",{value:!0});tp.InnerSlider=void 0;var Xt=su(p),gF=su(b7),yF=su(a$),_F=su(np),ze=z,vF=rp,wF=sp,ux=xa,xF=su(mF);function su(t){return t&&t.__esModule?t:{default:t}}function Zo(t){"@babel/helpers - typeof";return Zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zo(t)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}function CF(t,e){if(t==null)return{};var n=bF(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function dx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dx(Object(n),!0).forEach(function(r){ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eS(r.key),r)}}function EF(t,e,n){return e&&SF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ag(t,e)}function Ag(t,e){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ag(t,e)}function IF(t){var e=J7();return function(){var r=jh(t),s;if(e){var o=jh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return NF(this,s)}}function NF(t,e){if(e&&(Zo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return me(t)}function me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J7=function(){return!!t})()}function jh(t){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jh(t)}function ge(t,e,n){return e=eS(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eS(t){var e=jF(t,"string");return Zo(e)=="symbol"?e:String(e)}function jF(t,e){if(Zo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}tp.InnerSlider=function(t){TF(n,t);var e=IF(n);function n(r){var s;kF(this,n),s=e.call(this,r),ge(me(s),"listRefHandler",function(i){return s.list=i}),ge(me(s),"trackRefHandler",function(i){return s.track=i}),ge(me(s),"adaptHeight",function(){if(s.props.adaptiveHeight&&s.list){var i=s.list.querySelector('[data-index="'.concat(s.state.currentSlide,'"]'));s.list.style.height=(0,ze.getHeight)(i)+"px"}}),ge(me(s),"componentDidMount",function(){if(s.props.onInit&&s.props.onInit(),s.props.lazyLoad){var i=(0,ze.getOnDemandLazySlides)(re(re({},s.props),s.state));i.length>0&&(s.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(i)}}),s.props.onLazyLoad&&s.props.onLazyLoad(i))}var a=re({listRef:s.list,trackRef:s.track},s.props);s.updateState(a,!0,function(){s.adaptHeight(),s.props.autoplay&&s.autoPlay("update")}),s.props.lazyLoad==="progressive"&&(s.lazyLoadTimer=setInterval(s.progressiveLazyLoad,1e3)),s.ro=new xF.default(function(){s.state.animating?(s.onWindowResized(!1),s.callbackTimers.push(setTimeout(function(){return s.onWindowResized()},s.props.speed))):s.onWindowResized()}),s.ro.observe(s.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=s.props.pauseOnFocus?s.onSlideFocus:null,l.onblur=s.props.pauseOnFocus?s.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",s.onWindowResized):window.attachEvent("onresize",s.onWindowResized)}),ge(me(s),"componentWillUnmount",function(){s.animationEndCallback&&clearTimeout(s.animationEndCallback),s.lazyLoadTimer&&clearInterval(s.lazyLoadTimer),s.callbackTimers.length&&(s.callbackTimers.forEach(function(i){return clearTimeout(i)}),s.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",s.onWindowResized):window.detachEvent("onresize",s.onWindowResized),s.autoplayTimer&&clearInterval(s.autoplayTimer),s.ro.disconnect()}),ge(me(s),"componentDidUpdate",function(i){if(s.checkImagesLoad(),s.props.onReInit&&s.props.onReInit(),s.props.lazyLoad){var a=(0,ze.getOnDemandLazySlides)(re(re({},s.props),s.state));a.length>0&&(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),s.props.onLazyLoad&&s.props.onLazyLoad(a))}s.adaptHeight();var l=re(re({listRef:s.list,trackRef:s.track},s.props),s.state),u=s.didPropsChange(i);u&&s.updateState(l,u,function(){s.state.currentSlide>=Xt.default.Children.count(s.props.children)&&s.changeSlide({message:"index",index:Xt.default.Children.count(s.props.children)-s.props.slidesToShow,currentSlide:s.state.currentSlide}),s.props.autoplay?s.autoPlay("update"):s.pause("paused")})}),ge(me(s),"onWindowResized",function(i){s.debouncedResize&&s.debouncedResize.cancel(),s.debouncedResize=(0,yF.default)(function(){return s.resizeWindow(i)},50),s.debouncedResize()}),ge(me(s),"resizeWindow",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(s.track&&s.track.node);if(a){var l=re(re({listRef:s.list,trackRef:s.track},s.props),s.state);s.updateState(l,i,function(){s.props.autoplay?s.autoPlay("update"):s.pause("paused")}),s.setState({animating:!1}),clearTimeout(s.animationEndCallback),delete s.animationEndCallback}}),ge(me(s),"updateState",function(i,a,l){var u=(0,ze.initializedState)(i);i=re(re(re({},i),u),{},{slideIndex:u.currentSlide});var d=(0,ze.getTrackLeft)(i);i=re(re({},i),{},{left:d});var h=(0,ze.getTrackCSS)(i);(a||Xt.default.Children.count(s.props.children)!==Xt.default.Children.count(i.children))&&(u.trackStyle=h),s.setState(u,l)}),ge(me(s),"ssrInit",function(){if(s.props.variableWidth){var i=0,a=0,l=[],u=(0,ze.getPreClones)(re(re(re({},s.props),s.state),{},{slideCount:s.props.children.length})),d=(0,ze.getPostClones)(re(re(re({},s.props),s.state),{},{slideCount:s.props.children.length}));s.props.children.forEach(function(T){l.push(T.props.style.width),i+=T.props.style.width});for(var h=0;h<u;h++)a+=l[l.length-1-h],i+=l[l.length-1-h];for(var f=0;f<d;f++)i+=l[f];for(var m=0;m<s.state.currentSlide;m++)a+=l[m];var _={width:i+"px",left:-a+"px"};if(s.props.centerMode){var w="".concat(l[s.state.currentSlide],"px");_.left="calc(".concat(_.left," + (100% - ").concat(w,") / 2 ) ")}return{trackStyle:_}}var x=Xt.default.Children.count(s.props.children),v=re(re(re({},s.props),s.state),{},{slideCount:x}),y=(0,ze.getPreClones)(v)+(0,ze.getPostClones)(v)+x,g=100/s.props.slidesToShow*y,C=100/y,b=-C*((0,ze.getPreClones)(v)+s.state.currentSlide)*g/100;s.props.centerMode&&(b+=(100-C*g/100)/2);var k={width:g+"%",left:b+"%"};return{slideWidth:C+"%",trackStyle:k}}),ge(me(s),"checkImagesLoad",function(){var i=s.list&&s.list.querySelectorAll&&s.list.querySelectorAll(".slick-slide img")||[],a=i.length,l=0;Array.prototype.forEach.call(i,function(u){var d=function(){return++l&&l>=a&&s.onWindowResized()};if(!u.onclick)u.onclick=function(){return u.parentNode.focus()};else{var h=u.onclick;u.onclick=function(f){h(f),u.parentNode.focus()}}u.onload||(s.props.lazyLoad?u.onload=function(){s.adaptHeight(),s.callbackTimers.push(setTimeout(s.onWindowResized,s.props.speed))}:(u.onload=d,u.onerror=function(){d(),s.props.onLazyLoadError&&s.props.onLazyLoadError()}))})}),ge(me(s),"progressiveLazyLoad",function(){for(var i=[],a=re(re({},s.props),s.state),l=s.state.currentSlide;l<s.state.slideCount+(0,ze.getPostClones)(a);l++)if(s.state.lazyLoadedList.indexOf(l)<0){i.push(l);break}for(var u=s.state.currentSlide-1;u>=-(0,ze.getPreClones)(a);u--)if(s.state.lazyLoadedList.indexOf(u)<0){i.push(u);break}i.length>0?(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(i)}}),s.props.onLazyLoad&&s.props.onLazyLoad(i)):s.lazyLoadTimer&&(clearInterval(s.lazyLoadTimer),delete s.lazyLoadTimer)}),ge(me(s),"slideHandler",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=s.props,u=l.asNavFor,d=l.beforeChange,h=l.onLazyLoad,f=l.speed,m=l.afterChange,_=s.state.currentSlide,w=(0,ze.slideHandler)(re(re(re({index:i},s.props),s.state),{},{trackRef:s.track,useCSS:s.props.useCSS&&!a})),x=w.state,v=w.nextState;if(x){d&&d(_,x.currentSlide);var y=x.lazyLoadedList.filter(function(g){return s.state.lazyLoadedList.indexOf(g)<0});h&&y.length>0&&h(y),!s.props.waitForAnimate&&s.animationEndCallback&&(clearTimeout(s.animationEndCallback),m&&m(_),delete s.animationEndCallback),s.setState(x,function(){u&&s.asNavForIndex!==i&&(s.asNavForIndex=i,u.innerSlider.slideHandler(i)),v&&(s.animationEndCallback=setTimeout(function(){var g=v.animating,C=CF(v,["animating"]);s.setState(C,function(){s.callbackTimers.push(setTimeout(function(){return s.setState({animating:g})},10)),m&&m(x.currentSlide),delete s.animationEndCallback})},f))})}}),ge(me(s),"changeSlide",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=re(re({},s.props),s.state),u=(0,ze.changeSlide)(l,i);if(!(u!==0&&!u)&&(a===!0?s.slideHandler(u,a):s.slideHandler(u),s.props.autoplay&&s.autoPlay("update"),s.props.focusOnSelect)){var d=s.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),ge(me(s),"clickHandler",function(i){s.clickable===!1&&(i.stopPropagation(),i.preventDefault()),s.clickable=!0}),ge(me(s),"keyHandler",function(i){var a=(0,ze.keyHandler)(i,s.props.accessibility,s.props.rtl);a!==""&&s.changeSlide({message:a})}),ge(me(s),"selectHandler",function(i){s.changeSlide(i)}),ge(me(s),"disableBodyScroll",function(){var i=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=i}),ge(me(s),"enableBodyScroll",function(){window.ontouchmove=null}),ge(me(s),"swipeStart",function(i){s.props.verticalSwiping&&s.disableBodyScroll();var a=(0,ze.swipeStart)(i,s.props.swipe,s.props.draggable);a!==""&&s.setState(a)}),ge(me(s),"swipeMove",function(i){var a=(0,ze.swipeMove)(i,re(re(re({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));a&&(a.swiping&&(s.clickable=!1),s.setState(a))}),ge(me(s),"swipeEnd",function(i){var a=(0,ze.swipeEnd)(i,re(re(re({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,s.setState(a),l!==void 0&&(s.slideHandler(l),s.props.verticalSwiping&&s.enableBodyScroll())}}),ge(me(s),"touchEnd",function(i){s.swipeEnd(i),s.clickable=!0}),ge(me(s),"slickPrev",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"previous"})},0))}),ge(me(s),"slickNext",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"next"})},0))}),ge(me(s),"slickGoTo",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i=Number(i),isNaN(i))return"";s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"index",index:i,currentSlide:s.state.currentSlide},a)},0))}),ge(me(s),"play",function(){var i;if(s.props.rtl)i=s.state.currentSlide-s.props.slidesToScroll;else if((0,ze.canGoNext)(re(re({},s.props),s.state)))i=s.state.currentSlide+s.props.slidesToScroll;else return!1;s.slideHandler(i)}),ge(me(s),"autoPlay",function(i){s.autoplayTimer&&clearInterval(s.autoplayTimer);var a=s.state.autoplaying;if(i==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(i==="leave"){if(a==="paused"||a==="focused")return}else if(i==="blur"&&(a==="paused"||a==="hovered"))return;s.autoplayTimer=setInterval(s.play,s.props.autoplaySpeed+50),s.setState({autoplaying:"playing"})}),ge(me(s),"pause",function(i){s.autoplayTimer&&(clearInterval(s.autoplayTimer),s.autoplayTimer=null);var a=s.state.autoplaying;i==="paused"?s.setState({autoplaying:"paused"}):i==="focused"?(a==="hovered"||a==="playing")&&s.setState({autoplaying:"focused"}):a==="playing"&&s.setState({autoplaying:"hovered"})}),ge(me(s),"onDotsOver",function(){return s.props.autoplay&&s.pause("hovered")}),ge(me(s),"onDotsLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),ge(me(s),"onTrackOver",function(){return s.props.autoplay&&s.pause("hovered")}),ge(me(s),"onTrackLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),ge(me(s),"onSlideFocus",function(){return s.props.autoplay&&s.pause("focused")}),ge(me(s),"onSlideBlur",function(){return s.props.autoplay&&s.state.autoplaying==="focused"&&s.autoPlay("blur")}),ge(me(s),"render",function(){var i=(0,_F.default)("slick-slider",s.props.className,{"slick-vertical":s.props.vertical,"slick-initialized":!0}),a=re(re({},s.props),s.state),l=(0,ze.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),u=s.props.pauseOnHover;l=re(re({},l),{},{onMouseEnter:u?s.onTrackOver:null,onMouseLeave:u?s.onTrackLeave:null,onMouseOver:u?s.onTrackOver:null,focusOnSelect:s.props.focusOnSelect&&s.clickable?s.selectHandler:null});var d;if(s.props.dots===!0&&s.state.slideCount>=s.props.slidesToShow){var h=(0,ze.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=s.props.pauseOnDotsHover;h=re(re({},h),{},{clickHandler:s.changeSlide,onMouseEnter:f?s.onDotsLeave:null,onMouseOver:f?s.onDotsOver:null,onMouseLeave:f?s.onDotsLeave:null}),d=Xt.default.createElement(wF.Dots,h)}var m,_,w=(0,ze.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);w.clickHandler=s.changeSlide,s.props.arrows&&(m=Xt.default.createElement(ux.PrevArrow,w),_=Xt.default.createElement(ux.NextArrow,w));var x=null;s.props.vertical&&(x={height:s.state.listHeight});var v=null;s.props.vertical===!1?s.props.centerMode===!0&&(v={padding:"0px "+s.props.centerPadding}):s.props.centerMode===!0&&(v={padding:s.props.centerPadding+" 0px"});var y=re(re({},x),v),g=s.props.touchMove,C={className:"slick-list",style:y,onClick:s.clickHandler,onMouseDown:g?s.swipeStart:null,onMouseMove:s.state.dragging&&g?s.swipeMove:null,onMouseUp:g?s.swipeEnd:null,onMouseLeave:s.state.dragging&&g?s.swipeEnd:null,onTouchStart:g?s.swipeStart:null,onTouchMove:s.state.dragging&&g?s.swipeMove:null,onTouchEnd:g?s.touchEnd:null,onTouchCancel:s.state.dragging&&g?s.swipeEnd:null,onKeyDown:s.props.accessibility?s.keyHandler:null},b={className:i,dir:"ltr",style:s.props.style};return s.props.unslick&&(C={className:"slick-list"},b={className:i}),Xt.default.createElement("div",b,s.props.unslick?"":m,Xt.default.createElement("div",Nh({ref:s.listRefHandler},C),Xt.default.createElement(vF.Track,Nh({ref:s.trackRefHandler},l),s.props.children)),s.props.unslick?"":_,s.props.unslick?"":d)}),s.list=null,s.track=null,s.state=re(re({},gF.default),{},{currentSlide:s.props.initialSlide,targetSlide:s.props.initialSlide?s.props.initialSlide:0,slideCount:Xt.default.Children.count(s.props.children)}),s.callbackTimers=[],s.clickable=!0,s.debouncedResize=null;var o=s.ssrInit();return s.state=re(re({},s.state),o),s}return EF(n,[{key:"didPropsChange",value:function(s){for(var o=!1,i=0,a=Object.keys(this.props);i<a.length;i++){var l=a[i];if(!s.hasOwnProperty(l)){o=!0;break}if(!(Zo(s[l])==="object"||typeof s[l]=="function"||isNaN(s[l]))&&s[l]!==this.props[l]){o=!0;break}}return o||Xt.default.Children.count(this.props.children)!==Xt.default.Children.count(s.children)}}]),n}(Xt.default.Component);var AF=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},PF=AF,RF=PF,LF=function(t){var e=/[height|width]$/;return e.test(t)},hx=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,s){var o=t[r];r=RF(r),LF(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",s<n.length-1&&(e+=" and ")}),e},OF=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=hx(n),r<t.length-1&&(e+=", ")}),e):hx(t)},DF=OF,bm,fx;function MF(){if(fx)return bm;fx=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},bm=t,bm}var km,px;function tS(){if(px)return km;px=1;function t(r,s){var o=0,i=r.length,a;for(o;o<i&&(a=s(r[o],o),a!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return km={isFunction:n,isArray:e,each:t},km}var Sm,mx;function $F(){if(mx)return Sm;mx=1;var t=MF(),e=tS().each;function n(r,s){this.query=r,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(i){o.mql=i.currentTarget||i,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var s=new t(r);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(r){var s=this.handlers;e(s,function(o,i){if(o.equals(r))return o.destroy(),!s.splice(i,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(s){s[r]()})}},Sm=n,Sm}var Em,gx;function FF(){if(gx)return Em;gx=1;var t=$F(),e=tS(),n=e.each,r=e.isFunction,s=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(i,a,l){var u=this.queries,d=l&&this.browserIsIncapable;return u[i]||(u[i]=new t(i,d)),r(a)&&(a={match:a}),s(a)||(a=[a]),n(a,function(h){r(h)&&(h={match:h}),u[i].addHandler(h)}),this},unregister:function(i,a){var l=this.queries[i];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[i])),this}},Em=o,Em}var Tm,yx;function BF(){if(yx)return Tm;yx=1;var t=FF();return Tm=new t,Tm}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(p),n=tp,r=i(DF),s=i(m_),o=z;function i(E){return E&&E.__esModule?E:{default:E}}function a(E){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},a(E)}function l(){return l=Object.assign?Object.assign.bind():function(E){for(var I=1;I<arguments.length;I++){var j=arguments[I];for(var N in j)Object.prototype.hasOwnProperty.call(j,N)&&(E[N]=j[N])}return E},l.apply(this,arguments)}function u(E,I){var j=Object.keys(E);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);I&&(N=N.filter(function(O){return Object.getOwnPropertyDescriptor(E,O).enumerable})),j.push.apply(j,N)}return j}function d(E){for(var I=1;I<arguments.length;I++){var j=arguments[I]!=null?arguments[I]:{};I%2?u(Object(j),!0).forEach(function(N){b(E,N,j[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(j)):u(Object(j)).forEach(function(N){Object.defineProperty(E,N,Object.getOwnPropertyDescriptor(j,N))})}return E}function h(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")}function f(E,I){for(var j=0;j<I.length;j++){var N=I[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,k(N.key),N)}}function m(E,I,j){return I&&f(E.prototype,I),Object.defineProperty(E,"prototype",{writable:!1}),E}function _(E,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),I&&w(E,I)}function w(E,I){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,O){return N.__proto__=O,N},w(E,I)}function x(E){var I=g();return function(){var N=C(E),O;if(I){var A=C(this).constructor;O=Reflect.construct(N,arguments,A)}else O=N.apply(this,arguments);return v(this,O)}}function v(E,I){if(I&&(a(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(E)}function y(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function g(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!E})()}function C(E){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},C(E)}function b(E,I,j){return I=k(I),I in E?Object.defineProperty(E,I,{value:j,enumerable:!0,configurable:!0,writable:!0}):E[I]=j,E}function k(E){var I=T(E,"string");return a(I)=="symbol"?I:String(I)}function T(E,I){if(a(E)!="object"||!E)return E;var j=E[Symbol.toPrimitive];if(j!==void 0){var N=j.call(E,I);if(a(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(E)}var S=(0,o.canUseDOM)()&&BF();t.default=function(E){_(j,E);var I=x(j);function j(N){var O;return h(this,j),O=I.call(this,N),b(y(O),"innerSliderRefHandler",function(A){return O.innerSlider=A}),b(y(O),"slickPrev",function(){return O.innerSlider.slickPrev()}),b(y(O),"slickNext",function(){return O.innerSlider.slickNext()}),b(y(O),"slickGoTo",function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return O.innerSlider.slickGoTo(A,L)}),b(y(O),"slickPause",function(){return O.innerSlider.pause("paused")}),b(y(O),"slickPlay",function(){return O.innerSlider.autoPlay("play")}),O.state={breakpoint:null},O._responsiveMediaHandlers=[],O}return m(j,[{key:"media",value:function(O,A){S.register(O,A),this._responsiveMediaHandlers.push({query:O,handler:A})}},{key:"componentDidMount",value:function(){var O=this;if(this.props.responsive){var A=this.props.responsive.map(function(D){return D.breakpoint});A.sort(function(D,R){return D-R}),A.forEach(function(D,R){var P;R===0?P=(0,r.default)({minWidth:0,maxWidth:D}):P=(0,r.default)({minWidth:A[R-1]+1,maxWidth:D}),(0,o.canUseDOM)()&&O.media(P,function(){O.setState({breakpoint:D})})});var L=(0,r.default)({minWidth:A.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(L,function(){O.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(O){S.unregister(O.query,O.handler)})}},{key:"render",value:function(){var O=this,A,L;this.state.breakpoint?(L=this.props.responsive.filter(function(Ae){return Ae.breakpoint===O.state.breakpoint}),A=L[0].settings==="unslick"?"unslick":d(d(d({},s.default),this.props),L[0].settings)):A=d(d({},s.default),this.props),A.centerMode&&(A.slidesToScroll>1,A.slidesToScroll=1),A.fade&&(A.slidesToShow>1,A.slidesToScroll>1,A.slidesToShow=1,A.slidesToScroll=1);var D=e.default.Children.toArray(this.props.children);D=D.filter(function(Ae){return typeof Ae=="string"?!!Ae.trim():!!Ae}),A.variableWidth&&(A.rows>1||A.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),A.variableWidth=!1);for(var R=[],P=null,M=0;M<D.length;M+=A.rows*A.slidesPerRow){for(var B=[],W=M;W<M+A.rows*A.slidesPerRow;W+=A.slidesPerRow){for(var te=[],ne=W;ne<W+A.slidesPerRow&&(A.variableWidth&&D[ne].props.style&&(P=D[ne].props.style.width),!(ne>=D.length));ne+=1)te.push(e.default.cloneElement(D[ne],{key:100*M+10*W+ne,tabIndex:-1,style:{width:"".concat(100/A.slidesPerRow,"%"),display:"inline-block"}}));B.push(e.default.createElement("div",{key:10*M+W},te))}A.variableWidth?R.push(e.default.createElement("div",{key:M,style:{width:P}},B)):R.push(e.default.createElement("div",{key:M},B))}if(A==="unslick"){var de="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:de},D)}else R.length<=A.slidesToShow&&!A.infinite&&(A.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(A)),R)}}]),j}(e.default.Component)})(C7);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(C7);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(x7);const UF=Hh(x7);function VF(t){const{className:e,style:n,onClick:r}=t;return c.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function zF(t){const{className:e,style:n,onClick:r}=t;return c.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function HF(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState(0);p.useEffect(()=>{const i=document.querySelector(".slick-active"),a=parseInt(i.getAttribute("data-index")),l=["#C3F82B","#FF4365","#0040F9"],u={0:{iconColor:"#0A0B10",titleColor:"#0A0B10",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},1:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},2:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0}};document.body.style.background=l[a],document.body.style.transition="0.5s",n(u[a])},[r]);const o={customPaging:function(i){return c.jsx("a",{children:c.jsx("div",{className:"dots"})})},dots:!0,dotsClass:"slick-dots slick-thumb",infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:c.jsx(VF,{}),prevArrow:c.jsx(zF,{}),afterChange:i=>{s(i)}};return c.jsx("div",{className:"slider_container",children:c.jsxs(UF,{...o,children:[c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"1.png"})}),c.jsx("h2",{className:"title black",children:"Играй. Общайся. Развивайся."}),c.jsx("h3",{className:"text black",children:"Выигрывай в гонке или проигрывай все в казино."})]})}),c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"2.png"})}),c.jsx("h2",{className:"title white",children:"Учить - не значит запомнить"}),c.jsx("h3",{className:"text white",children:"Эту и многие другие цитаты ты узнаешь"})]})}),c.jsx("div",{children:c.jsxs("div",{className:"info_container",children:[c.jsx("div",{className:"image_container",children:c.jsx("img",{src:"3.png"})}),c.jsx("h2",{className:"title white",children:"Я забыл права дома. Честно"}),c.jsx("h3",{className:"text white",children:"Вот ты и попался, а использовал бы наши причины, мог быть на свободе"})]})})]})})}const qF="_button_rb0y4_1",WF="_arrow_rb0y4_18",_x={button:qF,arrow:WF};function GF({linkTo:t,name:e}){const n=fe(),r=()=>{n(t)};return c.jsxs("button",{className:_x.button,onClick:r,children:[e,c.jsx("div",{className:_x.arrow,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:"white"})})})]})}const KF="_container_8awvt_1",YF="_button_container_8awvt_13",vx={container:KF,button_container:YF};function QF({setHeaderColor:t}){const{authUser:e,ga:n}=pe();fe();const[r,s]=p.useState(0);return c.jsxs("div",{className:vx.container,children:[c.jsx(HF,{}),c.jsx("div",{className:vx.button_container,children:c.jsx(GF,{name:"Начать",linkTo:"/sign-in"})})]})}const ZF="_block_is8th_1",XF="_info_is8th_17",JF="_title_is8th_24",eB="_text_is8th_30",mi={block:ZF,info:XF,title:JF,text:eB,"arrow-container":"_arrow-container_is8th_36","circle-arrow":"_circle-arrow_is8th_43"};function Zn({backgroundColor:t,isBorder:e,borderColor:n,textColor:r,name:s,description:o,linkTo:i,arrowBackgroundColor:a,arrowColor:l}){const u=fe(),d=()=>{u(i)};return c.jsxs("div",{className:mi.block,style:{background:t,transition:"0.5s ease",border:e?`2px solid ${n}`:"none"},onClick:d,children:[c.jsxs("div",{className:mi.info,children:[c.jsx("div",{className:mi.title,style:{color:r},children:s}),c.jsxs("div",{className:mi.text,style:{color:r},children:[" ",o," "]})]}),c.jsx("div",{className:mi["arrow-container"],children:c.jsx("div",{className:mi["circle-arrow"],style:{background:a},children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:l})})})})]})}const tB="_container_1rsta_1",nB={container:tB},sl={"block-body":"_block-body_1az4j_1","block-name":"_block-name_1az4j_10","block-text":"_block-text_1az4j_15","block-arrow":"_block-arrow_1az4j_21","circle-arrow":"_circle-arrow_1az4j_29"};function rB({name:t,text:e,circleColor:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F);return c.jsxs("div",{className:sl["block-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:sl["block-name"],style:{color:r.text_first_color},children:t}),c.jsx("div",{className:sl["block-text"],style:{color:r.text_first_color},children:e}),c.jsx("div",{className:sl["block-arrow"],children:c.jsx("div",{className:sl["circle-arrow"],style:{background:n},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.text_first_color})})})})]})}const wx=["Пока не доказано - не ебет, что сказанно. - Т. Радмир","И рыбку съесть и нахуй сесть. - М. Даниэль","Скажем дружно: 'Нахуй нужно'. - М. Даниэль","Громко и уверенно: 'Пошла нахуй'. - Т. Радмир","Соси хуй и не психуй.","Скажи арбуз. (P.S. Не делай этого). - М. Амир","Кто свистит - тот трансвистит. Т. Радмир","Сразу нахуй. Чисто нахуй. Быстро нахуй. Р-Радик. О. Бекмырза","Только и делает, что стоит.","Тест-минутка.","Репортаж из зоопарка.","Кастет Жопарожевна.","Тимур Харкович.","Айсанина мандавошка.kg","Дикция - жок, интонация - жок, мамка - жок. - М. Даниэль","Отсосал! - О. Бекмырза","На сухую конспект не идет.","Между первой и второй, перерывчик небольшой.",'"Где этот Ли?". - "Он в другой группе". - "Два!".',"В Америке такой тест за минуту пишут, а вы за полсекунды должны.","Теркулов, че поругаться охота?","Чего пришел? Иди хохлов стреляй и адабият не забудь выучить.","Максим не боится никаких вызовов. Он говорит 'На мужика' перед тем, как пойти на рандеву с тремя мужиками одновременно. Он знает, что многозадачность - его второе имя!","Третья кабинка - имба!","Лучше иметь друга, чем друг друга.","Лучше посрать и опоздать, чем прийти и обосраться - А. Байсал","Если пьянка неизбежна - пей первым.","Работа не волк, работа - work, а walk - это ходить.","Запомни: одна ошибка и ты ошибся.","Все полезно, что в рот полезло.","Жы шы пишы от душы. - К. Глеб","Запомни: синус на синус - ебало минус! - Т. Радмир","Сдесь сидит Арс! - К. Глеб","Стрелку метнул, хуй заглотнул! - К. Глеб","Никогда не откладывай на завтра то, что можно сделать послезавтра.","Делай как надо, как не надо не делай!","Лучше 5 сантиметров спереди, чем 25 сзади!","Кто не пьет - тот наливает!","Нет - пидора ответ!","Не тот счастлив у кого много денег, а тот у кого жена верна!","Если заблудился в лесу, иди домой! - С. Канторо","Учеба не сцепление, можно и бросить!","Лучше быть в конце, чем на конце!","Запомни, а то забудешь!","Не важно кто ты нахуй, важно что ты нахуй!","Если ты не выиграл - значит проиграл!","У каждого волка есть шкура, но не у каждой шкуры есть волк!","Если дают - бери. Не дают - отбери! - Б. Сергей","Не мы такие, жизнь такая ...","Это на зубы! - О. Бекмырза","Какой хороший день, чтоб пойти на СВО!","Все что хорошое закончится плохим, все что плохое закончится хорошим - Ж. Бектур","Лучше понять и не сделать, чем списать и не понять!","Не бойся, тебе задачка посложнее! - Б. Сергей","Учить, не значить запомнить! - К. Глеб","Во рту может быть только хуй!","Букварь создал вселенную! - Е. Максим","Запомни: если все съебывают, надо остаться! Но если никто не съебался, надо уйти! - Р. Адиль","Запомни: когда голова работает, диплом нахуй не нужен! - М. Арсений","Имей ввиду, что очко - понятие растяжимое.","Слово не воробей, вылетит не поймаешь","Без труда не вытащить и рыбку из пруда","Лучшая зарядка - балтика девятка","Розы любят воду, а пацаны свободу","Чем меньше знаешь, тем ты тупее","Базар - он как вода, чем лучше фильтруешь, тем здоровее почки","Пацаны, запомните одну простую вещь - одна полоска означает подлежащее, а две полоски означают, что пора идти за хлебом","Без внятного ТЗ, результат ХЗ","Надо сдания сделать - К. Глеб","Если жизнь дает мне лимоны, я съебываю! - К. Глеб","Нормальные пацаны налево не ходят! - А. Байсал","Мне два раза повторять не надо, мне и с первого похуй - К. Глеб","Аналитики сказали ставить все на 7 черное! - Е. Максим","Почему один? Жизнь такая ...","Не важно в какой ты жопе, главное, чтобы никто не был в твоей","Сегодня делаем бизнес","Сто грамм по вечерам это норма! - Б. Сергей","Настанет час ///мечты","Может и не получится , но попробовать стоит всегда","Спасибо матери с отцом, что я родился ПАЦАНОМ!","Мудрецу даны знания, мужику умения, пацану — понятия","Пусть цитаты не делают нас умней, но некоторые из них заставляют задуматься о чем-то","Запомни: нет выхода только из гроба - Ж. Бектур"],sB="_body_12s3g_2",Hu={body:sB,"stroke-fill":"_stroke-fill_12s3g_11","stories-body":"_stories-body_12s3g_25"},oB=[{name:"download",img:"stories-cover.png",link:"/banner"}];function iB(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),r=fe();return c.jsx("div",{className:Hu.body,children:oB.map(s=>c.jsx("div",{className:Hu["stroke-fill"],style:{background:`linear-gradient(135deg,${t.gradient_first_color} 0%,${t.gradient_second_color} 100%)`},children:c.jsx("div",{className:Hu["stories-body"],style:{background:t.background_color},onClick:()=>r(s.link),children:c.jsx("img",{src:s.img,className:Hu["stories-img"]})})}))})}function aB(){const[t,e]=p.useState(""),{authUser:n}=pe();fe();const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F),a=()=>{const u=Math.floor(Math.random()*wx.length);return wx[u]},l=async()=>{const u=await a();e(u),localStorage.setItem("dailyQuote",u),localStorage.setItem("quoteDate",new Date().toISOString())};return p.useEffect(()=>{const u=localStorage.getItem("dailyQuote"),d=localStorage.getItem("quoteDate"),h=new Date().toISOString().split("T")[0];u&&d&&d.split("T")[0]===h?e(u):l();const f=setInterval(l,24*60*60*1e3);return()=>clearInterval(f)},[]),p.useEffect(()=>{i({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:0,background:r.background_color}),document.body.style.background=r.background_color},[F]),c.jsxs("div",{className:nB.container,children:[c.jsx(iB,{}),c.jsx(rB,{name:"Ежедневная цитата",text:t,circleColor:r.block_arrow_first_color}),c.jsx(Zn,{name:"Обновления",description:"Будь в курсе событий",backgroundColor:r.block_first_color,isBorder:!0,borderColor:r.block_border_color,textColor:r.text_first_color,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_first_color,linkTo:"/updates"}),c.jsx(Zn,{name:"Меню игр",description:"Сделаешь ставку?",backgroundColor:r.block_second_color,isBorder:!1,borderColor:r.block_border_color,textColor:r.text_second_color,arrowColor:r.text_second_color,arrowBackgroundColor:r.block_arrow_second_color,linkTo:"/game-menu"}),c.jsx(Zn,{name:"Расписание",description:"Какой сейчас урок?",backgroundColor:r.block_third_color,isBorder:!1,borderColor:r.block_border_color,textColor:r.text_first_color,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_third_color,linkTo:`/timetable/${n.mainGroup}`}),c.jsx(Zn,{name:"Магазин",description:"Прояви себя",backgroundColor:r.block_first_color,isBorder:!0,borderColor:r.block_border_color,textColor:r.text_first_color,isCircleArrow:!1,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_first_color,linkTo:"/shop"})]})}const lB="_container_6lq07_2",cB="_categories_6lq07_149",uB="_active_6lq07_169",dB="_greeting_6lq07_212",hB="_image_0_6lq07_337",fB="_image_1_6lq07_353",pB="_image_2_6lq07_369",mB="_image_3_6lq07_385",gB="_image_4_6lq07_401",yB="_moveGradient_6lq07_1",_B="_moveGradientHigh_6lq07_1",He={container:lB,"background-cover":"_background-cover_6lq07_12","input-container":"_input-container_6lq07_25","message-action":"_message-action_6lq07_37","add-file":"_add-file_6lq07_45","input-body":"_input-body_6lq07_64","smile-button":"_smile-button_6lq07_76","input-message":"_input-message_6lq07_97","send-button":"_send-button_6lq07_116","emoji-panel":"_emoji-panel_6lq07_135",categories:cB,"emoji-category":"_emoji-category_6lq07_157",active:uB,"emojies-container":"_emojies-container_6lq07_173","category-name":"_category-name_6lq07_180","emojies-body":"_emojies-body_6lq07_188","emojies-content":"_emojies-content_6lq07_196","messages-container":"_messages-container_6lq07_204",greeting:dB,"greeting-title":"_greeting-title_6lq07_220","greeting-text":"_greeting-text_6lq07_230","data-container":"_data-container_6lq07_240","message-body":"_message-body_6lq07_252","images-body":"_images-body_6lq07_262","images-wrapper_1":"_images-wrapper_1_6lq07_267","images-wrapper_2":"_images-wrapper_2_6lq07_281","images-wrapper_3":"_images-wrapper_3_6lq07_295","images-wrapper_4":"_images-wrapper_4_6lq07_309","images-wrapper_5":"_images-wrapper_5_6lq07_323",image_0:hB,image_1:fB,image_2:pB,image_3:mB,image_4:gB,"user-container":"_user-container_6lq07_431","user-photo":"_user-photo_6lq07_439","user-name":"_user-name_6lq07_452","message-text":"_message-text_6lq07_457","skeleton-high":"_skeleton-high_6lq07_473",moveGradient:yB,"skeleton-meduim":"_skeleton-meduim_6lq07_494","skeleton-small":"_skeleton-small_6lq07_515",moveGradientHigh:_B},xx={default:{name:"default",img:"themes/default/preview.png"},genery:{name:"genery",img:"themes/genery/preview.png"},kyrgyzstan:{name:"kyrgyzstan",img:"themes/kyrgyzstan/preview.png"},winter_2024:{name:"winter_2024",img:"themes/winter_2024/preview.png"}},ip=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ap=p.createContext({}),lp=p.createContext(null),y_=typeof document<"u",__=y_?p.useLayoutEffect:p.useEffect,nS=p.createContext({strict:!1}),v_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vB="framerAppearId",rS="data-"+v_(vB),wB={useManualTiming:!1};class Cx{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function xB(t){let e=new Cx,n=new Cx,r=0,s=!1,o=!1;const i=new WeakSet,a={schedule:(l,u=!1,d=!1)=>{const h=d&&s,f=h?e:n;return u&&i.add(l),f.add(l)&&h&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const d=e.order[u];i.has(d)&&(a.schedule(d),t()),d(l)}s=!1,o&&(o=!1,a.process(l))}};return a}const qu=["read","resolveKeyframes","update","preRender","render","postRender"],CB=40;function sS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=qu.reduce((h,f)=>(h[f]=xB(()=>n=!0),h),{}),i=h=>{o[h].process(s)},a=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,CB),1),s.timestamp=h,s.isProcessing=!0,qu.forEach(i),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:qu.reduce((h,f)=>{const m=o[f];return h[f]=(_,w=!1,x=!1)=>(n||l(),m.schedule(_,w,x)),h},{}),cancel:h=>qu.forEach(f=>o[f].cancel(h)),state:s,steps:o}}const{schedule:w_}=sS(queueMicrotask,!1);function Mi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const oS=p.createContext({});let bx=!1;function bB(t,e,n,r,s){const{visualElement:o}=p.useContext(ap),i=p.useContext(nS),a=p.useContext(lp),l=p.useContext(ip).reducedMotion,u=p.useRef();r=r||i.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,h=p.useContext(oS);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&SB(u.current,n,s,h),p.useInsertionEffect(()=>{d&&d.update(n,a)});const f=p.useRef(!!(n[rS]&&!window.HandoffComplete));return __(()=>{d&&(d.updateFeatures(),w_.render(d.render),f.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,bx||(bx=!0,queueMicrotask(kB))))}),d}function kB(){window.HandoffComplete=!0}function SB(t,e,n,r){const{layoutId:s,layout:o,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:iS(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!i||a&&Mi(a),visualElement:t,scheduleRender:()=>t.scheduleRender(),animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function iS(t){if(t)return t.options.allowProjection!==!1?t.projection:iS(t.parent)}function EB(t,e,n){return p.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Mi(n)&&(n.current=r))},[e])}function Ic(t){return typeof t=="string"||Array.isArray(t)}function cp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const x_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],C_=["initial",...x_];function up(t){return cp(t.animate)||C_.some(e=>Ic(t[e]))}function aS(t){return!!(up(t)||t.variants)}function TB(t,e){if(up(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ic(n)?n:void 0,animate:Ic(r)?r:void 0}}return t.inherit!==!1?e:{}}function IB(t){const{initial:e,animate:n}=TB(t,p.useContext(ap));return p.useMemo(()=>({initial:e,animate:n}),[kx(e),kx(n)])}function kx(t){return Array.isArray(t)?t.join(" "):t}const Sx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ka={};for(const t in Sx)ka[t]={isEnabled:e=>Sx[t].some(n=>!!e[n])};function NB(t){for(const e in t)ka[e]={...ka[e],...t[e]}}const Nc=p.createContext({}),jB=Symbol.for("motionComponentSymbol"),Gt=t=>t;let lS=Gt;function AB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&NB(t);function o(a,l){let u;const d={...p.useContext(ip),...a,layoutId:PB(a)},{isStatic:h}=d,f=IB(a),m=r(a,h);if(!h&&y_){RB();const _=LB(d);u=_.MeasureLayout,f.visualElement=bB(s,m,d,e,_.ProjectionNode)}return c.jsxs(ap.Provider,{value:f,children:[u&&f.visualElement?c.jsx(u,{visualElement:f.visualElement,...d}):null,n(s,a,EB(m,f.visualElement,l),m,h,f.visualElement)]})}const i=p.forwardRef(o);return i[jB]=s,i}function PB({layoutId:t}){const e=p.useContext(Nc).id;return e&&t!==void 0?e+"-"+t:t}function RB(t,e){p.useContext(nS).strict}function LB(t){const{drag:e,layout:n}=ka;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function OB(t){function e(r,s={}){return AB(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const DB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b_(t){return typeof t!="string"||t.includes("-")?!1:!!(DB.indexOf(t)>-1||/[A-Z]/u.test(t))}const Ah={};function MB(t){Object.assign(Ah,t)}const ou=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ui=new Set(ou);function cS(t,{layout:e,layoutId:n}){return ui.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ah[t]||t==="opacity")}const Vt=t=>!!(t&&t.getVelocity),$B={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FB=ou.length;function BB(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<FB;i++){const a=ou[i];if(t[a]!==void 0){const l=$B[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const uS=t=>e=>typeof e=="string"&&e.startsWith(t),dS=uS("--"),UB=uS("var(--"),k_=t=>UB(t)?VB.test(t.split("/*")[0].trim()):!1,VB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zB=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qs=(t,e,n)=>n>e?e:n<t?t:n,qa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fl={...qa,transform:t=>Qs(0,1,t)},Wu={...qa,default:1},Bl=t=>Math.round(t*1e5)/1e5,S_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,HB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,qB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function iu(t){return typeof t=="string"}const au=t=>({test:e=>iu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ps=au("deg"),br=au("%"),se=au("px"),WB=au("vh"),GB=au("vw"),Ex={...br,parse:t=>br.parse(t)/100,transform:t=>br.transform(t*100)},Tx={...qa,transform:Math.round},hS={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,size:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,rotate:ps,rotateX:ps,rotateY:ps,rotateZ:ps,scale:Wu,scaleX:Wu,scaleY:Wu,scaleZ:Wu,skew:ps,skewX:ps,skewY:ps,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:Fl,originX:Ex,originY:Ex,originZ:se,zIndex:Tx,backgroundPositionX:se,backgroundPositionY:se,fillOpacity:Fl,strokeOpacity:Fl,numOctaves:Tx};function E_(t,e,n,r){const{style:s,vars:o,transform:i,transformOrigin:a}=t;let l=!1,u=!1,d=!0;for(const h in e){const f=e[h];if(dS(h)){o[h]=f;continue}const m=hS[h],_=zB(f,m);if(ui.has(h)){if(l=!0,i[h]=_,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,a[h]=_):s[h]=_}if(e.transform||(l||r?s.transform=BB(t.transform,n,d,r):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;s.transformOrigin=`${h} ${f} ${m}`}}const T_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fS(t,e,n){for(const r in e)!Vt(e[r])&&!cS(r,n)&&(t[r]=e[r])}function KB({transformTemplate:t},e,n){return p.useMemo(()=>{const r=T_();return E_(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function YB(t,e,n){const r=t.style||{},s={};return fS(s,r,t),Object.assign(s,KB(t,e,n)),s}function QB(t,e,n){const r={},s=YB(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const ZB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ph(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZB.has(t)}let pS=t=>!Ph(t);function XB(t){t&&(pS=e=>e.startsWith("on")?!Ph(e):t(e))}try{XB(require("@emotion/is-prop-valid").default)}catch{}function JB(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(pS(s)||n===!0&&Ph(s)||!e&&!Ph(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Ix(t,e,n){return typeof t=="string"?t:se.transform(e+n*t)}function eU(t,e,n){const r=Ix(e,t.x,t.width),s=Ix(n,t.y,t.height);return`${r} ${s}`}const tU={offset:"stroke-dashoffset",array:"stroke-dasharray"},nU={offset:"strokeDashoffset",array:"strokeDasharray"};function rU(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?tU:nU;t[o.offset]=se.transform(-r);const i=se.transform(e),a=se.transform(n);t[o.array]=`${i} ${a}`}function I_(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...u},d,h,f){if(E_(t,u,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:_,dimensions:w}=t;m.transform&&(w&&(_.transform=m.transform),delete m.transform),w&&(s!==void 0||o!==void 0||_.transform)&&(_.transformOrigin=eU(w,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&rU(m,i,a,l,!1)}const mS=()=>({...T_(),attrs:{}}),N_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sU(t,e,n,r){const s=p.useMemo(()=>{const o=mS();return I_(o,e,{enableHardwareAcceleration:!1},N_(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};fS(o,t.style,t),s.style={...o,...s.style}}return s}function oU(t=!1){return(n,r,s,{latestValues:o},i)=>{const l=(b_(n)?sU:QB)(r,o,i,n),u=JB(r,typeof n=="string",t),d=n!==p.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=p.useMemo(()=>Vt(h)?h.get():h,[h]);return p.createElement(n,{...d,children:f})}}function gS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const yS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _S(t,e,n,r){gS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(yS.has(s)?s:v_(s),e.attrs[s])}function j_(t,e,n){var r;const{style:s}=t,o={};for(const i in s)(Vt(s[i])||e.style&&Vt(e.style[i])||cS(i,t)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=s[i]);return o}function vS(t,e,n){const r=j_(t,e,n);for(const s in t)if(Vt(t[s])||Vt(e[s])){const o=ou.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function Nx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function A_(t,e,n,r){if(typeof e=="function"){const[s,o]=Nx(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=Nx(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function P_(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Pg=t=>Array.isArray(t),iU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),aU=t=>Pg(t)?t[t.length-1]||0:t;function xd(t){const e=Vt(t)?t.get():t;return iU(e)?e.toValue():e}function lU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const i={latestValues:cU(r,s,o,t),renderState:e()};return n&&(i.mount=a=>n(r,a,i)),i}const wS=t=>(e,n)=>{const r=p.useContext(ap),s=p.useContext(lp),o=()=>lU(t,e,r,s);return n?o():P_(o)};function cU(t,e,n,r){const s={},o=r(t,{});for(const f in o)s[f]=xd(o[f]);let{initial:i,animate:a}=t;const l=up(t),u=aS(t);e&&u&&!l&&t.inherit!==!1&&(i===void 0&&(i=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const h=d?a:i;return h&&typeof h!="boolean"&&!cp(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const _=A_(t,m);if(!_)return;const{transitionEnd:w,transition:x,...v}=_;for(const y in v){let g=v[y];if(Array.isArray(g)){const C=d?g.length-1:0;g=g[C]}g!==null&&(s[y]=g)}for(const y in w)s[y]=w[y]}),s}const{schedule:ke,cancel:ss,state:kt,steps:Im}=sS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0),uU={useVisualState:wS({scrapeMotionValuesFromProps:vS,createRenderState:mS,onMount:(t,e,{renderState:n,latestValues:r})=>{ke.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ke.render(()=>{I_(n,r,{enableHardwareAcceleration:!1},N_(e.tagName),t.transformTemplate),_S(e,n)})}})},dU={useVisualState:wS({scrapeMotionValuesFromProps:j_,createRenderState:T_})};function hU(t,{forwardMotionProps:e=!1},n,r){return{...b_(t)?uU:dU,preloadedFeatures:n,useRender:oU(e),createVisualElement:r,Component:t}}function Fr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const xS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function dp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const fU=t=>e=>xS(e)&&t(e,dp(e));function zr(t,e,n,r){return Fr(t,e,fU(n),r)}const pU=(t,e)=>n=>e(t(n)),Hr=(...t)=>t.reduce(pU);function CS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const jx=CS("dragHorizontal"),Ax=CS("dragVertical");function bS(t){let e=!1;if(t==="y")e=Ax();else if(t==="x")e=jx();else{const n=jx(),r=Ax();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function kS(){const t=bS(!0);return t?(t(),!1):!0}class oo{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Px(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(o,i)=>{if(o.pointerType==="touch"||kS())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&ke.postRender(()=>l(o,i))};return zr(t.current,n,s,{passive:!t.getProps()[r]})}class mU extends oo{mount(){this.unmount=Hr(Px(this.node,!0),Px(this.node,!1))}unmount(){}}class gU extends oo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hr(Fr(this.node.current,"focus",()=>this.onFocus()),Fr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const SS=(t,e)=>e?t===e?!0:SS(t,e.parentElement):!1;function Nm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,dp(n))}class yU extends oo{constructor(){super(...arguments),this.removeStartListeners=Gt,this.removeEndListeners=Gt,this.removeAccessibleListeners=Gt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=zr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!SS(this.node.current,a.target)?d:u;f&&ke.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=zr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Hr(o,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Nm("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&ke.postRender(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Fr(this.node.current,"keyup",i),Nm("down",(a,l)=>{this.startPress(a,l)})},n=Fr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Nm("cancel",(o,i)=>this.cancelPress(o,i))},s=Fr(this.node.current,"blur",r);this.removeAccessibleListeners=Hr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ke.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!kS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ke.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=zr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Fr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Hr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Rg=new WeakMap,jm=new WeakMap,_U=t=>{const e=Rg.get(t.target);e&&e(t)},vU=t=>{t.forEach(_U)};function wU({root:t,...e}){const n=t||document;jm.has(n)||jm.set(n,{});const r=jm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(vU,{root:t,...e})),r[s]}function xU(t,e,n){const r=wU(e);return Rg.set(t,n),r.observe(t),()=>{Rg.delete(t),r.unobserve(t)}}const CU={some:0,all:1};class bU extends oo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:CU[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return xU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(kU(e,n))&&this.startObserver()}unmount(){}}function kU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const SU={inView:{Feature:bU},tap:{Feature:yU},focus:{Feature:gU},hover:{Feature:mU}};function ES(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function hp(t,e,n){const r=t.getProps();return A_(r,e,n!==void 0?n:r.custom,t)}const Vs=t=>t*1e3,qr=t=>t/1e3,EU={type:"spring",stiffness:500,damping:25,restSpeed:10},TU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),IU={type:"keyframes",duration:.8},NU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jU=(t,{keyframes:e})=>e.length>2?IU:ui.has(t)?t.startsWith("scale")?TU(e[1]):EU:NU;function AU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function R_(t,e){return t[e]||t.default||t}const PU=t=>t!==null;function fp(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(PU),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}let Cd;function RU(){Cd=void 0}const zs={now:()=>(Cd===void 0&&zs.set(kt.isProcessing||wB.useManualTiming?kt.timestamp:performance.now()),Cd),set:t=>{Cd=t,queueMicrotask(RU)}},TS=t=>/^0[^.\s]+$/u.test(t);function LU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TS(t):!0}const IS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),OU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function DU(t){const e=OU.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function NS(t,e,n=1){const[r,s]=DU(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return IS(i)?parseFloat(i):i}return k_(s)?NS(s,e,n+1):s}const MU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Rx=t=>t===qa||t===se,Lx=(t,e)=>parseFloat(t.split(", ")[e]),Ox=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Lx(s[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?Lx(o[1],t):0}},$U=new Set(["x","y","z"]),FU=ou.filter(t=>!$U.has(t));function BU(t){const e=[];return FU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Sa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Ox(4,13),y:Ox(5,14)};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const jS=t=>e=>e.test(t),UU={test:t=>t==="auto",parse:t=>t},AS=[qa,se,br,ps,GB,WB,UU],Dx=t=>AS.find(jS(t)),Do=new Set;let Lg=!1,Og=!1;function PS(){if(Og){const t=Array.from(Do).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=BU(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,i])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(i)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Og=!1,Lg=!1,Do.forEach(t=>t.complete()),Do.clear()}function RS(){Do.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Og=!0)})}function VU(){RS(),PS()}class L_{constructor(e,n,r,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Do.add(this),Lg||(Lg=!0,ke.read(RS),ke.resolveKeyframes(PS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Do.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Do.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const O_=(t,e)=>n=>!!(iu(n)&&qB.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),LS=(t,e,n)=>r=>{if(!iu(r))return r;const[s,o,i,a]=r.match(S_);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},zU=t=>Qs(0,255,t),Am={...qa,transform:t=>Math.round(zU(t))},Io={test:O_("rgb","red"),parse:LS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Am.transform(t)+", "+Am.transform(e)+", "+Am.transform(n)+", "+Bl(Fl.transform(r))+")"};function HU(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Dg={test:O_("#"),parse:HU,transform:Io.transform},$i={test:O_("hsl","hue"),parse:LS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+br.transform(Bl(e))+", "+br.transform(Bl(n))+", "+Bl(Fl.transform(r))+")"},Mt={test:t=>Io.test(t)||Dg.test(t)||$i.test(t),parse:t=>Io.test(t)?Io.parse(t):$i.test(t)?$i.parse(t):Dg.parse(t),transform:t=>iu(t)?t:t.hasOwnProperty("red")?Io.transform(t):$i.transform(t)};function qU(t){var e,n;return isNaN(t)&&iu(t)&&(((e=t.match(S_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(HB))===null||n===void 0?void 0:n.length)||0)>0}const OS="number",DS="color",WU="var",GU="var(",Mx="${}",KU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const a=e.replace(KU,l=>(Mt.test(l)?(r.color.push(o),s.push(DS),n.push(Mt.parse(l))):l.startsWith(GU)?(r.var.push(o),s.push(WU),n.push(l)):(r.number.push(o),s.push(OS),n.push(parseFloat(l))),++o,Mx)).split(Mx);return{values:n,split:a,indexes:r,types:s}}function MS(t){return jc(t).values}function $S(t){const{split:e,types:n}=jc(t),r=e.length;return s=>{let o="";for(let i=0;i<r;i++)if(o+=e[i],s[i]!==void 0){const a=n[i];a===OS?o+=Bl(s[i]):a===DS?o+=Mt.transform(s[i]):o+=s[i]}return o}}const YU=t=>typeof t=="number"?0:t;function QU(t){const e=MS(t);return $S(t)(e.map(YU))}const Zs={test:qU,parse:MS,createTransformer:$S,getAnimatableNone:QU},ZU=new Set(["brightness","contrast","saturate","opacity"]);function XU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(S_)||[];if(!r)return t;const s=n.replace(r,"");let o=ZU.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const JU=/\b([a-z-]*)\(.*?\)/gu,Mg={...Zs,getAnimatableNone:t=>{const e=t.match(JU);return e?e.map(XU).join(" "):t}},eV={...hS,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:Mg,WebkitFilter:Mg},D_=t=>eV[t];function FS(t,e){let n=D_(t);return n!==Mg&&(n=Zs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tV=new Set(["auto","none","0"]);function nV(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!tV.has(o)&&jc(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=FS(n,s)}class BS extends L_{constructor(e,n,r,s){super(e,n,r,s,s==null?void 0:s.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),k_(u))){const d=NS(u,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!MU.has(r)||e.length!==2)return;const[s,o]=e,i=Dx(s),a=Dx(o);if(i!==a)if(Rx(i)&&Rx(a))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)LU(e[s])&&r.push(s);r.length&&nV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=Sa[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function US(t){let e;return()=>(e===void 0&&(e=t()),e)}const $x=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zs.test(t)||t==="0")&&!t.startsWith("url("));function rV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sV(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],i=$x(s,e),a=$x(o,e);return!i||!a?!1:rV(t)||n==="spring"&&r}class VS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&VU(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:i,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!sV(e,r,s,o))if(i)this.options.duration=0;else{l==null||l(fp(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function zS(t,e){return e?t*(1e3/e):0}const oV=5;function HS(t,e,n){const r=Math.max(e-oV,0);return zS(n-t(r),e-r)}const Fx=.001,iV=.01,aV=10,lV=.05,cV=1;function uV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o,i=1-e;i=Qs(lV,cV,i),t=Qs(iV,aV,qr(t)),i<1?(s=u=>{const d=u*i,h=d*t,f=d-n,m=$g(u,i),_=Math.exp(-h);return Fx-f/m*_},o=u=>{const h=u*i*t,f=h*n+n,m=Math.pow(i,2)*Math.pow(u,2)*t,_=Math.exp(-h),w=$g(Math.pow(u,2),i);return(-s(u)+Fx>0?-1:1)*((f-m)*_)/w}):(s=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-.001+d*h},o=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const a=5/t,l=hV(s,o,a);if(t=Vs(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:i*2*Math.sqrt(r*u),duration:t}}}const dV=12;function hV(t,e,n){let r=n;for(let s=1;s<dV;s++)r=r-t(r)/e(r);return r}function $g(t,e){return t*Math.sqrt(1-e*e)}const fV=["duration","bounce"],pV=["stiffness","damping","mass"];function Bx(t,e){return e.some(n=>t[n]!==void 0)}function mV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Bx(t,pV)&&Bx(t,fV)){const n=uV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function qS({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],i={done:!1,value:s},{stiffness:a,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=mV({...r,velocity:-qr(r.velocity||0)}),m=h||0,_=l/(2*Math.sqrt(a*u)),w=o-s,x=qr(Math.sqrt(a/u)),v=Math.abs(w)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let y;if(_<1){const g=$g(x,_);y=C=>{const b=Math.exp(-_*x*C);return o-b*((m+_*x*w)/g*Math.sin(g*C)+w*Math.cos(g*C))}}else if(_===1)y=g=>o-Math.exp(-x*g)*(w+(m+x*w)*g);else{const g=x*Math.sqrt(_*_-1);y=C=>{const b=Math.exp(-_*x*C),k=Math.min(g*C,300);return o-b*((m+_*x*w)*Math.sinh(k)+g*w*Math.cosh(k))/g}}return{calculatedDuration:f&&d||null,next:g=>{const C=y(g);if(f)i.done=g>=d;else{let b=m;g!==0&&(_<1?b=HS(y,g,C):b=0);const k=Math.abs(b)<=n,T=Math.abs(o-C)<=e;i.done=k&&T}return i.value=i.done?o:C,i}}}function Ux({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=S=>a!==void 0&&S<a||l!==void 0&&S>l,_=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let w=n*e;const x=h+w,v=i===void 0?x:i(x);v!==x&&(w=v-h);const y=S=>-w*Math.exp(-S/r),g=S=>v+y(S),C=S=>{const E=y(S),I=g(S);f.done=Math.abs(E)<=u,f.value=f.done?v:I};let b,k;const T=S=>{m(f.value)&&(b=S,k=qS({keyframes:[f.value,_(f.value)],velocity:HS(g,S,f.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return T(0),{calculatedDuration:null,next:S=>{let E=!1;return!k&&b===void 0&&(E=!0,C(S),T(S)),b!==void 0&&S>=b?k.next(S-b):(!E&&C(S),f)}}}const WS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,gV=1e-7,yV=12;function _V(t,e,n,r,s){let o,i,a=0;do i=e+(n-e)/2,o=WS(i,r,s)-t,o>0?n=i:e=i;while(Math.abs(o)>gV&&++a<yV);return i}function lu(t,e,n,r){if(t===e&&n===r)return Gt;const s=o=>_V(o,0,1,t,n);return o=>o===0||o===1?o:WS(s(o),e,r)}const vV=lu(.42,0,1,1),wV=lu(0,0,.58,1),GS=lu(.42,0,.58,1),xV=t=>Array.isArray(t)&&typeof t[0]!="number",KS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,YS=t=>e=>1-t(1-e),M_=t=>1-Math.sin(Math.acos(t)),QS=YS(M_),CV=KS(M_),ZS=lu(.33,1.53,.69,.99),$_=YS(ZS),bV=KS($_),kV=t=>(t*=2)<1?.5*$_(t):.5*(2-Math.pow(2,-10*(t-1))),SV={linear:Gt,easeIn:vV,easeInOut:GS,easeOut:wV,circIn:M_,circInOut:CV,circOut:QS,backIn:$_,backInOut:bV,backOut:ZS,anticipate:kV},Vx=t=>{if(Array.isArray(t)){lS(t.length===4);const[e,n,r,s]=t;return lu(e,n,r,s)}else if(typeof t=="string")return SV[t];return t},Ac=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},We=(t,e,n)=>t+(e-t)*n;function Pm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function EV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,i=0;if(!e)s=o=i=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Pm(l,a,t+1/3),o=Pm(l,a,t),i=Pm(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Rh(t,e){return n=>n>0?e:t}const Rm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},TV=[Dg,Io,$i],IV=t=>TV.find(e=>e.test(t));function zx(t){const e=IV(t);if(!e)return!1;let n=e.parse(t);return e===$i&&(n=EV(n)),n}const Hx=(t,e)=>{const n=zx(t),r=zx(e);if(!n||!r)return Rh(t,e);const s={...n};return o=>(s.red=Rm(n.red,r.red,o),s.green=Rm(n.green,r.green,o),s.blue=Rm(n.blue,r.blue,o),s.alpha=We(n.alpha,r.alpha,o),Io.transform(s))},Fg=new Set(["none","hidden"]);function NV(t,e){return Fg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function jV(t,e){return n=>We(t,e,n)}function F_(t){return typeof t=="number"?jV:typeof t=="string"?k_(t)?Rh:Mt.test(t)?Hx:RV:Array.isArray(t)?XS:typeof t=="object"?Mt.test(t)?Hx:AV:Rh}function XS(t,e){const n=[...t],r=n.length,s=t.map((o,i)=>F_(o)(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}}function AV(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=F_(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function PV(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const i=e.types[o],a=t.indexes[i][s[i]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[o]=l,s[i]++}return r}const RV=(t,e)=>{const n=Zs.createTransformer(e),r=jc(t),s=jc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Fg.has(t)&&!s.values.length||Fg.has(e)&&!r.values.length?NV(t,e):Hr(XS(PV(r,s),s.values),n):Rh(t,e)};function JS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?We(t,e,n):F_(t)(t,e)}function LV(t,e,n){const r=[],s=n||JS,o=t.length-1;for(let i=0;i<o;i++){let a=s(t[i],t[i+1]);if(e){const l=Array.isArray(e)?e[i]||Gt:e;a=Hr(l,a)}r.push(a)}return r}function OV(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(lS(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=LV(e,r,s),a=i.length,l=u=>{let d=0;if(a>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Ac(t[d],t[d+1],u);return i[d](h)};return n?u=>l(Qs(t[0],t[o-1],u)):l}function DV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ac(0,e,r);t.push(We(n,1,s))}}function MV(t){const e=[0];return DV(e,t.length-1),e}function $V(t,e){return t.map(n=>n*e)}function FV(t,e){return t.map(()=>e||GS).splice(0,t.length-1)}function Lh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=xV(r)?r.map(Vx):Vx(r),o={done:!1,value:e[0]},i=$V(n&&n.length===e.length?n:MV(e),t),a=OV(i,e,{ease:Array.isArray(s)?s:FV(e,s)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const qx=2e4;function BV(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<qx;)e+=n,r=t.next(e);return e>=qx?1/0:e}const UV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ke.update(e,!0),stop:()=>ss(e),now:()=>kt.isProcessing?kt.timestamp:zs.now()}},VV={decay:Ux,inertia:Ux,tween:Lh,keyframes:Lh,spring:qS},zV=t=>t/100;class B_ extends VS{constructor({KeyframeResolver:e=L_,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:s,keyframes:o}=this.options,i=(a,l)=>this.onKeyframesResolved(a,l);r&&s&&s.owner?this.resolver=s.owner.resolveKeyframes(o,i,r,s):this.resolver=new e(o,i,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=this.options,a=VV[n]||Lh;let l,u;a!==Lh&&typeof e[0]!="number"&&(l=Hr(zV,JS(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});o==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=BV(d));const{calculatedDuration:h}=d,f=h+s,m=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return o.next(0);const{delay:f,repeat:m,repeatType:_,repeatDelay:w,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let g=this.currentTime,C=o;if(m){const S=Math.min(this.currentTime,d)/h;let E=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(_==="reverse"?(I=1-I,w&&(I-=w/h)):_==="mirror"&&(C=i)),g=Qs(0,1,I)*h}const b=y?{done:!1,value:l[0]}:C.next(g);a&&(b.value=a(b.value));let{done:k}=b;!y&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return T&&s!==void 0&&(b.value=fp(l,this.options,s)),x&&x(b.value),T&&this.finish(),b}get duration(){const{resolved:e}=this;return e?qr(e.calculatedDuration):0}get time(){return qr(this.currentTime)}set time(e){e=Vs(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=UV,onPlay:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const e6=t=>Array.isArray(t)&&typeof t[0]=="number";function t6(t){return!!(!t||typeof t=="string"&&t in U_||e6(t)||Array.isArray(t)&&t.every(t6))}const Cl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,U_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cl([0,.65,.55,1]),circOut:Cl([.55,0,1,.45]),backIn:Cl([.31,.01,.66,-.59]),backOut:Cl([.33,1.53,.69,.99])};function HV(t){return n6(t)||U_.easeOut}function n6(t){if(t)return e6(t)?Cl(t):Array.isArray(t)?t.map(HV):U_[t]}function qV(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const d=n6(a);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}const WV=US(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),GV=new Set(["opacity","clipPath","filter","transform"]),Oh=10,KV=2e4;function YV(t){return t.type==="spring"||t.name==="backgroundColor"||!t6(t.ease)}function QV(t,e){const n=new B_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let o=0;for(;!r.done&&o<KV;)r=n.sample(o),s.push(r.value),o+=Oh;return{times:void 0,keyframes:s,duration:o-Oh,ease:"linear"}}class Wx extends VS{constructor(e){super(e);const{name:n,motionValue:r,keyframes:s}=this.options;this.resolver=new BS(s,(o,i)=>this.onKeyframesResolved(o,i),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:o,ease:i,type:a,motionValue:l,name:u}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(YV(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,..._}=this.options,w=QV(e,_);e=w.keyframes,e.length===1&&(e[1]=e[0]),s=w.duration,o=w.times,i=w.ease,a="keyframes"}const d=qV(l.owner.current,u,e,{...this.options,duration:s,times:o,ease:i});return d.startTime=zs.now(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(fp(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:o,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return qr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return qr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Vs(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Gt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return Gt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:o,ease:i,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:u,onComplete:d,...h}=this.options,f=new B_({...h,keyframes:r,duration:s,type:o,ease:i,times:a,isGenerator:!0}),m=Vs(this.time);l.setWithVelocity(f.sample(m-Oh).value,f.sample(m).value,Oh)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:i,type:a}=e;return WV()&&r&&GV.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&o!=="mirror"&&i!==0&&a!=="inertia"}}function ZV(t,e){let n;const r=()=>{const{currentTime:s}=e,i=(s===null?0:s.value)/100;n!==i&&t(i),n=i};return ke.update(r,!0),()=>ss(r)}const XV=US(()=>window.ScrollTimeline!==void 0);class JV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(XV()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),ZV(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const V_=(t,e,n,r={},s,o)=>i=>{const a=R_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Vs(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:s};AU(a)||(d={...d,...jU(t,d)}),d.duration&&(d.duration=Vs(d.duration)),d.repeatDelay&&(d.repeatDelay=Vs(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!o&&e.get()!==void 0){const f=fp(d.keyframes,a);if(f!==void 0)return ke.update(()=>{d.onUpdate(f),d.onComplete()}),new JV([])}return!o&&Wx.supports(d)?new Wx(d):new B_(d)};function Dh(t){return!!(Vt(t)&&t.add)}function z_(t,e){t.indexOf(e)===-1&&t.push(e)}function H_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class q_{constructor(){this.subscriptions=[]}add(e){return z_(this.subscriptions,e),()=>H_(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gx=30,ez=t=>!isNaN(parseFloat(t));class tz{constructor(e,n={}){this.version="11.2.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=zs.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=zs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ez(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new q_);const r=this.events[e].add(n);return e==="change"?()=>{r(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Gx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Gx);return zS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ea(t,e){return new tz(t,e)}function nz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ea(n))}function rz(t,e){const n=hp(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const i in o){const a=aU(o[i]);nz(t,i,a)}}function r6(t){return t.getProps()[rS]}function sz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function s6(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;const u=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const m=t.getValue(f,(o=t.latestValues[f])!==null&&o!==void 0?o:null),_=l[f];if(_===void 0||h&&sz(h,f))continue;const w={delay:n,elapsed:0,...R_(i||{},f)};let x=!1;if(window.HandoffAppearAnimations){const y=r6(t);if(y){const g=window.HandoffAppearAnimations(y,f,m,ke);g!==null&&(w.elapsed=g,x=!0)}}m.start(V_(f,m,_,t.shouldReduceMotion&&ui.has(f)?{type:!1}:w,t,x));const v=m.animation;v&&(Dh(u)&&(u.add(f),v.then(()=>u.remove(f))),d.push(v))}return a&&Promise.all(d).then(()=>{ke.update(()=>{a&&rz(t,a)})}),d}function Bg(t,e,n={}){var r;const s=hp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const i=s?()=>Promise.all(s6(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=o;return oz(t,e,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function oz(t,e,n=0,r=0,s=1,o){const i=[],a=(t.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(iz).forEach((u,d)=>{u.notify("AnimationStart",e),i.push(Bg(u,e,{...o,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(i)}function iz(t,e){return t.sortNodePosition(e)}function az(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Bg(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Bg(t,e,n);else{const s=typeof e=="function"?hp(t,e,n.custom):e;r=Promise.all(s6(t,s,n))}return r.then(()=>{ke.postRender(()=>{t.notify("AnimationComplete",e)})})}const lz=[...x_].reverse(),cz=x_.length;function uz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>az(t,n,r)))}function dz(t){let e=uz(t),n=Kx(),r=!0;const s=l=>(u,d)=>{var h;const f=hp(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:_,...w}=f;u={...u,...w,..._}}return u};function o(l){e=l(t)}function i(l){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let m={},_=1/0;for(let x=0;x<cz;x++){const v=lz[x],y=n[v],g=u[v]!==void 0?u[v]:d[v],C=Ic(g),b=v===l?y.isActive:null;b===!1&&(_=x);let k=g===d[v]&&g!==u[v]&&C;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),y.protectedKeys={...m},!y.isActive&&b===null||!g&&!y.prevProp||cp(g)||typeof g=="boolean")continue;let S=hz(y.prevProp,g)||v===l&&y.isActive&&!k&&C||x>_&&C,E=!1;const I=Array.isArray(g)?g:[g];let j=I.reduce(s(v),{});b===!1&&(j={});const{prevResolvedValues:N={}}=y,O={...N,...j},A=L=>{S=!0,f.has(L)&&(E=!0,f.delete(L)),y.needsAnimating[L]=!0;const D=t.getValue(L);D&&(D.liveStyle=!1)};for(const L in O){const D=j[L],R=N[L];if(m.hasOwnProperty(L))continue;let P=!1;Pg(D)&&Pg(R)?P=!ES(D,R):P=D!==R,P?D!=null?A(L):f.add(L):D!==void 0&&f.has(L)?A(L):y.protectedKeys[L]=!0}y.prevProp=g,y.prevResolvedValues=j,y.isActive&&(m={...m,...j}),r&&t.blockInitialAnimation&&(S=!1),S&&(!k||E)&&h.push(...I.map(L=>({animation:L,options:{type:v}})))}if(f.size){const x={};f.forEach(v=>{const y=t.getBaseTarget(v),g=t.getValue(v);g&&(g.liveStyle=!0),x[v]=y??null}),h.push({animation:x})}let w=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=i(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Kx(),r=!0}}}function hz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ES(e,t):!1}function uo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kx(){return{animate:uo(!0),whileInView:uo(),whileHover:uo(),whileTap:uo(),whileDrag:uo(),whileFocus:uo(),exit:uo()}}class fz extends oo{constructor(e){super(e),e.animationState||(e.animationState=dz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();cp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let pz=0;class mz extends oo{constructor(){super(...arguments),this.id=pz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const gz={animation:{Feature:fz},exit:{Feature:mz}},Yx=(t,e)=>Math.abs(t-e);function yz(t,e){const n=Yx(t.x,e.x),r=Yx(t.y,e.y);return Math.sqrt(n**2+r**2)}class o6{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Om(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=yz(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:_}=h,{timestamp:w}=kt;this.history.push({..._,timestamp:w});const{onStart:x,onMove:v}=this.handlers;f||(x&&x(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Lm(f,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:_,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Om(h.type==="pointercancel"?this.lastMoveEventInfo:Lm(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,x),_&&_(h,x)},!xS(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=dp(e),a=Lm(i,this.transformPagePoint),{point:l}=a,{timestamp:u}=kt;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Om(a,this.history)),this.removeListeners=Hr(zr(this.contextWindow,"pointermove",this.handlePointerMove),zr(this.contextWindow,"pointerup",this.handlePointerUp),zr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ss(this.updatePoint)}}function Lm(t,e){return e?{point:e(t.point)}:t}function Qx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Om({point:t},e){return{point:t,delta:Qx(t,i6(e)),offset:Qx(t,_z(e)),velocity:vz(e,.1)}}function _z(t){return t[0]}function i6(t){return t[t.length-1]}function vz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=i6(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Vs(e)));)n--;if(!r)return{x:0,y:0};const o=qr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function An(t){return t.max-t.min}function Ug(t,e=0,n=.01){return Math.abs(t-e)<=n}function Zx(t,e,n,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=An(n)/An(e),(Ug(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(Ug(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ul(t,e,n,r){Zx(t.x,e.x,n.x,r?r.originX:void 0),Zx(t.y,e.y,n.y,r?r.originY:void 0)}function Xx(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function wz(t,e,n){Xx(t.x,e.x,n.x),Xx(t.y,e.y,n.y)}function Jx(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function Vl(t,e,n){Jx(t.x,e.x,n.x),Jx(t.y,e.y,n.y)}function xz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?We(n,t,r.max):Math.min(t,n)),t}function e3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Cz(t,{top:e,left:n,bottom:r,right:s}){return{x:e3(t.x,n,s),y:e3(t.y,e,r)}}function t3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function bz(t,e){return{x:t3(t.x,e.x),y:t3(t.y,e.y)}}function kz(t,e){let n=.5;const r=An(t),s=An(e);return s>r?n=Ac(e.min,e.max-r,t.min):r>s&&(n=Ac(t.min,t.max-s,e.min)),Qs(0,1,n)}function Sz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Vg=.35;function Ez(t=Vg){return t===!1?t=0:t===!0&&(t=Vg),{x:n3(t,"left","right"),y:n3(t,"top","bottom")}}function n3(t,e,n){return{min:r3(t,e),max:r3(t,n)}}function r3(t,e){return typeof t=="number"?t:t[e]||0}const s3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fi=()=>({x:s3(),y:s3()}),o3=()=>({min:0,max:0}),rt=()=>({x:o3(),y:o3()});function Dn(t){return[t("x"),t("y")]}function a6({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Tz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Iz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Dm(t){return t===void 0||t===1}function zg({scale:t,scaleX:e,scaleY:n}){return!Dm(t)||!Dm(e)||!Dm(n)}function _o(t){return zg(t)||l6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function l6(t){return i3(t.x)||i3(t.y)}function i3(t){return t&&t!=="0%"}function Mh(t,e,n){const r=t-n,s=e*r;return n+s}function a3(t,e,n,r,s){return s!==void 0&&(t=Mh(t,s,r)),Mh(t,n,r)+e}function Hg(t,e=0,n=1,r,s){t.min=a3(t.min,e,n,r,s),t.max=a3(t.max,e,n,r,s)}function c6(t,{x:e,y:n}){Hg(t.x,e.translate,e.scale,e.originPoint),Hg(t.y,n.translate,n.scale,n.originPoint)}function Nz(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,i;for(let a=0;a<s;a++){o=n[a],i=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Bi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,c6(t,i)),r&&_o(o.latestValues)&&Bi(t,o.latestValues))}e.x=l3(e.x),e.y=l3(e.y)}function l3(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function _s(t,e){t.min=t.min+e,t.max=t.max+e}function c3(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,i=We(t.min,t.max,o);Hg(t,e[n],e[r],i,e.scale)}const jz=["x","scaleX","originX"],Az=["y","scaleY","originY"];function Bi(t,e){c3(t.x,e,jz),c3(t.y,e,Az)}function u6(t,e){return a6(Iz(t.getBoundingClientRect(),e))}function Pz(t,e,n){const r=u6(t,n),{scroll:s}=e;return s&&(_s(r.x,s.offset.x),_s(r.y,s.offset.y)),r}const d6=({current:t})=>t?t.ownerDocument.defaultView:null,Rz=new WeakMap;class Lz{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dp(d,"page").point)},o=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:_}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=bS(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(x=>{let v=this.getAxisMotionValue(x).get()||0;if(br.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const g=y.layout.layoutBox[x];g&&(v=An(g)*(parseFloat(v)/100))}}this.originPoint[x]=v}),_&&ke.postRender(()=>_(d,h));const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:_,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=Oz(x),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Dn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new o6(e,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:d6(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ke.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Gu(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=xz(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Mi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Cz(s.layoutBox,n):this.constraints=!1,this.elastic=Ez(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Dn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=Sz(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Mi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Pz(r,s.root,this.visualElement.getTransformPagePoint());let i=bz(s.layout.layoutBox,o);if(n){const a=n(Tz(i));this.hasMutatedConstraints=!!a,a&&(i=a6(a))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Dn(d=>{if(!Gu(d,n,this.currentDirection))return;let h=l&&l[d]||{};i&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,_)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(V_(e,r,0,n,this.visualElement))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dn(n=>{const{drag:r}=this.getProps();if(!Gu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:a}=s.layout.layoutBox[n];o.set(e[n]-We(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Dn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();s[i]=kz({min:l,max:l},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dn(i=>{if(!Gu(i,e,null))return;const a=this.getAxisMotionValue(i),{min:l,max:u}=this.constraints[i];a.set(We(l,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;Rz.set(this.visualElement,this);const e=this.visualElement.current,n=zr(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Mi(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ke.read(r);const i=Fr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Dn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=Vg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function Gu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Oz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Dz extends oo{constructor(e){super(e),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new Lz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const u3=t=>(e,n)=>{t&&ke.postRender(()=>t(e,n))};class Mz extends oo{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(e){this.session=new o6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:u3(e),onStart:u3(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&ke.postRender(()=>s(o,i))}}}mount(){this.removePointerDownListener=zr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function $z(){const t=p.useContext(lp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=p.useId();return p.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const bd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ol={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=d3(t,e.target.x),r=d3(t,e.target.y);return`${n}% ${r}%`}},Fz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Zs.parse(t);if(s.length>5)return r;const o=Zs.createTransformer(t),i=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+i]/=a,s[1+i]/=l;const u=We(a,l,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class Bz extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;MB(Uz),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),bd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||ke.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),w_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function h6(t){const[e,n]=$z(),r=p.useContext(Nc);return c.jsx(Bz,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(oS),isPresent:e,safeToRemove:n})}const Uz={borderRadius:{...ol,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ol,borderTopRightRadius:ol,borderBottomLeftRadius:ol,borderBottomRightRadius:ol,boxShadow:Fz},f6=["TopLeft","TopRight","BottomLeft","BottomRight"],Vz=f6.length,h3=t=>typeof t=="string"?parseFloat(t):t,f3=t=>typeof t=="number"||se.test(t);function zz(t,e,n,r,s,o){s?(t.opacity=We(0,n.opacity!==void 0?n.opacity:1,Hz(r)),t.opacityExit=We(e.opacity!==void 0?e.opacity:1,0,qz(r))):o&&(t.opacity=We(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<Vz;i++){const a=`border${f6[i]}Radius`;let l=p3(e,a),u=p3(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||f3(l)===f3(u)?(t[a]=Math.max(We(h3(l),h3(u),r),0),(br.test(u)||br.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,r))}function p3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Hz=p6(0,.5,QS),qz=p6(.5,.95,Gt);function p6(t,e,n){return r=>r<t?0:r>e?1:n(Ac(t,e,r))}function m3(t,e){t.min=e.min,t.max=e.max}function On(t,e){m3(t.x,e.x),m3(t.y,e.y)}function g3(t,e,n,r,s){return t-=e,t=Mh(t,1/n,r),s!==void 0&&(t=Mh(t,1/s,r)),t}function Wz(t,e=0,n=1,r=.5,s,o=t,i=t){if(br.test(e)&&(e=parseFloat(e),e=We(i.min,i.max,e/100)-i.min),typeof e!="number")return;let a=We(o.min,o.max,r);t===o&&(a-=e),t.min=g3(t.min,e,n,a,s),t.max=g3(t.max,e,n,a,s)}function y3(t,e,[n,r,s],o,i){Wz(t,e[n],e[r],e[s],e.scale,o,i)}const Gz=["x","scaleX","originX"],Kz=["y","scaleY","originY"];function _3(t,e,n,r){y3(t.x,e,Gz,n?n.x:void 0,r?r.x:void 0),y3(t.y,e,Kz,n?n.y:void 0,r?r.y:void 0)}function v3(t){return t.translate===0&&t.scale===1}function m6(t){return v3(t.x)&&v3(t.y)}function Yz(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function g6(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function w3(t){return An(t.x)/An(t.y)}class Qz{constructor(){this.members=[]}add(e){z_(this.members,e),e.scheduleRender()}remove(e){if(H_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x3(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,i=(n==null?void 0:n.z)||0;if((s||o||i)&&(r=`translate3d(${s}px, ${o}px, ${i}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:_}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Zz=(t,e)=>t.depth-e.depth;class Xz{constructor(){this.children=[],this.isDirty=!1}add(e){z_(this.children,e),this.isDirty=!0}remove(e){H_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zz),this.isDirty=!1,this.children.forEach(e)}}function Jz(t,e){const n=zs.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(ss(r),t(o-e))};return ke.read(r,!0),()=>ss(r)}function eH(t){window.MotionDebug&&window.MotionDebug.record(t)}function tH(t){return t instanceof SVGElement&&t.tagName!=="svg"}function nH(t,e,n){const r=Vt(t)?t:Ea(t);return r.start(V_("",r,e,n)),r.animation}const Mm=["","X","Y","Z"],rH={visibility:"hidden"},C3=1e3;let sH=0;const vo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function $m(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function y6(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?r6(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?y6(t.parent):!1:!1}function _6({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=e==null?void 0:e()){this.id=sH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vo.totalNodes=vo.resolvedTargetDeltas=vo.recalculatedProjection=0,this.nodes.forEach(aH),this.nodes.forEach(hH),this.nodes.forEach(fH),this.nodes.forEach(lH),eH(vo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Xz)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new q_),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=tH(i),this.instance=i;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Jz(f,250),bd.hasAnimatedSinceResize&&(bd.hasAnimatedSinceResize=!1,this.nodes.forEach(k3))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||_H,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=d.getProps(),y=!this.targetLayout||!g6(this.targetLayout,_)||m,g=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const C={...R_(w,"layout"),onPlay:x,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else f||k3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pH),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&y6(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(b3);return}this.isUpdating||this.nodes.forEach(uH),this.isUpdating=!1,this.nodes.forEach(dH),this.nodes.forEach(oH),this.nodes.forEach(iH),this.clearAllSnapshots();const a=zs.now();kt.delta=Qs(0,1e3/60,a-kt.timestamp),kt.timestamp=a,kt.isProcessing=!0,Im.update.process(kt),Im.preRender.process(kt),Im.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,w_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cH),this.sharedNodes.forEach(mH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!m6(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(a||_o(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),vH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return rt();const a=i.measureViewportBox(),{scroll:l}=this.root;return l&&(_s(a.x,l.offset.x),_s(a.y,l.offset.y)),a}removeElementScroll(i){const a=rt();On(a,i);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){On(a,i);const{scroll:f}=this.root;f&&(_s(a.x,-f.offset.x),_s(a.y,-f.offset.y))}_s(a.x,d.offset.x),_s(a.y,d.offset.y)}}return a}applyTransform(i,a=!1){const l=rt();On(l,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Bi(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_o(d.latestValues)&&Bi(l,d.latestValues)}return _o(this.latestValues)&&Bi(l,this.latestValues),l}removeTransform(i){const a=rt();On(a,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!_o(u.latestValues))continue;zg(u.latestValues)&&u.updateSnapshot();const d=rt(),h=u.measurePageBox();On(d,h),_3(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return _o(this.latestValues)&&_3(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(i||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=kt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Vl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),c6(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Vl(this.relativeTargetOrigin,this.target,m.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zg(this.parent.latestValues)||l6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;On(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Nz(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:_}=a;if(!_){this.projectionTransform&&(this.projectionDelta=Fi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Fi(),this.projectionDeltaWithTransform=Fi());const w=this.projectionTransform;Ul(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=x3(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),vo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Fi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=rt(),m=l?l.source:void 0,_=this.layout?this.layout.source:void 0,w=m!==_,x=this.getStack(),v=!x||x.members.length<=1,y=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(yH));this.animationProgress=0;let g;this.mixTargetDelta=C=>{const b=C/1e3;S3(h.x,i.x,b),S3(h.y,i.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gH(this.relativeTarget,this.relativeTargetOrigin,f,b),g&&Yz(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=rt()),On(g,this.relativeTarget)),w&&(this.animationValues=d,zz(d,u,this.latestValues,b,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{bd.hasAnimatedSinceResize=!0,this.currentAnimation=nH(0,C3,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=i;if(!(!a||!l||!u)){if(this!==i&&this.layout&&u&&v6(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||rt();const h=An(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+h;const f=An(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+f}On(a,l),Bi(a,d),Ul(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Qz),this.sharedNodes.get(i).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&$m("z",i,u,this.animationValues);for(let d=0;d<Mm.length;d++)$m(`rotate${Mm[d]}`,i,u,this.animationValues),$m(`skew${Mm[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rH;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=xd(i==null?void 0:i.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=xd(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!_o(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=x3(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:_}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${_.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Ah){if(f[w]===void 0)continue;const{correct:x,applyTo:v}=Ah[w],y=u.transform==="none"?f[w]:x(f[w],h);if(v){const g=v.length;for(let C=0;C<g;C++)u[v[C]]=y}else u[w]=y}return this.options.layoutId&&(u.pointerEvents=h===this?xd(i==null?void 0:i.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(b3),this.root.sharedNodes.clear()}}}function oH(t){t.updateLayout()}function iH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,i=n.source!==t.layout.source;o==="size"?Dn(h=>{const f=i?n.measuredBox[h]:n.layoutBox[h],m=An(f);f.min=r[h].min,f.max=f.min+m}):v6(o,n.layoutBox,r)&&Dn(h=>{const f=i?n.measuredBox[h]:n.layoutBox[h],m=An(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Fi();Ul(a,r,n.layoutBox);const l=Fi();i?Ul(l,t.applyTransform(s,!0),n.measuredBox):Ul(l,r,n.layoutBox);const u=!m6(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const _=rt();Vl(_,n.layoutBox,f.layoutBox);const w=rt();Vl(w,r,m.layoutBox),g6(_,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function aH(t){vo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function lH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cH(t){t.clearSnapshot()}function b3(t){t.clearMeasurements()}function uH(t){t.isLayoutDirty=!1}function dH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function k3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hH(t){t.resolveTargetDelta()}function fH(t){t.calcProjection()}function pH(t){t.resetSkewAndRotation()}function mH(t){t.removeLeadSnapshot()}function S3(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function E3(t,e,n,r){t.min=We(e.min,n.min,r),t.max=We(e.max,n.max,r)}function gH(t,e,n,r){E3(t.x,e.x,n.x,r),E3(t.y,e.y,n.y,r)}function yH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const _H={duration:.45,ease:[.4,0,.1,1]},T3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),I3=T3("applewebkit/")&&!T3("chrome/")?Math.round:Gt;function N3(t){t.min=I3(t.min),t.max=I3(t.max)}function vH(t){N3(t.x),N3(t.y)}function v6(t,e,n){return t==="position"||t==="preserve-aspect"&&!Ug(w3(e),w3(n),.2)}const wH=_6({attachResizeListener:(t,e)=>Fr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fm={current:void 0},w6=_6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fm.current){const t=new wH({});t.mount(window),t.setOptions({layoutScroll:!0}),Fm.current=t}return Fm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),xH={pan:{Feature:Mz},drag:{Feature:Dz,ProjectionNode:w6,MeasureLayout:h6}},qg={current:null},x6={current:!1};function CH(){if(x6.current=!0,!!y_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qg.current=t.matches;t.addListener(e),e()}else qg.current=!1}function bH(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],i=n[s];if(Vt(o))t.addValue(s,o),Dh(r)&&r.add(s);else if(Vt(i))t.addValue(s,Ea(o,{owner:t})),Dh(r)&&r.remove(s);else if(i!==o)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(o):a.hasAnimated||a.set(o)}else{const a=t.getStaticValue(s);t.addValue(s,Ea(a!==void 0?a:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const j3=new WeakMap,kH=[...AS,Mt,Zs],SH=t=>kH.find(jS(t)),A3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],EH=C_.length;class TH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},a={}){this.resolveKeyframes=(f,m,_,w)=>new this.KeyframeResolver(f,m,_,w,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=L_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ke.render(this.render,!1,!0);const{latestValues:l,renderState:u}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=up(n),this.isVariantNode=aS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Vt(m)&&(m.set(l[f],!1),Dh(d)&&d.add(f))}}mount(e){this.current=e,j3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),x6.current||CH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){j3.delete(this.current),this.projection&&this.projection.unmount(),ss(this.notifyUpdate),ss(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=ui.has(e),s=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ka){const n=ka[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<A3.length;r++){const s=A3[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=e[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=bH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<EH;r++){const s=C_[r],o=this.props[s];(Ic(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ea(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(IS(s)||TS(s))?s=parseFloat(s):!SH(s)&&Zs.test(n)&&(s=FS(e,n)),this.setBaseTarget(e,Vt(s)?s.get():s)),Vt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=A_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Vt(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new q_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class C6 extends TH{constructor(){super(...arguments),this.KeyframeResolver=BS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function IH(t){return window.getComputedStyle(t)}class NH extends C6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ui.has(n)){const r=D_(n);return r&&r.default||0}else{const r=IH(e),s=(dS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return u6(e,n)}build(e,n,r,s){E_(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return j_(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){gS(e,n,r,s)}}class jH extends C6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ui.has(n)){const r=D_(n);return r&&r.default||0}return n=yS.has(n)?n:v_(n),e.getAttribute(n)}measureInstanceViewportBox(){return rt()}scrapeMotionValuesFromProps(e,n,r){return vS(e,n,r)}build(e,n,r,s){I_(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){_S(e,n,r,s)}mount(e){this.isSVGTag=N_(e.tagName),super.mount(e)}}const AH=(t,e)=>b_(t)?new jH(e,{enableHardwareAcceleration:!1}):new NH(e,{allowProjection:t!==p.Fragment,enableHardwareAcceleration:!0}),PH={layout:{ProjectionNode:w6,MeasureLayout:h6}},RH={...gz,...SU,...xH,...PH},ot=OB((t,e)=>hU(t,e,RH,AH));function b6(){const t=p.useRef(!1);return __(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function k6(){const t=b6(),[e,n]=p.useState(0),r=p.useCallback(()=>{t.current&&n(e+1)},[e]);return[p.useCallback(()=>ke.postRender(r),[r]),e]}class LH extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function OH({children:t,isPresent:e}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=p.useContext(ip);return p.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:u}=s.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),c.jsx(LH,{isPresent:e,childRef:r,sizeRef:s,children:p.cloneElement(t,{ref:r})})}const Bm=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const a=P_(DH),l=p.useId(),u=p.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),o?[Math.random()]:[n]);return p.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(t=c.jsx(OH,{isPresent:n,children:t})),c.jsx(lp.Provider,{value:u,children:t})};function DH(){return new Map}function MH(t){return p.useEffect(()=>()=>t(),[])}const wo=t=>t.key||"";function $H(t,e){t.forEach(n=>{const r=wo(n);e.set(r,n)})}function FH(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const BH=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const a=p.useContext(Nc).forceRender||k6()[0],l=b6(),u=FH(t);let d=u;const h=p.useRef(new Map).current,f=p.useRef(d),m=p.useRef(new Map).current,_=p.useRef(!0);if(__(()=>{_.current=!1,$H(u,m),f.current=d}),MH(()=>{_.current=!0,m.clear(),h.clear()}),_.current)return c.jsx(c.Fragment,{children:d.map(y=>c.jsx(Bm,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i,children:y},wo(y)))});d=[...d];const w=f.current.map(wo),x=u.map(wo),v=w.length;for(let y=0;y<v;y++){const g=w[y];x.indexOf(g)===-1&&!h.has(g)&&h.set(g,void 0)}return i==="wait"&&h.size&&(d=[]),h.forEach((y,g)=>{if(x.indexOf(g)!==-1)return;const C=m.get(g);if(!C)return;const b=w.indexOf(g);let k=y;if(!k){const T=()=>{h.delete(g);const S=Array.from(m.keys()).filter(E=>!x.includes(E));if(S.forEach(E=>m.delete(E)),f.current=u.filter(E=>{const I=wo(E);return I===g||S.includes(I)}),!h.size){if(l.current===!1)return;a(),r&&r()}};k=c.jsx(Bm,{isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:o,mode:i,children:C},wo(C)),h.set(g,k)}d.splice(b,0,k)}),d=d.map(y=>{const g=y.key;return h.has(g)?y:c.jsx(Bm,{isPresent:!0,presenceAffectsLayout:o,mode:i,children:y},wo(y))}),c.jsx(c.Fragment,{children:h.size?d:d.map(y=>p.cloneElement(y))})},UH=p.createContext(null),VH=t=>!t.isLayoutDirty&&t.willUpdate(!1);function P3(){const t=new Set,e=new WeakMap,n=()=>t.forEach(VH);return{add:r=>{t.add(r),e.set(r,r.addEventListener("willUpdate",n))},remove:r=>{t.delete(r);const s=e.get(r);s&&(s(),e.delete(r)),n()},dirty:n}}const S6=t=>t===!0,zH=t=>S6(t===!0)||t==="id",HH=({children:t,id:e,inherit:n=!0})=>{const r=p.useContext(Nc),s=p.useContext(UH),[o,i]=k6(),a=p.useRef(null),l=r.id||s;a.current===null&&(zH(n)&&l&&(e=e?l+"-"+e:l),a.current={id:e,group:S6(n)&&r.group||P3()});const u=p.useMemo(()=>({...a.current,forceRender:o}),[i]);return c.jsx(Nc.Provider,{value:u,children:t})};function E6(t){const e=P_(()=>Ea(t)),{isStatic:n}=p.useContext(ip);if(n){const[,r]=p.useState(t);p.useEffect(()=>e.on("change",r),[])}return e}var T6={},W_={},G_={};Object.defineProperty(G_,"__esModule",{value:!0});var R3="html",L3="head",Ku="body",qH=/<([a-zA-Z]+[0-9]?)/,O3=/<head[^]*>/i,D3=/<body[^]*>/i,$h=function(t,e){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Wg=function(t,e){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},M3=typeof window=="object"&&window.DOMParser;if(typeof M3=="function"){var WH=new M3,GH="text/html";Wg=function(t,e){return e&&(t="<".concat(e,">").concat(t,"</").concat(e,">")),WH.parseFromString(t,GH)},$h=Wg}if(typeof document=="object"&&document.implementation){var Yu=document.implementation.createHTMLDocument();$h=function(t,e){if(e){var n=Yu.documentElement.querySelector(e);return n&&(n.innerHTML=t),Yu}return Yu.documentElement.innerHTML=t,Yu}}var Qu=typeof document=="object"&&document.createElement("template"),Gg;Qu&&Qu.content&&(Gg=function(t){return Qu.innerHTML=t,Qu.content.childNodes});function KH(t){var e,n,r=t.match(qH),s=r&&r[1]?r[1].toLowerCase():"";switch(s){case R3:{var o=Wg(t);if(!O3.test(t)){var i=o.querySelector(L3);(e=i==null?void 0:i.parentNode)===null||e===void 0||e.removeChild(i)}if(!D3.test(t)){var i=o.querySelector(Ku);(n=i==null?void 0:i.parentNode)===null||n===void 0||n.removeChild(i)}return o.querySelectorAll(R3)}case L3:case Ku:{var a=$h(t).querySelectorAll(s);return D3.test(t)&&O3.test(t)?a[0].parentNode.childNodes:a}default:{if(Gg)return Gg(t);var i=$h(t,Ku).querySelector(Ku);return i.childNodes}}}G_.default=KH;var Ta={},K_={},Y_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(Y_);var ye={},io=Ve&&Ve.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),zl=Ve&&Ve.__assign||function(){return zl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},zl.apply(this,arguments)};Object.defineProperty(ye,"__esModule",{value:!0});ye.cloneNode=ye.hasChildren=ye.isDocument=ye.isDirective=ye.isComment=ye.isText=ye.isCDATA=ye.isTag=ye.Element=ye.Document=ye.CDATA=ye.NodeWithChildren=ye.ProcessingInstruction=ye.Comment=ye.Text=ye.DataNode=ye.Node=void 0;var _n=Y_,Q_=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),Z_(this,e)},t}();ye.Node=Q_;var pp=function(t){io(e,t);function e(n){var r=t.call(this)||this;return r.data=n,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(Q_);ye.DataNode=pp;var I6=function(t){io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=_n.ElementType.Text,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(pp);ye.Text=I6;var N6=function(t){io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=_n.ElementType.Comment,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(pp);ye.Comment=N6;var j6=function(t){io(e,t);function e(n,r){var s=t.call(this,r)||this;return s.name=n,s.type=_n.ElementType.Directive,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(pp);ye.ProcessingInstruction=j6;var mp=function(t){io(e,t);function e(n){var r=t.call(this)||this;return r.children=n,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(Q_);ye.NodeWithChildren=mp;var A6=function(t){io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=_n.ElementType.CDATA,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(mp);ye.CDATA=A6;var P6=function(t){io(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=_n.ElementType.Root,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(mp);ye.Document=P6;var R6=function(t){io(e,t);function e(n,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=n==="script"?_n.ElementType.Script:n==="style"?_n.ElementType.Style:_n.ElementType.Tag);var i=t.call(this,s)||this;return i.name=n,i.attribs=r,i.type=o,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,o;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(o=n["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(mp);ye.Element=R6;function L6(t){return(0,_n.isTag)(t)}ye.isTag=L6;function O6(t){return t.type===_n.ElementType.CDATA}ye.isCDATA=O6;function D6(t){return t.type===_n.ElementType.Text}ye.isText=D6;function M6(t){return t.type===_n.ElementType.Comment}ye.isComment=M6;function $6(t){return t.type===_n.ElementType.Directive}ye.isDirective=$6;function F6(t){return t.type===_n.ElementType.Root}ye.isDocument=F6;function YH(t){return Object.prototype.hasOwnProperty.call(t,"children")}ye.hasChildren=YH;function Z_(t,e){e===void 0&&(e=!1);var n;if(D6(t))n=new I6(t.data);else if(M6(t))n=new N6(t.data);else if(L6(t)){var r=e?Um(t.children):[],s=new R6(t.name,zl({},t.attribs),r);r.forEach(function(l){return l.parent=s}),t.namespace!=null&&(s.namespace=t.namespace),t["x-attribsNamespace"]&&(s["x-attribsNamespace"]=zl({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(s["x-attribsPrefix"]=zl({},t["x-attribsPrefix"])),n=s}else if(O6(t)){var r=e?Um(t.children):[],o=new A6(r);r.forEach(function(u){return u.parent=o}),n=o}else if(F6(t)){var r=e?Um(t.children):[],i=new P6(r);r.forEach(function(u){return u.parent=i}),t["x-mode"]&&(i["x-mode"]=t["x-mode"]),n=i}else if($6(t)){var a=new j6(t.name,t.data);t["x-name"]!=null&&(a["x-name"]=t["x-name"],a["x-publicId"]=t["x-publicId"],a["x-systemId"]=t["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}ye.cloneNode=Z_;function Um(t){for(var e=t.map(function(r){return Z_(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}(function(t){var e=Ve&&Ve.__createBinding||(Object.create?function(a,l,u,d){d===void 0&&(d=u);var h=Object.getOwnPropertyDescriptor(l,u);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,d,h)}:function(a,l,u,d){d===void 0&&(d=u),a[d]=l[u]}),n=Ve&&Ve.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&e(l,a,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=Y_,s=ye;n(ye,t);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},i=function(){function a(l,u,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(d=u,u=o),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??o,this.elementCB=d??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,u){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new s.Element(l,u,void 0,d);this.addNode(h),this.tagStack.push(h)},a.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var d=new s.Text(l);this.addNode(d),this.lastNode=d}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new s.Comment(l);this.addNode(u),this.lastNode=u},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new s.Text(""),u=new s.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,u){var d=new s.ProcessingInstruction(l,u);this.addNode(d)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],d=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),d&&(l.prev=d,d.next=l),l.parent=u,this.lastNode=null},a}();t.DomHandler=i,t.default=i})(K_);var B6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{})})(B6);Object.defineProperty(Ta,"__esModule",{value:!0});Ta.formatDOM=Ta.formatAttributes=void 0;var Zu=K_,QH=B6;function ZH(t){return QH.CASE_SENSITIVE_TAG_NAMES_MAP[t]}function U6(t){for(var e={},n=0,r=t.length;n<r;n++){var s=t[n];e[s.name]=s.value}return e}Ta.formatAttributes=U6;function XH(t){t=t.toLowerCase();var e=ZH(t);return e||t}function V6(t,e,n){e===void 0&&(e=null);for(var r=[],s,o=0,i=t.length;o<i;o++){var a=t[o];switch(a.nodeType){case 1:{var l=XH(a.nodeName);s=new Zu.Element(l,U6(a.attributes)),s.children=V6(l==="template"?a.content.childNodes:a.childNodes,s);break}case 3:s=new Zu.Text(a.nodeValue);break;case 8:s=new Zu.Comment(a.nodeValue);break;default:continue}var u=r[o-1]||null;u&&(u.next=s),s.parent=e,s.prev=u,s.next=null,r.push(s)}return n&&(s=new Zu.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),s.next=r[0]||null,s.parent=e,r.unshift(s),r[1]&&(r[1].prev=r[0])),r}Ta.formatDOM=V6;var JH=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(W_,"__esModule",{value:!0});var eq=JH(G_),tq=Ta,nq=/<(![a-zA-Z\s]+)>/;function rq(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];var e=t.match(nq),n=e?e[1]:void 0;return(0,tq.formatDOM)((0,eq.default)(t),null,n)}W_.default=rq;var gp={},or={},yp={},sq=0;yp.SAME=sq;var oq=1;yp.CAMELCASE=oq;yp.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const z6=0,ao=1,_p=2,vp=3,X_=4,H6=5,q6=6;function iq(t){return At.hasOwnProperty(t)?At[t]:null}function on(t,e,n,r,s,o,i){this.acceptsBooleans=e===_p||e===vp||e===X_,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}const At={},aq=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];aq.forEach(t=>{At[t]=new on(t,z6,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,e])=>{At[t]=new on(t,ao,!1,e,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(t=>{At[t]=new on(t,_p,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{At[t]=new on(t,_p,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{At[t]=new on(t,vp,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(t=>{At[t]=new on(t,vp,!0,t,null,!1,!1)});["capture","download"].forEach(t=>{At[t]=new on(t,X_,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(t=>{At[t]=new on(t,q6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(t=>{At[t]=new on(t,H6,!1,t.toLowerCase(),null,!1,!1)});const J_=/[\-\:]([a-z])/g,ev=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const e=t.replace(J_,ev);At[e]=new on(e,ao,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const e=t.replace(J_,ev);At[e]=new on(e,ao,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(t=>{const e=t.replace(J_,ev);At[e]=new on(e,ao,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(t=>{At[t]=new on(t,ao,!1,t.toLowerCase(),null,!1,!1)});const lq="xlinkHref";At[lq]=new on("xlinkHref",ao,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(t=>{At[t]=new on(t,ao,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:cq,SAME:uq,possibleStandardNames:$3}=yp,dq=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",hq=dq+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",fq=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+hq+"]*$")),pq=Object.keys($3).reduce((t,e)=>{const n=$3[e];return n===uq?t[e]=e:n===cq?t[e.toLowerCase()]=e:t[e]=n,t},{});or.BOOLEAN=vp;or.BOOLEANISH_STRING=_p;or.NUMERIC=H6;or.OVERLOADED_BOOLEAN=X_;or.POSITIVE_NUMERIC=q6;or.RESERVED=z6;or.STRING=ao;or.getPropertyInfo=iq;or.isCustomAttribute=fq;or.possibleStandardNames=pq;var tv={},nv={},F3=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,mq=/\n/g,gq=/^\s*/,yq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,_q=/^:\s*/,vq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,wq=/^[;\s]*/,xq=/^\s+|\s+$/g,Cq=`
`,B3="/",U3="*",xo="",bq="comment",kq="declaration",Sq=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function s(_){var w=_.match(mq);w&&(n+=w.length);var x=_.lastIndexOf(Cq);r=~x?_.length-x:r+_.length}function o(){var _={line:n,column:r};return function(w){return w.position=new i(_),u(),w}}function i(_){this.start=_,this.end={line:n,column:r},this.source=e.source}i.prototype.content=t;function a(_){var w=new Error(e.source+":"+n+":"+r+": "+_);if(w.reason=_,w.filename=e.source,w.line=n,w.column=r,w.source=t,!e.silent)throw w}function l(_){var w=_.exec(t);if(w){var x=w[0];return s(x),t=t.slice(x.length),w}}function u(){l(gq)}function d(_){var w;for(_=_||[];w=h();)w!==!1&&_.push(w);return _}function h(){var _=o();if(!(B3!=t.charAt(0)||U3!=t.charAt(1))){for(var w=2;xo!=t.charAt(w)&&(U3!=t.charAt(w)||B3!=t.charAt(w+1));)++w;if(w+=2,xo===t.charAt(w-1))return a("End of comment missing");var x=t.slice(2,w-2);return r+=2,s(x),t=t.slice(w),r+=2,_({type:bq,comment:x})}}function f(){var _=o(),w=l(yq);if(w){if(h(),!l(_q))return a("property missing ':'");var x=l(vq),v=_({type:kq,property:V3(w[0].replace(F3,xo)),value:x?V3(x[0].replace(F3,xo)):xo});return l(wq),v}}function m(){var _=[];d(_);for(var w;w=f();)w!==!1&&(_.push(w),d(_));return _}return u(),m()};function V3(t){return t?t.replace(xq,xo):xo}var Eq=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nv,"__esModule",{value:!0});var Tq=Eq(Sq);function Iq(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,Tq.default)(t),s=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var i=o.property,a=o.value;s?e(i,a,o):a&&(n=n||{},n[i]=a)}}),n}nv.default=Iq;var wp={};Object.defineProperty(wp,"__esModule",{value:!0});wp.camelCase=void 0;var Nq=/^--[a-zA-Z0-9-]+$/,jq=/-([a-z])/g,Aq=/^[^-]+$/,Pq=/^-(webkit|moz|ms|o|khtml)-/,Rq=/^-(ms)-/,Lq=function(t){return!t||Aq.test(t)||Nq.test(t)},Oq=function(t,e){return e.toUpperCase()},z3=function(t,e){return"".concat(e,"-")},Dq=function(t,e){return e===void 0&&(e={}),Lq(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Rq,z3):t=t.replace(Pq,z3),t.replace(jq,Oq))};wp.camelCase=Dq;var Mq=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},$q=Mq(nv),Fq=wp;function Kg(t,e){var n={};return!t||typeof t!="string"||(0,$q.default)(t,function(r,s){r&&s&&(n[(0,Fq.camelCase)(r,e)]=s)}),n}Kg.default=Kg;var Bq=Kg;(function(t){var e=Ve&&Ve.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var n=p,r=e(Bq),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(d,h){return d.includes("-")?!s.has(d):!!(h&&typeof h.is=="string")}t.isCustomComponent=o;var i={reactCompat:!0};function a(d,h){if(typeof d=="string"){if(!d.trim()){h.style={};return}try{h.style=(0,r.default)(d,i)}catch{h.style={}}}}t.setStyleProp=a,t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(d){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};t.canTextBeChildOfNode=l;var u=function(d){return d};t.returnFirstArg=u})(tv);Object.defineProperty(gp,"__esModule",{value:!0});var bl=or,H3=tv,Uq=["checked","value"],Vq=["input","select","textarea"],zq={reset:!0,submit:!0};function Hq(t,e){t===void 0&&(t={});var n={},r=!!(t.type&&zq[t.type]);for(var s in t){var o=t[s];if((0,bl.isCustomAttribute)(s)){n[s]=o;continue}var i=s.toLowerCase(),a=q3(i);if(a){var l=(0,bl.getPropertyInfo)(a);switch(Uq.includes(a)&&Vq.includes(e)&&!r&&(a=q3("default"+i)),n[a]=o,l&&l.type){case bl.BOOLEAN:n[a]=!0;break;case bl.OVERLOADED_BOOLEAN:o===""&&(n[a]=!0);break}continue}H3.PRESERVE_CUSTOM_ATTRIBUTES&&(n[s]=o)}return(0,H3.setStyleProp)(t.style,n),n}gp.default=Hq;function q3(t){return bl.possibleStandardNames[t]}var rv={},qq=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rv,"__esModule",{value:!0});var Vm=p,Wq=qq(gp),Hl=tv,Gq={cloneElement:Vm.cloneElement,createElement:Vm.createElement,isValidElement:Vm.isValidElement};function W6(t,e){e===void 0&&(e={});for(var n=[],r=typeof e.replace=="function",s=e.transform||Hl.returnFirstArg,o=e.library||Gq,i=o.cloneElement,a=o.createElement,l=o.isValidElement,u=t.length,d=0;d<u;d++){var h=t[d];if(r){var f=e.replace(h,d);if(l(f)){u>1&&(f=i(f,{key:f.key||d})),n.push(s(f,h,d));continue}}if(h.type==="text"){var m=!h.data.trim().length;if(m&&h.parent&&!(0,Hl.canTextBeChildOfNode)(h.parent)||e.trim&&m)continue;n.push(s(h.data,h,d));continue}var _=h,w={};Kq(_)?((0,Hl.setStyleProp)(_.attribs.style,_.attribs),w=_.attribs):_.attribs&&(w=(0,Wq.default)(_.attribs,_.name));var x=void 0;switch(h.type){case"script":case"style":h.children[0]&&(w.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?w.defaultValue=h.children[0].data:h.children&&h.children.length&&(x=W6(h.children,e));break;default:continue}u>1&&(w.key=d),n.push(s(a(h.name,w,x),h,d))}return n.length===1?n[0]:n}rv.default=W6;function Kq(t){return Hl.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&(0,Hl.isCustomComponent)(t.name,t.attribs)}(function(t){var e=Ve&&Ve.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var n=e(W_);t.htmlToDOM=n.default;var r=e(gp);t.attributesToProps=r.default;var s=e(rv);t.domToReact=s.default;var o=K_;Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return o.Text}});var i={lowerCaseAttributeNames:!1};function a(l,u){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,s.default)((0,n.default)(l,(u==null?void 0:u.htmlparser2)||i),u):[]}t.default=a})(T6);const W3=Hh(T6),os=W3.default||W3;function Yq({messages:t,backgroundColor:e,textColor:n,date:r,photoClick:s}){const o=(h,f)=>{s(h,f)},{authUser:i}=pe(),{theme:a,setThemeById:l,elementColors:u,setElementColors:d}=p.useContext(F);return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:He["data-container"],style:{background:e,color:n},children:r}),t.map((h,f)=>c.jsxs("div",{className:He["message-body"],children:[c.jsxs("div",{className:He["user-container"],children:[c.jsx("div",{className:He["user-photo"],children:h.isUser?c.jsx("img",{src:i.avatar,className:He["user-avatar"]}):c.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[c.jsx("stop",{"stop-color":a.gradient_first_color}),c.jsx("stop",{offset:"1","stop-color":a.gradient_second_color})]})})]})}),c.jsx("div",{className:He["user-name"],style:{color:n},children:h.isUser?h.userName:"Genery"})]}),h.photos&&c.jsx("div",{className:He["images-body"],children:c.jsx("div",{className:He[`images-wrapper_${h.photos.length}`],children:h.photos.map((m,_)=>c.jsx(ot.div,{className:He[`image_${_}`],whileTap:{scale:1.5},children:c.jsx("img",{src:m,onClick:()=>o(h.photos,_)})}))})}),c.jsx("div",{className:He["message-text"],style:{color:n},children:os(h.text)})]},f))]})}function Qq({textColor:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=p.useContext(F);return c.jsxs("div",{className:He["message-body"],children:[c.jsxs("div",{className:He["user-container"],children:[c.jsx("div",{className:He["user-photo"],children:c.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),c.jsx("defs",{children:c.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[c.jsx("stop",{"stop-color":e.first_color}),c.jsx("stop",{offset:"1","stop-color":e.element_first_color})]})})]})}),c.jsx("div",{className:He["user-name"],style:{color:t},children:"Genery"})]}),c.jsx("div",{className:He["skeleton-high"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),c.jsx("div",{className:He["skeleton-meduim"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),c.jsx("div",{className:He["skeleton-small"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}})]})}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=["user","model","function","system"];var cr;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(cr||(cr={}));var ur;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ur||(ur={}));var K3;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(K3||(K3={}));var Y3;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Y3||(Y3={}));var Fh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(Fh||(Fh={}));var Q3;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Q3||(Q3={}));var Z3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Z3||(Z3={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X3;(function(t){t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(X3||(X3={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class gi extends en{constructor(e,n){super(e),this.response=n}}class J3 extends en{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class kd extends en{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq="https://generativelanguage.googleapis.com",Xq="v1beta",Jq="0.10.0",eW="genai-js";var Xo;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Xo||(Xo={}));class G6{constructor(e,n,r,s,o){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=o}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Xq;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||Zq}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function tW(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${eW}/${Jq}`),e.join(" ")}async function nW(t){const e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",tW(t.requestOptions)),e.append("x-goog-api-key",t.apiKey);let n=t.requestOptions.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(r){throw new kd(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${r.message}`)}for(const[r,s]of n.entries()){if(r==="x-goog-api-key")throw new kd(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new kd(`Header name ${r} can only be set using the apiClient field`);e.append(r,s)}}return e}async function rW(t,e,n,r,s,o){const i=new G6(t,e,n,r,o);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},oW(o)),{method:"POST",headers:await nW(i),body:s})}}async function cu(t,e,n,r,s,o){return sW(t,e,n,r,s,o,fetch)}async function sW(t,e,n,r,s,o,i=fetch){const a=new G6(t,e,n,r,o);let l;try{const u=await rW(t,e,n,r,s,o);if(l=await i(u.url,u.fetchOptions),!l.ok){let d="",h;try{const f=await l.json();d=f.error.message,f.error.details&&(d+=` ${JSON.stringify(f.error.details)}`,h=f.error.details)}catch{}throw new J3(`Error fetching from ${a.toString()}: [${l.status} ${l.statusText}] ${d}`,l.status,l.statusText,h)}}catch(u){let d=u;throw u instanceof J3||u instanceof kd||(d=new en(`Error fetching from ${a.toString()}: ${u.message}`),d.stack=u.stack),d}return l}function oW(t){const e={};if((t==null?void 0:t.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),t.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Sd(t.candidates[0]))throw new gi(`${vs(t)}`,t);return iW(t)}else if(t.promptFeedback)throw new gi(`Text not available. ${vs(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Sd(t.candidates[0]))throw new gi(`${vs(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),eC(t)[0]}else if(t.promptFeedback)throw new gi(`Function call not available. ${vs(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Sd(t.candidates[0]))throw new gi(`${vs(t)}`,t);return eC(t)}else if(t.promptFeedback)throw new gi(`Function call not available. ${vs(t)}`,t)},t}function iW(t){var e,n,r,s;return!((s=(r=(n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?t.candidates[0].content.parts.map(({text:o})=>o).join(""):""}function eC(t){var e,n,r,s;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const i of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)i.functionCall&&o.push(i.functionCall);if(o.length>0)return o}const aW=[Fh.RECITATION,Fh.SAFETY];function Sd(t){return!!t.finishReason&&aW.includes(t.finishReason)}function vs(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];Sd(o)&&(s+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(s+=`: ${o.finishMessage}`))}return s}function Pc(t){return this instanceof Pc?(this.v=t,this):new Pc(t)}function lW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(f){r[f]&&(s[f]=function(m){return new Promise(function(_,w){o.push([f,m,_,w])>1||a(f,m)})})}function a(f,m){try{l(r[f](m))}catch(_){h(o[0][3],_)}}function l(f){f.value instanceof Pc?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}function u(f){a("next",f)}function d(f){a("throw",f)}function h(f,m){f(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function cW(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=hW(e),[r,s]=n.tee();return{stream:dW(r),response:uW(s)}}async function uW(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return sv(fW(e));e.push(s)}}function dW(t){return lW(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield Pc(n.read());if(s)break;yield yield Pc(sv(r))}})}function hW(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return o();function o(){return e.read().then(({value:i,done:a})=>{if(a){if(s.trim()){r.error(new en("Failed to parse stream"));return}r.close();return}s+=i;let l=s.match(tC),u;for(;l;){try{u=JSON.parse(l[1])}catch{r.error(new en(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(u),s=s.substring(l[0].length),l=s.match(tC)}return o()})}}})}function fW(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const s of r.candidates){const o=s.index;if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:s.index}),n.candidates[o].citationMetadata=s.citationMetadata,n.candidates[o].finishReason=s.finishReason,n.candidates[o].finishMessage=s.finishMessage,n.candidates[o].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[o].content||(n.candidates[o].content={role:s.content.role||"user",parts:[]});const i={};for(const a of s.content.parts)a.text&&(i.text=a.text),a.functionCall&&(i.functionCall=a.functionCall),Object.keys(i).length===0&&(i.text=""),n.candidates[o].content.parts.push(i)}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e,n,r){const s=await cu(e,Xo.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return cW(s)}async function Y6(t,e,n,r){const o=await(await cu(e,Xo.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:sv(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Bh(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return pW(e)}function pW(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),s=!0):(e.parts.push(o),r=!0);if(r&&s)throw new en("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new en("No content is provided for sending chat message.");return r?e:n}function zm(t){let e;return t.contents?e=t:e={contents:[Bh(t)]},t.systemInstruction&&(e.systemInstruction=Q6(t.systemInstruction)),e}function mW(t){return typeof t=="string"||Array.isArray(t)?{content:Bh(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=["text","inlineData","functionCall","functionResponse"],gW={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},rC={user:["model"],function:["model"],model:["user","function"],system:[]};function yW(t){let e;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new en(`First content should be with role 'user', got ${r}`);if(!G3.includes(r))throw new en(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(G3)}`);if(!Array.isArray(s))throw new en("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new en("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0};for(const a of s)for(const l of nC)l in a&&(o[l]+=1);const i=gW[r];for(const a of nC)if(!i.includes(a)&&o[a]>0)throw new en(`Content with role '${r}' can't contain '${a}' part`);if(e&&!rC[r].includes(e.role))throw new en(`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(rC)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="SILENT_ERROR";class _W{constructor(e,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(yW(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r,s,o,i;await this._sendPromise;const a=Bh(e),l={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,contents:[...this._history,a]};let u;return this._sendPromise=this._sendPromise.then(()=>Y6(this._apiKey,this.model,l,this.requestOptions)).then(d=>{var h;if(d.response.candidates&&d.response.candidates.length>0){this._history.push(a);const f=Object.assign({parts:[],role:"model"},(h=d.response.candidates)===null||h===void 0?void 0:h[0].content);this._history.push(f)}else{const f=vs(d.response);f&&console.warn(`sendMessage() was unsuccessful. ${f}. Inspect response object for details.`)}u=d}),await this._sendPromise,u}async sendMessageStream(e){var n,r,s,o,i;await this._sendPromise;const a=Bh(e),l={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,contents:[...this._history,a]},u=K6(this._apiKey,this.model,l,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>u).catch(d=>{throw new Error(sC)}).then(d=>d.response).then(d=>{if(d.candidates&&d.candidates.length>0){this._history.push(a);const h=Object.assign({},d.candidates[0].content);h.role||(h.role="model"),this._history.push(h)}else{const h=vs(d);h&&console.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(d=>{d.message!==sC&&console.error(d)}),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vW(t,e,n,r){return(await cu(e,Xo.COUNT_TOKENS,t,!1,JSON.stringify(Object.assign(Object.assign({},n),{model:e})),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wW(t,e,n,r){return(await cu(e,Xo.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function xW(t,e,n,r){const s=n.requests.map(i=>Object.assign(Object.assign({},i),{model:e}));return(await cu(e,Xo.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e,n,r){this.apiKey=e,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Q6(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=zm(e);return Y6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}async generateContentStream(e){const n=zm(e);return K6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}startChat(e){return new _W(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},e),this.requestOptions)}async countTokens(e){const n=zm(e);return vW(this.apiKey,this.model,n,this.requestOptions)}async embedContent(e){const n=mW(e);return wW(this.apiKey,this.model,n,this.requestOptions)}async batchEmbedContents(e){return xW(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new en("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new CW(this.apiKey,e,n)}}async function kW(t){return{inlineData:{data:await new Promise(n=>{const r=new FileReader;r.onloadend=()=>n(r.result.split(",")[1]),r.readAsDataURL(t)}),mimeType:t.type}}}async function SW(t,e){const n=localStorage.getItem("censor")==="true",r=n?[{category:cr.HARM_CATEGORY_HARASSMENT,threshold:ur.BLOCK_LOW_AND_ABOVE},{category:cr.HARM_CATEGORY_HATE_SPEECH,threshold:ur.BLOCK_LOW_AND_ABOVE},{category:cr.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:ur.BLOCK_LOW_AND_ABOVE},{category:cr.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:ur.BLOCK_LOW_AND_ABOVE}]:[{category:cr.HARM_CATEGORY_HARASSMENT,threshold:ur.BLOCK_NONE},{category:cr.HARM_CATEGORY_HATE_SPEECH,threshold:ur.BLOCK_NONE},{category:cr.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:ur.BLOCK_NONE},{category:cr.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:ur.BLOCK_NONE}],s="tunedModels/untitled-tuned-model-br14g0ftksw6",o="AIzaSyCkA6qe0gFiRJctb3l9iGnI7YTyyN3kTkg",a=new bW(o).getGenerativeModel({model:s}),l={temperature:.5,topK:1,topP:1,maxOutputTokens:2048},u=n?[{text:`input: ${t}`}]:[{text:"input: Заебал"},{text:"output: Эу, братишка, проще общайся"},{text:`input: ${t}`}];try{const d=await Promise.all(e.map(kW));let h;e.length>0?h=await a.generateContent([t,...d]):h=await a.generateContent({contents:[{role:"user",parts:u}],generationConfig:l,safetySettings:r});const f=await h.response.text();return console.log(f),[f,!1]}catch(d){return console.error("Ошибка при запросе к Google Generative AI:",d),["Ошибка при генерации ответа",!1]}}const wn={"input-container":"_input-container_hubm7_1","button-circle":"_button-circle_hubm7_28","input-message-body":"_input-message-body_hubm7_45","image-previewer":"_image-previewer_hubm7_56","image-wrapper":"_image-wrapper_hubm7_66","remove-image":"_remove-image_hubm7_81","image-no-select":"_image-no-select_hubm7_102","input-message-wrapper":"_input-message-wrapper_hubm7_111","emoji-button":"_emoji-button_hubm7_120","message-input":"_message-input_hubm7_138","send-button":"_send-button_hubm7_171","emoji-img":"_emoji-img_hubm7_192"},EW="_show_esoz4_22",TW="_categories_esoz4_27",IW="_emoji_esoz4_2",Kn={"emoji-panel":"_emoji-panel_esoz4_2",show:EW,categories:TW,"emoji-category":"_emoji-category_esoz4_50","emojies-container":"_emojies-container_esoz4_69","category-name":"_category-name_esoz4_78","emojies-body":"_emojies-body_esoz4_86","emojies-content":"_emojies-content_esoz4_95",emoji:IW,"emoji-img":"_emoji-img_esoz4_116","emoji-img-text":"_emoji-img-text_esoz4_124"},oC=[{name:"smiles",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M7.99985 15C8.84985 15.63 9.88485 16 10.9998 16C12.1148 16 13.1498 15.63 13.9998 15" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M14.9998 9.50003C14.9998 10.328 14.5518 11 13.9998 11C13.4478 11 12.9998 10.328 12.9998 9.50003C12.9998 8.67203 13.4478 8.00003 13.9998 8.00003C14.5518 8.00003 14.9998 8.67203 14.9998 9.50003Z" fill="{theme.text_first_color}"/>
                <path d="M7.99994 11C8.55222 11 8.99994 10.3285 8.99994 9.50003C8.99994 8.6716 8.55222 8.00003 7.99994 8.00003C7.44765 8.00003 6.99994 8.6716 6.99994 9.50003C6.99994 10.3285 7.44765 11 7.99994 11Z" fill="{theme.text_first_color}"/>
            </svg>
         
        `,isImgEmoji:!1,emojis:["😀","😃","😄","😁","😆","😅","😂","🤣","😭","😉","😗","😙","😚","😘","🥰","😍","🤩","🥳","🙃","🙂","🥲","🥹","😋","😛","😝","😜","🤪","😇","😊","😊","😏","😏","😌","😔","😑","😐","😶","🫡","🤔","🤫","🫢","🤭","🥱","🤗","🫣","😱","🤨","🧐","😒","🙄","😮‍💨","😤","😠","😡","🤬","🥺","😟","😟","😢","☹️","🙁","🫤","😕","🤐","😰","😨","😧","😦","😮","😯","😲","😳","🤯","😬","😓","😞","😖","😣","😩","😫","😵","😵‍💫","🫥","😴","😪","🤤","🌛","🌜","🌚","🌝","🌞","🫠","😶‍🌫️","🥴","🥵","🥶","🤢","🤮","🤧","🤒","🤕","😷","🤠","🤠","😎","🤓","🥸","🤥","🤡","👻","💩","👽","🤖","🎃","😈","👿","👹","👺","🔥","💫","⭐","🌟","✨","💥","💯","💢","💨","💦","🫧","💤","🕳️","🎉","🎊","🙈","🙉","🙊","😺","😸","😹","😻","😼","😽","🙀","😿","😾","👶","🧒","👦","👧","🧑","👱‍♂️","👱‍♀️","👨","👩","🧔","👨‍🦰","👩‍🦰","👨‍🦱","👩‍🦱","👨‍🦳","👩‍🦳","👨‍🦲","👩‍🦲","👱","👴","👵","🧓","👲","👳‍♂️","👳‍♀️","🧕","👮‍♂️","👮‍♀️","👷‍♂️","👷‍♀️","💂‍♂️","💂‍♀️","🕵️‍♂️","🕵️‍♀️","👩‍⚕️","👨‍⚕️","👩‍🌾","👨‍🌾","👩‍🍳","👨‍🍳","👩‍🎓","👨‍🎓","👩‍🏫","👨‍🏫","👩‍⚖️","👨‍⚖️","👩‍🌾","👨‍🌾","👩‍⚕️","👨‍⚕️","👩‍💻","👨‍💻","👩‍💼","👨‍💼","👩‍🔧","👨‍🔧","👩‍🔬","👨‍🔬","👩‍🎨","👨‍🎨","👩‍🚒","👨‍🚒","👩‍✈️","👨‍✈️","👩‍🚀","👨‍🚀","👩‍⚖️","👨‍⚖️","👰","🤵","👸","🤴","🤶","🎅","🧙‍♀️","🧙‍♂️","🧝‍♀️","🧝‍♂️","🧛‍♀️","🧛‍♂️","🧟‍♀️","🧟‍♂️","🧞‍♀️","🧞‍♂️","🧜‍♀️","🧜‍♂️","🧚‍♀️","🧚‍♂️","👼","🤰","🤱","👩‍🍼","👨‍🍼","🙇‍♀️","🙇‍♂️","💁‍♀️","💁‍♂️","🙅‍♀️","🙅‍♂️","🙆‍♀️","🙆‍♂️","🙋‍♀️","🙋‍♂️","🧏‍♀️","🧏‍♂️","🙎‍♀️","🙎‍♂️","🙍‍♀️","🙍‍♂️","💇‍♀️","💇‍♂️","💆‍♀️","💆‍♂️","🧖‍♀️","🧖‍♂️","🧘‍♀️","🧘‍♂️","🛀","🛌","🕴️","💃","🕺","👯‍♀️","👯‍♂️","🕴️","🚶‍♀️","🚶‍♂️","🏃‍♀️","🏃‍♂️","👭","👫","👬","💑","👩‍❤️‍👩","👨‍❤️‍👨","👩‍❤️‍👨","🧑‍🤝‍🧑","👭","👫","👬","💏","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨"]},{name:"animals",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="30" height="23" viewBox="0 0 30 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24.94 8.924C26.4954 10.7636 26.172 13.0148 26.172 15C26.172 20.4684 18.7982 22 15 22C11.2018 22 3.82798 20.4684 3.82798 15C3.82798 13.0148 3.50458 10.7636 5.05998 8.924M24.94 8.924C24.667 8.602 24.338 8.294 23.9376 8M24.94 8.924C25.92 9.4882 26.1706 7.377 26.172 6.6868V4.0632C26.172 1.7882 24.6082 1 23.267 1C21.9272 1 19.2448 3.1882 18.3516 3.1882C17.2792 3.1882 17.072 2.9684 15 2.9684C12.928 2.9684 12.7208 3.1882 11.6484 3.1882C10.7552 3.1882 8.07278 1 6.73298 1C5.39178 1 3.82798 1.7882 3.82798 4.0632V6.6882C3.83078 7.377 4.07998 9.4882 5.05998 8.924M5.05998 8.924C5.33298 8.602 5.66198 8.294 6.06238 8" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M16.1564 16.4C16.1564 16.6422 15.651 16.8382 15.0266 16.8382C14.4036 16.8382 13.8982 16.6422 13.8982 16.4C13.8982 16.1578 14.4036 15.9632 15.0266 15.9632C15.651 15.9632 16.1564 16.1592 16.1564 16.4ZM19.9 13.0316C19.9 13.635 19.5962 14.125 19.2224 14.125C18.8486 14.125 18.5448 13.635 18.5448 13.0316C18.5448 12.4268 18.8486 11.9382 19.2224 11.9382C19.5962 11.9382 19.9 12.4296 19.9 13.0316ZM11.5 13.0316C11.5 13.635 11.1962 14.125 10.8224 14.125C10.4486 14.125 10.1448 13.635 10.1448 13.0316C10.1448 12.4268 10.4486 11.9382 10.8224 11.9382C11.1962 11.9382 11.5 12.4296 11.5 13.0316Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M29 15.6566C28.3238 15.2184 25.388 14.125 24.2582 14.125M26.7418 19.1566C26.0642 18.7184 24.4836 17.625 23.3538 17.625M1 15.6566C1.6776 15.2184 4.612 14.125 5.7418 14.125M3.2582 19.1566C3.9358 18.7184 5.5164 17.625 6.6462 17.625" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🙈","🙉","🙊","🐵","🦁","🐯","🐱","🐶","🐺","🐻","🐻‍❄️","🐨","🐼","🐹","🐭","🐰","🦊","🦝","🐮","🐷","🐽","🐗","🦓","🦄","🐴","🐸","🐲","🦎","🐉","🦖","🦕","🐢","🐊","🐍","🐁","🐀","🐇","🐈","🐈‍⬛","🐩","🐕","🦮","🐕‍🦺","🐕‍🦺","🐆","🐎","🐖","🐄","🐂","🐃","🦬","🐏","🐑","🐐","🦌","🦙","🦥","🦘","🐘","🦣","🦏","🦛","🦒","🐒","🦍","🦧","🐪","🐫","🐿️","🦫","🦨","🦡","🦔","🦦","🦇","🪶","🪶","🦉","🐓","🐔","🐣","🐤","🐥","🐦","🦜","🕊️","🕊️","🦢","🦩","🦚","🦃","🦆","🐧","🦭","🦈","🦈","🐬","🐋","🐳","🐟","🐠","🐡","🦐","🦞","🦀","🦑","🐙","🦪","🪸","🦂","🕷️","🕸️","🐚","🐌","🐜","🦗","🪲","🦟","🪳","🪰","🐝","🐞","🦋","🐛","🪱","🦠","🐾"]},{name:"food",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.4286 7.28573C8.86121 7.28573 1 4.1632 1 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 12C1 19.8368 5.71835 23 7.28571 23C8.85308 23 8.86121 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28573C11.9959 7.28573 19.8571 4.1632 19.8571 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M19.8653 11.9879C19.8653 19.8247 15.1388 23 13.5714 23C12.0041 23 11.9959 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4285 7.28571C10.4285 2.58362 7.28568 1 7.28568 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C10.4286 1.01626 13.5755 2.56736 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C15.1306 5.71835 16.7102 4.13473 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>

        `,isImgEmoji:!1,emojis:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🫒","🥑","🍆","🥔","🥕","🌽","🌶️","🫑","🥒","🥬","🥦","🧄","🧅","🍄","🥜","🫘","🌰","🍞","🥐","🥖","🫓","🥨","🥯","🥞","🧇","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🫔","🥙","🧆","🥚","🍳","🥘","🍲","🫕","🥣","🥗","🍿","🧈","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🦪","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🫖","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🫗","🥤","🧋","🧃","🧉","🧊","🥢","🍽️","🍴","🥄"]},{name:"exercise",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 11C21 16.523 16.523 21 11 21C5.477 21 1 16.523 1 11C1 5.477 5.477 1 11 1C16.523 1 21 5.477 21 11Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 4C7.99 7.52 8.01 14.462 4 18M18 18C13.99 14.462 14.01 7.52 18 4" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🥅","🏒","🏑","🏏","⛳","🪁","🥌","🛷","🥋","⛸️","🥊","🥋","🥅","🥋","🥌","🛷","⛷️","🏂","🏋️‍♀️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸‍♂️","⛹️‍♀️","⛹️‍♂️","🤺","🤾‍♀️","🤾‍♂️","🏌️‍♀️","🏌️‍♂️","🏇","🧘‍♀️","🧘‍♂️","🏄‍♀️","🏄‍♂️","🏊‍♀️","🏊‍♂️","🤽‍♀️","🤽‍♂️","🚣‍♀️","🚣‍♂️","🚴‍♀️","🚴‍♂️","🚵‍♀️","🚵‍♂️","🎽","🏅","🎖️","🥇","🥈","🥉","🏆","🏵️","🎗️","🎫","🎟️","🎭","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🎷","🎺","🎸","🎻","🎲","🎯","🎳","🎮","🎰"]},{name:"transport",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22.3341 8.30094H23.4404C23.7495 8.30094 24 8.55146 24 8.8605V8.8605C24 9.16954 23.7495 9.42006 23.4404 9.42006H23.167C22.707 9.42006 22.3341 9.79299 22.3341 10.253V16C22.3341 17.1046 21.4387 18 20.3341 18H18.601C17.9535 18 17.4286 17.4751 17.4286 16.8276V16.8276C17.4286 16.1801 16.9037 15.6552 16.2562 15.6552H12.5H8.74385C8.09634 15.6552 7.57143 16.1801 7.57143 16.8276V16.8276C7.57143 17.4751 7.04652 18 6.39902 18H4.66592C3.56136 18 2.66592 17.1046 2.66592 16V10.253C2.66592 9.79299 2.293 9.42006 1.83297 9.42006H1.55957C1.25054 9.42006 1.00001 9.16954 1.00001 8.8605V8.8605C1.00001 8.55146 1.25054 8.30094 1.55957 8.30094H2.66592M22.3341 8.30094L19.2752 2.11364C18.938 1.43164 18.2431 1 17.4823 1H12.5H7.51769C6.7569 1 6.062 1.43164 5.72483 2.11364L2.66592 8.30094M22.3341 8.30094H2.66592" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <circle cx="6.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
                <circle cx="18.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🚚","🚛","🚜","🛴","🚲","🛵","🏍️","🛺","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","⚓","🚧","⛽","🚏","🚦","🚥","🛑","🚧","⚠️","🚸","🚨","🛑","⚠️","🚏","🛣️","🛤️","🛢️","💈","🛎️","🧭","🧱","🛠️","🪛","🧰","🔧","🔨","⚒️","🪓","🔩","⚙️","🗜️","🧲","🪚","🔪","🗡️","⚔️","🛡️","🔫","🪃","🪚","🪓","🧲","🛠️","🧱","⚙️","🔩","🔨","🛢️","🧭","🛤️","🛣️","🛑","🛎️","🛠️","🧰","🧱","🧲","🔧","🔨","⚒️","🪓","🔩","⚙️","🗜️","🪚","🔪","🗡️","⚔️","🛡️","🔫","🪃"]},{name:"objects",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.501 18.5012C6.501 17.7872 6.501 17.4312 6.462 17.1942C6.34 16.4312 6.319 16.3822 5.832 15.7822C5.68 15.5952 5.12 15.0942 4 14.0902C2.86788 13.0776 2.06988 11.7452 1.71159 10.2692C1.3533 8.79316 1.45161 7.24315 1.9935 5.82422C2.53539 4.4053 3.49533 3.18434 4.7463 2.3229C5.99727 1.46147 7.48031 1.00015 8.99919 1C10.5181 0.999848 12.0012 1.46086 13.2523 2.32205C14.5035 3.18324 15.4637 4.404 16.0058 5.82282C16.548 7.24164 16.6466 8.79164 16.2886 10.2677C15.9306 11.7438 15.1329 13.0764 14.001 14.0892C12.88 15.0932 12.32 15.5952 12.169 15.7812C11.682 16.3812 11.661 16.4302 11.538 17.1932C11.5 17.4302 11.5 17.7872 11.5 18.5002H6.5C6.5 19.4352 6.5 19.9022 6.701 20.2502C6.83265 20.4782 7.02199 20.6676 7.25 20.7992C7.598 21.0002 8.065 21.0002 9 21.0002C9.935 21.0002 10.402 21.0002 10.751 20.8002C10.979 20.6686 11.1684 20.4792 11.3 20.2512C11.501 19.9032 11.501 19.4362 11.501 18.5012" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M9.00001 16.0002V14.0002M9.00001 14.0002C9.35106 14.0002 9.69593 13.9077 9.99996 13.7322C10.304 13.5567 10.5565 13.3042 10.732 13.0002M9.00001 14.0002C8.64895 14.0002 8.30408 13.9077 8.00005 13.7322C7.69602 13.5567 7.44355 13.3042 7.26801 13.0002" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","💰","💳","💎","⚖️","🪜","🧰","🧲","🪛","🔧","🔨","⚒️","🛠️","⛏️","🪚","🔩","⚙️","🗜️","⚗️","🧪","🧫","🧬","🔬","🔭","📡","💉","🩸","💊","🩹","🩺","🚪","🛏️","🛋️","🪑","🚽","🚿","🛁","🪠","🪣","🧹","🧺","🧻","🪟","🪑","🛌","🛋️","🚪","🛏️","🛋️","🪑","🚽","🚿","🛁","🪠","🪣","🧹","🧺","🧻","🪟","🛒","🎁","🎈","🎏","🎀","🎊","🎉","🎎","🏮","🎐","🧧","📩","📨","📧","💌","📮","📪","📫","📬","📭","📦","📤","📥","📜","📃","📄","📑","📊","📈","📉","📁","📂","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","📅","📆","🗳️","🔒","🔓","🔏","🔐","🔑","🗝️","🪙","🧾","💼","📁","📂","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","📅","📆","🗳️","🔒","🔓","🔏","🔐","🔑","🗝️","🪙","🧾","💼","❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🛗","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","⚧️","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🔟","🔢","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","🔀","🔁","🔂","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","🔄","↪️","↩️","⤴️","⤵️","🔃","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","⬛","⬜","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","➕","➖","➗","✖️","♾️","‼️","⁉️","❓","❔","❗","❕","🔀","🔁","🔂","🕛","🕧","🕐","🕜","🕑","🕝","🕒","🕞","🕓","🕟","🕔","🕠","🕕","🕡","🕖","🕢","🕗","🕣","🕘","🕤","🕙","🕥","🕚","🕦"]},{name:"flags",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 12.9675C2.06816 11.9163 3.50427 11.3274 5 11.3274C6.49573 11.3274 7.93184 11.9163 9 12.9675C10.0682 14.0188 11.5043 14.6076 13 14.6076C14.4957 14.6076 15.9318 14.0188 17 12.9675V2.6401C15.9318 3.69136 14.4957 4.28019 13 4.28019C11.5043 4.28019 10.0682 3.69136 9 2.6401C7.93184 1.58884 6.49573 1 5 1C3.50427 1 2.06816 1.58884 1 2.6401V12.9675ZM1 12.9675V21" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🏁","🚩","🎌","🏴","🏳️","🏳️‍🌈","🏳️‍⚧️","🏴‍☠️","🇦🇫","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇨","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇦","🇧🇼","🇧🇷","🇮🇴","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇨🇻","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇰🇾","🇨🇫","🇹🇩","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇨🇮","🇯🇲","🇯🇵","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇰","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇲🇵","🇰🇵","🇲🇰","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇬🇸","🇸🇧","🇸🇴","🇿🇦","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇲🇫","🇵🇲","🇻🇨","🇸🇩","🇸🇷","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🇺🇸","🇻🇮","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]},{name:"genery",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/genery/icon.png",isImgEmoji:!0,emojis:["emojies/genery/1.png","emojies/genery/2.png","emojies/genery/3.png","emojies/genery/4.png","emojies/genery/5.png","emojies/genery/6.png","emojies/genery/7.png","emojies/genery/8.png","emojies/genery/9.png","emojies/genery/10.png","emojies/genery/11.png","emojies/genery/12.png","emojies/genery/13.png","emojies/genery/14.png","emojies/genery/15.png","emojies/genery/16.png","emojies/genery/17.png","emojies/genery/18.png","emojies/genery/19.png","emojies/genery/20.png","emojies/genery/21.png","emojies/genery/22.png","emojies/genery/23.png","emojies/genery/24.png"]},{name:"kyrgyzstan",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/kyrgyzstan/icon.png",isImgEmoji:!0,emojis:["emojies/kyrgyzstan/1.png","emojies/kyrgyzstan/2.png","emojies/kyrgyzstan/3.png","emojies/kyrgyzstan/4.png","emojies/kyrgyzstan/5.png","emojies/kyrgyzstan/6.png","emojies/kyrgyzstan/7.png","emojies/kyrgyzstan/8.png","emojies/kyrgyzstan/9.png","emojies/kyrgyzstan/10.png","emojies/kyrgyzstan/11.png","emojies/kyrgyzstan/12.png"]},{name:"winter_2024",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/winter_2024/icon.png",isImgEmoji:!0,emojis:["emojies/winter_2024/1.png","emojies/winter_2024/2.png","emojies/winter_2024/3.png","emojies/winter_2024/4.png","emojies/winter_2024/5.png","emojies/winter_2024/6.png","emojies/winter_2024/7.png","emojies/winter_2024/8.png","emojies/winter_2024/9.png","emojies/winter_2024/10.png","emojies/winter_2024/11.png","emojies/winter_2024/12.png"]}];function NW({isShow:t,isImages:e,isTop:n,marginTop:r,onEmojiSelect:s}){const{theme:o,setThemeById:i,elementColors:a,setElementColors:l}=p.useContext(F),{authUser:u}=pe(),[d,h]=p.useState(oC[0].name),[f,m]=p.useState(["smiles","animals","food","exercise","transport","objects","flags"]),_=p.useRef({}),w=p.useRef(),x=p.useRef(),[v,y]=p.useState(),[g,C]=p.useState([]);p.useEffect(()=>{y(r)},[r]);const b=(S,E)=>{if(h(S),_.current[S]&&x.current){const I=_.current[S].offsetTop-x.current.offsetTop;x.current.scrollTo({top:I,behavior:"smooth"})}},k=(S,E,I)=>{s(S,E,I)};p.useEffect(()=>{(async()=>{if(u&&u._id){const E=Z(q,"users",u._id,"info","preferences"),I=await le(E);if(I.exists()){const j=I.data();m(N=>[...N,...j.boughtEmojies])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const T=f?oC.filter(S=>f.includes(S.name)):[];return p.useEffect(()=>{const S=I=>{w.current&&(w.current.scrollLeft+=I.deltaY/5)},E=w.current;return E&&E.addEventListener("wheel",S),()=>{E&&E.removeEventListener("wheel",S)}},[]),p.useEffect(()=>{const S={root:x.current,rootMargin:"0px",threshold:Array.from({length:101},(j,N)=>N/100)},E=new IntersectionObserver(j=>{j.forEach(N=>{N.isIntersecting&&h(N.target.getAttribute("data-category"))})},S),I=Object.values(_.current);return I.forEach(j=>{E.observe(j)}),()=>{I.forEach(j=>{E.unobserve(j)})}},[]),c.jsxs("div",{className:`${Kn["emoji-panel"]} ${t?Kn.show:""}`,style:{background:o.element_first_color,bottom:n?"auto":"50px",top:n?`${r}`:"auto",transformOrigin:n?"top left":"bottom left",boxShadow:`0 5px 10px 5px ${o.shadow_color}`},children:[c.jsx("style",{children:`
                    div::-webkit-scrollbar {
                      width: 6px; /* Ширина ползунка */
                    }

                    /* Стилизация ползунка скроллбара */
                    div::-webkit-scrollbar-thumb {
                      background-color: ${o.text_second_color}; /* Цвет ползунка */
                      border-radius: 5px; /* Закругление углов ползунка */
                      cursor: pointer;
                    }

                    /* Стилизация фона скроллбара */
                    div::-webkit-scrollbar-track {
                      border-radius: 0 0 50px 0;
                      background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                    }
                `}),c.jsx("div",{className:Kn.categories,style:{},ref:w,children:T.map(S=>{const E=S.icon.replace(/{theme.text_first_color}/g,o.text_first_color);return c.jsx("button",{className:Kn["emoji-category"],onClick:()=>b(S.name,S.isCustom),onMouseEnter:I=>{I.currentTarget.style.background=o.element_second_color},onMouseLeave:I=>{I.currentTarget.style.background=d===S.name?o.element_second_color:"none"},style:{background:d===S.name?o.element_second_color:"none","--font":S.fontFamily},children:S.emojiIcon?S.icon:S.emojiIconImg?c.jsx("img",{src:S.icon,className:Kn["emoji-img"]}):os(E)},S.name)})}),c.jsx("div",{className:Kn["emojies-container"],ref:x,children:T.map(S=>c.jsxs("div",{className:Kn["emojies-body"],"data-category":S.name,ref:E=>_.current[S.name]=E,children:[c.jsx("h2",{className:Kn["category-name"],style:{color:o.text_first_color},children:S.name}),c.jsx("div",{className:Kn["emojies-content"],children:S.emojis.map((E,I)=>S.isImgEmoji?c.jsx("img",{src:E,className:Kn["emoji-img-text"],onClick:()=>k(E,S.isImgEmoji,S.fontFamily),onMouseEnter:j=>{j.currentTarget.style.background=o.element_second_color},onMouseLeave:j=>{j.currentTarget.style.background="none"}},I):c.jsx("span",{className:Kn.emoji,style:{fontFamily:S.fontFamily},onClick:()=>k(E,S.isImgEmoji,S.fontFamily),onMouseEnter:j=>{j.currentTarget.style.background=o.element_second_color},onMouseLeave:j=>{j.currentTarget.style.background="none"},children:E},I))})]},S.name))})]})}const iC={"notif-area":"_notif-area_1bj00_1","notif-body":"_notif-body_1bj00_14"};function Pt({text:t,isShow:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),o={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,top:"70%"},hidden:{opacity:1,top:"100%"}};return c.jsx(ot.div,{className:iC["notif-area"],animate:e?"open":"closed",variants:o,transition:{duration:.3},children:c.jsx(ot.div,{className:iC["notif-body"],variants:o,initial:"hidden",animate:e?"show":"hidden",transition:{duration:.4},style:{background:n.element_first_color,color:n.text_first_color},children:t})})}function xp({isPanelTop:t,placeholder:e,Addtext:n,onClearText:r,onSend:s,addFiles:o}){const{theme:i,setElementColors:a}=p.useContext(F),l=p.useRef(null);p.useRef(null);const[u,d]=p.useState(""),[h,f]=p.useState(!1),[m,_]=p.useState([]),w=p.useRef(),x=p.useRef(null),[v,y]=p.useState(50),[g,C]=p.useState({isShow:!1,text:""});p.useEffect(()=>{n&&d(n+"​")},[n]),p.useEffect(()=>{if(g.isShow){const j=setTimeout(()=>{C({isShow:!1})},1e3);return()=>clearTimeout(j)}},[g]),p.useEffect(()=>{if(u===""){r&&r(),l.current.style.height="auto",x.current.style.height="10px",y(50);return}const j=parseInt(x.current.style.height.replace("px",""),10);j>40&&t&&(j>90?y(120):y(`${j+20}px`))},[u]);const b=()=>{u===""&&m.length===0||(s(u,m),d(""),_([]),f(!1),x.current.style.lineHeight="30px",x.current.style.height="10px",l.current.style.height="auto")},k=j=>{j.key==="Enter"&&(j.preventDefault(),b())},T=(j,N,O)=>{let A;if(N){A=`<img class="${wn["emoji-img"]}" src="${j}" style="width: 22px; height: 22px"/>`,d(u+A+"​");return}const L=`<span class="${wn.emoji}" style="font-family: ${O}">${j}</span>`;d(u+L+"​")},S=j=>{let N=j.target.innerHTML;d(N)};p.useEffect(()=>{if(m.length>0){y(160);return}y(50)},[m]);const E=j=>{y(L=>L+100);const N=j.target.files;if(N.length>5){C({isShow:!0,text:"Максимально возможное число фотографий - 5"});return}for(let L=0;L<N.length;L++){const D=N[L];if(!D.type.startsWith("image/")){C({isShow:!0,text:`Файл ${D.name} не является изображением. Выберите только изображения.`});return}}if(N.length>5)return;Array.from(j.target.files).forEach(L=>{console.log(L),_(D=>[...D,L])}),w.current.value=""},I=j=>{_(N=>N.filter((O,A)=>A!==j))};return p.useEffect(()=>{const j=document.createRange();j.selectNodeContents(x.current),j.collapse(!1);const N=window.getSelection();N.removeAllRanges(),N.addRange(j)},[u]),p.useEffect(()=>{const j=O=>{x.current&&(x.current.scrollTop+=O.deltaY)},N=x.current;return N&&N.addEventListener("wheel",j),()=>{N&&N.removeEventListener("wheel",j)}},[]),c.jsx(c.Fragment,{children:c.jsxs("section",{className:wn["input-container"],children:[c.jsx(Pt,{isShow:g.isShow,text:g.text}),c.jsx(NW,{isShow:h,isTop:t,marginTop:`${v}px`,isImages:m.length>0&&!0,onEmojiSelect:T}),o&&c.jsxs("button",{className:wn["button-circle"],style:{background:i.element_first_color},onClick:()=>document.getElementById("file-input").click(),children:[c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"})}),c.jsx("input",{type:"file",id:"file-input",multiple:!0,ref:w,style:{display:"none"},onChange:E})]}),c.jsxs("div",{className:wn["input-message-body"],style:{background:i.element_first_color},children:[m.length>0&&c.jsx("div",{className:wn["image-previewer"],children:m.map((j,N)=>c.jsxs("div",{className:wn["image-wrapper"],children:[c.jsx("button",{className:wn["remove-image"],onClick:()=>I(N),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})}),c.jsx("div",{className:wn["image-no-select"]}),j&&c.jsx("img",{src:URL.createObjectURL(j),alt:"Preview"})]},N))}),c.jsxs("div",{className:wn["input-message-wrapper"],ref:l,style:{alignItems:t?"flex-end":"flex-start"},children:[c.jsx("button",{className:wn["emoji-button"],onClick:()=>f(!h),children:c.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",stroke:i.text_first_color,"stroke-width":"2"}),c.jsx("path",{d:"M8.25049 15.5C9.13085 16.1525 10.2028 16.5357 11.3576 16.5357C12.5125 16.5357 13.5844 16.1525 14.4648 15.5",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"}),c.jsx("path",{d:"M15.5006 9.80356C15.5006 10.6611 15.0366 11.3571 14.4649 11.3571C13.8932 11.3571 13.4292 10.6611 13.4292 9.80356C13.4292 8.94599 13.8932 8.24999 14.4649 8.24999C15.0366 8.24999 15.5006 8.94599 15.5006 9.80356Z",fill:i.text_first_color}),c.jsx("path",{d:"M8.25007 11.3571C8.82208 11.3571 9.28578 10.6616 9.28578 9.80356C9.28578 8.94555 8.82208 8.24999 8.25007 8.24999C7.67806 8.24999 7.21436 8.94555 7.21436 9.80356C7.21436 10.6616 7.67806 11.3571 8.25007 11.3571Z",fill:i.text_first_color})]})}),c.jsx("div",{ref:x,className:wn["message-input"],contentEditable:!0,onInput:S,onKeyPress:k,"data-placeholder":e,dangerouslySetInnerHTML:{__html:u},suppressContentEditableWarning:!0,style:{color:i.text_first_color,caretColor:i.first_color,"--placeholder-color":i.text_third_color}}),c.jsx("button",{className:wn["send-button"],style:{background:i.first_color},onClick:b,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 11.2071C1.81658 11.5976 1.18342 11.5976 0.792893 11.2071C0.402369 10.8166 0.402369 10.1834 0.792893 9.79289L2.20711 11.2071ZM10.5 0.5C11.0523 0.5 11.5 0.947715 11.5 1.5L11.5 10.5C11.5 11.0523 11.0523 11.5 10.5 11.5C9.94772 11.5 9.5 11.0523 9.5 10.5L9.5 2.5L1.5 2.5C0.947715 2.5 0.5 2.05228 0.5 1.5C0.5 0.947715 0.947715 0.5 1.5 0.5L10.5 0.5ZM0.792893 9.79289L9.79289 0.792893L11.2071 2.20711L2.20711 11.2071L0.792893 9.79289Z",fill:i.text_first_color})})})]})]})]})})}const jW="_animated_1wmka_14",AW="_show_1wmka_32",PW="_close_1wmka_74",RW="_download_1wmka_82",ln={"viewer-area":"_viewer-area_1wmka_1",animated:jW,"image-view":"_image-view_1wmka_18","viewer-actions":"_viewer-actions_1wmka_21","prev-button":"_prev-button_1wmka_26","next-button":"_next-button_1wmka_29",show:AW,"viewer-button":"_viewer-button_1wmka_63",close:PW,download:RW,"image-wrapper":"_image-wrapper_1wmka_89","image-view-bg":"_image-view-bg_1wmka_157","image-no-select":"_image-no-select_1wmka_172"};function lo({isShow:t,images:e,index:n,onClose:r}){const{theme:s,setElementColors:o}=p.useContext(F),[i,a]=p.useState(n),[l,u]=p.useState([]),[d,h]=p.useState(!1),f=E6(0);p.useEffect(()=>{console.log(e);let C=[];Array.isArray(e)?u(e):(C.push(e),u(C),console.log(C))},[e]),p.useEffect(()=>{a(n)},[n]);const m=()=>{a(C=>C===l.length-1?0:C+1)},_=()=>{a(C=>C===0?l.length-1:C-1)},w=()=>{h(!0)},x=()=>{h(!1),f.get()<-50?a(C=>C===0?l.length-1:C-1):f.get()>50&&a(C=>C===l.length-1?0:C+1),f.set(0)},v=C=>{const b=decodeURIComponent(C),k=b.indexOf("post_photos/"),T=b.indexOf("?alt=media");if(k===-1||T===-1)throw new Error("Не удалось найти путь в URL");return b.substring(k,T)},y=()=>{const C=l[i],b=document.createElement("a");console.log("URL:",C);const k="повестка.png";if(C.startsWith("blob:"))console.log("Downloading blob URL"),b.href=C,b.download=k,document.body.appendChild(b),b.click(),document.body.removeChild(b);else if(C.startsWith("https://firebasestorage.googleapis.com")){console.log("Downloading from Firebase Storage");try{const T=v(C);rs(Sr(Er,T)).then(S=>{console.log("Firebase download URL:",S),fetch(S).then(E=>{if(!E.ok)throw new Error("Network response was not ok.");return E.blob()}).then(E=>{console.log("Blob:",E);const I=window.URL.createObjectURL(E);console.log("Blob URL:",I),b.href=I,b.download=k,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(I)}).catch(E=>{console.error("Error fetching file:",E)})}).catch(S=>{console.error("Error getting download URL from Firebase:",S)})}catch(T){console.error("Error converting Firebase URL:",T)}}else console.log("Downloading from other URL"),b.href=C,b.download=k,document.body.appendChild(b),b.click(),document.body.removeChild(b)},g={enter:{opacity:0,x:90,scale:.5,transition:{duration:.2}},center:{opacity:1,x:0,scale:1,transition:{duration:.2}},exit:{opacity:0,x:-90,scale:.5,transition:{duration:.2}}};return c.jsxs("div",{className:`${ln["viewer-area"]} ${ln.animated} ${t?ln.show:""}`,children:[c.jsxs("div",{className:ln["viewer-actions"],children:[c.jsx("button",{className:`${ln["viewer-button"]} ${ln.download}`,onClick:y,children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1C8.5 0.447715 8.05228 2.41411e-08 7.5 0C6.94772 -2.41411e-08 6.5 0.447715 6.5 1L8.5 1ZM6.79289 14.435C7.18342 14.8256 7.81658 14.8256 8.20711 14.435L14.5711 8.07107C14.9616 7.68054 14.9616 7.04738 14.5711 6.65685C14.1805 6.26633 13.5474 6.26633 13.1569 6.65685L7.5 12.3137L1.84315 6.65685C1.45262 6.26633 0.819456 6.26633 0.428932 6.65685C0.0384075 7.04738 0.0384075 7.68054 0.428932 8.07107L6.79289 14.435ZM6.5 1L6.5 13.7279L8.5 13.7279L8.5 1L6.5 1Z",fill:s.text_first_color})})}),c.jsx("button",{className:`${ln["viewer-button"]} ${ln.close}`,onClick:r,children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:s.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]}),c.jsxs("div",{className:ln["image-wrapper"],children:[l.length>1&&c.jsx("button",{className:ln["prev-button"],onClick:_,children:c.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.3638 6.36395C14.9161 6.36395 15.3638 6.81167 15.3638 7.36395C15.3638 7.91624 14.9161 8.36395 14.3638 8.36395L14.3638 6.36395ZM0.92874 8.07106C0.538216 7.68053 0.538216 7.04737 0.92874 6.65684L7.2927 0.292884C7.68323 -0.0976401 8.31639 -0.09764 8.70692 0.292884C9.09744 0.683409 9.09744 1.31657 8.70692 1.7071L3.05006 7.36395L8.70691 13.0208C9.09744 13.4113 9.09744 14.0445 8.70691 14.435C8.31639 14.8255 7.68322 14.8255 7.2927 14.435L0.92874 8.07106ZM14.3638 8.36395L1.63585 8.36395L1.63585 6.36395L14.3638 6.36395L14.3638 8.36395Z",fill:s.text_first_color})})}),c.jsx(ot.div,{className:ln["image-view"],variants:g,style:{x:f},drag:"x",dragConstraints:{left:0,right:0},onDragStart:w,onDragEnd:x,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween"},children:c.jsxs("div",{className:ln["image-view-bg"],children:[c.jsx("div",{className:ln["image-no-select"]}),c.jsx("img",{src:l&&l[i]},l[i])]})},l[i]),l.length>1&&c.jsx("button",{className:ln["next-button"],onClick:m,children:c.jsx("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9C0.447715 9 0 8.55228 0 8C0 7.44772 0.447715 7 1 7L1 9ZM14.435 7.29289C14.8256 7.68342 14.8256 8.31658 14.435 8.70711L8.07107 15.0711C7.68054 15.4616 7.04738 15.4616 6.65685 15.0711C6.26633 14.6805 6.26633 14.0474 6.65685 13.6569L12.3137 8L6.65685 2.34315C6.26633 1.95262 6.26633 1.31946 6.65685 0.928932C7.04738 0.538408 7.68054 0.538408 8.07107 0.928932L14.435 7.29289ZM1 7L13.7279 7V9L1 9L1 7Z",fill:s.text_first_color})})})]})]})}function LW(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),[s,o]=p.useState(""),[i,a]=p.useState({}),[l,u]=p.useState(),{authUser:d}=pe();p.useRef(null);const h=p.useRef(null),[f,m]=p.useState(!1),[_,w]=p.useState(!0);p.useEffect(()=>{w(Object.keys(i).length===0)},[i]);const[x,v]=p.useState({isShow:!1,images:[],index:null}),y=fe();p.useEffect(()=>{h.current&&window.scrollTo(0,1e6)},[i]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>y("/menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[F]),p.useEffect(()=>{const k=li(Va(In(q,"users",d._id,"messages"),za("timestamp","asc")),T=>{const S={};T.forEach(E=>{const I=E.data(),j=new Date(I.timestamp),N=I.isUser,O=j.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});S[O]||(S[O]=[]);const A={...I,isUser:N,userName:d.name};S[O].push(A)}),a(S)});return()=>{k()}},[]);const g=async(k,T)=>{try{const S=new Date().toISOString();await Zf(In(q,"users",d._id,"messages"),{text:k.text,timestamp:S,isUser:T,userName:d.name,photos:k.images}),console.log("Message saved successfully.")}catch(S){console.error("Error adding document: ",S)}},C=async(k,T)=>{try{const S=new Date().toISOString();let E=[];for(const A of T){const L=Sr(Er,`messenger_photos/${d._id}/${S}_${A.name}`);await Qo(L,A);const D=await rs(L);E.push(D)}await g({text:k,images:E},!0),u(!0);const[j,N]=await SW(k,T);await g({text:j,images:[]},N),u(!1)}catch(S){console.error("Error handling send: ",S),u(!1)}finally{u(!1)}},b=(k,T)=>{v({isShow:!0,images:k,index:T})};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:He["background-cover"],style:{background:t.background_color},children:c.jsx(xp,{placeholder:"Сообщение",isPanelTop:!1,onSend:C})}),c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsxs("div",{className:He.container,children:[c.jsx(lo,{isShow:x.isShow,images:x.images,index:x.index,onClose:()=>v({isShow:!1})}),c.jsxs("div",{className:He["messages-container"],ref:h,style:{background:t.background_color},children:[_?c.jsxs("div",{className:He.greeting,children:[c.jsxs("div",{className:He["greeting-title"],style:{background:`linear-gradient(90deg,${t.gradient_first_color} 0%,${t.gradient_second_color} 50%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Привет, ",d.name,"!"]}),c.jsx("div",{className:He["greeting-text"],style:{color:t.text_second_color},children:"Чем я могу помочь?"})]}):Object.keys(i).map(k=>c.jsx(Yq,{date:k,messages:i[k],textColor:t.text_first_color,backgroundColor:t.element_first_color,photoClick:b},k)),l&&c.jsx(Qq,{textColor:t.text_first_color},"loading")]})]})]})}const OW="_container_r65pq_1",DW="_week_r65pq_11",MW="_day_r65pq_20",$W="_edit_r65pq_92",FW="_circle_r65pq_121",BW="_button_r65pq_131",Te={container:OW,week:DW,day:MW,"day-date":"_day-date_r65pq_35","lessons-container":"_lessons-container_r65pq_40","lesson-body":"_lesson-body_r65pq_49","lesson-circle":"_lesson-circle_r65pq_60","lesson-name":"_lesson-name_r65pq_69","lesson-time":"_lesson-time_r65pq_74","lesson-room":"_lesson-room_r65pq_79","info-body":"_info-body_r65pq_85",edit:$W,"add-body":"_add-body_r65pq_112",circle:FW,button:BW};function UW({color:t,backgroundColor:e,textColor:n,lessonName:r,lessonTimeStart:s,lessonTimeEnd:o,lessonRoom:i,arrowColor:a}){const{theme:l,elementColors:u,setElementColors:d}=p.useContext(F),[h,f]=p.useState("var(--first-color)"),[m,_]=p.useState("var(--text-first-color)");return c.jsxs("div",{className:Te["lesson-body"],style:{background:e},children:[c.jsx("circle",{className:Te["lesson-circle"],style:{background:t},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.29289 10.7071C9.68342 11.0976 10.3166 11.0976 10.7071 10.7071C11.0976 10.3166 11.0976 9.68342 10.7071 9.29289L9.29289 10.7071ZM1 4.72575e-08C0.447715 -3.74211e-07 -3.74211e-07 0.447715 4.72575e-08 1L-1.63477e-07 10C-1.63477e-07 10.5523 0.447715 11 1 11C1.55228 11 2 10.5523 2 10L2 2L10 2C10.5523 2 11 1.55228 11 1C11 0.447715 10.5523 -1.63477e-07 10 -1.63477e-07L1 4.72575e-08ZM10.7071 9.29289L1.70711 0.292893L0.292893 1.70711L9.29289 10.7071L10.7071 9.29289Z",fill:a})})}),c.jsxs("div",{className:Te["lesson-info"],children:[c.jsx("div",{className:Te["lesson-name"],style:{color:n},children:r}),c.jsx("div",{className:Te["lesson-time"],style:{color:n},children:`${s} - ${o}`})]}),c.jsx("div",{className:Te["lesson-room"],style:{color:n},children:i})]})}const VW="_area_1d870_1",zW="_body_1d870_14",HW="_header_1d870_21",qW="_line_1d870_30",WW="_title_1d870_35",GW="_close_1d870_40",KW="_border_1d870_59",YW="_circle_1d870_71",QW="_text_1d870_80",ZW="_progress_1d870_119",Ie={area:VW,body:zW,header:HW,line:qW,title:WW,close:GW,"add-area":"_add-area_1d870_51",border:KW,circle:YW,text:QW,"file-body":"_file-body_1d870_85","file-wrapper":"_file-wrapper_1d870_96","remove-button":"_remove-button_1d870_104","file-info":"_file-info_1d870_109","progress-bar":"_progress-bar_1d870_119",progress:ZW,"input-container":"_input-container_1d870_128","input-body":"_input-body_1d870_136","error-container":"_error-container_1d870_154","color-container":"_color-container_1d870_164","circles-container":"_circles-container_1d870_174","color-circle":"_color-circle_1d870_184","active-circle":"_active-circle_1d870_194","button-container":"_button-container_1d870_201","main-button":"_main-button_1d870_209"},uu=[{name:"default",colors:["#0040F9","#C3F82B","#FF4365"]},{name:"genery",colors:["linear-gradient(75deg, #2400FF 0%, #00C2FF 80%)","linear-gradient(75deg, #C3F82B 0%, #00FF66 80%)","linear-gradient(75deg, #FF4365 0%, #AD00FF 80%)"]},{name:"kyrgyzstan",colors:["#E3010F","#FEF400"]},{name:"winter_2024",colors:["#CBE0FF","#85AFED"]}];function XW({id:t,isShow:e,close:n}){const{theme:r,elementColors:s,setElementColors:o}=p.useContext(F),[i,a]=p.useState([]),{authUser:l}=pe(),[u,d]=p.useState(r.first_color),[h,f]=p.useState(""),[m,_]=p.useState(),[w,x]=p.useState(!1),[v,y]=p.useState(0),[g,C]=p.useState({isShow:!1,text:""}),[b,k]=p.useState({isShow:!1,text:""}),T={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};p.useEffect(()=>{(async()=>{if(l&&l._id){const D=Z(q,"users",l._id,"info","preferences"),R=await le(D);if(R.exists()){const P=R.data();a(M=>[...M,...P.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[l]);const S=i?uu.filter(L=>i.includes(L.name)):[],E=async()=>{if(h.length<3){C({isShow:!0,text:"Название должно быть более 3 символов"});return}else C({isShow:!1,text:""});if(m)k({isShow:!1,text:""});else{k({isShow:!0,text:"Прикрепите файл"});return}x(!0);try{const L=Sr(Er,`groups_files/${t}/${m.name}`);try{await IM(L),k({isShow:!0,text:"Файл с таким именем уже существует"}),x(!1);return}catch(R){if(R.code==="storage/object-not-found")console.log("File does not exist, proceeding with upload.");else{console.error("Error checking file existence:",R),k({isShow:!0,text:"Ошибка при проверке наличия файла"}),x(!1);return}}const D=TM(L,m);D.on("state_changed",R=>{const P=R.bytesTransferred/R.totalBytes*100;y(P)},R=>{console.error("Error uploading file:",R),k({isShow:!0,text:"Ошибка при загрузке файла"}),x(!1)},async()=>{const R=await rs(D.snapshot.ref),P={color:u,link:R,name:h},M=Z(q,"groups",t,"info","downloads"),B=await le(M);let W=[];B.exists()&&(W=B.data().files||[]),W.push(P),await ut(M,{files:W},{merge:!0}),x(!1),f(""),_(null),d(r.first_color),n()})}catch(L){console.error("Error uploading file:",L),k({isShow:!0,text:"Ошибка при загрузке файла"}),x(!1)}finally{f(""),_(null),d(r.first_color)}},I=L=>{_(L.target.files[0])},j=()=>{document.getElementById("fileInput").click()},N=()=>{_(null)},O=()=>{f(""),_(null),d(r.first_color),n()};function A(L){if(!L)return!1;let D,R,P;if(L.startsWith("#"))if(L.length===4)D=parseInt(L[1]+L[1],16),R=parseInt(L[2]+L[2],16),P=parseInt(L[3]+L[3],16);else if(L.length===7)D=parseInt(L.slice(1,3),16),R=parseInt(L.slice(3,5),16),P=parseInt(L.slice(5,7),16);else return!1;else if(L.startsWith("rgb")){const B=L.substring(L.indexOf("(")+1,L.lastIndexOf(")")).split(",").map(Number);if(B.length===3)D=B[0],R=B[1],P=B[2];else return!1}else{const B=document.createElement("div");B.style.color=L,document.body.appendChild(B);const W=window.getComputedStyle(B).color;if(document.body.removeChild(B),W.startsWith("rgb")){const te=W.substring(W.indexOf("(")+1,W.lastIndexOf(")")).split(",").map(Number);if(te.length===3)D=te[0],R=te[1],P=te[2];else return!1}else return!1}return(D*299+R*587+P*114)/1e3>180}return c.jsx(ot.div,{className:Ie.area,animate:e?"open":"closed",variants:T,transition:{duration:.1},children:c.jsxs(ot.section,{className:Ie.body,style:{background:r.element_first_color},animate:e?"show":"hidden",variants:T,transition:{duration:.5},children:[c.jsxs("header",{className:Ie.header,children:[c.jsx("div",{className:Ie.title,style:{color:r.text_third_color},children:"Добавление файла"}),c.jsx("button",{className:Ie.close,style:{background:r.element_second_color},onClick:O,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})})]}),c.jsx("line",{className:Ie.line,style:{background:r.element_second_color}}),c.jsxs("div",{className:Ie["add-area"],children:[m?c.jsxs("div",{className:Ie["file-body"],style:{border:`1px solid ${r.element_second_color}`},children:[c.jsxs("div",{className:Ie["file-wrapper"],children:[c.jsx("button",{className:Ie["remove-button"],style:{background:r.element_second_color,color:r.text_first_color,border:"none",borderRadius:"3px",cursor:"pointer"},onClick:N,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})}),c.jsxs("div",{className:Ie["file-info"],style:{color:r.text_first_color},children:[c.jsx("div",{children:m.name}),c.jsxs("div",{children:[(m.size/(1024*1024)).toFixed(2)," MB"]})]})]}),w&&c.jsx("div",{className:Ie["progress-bar"],style:{background:r.element_second_color},children:c.jsx("div",{className:Ie.progress,style:{background:r.first_color,width:`${v}%`}})})]}):c.jsxs("div",{className:Ie.border,style:{border:`1px solid ${r.element_second_color}`},onClick:j,children:[c.jsx("div",{className:Ie.circle,style:{background:r.element_second_color},children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 1.5L9 9M9 16.5L9 9M9 9L16.5 9M9 9L1.5 9",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})})}),c.jsx("div",{className:Ie.text,style:{color:r.text_third_color},children:"Загрузите файл размером до 300мб"})]}),c.jsx("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:I})]}),b.isShow&&c.jsx("div",{className:Ie["error-container"],style:{color:r.text_first_color},children:b.text}),c.jsx("div",{className:Ie["input-container"],children:c.jsx("input",{className:Ie["input-body"],placeholder:"Название",style:{background:r.element_second_color,color:r.text_first_color,caretColor:r.first_color,"--placeholder-color":r.text_third_color},value:h,onInput:L=>f(L.target.value)})}),g.isShow&&c.jsx("div",{className:Ie["error-container"],style:{color:r.text_first_color},children:g.text}),c.jsxs("div",{className:Ie["color-container"],children:[c.jsx("div",{className:Ie.title,style:{color:r.text_first_color},children:"Выберите цвет"}),c.jsx("div",{className:Ie["circles-container"],children:S.map(L=>c.jsx(c.Fragment,{children:L.colors.map((D,R)=>c.jsx("div",{className:Ie["color-circle"],style:{background:D},onClick:()=>d(D),children:u===D&&c.jsx("div",{className:Ie["active-circle"],style:{borderColor:A(D)?"#0A0B10":"#fff"}})},R))}))})]}),c.jsx("div",{className:Ie["button-container"],children:c.jsx("button",{className:Ie["main-button"],style:{background:r.first_color,color:r.text_first_color},onClick:E,children:"Добавить"})})]})})}function JW({color:t,backgroundColor:e,textColor:n,arrowColor:r,lessonName:s,lessonTimeStart:o,lessonTimeEnd:i,lessonRoom:a,onRemove:l}){const{theme:u,elementColors:d,setElementColors:h}=p.useContext(F),[f,m]=p.useState("var(--first-color)"),[_,w]=p.useState("var(--text-first-color)");return c.jsxs("div",{className:Te["lesson-body"],style:{background:e},children:[c.jsx("circle",{className:Te["lesson-circle"],style:{background:t},onClick:l,children:c.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.8031 1.1967L6.49984 6.5M1.19654 11.8033L6.49984 6.5M6.49984 6.5L11.8031 11.8033M6.49984 6.5L1.19654 1.1967",stroke:r,"stroke-width":"2","stroke-linecap":"round"})})}),c.jsxs("div",{className:Te["lesson-info"],children:[c.jsx("div",{className:Te["lesson-name"],style:{color:n},children:s}),c.jsx("div",{className:Te["lesson-time"],style:{color:n},children:`${o} - ${i}`})]}),c.jsx("div",{className:Te["lesson-room"],style:{color:n},children:a})]})}const us={"notif-area":"_notif-area_gbq6r_1","notif-body":"_notif-body_gbq6r_14","notif-info":"_notif-info_gbq6r_25","notif-title":"_notif-title_gbq6r_34","notif-text":"_notif-text_gbq6r_43","button-container":"_button-container_gbq6r_52","first-button":"_first-button_gbq6r_60","second-button":"_second-button_gbq6r_85"};function co({title:t,text:e,isShow:n,firstButtonName:r,secondButtonName:s,firstButtonOnClick:o,secondButtonOnClick:i}){const{theme:a,elementColors:l,setElementColors:u}=p.useContext(F),d={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};return c.jsx(ot.div,{className:us["notif-area"],animate:n?"open":"closed",variants:d,transition:{duration:.1},children:c.jsxs(ot.div,{className:us["notif-body"],style:{background:a.element_first_color},animate:n?"show":"hidden",variants:d,transition:{duration:.5},children:[c.jsxs("div",{className:us["notif-info"],children:[c.jsx("div",{className:us["notif-title"],style:{color:a.text_first_color},children:t}),c.jsx("div",{className:us["notif-text"],style:{color:a.text_first_color},children:e})]}),c.jsxs("div",{className:us["button-container"],children:[c.jsx("button",{className:us["first-button"],style:{background:a.element_second_color,color:a.text_first_color},onClick:o,children:r}),c.jsx("button",{className:us["second-button"],style:{background:a.first_color,color:a.text_first_color},onClick:i,children:s})]})]})})}const eG="_area_1s5gc_1",tG="_body_1s5gc_14",nG="_header_1s5gc_21",rG="_line_1s5gc_30",sG="_title_1s5gc_35",oG="_close_1s5gc_40",Fe={area:eG,body:tG,header:nG,line:rG,title:sG,close:oG,"input-container":"_input-container_1s5gc_128","input-body":"_input-body_1s5gc_136","time-container":"_time-container_1s5gc_154","input-wrapper":"_input-wrapper_1s5gc_164","error-container":"_error-container_1s5gc_172","color-container":"_color-container_1s5gc_182","circles-container":"_circles-container_1s5gc_192","color-circle":"_color-circle_1s5gc_202","active-circle":"_active-circle_1s5gc_212","button-container":"_button-container_1s5gc_219","main-button":"_main-button_1s5gc_227"};function iG({activeDay:t,id:e,isShow:n,close:r}){const{theme:s,elementColors:o,setElementColors:i}=p.useContext(F),[a,l]=p.useState([]),{authUser:u}=pe(),[d,h]=p.useState(s.first_color),[f,m]=p.useState(""),[_,w]=p.useState(),[x,v]=p.useState(""),[y,g]=p.useState(""),[C,b]=p.useState(""),[k,T]=p.useState([]),[S,E]=p.useState({isShow:!1,text:""}),[I,j]=p.useState({isShow:!1,text:""}),N={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};p.useEffect(()=>{(async()=>{if(u&&u._id){const P=Z(q,"users",u._id,"info","preferences"),M=await le(P);if(M.exists()){const B=M.data();l(W=>[...W,...B.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[u]);const O=a?uu.filter(R=>a.includes(R.name)):[],A=async()=>{if(f.length<3){E({isShow:!0,text:"Название должно быть более 3 символов"});return}else E({isShow:!1,text:""});try{const R=Z(q,"groups",e,"info","timetable"),P=await le(R);if(P.exists()){const B=P.data().timetable||[],W={name:f,timeStart:x,timeEnd:y,room:C,color:d};B[t]?B[t].lessons.push(W):B[t]={day:"",lessons:[W]},await ut(R,{timetable:B},{merge:!0}),T(B),m(""),v(""),g(""),b(""),h(s.first_color),r()}else console.log("No such document!"),T([])}catch(R){console.error("Error adding lesson:",R)}finally{m(""),v(""),g(""),b(""),h(s.first_color)}},L=()=>{m(""),w(null),h(s.first_color),r()};function D(R){if(!R)return!1;let P,M,B;if(R.startsWith("#"))if(R.length===4)P=parseInt(R[1]+R[1],16),M=parseInt(R[2]+R[2],16),B=parseInt(R[3]+R[3],16);else if(R.length===7)P=parseInt(R.slice(1,3),16),M=parseInt(R.slice(3,5),16),B=parseInt(R.slice(5,7),16);else return!1;else if(R.startsWith("rgb")){const te=R.substring(R.indexOf("(")+1,R.lastIndexOf(")")).split(",").map(Number);if(te.length===3)P=te[0],M=te[1],B=te[2];else return!1}else{const te=document.createElement("div");te.style.color=R,document.body.appendChild(te);const ne=window.getComputedStyle(te).color;if(document.body.removeChild(te),ne.startsWith("rgb")){const de=ne.substring(ne.indexOf("(")+1,ne.lastIndexOf(")")).split(",").map(Number);if(de.length===3)P=de[0],M=de[1],B=de[2];else return!1}else return!1}return(P*299+M*587+B*114)/1e3>180}return c.jsx(ot.div,{className:Fe.area,animate:n?"open":"closed",variants:N,transition:{duration:.1},children:c.jsxs(ot.section,{className:Fe.body,style:{background:s.element_first_color},animate:n?"show":"hidden",variants:N,transition:{duration:.5},children:[c.jsxs("header",{className:Fe.header,children:[c.jsx("div",{className:Fe.title,style:{color:s.text_third_color},children:"Добавление урока"}),c.jsx("button",{className:Fe.close,style:{background:s.element_second_color},onClick:L,children:c.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:s.text_first_color,"stroke-linecap":"round"})})})]}),c.jsx("line",{className:Fe.line,style:{background:s.element_second_color}}),c.jsx("div",{className:Fe["input-container"],children:c.jsx("input",{className:Fe["input-body"],placeholder:"Название",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:f,onInput:R=>m(R.target.value)})}),S.isShow&&c.jsx("div",{className:Fe["error-container"],style:{color:s.text_first_color},children:S.text}),c.jsxs("div",{className:Fe["time-container"],children:[c.jsx("div",{className:Fe.title,style:{color:s.text_first_color},children:"Введите время"}),c.jsxs("div",{className:Fe["input-wrapper"],children:[c.jsx("input",{className:Fe["input-body"],placeholder:"Начало",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:x,onInput:R=>v(R.target.value)}),c.jsx("line",{className:Fe.line,style:{background:s.element_second_color}}),c.jsx("input",{className:Fe["input-body"],placeholder:"Конец",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:y,onInput:R=>g(R.target.value)})]})]}),c.jsx("div",{className:Fe["input-container"],children:c.jsx("input",{className:Fe["input-body"],placeholder:"Кабинет",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:C,onInput:R=>b(R.target.value)})}),c.jsxs("div",{className:Fe["color-container"],children:[c.jsx("div",{className:Fe.title,style:{color:s.text_first_color},children:"Выберите цвет"}),c.jsx("div",{className:Fe["circles-container"],children:O.map(R=>c.jsx(c.Fragment,{children:R.colors.map((P,M)=>c.jsx("div",{className:Fe["color-circle"],style:{background:P},onClick:()=>h(P),children:d===P&&c.jsx("div",{className:Fe["active-circle"],style:{borderColor:D(P)?"#0A0B10":"#fff"}})},M))}))})]}),c.jsx("div",{className:Fe["button-container"],children:c.jsx("button",{className:Fe["main-button"],style:{background:s.first_color,color:s.text_first_color},onClick:A,children:"Добавить"})})]})})}const aC=[{day:"ПН",lessons:[]},{day:"ВТ",lessons:[]},{day:"СР",lessons:[]},{day:"ЧТ",lessons:[]},{day:"ПТ",lessons:[]},{day:"СБ",lessons:[]},{day:"ВС",lessons:[]}];function aG({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState([]),[a,l]=p.useState(0),[u,d]=p.useState(),[h,f]=p.useState(),[m,_]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[w,x]=p.useState(),{authUser:v}=pe();fe(),p.useEffect(()=>{(async()=>{try{const S=Z(q,"groups",t,"info","info"),E=await le(S);if(E.exists()){const I=E.data();x(I.owner)}else console.error("Group not found")}catch(S){console.error("Error fetching group data:",S)}finally{}})()},[t]);const y=async()=>{if(t)try{const T=Z(q,"groups",t,"info","timetable"),S=await le(T);if(S.exists()){const E=S.data();i(E.timetable),console.log(E.timetable)}else console.log("No such document! Creating a new one with initial data."),await ut(T,{timetable:aC}),i(aC)}catch(T){console.error("Error fetching group data:",T),i([])}else console.error("ID группы не указан"),i([])};p.useEffect(()=>{y()},[t]),p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:()=>e(),isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[F]);const g=(T,S)=>{const E=[...o];E[T].lessons.splice(S,1),i(E);const I=Z(q,"groups",t,"info","timetable");ut(I,{timetable:E},{merge:!0})},C=async()=>{await y(),f(!1)};function b(T){if(!T)return!1;let S,E,I;if(T.startsWith("#"))if(T.length===4)S=parseInt(T[1]+T[1],16),E=parseInt(T[2]+T[2],16),I=parseInt(T[3]+T[3],16);else if(T.length===7)S=parseInt(T.slice(1,3),16),E=parseInt(T.slice(3,5),16),I=parseInt(T.slice(5,7),16);else return!1;else if(T.startsWith("rgb")){const N=T.substring(T.indexOf("(")+1,T.lastIndexOf(")")).split(",").map(Number);if(N.length===3)S=N[0],E=N[1],I=N[2];else return!1}else{const N=document.createElement("div");N.style.color=T,document.body.appendChild(N);const O=window.getComputedStyle(N).color;if(document.body.removeChild(N),O.startsWith("rgb")){const A=O.substring(O.indexOf("(")+1,O.lastIndexOf(")")).split(",").map(Number);if(A.length===3)S=A[0],E=A[1],I=A[2];else return!1}else return!1}return(S*299+E*587+I*114)/1e3>180}const k=T=>{const S=new Date,E=S.getDay(),I=E===0?6:E-1,j=T-I,N=new Date(S);return N.setDate(S.getDate()+j),N.toLocaleDateString("ru-RU",{day:"numeric"})};return c.jsxs(c.Fragment,{children:[c.jsx(co,{title:m.title,text:m.text,isShow:m.isShow,firstButtonName:m.firstButtonName,secondButtonName:m.secondButtonName,firstButtonOnClick:m.firstButtonOnClick,secondButtonOnClick:m.secondButtonOnClick}),c.jsx(iG,{activeDay:a,id:t,isShow:h,close:C}),c.jsx("div",{className:Te.week,children:o&&o.length>0&&o.map((T,S)=>c.jsxs("div",{onClick:()=>l(S),className:`${Te.day} ${a===S?Te.active:""}`,style:{background:a===S?n.first_color:n.element_first_color,color:n.text_first_color},children:[T.day,c.jsx("div",{className:Te["day-date"],children:k(S)})]},S))}),c.jsxs("div",{className:Te["lessons-container"],children:[o&&o.length>0&&o[a]&&c.jsxs(c.Fragment,{children:[o[a].lessons.map((T,S)=>c.jsx(JW,{color:T.color,backgroundColor:n.element_first_color,circleBackgroundColor:n.first_color,arrowColor:b(T.color)?"#0A0B10":"#fff",textColor:n.text_first_color,lessonName:T.name,lessonTimeStart:T.timeStart,lessonTimeEnd:T.timeEnd,lessonRoom:T.room,onRemove:()=>g(a,S)},S)),c.jsx("div",{className:Te["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>f(!0),children:c.jsx("div",{className:Te.circle,style:{background:n.element_first_color},children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})})]}),c.jsx("button",{className:Te.button,style:{background:n.first_color,color:n.text_first_color},onClick:e,children:"Сохранить"})]})]})}function lG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),{id:r}=Tr(),[s,o]=p.useState(),[i,a]=p.useState([]),[l,u]=p.useState(),{authUser:d}=pe(),h=fe(),[f,m]=p.useState(!1);p.useEffect(()=>{const g=new Date().getDay(),C=g===0?6:g-1;i&&i.length>0&&i[C]?o(C):i&&i.length>0&&o(0)},[i]),p.useEffect(()=>{(async()=>{try{const C=Z(q,"groups",r,"info","info"),b=await le(C);if(b.exists()){const k=b.data();u(k.owner)}else console.error("Group not found")}catch(C){console.error("Error fetching group data:",C)}finally{}})()},[r]);const _=async()=>{if(r)try{const g=Z(q,"groups",r,"info","timetable"),C=await le(g);if(C.exists()){const b=C.data();a(b.timetable),console.log(b.timetable)}else console.log("No such document!"),a([])}catch(g){console.error("Error fetching group data:",g),a([])}else console.error("ID группы не указан"),a([])};p.useEffect(()=>{_()},[r]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${r}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[F]);const w=()=>{m(!0)},x=async()=>{m(!1),await _()};function v(g){if(!g)return!1;let C,b,k;if(g.startsWith("#"))if(g.length===4)C=parseInt(g[1]+g[1],16),b=parseInt(g[2]+g[2],16),k=parseInt(g[3]+g[3],16);else if(g.length===7)C=parseInt(g.slice(1,3),16),b=parseInt(g.slice(3,5),16),k=parseInt(g.slice(5,7),16);else return!1;else if(g.startsWith("rgb")){const S=g.substring(g.indexOf("(")+1,g.lastIndexOf(")")).split(",").map(Number);if(S.length===3)C=S[0],b=S[1],k=S[2];else return!1}else{const S=document.createElement("div");S.style.color=g,document.body.appendChild(S);const E=window.getComputedStyle(S).color;if(document.body.removeChild(S),E.startsWith("rgb")){const I=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(I.length===3)C=I[0],b=I[1],k=I[2];else return!1}else return!1}return(C*299+b*587+k*114)/1e3>180}const y=g=>{const C=new Date,b=C.getDay(),k=b===0?6:b-1,T=g-k,S=new Date(C);return S.setDate(C.getDate()+T),S.toLocaleDateString("ru-RU",{day:"numeric"})};return c.jsx("div",{className:Te.container,children:f?c.jsx(aG,{id:r,handleEdit:x}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Te.week,children:i&&i.length>0&&i.map((g,C)=>c.jsxs("div",{onClick:()=>o(C),className:`${Te.day} ${s===C?Te.active:""}`,style:{background:s===C?t.first_color:t.element_first_color,color:t.text_first_color},children:[g.day,c.jsx("div",{className:Te["day-date"],children:y(C)})]},C))}),c.jsx("div",{className:Te["lessons-container"],children:i&&i.length>0&&i[s]?i[s].lessons.map((g,C)=>c.jsx(UW,{color:g.color,backgroundColor:t.element_first_color,circleBackgroundColor:t.first_color,arrowColor:v(g.color)?"#0A0B10":"#fff",textColor:t.text_first_color,lessonName:g.name,lessonTimeStart:g.timeStart,lessonTimeEnd:g.timeEnd,lessonRoom:g.room},C)):c.jsx("div",{className:Te["info-body"],style:{color:t.text_first_color},children:"Тут пока пусто ..."})}),l&&l===d._id&&c.jsx("button",{className:Te.edit,style:{background:t.first_color},onClick:w,children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_first_color})})})]})})}const cG="_container_1ue5g_1",Es={container:cG,"category-name":"_category-name_1ue5g_12","contact-category":"_contact-category_1ue5g_17","category-container":"_category-container_1ue5g_23","item-body":"_item-body_1ue5g_30","item-icon":"_item-icon_1ue5g_43","item-name":"_item-name_1ue5g_51","item-info":"_item-info_1ue5g_56","item-circle":"_item-circle_1ue5g_64"},uG=[{category:"запросы",items:[{name:"Загрузки",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 21V27.6667C31 28.5507 30.6488 29.3986 30.0237 30.0237C29.3986 30.6488 28.5507 31 27.6667 31H4.33333C3.44928 31 2.60143 30.6488 1.97631 30.0237C1.35119 29.3986 1 28.5507 1 27.6667V21M7.66667 12.6667L16 21M16 21L24.3333 12.6667M16 21V1" stroke="{theme.text_first_color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"/downloads",category:"second"},{name:"Расписание",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 31C24.2845 31 31 24.2845 31 16C31 7.7155 24.2845 1 16 1C7.7155 1 1 7.7155 1 16C1 24.2845 7.7155 31 16 31Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linejoin="round"/>
                        <path d="M16.0059 7V16.0075L22.3651 22.3675" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
            `,link:"/timetable",category:"first"},{name:"Профиль",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 27C1 24.8783 1.73974 22.8434 3.05648 21.3431C4.37323 19.8429 6.15912 19 8.02128 19H23.9787C25.8409 19 27.6268 19.8429 28.9435 21.3431C30.2603 22.8434 31 24.8783 31 27C31 28.0609 30.6301 29.0783 29.9718 29.8284C29.3134 30.5786 28.4204 31 27.4894 31H4.51064C3.57956 31 2.68661 30.5786 2.02824 29.8284C1.36987 29.0783 1 28.0609 1 27Z" stroke="{theme.text_first_color}" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M16 13C19.3137 13 22 10.3137 22 7C22 3.68629 19.3137 1 16 1C12.6863 1 10 3.68629 10 7C10 10.3137 12.6863 13 16 13Z" stroke="{theme.text_first_color}" stroke-width="2"/>
                    </svg>
            `,link:"/profile",category:"first"}]},{category:"развелечения",items:[{name:"Кешбэк",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.196 28.804C5.395 31 8.929 31 16 31C23.071 31 26.6065 31 28.8025 28.8025C31 26.608 31 23.071 31 16C31 8.929 31 5.3935 28.8025 3.196C26.608 1 23.071 1 16 1C8.929 1 5.3935 1 3.196 3.196C1 5.395 1 8.929 1 16C1 23.071 1 26.608 3.196 28.804Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                        <path d="M25 10.75H19M25 19.75H19M25 24.25H19M13 10.75H10M10 10.75H7M10 10.75V7.75M10 10.75V13.75M12.25 19.75L10 22M10 22L7.75 24.25M10 22L7.75 19.75M10 22L12.25 24.25" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>`,link:"/cashback",category:"third"},{name:"Goosling",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 31L23.7617 23.7617M23.7617 23.7617C24.9999 22.5236 25.982 21.0537 26.6521 19.436C27.3222 17.8183 27.667 16.0845 27.667 14.3335C27.667 12.5825 27.3222 10.8487 26.6521 9.23101C25.982 7.61331 24.9999 6.14343 23.7617 4.9053C22.5236 3.66717 21.0537 2.68503 19.436 2.01495C17.8183 1.34488 16.0845 1 14.3335 1C12.5825 1 10.8487 1.34488 9.23101 2.01495C7.61331 2.68503 6.14343 3.66717 4.9053 4.9053C2.40478 7.40582 1 10.7973 1 14.3335C1 17.8698 2.40478 21.2612 4.9053 23.7617C7.40582 26.2623 10.7973 27.667 14.3335 27.667C17.8698 27.667 21.2612 26.2623 23.7617 23.7617Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"https://ridgeld.github.io/causegenerator.github.io/rayn_gosling.html",category:"first"}]},{category:"контакты",items:[{name:"Telegram",icon:`<svg width="36" height="30" viewBox="0 0 36 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M32.271 0.205239C32.7136 0.0235109 33.1981 -0.039166 33.674 0.0237315C34.1499 0.086629 34.5998 0.272802 34.9769 0.562873C35.354 0.852943 35.6445 1.23631 35.8182 1.67306C35.9918 2.10982 36.0423 2.584 35.9644 3.04625L31.902 27.083C31.508 29.4016 28.9001 30.7312 26.7202 29.5763C24.8968 28.6101 22.1886 27.1214 19.7526 25.5681C18.5347 24.7906 14.8037 22.3008 15.2622 20.5291C15.6563 19.0142 21.9253 13.3217 25.5076 9.93735C26.9137 8.6077 26.2724 7.84066 24.612 9.06373C20.487 12.1004 13.8687 16.7184 11.6799 18.0183C9.74905 19.1645 8.74242 19.3602 7.53876 19.1645C5.34281 18.8081 3.30627 18.2559 1.64408 17.5833C-0.602028 16.6747 -0.492768 13.6625 1.64229 12.7853L32.271 0.205239Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://t.me/genery_dm",category:"contact"},{name:"Vk",icon:`<svg width="36" height="21" viewBox="0 0 36 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M34.5534 20.9983H30.6117C29.121 20.9983 28.6719 19.8127 25.9997 17.1872C23.6644 14.9772 22.678 14.7024 22.0873 14.7024C21.2703 14.7024 21.0475 14.9229 21.0475 16.027V19.5074C21.0475 20.4488 20.7365 21 18.2319 21C15.8021 20.8397 13.4458 20.1149 11.3571 18.8852C9.26844 17.6556 7.50717 15.9563 6.21837 13.9273C3.15822 10.1874 1.02898 5.79801 0 1.10816C0 0.528092 0.224552 0.00230128 1.35077 0.00230128H5.28907C6.30128 0.00230128 6.66575 0.444983 7.06303 1.46773C8.97518 6.99362 12.2381 11.8004 13.563 11.8004C14.0708 11.8004 14.2919 11.5799 14.2919 10.3366V4.64452C14.1243 2.0478 12.72 1.829 12.72 0.889361C12.7378 0.641461 12.8533 0.410126 13.0419 0.244493C13.2306 0.0788594 13.4776 -0.00802255 13.7305 0.00230128H19.9212C20.7676 0.00230128 21.0475 0.416149 21.0475 1.41006V9.09339C21.0475 9.92278 21.4102 10.1975 21.6658 10.1975C22.1737 10.1975 22.564 9.92278 23.4951 9.01028C25.4907 6.62045 27.1212 3.95789 28.335 1.10646C28.4593 0.764109 28.6942 0.47106 29.0039 0.27201C29.3135 0.0729603 29.681 -0.021163 30.0503 0.00399725H33.9903C35.1718 0.00399725 35.4223 0.584064 35.1718 1.41176C33.7388 4.56382 31.9656 7.55588 29.8827 10.3366C29.4578 10.9727 29.2885 11.3034 29.8827 12.0497C30.2731 12.6298 31.655 13.7627 32.5825 14.8398C33.9333 16.1627 35.0543 17.6926 35.9025 19.3684C36.241 20.4471 35.6779 20.9983 34.5534 20.9983Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://vk.com/generatordm",category:"contact"},{name:"X",icon:`<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.2786 12.7995L28.1143 0H23.7243L16.2171 9.7755L9.55714 0H0L11.1514 16.365L0.671429 30H5.06286L13.2129 19.395L20.4429 30H30L18.2786 12.7995ZM14.8786 17.2245L12.8143 14.196L4.8 2.4405H8.1L14.5686 11.916L16.63 14.946L25.2271 27.5595H21.9271L14.8786 17.2245Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://x.com/GeneryDM",category:"contact"}]}];function dG({name:t,textColor:e,icon:n,link:r,category:s}){const{theme:o,setThemeById:i,elementColors:a,setElementColors:l}=p.useContext(F),[u,d]=p.useState(o.text_first_color),[h,f]=p.useState(o.first_color),[m,_]=p.useState(o.text_first_color),w=fe(),{authUser:x}=pe(),v=C=>{if(C.includes("https:"))window.location.href=C;else{if(C==="/timetable"){w(`/timetable/${x.mainGroup}`);return}if(C==="/downloads"){w(`/download/${x.mainGroup}`);return}w(C)}},y={first:{circle:o.first_color,icon:o.text_first_color},second:{circle:o.second_color,icon:o.text_second_color},third:{circle:o.third_color,icon:o.text_first_color},contact:{circle:o.element_first_color,icon:o.text_first_color}};p.useEffect(()=>{s in y?(f(y[s].circle),_(y[s].icon)):(f(o.first_color),_(o.second_color))},[s]);const g=n.replace(/{theme.text_first_color}/g,o.text_first_color);return c.jsxs("div",{className:Es["item-body"],style:{border:`2px solid ${o.element_first_color}`},onClick:()=>v(r),children:[c.jsxs("div",{className:Es["item-info"],children:[c.jsx("div",{className:Es["item-icon"],children:os(g)}),c.jsx("div",{className:Es["item-name"],style:{color:e},children:t})]}),c.jsx("div",{className:Es["item-circle"],style:{background:h},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:m})})})]})}function hG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F);return p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[t]),c.jsxs("div",{className:Es.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),uG.map((s,o)=>c.jsxs(c.Fragment,{children:[c.jsx("div",{className:Es[`${s.category==="контакты"?"contact-category":"category-name"}`],style:{color:t.text_first_color},children:s.category},o),c.jsx("div",{className:Es["category-container"],children:s.items.map((i,a)=>c.jsx(dG,{name:i.name,textColor:t.text_first_color,category:i.category,icon:i.icon,link:i.link},a))})]}))]})}const fG="_container_18erj_2",pG="_hashtags_18erj_180",mG="_comment_18erj_247",gG="_image_0_18erj_537",yG="_image_1_18erj_553",_G="_image_2_18erj_569",vG="_image_3_18erj_585",wG="_image_4_18erj_601",xG="_emoji_18erj_617",ce={container:fG,"fixed-post-input":"_fixed-post-input_18erj_14","post-body":"_post-body_18erj_23","fixed-post":"_fixed-post_18erj_14","post-body-empty":"_post-body-empty_18erj_43","post-info":"_post-info_18erj_53","post-author":"_post-author_18erj_62","author-photo":"_author-photo_18erj_70","author-photo-empty":"_author-photo-empty_18erj_86","author-name":"_author-name_18erj_96","author-name-empty":"_author-name-empty_18erj_102","post-delete":"_post-delete_18erj_109","post-more":"_post-more_18erj_118","post-date":"_post-date_18erj_125","post-data":"_post-data_18erj_135","post-photo":"_post-photo_18erj_145","post-text":"_post-text_18erj_157","post-text-empty":"_post-text-empty_18erj_169",hashtags:pG,"post-buttons":"_post-buttons_18erj_184","post-actions":"_post-actions_18erj_191","action-like":"_action-like_18erj_200","action-comment":"_action-comment_18erj_219","action-send":"_action-send_18erj_233","comments-container":"_comments-container_18erj_247","comments-container-preview":"_comments-container-preview_18erj_259","fixed-input":"_fixed-input_18erj_265",comment:mG,"author-info":"_author-info_18erj_282","comment-text":"_comment-text_18erj_290","comment-actions":"_comment-actions_18erj_295","answer-button":"_answer-button_18erj_303","input-container":"_input-container_18erj_312","message-action":"_message-action_18erj_324","add-file":"_add-file_18erj_332","input-body":"_input-body_18erj_351","image-preview":"_image-preview_18erj_361","remove-image":"_remove-image_18erj_374","input-component":"_input-component_18erj_393","smile-button":"_smile-button_18erj_404","input-message":"_input-message_18erj_425","send-button":"_send-button_18erj_444","images-body":"_images-body_18erj_463","images-wrapper_1":"_images-wrapper_1_18erj_467","images-wrapper_2":"_images-wrapper_2_18erj_481","images-wrapper_3":"_images-wrapper_3_18erj_495","images-wrapper_4":"_images-wrapper_4_18erj_509","images-wrapper_5":"_images-wrapper_5_18erj_523",image_0:gG,image_1:yG,image_2:_G,image_3:vG,image_4:wG,emoji:xG},CG="_body_unqzg_1",il={body:CG,"item-body":"_item-body_unqzg_17","item-info":"_item-info_unqzg_28","item-icon":"_item-icon_unqzg_35","item-name":"_item-name_unqzg_44"},bG=[{name:"Удалить",icon:`
            <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 6V16H3V6H11ZM9.5 0H4.5L3.5 1H0V3H14V1H10.5L9.5 0ZM13 4H1V16C1 17.1 1.9 18 3 18H11C12.1 18 13 17.1 13 16V4Z" fill="{theme.text_first_color}"/>
            </svg>
        `,borderRadius:"15px",id:"delete"}];function kG({isShow:t,onClick:e}){const{theme:n,setElementColors:r}=p.useContext(F),s=i=>{e(i)},o={open:{opacity:1,scale:1},closed:{opacity:0,scale:0}};return c.jsx(ot.div,{className:il.body,animate:t?"open":"closed",variants:o,transition:{duration:.1},style:{background:n.element_second_color,boxShadow:`0 5px 10px 5px ${n.shadow_color}`},children:bG.map((i,a)=>{const l=i.icon.replace(/{theme.text_first_color}/g,n.text_first_color);return c.jsx("div",{className:il["item-body"],onClick:()=>s(i.id),onMouseEnter:u=>{u.currentTarget.style.background=n.active_element_color},onMouseLeave:u=>{u.currentTarget.style.background="none"},children:c.jsxs("div",{className:il["item-info"],children:[c.jsx("div",{className:il["item-icon"],children:os(l)}),c.jsx("div",{className:il["item-name"],style:{color:n.text_first_color},children:i.name})]})},a)})})}const SG="_replies_7pjjr_91",dt={"comment-info":"_comment-info_7pjjr_2","author-info":"_author-info_7pjjr_8","author-photo":"_author-photo_7pjjr_16","author-name":"_author-name_7pjjr_32","comment-body":"_comment-body_7pjjr_38","comment-text":"_comment-text_7pjjr_46","comment-actions":"_comment-actions_7pjjr_58","answer-button":"_answer-button_7pjjr_66","show-answers":"_show-answers_7pjjr_78",replies:SG};function EG({isPreview:t,userId:e,userPhoto:n,userName:r,text:s,showUserProfile:o,onReply:i,replies:a,commentId:l}){const{theme:u,elementColors:d,setElementColors:h}=p.useContext(F),[f,m]=p.useState(!1),_=fe(),w=g=>typeof g=="string"?g.replace(/(#[\wа-яА-Я_]+)/g,C=>`<div class="${dt.hashtags}">${C}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map((C,b)=>C.startsWith("<div")?os(C):C):g,x=g=>{if(typeof g=="string")return w(g);if(gr.isValidElement(g)){const C=gr.Children.map(g.props.children,x);return gr.cloneElement(g,{children:C})}return g},v=g=>{const C=os(g);return x(C)},y=g=>{g=g.replace("#","");const C=parseInt(g.substring(0,2),16),b=parseInt(g.substring(2,4),16),k=parseInt(g.substring(4,6),16);return`rgba(${C}, ${b}, ${k}, 0.2)`};return c.jsxs("div",{className:dt["comment-info"],children:[c.jsxs("div",{className:dt["comment-body"],style:{},children:[c.jsxs("div",{className:dt["author-info"],onClick:()=>o(e),children:[c.jsx("div",{className:dt["author-photo"],children:c.jsx("img",{className:dt.avatar,src:n})}),c.jsx("div",{className:dt["author-name"],style:{color:u.text_first_color},children:r})]}),c.jsx("div",{className:dt["comment-text"],style:{color:u.text_first_color},children:v(s)}),c.jsx("div",{className:dt["comment-actions"],children:c.jsx("button",{className:dt["answer-button"],style:{color:u.element_second_color},onClick:()=>i({userName:r,commentId:l}),children:"Ответить"})}),a&&a.length>0&&c.jsx("button",{onClick:()=>m(!f),className:dt["show-answers"],style:{color:u.first_color,background:y(u.first_color)},children:f?"Скрыть ответы":`Показать ответы (${a.length})`})]}),f&&c.jsx("div",{className:dt.replies,children:a.map((g,C)=>c.jsxs("div",{className:dt["comment-body"],children:[c.jsxs("div",{className:dt["author-info"],onClick:()=>o(g.userId),children:[c.jsx("div",{className:dt["author-photo"],children:c.jsx("img",{className:dt.avatar,src:g.userPhoto})}),c.jsx("div",{className:dt["author-name"],style:{color:u.text_first_color},children:g.userName})]}),c.jsxs("div",{className:dt["comment-text"],style:{color:u.text_first_color},children:[c.jsxs("div",{className:dt["link-to-answer"],style:{color:u.first_color},onClick:()=>_(`/profile/${g.userId}`),children:["@",g.userName]}),v(g.text)]})]},C))})]})}function du({postId:t,userPhoto:e,groupOwnerId:n,userId:r,userName:s,postData:o,postText:i,postPhotos:a,likesArray:l,commentCount:u,photoClick:d,postAction:h,commentsArray:f}){const m=fe(),[_,w]=p.useState(!1),{theme:x,setThemeById:v,elementColors:y,setElementColors:g}=p.useContext(F),{authUser:C}=pe(),[b,k]=p.useState(!1);p.useEffect(()=>{C&&l.includes(C._id)&&w(!0)},[C._id]);const T=async()=>{const D=Z(q,"posts",t);_?(await ns(D,{likesArray:mD(C._id)}),w(!1)):(await ns(D,{likesArray:yo(C._id)}),w(!0))},S=D=>{h(D,t),k(!1)},E=(D,R)=>{d(D,R)},I=D=>typeof D=="string"?D.replace(/(#[\wа-яА-Я_]+)/g,R=>`<div class="${ce.hashtags}">${R}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map((R,P)=>R.startsWith("<div")?os(R):R):D,j=D=>{if(typeof D=="string")return I(D);if(gr.isValidElement(D)){const R=gr.Children.map(D.props.children,j);return gr.cloneElement(D,{children:R})}return D},N=D=>{const R=os(D);return j(R)},O=D=>{m(n?`/group/${D}`:`/profile/${D}`)},A=()=>{m(`/post/${t}`)};p.useEffect(()=>{C._id===r&&console.log("Это ваш пост: "+t)},[t]);const L=()=>{navigator.share?navigator.share({title:i,url:`https://ridgeld.github.io/genery/#/post/${t}`}).then(()=>console.log("Успешно поделились!")).catch(D=>console.error("Ошибка при попытке поделиться: ",D)):alert("Ваш браузер не поддерживает возможность отправки через Share API.")};return c.jsxs("div",{className:ce["post-body"],style:{"--hashtag-color":x.icon_color},children:[c.jsx(kG,{isShow:b,onClick:S}),c.jsxs("div",{className:ce["post-info"],children:[c.jsxs("div",{className:ce["post-author"],onClick:()=>O(r),children:[c.jsx("div",{className:ce["author-photo"],children:c.jsx("img",{src:e,className:ce["user-avatar"]})}),c.jsx("div",{className:ce["author-name"],style:{color:x.text_first_color},children:s})]}),(r===C._id||n===C._id)&&c.jsx("div",{className:ce["post-delete"],onClick:()=>k(!b),children:c.jsxs("div",{className:ce["post-more"],children:[c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})}),c.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:x.text_first_color})})]})})]}),c.jsxs("div",{className:ce["post-data"],children:[a&&c.jsx("div",{className:ce["images-body"],children:c.jsx("div",{className:ce[`images-wrapper_${a.length}`],children:a.map((D,R)=>c.jsx(ot.div,{className:ce[`image_${R}`],whileTap:{scale:1.5},children:c.jsx("img",{src:D,onClick:()=>E(a,R)})}))})}),i&&c.jsx("div",{className:ce["post-text"],style:{color:x.text_first_color},children:N(i)})]}),c.jsxs("div",{className:ce["post-actions"],children:[c.jsx("div",{className:ce["post-date"],style:{color:x.text_first_color},children:o}),c.jsxs("div",{className:ce["post-buttons"],children:[c.jsx("div",{className:ce["like-count"],style:{color:x.text_first_color},children:l.length}),c.jsx("div",{className:ce["action-like"],style:{background:x.third_color},onClick:T,children:c.jsx(ot.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 32",fill:"none",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileTap:{scale:3,opacity:.5},children:_?c.jsx(ot.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",fill:x.text_first_color},"heart-filled"):c.jsx(ot.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",stroke:x.text_first_color,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"},"heart-outline")})}),c.jsx("div",{className:ce["like-count"],style:{color:x.text_first_color},children:u}),c.jsx("div",{className:ce["action-comment"],style:{background:x.second_color},onClick:A,children:c.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M10 19C11.78 19 13.5201 18.4722 15.0001 17.4832C16.4802 16.4943 17.6337 15.0887 18.3149 13.4442C18.9961 11.7996 19.1743 9.99002 18.8271 8.24419C18.4798 6.49836 17.6226 4.89471 16.364 3.63604C15.1053 2.37737 13.5016 1.5202 11.7558 1.17294C10.01 0.82567 8.20038 1.0039 6.55585 1.68509C4.91131 2.36628 3.50571 3.51983 2.51677 4.99987C1.52784 6.47991 1 8.21997 1 10C1 11.488 1.36 12.891 2 14.127L1 19L5.873 18C7.109 18.64 8.513 19 10 19Z",stroke:x.background_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})}),c.jsx("div",{className:ce["action-send"],style:{background:x.first_color},onClick:L,children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:x.text_first_color})})})]})]}),c.jsx("div",{className:ce["comments-container-preview"],children:f&&c.jsxs("div",{className:ce.comment,style:{background:x.element_first_color},children:[c.jsxs("div",{className:ce["author-info"],children:[c.jsx("div",{className:ce["author-photo"],children:c.jsx("img",{className:ce.avatar,src:f.userPhoto})}),c.jsx("div",{className:ce["author-name"],style:{color:x.text_first_color},children:f.userName})]}),c.jsx("div",{className:ce["comment-text"],style:{color:x.text_first_color},children:N(f.text)}),c.jsx("div",{className:ce["comment-actions"],children:c.jsx("div",{className:ce["answer-button"],style:{color:x.element_second_color},onClick:()=>m(`/post/${t}`),children:"Ответить"})})]})})]})}const lC={"circle-skeleton":"_circle-skeleton_1fo8g_2","rect-skeleton":"_rect-skeleton_1fo8g_20"};function bn({width:t,height:e,shape:n}){const{theme:r,setElementColors:s}=p.useContext(F),o=()=>c.jsx("div",{className:lC["circle-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}}),i=()=>c.jsx("div",{className:lC["rect-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}});return c.jsx(c.Fragment,{children:n==="rect"?i():o()})}function Tt(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F);return c.jsxs("div",{className:ce["post-body-empty"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:ce["post-info"],children:[c.jsxs("div",{className:ce["post-author"],children:[c.jsx("div",{className:ce["author-photo-empty"],children:c.jsx(bn,{width:"100%",height:"100%",shape:"circle"})}),c.jsx("div",{className:ce["author-name"],style:{color:t.text_first_color},children:c.jsx(bn,{width:"50%",height:"15px",shape:"rect"})})]}),c.jsx("div",{className:ce["post-date"],style:{color:t.text_first_color},children:c.jsx(bn,{width:"30%",height:"15px",shape:"rect"})})]}),c.jsx("div",{className:ce["post-data"],children:c.jsxs("div",{className:ce["post-text-empty"],children:[c.jsx(bn,{width:"100%",height:"15px",shape:"rect"}),c.jsx(bn,{width:"90%",height:"15px",shape:"rect"})]})})]})}function TG(){const[t,e]=p.useState([]),n=fe();p.useRef(null);const{theme:r,elementColors:s,setElementColors:o}=p.useContext(F),{authUser:i}=pe(),[a,l]=p.useState(!0),[u,d]=p.useState({isShow:!1,images:[],index:null}),[h,f]=p.useState({isShow:!1,text:""}),[m,_]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"});p.useEffect(()=>{if(h.isShow){const b=setTimeout(()=>{f({isShow:!1})},1e3);return()=>clearTimeout(b)}},[h]),p.useEffect(()=>{o({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,arrowLink:()=>n("/menu"),isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:3}),document.body.style.background=r.background_color},[F]),p.useEffect(()=>{const b=li(Va(In(q,"posts"),za("timestamp","desc")),async k=>{const T=k.docs.map(async E=>{const I=E.data(),N=new Date(I.timestamp).toLocaleDateString("ru-RU",{day:"2-digit",month:"long"}),O=In(q,"posts",E.id,"comments"),L=(await Yk(O)).docs.map(P=>({commentId:P.id,...P.data()})),D=L.map(P=>({...P,replyCount:L.filter(M=>M.replyTo===P.commentId).length}));let R=null;return D.length&&(R=D.reduce((P,M)=>M.replyCount>P.replyCount?M:P,D[0])),{id:E.id,userId:I.userId,groupOwnerId:I.groupOwnerId,userName:I.userName,userPhoto:I.userPhoto,postText:I.text,postPhoto:I.photos,postData:N,likesArray:I.likesArray,commentsArray:D,topComment:R}}),S=await Promise.all(T);e(S),l(!1)});return()=>b()},[]);const w=async(b,k)=>{try{const T=new Date().toISOString();let S=[];for(const E of k){const I=Sr(Er,`post_photos/${i._id}/${T}_${E.name}`);await Qo(I,E);const j=await rs(I);S.push(j)}await x(b,S)}catch(T){console.error("Error handling send: ",T)}},x=async(b,k)=>{try{const T=new Date().toISOString();await Zf(In(q,"posts"),{photos:k,text:b,timestamp:T,userId:i._id,userName:i.name,userPhoto:i.avatar,likesArray:[],commentsArray:[]}),console.log("Message saved successfully.")}catch(T){console.error("Error adding document: ",T)}},v=(b,k)=>{d({isShow:!0,images:b,index:k})},y=()=>{_({isShow:!1})},g=async b=>{_({isShow:!1});try{await Qk(Z(q,"posts",b))}catch(k){console.error("Error deleting post: ",k)}finally{f({isShow:!0,text:"Пост удален"})}},C=(b,k)=>{switch(b){case"delete":return _({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:y,secondButtonOnClick:()=>g(k)});default:return _({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:ce.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${r.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(lo,{isShow:u.isShow,images:u.images,index:u.index,onClose:()=>d({isShow:!1})}),c.jsx("div",{className:ce["fixed-post-input"],style:{background:r.background_color},children:c.jsx(xp,{placeholder:"Что у вас нового?",isPanelTop:!0,addFiles:!0,onSend:w})}),c.jsx(co,{title:m.title,text:m.text,isShow:m.isShow,firstButtonName:m.firstButtonName,secondButtonName:m.secondButtonName,firstButtonOnClick:m.firstButtonOnClick,secondButtonOnClick:m.secondButtonOnClick}),c.jsx(Pt,{isShow:h.isShow,text:h.text}),a?c.jsxs(c.Fragment,{children:[c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{})]}):t.map(b=>c.jsx(du,{postId:b.id,userId:b.userId,groupOwnerId:b.groupOwnerId,userName:b.userName,userPhoto:b.userPhoto,postData:b.postData,postText:b.postText,postPhotos:b.postPhoto,likesArray:b.likesArray,photoClick:v,postAction:C,commentCount:b.commentsArray.length,commentsArray:b.commentsArray?b.topComment:[],onSend:""},b.id))]})}const IG="_container_osqo7_1",Xe={container:IG,"category-container":"_category-container_osqo7_12","category-name":"_category-name_osqo7_21","item-body":"_item-body_osqo7_30","item-info":"_item-info_osqo7_39","item-icon":"_item-icon_osqo7_47","item-name":"_item-name_osqo7_55","check-box":"_check-box_osqo7_60","check-box-circle":"_check-box-circle_osqo7_81","themes-body":"_themes-body_osqo7_89","themes-name":"_themes-name_osqo7_100","themes-container":"_themes-container_osqo7_109","theme-body":"_theme-body_osqo7_117","theme-active":"_theme-active_osqo7_134","block-body":"_block-body_osqo7_150","block-title":"_block-title_osqo7_161","block-text":"_block-text_osqo7_166","block-arrow":"_block-arrow_osqo7_171"},NG=[{category:"запросы",items:[{name:"Цензура",icon:`
                <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.86667 5.6418C2.46706 8.22887 1 11.6931 1 15.5C1 23.5081 7.49187 30 15.5 30C19.3069 30 22.7711 28.5329 25.3582 26.1333M4.86667 5.6418C7.51484 2.78674 11.2988 1 15.5 1C23.5081 1 30 7.49187 30 15.5C30 19.7012 28.2133 23.4852 25.3582 26.1333M4.86667 5.6418L25.3582 26.1333" stroke="{theme.text_first_color}" stroke-width="2"/>
                </svg>                                                                
            `}]}];function jG({itemName:t,itemIcon:e,authUserCensor:n,onCensorChange:r}){console.log(`Пришло значение: ${n}`);const{theme:s,setThemeById:o,elementColors:i,setElementColors:a}=p.useContext(F),l=()=>{if(t==="Цензура"){const d=!n;console.log(`Изменено при клике на: ${d}`),r(d)}},u=e.replace(/{theme.text_first_color}/g,s.text_first_color);return c.jsxs("div",{className:Xe["item-body"],style:{background:s.element_first_color},children:[c.jsxs("div",{className:Xe["item-info"],children:[c.jsx("div",{className:Xe["item-icon"],children:os(u)}),c.jsx("div",{className:Xe["item-name"],style:{color:s.text_first_color},children:t})]}),c.jsx("div",{className:Xe["check-box"],style:{background:n&&t==="Цензура"?s.first_color:s.element_second_color},onClick:l,children:c.jsx("div",{className:Xe["check-box-circle"],style:{background:s.text_first_color,marginLeft:n&&t==="Цензура"?"29px":"0"}})})]})}function AG({name:t,img:e,activeTheme:n,onThemeChange:r}){const{theme:s,elementColors:o,setElementColors:i}=p.useContext(F),a=()=>{r(t)};return c.jsxs("div",{className:Xe["theme-body"],style:{border:n===t?`2px solid ${s.gradient_first_color}`:"none"},onClick:a,children:[c.jsx("img",{src:e,alt:t}),n===t&&c.jsx("div",{className:Xe["theme-active"],style:{background:s.first_color},children:c.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.14645 4.64645C0.951184 4.84171 0.951184 5.15829 1.14645 5.35355C1.34171 5.54882 1.65829 5.54882 1.85355 5.35355L1.14645 4.64645ZM6 1C6 0.723858 5.77614 0.5 5.5 0.5L1 0.5C0.723858 0.5 0.5 0.723858 0.5 1C0.5 1.27614 0.723858 1.5 1 1.5L5 1.5L5 5.5C5 5.77614 5.22386 6 5.5 6C5.77614 6 6 5.77614 6 5.5L6 1ZM1.85355 5.35355L5.85355 1.35355L5.14645 0.646447L1.14645 4.64645L1.85355 5.35355Z",fill:s.text_first_color})})})]})}function PG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),s=localStorage.getItem("censor")==="true",[o,i]=p.useState(s);console.log(`Состояние из хранилища ${s}`);const{authUser:a}=pe(),[l,u]=p.useState([]),[d,h]=p.useState({isShow:!1,text:""}),f=fe();p.useEffect(()=>{if(d.isShow){const x=setTimeout(()=>{h({isShow:!1})},1e3);return()=>clearTimeout(x)}},[d]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>f("/list-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{(async()=>{if(a&&a._id){const v=Z(q,"users",a._id,"info","preferences"),y=await le(v);if(y.exists()){const g=y.data();u(g.boughtThemes)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const m=l?l.filter(x=>xx[x]).map(x=>xx[x]):[],_=async x=>{e(x),h({isShow:!0,text:`Выбрана тема: ${x}`})},w=x=>{i(x),localStorage.setItem("censor",x)};return c.jsxs("div",{className:Xe.container,children:[c.jsx(Pt,{text:d.text,isShow:d.isShow}),NG.map(x=>c.jsxs("div",{className:Xe["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:Xe["category-name"],children:x.category}),x.items.map(v=>c.jsx(jG,{itemIcon:v.icon,itemName:v.name,authUserCensor:o,onCensorChange:w}))]})),c.jsxs("div",{className:Xe["category-container"],style:{color:t.text_first_color},children:[c.jsx("div",{className:Xe["category-name"],style:{color:t.text_first_color},children:"тема"}),c.jsxs("div",{className:Xe["themes-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:Xe["themes-name"],style:{color:t.text_first_color},children:"Доступные темы:"}),c.jsx("div",{className:Xe["themes-container"],children:m.map(x=>c.jsx(AG,{img:x.img,name:x.name,activeTheme:t.name,onThemeChange:_}))})]})]}),c.jsxs("div",{className:Xe["category-container"],children:[c.jsx("div",{className:Xe["category-name"],style:{color:t.text_first_color},children:"информация"}),c.jsxs("div",{className:Xe["block-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:Xe["block-title"],style:{color:t.text_first_color},children:"Rigeld INC"}),c.jsx("div",{className:Xe["block-text"],style:{color:t.text_first_color},children:"Genery 5.2.6"}),c.jsx("div",{className:Xe["block-arrow"],children:c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:t.text_first_color})})})]})]})]})}const RG="_container_1wjrk_1",al={container:RG,"block-body":"_block-body_1wjrk_11","block-name":"_block-name_1wjrk_20","block-text":"_block-text_1wjrk_25","block-price":"_block-price_1wjrk_30"},LG="_button_rb0y4_1",OG="_arrow_rb0y4_18",cC={button:LG,arrow:OG};function DG({name:t,backgroundColor:e,textColor:n,onButtonClick:r}){return c.jsxs("button",{className:cC.button,style:{background:e,color:n},onClick:r,children:[t,c.jsx("div",{className:cC.arrow,children:c.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:n})})})]})}function MG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState("0 c"),[o,i]=p.useState(""),[a,l]=p.useState(""),[u,d]=p.useState(!1),h=fe(),f=()=>{d(!0),o!==" "&&a!==" "&&s(o*a+" с")};return p.useEffect(()=>{if(u){const m=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(m)}},[u]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>h("/list-menu"),arrowColor:t.background_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]),c.jsxs("div",{className:al.container,children:[c.jsxs("div",{className:al["block-body"],style:{background:t.element_first_color},children:[c.jsx("div",{className:al["block-name"],style:{color:t.text_first_color},children:"1X ГЛЕБ"}),c.jsx("div",{className:al["block-text"],style:{color:t.text_first_color},children:"Ваш выигрыш составил:"}),c.jsx("div",{className:al["block-price"],style:{color:t.text_first_color},children:r})]}),c.jsx(Oo,{type:"number",placeholder:"Введите сумму ставки",onInputChange:m=>i(m.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},1),c.jsx(Oo,{type:"number",placeholder:"Введите коэффициент ставки",onInputChange:m=>l(m.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},2),c.jsx(DG,{name:"Рассчитать",backgroundColor:t.first_color,textColor:t.text_first_color,onButtonClick:f})]})}const $G="_container_1uk81_1",FG="_hidden_1uk81_123",Je={container:$G,"category-container":"_category-container_1uk81_12","balance-container":"_balance-container_1uk81_19","image-cover":"_image-cover_1uk81_26","no-select":"_no-select_1uk81_37","back-image":"_back-image_1uk81_47","text-image":"_text-image_1uk81_51","items-container":"_items-container_1uk81_56","card-body":"_card-body_1uk81_64","card-photo-body":"_card-photo-body_1uk81_77","card-photo":"_card-photo_1uk81_77","card-info":"_card-info_1uk81_90","card-name":"_card-name_1uk81_98","card-label":"_card-label_1uk81_103","card-action":"_card-action_1uk81_113",hidden:FG,"card-price":"_card-price_1uk81_128","card-buy":"_card-buy_1uk81_137","buy-button":"_buy-button_1uk81_153","button-price":"_button-price_1uk81_167"},BG=[{category:"winter_2024",img:"shop/winter_2024/cover.png",textImg:"shop/winter_2024/text-img.png",items:[{id:"winter_2024",category:"theme",img:"shop/winter_2024/img-1.png",name:"Морозная свежесть",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"colors",img:"shop/winter_2024/img-2.png",name:"Морозная палитра",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"emojies",img:"shop/winter_2024/img-3.png",name:"Морозные эмодзи",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"all",img:"shop/winter_2024/img-4.png",name:"Морозный пак",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0}]},{category:"kyrgyzstan",img:"shop/kyrgyzstan/cover.png",textImg:"shop/kyrgyzstan/text-img.png",items:[{id:"kyrgyzstan",category:"theme",img:"shop/kyrgyzstan/img-2.png",name:"Тема",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"emojies",img:"shop/kyrgyzstan/img-1.png",name:"Смайлы",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"colors",img:"shop/kyrgyzstan/img-3.png",name:"Пак цветов",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"all",img:"shop/kyrgyzstan/img-4.png",name:'Пак "Родина"',label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0}]},{category:"genery",img:"shop/genery/cover.png",textImg:"shop/genery/text-img.png",items:[{id:"genery",category:"theme",img:"shop/genery/img-1.png",name:"Тема",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:1e3},{id:"genery",img:"shop/genery/img-2.png",category:"colors",name:"Пак смайлов",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:250},{id:"genery",img:"shop/genery/img-3.png",category:"emojies",name:"Пак смайлов",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:500},{id:"genery",img:"shop/genery/img-4.png",category:"all",name:"Набор Genery",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:0}]}];function UG({img:t,textImg:e}){return c.jsxs("div",{className:Je["image-cover"],children:[c.jsx("div",{className:Je["no-select"]}),c.jsx("img",{src:t,className:Je["back-image"]}),c.jsx("img",{src:e,className:Je["text-image"]})]})}const uC={"coin-outer":"_coin-outer_1t7ga_1","coin-inner":"_coin-inner_1t7ga_10"};function Uh({color:t}){return c.jsx("div",{className:uC["coin-outer"],style:{background:t},children:c.jsx("div",{className:uC["coin-inner"]})})}function VG({category:t,id:e,photo:n,name:r,label:s,labelTextColor:o,labelColor:i,isBought:a,isFree:l,price:u,onBuyItem:d}){const{theme:h,elementColors:f,setElementColors:m}=p.useContext(F);return c.jsxs("div",{className:Je["card-body"],style:{background:h.element_first_color},children:[c.jsxs("div",{className:Je["card-photo-body"],style:{background:h.background_color},children:[c.jsx("div",{className:Je["no-select"]}),c.jsx("img",{src:n,className:Je["card-photo"]})]}),c.jsxs("div",{className:Je["card-info"],children:[c.jsx("div",{className:Je["card-name"],style:{color:h.text_first_color},children:r}),c.jsx("div",{className:Je["card-label"],style:{background:i,color:o},children:s})]}),c.jsxs("div",{className:Je["card-action"],children:[c.jsx("div",{className:Je["card-price"],style:{color:h.text_first_color},children:a?"Куплено":l?"Бесплатно":c.jsxs(c.Fragment,{children:[u,c.jsx(Uh,{color:h.first_color})]})}),c.jsx("div",{className:Je["card-arrow"],children:c.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:h.text_first_color})})})]}),!a&&c.jsx("div",{className:`${Je["card-buy"]} ${Je.hidden}`,children:c.jsx("button",{className:Je["buy-button"],style:{background:h.first_color,color:h.text_first_color},onClick:()=>d(t,e,u),children:l?c.jsx(c.Fragment,{children:"Бесплатно"}):c.jsxs(c.Fragment,{children:["Купить за",c.jsxs("div",{className:Je["button-price"],children:[u,c.jsx(Uh,{color:h.text_first_color})]})]})})})]})}const Xu={"score-container":"_score-container_71jb4_1","name-body":"_name-body_71jb4_9","count-body":"_count-body_71jb4_22","balance-body":"_balance-body_71jb4_35"};function hu({name:t,count:e,isBalance:n}){const{theme:r,elementColors:s,setElementColors:o}=p.useContext(F);return c.jsxs("div",{className:Xu["score-container"],children:[c.jsx("div",{className:Xu["name-body"],style:{background:r.element_first_color,color:r.text_first_color},children:t}),c.jsx("div",{className:Xu["count-body"],style:{background:r.element_first_color,color:r.text_first_color},children:n?c.jsxs("div",{className:Xu["balance-body"],style:{color:r.text_first_color},children:[e,c.jsx(Uh,{color:r.first_color})]}):e})]})}function zG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState({isShow:!1,text:""}),[o,i]=p.useState([]),[a,l]=p.useState([]),[u,d]=p.useState([]),[h,f]=p.useState(""),[m,_]=p.useState(0),{authUser:w}=pe(),x=fe();p.useEffect(()=>{if(r.isShow){const C=setTimeout(()=>{s({isShow:!1})},1e3);return()=>clearTimeout(C)}},[r]),p.useEffect(()=>{(async()=>{if(w&&w._id){const b=Z(q,"users",w._id,"info","preferences"),k=await le(b);if(k.exists()){const T=k.data();_(T.balance),i(T.boughtThemes),l(T.boughtColors),d(T.boughtEmojies)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[m,o,a,u]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>x("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[F]);const v=async C=>{if(w&&w._id)try{const b=Z(q,"users",w._id,"info","preferences");await ns(b,{balance:C}),console.log(`Balance updated to ${C}`)}catch(b){console.error("Error updating balance:",b)}else console.error("authUser or authUser._id is undefined")},y=async(C,b,k)=>{const T=Z(q,"users",w._id,"info","preferences");if(m<k){s({isShow:!0,text:"У вас недостаточно средств для покупки"});return}_(m-k),v(m-k);let S={},E="";switch(C){case"colors":S={boughtColors:yo(b)},E=`вы приобрели цвета: ${b}`;break;case"emojies":S={boughtEmojies:yo(b)},E=`вы приобрели пак эмодзи: ${b}`;break;case"theme":S={boughtThemes:yo(b)},E=`вы приобрели тему: ${b}`;break;case"all":S={boughtColors:yo(b),boughtEmojies:yo(b),boughtThemes:yo(b)},E=`вы приобрели коллекцию: ${b}`;break;default:return}await ns(T,S),s({isShow:!0,text:E})},g=(C,b)=>{switch(C){case"colors":return a.includes(b);case"theme":return o.includes(b);case"emojies":return u.includes(b);case"all":return a.includes(b)&&o.includes(b)&&u.includes(b);default:return!1}};return c.jsxs("div",{className:Je.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(Pt,{isShow:r.isShow,text:r.text}),c.jsx("div",{className:Je["balance-container"],style:{background:t.background_color},children:c.jsx(hu,{name:"Баланс",isBalance:!0,count:m})}),BG.map(C=>c.jsxs("div",{className:Je["category-container"],children:[c.jsx(UG,{img:C.img,textImg:C.textImg}),c.jsx("div",{className:Je["items-container"],children:C.items.map((b,k)=>c.jsx(VG,{category:b.category,id:b.id,photo:b.img,name:b.name,label:b.label,labelTextColor:b.labelTextColor,labelColor:b.labelColor,isBought:g(b.category,b.id),isFree:b.isFree,price:b.price,onBuyItem:y},k))})]}))]})}const HG="_container_1lamj_1",qG="_area_1lamj_9",WG="_table_1lamj_19",GG="_item_1lamj_28",KG="_circle_1lamj_40",YG="_spin_1lamj_51",yi={container:HG,area:qG,table:WG,item:GG,circle:KG,spin:YG},QG=t=>[{grid:"row",size:"1/4",name:0,isZero:!0,isCircle:!1,background:t.casino_first_color,border:"20px 0 0 20px",circleColor:""},{grid:"column",size:"",name:3,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:6,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:9,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:12,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:15,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:18,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:21,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:24,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:27,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:30,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:33,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:36,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"1st",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 20px 0 0",circleColor:t.casino_third_color},{grid:"column",size:"",name:2,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:5,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:8,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:11,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:14,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:17,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:20,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:23,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:26,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:29,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:32,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:35,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:"2nd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:1,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:4,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:7,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:10,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:13,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:16,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:19,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:22,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:25,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:28,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:31,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:34,isZero:!1,isCircle:!0,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"3rd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 20px",circleColor:t.casino_third_color},{grid:"column",size:"2/8",name:"1-18",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"8/14",name:"19-36",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"2/5",name:"even",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 0 20px",circleColor:t.casino_second_color},{grid:"column",size:"5/8",name:"red",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"8/11",name:"black",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"11/14",name:"odd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color}],ZG="_overlay_usz7u_1",XG="_animated_usz7u_14",JG="_wheel_usz7u_18",eK="_show_usz7u_24",tK="_spin_usz7u_47",nK="_arrow_usz7u_66",_i={overlay:ZG,animated:XG,wheel:JG,show:eK,spin:tK,arrow:nK};function rK(t,e){const n=r=>{if(r>=t.length){e();return}const s=document.createElement("script");s.src=t[r],s.async=!0,s.onload=()=>n(r+1),document.body.appendChild(s)};n(0)}function sK({isShow:t,onStop:e}){const[n,r]=p.useState(null),s=p.useRef(null);getComputedStyle(document.documentElement);const{theme:o,elementColors:i,setElementColors:a}=p.useContext(F),[l,u]=p.useState(125),[d,h]=p.useState(100),[f,m]=p.useState("center"),_=()=>{window.innerWidth<=700?(u(125),h(100),m("outer")):(u(155),h(100),m("center"))};p.useEffect(()=>(_(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}),[]),p.useEffect(()=>{const x=["https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js","script/Winwheel.min.js"],v={green:o.casino_first_color,red:o.casino_second_color,black:o.casino_third_color};rK(x,()=>{const y=new Winwheel({canvasId:s.current.id,numSegments:37,outerRadius:l,innerRadius:d,textFontSize:12,textOrientation:"curved",textAlignment:f,segments:[{fillStyle:v.green,text:"0",textFillStyle:o.text_first_color},{fillStyle:v.red,text:"32",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"15",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"19",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"4",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"21",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"2",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"25",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"17",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"34",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"6",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"27",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"13",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"36",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"11",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"30",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"8",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"23",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"10",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"5",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"24",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"16",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"33",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"1",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"20",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"14",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"31",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"9",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"22",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"18",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"29",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"7",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"28",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"12",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"35",textFillStyle:o.text_third_color},{fillStyle:v.red,text:"3",textFillStyle:o.text_first_color},{fillStyle:v.black,text:"26",textFillStyle:o.text_third_color}],animation:{type:"spinToStop",duration:5,spins:8,callbackFinished:e}});r(y)})},[t]);const w=()=>{n&&n.startAnimation()};return c.jsx("div",{className:`${_i.overlay} ${_i.animated} ${t?_i.show:""}`,children:c.jsxs("div",{className:_i.wheel,style:{background:o.casino_first_color,border:`10px solid ${o.element_second_color}`},children:[c.jsx("canvas",{ref:s,id:"canvas",width:"310",height:"310",children:"Canvas not supported, use another browser."}),c.jsx("div",{className:_i.arrow,children:c.jsx("svg",{width:"40",height:"18",viewBox:"0 0 40 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M40 0L20 18L0 0H40Z",fill:o.element_second_color})})}),c.jsx("button",{className:_i.spin,style:{background:o.element_first_color,border:`10px solid ${o.element_second_color}`,color:o.text_first_color},onClick:w,children:"крутить"})]})})}const dC={"chip-body":"_chip-body_n5j63_1","chip-inner":"_chip-inner_n5j63_12"};function oK({price:t}){return c.jsx("div",{className:dC["chip-body"],children:c.jsx("div",{className:dC["chip-inner"],children:t})})}const iK={0:["green"],1:["red","1-18","odd"],2:["black","1-18","even"],3:["red","1-18","odd"],4:["black","1-18","even"],5:["red","1-18","odd"],6:["black","1-18","even"],7:["red","1-18","odd"],8:["black","1-18","even"],9:["red","1-18","odd"],10:["black","1-18","even"],11:["black","1-18","odd"],12:["red","1-18","even"],13:["black","1-18","odd"],14:["red","1-18","even"],15:["black","1-18","odd"],16:["red","1-18","even"],17:["black","1-18","odd"],18:["red","1-18","even"],19:["red","19-36","odd"],20:["black","19-36","even"],21:["red","19-36","odd"],22:["black","19-36","even"],23:["red","19-36","odd"],24:["black","19-36","even"],25:["red","19-36","odd"],26:["black","19-36","even"],27:["red","19-36","odd"],28:["black","19-36","even"],29:["black","19-36","odd"],30:["red","19-36","even"],31:["black","19-36","odd"],32:["red","19-36","even"],33:["black","19-36","odd"],34:["red","19-36","even"],35:["black","19-36","odd"],36:["red","19-36","even"]};function aK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),r=QG(t),s=fe(),[o,i]=p.useState(!1),{authUser:a}=pe(),[l,u]=p.useState(0),[d,h]=p.useState([]),[f,m]=p.useState(0),[_,w]=p.useState(!1),[x,v]=p.useState(null),[y,g]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[C,b]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(C.isShow){const O=setTimeout(()=>{b({isShow:!1})},1e3);return()=>clearTimeout(O)}},[C]);const k=()=>{g({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),i(!1),h([]),m(0),w(!1)},T=()=>{s("/menu")},S=()=>{i(!0)};p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{(async()=>{if(a&&a._id){const A=Z(q,"users",a._id,"info","preferences"),L=await le(A);if(L.exists()){const D=L.data();console.log(D),u(D.balance<100?1e3:D.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const E=async O=>{if(a&&a._id)try{const A=Z(q,"users",a._id,"info","preferences");await ns(A,{balance:O}),console.log(`Balance updated to ${O}`)}catch(A){console.error("Error updating balance:",A)}else console.error("authUser or authUser._id is undefined")},I=O=>{if(l<100){b({isShow:!0,text:"У вас недостаточно средств для ставки"});return}h(A=>{if(A.some(D=>D.item===O)){const D=A.filter(R=>R.item!==O);return u(l+100),D}else{const D=[...A,{item:O,bet:100}];return u(l-100),D}})},j=O=>{w(!0),v(Number(O.text)),console.log(Number(O.text))};p.useEffect(()=>{console.log(d),_&&N(x)},[d,_]);const N=O=>{const A=iK[O];let L=0,D=0;d.forEach(P=>{(P.item===O||A.includes(P.item))&&(D+=P.bet)});const R=d.some(P=>P.item===O);if(console.log("Base bet:",D),console.log("Has number bet:",R),R)L=D*4;else{const P=d.filter(M=>A.includes(M.item)).length;L=D*P}m(L),u(l+L),E(l+L),g({isShow:!0,title:"Вы выиграли",text:`Ваш выигрыш составил: ${L}`,firstButtonName:"Выйти",secondButtonName:"Играть",firstButtonOnClick:T,secondButtonOnClick:k})};return c.jsxs("div",{className:yi.container,children:[c.jsx(co,{title:y.title,text:y.text,isShow:y.isShow,firstButtonName:y.firstButtonName,secondButtonName:y.secondButtonName,firstButtonOnClick:y.firstButtonOnClick,secondButtonOnClick:y.secondButtonOnClick}),c.jsx(Pt,{isShow:C.isShow,text:C.text}),c.jsx(sK,{isShow:o,onStop:j}),c.jsxs("div",{className:yi.area,children:[c.jsx(hu,{name:"Баланс",isBalance:!0,count:l}),c.jsxs("div",{className:yi.table,children:[r.map(O=>c.jsxs("div",{className:yi.item,style:{background:O.isZero?O.background:"transparent",gridColumn:O.grid==="column"?O.size:"",gridRow:O.grid==="row"?O.size:"",border:`1px solid ${t.element_first_color}`,borderRadius:O.border,color:t.text_first_color},onClick:()=>I(O.name),children:[d.some(A=>A.item===O.name)&&c.jsx(oK,{price:100}),O.isCircle?c.jsx("div",{className:yi.circle,style:{background:O.circleColor,color:t.text_first_color},children:O.name}):O.name]},O.name)),c.jsx("button",{className:yi.spin,style:{background:t.element_first_color,color:t.text_first_color},onClick:S,children:"крутить"})]})]})]})}const lK="_container_1vtou_1",cK="_title_1vtou_36",uK="_text_1vtou_27",Nr={container:lK,"update-body":"_update-body_1vtou_12","update-data":"_update-data_1vtou_22","text-container":"_text-container_1vtou_27",title:cK,text:uK},dK=[{data:"25.03.2025",update:"Добавлена возможность оставлять комментарии и делиться публикациями"},{data:"23.03.2025",update:'Добавлена игра "Угадай линию"'},{data:"19.01.2025",corrections:"Исправлен цвет иконок на светлых цветах"},{data:"16.01.2025",update:"Добавлена возможность просмотра профилей пользователей. Добавлена возможность подписки на пользователей. Добавлено отображение подписчиков. Добавлено отображение дат в расписании. Добавлено отображение количество лайков в постах.",corrections:"Цвет иконок на карточке урока теперь зависит от фонового цвета."},{data:"31.08.2024",update:'Добавлена новая категория товаров: "Родина"'},{data:"29.08.2024",update:"Добавлен отображение повестки в военкомат после игры в тест"},{data:"19.08.2024",update:"Добавлена возможность скачивать картинки в окне просмотра фотографии. Добавлена возможность создавать группы. Добавлена возможность загружать файлы, создавать расписание и делать публикации в своей группе. Добавлен раздел основной группы в меню навигации.",corrections:"Изменен внешний вид публикаций."},{data:"03.07.2024",update:"Добавлена новая игра - тест минутка."},{data:"29.06.2024",update:"Добавлена система промокодов.",corrections:'Исправлена возможность случайного клика на текст "Баланс"'},{data:"27.06.2024",update:`Добавлена новая игра: GCOIN TAP.
Добавлена новая игра: Ракетка.`,corrections:"Изменена высота расположения панели смайлов при загруженных изображения."},{data:"25.06.2024",update:`Добавлена стартовая страница.
Добавлена система входа и регистрации.
Обновлены все меню.
Добавлена возможность отправлять фотографии и смайлы в чат.
Добавлена система цензуры(по умолчанию включена).
Добавлена система публикаций.
Добавлена возможность публиковать до 5 фотографий и сколько угодно текста.
Добавлена система монет(несгораемая сумма состовляет 1000 монет).
Добавлена возможность заработать монеты в казино.
Добавлена система магазина.
Добавлена возможность покупки тем, цветов для обложки профиля, смайлов
Добавлена возможность смены темы.
Добавлена страница профиля.
Добавлена система аватаров(по умполчанию выбирается рандомно)
Появилась возмножность изменить имя, описание, аватар и цвет обложки
Добавлена возможность посмотреть фотографии в исходном размере(для этого необходими кликнуть на неё).
Добавлена система эмодзи(по умолчанию доступны стандартные, но дополнительные можно купить в магазине.
В обновления добавлен раздел "Исправления".`,corrections:`Сумма выигрыша теперь зависит от коэффициента.
Изменилась система подсчета выигрыша в казино(если вы точно угадали число, то +400 монет, если угадали один из параметров числа: odd/even, red/black, 1-18/19-36 - то за каждое совпадание +100 монет.`},{data:"14.02.2024",update:`Добавлено 2 новые игры.
Добавлено 5 новых цитат.
Добавлено 5 новых причин.
Добавлены новые функции в публикации.
Добавлена сортировка по датам в запросы.`,corrections:`Обновлено расписание уроков.
Заменена иконка выхода в меню в играх.`},{data:"21.01.2024",update:`Добавлена новая стартовая страница.
Добавлено новое меню навигации.`,corrections:`Исправлен выход меню из игры.
Заменена иконка выхода в меню в играх.`},{data:"19.12.2023",update:`Новая игра - пианино.
Добавлены звуки: при проирыше, при победе.
Добавлен сезонный приз - зеленая змея.
Добавлен новогодний стартовый экран.`},{data:"11.12.2023",update:"Новая игра - 2048"},{data:"04.12.2023",update:"Новая игра - тетрис"},{data:"03.12.2023",update:"Добавлена генерация полезных цитат для Вашего развития"},{data:"02.12.2023",update:`Добавлена новая страница с фотографиями.
Добавлены интерактивные элементы.`},{data:"11.11.2023",update:"Добавлено 2 новые игры.",corrections:"Внесены правки в игру змейка."},{data:"28.10.2023",update:`Обновлен дизайн сайта.
Изменена система генерации причин и цитат.
Добавлено 20 новых цитат.
Добавлено 10 новых причин.`,corrections:`Удалена генерация оскорблений.
Название сайта изменено на GENERY.
Изменена механика игр.
Изменена система подбора культурных слов.
Изменена система отображения расписания.
Изменено меню выбора игр.
Изменена система подсчета кешбэка.
Обновлена система уведломений.
Изменена система загрузки файлов.`},{data:"29.09.2023",update:`Добавлено две новых цитаты.
Исправлены ошибки в тексте.`,corrections:"Правки кода."},{data:"04.09.2023",update:`Добавлено актуальное расписание уроков.
Добавлено 5 новых причин.
Добавлено 100 новых профессий.
Добавлена версия для ПК.
Добавлена новая игра.`,corrections:"Изменена система отображения обновлений."},{data:"01.08.2023",update:`Добавлено 2 игры.
Добавлен раздел с играми.`,corrections:"Правки кода."},{data:"19.07.2023",update:`Полностью обновлен дизайн.
Добавлен раздел связи с разработчиком.
Добавлена динамическая загрузка расписания.
Добавлен стартовый экран.`},{data:"15.07.2023",update:`Добавлены новые культурные версии для матов.
Добавлен раздел с загрузками.`,corrections:"Заменена иконка раздела оскорблений."},{data:"30.06.2023",update:`Добавлен раздел подбора культурных слов к матам.
Добавлен раздел генерации профессий.`,corrections:'Название сайта изменено на "Мега генератор"'},{data:"11.06.2023",update:`Добавлен раздел генерации оскорблений.
Число пацанских цитат составляет 70.`},{data:"02.06.2023",update:`Сайт снова работает.
Добавлено 100 новых пацанских цитат.`},{data:"05.05.2023",update:`Удален раздел с анекдотами.
Добавлен раздел регистрации и входа в аккаунт.
Добавлено 5 новых цитат.`},{data:"03.05.2023",corrections:`Сайт перенес на другой хостинг
Смена темы больше не доступна.
Причины идти на урок больше не доступны.`},{data:"01.05.2023",update:`Добавлено 5 новых причин не идти на урок.
Добавлен раздел подсчета выигрыша на ставках`},{data:"30.04.2023",update:"Добавлен функционал к разделу с расписанием."},{data:"30.04.2023",update:`Добавлено новое меню.
Добавлен раздел с расписанием уроков.`,corrections:"Раздел обновлений перенесен в новое меню."},{data:"28.04.2023",update:`Добавлен раздел великих цитат.
Добавлено более 30 самых крутых цитат и случаев.`,corrections:"Цитаты разделены на две группы: с матами, и без них."},{data:"28.04.2023",update:"Ведется разработка новых разделов.",corrections:"Кнопка смены темы теперь закреплена при прокрутке."},{data:"28.04.2023",update:"Ведется разработка новых разделов.",corrections:"Кнопка смены темы теперь закреплена при прокрутке."},{data:"28.04.2023",update:`Добавлено меню для переключения страниц в нижней части экрана.
Добавлены разделы: обновлений, анекдотов, причин.
Увеличино разрешение иконок.`},{data:"26.04.2023",update:`Добавлена возможность изменить цветовую тему сайта.
Добавлено изменение генерации причин при смене темы.`},{data:"26.04.2023",update:`Добавлена страница генерации причин
Увеличено количество причин идти/не идти на урок.`},{data:"26.04.2023",update:`Запущен сайт для генерации причин не идти на урок.
Добавлено 36 причин не идти на урок.`}];function hK({data:t,update:e,corrections:n}){const{theme:r,elementColors:s,setElementColors:o}=p.useContext(F),i=e?e.split(`
`):[],a=n?n.split(`
`):[];return c.jsxs("div",{className:Nr["update-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:Nr["update-data"],style:{color:r.text_first_color},children:t}),e&&c.jsxs("div",{className:Nr["text-container"],children:[c.jsx("div",{className:Nr.title,style:{color:r.text_first_color},children:"Новые функции:"}),c.jsx("div",{className:Nr.text,style:{color:r.text_first_color},children:i.map((l,u)=>c.jsxs(gr.Fragment,{children:[l,c.jsx("br",{})]},u))})]}),n&&c.jsxs("div",{className:Nr["text-container"],children:[c.jsx("div",{className:Nr.title,style:{color:r.text_first_color},children:"Исправления:"}),c.jsx("div",{className:Nr.text,style:{color:r.text_first_color},children:a.map((l,u)=>c.jsxs(gr.Fragment,{children:[l,c.jsx("br",{})]},u))})]})]})}function fK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),r=fe();return p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>r("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[F]),c.jsxs("div",{className:Nr.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),dK.map(s=>c.jsx(hK,{data:s.data,update:s.update,corrections:s.corrections}))]})}const pK="_container_1qgb1_1",mK="_title_1qgb1_12",gK="_circle_1qgb1_47",yK="_edit_1qgb1_93",_K="_button_1qgb1_113",pt={container:pK,title:mK,"files-container":"_files-container_1qgb1_18","download-body":"_download-body_1qgb1_28","add-body":"_add-body_1qgb1_38",circle:gK,"download-name":"_download-name_1qgb1_57","download-name-empty":"_download-name-empty_1qgb1_63","download-button":"_download-button_1qgb1_70","download-button-empty":"_download-button-empty_1qgb1_87",edit:yK,button:_K};function vK({color:t,name:e,url:n,id:r}){const{theme:s,elementColors:o,setElementColors:i}=p.useContext(F),a=(l,u)=>{const d=new XMLHttpRequest;d.responseType="blob",d.onload=h=>{const f=d.response,m=document.createElement("a");m.href=window.URL.createObjectURL(f),m.download=u,document.body.appendChild(m),m.click(),document.body.removeChild(m)},d.open("GET",l),d.send()};return c.jsxs("div",{className:pt["download-body"],style:{border:`2px solid ${s.element_first_color}`},children:[c.jsx("div",{className:pt["download-name"],style:{color:s.text_first_color},children:e}),c.jsx("button",{className:pt["download-button"],style:{background:t},onClick:l=>{l.preventDefault(),a(n,e)},children:c.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 1C9 0.447715 8.55228 2.41411e-08 8 0C7.44772 -2.41411e-08 7 0.447715 7 1L9 1ZM7.29289 14.435C7.68342 14.8256 8.31658 14.8256 8.70711 14.435L15.0711 8.07107C15.4616 7.68054 15.4616 7.04738 15.0711 6.65685C14.6805 6.26633 14.0474 6.26633 13.6569 6.65685L8 12.3137L2.34315 6.65685C1.95262 6.26633 1.31946 6.26633 0.928932 6.65685C0.538408 7.04738 0.538408 7.68054 0.928932 8.07107L7.29289 14.435ZM7 1L7 13.7279L9 13.7279L9 1L7 1Z",fill:s.text_first_color})})})]})}function Vh(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F);return c.jsxs("div",{className:pt["download-body"],style:{border:`2px solid ${t.element_first_color}`},children:[c.jsx("div",{className:pt["download-name-empty"],style:{color:t.text_first_color},children:c.jsx(bn,{width:"100%",height:"18px",shape:"rect"})}),c.jsx("div",{className:pt["download-button-empty"],children:c.jsx(bn,{width:"32px",height:"32px",shape:"circle"})})]})}function wK({color:t,name:e,url:n,id:r,onDelete:s}){const{theme:o,elementColors:i,setElementColors:a}=p.useContext(F);return c.jsxs("div",{className:pt["download-body"],style:{border:`2px solid ${o.element_first_color}`},children:[c.jsx("div",{className:pt["download-name"],style:{color:o.text_first_color},children:e}),c.jsx("button",{className:pt["download-button"],style:{background:t},onClick:s,children:c.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:o.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function xK({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState([]),[a,l]=p.useState(),[u,d]=p.useState(),[h,f]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[m,_]=p.useState(),{authUser:w}=pe();fe(),p.useEffect(()=>{(async()=>{try{const b=Z(q,"groups",t,"info","info"),k=await le(b);if(k.exists()){const T=k.data();_(T.owner)}else console.error("Group not found")}catch(b){console.error("Error fetching group data:",b)}finally{}})()},[t]);const x=async()=>{if(t)try{const C=Z(q,"groups",t,"info","downloads"),b=await le(C);if(b.exists()){const k=b.data();i(k.files||[]),console.log(k.files)}else console.log("No such document!"),i([])}catch(C){console.error("Error fetching group data:",C),i([])}finally{l(!1)}else console.error("ID группы не указан"),i([]),l(!1)};p.useEffect(()=>{x()},[t]),p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:e,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[F]);const v=C=>{f({isShow:!0,title:"Удаление файла",text:`Вы действительно хотите удалить файл ${C.name}?`,firstButtonName:"Отмена",firstButtonOnClick:()=>f({isShow:!1}),secondButtonName:"Удалить",secondButtonOnClick:()=>y(C)})},y=async C=>{if(!C||!C.link){console.error("Invalid file or file URL:",C);return}f({isShow:!1});try{const b=C.link;console.log("File URL:",b);let T=b.replace("https://firebasestorage.googleapis.com/v0/b/genery-c83e3.appspot.com/o/","");T=decodeURIComponent(T);const[S]=T.split("?");console.log("File Path:",S);const E=Sr(Er,S);await NM(E),console.log("File deleted from Firebase Storage");const I=Z(q,"groups",t,"info","downloads"),j=await le(I);if(j.exists()){const O=(j.data().files||[]).filter(A=>A.link!==b);await ut(I,{files:O},{merge:!0}),i(O),console.log("File deleted from Firestore")}else console.log("No such document in Firestore!")}catch(b){console.error("Error deleting file:",b)}},g=async()=>{await x(),d(!1)};return c.jsxs(c.Fragment,{children:[c.jsx(co,{title:h.title,text:h.text,isShow:h.isShow,firstButtonName:h.firstButtonName,secondButtonName:h.secondButtonName,firstButtonOnClick:h.firstButtonOnClick,secondButtonOnClick:h.secondButtonOnClick}),c.jsx(XW,{id:t,isShow:u,close:g}),c.jsx("div",{className:pt.title,style:{color:n.text_first_color},children:"Файлы"}),c.jsx("div",{className:pt["files-container"],children:a?c.jsxs(c.Fragment,{children:[c.jsx(Vh,{}),c.jsx(Vh,{})]}):c.jsxs(c.Fragment,{children:[o.map(C=>c.jsx(wK,{color:C.color,name:C.name,url:C.link,id:t,onDelete:()=>v(C)},C.name)),c.jsx("div",{className:pt["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>d(!0),children:c.jsx("div",{className:pt.circle,style:{background:n.element_first_color},children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})}),c.jsx("button",{className:pt.button,style:{background:n.first_color,color:n.text_first_color},onClick:e,children:"Сохранить"})]})})]})}function CK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState([]),[o,i]=p.useState(),{id:a}=Tr(),[l,u]=p.useState(),{authUser:d}=pe(),h=fe(),[f,m]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const y=Z(q,"groups",a,"info","info"),g=await le(y);if(g.exists()){const C=g.data();u(C.owner)}else console.error("Group not found")}catch(y){console.error("Error fetching group data:",y)}finally{}})()},[a]);const _=async()=>{if(a)try{const v=Z(q,"groups",a,"info","downloads"),y=await le(v);if(y.exists()){const g=y.data();s(g.files||[]),console.log(g.files)}else console.log("No such document!"),s([])}catch(v){console.error("Error fetching group data:",v),s([])}finally{i(!1)}else console.error("ID группы не указан"),s([]),i(!1)};p.useEffect(()=>{_()},[a]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${a}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[F]);const w=()=>{m(!0)},x=()=>{m(!1)};return c.jsx("div",{className:pt.container,children:f?c.jsx(xK,{id:a,handleEdit:x}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:pt.title,style:{color:t.text_first_color},children:"Файлы"}),c.jsx("div",{className:pt["files-container"],children:o?c.jsxs(c.Fragment,{children:[c.jsx(Vh,{}),c.jsx(Vh,{})]}):r.length>0?r.map(v=>c.jsx(vK,{color:v.color,name:v.name,url:v.link,id:a},v.name)):c.jsx("div",{className:pt["info-body"],style:{color:t.text_first_color},children:"Тут пока пусто ..."})}),l&&l===d._id&&c.jsx("button",{className:pt.edit,style:{background:t.first_color},onClick:w,children:c.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_first_color})})})]})})}const bK="_container_143zk_2",kK="_cover_143zk_22",SK="_label_143zk_189",Q={container:bK,"profile-container":"_profile-container_143zk_13","cover-container":"_cover-container_143zk_22",cover:kK,"cover-pattern":"_cover-pattern_143zk_41","user-photo":"_user-photo_143zk_49","change-photo-button":"_change-photo-button_143zk_68","user-actions":"_user-actions_143zk_86","user-info":"_user-info_143zk_92","user-name":"_user-name_143zk_99","circle-button":"_circle-button_143zk_104","user-biography":"_user-biography_143zk_121","button-container":"_button-container_143zk_126","quit-button":"_quit-button_143zk_135","colors-container":"_colors-container_143zk_152","color-circle":"_color-circle_143zk_162","active-circle":"_active-circle_143zk_172","input-data-container":"_input-data-container_143zk_179",label:SK,"input-data":"_input-data_143zk_179","item-body":"_item-body_143zk_205","item-icon":"_item-icon_143zk_218","item-name":"_item-name_143zk_226","item-info":"_item-info_143zk_233","item-circle":"_item-circle_143zk_241","posts-container":"_posts-container_143zk_258"};function EK({fetchUserPreferences:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),{authUser:o}=pe(),[i,a]=p.useState(o.name),[l,u]=p.useState(o.biography),[d,h]=p.useState(!0),[f,m]=p.useState(null),[_,w]=p.useState(o.cover),[x,v]=p.useState([]),[y,g]=p.useState({isShow:!1,text:""});p.useEffect(()=>{(async()=>{if(o&&o._id){const I=Z(q,"users",o._id,"info","preferences"),j=await le(I);if(j.exists()){const N=j.data();console.log(N),a(N.name),u(N.biography),w(N.cover),v(O=>[...O,...N.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const C=x?uu.filter(E=>x.includes(E.name)):[];p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{if(y.isShow){const E=setTimeout(()=>{g({isShow:!1})},1500);return()=>clearTimeout(E)}},[y.isShow]);const b=E=>{E.target.files[0]&&(m(E.target.files[0]),console.log(E.target.files[0]))},k=E=>{w(E)},T=async()=>{let E=null;const I=new Date().toISOString();if(f){const j=Sr(Er,`users_photo/${o._id}/${I}_${f.name}`);await Qo(j,f),E=await rs(j)}if(o&&o._id){const j=Z(q,"users",o._id,"info","preferences");try{await ut(j,{name:i,biography:l,photo:f?E:o.avatar,cover:_},{merge:!0}),await t(),e()}catch(N){console.error("Error updating document: ",N)}}};function S(E){if(!E)return!1;let I,j,N;if(E.startsWith("#"))if(E.length===4)I=parseInt(E[1]+E[1],16),j=parseInt(E[2]+E[2],16),N=parseInt(E[3]+E[3],16);else if(E.length===7)I=parseInt(E.slice(1,3),16),j=parseInt(E.slice(3,5),16),N=parseInt(E.slice(5,7),16);else return!1;else if(E.startsWith("rgb")){const A=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(A.length===3)I=A[0],j=A[1],N=A[2];else return!1}else{const A=document.createElement("div");A.style.color=E,document.body.appendChild(A);const L=window.getComputedStyle(A).color;if(document.body.removeChild(A),L.startsWith("rgb")){const D=L.substring(L.indexOf("(")+1,L.lastIndexOf(")")).split(",").map(Number);if(D.length===3)I=D[0],j=D[1],N=D[2];else return!1}else return!1}return(I*299+j*587+N*114)/1e3>180}return c.jsxs("div",{className:Q["profile-container"],children:[c.jsx(Pt,{isShow:y.isShow,text:y.text}),c.jsx("div",{className:Q["cover-container"],children:c.jsx("div",{className:Q.cover,style:{background:_},children:c.jsx("div",{className:Q["cover-pattern"]})})}),c.jsxs("div",{className:Q["user-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[c.jsx("button",{className:Q["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:f?URL.createObjectURL(f):o.avatar}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:b})]}),c.jsx("div",{className:Q["colors-container"],style:{background:n.element_first_color},children:C.map(E=>c.jsx(c.Fragment,{children:E.colors.map((I,j)=>c.jsx("div",{className:Q["color-circle"],style:{background:I},onClick:()=>k(I),children:_===I&&c.jsx("div",{className:Q["active-circle"],style:{borderColor:S(I)?"#0A0B10":"#fff"}})},j))}))}),c.jsxs("div",{className:Q["user-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:Q["input-data-container"],children:[c.jsx("div",{className:Q.label,style:{color:n.first_color},children:"Имя"}),c.jsx("input",{type:"text",value:i,className:Q["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>a(E.target.value)})]}),c.jsxs("div",{className:Q["input-data-container"],children:[c.jsx("div",{className:Q.label,style:{color:n.first_color},children:"О себе"}),c.jsx("input",{type:"text",value:l,className:Q["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>u(E.target.value)})]}),c.jsx("div",{className:Q["button-container"],children:c.jsx("button",{className:Q["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:T,children:"Сохранить"})})]})]})}function TK({id:t}){const{theme:e,elementColors:n,setElementColors:r}=p.useContext(F),{authUser:s,ga:o}=pe(),[i,a]=p.useState({name:s.name,biography:s.biography,photo:s.avatar}),l=fe(),[u,d]=p.useState(!1),[h,f]=p.useState({isShow:!1,text:""}),[m,_]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{r({iconColor:e.text_first_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>l("/list-menu"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const w=async()=>{if(s&&s._id){const g=Z(q,"users",s._id,"info","preferences"),C=await le(g);if(C.exists()){const b=C.data();console.log(b),a({name:b.name,biography:b.biography,photo:b.photo,cover:b.cover,balance:b.balance,followers:b.followers})}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{w()},[]);const x=()=>{navigator.clipboard.writeText(s._id).then(()=>{f({isShow:!0,text:"id скопирован в буфер обмена"})}).catch(g=>{f({isShow:!0,text:`Не удалось скопировать id ${g}`})})};p.useEffect(()=>{if(h.isShow){const g=setTimeout(()=>{f({isShow:!1})},1500);return()=>clearTimeout(g)}},[h.isShow]);const v=()=>{d(!1),f({isShow:!0,text:"изменения успешно сохранены"})},y=g=>{_({isShow:!0,images:g,index:0})};return c.jsxs("div",{className:Q.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(lo,{isShow:m.isShow,images:m.images,index:m.index,onClose:()=>_({isShow:!1})}),u?c.jsx(EK,{handleEdit:v,fetchUserPreferences:w}):c.jsxs("div",{className:Q["profile-container"],children:[c.jsx(Pt,{isShow:h.isShow,text:h.text}),c.jsx("div",{className:Q["cover-container"],children:c.jsx("div",{className:Q.cover,style:{background:i.cover},children:c.jsx("div",{className:Q["cover-pattern"]})})}),c.jsx("div",{className:Q["user-photo"],style:{borderColor:e.background_color},children:c.jsx("img",{src:i.photo,onClick:()=>y(i.photo)})}),c.jsxs("div",{className:Q["user-actions"],style:{background:e.element_first_color},children:[c.jsxs("div",{className:Q["user-info"],children:[c.jsx("div",{className:Q["user-name"],style:{color:e.text_first_color},children:i.name}),c.jsx("button",{className:Q["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:x,children:"#"})]}),c.jsx("div",{className:Q["user-biography"],style:{color:e.text_first_color},children:i.biography}),c.jsxs("div",{className:Q["button-container"],children:[c.jsx("button",{className:Q["quit-button"],style:{background:e.element_second_color,color:e.text_first_color},onClick:()=>tA(o),children:"Выйти"}),c.jsx("button",{className:Q["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:()=>d(!0),children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:e.text_first_color})})})]})]}),c.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${e.element_first_color}`},children:[c.jsx("div",{className:Q["item-info"],children:c.jsxs("div",{className:Q["item-name"],style:{color:e.text_first_color},children:["Баланс:  ",i.balance," ",c.jsx(Uh,{color:e.first_color})]})}),c.jsx("div",{className:Q["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l(`/subscribers/${t}?isGroup=false`),children:[c.jsx("div",{className:Q["item-info"],children:c.jsxs("div",{className:Q["item-name"],style:{color:e.text_first_color},children:["Подписчики: ",i.followers?i.followers.length:0]})}),c.jsx("div",{className:Q["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l("/settings"),children:[c.jsxs("div",{className:Q["item-info"],children:[c.jsx("div",{className:Q["item-icon"],children:c.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.0001 1C16.7522 1 17.4936 1.05571 18.2158 1.16286L19.3043 4.46066C20.2579 4.7328 21.1643 5.12065 22.0043 5.60921L25.1328 4.10067C26.2406 4.95137 27.2263 5.95421 28.0578 7.07705L26.4935 10.1777C26.9671 11.0263 27.3399 11.9391 27.5949 12.8991L30.8734 14.0412C31.0541 15.4276 31.0418 16.8324 30.837 18.2154L27.5392 19.304C27.2689 20.2478 26.8831 21.1547 26.3906 22.004L27.8992 25.1325C27.0473 26.2406 26.0456 27.225 24.9228 28.0574L21.8221 26.4932C20.9644 26.9722 20.0502 27.3422 19.1008 27.5946L17.9586 30.8731C16.5722 31.0537 15.1675 31.0415 13.7844 30.8367L12.6959 27.5389C11.752 27.2686 10.8452 26.8828 9.9959 26.3903L6.86738 27.8989C5.75923 27.047 4.77484 26.0453 3.94243 24.9225L5.50669 21.8218C5.02886 20.9635 4.65892 20.0495 4.40528 19.1004L1.12676 17.9562C0.946317 16.5704 0.958576 15.1664 1.16318 13.7841L4.46099 12.6955C4.73313 11.742 5.12098 10.8356 5.60954 9.99557L4.10099 6.86705C4.95285 5.75891 5.95455 4.77451 7.07738 3.9421L10.178 5.50636C11.0358 5.02737 11.95 4.65737 12.8994 4.40495L14.0437 1.12643C14.6924 1.04203 15.3459 0.999799 16.0001 1Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),c.jsx("path",{d:"M16.0002 22.4282C19.5506 22.4282 22.4287 19.5501 22.4287 15.9998C22.4287 12.4494 19.5506 9.57129 16.0002 9.57129C12.4499 9.57129 9.57178 12.4494 9.57178 15.9998C9.57178 19.5501 12.4499 22.4282 16.0002 22.4282Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}),c.jsx("div",{className:Q["item-name"],style:{color:e.text_first_color},children:"Настройки"})]}),c.jsx("div",{className:Q["item-circle"],style:{background:e.second_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.background_color})})})]})]})]})}function IK({id:t}){const{authUser:e}=pe(),{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState({isShow:!0}),[a,l]=p.useState({isShow:!1,text:""}),u=fe(),[d,h]=p.useState([]),[f,m]=p.useState(!1),[_,w]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>u("/posts"),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{x()},[t]);const x=async()=>{if(t){const k=Z(q,"users",t,"info","preferences"),T=await le(k);if(T.exists()){const S=T.data();console.log(S),i({id:S.uid,isUser:!0,name:S.name,biography:S.biography,photo:S.photo,cover:S.cover,followers:S.followers||[]})}else console.log("No such document!"),i({isUser:!1,name:"Пользователь не найден",biography:""})}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{if(a.isShow){const k=setTimeout(()=>{l({isShow:!1})},1500);return()=>clearTimeout(k)}},[a.isShow]),p.useEffect(()=>{const k=li(Va(In(q,"posts"),za("timestamp","desc")),T=>{const S=[];T.forEach(E=>{const I=E.data();if(I.userId===t){const j=new Date(I.timestamp),N=I.likesArray,O=j.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});S.push({id:E.id,userId:I.userId,userName:I.userName,groupOwnerId:I.groupOwnerId,userPhoto:I.userPhoto,postText:I.text,postPhoto:I.photos,postData:O,likesArray:N})}}),h(S),m(!1)});return()=>{k()}},[t]);const v=(k,T)=>{w({isShow:!0,images:k,index:T})},y=(k,T)=>{switch(k){case"delete":return setAlertProp({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(T)});default:return setAlertProp({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}},g=k=>{w({isShow:!0,images:k,index:0})},C=async()=>{if(e._id){const k=Z(q,"users",t,"info","preferences"),T=Z(q,"users",e._id,"info","preferences");try{const S=await le(k),E=await le(T);if(S.exists()&&E.exists()){const I=S.data(),j=E.data(),N=I.followers||[],O=j.subscribes||[];let A,L;N.includes(e._id)?(A=N.filter(D=>D!==e._id),L=O.filter(D=>D!==t)):(A=[...N,e._id],L=[...O,t]),await ut(k,{followers:A},{merge:!0}),await ut(T,{subscribes:L},{merge:!0}),await x(),console.log("Subscription updated successfully")}else console.error("Group or user document does not exist")}catch(S){console.error("Error updating subscription:",S)}}else console.error("User is not authenticated")},b=()=>{navigator.clipboard.writeText(o.id).then(()=>{l({isShow:!0,text:"id скопирован в буфер обмена"})}).catch(k=>{l({isShow:!0,text:`Не удалось скопировать id ${k}`})})};return c.jsxs("div",{className:Q.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${n.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(lo,{isShow:_.isShow,images:_.images,index:_.index,onClose:()=>w({isShow:!1})}),c.jsx(Pt,{isShow:a.isShow,text:a.text}),c.jsx("div",{className:Q["cover-container"],children:c.jsx("div",{className:Q.cover,style:{background:o.cover},children:c.jsx("div",{className:Q["cover-pattern"]})})}),c.jsx("div",{className:Q["user-photo"],style:{borderColor:n.background_color},children:c.jsx("img",{src:o.photo,onClick:()=>g(o.photo)})}),o.isUser?c.jsxs("div",{className:Q["user-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:Q["user-info"],children:[c.jsx("div",{className:Q["user-name"],style:{color:n.text_first_color},children:o.name}),c.jsx("button",{className:Q["circle-button"],style:{color:"var(--text-first-color)",background:"var(--first-color)"},onClick:b,children:"#"})]}),c.jsx("div",{className:Q["user-biography"],style:{color:n.text_first_color},children:o.biography}),c.jsx("div",{className:Q["button-container"],children:c.jsx("button",{className:Q["quit-button"],style:{background:o.followers.includes(e._id)?n.element_second_color:n.first_color,color:n.text_first_color},onClick:C,children:o.followers&&o.followers.includes(e._id)?"Отписаться":"Подписаться"})})]}):c.jsx("div",{className:Q["user-actions"],style:{background:n.element_first_color},children:c.jsx("div",{className:Q["user-info"],children:c.jsx("div",{className:Q["user-name"],style:{color:n.text_first_color},children:o.name})})}),c.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${n.element_first_color}`},onClick:()=>u(`/subscribers/${t}?isGroup=false`),children:[c.jsx("div",{className:Q["item-info"],children:c.jsxs("div",{className:Q["item-name"],style:{color:n.text_first_color},children:["Подписчики: ",o.followers?o.followers.length:0]})}),c.jsx("div",{className:Q["item-circle"],style:{background:n.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n.text_first_color})})})]}),c.jsx("div",{className:Q["posts-container"],children:f?c.jsxs(c.Fragment,{children:[c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{})]}):d.map(k=>c.jsx(du,{postId:k.id,groupOwnerId:k.groupOwnerId,userId:k.userId,userName:k.userName,userPhoto:k.userPhoto,postData:k.postData,postText:k.postText,postPhotos:k.postPhoto,likesArray:k.likesArray,photoClick:v,postAction:y},k.id))})]})}function NK(){const{authUser:t}=pe(),{id:e}=Tr();return!e||e===t._id?c.jsx(TK,{id:t._id}):c.jsx(IK,{id:e})}const jK="_container_84yn6_1",AK={container:jK},ll={"block-body":"_block-body_1qf46_1","block-name":"_block-name_1qf46_10","block-button":"_block-button_1qf46_15","button-circle":"_button-circle_1qf46_25","button-name":"_button-name_1qf46_41"};function PK({name:t,buttonText:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F);return c.jsxs("div",{className:ll["block-body"],style:{background:r.element_first_color},children:[c.jsx("div",{className:ll["block-name"],style:{color:r.text_first_color},children:t}),c.jsxs("button",{className:ll["block-button"],style:{background:r.first_color},onClick:n,children:[c.jsx("h4",{className:ll["button-name"],style:{color:r.text_first_color},children:e}),c.jsx("div",{className:ll["button-circle"],style:{background:r.text_first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.background_color})})})]})]})}const RK="_overlay_1y7wn_1",LK="_line_1y7wn_25",OK="_content_1y7wn_36",ds={overlay:RK,"menu-wrapper":"_menu-wrapper_1y7wn_11",line:LK,"content-wrapper":"_content-wrapper_1y7wn_36","menu-title":"_menu-title_1y7wn_46",content:OK,"input-promo":"_input-promo_1y7wn_64","main-button":"_main-button_1y7wn_80"};function DK({isShow:t,setShow:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F),{authUser:a}=pe(),[l,u]=p.useState(Array(6).fill("")),[d,h]=p.useState([]),[f,m]=p.useState(!1),[_,w]=p.useState(!0),[x,v]=p.useState(),[y,g]=p.useState(),C=p.useRef(),b=p.useRef([]),[k,T]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(k.isShow){const L=setTimeout(()=>{T({isShow:!1})},1e3);return()=>clearTimeout(L)}},[k]);const S=E6(0),E={hidden:{opacity:0,visibility:"hidden"},show:{opacity:1,visibility:"visible"},close:{marginTop:"100%"},open:{marginTop:"30%"}},I=(L,D)=>{const R=L.target.value,P=[...l];P[D]=R,u(P),R.length===1&&D<b.current.length-1?b.current[D+1].focus():R.length===0&&D>0&&b.current[D-1].focus();const M=P.filter(B=>B!=="");w(M.length<6)},j=(L,D)=>{const[R,P,M]=L.split(".").map(Number),[B,W]=D.split(":").map(Number);return new Date(M,P-1,R,B,W)},N=async()=>{u(Array(6).fill("")),w(!0);const L=l.join("").toUpperCase(),D=Z(q,"promocodes",L),R=await le(D);if(R.exists()){const P=R.data();j(P.time.data,P.time.time)>new Date?(n("found",P.money),e(!1)):n("time exist",0)}else n("not found",0)},O=()=>{m(!0)},A=()=>{m(!1);const L=S.get();console.log("dragY:",L),C.current&&(L<-70?C.current.style.marginTop="2%":L>10&&L<50?C.current.style.marginTop="3%":L>70&&e(!1)),S.set(0)};return c.jsxs(ot.div,{className:ds.overlay,variants:E,initial:"hidden",animate:t?"show":"hidden",children:[c.jsx(Pt,{isShow:k.isShow,text:k.text}),c.jsxs(ot.section,{className:ds["menu-wrapper"],style:{y:S,background:r.element_first_color},ref:C,variants:E,initial:"close",animate:t?"open":"close",drag:"y",dragConstraints:{top:window.innerWidth>700?-300:-50,bottom:0},transition:{type:"spring",damping:40,stiffness:400},onDragStart:O,onDragEnd:A,children:[c.jsx("div",{className:ds.line,style:{background:r.element_second_color}}),c.jsxs("div",{className:ds["content-wrapper"],children:[c.jsx("h3",{className:ds["menu-title"],style:{color:r.text_first_color},children:"Промокод"}),c.jsx("div",{className:ds.content,children:l.map((L,D)=>c.jsx("input",{type:"text",className:ds["input-promo"],style:{color:r.text_first_color,background:r.element_second_color,"--focusColor":r.gradient_first_color},maxLength:1,value:L,onChange:R=>I(R,D),ref:R=>b.current[D]=R},D))}),c.jsx("button",{className:ds["main-button"],style:{background:_?r.element_second_color:r.first_color,color:r.text_first_color},disabled:_,onClick:N,children:"Активировать"})]})]})]})}function MK(){const{authUser:t}=pe(),{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState(!1),[a,l]=p.useState(),[u,d]=p.useState(),h=fe(),[f,m]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(f.isShow){const v=setTimeout(()=>{m({isShow:!1})},1e3);return()=>clearTimeout(v)}},[f]),p.useEffect(()=>{s({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>h("/group-list"),arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:0,background:e.background_color}),document.body.style.background=e.background_color},[F]),p.useEffect(()=>{(async()=>{if(t&&t._id){const y=Z(q,"users",t._id,"info","preferences"),g=await le(y);if(g.exists()){const C=g.data();l(C.balance),d(C.promoLastActivated?new Date(C.promoLastActivated):null)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const _=async(v,y)=>{if(t&&t._id){const g=Z(q,"users",t._id,"info","preferences"),C=await le(g),b=new Date;if(C.exists()){const k=C.data(),T=k.promoLastActivated?new Date(k.promoLastActivated):null;if(T&&b-T<24*60*60*1e3){m({isShow:!0,text:"Промокод можно активировать только раз в сутки"});return}}try{await ns(g,{balance:v,promoLastActivated:b.toISOString()}),m({isShow:!0,text:`Промод активирован. Ваш баланс пополнен на ${y}`}),console.log(`Balance updated to ${v}`)}catch(k){console.error("Error updating balance:",k)}}else console.error("authUser or authUser._id is undefined")},w=(v,y)=>{switch(v){case"not found":return[m({isShow:!0,text:"Промокод не найден"}),i(!1)];case"time exist":return[m({isShow:!0,text:"Действие промокода закончилось"}),i(!1)];case"found":return[_(a+y,y)]}},x=()=>{i(!0)};return c.jsxs("div",{className:AK.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 5px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.element_first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
        `}),c.jsx(Pt,{isShow:f.isShow,text:f.text}),c.jsx(DK,{isShow:o,setShow:i,onClick:w}),c.jsx(PK,{name:"Активируйте промокод",buttonText:"Активировать",onClick:x}),c.jsx(Zn,{name:"Казино",description:"Последний деп?",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_first_color,linkTo:"/casino"}),c.jsx(Zn,{name:"GCOIN",description:"тапай по экрану",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_second_color,linkTo:"/tapcoin"}),c.jsx(Zn,{name:"Ракетка",description:"Не входи в азарт",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/rocket"}),c.jsx(Zn,{name:"Тест",description:"поступи на СВО",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/quiz"}),c.jsx(Zn,{name:"Flyppi bird",description:"9/11",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/flippybird"}),c.jsx(Zn,{name:"Рейтинг студентов",description:"Баллы получай, IQ повышай",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/rating"}),c.jsx(Zn,{name:"Угадай линию",description:"Ну могу 2 балла поставить",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/guessline"})]})}const $K=()=>{const t=p.useRef(null),e=p.useRef(null),[n,r]=p.useState(null),s=async()=>{try{const a=await navigator.mediaDevices.getUserMedia({video:!0});t.current.srcObject=a,t.current.play()}catch(a){console.error("Error accessing camera: ",a)}},o=()=>{t.current.srcObject.getTracks().forEach(u=>{u.stop()}),t.current.srcObject=null},i=()=>{e.current.getContext("2d").drawImage(t.current,0,0,e.current.width,e.current.height);const l=e.current.toDataURL("image/png");r(l)};return c.jsxs("div",{children:[c.jsx("video",{ref:t,width:"640",height:"480",autoPlay:!0}),c.jsx("canvas",{ref:e,width:"640",height:"480",style:{display:"none"}}),c.jsxs("div",{children:[c.jsx("button",{onClick:s,children:"Start Camera"}),c.jsx("button",{onClick:i,children:"Capture Photo"}),c.jsx("button",{onClick:o,children:"Stop Camera"})]}),n&&c.jsxs("div",{children:[c.jsx("h2",{children:"Captured Image:"}),c.jsx("img",{src:n,alt:"Captured"})]})]})},FK="_container_1ka4o_1",BK="_coin_1ka4o_34",UK="_limit_1ka4o_120",VK="_icon_1ka4o_126",zK="_data_1ka4o_113",Dt={container:FK,"score-container":"_score-container_1ka4o_12","wrapper-action":"_wrapper-action_1ka4o_17","score-add":"_score-add_1ka4o_26",coin:BK,"control-point-1":"_control-point-1_1ka4o_45","control-point-2":"_control-point-2_1ka4o_55","control-point-3":"_control-point-3_1ka4o_64","control-point-4":"_control-point-4_1ka4o_74","control-point-center":"_control-point-center_1ka4o_84","coin-outer":"_coin-outer_1ka4o_93","coin-inner":"_coin-inner_1ka4o_104","data-container":"_data-container_1ka4o_113",limit:UK,icon:VK,data:zK};function HK(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),{authUser:s}=pe(),[o,i]=p.useState(),[a,l]=p.useState(0),[u,d]=p.useState(),h=p.useRef(),[f,m]=p.useState(0),[_,w]=p.useState([]),x=fe();p.useEffect(()=>{d(a)},[a]),p.useEffect(()=>{(async()=>{if(s&&s._id){const C=Z(q,"users",s._id,"info","preferences"),b=await le(C);if(b.exists()){const k=b.data();i(k.balance),l(k.limit)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const v=async g=>{if(s&&s._id)try{const C=Z(q,"users",s._id,"info","preferences");await ns(C,{balance:g}),console.log(`Balance updated to ${g}`)}catch(C){console.error("Error updating balance:",C)}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{v(o)},[o]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>x("/game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(u<a){const g=setTimeout(()=>{d(u+1)},500);return()=>clearTimeout(g)}},[u]);const y=g=>{if(u<=0)return;i(o+1),d(u-1);const C={x:g.clientX,y:g.clientY,id:Date.now()};w(b=>[...b,C]),setTimeout(()=>{w(b=>b.filter(k=>k.id!==C.id))},10)};return p.useEffect(()=>{h.current&&(h.current.style.transform=`rotateY(${f}deg)`,f&&setTimeout(()=>{m(0)},70))},[f]),c.jsxs("div",{className:Dt.container,children:[c.jsx(BH,{children:_.map(g=>c.jsx(ot.div,{className:Dt["score-add"],initial:{opacity:1,top:g.y-10,left:g.x-10},animate:{opacity:0,top:g.y-40,left:g.x-10},exit:{opacity:0},style:{color:t.text_first_color},children:"+1"},g.id))}),c.jsx("div",{className:Dt["score-container"],children:c.jsx(hu,{name:"Баланс",count:o,isBalance:!0})}),c.jsx("div",{className:Dt["wrapper-action"],children:c.jsxs("div",{className:Dt.coin,ref:h,onClick:y,children:[c.jsx("div",{className:Dt["control-point-1"],onClick:()=>m(30)}),c.jsx("div",{className:Dt["control-point-2"],onClick:()=>m(-30)}),c.jsx("div",{className:Dt["control-point-3"],onClick:()=>m(30)}),c.jsx("div",{className:Dt["control-point-4"],onClick:()=>m(-30)}),c.jsx("div",{className:Dt["control-point-center"]}),c.jsx("div",{className:Dt["coin-outer"],style:{background:t.first_color},children:c.jsx("div",{className:Dt["coin-inner"]})})]})}),c.jsx("div",{className:Dt["data-container"],children:c.jsxs("div",{className:Dt.limit,children:[c.jsx("div",{className:Dt.icon,children:c.jsx("svg",{width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9.17925 0.737957C9.28191 0.797057 9.36135 0.88898 9.4046 0.998711C9.44784 1.10844 9.45234 1.22949 9.41735 1.34209L7.52826 7.43758H11.0138C11.1162 7.43754 11.2164 7.46728 11.302 7.52314C11.3876 7.57901 11.4549 7.65854 11.4955 7.75192C11.5361 7.84531 11.5483 7.94846 11.5305 8.04864C11.5128 8.14882 11.4659 8.24164 11.3956 8.31565L3.0043 17.1693C2.9231 17.2551 2.81506 17.311 2.69778 17.3279C2.58049 17.3449 2.46089 17.3219 2.35845 17.2627C2.25601 17.2035 2.17679 17.1116 2.13369 17.0019C2.09059 16.8923 2.08616 16.7714 2.12111 16.6589L4.0102 10.5624H0.524666C0.422234 10.5624 0.322033 10.5327 0.236431 10.4768C0.150829 10.421 0.0835737 10.3414 0.0429683 10.248C0.00236276 10.1547 -0.00981566 10.0515 0.00793624 9.95134C0.0256882 9.85116 0.0725932 9.75833 0.142861 9.68432L8.53417 0.83066C8.61526 0.745039 8.72314 0.689177 8.84025 0.672158C8.95737 0.655138 9.07685 0.677961 9.17925 0.736916V0.737957Z",fill:t.light_color})})}),c.jsx("div",{className:Dt.data,style:{color:t.text_first_color},children:`${u} / ${a}`})]})})]})}const qK="_overlay_1r3zo_2",WK="_container_1r3zo_14",GK="_koeff_1r3zo_36",KK="_action_text_1r3zo_48",YK="_track_1r3zo_59",QK="_rocket_1r3zo_70",ZK="_cloud_1r3zo_81",nt={overlay:qK,container:WK,"score-container":"_score-container_1r3zo_24","view-container":"_view-container_1r3zo_29",koeff:GK,action_text:KK,track:YK,"track-bg":"_track-bg_1r3zo_65",rocket:QK,"cloud-container":"_cloud-container_1r3zo_81",cloud:ZK,"bet-container":"_bet-container_1r3zo_104","input-container":"_input-container_1r3zo_114","input-button":"_input-button_1r3zo_124","input-bet":"_input-bet_1r3zo_137","add-bet":"_add-bet_1r3zo_154"};function XK(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),{authUser:s}=pe(),[o,i]=p.useState(),[a,l]=p.useState(!1),[u,d]=p.useState(0),[h,f]=p.useState(100),[m,_]=p.useState("Ставка"),[w,x]=p.useState("Успей забрать"),[v,y]=p.useState(!1),[g,C]=p.useState(!1),[b,k]=p.useState(!1),[T,S]=p.useState({isShow:!1,text:""}),[E,I]=p.useState({}),j=fe();p.useEffect(()=>{const P=()=>{window.innerWidth>700?I({stop:{right:-100,top:30},fly:{right:-600,top:-60}}):I({stop:{right:-20,top:120},fly:{right:-150,top:60}})};return P(),window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P)}},[]);const N=p.useRef(),O=(P,M)=>{P=P.replace("#","");let B=parseInt(P.substring(0,2),16),W=parseInt(P.substring(2,4),16),te=parseInt(P.substring(4,6),16);return`rgba(${B}, ${W}, ${te}, ${M})`};p.useEffect(()=>{const P=N.current,M=P.getContext("2d");M.clearRect(0,0,P.width,P.height),M.beginPath(),M.moveTo(0,P.height),M.quadraticCurveTo(250,P.height/2,P.width,0),M.lineTo(P.width,P.height),M.closePath();const B=O(t.gradient_first_color,.5);M.fillStyle=B,M.fill(),M.strokeStyle=t.gradient_first_color,M.lineWidth=2,M.stroke()},[]),p.useEffect(()=>{if(T.isShow){const P=setTimeout(()=>{S({isShow:!1})},1e3);return()=>clearTimeout(P)}},[T]),p.useEffect(()=>{(async()=>{if(s&&s._id){const M=Z(q,"users",s._id,"info","preferences"),B=await le(M);if(B.exists()){const W=B.data();i(W.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]),p.useEffect(()=>{if(!v){f(100),k(!1),C(!1),_("Ставка"),x(a?"Улетел":"Успей забрать");return}if(v){d(0),_("Забрать"),x("Успей забрать"),C(!0),k(!0),l(!1);const P=2e3+Math.random()*18e3,M=setTimeout(()=>{l(!0),y(!1),k(!1)},P);return()=>clearTimeout(M)}},[v]);const A=async P=>{if(s&&s._id)try{const M=Z(q,"users",s._id,"info","preferences");await ns(M,{balance:P}),console.log(`Balance updated to ${P}`)}catch(M){console.error("Error updating balance:",M)}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>j("game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(!b)return;const P=setInterval(()=>{d(M=>parseFloat((M+.01).toFixed(2)))},70);return()=>clearInterval(P)},[b]);const L=P=>{const M=P.target.value;f(M===""?"":parseInt(M,10))},D=()=>{if(h>o){S({isShow:!0,text:"У вас недостаточно средств для ставки"});return}i(o-h),A(o-h),y(!0)},R=()=>{S({isShow:!0,text:`Вы выиграли ${Math.floor(h*u)}`}),i(P=>Math.floor(P+h*u)),A(o+Math.floor(h*u)),y(!1)};return c.jsx("div",{className:nt.overlay,children:c.jsxs("div",{className:nt.container,children:[c.jsx(Pt,{text:T.text,isShow:T.isShow}),c.jsx("div",{className:nt["score-container"],children:c.jsx(hu,{name:"Баланс",count:o,isBalance:!0})}),c.jsxs("div",{className:nt["view-container"],children:[c.jsx("h3",{className:nt.koeff,style:{color:t.text_first_color},children:`x${u}`}),c.jsx("h4",{className:nt.action_text,style:{color:t.text_first_color},children:w}),c.jsx("div",{className:nt.track,children:c.jsx("canvas",{ref:N,className:nt["track-bg"]})}),c.jsx(ot.div,{variants:E,animate:a?"fly":"stop",className:nt.rocket,transition:{duration:.3},children:c.jsx("img",{src:"rocket.png"})}),c.jsxs("div",{className:nt["cloud-container"],children:[c.jsx("div",{className:nt.cloud,children:c.jsx("img",{src:"cloud_1.png"})}),c.jsx("div",{className:nt.cloud,children:c.jsx("img",{src:"cloud_2.png"})}),c.jsx("div",{className:nt.cloud,children:c.jsx("img",{src:"cloud_3.png"})}),c.jsx("div",{className:nt.cloud,children:c.jsx("img",{src:"cloud_2.png"})}),c.jsx("div",{className:nt.cloud,children:c.jsx("img",{src:"cloud_1.png"})})]})]}),c.jsxs("div",{className:nt["bet-container"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:nt["input-container"],children:[c.jsx("button",{className:nt["input-button"],style:{background:t.element_second_color},onClick:()=>f(P=>P-1),disabled:g,children:c.jsx("svg",{width:"18",height:"4",viewBox:"0 0 18 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M16 2H9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})}),c.jsx("input",{type:"number",placeholder:"Ставка",min:0,value:h,onChange:L,className:nt["input-bet"],style:{color:t.text_first_color,caretColor:t.first_color,"--placeholderColor":t.text_third_color}}),c.jsx("button",{className:nt["input-button"],style:{background:t.element_second_color},onClick:()=>f(P=>P+1),disabled:g,children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 2V9M9 16V9M9 9H16M9 9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})})]}),c.jsx("button",{className:nt["add-bet"],style:{background:t.first_color,color:t.text_first_color},onClick:m==="Ставка"?D:R,children:m})]})]})})}const JK="_container_1lqg5_1",eY="_title_1lqg5_11",tY="_block_1lqg5_26",hn={container:JK,title:eY,block:tY,"block-info":"_block-info_1lqg5_40","block-name":"_block-name_1lqg5_49","block-label":"_block-label_1lqg5_56","block-arrow":"_block-arrow_1lqg5_65","question-index":"_question-index_1lqg5_74","question-body":"_question-body_1lqg5_85","variants-container":"_variants-container_1lqg5_96","variant-body":"_variant-body_1lqg5_105","variant-name":"_variant-name_1lqg5_115","variant-circle":"_variant-circle_1lqg5_123"},hC={"progress-body":"_progress-body_5eai3_1","progress-line":"_progress-line_5eai3_11"};function nY({color:t,progress:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F);return c.jsx("section",{className:hC["progress-body"],style:{background:n.element_first_color},children:c.jsx("div",{className:hC["progress-line"],style:{background:t,width:e}})})}function rY({name:t,state:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F),a={correct:{isBackground:!0,color:r.first_color,svg:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(-45deg)",isBorder:!1},incorrect:{isBackground:!0,color:r.third_color,svg:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(45deg)",isBorder:!1},base:{isBackground:!1,color:r.element_first_color,svg:"",transform:"none",isBorder:!0}},l=a[e]||a.base;return c.jsxs("section",{variants:a,className:hn["variant-body"],style:{border:`2px solid ${l.color}`},onClick:n,children:[c.jsx("h4",{className:hn["variant-name"],style:{color:r.text_first_color},children:t}),c.jsx("div",{className:hn["variant-circle"],style:{background:l.isBackground?l.color:"none",border:l.isBorder?`2px solid ${r.element_first_color}`:"none",transform:l.transform},children:l.svg})]})}const sY=[{question:"What is the name of Russia's highest military award, often referred to as the 'Hero of the Russian Federation'?",answers:[{name:"Order of Lenin"},{name:"Order of the Red Banner"},{name:"Order of St. George"},{name:"Order of Courage"}],correctAnswerIndex:3},{question:"Which military branch of Russia operates the strategic missile forces responsible for nuclear deterrence?",answers:[{name:"Russian Ground Forces"},{name:"Russian Aerospace Forces"},{name:"Russian Navy"},{name:"Strategic Missile Troops"}],correctAnswerIndex:3},{question:"What is the name of Russia's only aircraft carrier, currently in service with the Russian Navy?",answers:[{name:"Admiral Kuznetsov"},{name:"Admiral Gorshkov"},{name:"Peter the Great"},{name:"Varyag"}],correctAnswerIndex:0},{question:"Which city hosts the headquarters of the Russian Navy's Northern Fleet?",answers:[{name:"Moscow"},{name:"Saint Petersburg"},{name:"Murmansk"},{name:"Sevastopol"}],correctAnswerIndex:2},{question:"In what year was the Russian Federation officially established, marking the modern era of the Russian military?",answers:[{name:"1991"},{name:"1993"},{name:"1995"},{name:"1999"}],correctAnswerIndex:0},{question:"Which Russian military operation annexed Crimea from Ukraine in 2014?",answers:[{name:"Operation Polar Star"},{name:"Operation Arctic Fox"},{name:"Operation Siberian Shield"},{name:"Operation Crimea"}],correctAnswerIndex:3},{question:"What is the name of Russia's main battle tank, known for its formidable firepower and armor?",answers:[{name:"T-72"},{name:"T-80"},{name:"T-90"},{name:"T-14 Armata"}],correctAnswerIndex:3},{question:"Which military exercise series, initiated by Russia, is one of the largest in the world, involving thousands of troops?",answers:[{name:"Exercise Suvorov"},{name:"Exercise Zapad"},{name:"Exercise Kavkaz"},{name:"Exercise Vostok"}],correctAnswerIndex:3},{question:"What is the name of Russia's primary combat aircraft, known for its versatility and role in air superiority?",answers:[{name:"Su-30"},{name:"MiG-31"},{name:"Su-57"},{name:"Tu-160"}],correctAnswerIndex:2},{question:"Which Russian military unit is famous for its demonstration of precision and coordination in military parades?",answers:[{name:"Spetsnaz"},{name:"VDV (Airborne Forces)"},{name:"Marines"},{name:"Presidential Regiment"}],correctAnswerIndex:3},{question:"What is the Russian term for a nuclear-powered ballistic missile submarine?",answers:[{name:"Kirov-class"},{name:"Yasen-class"},{name:"Typhoon-class"},{name:"Akula-class"}],correctAnswerIndex:2},{question:"Which Russian military figure is known as the 'Father of the Russian Navy' for his reforms and modernization efforts?",answers:[{name:"Peter the Great"},{name:"Admiral Kuznetsov"},{name:"Vladimir Putin"},{name:"Admiral Gorshkov"}],correctAnswerIndex:3},{question:"In which conflict did Russia deploy its military forces to support the Syrian government?",answers:[{name:"Libyan Civil War"},{name:"Yemeni Civil War"},{name:"Syrian Civil War"},{name:"Iraqi Civil War"}],correctAnswerIndex:2},{question:"What is the name of Russia's main strategic bomber, capable of carrying nuclear weapons and conducting long-range missions?",answers:[{name:"Tu-95"},{name:"Tu-22M"},{name:"Tu-160"},{name:"Su-24"}],correctAnswerIndex:2},{question:"Which Russian military branch is responsible for space operations and satellite launches?",answers:[{name:"Russian Space Forces"},{name:"Russian Strategic Missile Troops"},{name:"Russian Aerospace Forces"},{name:"Russian Airborne Troops"}],correctAnswerIndex:2},{question:"What is the name of Russia's primary infantry combat vehicle, widely used by its ground forces?",answers:[{name:"BMP-3"},{name:"BTR-80"},{name:"T-14 Armata"},{name:"Kurganets-25"}],correctAnswerIndex:0},{question:"Which military base, located in the Kaliningrad region, serves as a strategic outpost for Russia in Europe?",answers:[{name:"Sevastopol Naval Base"},{name:"Kronstadt Naval Base"},{name:"Luga Air Base"},{name:"Baltiysk Naval Base"}],correctAnswerIndex:3},{question:"What is the name of Russia's main anti-aircraft missile system, designed to defend against aerial threats?",answers:[{name:"S-300"},{name:"S-400"},{name:"Pantsir-S"},{name:"Tor-M2"}],correctAnswerIndex:1},{question:"Which Russian military doctrine emphasizes the use of nuclear weapons in response to conventional threats?",answers:[{name:"Gerasimov Doctrine"},{name:"Primakov Doctrine"},{name:"Makarov Doctrine"},{name:"Putin Doctrine"}],correctAnswerIndex:0},{question:"What is the name of Russia's main armored personnel carrier, widely used for troop transport?",answers:[{name:"BTR-82A"},{name:"BMP-2"},{name:"MT-LB"},{name:"Kurganets-25"}],correctAnswerIndex:0}],oY=[{question:"Сколько будет 15 + 7?",answers:[{name:"21"},{name:"22"},{name:"23"},{name:"24"}],correctAnswerIndex:1},{question:"Если у каждого танка есть 5 орудий, а в полку 24 таких танка, сколько всего орудий в полку?",answers:[{name:"110"},{name:"115"},{name:"120"},{name:"125"}],correctAnswerIndex:2},{question:"Если в каждом отряде 12 солдат, а в батальоне 4 таких отряда, сколько всего человек в мире?",answers:[{name:"1"},{name:"1488"},{name:"8 млн."},{name:"8 млрд."}],correctAnswerIndex:3},{question:"Если в каждом танке 3 боевых бойца, а в дивизионе 10 таких танков, то куда летит самолет?",answers:[{name:"На север"},{name:"На юг"},{name:"На восток"},{name:"На хуй"}],correctAnswerIndex:3},{question:"Если в каждой эскадрилье 6 истребителей, а в авиагруппе 4 таких эскадрильи, сколько всего истребителей в авиагруппе?",answers:[{name:"20"},{name:"22"},{name:"24"},{name:"26"}],correctAnswerIndex:2},{question:"Если в каждой морской пехотной дивизии 24 танка, а в бригаде 3 таких дивизии, то какое звание у лейтенанта?",answers:[{name:"лейтенант"},{name:"майор"},{name:"генерал"},{name:"ефрейтор"}],correctAnswerIndex:0},{question:"Если в каждом отряде 20 солдат, а в роте 5 отрядов, сколько всего солдат в роте?",answers:[{name:"В роте может быть только хуй"},{name:"Хз"},{name:"100"},{name:"34"}],correctAnswerIndex:2},{question:"Если в каждом батальоне 10 танков, а в полку 8 батальонов, сколько всего танков в полку?",answers:[{name:"70"},{name:"75"},{name:"80"},{name:"85"}],correctAnswerIndex:2},{question:"Если в каждом отделении 8 солдат, а в роте 6 отделений, сколько всего солдат в роте?",answers:[{name:"42"},{name:"44"},{name:"46"},{name:"48"}],correctAnswerIndex:3},{question:"Если в каждой роте 3 танка, а в батальоне 4 роты, сколько всего танков в батальоне?",answers:[{name:"8"},{name:"10"},{name:"12"},{name:"14"}],correctAnswerIndex:2},{question:"Если в каждом полку 4 батальона, а в каждом батальоне 8 бронированных машин, сколько всего бронированных машин в полку?",answers:[{name:"24"},{name:"28"},{name:"32"},{name:"36"}],correctAnswerIndex:2},{question:"Если в каждом батальоне 5 отрядов, а в каждом отряде 40 солдат, сколько всего солдат в батальоне?",answers:[{name:"180"},{name:"200"},{name:"220"},{name:"240"}],correctAnswerIndex:1},{question:"Если в каждой роте 5 бронетранспортеров, а в полку 6 рот, сколько всего бронетранспортеров в полку?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1},{question:"Если в каждом отделении 10 солдат, а в батальоне 5 отделений, сколько всего солдат в батальоне?",answers:[{name:"45"},{name:"50"},{name:"55"},{name:"60"}],correctAnswerIndex:1},{question:"Если в каждом батальоне 6 танков, а в полку 8 батальонов. Сколько весит танк?",answers:[{name:"40 тонн"},{name:"45 тонн"},{name:"5 кг"},{name:"65 кг"}],correctAnswerIndex:2},{question:"Если в каждой эскадрилье 8 истребителей, а в авиагруппе 4 таких эскадрильи, сколько всего истребителей в авиагруппе?",answers:[{name:"28"},{name:"30"},{name:"32"},{name:"34"}],correctAnswerIndex:2},{question:"Если в каждой морской пехотной дивизии 20 танков, а в бригаде 5 таких дивизии, сколько всего танков в бригаде?",answers:[{name:"90"},{name:"100"},{name:"110"},{name:"120"}],correctAnswerIndex:1},{question:"Если в каждой роте 4 бронетранспортера, а в батальоне 6 рот, сколько всего бронетранспортеров в батальоне?",answers:[{name:"20"},{name:"24"},{name:"28"},{name:"32"}],correctAnswerIndex:1},{question:"Если в каждом отряде 18 солдат, а в роте 5 отрядов, сколько всего солдат в роте?",answers:[{name:"85"},{name:"90"},{name:"95"},{name:"100"}],correctAnswerIndex:1},{question:"Если в каждом полку 3 батальона, а в каждом батальоне 10 танков, сколько всего танков в полку?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1}],iY=[{question:"Какое слово является множественным числом: книга, книги, книжка, книгу?",answers:[{name:"Книга"},{name:"Книги"},{name:"Книжка"},{name:"Книгу"}],correctAnswerIndex:1},{question:"Какое слово является противоположным слову 'горячий'?",answers:[{name:"Холодный"},{name:"Теплый"},{name:"Зимний"},{name:"Горячечный"}],correctAnswerIndex:0},{question:"Какой из глаголов является несовершенным: пел, поет, поют, пляшет?",answers:[{name:"Пел"},{name:"Поет"},{name:"Поют"},{name:"Пляшет"}],correctAnswerIndex:1},{question:"Какой предлог указывает на местоположение: на, под, из, от?",answers:[{name:"На"},{name:"Под"},{name:"Из"},{name:"От"}],correctAnswerIndex:0},{question:"Какое слово является множественным числом: стол, столы, столик, стола?",answers:[{name:"Стол"},{name:"Столы"},{name:"Столик"},{name:"Стола"}],correctAnswerIndex:1},{question:"Какое слово является синонимом слова 'смешной'?",answers:[{name:"Серьезный"},{name:"Веселый"},{name:"Тяжелый"},{name:"Грустный"}],correctAnswerIndex:1},{question:"Какой вариант предложения правильный: 'Она пошла домой' или 'Она пошла дома'?",answers:[{name:"Она пошла домой"},{name:"Она пошла дома"}],correctAnswerIndex:0},{question:"Какое слово является множественным числом: стекло, стекла, стеклышко, стеклом?",answers:[{name:"Стекло"},{name:"Стекла"},{name:"Стеклышко"},{name:"Стеклом"}],correctAnswerIndex:1},{question:"Какой из слов является союзом: и, книга, мяч, вода?",answers:[{name:"Книга"},{name:"Мяч"},{name:"Вода"},{name:"И"}],correctAnswerIndex:3},{question:"Какое слово является синонимом слова 'быстрый'?",answers:[{name:"Медленный"},{name:"Скорый"},{name:"Тяжелый"},{name:"Легкий"}],correctAnswerIndex:1},{question:"Какая ракетная система считается основной тактической ядерной системой Российской Федерации?",answers:[{name:"Искандер"},{name:"Тополь"},{name:"Булава"},{name:"Калибр"}],correctAnswerIndex:0},{question:"Какой тип военного самолета является основным истребителем в Российских Военно-воздушных силах?",answers:[{name:"Сухой Су-35"},{name:"МиГ-29"},{name:"Сухой Су-57"},{name:"МиГ-31"}],correctAnswerIndex:0},{question:"Как называется российский бронированный автомобиль с усиленной защитой и вооруженный пулеметом?",answers:[{name:"Тигр"},{name:"Буран"},{name:"Урал"},{name:"Камаз"}],correctAnswerIndex:0},{question:"Какой танк считается основным боевым танком Российской армии?",answers:[{name:"Т-90"},{name:"Т-80"},{name:"Т-72"},{name:"Армата"}],correctAnswerIndex:0},{question:"Какой тип вооружения используется на российских кораблях для уничтожения подводных лодок?",answers:[{name:"Торпеды"},{name:"Ракеты Калибр"},{name:"ПЗРК Игла"},{name:"Антиподводные ракеты"}],correctAnswerIndex:0},{question:"Как называется новейший российский беспилотный летательный аппарат, предназначенный для боевых задач?",answers:[{name:"Охотник"},{name:"Стриж"},{name:"Истребитель"},{name:"Мурман"}],correctAnswerIndex:0},{question:"Какая зенитная ракетная система предназначена для уничтожения воздушных целей и баллистических ракет?",answers:[{name:"С-400"},{name:"С-300"},{name:"С-500"},{name:"С-200"}],correctAnswerIndex:0},{question:"Какое стратегическое ядерное оружие является основным средством вторжения?",answers:[{name:"Баллистическая ракета"},{name:"Бомбардировщик Ту-160"},{name:"Подводная лодка"},{name:"Крылатая ракета"}],correctAnswerIndex:0},{question:"Какое средство является основным беспилотным летательным аппаратом Российских Военно-воздушных сил?",answers:[{name:"Орлан"},{name:"Байкал"},{name:"Истребитель"},{name:"Сухой"}],correctAnswerIndex:0},{question:"Какой пулемет используют для установки на танки Российских Военно-воздушных сил?",answers:[{name:"Калашников"},{name:"Максим"},{name:"Миномет"},{name:"Дробовик"}],correctAnswerIndex:0},{question:"Какое оружие используется для борьбы с танками?",answers:[{name:"РПГ-7"},{name:"Метательный оружие"},{name:"Снайпер"},{name:"Танковое оружие"}],correctAnswerIndex:0},{question:"Какой стратегический бомбардировщик используется для стратегических воздушных атак?",answers:[{name:"Ту-95"},{name:"Су-30"},{name:"МиГ-35"},{name:"Ту-22"}],correctAnswerIndex:0},{question:"Какое средство является основным воздушным кораблем в Российских Военно-воздушных силах?",answers:[{name:"Истребитель"},{name:"Ракета"},{name:"Корабль"},{name:"Дирижабль"}],correctAnswerIndex:0},{question:"Как называется новейший российский военный танк?",answers:[{name:"Армата"},{name:"Т-72"},{name:"Т-90"},{name:"Сухой"}],correctAnswerIndex:0},{question:"Какое вооружение используется для борьбы с воздушными целями?",answers:[{name:"Ракеты"},{name:"Самолеты"},{name:"Боевые вертолеты"},{name:"ПВО"}],correctAnswerIndex:0},{question:"Какой военный корабль используется в Российских Военно-воздушных силах?",answers:[{name:"Ракета"},{name:"Корабль"},{name:"Танк"},{name:"Линкор"}],correctAnswerIndex:0},{question:"Какой военный вертолет используется для боевых действий?",answers:[{name:"Ми-24"},{name:"Сухой"},{name:"Истребитель"},{name:"Боевой"}],correctAnswerIndex:0},{question:"Как называется новейший российский военный беспилотный летательный аппарат?",answers:[{name:"Охотник"},{name:"Стриж"},{name:"Истребитель"},{name:"Мурман"}],correctAnswerIndex:0},{question:"Какое оружие является основным для строительства Российской империи?",answers:[{name:"Снаряд"},{name:"Ракеты"},{name:"Взрывчатое вещество"},{name:"Калибр"}],correctAnswerIndex:0}],aY=[{question:"Манас эпосунун аткысуун жазып жаткан кандай кыргыз ашык?",answers:[{name:"Чыңгыз"},{name:"Манас"},{name:"Борубай"},{name:"Сейтек"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'балык' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Күй"},{name:"Жабык"},{name:"Тамак"},{name:"Төрөл"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'жашын' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жыл"},{name:"Жол"},{name:"Жуу"},{name:"Жапа"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'айыл' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жашын"},{name:"Жол"},{name:"Жамгыр"},{name:"Жороо"}],correctAnswerIndex:2},{question:"Кыргыз тилинде 'көз' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Куу"},{name:"Кара"},{name:"Камчы"},{name:"Кымбат"}],correctAnswerIndex:3},{question:"Кыргыз тилинде 'кайын' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Кайык"},{name:"Кайыр"},{name:"Кайнак"},{name:"Кайырмак"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'кайырмак' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Кайыр"},{name:"Кайык"},{name:"Кайын"},{name:"Кайынак"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'төрөл' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Торгон"},{name:"Тамак"},{name:"Толкун"},{name:"Тиркеме"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'өзгөчө' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Өзгө"},{name:"Өзүн"},{name:"Өз"},{name:"Өздөр"}],correctAnswerIndex:3},{question:"Кыргыз тилинде 'жүрөк' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жаңы"},{name:"Жаткан"},{name:"Жана"},{name:"Жүрөктөр"}],correctAnswerIndex:2},{question:"Кыргызстандын мамлекеттик тили кандай?",answers:[{name:"Кыргыз тили"},{name:"Рус тили"},{name:"Англис тили"},{name:"Француз тили"}],correctAnswerIndex:0},{question:"Кыргызстандын абалдуу өнүгүү кандай тартилет?",answers:[{name:"Тор жарактуу"},{name:"Чок көчөндүруү"},{name:"Терөө бурчулуу"},{name:"Жооп көрсөтүү"}],correctAnswerIndex:0},{question:"Ата-энен деген сөз кандай тилде тартылат?",answers:[{name:"Кыргыз тили"},{name:"Рус тили"},{name:"Англис тили"},{name:"Түрк тили"}],correctAnswerIndex:0},{question:"Кыргызстандын астанасы ким?",answers:[{name:"Манас"},{name:"Чыңгыз айтматов"},{name:"Жүсүп абдыкадыров"},{name:"Мырза алаш"}],correctAnswerIndex:0},{question:"Кыргызстандын кайрыктуу өнүгүү кандай тартилет?",answers:[{name:"Алаңдатуу"},{name:"Алаша чатат"},{name:"Куу суу айтат"},{name:"Жооп көрсөтүү"}],correctAnswerIndex:1},{question:"Кыргызстандын аталышы кандай?",answers:[{name:"Кыргызстан"},{name:"Казастан"},{name:"Узбекстан"},{name:"Төркистан"}],correctAnswerIndex:0},{question:"Кыргызстандын эне-кеңеш деген сөз кандай тартылат?",answers:[{name:"Ата-энен"},{name:"Карындаш"},{name:"Баласы"},{name:"Көрүшү"}],correctAnswerIndex:0},{question:"Кыргызстандын жери кандай?",answers:[{name:"Жамияткан"},{name:"Күрөнүшкөн"},{name:"Желөөк"},{name:"Жалынуучу"}],correctAnswerIndex:1},{question:"Кыргызстандын туура тарапы кандай?",answers:[{name:"Ысык-көл"},{name:"Чолпон-ата"},{name:"Алай"},{name:"Талас"}],correctAnswerIndex:0},{question:"Кыргызстандын булуттары кандай?",answers:[{name:"Таң аралык"},{name:"Ала-туулук"},{name:"Кызыл катын"},{name:"Калын ара"}],correctAnswerIndex:1},{question:"Кыргызстандын айыл чөйрөктөри кандай?",answers:[{name:"Жаркынбек"},{name:"Айыл-чөйрөк"},{name:"Жаны-базар"},{name:"Кыргыз"}],correctAnswerIndex:1},{question:"Кыргызстандын аяктары кандай?",answers:[{name:"Сары-булак"},{name:"Ак-булак"},{name:"Кызыл-төк"},{name:"Чоң курум"}],correctAnswerIndex:2},{question:"Кыргызстандын көлдөрү кандай?",answers:[{name:"Ысык-көл"},{name:"Чолпон-ата"},{name:"Торткөл"},{name:"Алай"}],correctAnswerIndex:0},{question:"Кыргызстандын курулуштары кандай?",answers:[{name:"Кара-дарыя"},{name:"Көл-дарыя"},{name:"Туу-дарыя"},{name:"Темир-дарыя"}],correctAnswerIndex:3},{question:"Кыргызстандын аркылы кандай тийиш?",answers:[{name:"Айтар"},{name:"Сыйлык"},{name:"Сыйлык"},{name:"Манипуляция"}],correctAnswerIndex:2},{question:"Кыргызстандын аркылы кандай күрүшүн?",answers:[{name:"Жамияткан"},{name:"Күрөнүшкөн"},{name:"Алча-туу"},{name:"Желөөк"}],correctAnswerIndex:1},{question:"Кыргызстандын аркылы кандай өнүүдү тартылат?",answers:[{name:"Чүү"},{name:"Эс"},{name:"Алды"},{name:"Бүтүн"}],correctAnswerIndex:0},{question:"Кыргызстандын аркылы кандай экилик?",answers:[{name:"Чолпон-ата"},{name:"Чыңгыз айтматов"},{name:"Манас"},{name:"Мырза алаш"}],correctAnswerIndex:3},{question:"Кыргызстандын аркылы кандай дары?",answers:[{name:"Айыл"},{name:"Айл"},{name:"Айыл"},{name:"Айл"}],correctAnswerIndex:0}];function lY({mode:t}){const[e,n]=p.useState(""),[r,s]=p.useState(),{authUser:o}=pe(),i=p.useRef(null),{theme:a,setThemeById:l,elementColors:u,setElementColors:d}=p.useContext(F),h=fe(),m={english:{questions:sY,timePerQuestion:5},math:{questions:oY,timePerQuestion:20},russian:{questions:iY,timePerQuestion:15},kyrgyz:{questions:aY,timePerQuestion:20}}[t];p.useEffect(()=>{d({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!0,arrowLink:()=>h("/quiz"),arrowColor:a.text_first_color,isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:0,background:a.background_color}),document.body.style.background=a.background_color},[F]);const _=(X,Pe)=>[...X].sort(()=>.5-Math.random()).slice(0,Pe),[w,x]=p.useState([]),[v,y]=p.useState(0),[g,C]=p.useState(new Array(4).fill("base")),[b,k]=p.useState(0),[T,S]=p.useState(0),[E,I]=p.useState(!1),[j,N]=p.useState(!1),[O,A]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[L,D]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{fetch("https://api.ipify.org?format=json").then(X=>X.json()).then(X=>{n(X.ip)}).catch(X=>{console.error("Error fetching IP address:",X)})},[]),p.useEffect(()=>{fetch("https://ipinfo.io/json?token=daabefc348f9fc").then(X=>X.json()).then(X=>{console.log("IP Address:",X.ip),console.log("City:",X.city),console.log("Region:",X.region),console.log("Country:",X.country),console.log("Location:",X.loc),console.log("Street:",X.org),n({ip:X.ip,city:X.city,region:X.region,location:X.loc})}).catch(X=>{console.error("Error fetching IP address and location:",X)})},[]);const R=X=>["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][X],P=X=>new Promise((Pe,Ze)=>{const qn=new Image;qn.src=X,qn.onload=()=>Pe(qn),qn.onerror=as=>Ze(as)}),M=async X=>{try{const Pe=i.current,Ze=Pe.getContext("2d"),qn=await P("SMO.jpg"),as=await P("print.png");Ze.drawImage(qn,0,0,Pe.width,Pe.height),Ze.font="20px Times New Roman",Ze.fillStyle="#000",Ze.fillText(o.name,145,48);const fu=Math.floor(Math.random()*9001)+1e3;Ze.font="16px Times New Roman",Ze.fillText(`по адресу:  город ${e.city}, ${e.location}, IP адрес: ${e.ip} `,170,68),Ze.font="20px Times New Roman",Ze.fillText(fu,680,95);const di=new Date;di.setDate(di.getDate()+1);const e8=di.getDate(),t8=di.getMonth(),n8=R(t8);Ze.fillText(e8,420,138),Ze.fillText(n8,470,138),Ze.drawImage(as,450,140,200,200);const r8=Pe.toDataURL("image/png");X(r8,fu)}catch(Pe){console.error("Ошибка загрузки изображения:",Pe)}};p.useEffect(()=>{if(!m)return;const X=_(m.questions,10);x(X),S(m.timePerQuestion)},[t]);const B=X=>{const Pe=Math.floor(X/60),Ze=X%60;return`${Pe}:${Ze<10?"0":""}${Ze}`};p.useEffect(()=>{let X;return T>0&&!E&&!j?X=setInterval(()=>{S(Pe=>Pe-1)},1e3):T===0&&!j&&te(),()=>clearInterval(X)},[T,E,j]),p.useEffect(()=>{w[v]&&(C(new Array(w[v].answers.length).fill("base")),S(m.timePerQuestion),I(!1))},[v,w]);const W=X=>{var Pe;if(!E&&!j){const Ze=(Pe=w[v])==null?void 0:Pe.correctAnswerIndex,qn=X===Ze,as=g.map((fu,di)=>di===X?qn?"correct":"incorrect":fu);qn||(as[Ze]="correct"),C(as),qn&&k(b+5),I(!0),setTimeout(()=>Ln(),2e3)}},te=()=>{var X;if(!E&&!j){const Pe=(X=w[v])==null?void 0:X.correctAnswerIndex;if(Pe!==void 0){const Ze=g.map((qn,as)=>as===Pe?"correct":"base");C(Ze),I(!0),setTimeout(()=>Ln(),2e3)}}},ne=()=>{h("/quiz")},[de,Ae]=p.useState(!1);p.useEffect(()=>{!L.isShow&&de&&(A({...O,isShow:!0}),Ae(!1))},[L.isShow]);const Ln=async()=>{v<w.length-1?y(v+1):(N(!0),t==="kyrgyz"?b>40?M(X=>{D({isShow:!0,images:[X],index:0}),Ae(!0),A({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в Улуттук гвардия на бюджетную форму обучения!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&M(X=>{D({isShow:!0,images:[X],index:0}),Ae(!0),A({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в Улуттук гвардия на бюджетную форму обучения!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):t==="russian"?b>40?M(X=>{D({isShow:!0,images:[X],index:0}),Ae(!0),A({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской армии на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&M(X=>{D({isShow:!0,images:[X],index:0}),Ae(!0),A({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской армии, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):t==="math"?b>40?M(X=>{D({isShow:!0,images:[X],index:0}),Ae(!0),A({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды военных инженеров СВО на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&M(X=>{D({isShow:!0,images:[X],index:0}),Ae(!0),A({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды военных инженеров СВО, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):t==="english"&&(b>40?M(X=>{D({isShow:!0,images:[X],index:0}),Ae(!0),A({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской разведки на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&M(X=>{D({isShow:!0,images:[X],index:0}),Ae(!0),A({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${b}. Вы также были приняты в ряды российской разведки, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ne,secondButtonOnClick:vn})})))},vn=()=>{N(!1),x(_(m.questions,10)),y(0),C(new Array(4).fill("base")),k(0),S(m.timePerQuestion),I(!1),A({isShow:!1})},J6=(v+1)/w.length*100;return w[v]?c.jsxs("div",{className:hn.container,children:[c.jsx("canvas",{ref:i,width:"816",height:"367",style:{display:"none"}}),c.jsx(lo,{isShow:L.isShow,images:L.images,index:L.index,onClose:()=>D({isShow:!1})}),c.jsx(co,{title:O.title,text:O.text,isShow:O.isShow,firstButtonName:O.firstButtonName,secondButtonName:O.secondButtonName,firstButtonOnClick:O.firstButtonOnClick,secondButtonOnClick:O.secondButtonOnClick}),c.jsx(hu,{name:"Время",isBalance:!1,count:B(T)}),c.jsxs("h3",{className:hn["question-index"],style:{color:a.text_first_color},children:["Вопрос: ",v+1," / ",w.length]}),c.jsx(nY,{color:a.first_color,progress:`${J6}%`}),c.jsx("div",{className:hn["question-body"],style:{color:a.text_first_color},children:w[v].question}),c.jsx("div",{className:hn["variants-container"],children:w[v].answers.map((X,Pe)=>c.jsx(rY,{name:X.name,state:g[Pe],onClick:()=>W(Pe)},Pe))})]}):null}function cY({blockColor:t,name:e,textColor:n,arrowBackground:r,labelColor:s,labelTextColor:o,labelName:i,onClick:a}){const{theme:l,setThemeById:u,elementColors:d,setElementColors:h}=p.useContext(F);return c.jsxs("div",{className:hn.block,style:{background:t},onClick:a,children:[c.jsxs("section",{className:hn["block-info"],children:[c.jsx("h5",{className:hn["block-name"],style:{color:n},children:e}),c.jsx("div",{className:hn["block-label"],style:{background:s,color:o},children:i})]}),c.jsx("div",{className:hn["block-arrow"],style:{background:r},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n})})})]})}function uY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),s=fe(),[o,i]=p.useState(),a=[{blockColor:t.second_color,name:"English",labelName:"5 секунд",textColor:t.background_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/english")},{blockColor:t.third_color,name:"Кыргызский язык",labelName:"20 секунд",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/kyrgyz")},{blockColor:t.first_color,name:"Русский язык",labelName:"15 секунд",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/russian")},{blockColor:t.second_color,name:"Математика",labelName:"20 секунд",textColor:t.background_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/math")}];return p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[F]),c.jsxs("div",{className:hn.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx("h4",{className:hn.title,style:{color:t.text_first_color},children:"Выберите режим:"}),a.map((l,u)=>c.jsx(cY,{blockColor:l.blockColor,name:l.name,textColor:l.textColor,labelColor:l.labelcolor,labelName:l.labelName,labelTextColor:l.labelTextColor,arrowBackground:l.arrowBackground,onClick:l.onClick},u))]})}function dY(){const{mode:t}=Tr();return t?c.jsx(lY,{mode:t}):c.jsx(uY,{})}const hY="_container_8l478_2",fY="_add_8l478_31",hs={container:hY,"search-input-container":"_search-input-container_8l478_12","search-container":"_search-container_8l478_23",add:fY,"empty-body":"_empty-body_8l478_51","empty-photo":"_empty-photo_8l478_60","empty-info":"_empty-info_8l478_70","empty-name":"_empty-name_8l478_79"},pY="_container_1qk2k_1",mY="_icon_1qk2k_10",gY="_input_1qk2k_16",Hm={container:pY,icon:mY,input:gY};function Z6({value:t,onChange:e,placeholder:n}){const{theme:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState("");return c.jsxs("div",{className:Hm.container,style:{background:r.element_first_color},children:[c.jsx("div",{className:Hm.icon,children:c.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M11.8637 11.7356C12.8296 10.5965 13.4157 9.10026 13.4157 7.46154C13.4157 3.89293 10.6363 1 7.20785 1C3.77935 1 1 3.89293 1 7.46154C1 11.0301 3.77935 13.9231 7.20785 13.9231C9.06196 13.9231 10.7262 13.077 11.8637 11.7356ZM11.8637 11.7356L15 15",stroke:r.text_first_color,"stroke-linejoin":"round"})})}),c.jsx("input",{className:Hm.input,placeholder:n,onChange:e,style:{"--caret-color":r.first_color,"--placeholder-color":r.text_third_color,color:r.text_first_color}})]})}const yY="_body_1amdf_2",_Y="_photo_1amdf_11",vY="_info_1amdf_27",wY="_name_1amdf_36",Ju={body:yY,photo:_Y,info:vY,name:wY};function X6({id:t,name:e,photo:n,onClick:r}){const{theme:s,setElementColors:o}=p.useContext(F),i=()=>{r(t)};return c.jsxs("div",{className:Ju.body,style:{borderTop:`1px solid ${s.element_first_color}`},onClick:i,children:[c.jsx("div",{className:Ju.photo,children:c.jsx("img",{src:n,alt:"ава"})}),c.jsx("div",{className:Ju.info,children:c.jsx("div",{className:Ju.name,style:{color:s.text_first_color},children:e})})]})}function xY(){const{theme:t,setElementColors:e}=p.useContext(F),{authUser:n}=pe(),[r,s]=p.useState([]),[o,i]=p.useState(""),[a,l]=p.useState(!1),u=fe();p.useEffect(()=>{e({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>u("/home"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]);const d=async()=>{const _=In(q,"groups"),w=await Yk(_),x=[];return await Promise.all(w.docs.map(async v=>{const y=v.id,g=Z(q,"groups",y,"info","info"),C=await le(g);if(C.exists()){const b=C.data();x.push({id:y,name:b.name,photo:b.photo,membersCount:b.members?b.members.length:0,isGroup:!0})}})),x.sort((v,y)=>y.membersCount-v.membersCount),x};p.useEffect(()=>{(async()=>{try{l(!0);const w=await d();s([...w])}catch(w){console.error("Error fetching data:",w)}finally{l(!1)}})()},[]);const h=_=>{i(_.target.value)},f=r.filter(_=>_.name.toLowerCase().includes(o.toLowerCase())||_.id.toLowerCase().includes(o.toLowerCase())),m=(_,w)=>{u(w?`/group/${_}`:`/profile/${_}`)};return c.jsxs("div",{className:hs.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color};
                  border-radius: 5px;
                  cursor: pointer;
                }
                ::-webkit-scrollbar-track {
                  background-color: rgba(0, 0, 0, 0.3);
                }
            `}),c.jsx("div",{className:hs["search-input-container"],style:{background:t.background_color},children:c.jsx(Z6,{value:o,onChange:h,placeholder:"Поиск группы или пользователя"})}),c.jsx("div",{className:hs["search-container"],children:a?Array.from({length:2}).map((_,w)=>c.jsxs("div",{className:hs["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:hs["empty-photo"],children:c.jsx(bn,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:hs["empty-info"],children:c.jsx("div",{className:hs["empty-name"],style:{color:t.text_first_color},children:c.jsx(bn,{height:"10px",width:"100px",shape:"rect"})})})]},w)):f.map((_,w)=>c.jsx(X6,{id:_.id,name:_.name,photo:_.photo,onClick:()=>m(_.id,_.isGroup)},w))}),c.jsx("button",{className:hs.add,style:{background:t.first_color},onClick:()=>u("/create-group"),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:t.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})]})}const CY="_container_bn3pq_2",bY="_cover_bn3pq_22",kY="_label_bn3pq_189",G={container:CY,"profile-container":"_profile-container_bn3pq_13","cover-container":"_cover-container_bn3pq_22",cover:bY,"cover-pattern":"_cover-pattern_bn3pq_41","group-photo":"_group-photo_bn3pq_49","change-photo-button":"_change-photo-button_bn3pq_68","group-actions":"_group-actions_bn3pq_86","group-info":"_group-info_bn3pq_92","group-name":"_group-name_bn3pq_99","circle-button":"_circle-button_bn3pq_104","group-description":"_group-description_bn3pq_121","button-container":"_button-container_bn3pq_126","quit-button":"_quit-button_bn3pq_135","colors-container":"_colors-container_bn3pq_152","color-circle":"_color-circle_bn3pq_162","active-circle":"_active-circle_bn3pq_172","input-data-container":"_input-data-container_bn3pq_179",label:kY,"input-data":"_input-data_bn3pq_179","item-body":"_item-body_bn3pq_205","item-name":"_item-name_bn3pq_226","item-info":"_item-info_bn3pq_233","item-circle":"_item-circle_bn3pq_241","posts-container":"_posts-container_bn3pq_258"};function SY({fetchGroupData:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),{authUser:o}=pe(),{id:i}=Tr(),[a,l]=p.useState(""),[u,d]=p.useState(""),[h,f]=p.useState(!0),[m,_]=p.useState(null),[w,x]=p.useState(""),[v,y]=p.useState([]),[g,C]=p.useState({isShow:!1,text:""}),[b,k]=p.useState([]);p.useEffect(()=>{(async()=>{if(i)try{const N=Z(q,"groups",i,"info","info"),O=await le(N);if(O.exists()){const A=O.data();x(A.cover),l(A.name),d(A.description),k(A),console.log(A)}else console.log("No such document!")}catch(N){console.error("Error fetching group data:",N)}else console.error("ID группы не указан")})()},[i]),p.useEffect(()=>{(async()=>{if(o&&o._id){const N=Z(q,"users",o._id,"info","preferences"),O=await le(N);if(O.exists()){const A=O.data();y(L=>[...L,...A.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const T=v?uu.filter(j=>v.includes(j.name)):[];p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{if(g.isShow){const j=setTimeout(()=>{C({isShow:!1})},1500);return()=>clearTimeout(j)}},[g.isShow]);const S=j=>{j.target.files[0]&&(_(j.target.files[0]),console.log(j.target.files[0]))},E=j=>{x(j)},I=async()=>{let j=null;const N=new Date().toISOString();if(m){const O=Sr(Er,`groups_photo/${i}/${N}_${m.name}`);await Qo(O,m),j=await rs(O)}if(i){const O=Z(q,"groups",i,"info","info");try{await ut(O,{name:a,description:u,photo:m?j:b.photo,cover:w},{merge:!0}),await t(),e()}catch(A){console.error("Error updating document: ",A)}}};return c.jsxs("div",{className:G["profile-container"],children:[c.jsx(Pt,{isShow:g.isShow,text:g.text}),c.jsx("div",{className:G["cover-container"],children:c.jsx("div",{className:G.cover,style:{background:w},children:c.jsx("div",{className:G["cover-pattern"]})})}),c.jsxs("div",{className:G["group-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[c.jsx("button",{className:G["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:m?URL.createObjectURL(m):b.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:S})]}),c.jsx("div",{className:G["colors-container"],style:{background:n.element_first_color},children:T.map(j=>c.jsx(c.Fragment,{children:j.colors.map((N,O)=>c.jsx("div",{className:G["color-circle"],style:{background:N},onClick:()=>E(N),children:w===N&&c.jsx("div",{className:G["active-circle"],style:{borderColor:n.text_first_color}})},O))}))}),c.jsxs("div",{className:G["group-actions"],style:{background:n.element_first_color},children:[c.jsxs("div",{className:G["input-data-container"],children:[c.jsx("div",{className:G.label,style:{color:n.first_color},children:"Имя"}),c.jsx("input",{type:"text",value:a,className:G["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:j=>l(j.target.value)})]}),c.jsxs("div",{className:G["input-data-container"],children:[c.jsx("div",{className:G.label,style:{color:n.text_first_color},children:"О себе"}),c.jsx("input",{type:"text",value:u,className:G["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:j=>d(j.target.value)})]}),c.jsx("div",{className:G["button-container"],children:c.jsx("button",{className:G["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:I,children:"Сохранить"})})]})]})}function EY(){const{theme:t,setElementColors:e}=p.useContext(F),{authUser:n,ga:r}=pe(),[s,o]=p.useState({}),i=fe(),{id:a}=Tr(),[l,u]=p.useState(!1),[d,h]=p.useState({isShow:!1,text:""}),[f,m]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[_,w]=p.useState({isShow:!1,images:[],index:null}),[x,v]=p.useState([]),[y,g]=p.useState(!1),[C,b]=p.useState(!1);p.useEffect(()=>{e({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>i("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]);const k=async()=>{if(a)try{const R=Z(q,"groups",a,"info","info"),P=await le(R);if(P.exists()){const M=P.data();o(M),console.log(M)}else console.log("No such document!"),o({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null})}catch(R){console.error("Error fetching group data:",R)}else console.error("ID группы не указан")};p.useEffect(()=>{k()},[a]);const T=()=>{navigator.clipboard.writeText(a).then(()=>{h({isShow:!0,text:"ID группы скопирован в буфер обмена"}),console.log(s)}).catch(R=>{h({isShow:!0,text:`Не удалось скопировать ID: ${R}`})})};p.useEffect(()=>{if(d.isShow){const R=setTimeout(()=>{h({isShow:!1})},1500);return()=>clearTimeout(R)}},[d.isShow]);const S=()=>{u(!1),h({isShow:!0,text:"Изменения успешно сохранены"})},E=R=>{w({isShow:!0,images:R,index:0})},I=async()=>{if(n._id){const R=Z(q,"groups",a,"info","info"),P=Z(q,"users",n._id,"info","preferences");try{const M=await le(P),B=await le(R);if(B.exists()){let W;const te=B.data().members||[];te.includes(n._id)?(W=te.filter(ne=>ne!==n._id),M.exists()&&await ut(P,{mainGroup:null},{merge:!0})):(W=[...te,n._id],M.exists()&&await ut(P,{mainGroup:a},{merge:!0})),await ut(R,{members:W},{merge:!0}),await k()}else console.error("No such document!")}catch(M){console.error("Error updating document: ",M)}}};p.useEffect(()=>{const R=li(Va(In(q,"posts"),za("timestamp","desc")),P=>{const M=[];P.forEach(B=>{const W=B.data();if(W.userId===a){const te=new Date(W.timestamp),ne=W.likesArray,de=te.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});M.push({id:B.id,userId:W.userId,userName:W.userName,groupOwnerId:W.groupOwnerId,userPhoto:W.userPhoto,postText:W.text,postPhoto:W.photos,postData:de,likesArray:ne})}}),v(M),g(!1)});return()=>{R()}},[a]);const j=async(R,P)=>{try{const M=new Date().toISOString();let B=[];for(const W of P){const te=Sr(Er,`groups_photo/${a}/${M}_${W.name}`);await Qo(te,W);const ne=await rs(te);B.push(ne)}await N(R,B)}catch(M){console.error("Error handling send: ",M)}},N=async(R,P)=>{try{const M=new Date().toISOString();await Zf(In(q,"posts"),{photos:P,text:R,timestamp:M,userId:a,groupOwnerId:s.owner,userName:s.name,userPhoto:s.photo,likesArray:[]}),console.log("Message saved successfully.")}catch(M){console.error("Error adding document: ",M)}},O=(R,P)=>{w({isShow:!0,images:R,index:P})},A=()=>{m({isShow:!1})},L=async R=>{m({isShow:!1});try{await Qk(Z(q,"posts",R))}catch(P){console.error("Error deleting post: ",P)}finally{h({isShow:!0,text:"Пост удален"})}},D=(R,P)=>{switch(R){case"delete":return m({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:A,secondButtonOnClick:()=>L(P)});default:return m({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:G.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(lo,{isShow:_.isShow,images:_.images,index:_.index,onClose:()=>w({isShow:!1})}),c.jsx(co,{title:f.title,text:f.text,isShow:f.isShow,firstButtonName:f.firstButtonName,secondButtonName:f.secondButtonName,firstButtonOnClick:f.firstButtonOnClick,secondButtonOnClick:f.secondButtonOnClick}),c.jsx(Pt,{isShow:d.isShow,text:d.text}),l?c.jsx(SY,{handleEdit:S,fetchGroupData:k,id:s.userId}):c.jsxs("div",{className:G["profile-container"],children:[c.jsx("div",{className:G["cover-container"],children:c.jsx("div",{className:G.cover,style:{background:s.cover},children:c.jsx("div",{className:G["cover-pattern"]})})}),c.jsx("div",{className:G["group-photo"],style:{borderColor:t.background_color},children:c.jsx("img",{src:s.photo,onClick:()=>E(s.photo)})}),c.jsxs("div",{className:G["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:G["group-info"],children:[c.jsx("div",{className:G["group-name"],style:{color:t.text_first_color},children:s.name}),c.jsx("button",{className:G["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:T,children:"#"})]}),c.jsx("div",{className:G["group-description"],style:{color:t.text_first_color},children:s.description}),c.jsxs("div",{className:G["button-container"],children:[c.jsx("button",{className:G["quit-button"],style:{background:s.members&&s.members.includes(n._id)?t.element_second_color:t.first_color,color:t.text_first_color},onClick:I,children:s.members&&s.members.includes(n._id)?"Отписаться":"Подписаться"}),c.jsx("button",{className:G["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:()=>u(!0),children:c.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:t.text_first_color})})})]})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/subscribers/${a}?isGroup=true`),children:[c.jsx("div",{className:G["item-info"],children:c.jsxs("div",{className:G["item-name"],style:{color:t.text_first_color},children:["Подписчики: ",s.members?s.members.length:0]})}),c.jsx("div",{className:G["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/timetable/${a}`),children:[c.jsx("div",{className:G["item-info"],children:c.jsx("div",{className:G["item-name"],style:{color:t.text_first_color},children:"Посмотреть расписание"})}),c.jsx("div",{className:G["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/download/${a}`),children:[c.jsx("div",{className:G["item-info"],children:c.jsx("div",{className:G["item-name"],style:{color:t.text_first_color},children:"Посмотреть файлы"})}),c.jsx("div",{className:G["item-circle"],style:{background:t.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),c.jsx(xp,{placeholder:"Что нового?",isPanelTop:!1,onSend:j,addFiles:!0}),c.jsx("div",{className:G["posts-container"],children:y?c.jsxs(c.Fragment,{children:[c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{})]}):x.map(R=>c.jsx(du,{postId:R.id,groupOwnerId:R.groupOwnerId,userId:R.userId,userName:R.userName,userPhoto:R.userPhoto,postData:R.postData,postText:R.postText,postPhotos:R.postPhoto,likesArray:R.likesArray,photoClick:O,postAction:D},R.id))})]})]})}function TY({id:t}){const{theme:e,setElementColors:n}=p.useContext(F),{authUser:r}=pe(),[s,o]=p.useState({name:"",description:"",photo:"",cover:"",balance:0,members:[]}),[i,a]=p.useState({isShow:!1,text:""}),[l,u]=p.useState([]),[d,h]=p.useState(!1),[f,m]=p.useState({isShow:!1,images:[],index:null}),_=fe();p.useEffect(()=>{n({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>_("/search"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const w=async()=>{if(t)try{const g=Z(q,"groups",t,"info","info"),C=await le(g);if(C.exists()){const b=C.data();o(b),console.log(b)}else console.log("No such document!"),o({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null})}catch(g){console.error("Error fetching group data:",g)}else console.error("ID группы не указан")};p.useEffect(()=>{w()},[t]),p.useEffect(()=>{if(i.isShow){const g=setTimeout(()=>{a({isShow:!1})},1500);return()=>clearTimeout(g)}},[i.isShow]);const x=async()=>{if(r._id){const g=Z(q,"groups",t,"info","info"),C=Z(q,"users",r._id,"info","preferences");try{const b=await le(C),k=await le(g);if(k.exists()){let T;const S=k.data().members||[];S.includes(r._id)?(T=S.filter(E=>E!==r._id),b.exists()&&await ut(C,{mainGroup:null},{merge:!0})):(T=[...S,r._id],b.exists()&&await ut(C,{mainGroup:t},{merge:!0})),await ut(g,{members:T},{merge:!0}),await w()}else console.error("No such document!")}catch(b){console.error("Error updating document: ",b)}}};p.useEffect(()=>{const g=li(Va(In(q,"posts"),za("timestamp","desc")),C=>{const b=[];C.forEach(k=>{const T=k.data();if(T.userId===t){const S=new Date(T.timestamp),E=T.likesArray,I=S.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});b.push({id:k.id,userId:T.userId,userName:T.userName,groupOwnerId:T.groupOwnerId,userPhoto:T.userPhoto,postText:T.text,postPhoto:T.photos,postData:I,likesArray:E})}}),u(b),h(!1)});return()=>{g()}},[t]);const v=(g,C)=>{m({isShow:!0,images:g,index:C})},y=(g,C)=>{switch(g){case"delete":return setAlertProp({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(C)});default:return setAlertProp({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return c.jsxs("div",{className:G.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(lo,{isShow:f.isShow,images:f.images,index:f.index,onClose:()=>m({isShow:!1})}),c.jsx(Pt,{isShow:i.isShow,text:i.text}),c.jsx("div",{className:G["cover-container"],children:c.jsx("div",{className:G.cover,style:{background:"var(--first-color)"},children:c.jsx("div",{className:G["cover-pattern"]})})}),c.jsx("div",{className:G["group-photo"],style:{borderColor:e.background_color},children:c.jsx("img",{src:s.photo||"/genery/public/1.png",alt:`${s.name} photo`})}),c.jsxs("div",{className:G["group-actions"],style:{background:e.element_first_color},children:[c.jsx("div",{className:G["group-info"],children:c.jsx("div",{className:G["group-name"],style:{color:e.text_first_color},children:s.name})}),c.jsx("div",{className:G["group-biography"],style:{color:e.text_first_color},children:s.description}),c.jsx("div",{className:G["button-container"],children:c.jsx("button",{className:G["quit-button"],style:{background:s.members.includes(r._id)?e.element_second_color:e.first_color,color:e.text_first_color},onClick:x,children:s.members&&s.members.includes(r._id)?"Отписаться":"Подписаться"})})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>_(`/subscribers/${t}?isGroup=true`),children:[c.jsx("div",{className:G["item-info"],children:c.jsxs("div",{className:G["item-name"],style:{color:e.text_first_color},children:["Подписчики: ",s.members?s.members.length:0]})}),c.jsx("div",{className:G["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>_(`/timetable/${t}`),children:[c.jsx("div",{className:G["item-info"],children:c.jsx("div",{className:G["item-name"],style:{color:e.text_first_color},children:"Посмотреть расписание"})}),c.jsx("div",{className:G["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsxs("div",{className:G["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>_(`/download/${t}`),children:[c.jsx("div",{className:G["item-info"],children:c.jsx("div",{className:G["item-name"],style:{color:e.text_first_color},children:"Посмотреть файлы"})}),c.jsx("div",{className:G["item-circle"],style:{background:e.first_color},children:c.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),c.jsx("div",{className:G["posts-container"],children:d?c.jsxs(c.Fragment,{children:[c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{}),c.jsx(Tt,{})]}):l.map(g=>c.jsx(du,{postId:g.id,groupOwnerId:g.groupOwnerId,userId:g.userId,userName:g.userName,userPhoto:g.userPhoto,postData:g.postData,postText:g.postText,postPhotos:g.postPhoto,likesArray:g.likesArray,photoClick:v,postAction:y},g.id))})]})}function IY(){const{authUser:t}=pe(),{id:e}=Tr(),[n,r]=p.useState(null),[s,o]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const a=Z(q,"groups",e,"info","info"),l=await le(a);if(l.exists()){const u=l.data();r(u.owner)}else console.error("Group not found")}catch(a){console.error("Error fetching group data:",a)}finally{o(!1)}})()},[e]),n===t._id?c.jsx(EY,{id:e}):c.jsx(TY,{id:e})}const NY="_container_1hmv2_2",cl={container:NY,"empty-body":"_empty-body_1hmv2_9","empty-photo":"_empty-photo_1hmv2_18","empty-info":"_empty-info_1hmv2_28","empty-name":"_empty-name_1hmv2_37"};function jY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),{authUser:r}=pe(),[s,o]=p.useState(!1),[i,a]=p.useState(null),l=fe(),[u,d]=p.useState(),[h,f]=p.useState();p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>l("/search"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{let _;return(async()=>{if(r){const x=Z(q,"users",r._id,"info","preferences");_=li(x,async v=>{if(v.exists()){const y=v.data(),g=y.mainGroup;if(f(y.mainGroup),g){const C=Z(q,"groups",g,"info","info"),b=await le(C);b.exists()?a(b.data()):a({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null}),o(!1)}}})}})(),()=>{_&&_()}},[r]);const m=_=>{l(`/group/${_}`)};return c.jsx("div",{className:cl.container,children:s?c.jsxs("div",{className:cl["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:cl["empty-photo"],children:c.jsx(bn,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:cl["empty-info"],children:c.jsx("div",{className:cl["empty-name"],style:{color:t.text_first_color},children:c.jsx(bn,{height:"10px",width:"100px",shape:"rect"})})})]}):i&&c.jsx(X6,{name:i.name,photo:i.photo,id:h,onClick:m})})}const AY="_container_144b8_2",PY="_cover_144b8_22",RY="_label_144b8_189",ht={container:AY,"profile-container":"_profile-container_144b8_13","cover-container":"_cover-container_144b8_22",cover:PY,"cover-pattern":"_cover-pattern_144b8_41","group-photo":"_group-photo_144b8_49","change-photo-button":"_change-photo-button_144b8_68","group-actions":"_group-actions_144b8_86","button-container":"_button-container_144b8_126","quit-button":"_quit-button_144b8_135","colors-container":"_colors-container_144b8_152","color-circle":"_color-circle_144b8_162","active-circle":"_active-circle_144b8_172","input-data-container":"_input-data-container_144b8_179",label:RY,"input-data":"_input-data_144b8_179"};var LY=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};function OY({}){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),{authUser:r}=pe(),{id:s}=Tr(),[o,i]=p.useState(""),[a,l]=p.useState(""),[u,d]=p.useState(!0),[h,f]=p.useState(null),[m,_]=p.useState("#0040F9"),[w,x]=p.useState([]),[v,y]=p.useState({isShow:!1,text:""}),[g,C]=p.useState([]),b=fe(),k=[t.first_color,t.second_color,t.third_color];p.useEffect(()=>{(async()=>{if(r&&r._id){const O=Z(q,"users",r._id,"info","preferences"),A=await le(O);if(A.exists()){const L=A.data();x(D=>[...D,...L.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[r]);const T=w?uu.filter(N=>w.includes(N.name)):[];p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>b("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(v.isShow){const N=setTimeout(()=>{y({isShow:!1})},1500);return()=>clearTimeout(N)}},[v.isShow]);const S=N=>{N.target.files[0]&&(f(N.target.files[0]),console.log(N.target.files[0]))},E=N=>{_(N)},I=async()=>{let N=null;const O=new Date().toISOString();if(o.length<=3){y({isShow:!0,text:"Название должно быть больше 3-х символов"});return}if(h){const A=Sr(Er,`groups_photo/${O}_${h.name}`);await Qo(A,h),N=await rs(A)}else{const A=LY(500,500),L=A.getContext("2d"),D=k[Math.floor(Math.random()*k.length)];L.fillStyle=D,L.fillRect(0,0,A.width,A.height),L.fillStyle="white",L.font="bold 250px Inter",L.textAlign="center",L.textBaseline="middle",L.fillText(o[0].toUpperCase(),A.width/2,A.height/2);const R=await new Promise(M=>A.toBlob(M)),P=Sr(Er,`groups_photo/${O}_${o}_default.png`);await Qo(P,R),N=await rs(P)}try{const A=In(q,"groups"),D=(await Zf(A,{})).id,R=Z(q,"groups",D,"info","info");await ut(R,{name:o,description:a,photo:N,cover:m,owner:r._id,members:[r._id]},{merge:!0}),b(`/group/${D}`)}catch(A){console.error("Error creating document: ",A)}};function j(N){if(!N)return!1;let O,A,L;if(N.startsWith("#"))if(N.length===4)O=parseInt(N[1]+N[1],16),A=parseInt(N[2]+N[2],16),L=parseInt(N[3]+N[3],16);else if(N.length===7)O=parseInt(N.slice(1,3),16),A=parseInt(N.slice(3,5),16),L=parseInt(N.slice(5,7),16);else return!1;else if(N.startsWith("rgb")){const R=N.substring(N.indexOf("(")+1,N.lastIndexOf(")")).split(",").map(Number);if(R.length===3)O=R[0],A=R[1],L=R[2];else return!1}else{const R=document.createElement("div");R.style.color=N,document.body.appendChild(R);const P=window.getComputedStyle(R).color;if(document.body.removeChild(R),P.startsWith("rgb")){const M=P.substring(P.indexOf("(")+1,P.lastIndexOf(")")).split(",").map(Number);if(M.length===3)O=M[0],A=M[1],L=M[2];else return!1}else return!1}return(O*299+A*587+L*114)/1e3>180}return c.jsx("div",{className:ht.container,children:c.jsxs("div",{className:ht["profile-container"],children:[c.jsx(Pt,{isShow:v.isShow,text:v.text}),c.jsx("div",{className:ht["cover-container"],children:c.jsx("div",{className:ht.cover,style:{background:m},children:c.jsx("div",{className:ht["cover-pattern"]})})}),c.jsxs("div",{className:ht["group-photo"],style:{borderColor:t.background_color,background:t.background_color},children:[c.jsx("button",{className:ht["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:c.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),c.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),c.jsx("img",{src:h?URL.createObjectURL(h):g.photo}),c.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:S})]}),c.jsx("div",{className:ht["colors-container"],style:{background:t.element_first_color},children:T.map(N=>c.jsx(c.Fragment,{children:N.colors.map((O,A)=>c.jsx("div",{className:ht["color-circle"],style:{background:O},onClick:()=>E(O),children:m===O&&c.jsx("div",{className:ht["active-circle"],style:{borderColor:j(O)?"#0A0B10":"#fff"}})},A))}))}),c.jsxs("div",{className:ht["group-actions"],style:{background:t.element_first_color},children:[c.jsxs("div",{className:ht["input-data-container"],children:[c.jsx("div",{className:ht.label,style:{color:t.first_color},children:"Название"}),c.jsx("input",{type:"text",value:o,className:ht["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:N=>i(N.target.value)})]}),c.jsxs("div",{className:ht["input-data-container"],children:[c.jsx("div",{className:ht.label,style:{color:t.first_color},children:"Описание"}),c.jsx("input",{type:"text",value:a,className:ht["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:N=>l(N.target.value)})]}),c.jsx("div",{className:ht["button-container"],children:c.jsx("button",{className:ht["quit-button"],style:{color:t.text_first_color,background:t.first_color},onClick:I,children:"Создать"})})]})]})})}const DY="_container_yjc12_1",qm={container:DY,"main-button":"_main-button_yjc12_12"};function MY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F);p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[F]);const[s,o]=p.useState([[1,2],[3,4]]),[i,a]=p.useState([]),l=_=>_[0].map((x,v)=>_.map(y=>y[v])),u=[[1,2],[3,4]],d=[[1,2,3],[4,5,6]],h=(_,w)=>{const x=_.length,v=_[0].length,y=w.length,g=w[0].length;if(v!==y)throw new Error("Количество столбцов в A должно быть равно количеству строк в B");const C=Array.from({length:x},()=>Array(g).fill(0));for(let b=0;b<x;b++)for(let k=0;k<g;k++)for(let T=0;T<v;T++)C[b][k]+=_[b][T]*w[T][k];return C},f=()=>{console.log(l(d))},m=()=>{console.log(h(u,d))};return c.jsxs("div",{className:qm.container,children:[c.jsx("button",{className:qm["main-button"],style:{background:t.first_color},onClick:f,children:"Транспонировать"}),c.jsx("button",{className:qm["main-button"],style:{background:t.first_color},onClick:m,children:"Умножить"})]})}const $Y="_container_1pzp3_1",FY="_game_1pzp3_18",fC={container:$Y,game:FY};function BY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),s=fe();p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/group-list"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[F]);const[o,i]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),a=p.useRef(),[l,u]=p.useState(0),[d,h]=p.useState({width:360,height:500});let f,m=d.width,_=d.height,w;const x=70,v=70,y=d.width/8,g=d.height/2;let C,b={x:y,y:g,width:x,height:v},k=[];const T=60,S=400,E=d.width,I=0;let j,N,O=-2,A=0,L=.4,D=!1;const R=()=>{const ne=window.innerWidth<768,de=Math.min(window.innerWidth,360),Ae=ne?700:Math.min(window.innerHeight,100);h({width:de,height:Ae})};p.useEffect(()=>(window.addEventListener("resize",R),R(),()=>{window.removeEventListener("resize",R)}),[]),p.useEffect(()=>{const ne=a.current;if(!ne)return;f=ne,f.height=_,f.width=m,w=f.getContext("2d"),C=new Image,C.src="flippybird/flappybird.png",C.onload=()=>{w.drawImage(C,b.x,b.y,b.width,b.height)},j=new Image,j.src="flippybird/toppipe.png",N=new Image,N.src="flippybird/bottompipe.png",requestAnimationFrame(P);const de=setInterval(B,1500);return document.addEventListener("click",W),()=>{clearInterval(de),document.removeEventListener("click",W)}},[C]);const P=()=>{if(requestAnimationFrame(P),!D){w.clearRect(0,0,f.width,f.height),A+=L,b.y=Math.max(b.y+A,0),w.drawImage(C,b.x,b.y,b.width,b.height),b.y>f.height&&(D=!0);for(let ne=0;ne<k.length;ne++){let de=k[ne];de.x+=O,w.drawImage(de.img,de.x,de.y,de.width,de.height),!de.passed&&b.x>de.x+de.width&&(u(Ae=>Ae+=.5),de.passed=!0),te(b,de)&&(D=!0)}for(;k.length>0&&k[0].x<-60;)k.shift();w.fillStyle="white",w.font="15px sans-serif",D&&i({isShow:!0,title:"Вы проиграли!",text:`Ваш счет: ${l}`,firstButtonName:"Выйти",secondButtonName:"Играть",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:()=>M()})}},M=()=>{D=!1,b={x:y,y:g,width:x,height:v},k=[],u(0),i({isShow:!1})},B=()=>{if(D)return;let ne=I-S/4-Math.random()*(S/2),de=f.height/4,Ae={img:j,x:E,y:ne,width:T,height:S,passed:!1};k.push(Ae);let Ln={img:N,x:E,y:ne+S+de,width:T,height:S,passed:!1};k.push(Ln)},W=ne=>{A=-6},te=(ne,de)=>ne.x<de.x+de.width&&ne.x+ne.width>de.x&&ne.y<de.y+de.height&&ne.y+ne.height>de.y;return c.jsx("div",{className:fC.container,children:c.jsx("iframe",{className:fC.game,src:"https://ridgeld.github.io/game/",allowfullscreen:!0})})}const UY="_container_isjmo_1",VY="_game_isjmo_12",pC={container:UY,game:VY};function zY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),s=fe();p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[F]);const[o,i]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"});return c.jsx("div",{className:pC.container,children:c.jsx("iframe",{className:pC.game,src:"https://students-rating-private-ridgelds-projects.vercel.app/"})})}const HY="_container_zepfk_2",vi={container:HY,"search-container":"_search-container_zepfk_12","empty-body":"_empty-body_zepfk_40","empty-photo":"_empty-photo_zepfk_49","empty-info":"_empty-info_zepfk_59","empty-name":"_empty-name_zepfk_68"},qY="_body_68fin_2",WY="_photo_68fin_19",GY="_info_68fin_13",KY="_name_68fin_44",wi={body:qY,"info-group":"_info-group_68fin_13",photo:WY,info:GY,name:KY,"delete-button":"_delete-button_68fin_49"};function YY({id:t,name:e,photo:n,onClick:r,canDelete:s,removeUser:o}){const{theme:i,setElementColors:a}=p.useContext(F),l=d=>{r(t)},u=d=>{d.stopPropagation(),o(t,e)};return c.jsxs("div",{className:wi.body,style:{borderTop:`1px solid ${i.element_first_color}`},onClick:l,children:[c.jsxs("div",{className:wi["info-group"],children:[c.jsx("div",{className:wi.photo,children:c.jsx("img",{src:n,alt:"ава"})}),c.jsx("div",{className:wi.info,children:c.jsx("div",{className:wi.name,style:{color:i.text_first_color},children:e})})]}),s&&c.jsx("button",{className:wi["delete-button"],style:{background:i.element_first_color},onClick:u,children:c.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function QY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),r=fe(),[s]=II(),{id:o}=Tr(),{authUser:i}=pe(),a=s.get("isGroup")==="true",[l,u]=p.useState([]),[d,h]=p.useState(""),[f,m]=p.useState(!1),[_,w]=p.useState(!1),[x,v]=p.useState({isShow:!1,text:""}),y=async()=>{try{if(m(!0),!o){console.error("ID не найден в параметрах запроса");return}const k=Z(q,a?"groups":"users",o,"info",a?"info":"preferences"),T=await le(k);if(T.exists()){const S=T.data(),E=a?S.members:S.followers||[];(a?S.owner:S.uid)===i._id&&w(!0);const j=await Promise.all(E.map(async N=>{const O=Z(q,"users",N,"info","preferences"),A=await le(O);if(A.exists()){const L=A.data();return{uid:N,name:L.name||"Без имени",photo:L.photo||""}}return null}));u(j.filter(Boolean))}}catch(k){console.error("Ошибка загрузки данных:",k)}finally{m(!1)}};p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:a?()=>r(`/group/${o}`):()=>r(`/profile/${o}`),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t,o,a,r]),p.useEffect(()=>{y()},[o,a]);const g=k=>{h(k.target.value)},C=l.filter(k=>k.name.toLowerCase().includes(d.toLowerCase())),b=async(k,T)=>{try{if(a){const S=Z(q,"groups",o,"info","info"),E=await le(S);if(E.exists()){const j=E.data().members.filter(N=>N!==k);await ut(S,{members:j},{merge:!0}),v({isShow:!0,text:`Вы удалили ${T} из подписчиков `}),y(),console.log(`Пользователь ${k} удалён из группы`)}}else{const S=Z(q,"users",o,"info","preferences"),E=await le(S);if(E.exists()){const j=E.data().subscribers.filter(N=>N!==k);await ut(S,{followers:j},{merge:!0}),v({isShow:!0,text:`Вы удалили ${T} из подписчиков `}),y(),console.log(`Пользователь ${k} удалён из подписчиков`)}}}catch(S){console.error("Ошибка при удалении пользователя:",S)}};return c.jsxs("div",{className:vi.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                    width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                    background: ${t.first_color};
                    border-radius: 5px;
                }
                ::-webkit-scrollbar-track {
                    background-color: rgba(0, 0, 0, 0.3);
                }
            `}),c.jsx(Pt,{isShow:x.isShow,text:x.text}),c.jsx(Z6,{value:d,onChange:g,placeholder:"Подписчики"}),c.jsx("div",{className:vi["search-container"],children:f?Array.from({length:2}).map((k,T)=>c.jsxs("div",{className:vi["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[c.jsx("div",{className:vi["empty-photo"],children:c.jsx(bn,{height:"30px",width:"30px",shape:"circle"})}),c.jsx("div",{className:vi["empty-info"],children:c.jsx("div",{className:vi["empty-name"],style:{color:t.text_first_color},children:c.jsx(bn,{height:"10px",width:"100px",shape:"rect"})})})]},T)):C.map((k,T)=>c.jsx(YY,{id:k.uid,name:k.name,photo:k.photo,canDelete:_,removeUser:b,onClick:()=>r(`/profile/${k.uid}`)},T))})]})}const ZY="_container_1e7tt_1",XY="_board_1e7tt_8",JY="_controls_1e7tt_15",xn={container:ZY,board:XY,controls:JY,"input-container":"_input-container_1e7tt_22","input-data":"_input-data_1e7tt_30","check-button":"_check-button_1e7tt_48","show-name-button":"_show-name-button_1e7tt_65","next-button":"_next-button_1e7tt_82","bottom-controls":"_bottom-controls_1e7tt_99","answer-display":"_answer-display_1e7tt_107"},ho=[{id:1,name:"Горизонтальная линия уровня",frontalProjection:[{x:2,y:5},{x:8,y:5}],horizontalProjection:[{x:2,y:3},{x:8,y:6}]},{id:2,name:"Фронтально проецирующая линия",frontalProjection:[{x:5,y:5}],horizontalProjection:[{x:5,y:2},{x:5,y:6}]},{id:3,name:"Линия общего положения",frontalProjection:[{x:1,y:3},{x:9,y:7}],horizontalProjection:[{x:1,y:7},{x:9,y:3}]},{id:4,name:"Фронтальная линия уровня",frontalProjection:[{x:3,y:5},{x:4,y:4},{x:5,y:3.5},{x:6,y:3.2},{x:7,y:3.5},{x:8,y:4},{x:9,y:5}],horizontalProjection:[{x:3,y:5},{x:9,y:5}]},{id:5,name:"Горизонтально проецирующая линия",frontalProjection:[{x:5,y:3},{x:5,y:7}],horizontalProjection:[{x:5,y:4}]},{id:6,name:"Профильная линия уровня",frontalProjection:[{x:5,y:3},{x:5,y:7}],horizontalProjection:[{x:5,y:3},{x:5,y:7}]},{id:7,name:"Профильно проецирующая линия",frontalProjection:[{x:4,y:5},{x:9,y:5}],horizontalProjection:[{x:4,y:5},{x:9,y:5}]},{id:8,name:"Фронтально проецирующая плоскость",frontalProjection:[{x:4,y:3},{x:9,y:5}],horizontalProjection:[{x:4,y:3},{x:9,y:5},null,{x:9,y:3},{x:4,y:5}]},{id:9,name:"Фронтальная плоскость уровня",frontalProjection:[{x:4,y:3},{x:9,y:3},null,{x:4,y:6},{x:9,y:6}],horizontalProjection:[{x:4,y:5},{x:9,y:5}]},{id:10,name:"Фронтальная плоскость уровня",frontalProjection:[{x:2.5,y:3},{x:1,y:3},{x:1,y:6},{x:2.5,y:6},null,{x:1,y:4.5},{x:2.5,y:4.5},null,{x:3.5,y:3},{x:3.5,y:6},{x:5,y:6},null,{x:6.3,y:3},{x:6,y:3},{x:6,y:6},{x:6.3,y:6},{x:7,y:5.7},{x:7.5,y:5},{x:7.5,y:4},{x:7,y:3.3},{x:6.3,y:3},null,{x:8.5,y:6},{x:9.25,y:3},{x:10,y:6},null,{x:8.75,y:5},{x:9.75,y:5},null,{x:11,y:6},{x:11,y:3},{x:12.5,y:6},{x:12.5,y:3}],horizontalProjection:[{x:1,y:5},{x:2.5,y:5},null,{x:3.5,y:5},{x:5,y:5},null,{x:6,y:5},{x:7.5,y:5},null,{x:8.5,y:5},{x:10,y:5},null,{x:11,y:5},{x:12.5,y:5},null]},{id:11,name:"Фронтально проецирующая плоскость",frontalProjection:[{x:4,y:3},{x:9,y:5}],horizontalProjection:[{x:4,y:3},{x:9,y:3},null,{x:4,y:6},{x:9,y:6}]},{id:12,name:"Zа наших!",frontalProjection:[{x:4,y:3},{x:9,y:3},{x:4,y:6},{x:9,y:6}],horizontalProjection:[{x:4,y:3},{x:6.5,y:6},{x:9,y:3}]},{id:13,name:"Горизонтально проецирующая плоскость",frontalProjection:[{x:4,y:6},{x:6.5,y:3},{x:9,y:6},{x:4,y:6}],horizontalProjection:[{x:4,y:3},{x:9,y:5}]},{id:14,name:"Горизонтальная плоскость уровня",frontalProjection:[{x:4,y:5},{x:9,y:5}],horizontalProjection:[{x:4,y:6},{x:4.5,y:5},{x:5.5,y:4.2},{x:6.5,y:4},{x:7.5,y:4.2},{x:8.5,y:5},{x:9,y:6}]},{id:15,name:"Плоскость общего положения",frontalProjection:[{x:4,y:3},{x:9,y:6}],horizontalProjection:[{x:4,y:2},{x:9,y:5},null,{x:4,y:4},{x:9,y:7}]},{id:16,name:"Плоскость общего положения",frontalProjection:[{x:6,y:7},{x:8,y:7},{x:9.5,y:5},{x:8,y:3},{x:6,y:3},{x:4.5,y:5},{x:6,y:7}],horizontalProjection:[{x:6,y:7},{x:8,y:7},{x:9.5,y:5},{x:8,y:3},{x:6,y:3},{x:4.5,y:5},{x:6,y:7}]}];function eQ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F),s=fe(),o=p.useRef(),[i,a]=p.useState(0),[l,u]=p.useState(0),[d,h]=p.useState(""),[f,m]=p.useState(!1),[_,w]=p.useState(null),[x,v]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[y,g]=p.useState({width:400,height:600});p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[t]);const C=()=>{const j=window.innerWidth<768,N=j?window.innerWidth-40:600,O=j?350:Math.min(window.innerHeight-100,300);g({width:Math.min(window.innerWidth-40,N),height:O})};p.useEffect(()=>{window.addEventListener("resize",C),C();const j=Math.floor(Math.random()*ho.length);return u(j),()=>{window.removeEventListener("resize",C)}},[]),p.useEffect(()=>{const j=o.current;if(!j)return;const N=j.getContext("2d"),O=20,A=Math.floor(y.width/O),L=Math.floor(y.height/O);N.clearRect(0,0,y.width,y.height),b(N,O,A,L);const D={x:0,y:0,width:y.width,height:y.height/2},R={x:0,y:y.height/2,width:y.width,height:y.height/2};N.beginPath(),N.moveTo(0,y.height/2),N.lineTo(y.width,y.height/2),N.strokeStyle=t.text_first_color,N.lineWidth=2,N.stroke();const P=ho[l];k(N,P.frontalProjection,O,D,t.third_color),k(N,P.horizontalProjection,O,R,t.first_color),N.font="16px Inter",N.fillStyle=t.text_first_color,N.fillText("Фронтальная проекция",10,20),N.fillText("Горизонтальная проекция",10,y.height/2+20)},[y,l]);const b=(j,N,O,A)=>{j.beginPath(),j.strokeStyle=t.element_second_color,j.lineWidth=.5;for(let L=0;L<=O;L++)j.moveTo(L*N,0),j.lineTo(L*N,y.height);for(let L=0;L<=A;L++)j.moveTo(0,L*N),j.lineTo(y.width,L*N);j.stroke()},k=(j,N,O,A,L)=>{if(N.length===0)return;j.strokeStyle=L,j.lineWidth=2,j.fillStyle=L;let D=null;N.forEach((R,P)=>{if(R===null){D=null;return}const M=A.x+R.x*O,B=A.y+R.y*O;D!==null&&(j.beginPath(),j.moveTo(D.x,D.y),j.lineTo(M,B),j.stroke()),j.beginPath(),j.arc(M,B,4,0,Math.PI*2),j.fill(),D={x:M,y:B}})},T=j=>{h(j.target.value),w(null)},S=()=>{const j=ho[l].name.toLowerCase();d.toLowerCase()===j?(w(!0),a(O=>O+1),v({isShow:!0,title:"Правильно!",text:"Вы правильно определили линию.",firstButtonName:"Выйти",secondButtonName:"Далее",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:E})):(w(!1),v({isShow:!0,title:"Неверно!",text:`Правильный ответ: ${ho[l].name}`,firstButtonName:"Выйти",secondButtonName:"Далее",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:E}))},E=()=>{let j;do j=Math.floor(Math.random()*ho.length);while(j===l&&ho.length>1);u(j),h(""),m(!1),w(null),v({isShow:!1})},I=()=>{m(!0)};return c.jsxs("div",{className:xn.container,children:[c.jsx(co,{title:x.title,text:x.text,isShow:x.isShow,firstButtonName:x.firstButtonName,secondButtonName:x.secondButtonName,firstButtonOnClick:x.firstButtonOnClick,secondButtonOnClick:x.secondButtonOnClick}),c.jsx("canvas",{ref:o,width:y.width,height:y.height,className:xn.board,style:{background:t.element_first_color}}),f&&c.jsxs("div",{className:xn["answer-display"],style:{background:t.element_first_color,color:t.text_first_color,border:`1px solid ${t.text_first_color}`},children:["Название: ",ho[l].name]}),c.jsxs("div",{className:xn.controls,children:[c.jsxs("div",{className:xn["input-container"],children:[c.jsx("input",{type:"text",placeholder:"Название",value:d,className:xn["input-data"],style:{color:t.text_first_color,caretColor:t.first_color,backgroundColor:t.element_first_color,"--placeholder-color":t.text_third_color},onChange:T}),c.jsx("button",{className:xn["check-button"],style:{color:t.text_first_color,background:t.first_color},onClick:S,children:"Проверить"})]}),c.jsxs("div",{className:xn["bottom-controls"],children:[c.jsx("button",{className:xn["show-name-button"],style:{color:t.text_first_color,background:t.element_first_color},onClick:I,children:"Показать название"}),c.jsx("button",{className:xn["next-button"],style:{color:t.text_first_color,background:t.first_color},onClick:E,children:"Далее"})]}),_!==null&&!x.isShow&&c.jsx("div",{className:`${xn.result} ${_?xn.correct:xn.incorrect}`,children:_?"Правильно!":"Неверно!"})]})]})}const tQ=()=>{const{id:t}=Tr(),e=fe();p.useRef(null);const{theme:n,elementColors:r,setElementColors:s}=p.useContext(F),{authUser:o}=pe(),[i,a]=p.useState(null),[l,u]=p.useState(null),[d,h]=p.useState(!0),[f,m]=p.useState({isShow:!1,images:[],index:null}),[_,w]=p.useState({isShow:!1,text:""}),[x,v]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"});p.useEffect(()=>{if(_.isShow){const A=setTimeout(()=>{w({isShow:!1})},1e3);return()=>clearTimeout(A)}},[_]),p.useEffect(()=>{if(!i)return;const A=(L,D)=>{let R=document.querySelector(`meta[${L.includes("og:")||L.includes("twitter:")?"property":"name"}="${L}"]`);R||(R=document.createElement("meta"),R.setAttribute(L.includes("og:")||L.includes("twitter:")?"property":"name",L),document.head.appendChild(R)),R.setAttribute("content",D)};A("description",i.description||"Описание поста"),A("author",i.userName||"Автор неизвестен"),A("og:title",i.text),A("og:description",i.description||"Описание поста"),A("og:image",i.postPhotos[0]||"default-image-url"),A("og:url",`https://ridgeld.github.io/genery/#/post/${t}`),A("twitter:title",i.text),A("twitter:image",i.postPhotos[0]||"default-image-url")},[i,t]),p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:()=>e("/posts"),isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:3}),document.body.style.background=n.background_color},[n,s,e]),p.useEffect(()=>{(async()=>{try{const L=Z(q,"posts",t),D=await le(L);if(D.exists()){const R=D.data(),M=new Date(R.timestamp).toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});a({id:D.id,userId:R.userId,groupOwnerId:R.groupOwnerId,userName:R.userName,userPhoto:R.userPhoto,postText:R.text,postPhotos:R.photos,postData:M,likesArray:R.likesArray})}}catch(L){console.error("Ошибка при загрузке поста:",L)}finally{h(!1)}})()},[t]),p.useEffect(()=>{const A=In(q,"posts",t,"comments"),L=Va(A,za("timestamp","asc")),D=li(L,R=>{const P=R.docs.map(M=>({commentId:M.id,...M.data()}));u(P)});return()=>D()},[t]);const y=(A,L)=>{m({isShow:!0,images:A,index:L})},g=()=>{v({isShow:!1})},C=(A,L)=>{switch(A){case"delete":return v({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:g,secondButtonOnClick:()=>deletePost(L)});default:return v({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}},[b,k]=p.useState(null),T=async A=>{const L=b?A.replace(`@${b.userName} `,""):A;try{const D=Z(In(q,"posts",t,"comments")),P={commentId:D.id,text:L,timestamp:Date.now(),userId:o._id,userName:o.name,userPhoto:o.avatar,replyTo:b?b.commentId:null,isReply:!!b};if(await ut(D,P),b){const M=Z(q,"posts",t,"comments",b.commentId);await ns(M,{replyCount:gD(1)})}k(null),E("")}catch(D){console.error("Ошибка при добавлении комментария: ",D)}},[S,E]=p.useState(null),I=A=>{e(`/profile/${A}`)},j=A=>{console.log("Ответ на комментарий:",A),k(A),E(`@${A.userName} `)};if(d)return c.jsx(Tt,{});if(!i)return c.jsx("p",{children:"Пост не найден."});l.filter(A=>!A.replyTo);const N=A=>l.filter(L=>L.replyTo===A),O=()=>{E("")};return c.jsxs("div",{className:ce.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${n.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsx(lo,{isShow:f.isShow,images:f.images,index:f.index,onClose:()=>m({isShow:!1})}),c.jsx(co,{title:x.title,text:x.text,isShow:x.isShow,firstButtonName:x.firstButtonName,secondButtonName:x.secondButtonName,firstButtonOnClick:x.firstButtonOnClick,secondButtonOnClick:x.secondButtonOnClick}),c.jsx(Pt,{isShow:_.isShow,text:_.text}),c.jsx(du,{postId:i.id,userId:i.userId,groupOwnerId:i.groupOwnerId,userName:i.userName,userPhoto:i.userPhoto,postData:i.postData,postText:i.postText,postPhotos:i.postPhotos,likesArray:i.likesArray,photoClick:y,postAction:C},i.id),c.jsxs("div",{className:ce["comments-container"],children:[l&&l.filter(A=>!A.isReply).map(A=>c.jsx(EG,{userId:A.userId,userPhoto:A.userPhoto,userName:A.userName,text:A.text,showUserProfile:I,onReply:j,replies:N(A.commentId),timestamp:A.timestamp,commentId:A.commentId},A.commentId)),c.jsx("div",{className:ce["fixed-input"],style:{background:n.background_color},children:c.jsx(xp,{placeholder:"Оставьте комментарий",Addtext:S&&`<div style="color: ${n.first_color};">${S}</div>`,onClearText:O,isPanelTop:!1,onSend:T,addFiles:!1})})]})]})},nQ="_wrapper_xqsih_1",rQ="_info_xqsih_36",sQ="_text_xqsih_70",fs={wrapper:nQ,"close-button":"_close-button_xqsih_13",info:rQ,text:sQ,"absolute-svg":"_absolute-svg_xqsih_84","skip-button":"_skip-button_xqsih_91"};function oQ(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),[r,s]=p.useState(localStorage.getItem("isBannerShow")),o=fe();p.useEffect(()=>{r||(console.log(9),o("/menu"))},[]),p.useEffect(()=>{const a=document.querySelector(".install_button");return a&&(a.style.display="flex"),()=>{a&&(a.style.display="none")}},[]);const i=()=>{localStorage.setItem("isBannerShow",!1),o("/menu")};return c.jsxs("div",{className:fs.wrapper,style:{background:"#0040F9"},children:[c.jsx("button",{className:fs["close-button"],onClick:()=>o("/menu"),children:c.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M1.4467 1.5533L9 9.10661M16.5533 16.6599L9 9.10661M9 9.10661L16.5533 1.5533M9 9.10661L1.4467 16.6599",stroke:"#fff","stroke-width":"2","stroke-linecap":"round"})})}),c.jsxs("div",{className:fs.info,children:[c.jsx("h4",{className:fs.hashtag,children:"# 2 года"}),c.jsxs("h1",{className:fs.title,children:["СКАЧАЙ ",c.jsx("br",{})," ПРИЛОЖЕНИЕ"]}),c.jsxs("span",{className:fs.text,children:["Устал искать ссылку на сайт?",c.jsx("br",{}),"Добавь его на главный экран и не парься"]})]}),c.jsx("div",{className:fs["absolute-svg"],children:c.jsx("svg",{width:"1203",height:"345",viewBox:"0 0 1203 345",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M9 96.3389L82.8243 170.06L156.649 96.3389L230.473 170.06L278.517 81.5166L328.905 236.37L386.715 117.792L437.103 195.024L506.631 39L559.362 298L633 66L704 236.37L789 117.792L866 236.37L978 81.5166L1024 195.024L1096.5 96.3389L1192.5 236.37",stroke:"#C3F82B","stroke-width":"23.4802"})})}),c.jsx("button",{className:fs["skip-button"],onClick:i,children:"Пропустить"})]})}const iQ={};function aQ(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),r=fe();return p.useEffect(()=>{n({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!1,arrowColor:t.text_first_color,arrowLink:()=>r("/posts"),isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t,n,r]),c.jsx("div",{className:iQ.container,children:c.jsx(oQ,{})})}const lQ=[{path:"/",exact:!0,component:c.jsx(DM,{}),auth:!1},{path:"/sign-up",exact:!1,component:c.jsx(BM,{}),auth:!1},{path:"/sign-in",exact:!1,component:c.jsx(w7,{}),auth:!0},{path:"/about",exact:!1,component:c.jsx(QF,{}),auth:!1},{path:"/menu",exact:!0,component:c.jsx(aB,{}),auth:!0},{path:"/messenger",exact:!0,component:c.jsx(LW,{}),auth:!0},{path:"/timetable/:id?",exact:!0,component:c.jsx(lG,{}),auth:!0},{path:"/list-menu",exact:!0,component:c.jsx(hG,{}),auth:!0},{path:"/posts",exact:!0,component:c.jsx(TG,{}),auth:!0},{path:"/post/:id?",exact:!0,component:c.jsx(tQ,{}),auth:!0},{path:"/settings",exact:!0,component:c.jsx(PG,{}),auth:!0},{path:"/cashback",exact:!0,component:c.jsx(MG,{}),auth:!1},{path:"/shop",exact:!0,component:c.jsx(zG,{}),auth:!0},{path:"/casino",exact:!0,component:c.jsx(aK,{}),auth:!0},{path:"/updates",exact:!0,component:c.jsx(fK,{}),auth:!0},{path:"/download/:id?",exact:!1,component:c.jsx(CK,{}),auth:!0},{path:"/profile/:id?",exact:!1,component:c.jsx(NK,{}),auth:!0},{path:"/game-menu",exact:!0,component:c.jsx(MK,{}),auth:!0},{path:"/tapcoin",exact:!0,component:c.jsx(HK,{}),auth:!0},{path:"/rocket",exact:!0,component:c.jsx(XK,{}),auth:!0},{path:"/quiz/:mode?",exact:!1,component:c.jsx(dY,{}),auth:!0},{path:"/search",exact:!0,component:c.jsx(xY,{}),auth:!0},{path:"/test",exact:!0,component:c.jsx($K,{}),auth:!0},{path:"/group/:id?",exact:!1,component:c.jsx(IY,{}),auth:!0},{path:"/subscribers/:id?",exact:!1,component:c.jsx(QY,{}),auth:!0},{path:"/group-list",exact:!1,component:c.jsx(jY,{}),auth:!0},{path:"/create-group",exact:!1,component:c.jsx(OY,{}),auth:!0},{path:"/matrix",exact:!0,component:c.jsx(MY,{}),auth:!1},{path:"/flippybird",exact:!0,component:c.jsx(BY,{}),auth:!1},{path:"/rating",exact:!0,component:c.jsx(zY,{}),auth:!1},{path:"/guessline",exact:!0,component:c.jsx(eQ,{}),auth:!1},{path:"/banner",exact:!0,component:c.jsx(aQ,{}),banner:!0,auth:!1}],cQ="_heading_qnxvq_34",ul={"content-wrapper":"_content-wrapper_qnxvq_1","img-wrapper":"_img-wrapper_qnxvq_13","image-no-select":"_image-no-select_qnxvq_26",heading:cQ};function uQ(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F);return p.useEffect(()=>{n({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:"#/menu",isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[F]),c.jsxs("div",{className:ul.container,children:[c.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),c.jsxs("div",{className:ul["content-wrapper"],style:{background:t.first_color},children:[c.jsxs("div",{className:ul["img-wrapper"],children:[c.jsx("div",{className:ul["image-no-select"]}),c.jsx("img",{src:"4.png"})]}),c.jsx("h3",{className:ul.heading,style:{color:t.text_first_color},children:"Страница не найдена"})]})]})}function dQ(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(F),{authUser:r}=pe(),[s,o]=p.useState(!1);return p.useEffect(()=>{const i=_7.onAuthStateChanged(a=>{o(!0)});return()=>i()},[]),s?c.jsx(TI,{children:c.jsxs(bI,{children:[lQ.map(i=>c.jsx(F1,{path:i.path,element:i.auth&&!r?c.jsx(w7,{}):i.component,exact:i.exact},i.path)),c.jsx(F1,{path:"*",element:c.jsx(uQ,{})})," "]})}):c.jsx($4,{color:t.icon_color})}function hQ(){return c.jsx(OM,{children:c.jsx(dQ,{})})}const fQ="_header_oh6ql_1",pQ="_logo_container_oh6ql_14",mQ="_icon_oh6ql_22",gQ="_masked_oh6ql_28",yQ="_title_oh6ql_34",_Q="_show_oh6ql_41",vQ="_hide_oh6ql_51",fo={header:fQ,logo_container:pQ,icon:mQ,masked:gQ,title:yQ,show:_Q,hide:vQ};function wQ(t){const{elementColors:e}=p.useContext(F);return e.isHeader?c.jsxs("div",{className:fo.header,style:{background:e.isHeaderBackground?e.headerBackground:"transparent"},children:[c.jsxs("div",{className:fo.logo_container,children:[c.jsxs("div",{className:fo.icon,children:[c.jsx("div",{className:fo.masked,style:{background:e.iconColor}}),c.jsx("svg",{width:"0",height:"0",children:c.jsx("clipPath",{id:"light",children:c.jsx("path",{d:"M9.54642 0.0769926C9.65318 0.14082 9.7358 0.240097 9.78078 0.358606C9.82576 0.477116 9.83043 0.607851 9.79404 0.729455L7.82939 7.31258H11.4543C11.5609 7.31254 11.6651 7.34466 11.7541 7.405C11.8431 7.46533 11.9131 7.55122 11.9553 7.65208C11.9975 7.75293 12.0102 7.86433 11.9917 7.97253C11.9733 8.08072 11.9245 8.18097 11.8514 8.2609L3.12447 17.8229C3.04003 17.9155 2.92766 17.9758 2.80569 17.9941C2.68371 18.0124 2.55932 17.9876 2.45279 17.9237C2.34625 17.8597 2.26386 17.7605 2.21904 17.6421C2.17421 17.5237 2.1696 17.3931 2.20596 17.2716L4.17061 10.6874H0.545652C0.439123 10.6874 0.334914 10.6553 0.245888 10.595C0.156862 10.5346 0.0869167 10.4487 0.044687 10.3479C0.00245728 10.247 -0.0102083 10.1356 0.00825369 10.0274C0.0267157 9.91925 0.0754969 9.819 0.148576 9.73907L8.87553 0.177112C8.95987 0.0846411 9.07206 0.0243103 9.19387 0.00592874C9.31567 -0.0124528 9.43992 0.0121961 9.54642 0.0758676V0.0769926Z"})})})]}),c.jsx("div",{className:fo.title,style:{color:e.titleColor},children:"GENERY"})]}),c.jsx("a",{onClick:e.arrowLink,className:e.showArrow?fo.show:fo.hide,children:c.jsx("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M21 9C21.5523 9 22 8.55228 22 8C22 7.44772 21.5523 7 21 7L21 9ZM0.292893 7.2929C-0.0976311 7.68342 -0.097631 8.31658 0.292893 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928933C7.68054 0.538409 7.04738 0.538409 6.65685 0.928933L0.292893 7.2929ZM21 7L1 7L1 9L21 9L21 7Z",fill:e.titleColor})})})]}):null}const xQ="_footer_frqas_1",CQ="_item_frqas_14",zh={footer:xQ,"item-body":"_item-body_frqas_14",item:CQ,"item-bg":"_item-bg_frqas_34"};function bQ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(F);return c.jsx(ot.div,{className:zh["item-bg"],layoutId:"activeItem",style:{background:t.active_element_color}})}function kQ({icon:t,link:e,isActive:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(F);return c.jsxs(ot.a,{className:zh["item-body"],layout:!0,onMouseEnter:a=>{a.currentTarget.style.background=r.active_element_color},onMouseLeave:a=>{a.currentTarget.style.background="none"},href:e,children:[c.jsx("div",{className:zh.item,children:t}),n&&c.jsx(bQ,{})]})}function SQ(){const{elementColors:t,theme:e}=p.useContext(F),n=[{icon:c.jsx("svg",{width:"26",height:"25",viewBox:"0 0 26 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M24.5 21.4781V12.988C24.5 12.3039 24.359 11.6269 24.0855 10.9982C23.812 10.3696 23.4118 9.80239 22.9092 9.3312L14.7608 1.69353C14.2858 1.24827 13.6557 1 13.0006 1C12.3455 1 11.7154 1.24827 11.2405 1.69353L3.09083 9.3312C2.58822 9.80239 2.188 10.3696 1.91452 10.9982C1.64103 11.6269 1.5 12.3039 1.5 12.988V21.4781C1.5 22.1469 1.76925 22.7884 2.2485 23.2613C2.72776 23.7343 3.37778 24 4.05556 24H21.9444C22.6222 24 23.2722 23.7343 23.7515 23.2613C24.2308 22.7884 24.5 22.1469 24.5 21.4781Z",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),link:"#/menu"},{icon:c.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M19.0976 18.396C20.6844 16.5982 21.6472 14.2366 21.6472 11.6501C21.6472 6.01758 17.0811 1.45151 11.4486 1.45151C5.81607 1.45151 1.25 6.01758 1.25 11.6501C1.25 17.2827 5.81607 21.8487 11.4486 21.8487C14.4947 21.8487 17.2288 20.5133 19.0976 18.396ZM19.0976 18.396L24.25 23.5485",stroke:e.text_first_color,"stroke-width":"2","stroke-linejoin":"round"})}),link:"#/search"},{icon:c.jsx("svg",{width:"26",height:"23",viewBox:"0 0 26 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:c.jsx("path",{d:"M13 13.1C14.1573 13.1 15.2672 12.6364 16.0856 11.8113C16.9039 10.9861 17.3636 9.86695 17.3636 8.7C17.3636 7.53305 16.9039 6.41389 16.0856 5.58873C15.2672 4.76357 14.1573 4.3 13 4.3C11.8427 4.3 10.7328 4.76357 9.91444 5.58873C9.0961 6.41389 8.63636 7.53305 8.63636 8.7C8.63636 9.86695 9.0961 10.9861 9.91444 11.8113C10.7328 12.6364 11.8427 13.1 13 13.1ZM13 13.1C11.264 13.1 9.59918 13.7954 8.37167 15.0331C7.14415 16.2708 6.45455 17.9496 6.45455 19.7V23M13 13.1C14.736 13.1 16.4008 13.7954 17.6283 15.0331C18.8558 16.2708 19.5455 17.9496 19.5455 19.7V23M14.0909 4.3C14.5316 2.4696 16.2891 1 18.4545 1C20.824 1 22.7964 2.969 22.8182 5.4C22.7964 7.831 20.824 9.8 18.4545 9.8M18.4545 9.8H17.3636M18.4545 9.8C22.0415 9.8 25 12.7546 25 16.4V18.6M11.9091 4.3C11.4684 2.4696 9.71091 1 7.54545 1C5.176 1 3.20364 2.969 3.18182 5.4C3.20364 7.831 5.176 9.8 7.54545 9.8M7.54545 9.8H8.63636M7.54545 9.8C3.95855 9.8 1 12.7546 1 16.4V18.6",stroke:e.text_first_color,"stroke-width":"2"})}),link:"#/group-list"},{icon:c.jsxs("svg",{width:"26",height:"27",viewBox:"0 0 26 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M16.8333 7.74997H16.8461M14.9167 24.3611H5.33333C4.31667 24.3611 3.34165 23.9572 2.62276 23.2383C1.90387 22.5194 1.5 21.5444 1.5 20.5278V5.19442C1.5 4.17775 1.90387 3.20273 2.62276 2.48384C3.34165 1.76495 4.31667 1.36108 5.33333 1.36108H20.6667C21.6833 1.36108 22.6584 1.76495 23.3772 2.48384C24.0961 3.20273 24.5 4.17775 24.5 5.19442V13.5",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M1.5 17.9721L7.88889 11.5832C9.07467 10.4422 10.5364 10.4422 11.7222 11.5832L16.8333 16.6944",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),c.jsx("path",{d:"M15.5557 15.4167L16.8334 14.1389C17.6883 13.3173 18.6862 13.0873 19.619 13.4489M21.9446 17.9723L19.389 21.8056H24.5001L21.9446 25.6389",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),link:"#/posts"},{icon:c.jsxs("svg",{width:"26",height:"17",viewBox:"0 0 26 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[c.jsx("path",{d:"M1 1.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M1 8.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),c.jsx("path",{d:"M1 15.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"})]}),link:"#/list-menu"}];return t.isFooter&&c.jsx("div",{className:zh.footer,style:{background:t.footerBackground},children:c.jsx(HH,{id:"footer",children:n.map((r,s)=>c.jsx(kQ,{icon:r.icon,link:r.link,isActive:s===t.activeElementIndex},s))})})}const EQ="_wrapper_u6s2n_1",TQ="_content_u6s2n_12",mC={wrapper:EQ,content:TQ};function IQ({children:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=p.useContext(F),[o,i]=p.useState(e.background_color);return p.useEffect(()=>{i(r.background)},[r]),c.jsxs(c.Fragment,{children:[c.jsx(wQ,{}),c.jsx("div",{className:mC.wrapper,children:c.jsx("div",{className:mC.content,children:t})}),c.jsx(SQ,{})]})}if("serviceWorker"in navigator){navigator.serviceWorker.register("/serviceworker.js",{scope:"/"}).then(e=>{console.log("Сервис-воркер зарегистрирован",e)}).catch(e=>{console.error("Ошибка при регистрации сервис-воркера:",e)});let t;window.addEventListener("beforeinstallprompt",e=>{console.log("Событие beforeinstallprompt поймано"),e.preventDefault(),t=e;const n=document.createElement("button");n.textContent="Установить приложение",n.className="install_button",document.body.appendChild(n);const r=document.createElement("div");r.innerHTML=`<svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6.5 1.13605C6.5 0.583763 6.94772 0.136047 7.5 0.136047C8.05228 0.136047 8.5 0.583763 8.5 1.13605L6.5 1.13605ZM8.20711 14.5711C7.81658 14.9616 7.18342 14.9616 6.79289 14.5711L0.428932 8.20712C0.0384076 7.81659 0.0384076 7.18343 0.428932 6.7929C0.819456 6.40238 1.45262 6.40238 1.84315 6.7929L7.5 12.4498L13.1569 6.7929C13.5474 6.40238 14.1805 6.40238 14.5711 6.7929C14.9616 7.18343 14.9616 7.81659 14.5711 8.20712L8.20711 14.5711ZM8.5 1.13605L8.5 13.864L6.5 13.864L6.5 1.13605L8.5 1.13605Z" fill="#fff"/>
    </svg>`,r.className="circle",n.appendChild(r),n.addEventListener("click",()=>{t&&(t.prompt(),t.userChoice.then(s=>{s.outcome==="accepted"?console.log("Пользователь установил приложение"):(console.log("Пользователь отклонил установку"),navigateTo("/menu"))}).catch(s=>{console.error("Ошибка при установке приложения:",s)}),t=null)})})}else console.log("Service Worker не поддерживается в этом браузере.");RT.createRoot(document.getElementById("main")).render(c.jsx(gr.StrictMode,{children:c.jsx(RI,{children:c.jsx(IQ,{children:c.jsx(hQ,{})})})}));
