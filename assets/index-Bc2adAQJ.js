function Q6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Z6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var hC={exports:{}},Fh={},fC={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=Symbol.for("react.element"),X6=Symbol.for("react.portal"),J6=Symbol.for("react.fragment"),e8=Symbol.for("react.strict_mode"),t8=Symbol.for("react.profiler"),n8=Symbol.for("react.provider"),r8=Symbol.for("react.context"),o8=Symbol.for("react.forward_ref"),s8=Symbol.for("react.suspense"),i8=Symbol.for("react.memo"),a8=Symbol.for("react.lazy"),nv=Symbol.iterator;function l8(t){return t===null||typeof t!="object"?null:(t=nv&&t[nv]||t["@@iterator"],typeof t=="function"?t:null)}var pC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mC=Object.assign,gC={};function xa(t,e,n){this.props=t,this.context=e,this.refs=gC,this.updater=n||pC}xa.prototype.isReactComponent={};xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yC(){}yC.prototype=xa.prototype;function Wg(t,e,n){this.props=t,this.context=e,this.refs=gC,this.updater=n||pC}var Gg=Wg.prototype=new yC;Gg.constructor=Wg;mC(Gg,xa.prototype);Gg.isPureReactComponent=!0;var rv=Array.isArray,_C=Object.prototype.hasOwnProperty,Kg={current:null},vC={key:!0,ref:!0,__self:!0,__source:!0};function wC(t,e,n){var r,o={},s=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)_C.call(e,r)&&!vC.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:kc,type:t,key:s,ref:i,props:o,_owner:Kg.current}}function c8(t,e){return{$$typeof:kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yg(t){return typeof t=="object"&&t!==null&&t.$$typeof===kc}function u8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ov=/\/+/g;function gp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?u8(""+t.key):e.toString(36)}function Wu(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case kc:case X6:i=!0}}if(i)return i=t,o=o(i),t=r===""?"."+gp(i,0):r,rv(o)?(n="",t!=null&&(n=t.replace(ov,"$&/")+"/"),Wu(o,e,n,"",function(c){return c})):o!=null&&(Yg(o)&&(o=c8(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(ov,"$&/")+"/")+t)),e.push(o)),1;if(i=0,r=r===""?".":r+":",rv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+gp(s,a);i+=Wu(s,e,n,l,o)}else if(l=l8(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+gp(s,a++),i+=Wu(s,e,n,l,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function au(t,e,n){if(t==null)return t;var r=[],o=0;return Wu(t,r,"","",function(s){return e.call(n,s,o++)}),r}function d8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Gu={transition:null},h8={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Gu,ReactCurrentOwner:Kg};function xC(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:au,forEach:function(t,e,n){au(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return au(t,function(){e++}),e},toArray:function(t){return au(t,function(e){return e})||[]},only:function(t){if(!Yg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=xa;me.Fragment=J6;me.Profiler=t8;me.PureComponent=Wg;me.StrictMode=e8;me.Suspense=s8;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h8;me.act=xC;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mC({},t.props),o=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=Kg.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)_C.call(e,l)&&!vC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:kc,type:t.type,key:o,ref:s,props:r,_owner:i}};me.createContext=function(t){return t={$$typeof:r8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:n8,_context:t},t.Consumer=t};me.createElement=wC;me.createFactory=function(t){var e=wC.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:o8,render:t}};me.isValidElement=Yg;me.lazy=function(t){return{$$typeof:a8,_payload:{_status:-1,_result:t},_init:d8}};me.memo=function(t,e){return{$$typeof:i8,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=Gu.transition;Gu.transition={};try{t()}finally{Gu.transition=e}};me.unstable_act=xC;me.useCallback=function(t,e){return nn.current.useCallback(t,e)};me.useContext=function(t){return nn.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};me.useEffect=function(t,e){return nn.current.useEffect(t,e)};me.useId=function(){return nn.current.useId()};me.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return nn.current.useMemo(t,e)};me.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};me.useRef=function(t){return nn.current.useRef(t)};me.useState=function(t){return nn.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return nn.current.useTransition()};me.version="18.3.1";fC.exports=me;var p=fC.exports;const ws=$h(p),f8=Q6({__proto__:null,default:ws},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p8=p,m8=Symbol.for("react.element"),g8=Symbol.for("react.fragment"),y8=Object.prototype.hasOwnProperty,_8=p8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v8={key:!0,ref:!0,__self:!0,__source:!0};function CC(t,e,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)y8.call(e,r)&&!v8.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:m8,type:t,key:s,ref:i,props:o,_owner:_8.current}}Fh.Fragment=g8;Fh.jsx=CC;Fh.jsxs=CC;hC.exports=Fh;var u=hC.exports,bC={exports:{}},In={},kC={exports:{}},SC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,D){var G=A.length;A.push(D);e:for(;0<G;){var ee=G-1>>>1,be=A[ee];if(0<o(be,D))A[ee]=D,A[G]=be,G=ee;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var D=A[0],G=A.pop();if(G!==D){A[0]=G;e:for(var ee=0,be=A.length,le=be>>>1;ee<le;){var de=2*(ee+1)-1,$e=A[de],Bn=de+1,Y=A[Bn];if(0>o($e,G))Bn<be&&0>o(Y,$e)?(A[ee]=Y,A[Bn]=G,ee=Bn):(A[ee]=$e,A[de]=G,ee=de);else if(Bn<be&&0>o(Y,G))A[ee]=Y,A[Bn]=G,ee=Bn;else break e}}return D}function o(A,D){var G=A.sortIndex-D.sortIndex;return G!==0?G:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,h=null,f=3,g=!1,_=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=A)r(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function x(A){if(w=!1,m(A),!_)if(n(l)!==null)_=!0,M(k);else{var D=n(c);D!==null&&z(x,D.startTime-A)}}function k(A,D){_=!1,w&&(w=!1,v(S),S=-1),g=!0;var G=f;try{for(m(D),h=n(l);h!==null&&(!(h.expirationTime>D)||A&&!P());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var be=ee(h.expirationTime<=D);D=t.unstable_now(),typeof be=="function"?h.callback=be:h===n(l)&&r(l),m(D)}else r(l);h=n(l)}if(h!==null)var le=!0;else{var de=n(c);de!==null&&z(x,de.startTime-D),le=!1}return le}finally{h=null,f=G,g=!1}}var b=!1,T=null,S=-1,E=5,I=-1;function P(){return!(t.unstable_now()-I<E)}function N(){if(T!==null){var A=t.unstable_now();I=A;var D=!0;try{D=T(!0,A)}finally{D?R():(b=!1,T=null)}}else b=!1}var R;if(typeof y=="function")R=function(){y(N)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,O=j.port2;j.port1.onmessage=N,R=function(){O.postMessage(null)}}else R=function(){C(N,0)};function M(A){T=A,b||(b=!0,R())}function z(A,D){S=C(function(){A(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,M(k))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var G=f;f=D;try{return A()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var G=f;f=A;try{return D()}finally{f=G}},t.unstable_scheduleCallback=function(A,D,G){var ee=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ee+G:ee):G=ee,A){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=G+be,A={id:d++,callback:D,priorityLevel:A,startTime:G,expirationTime:be,sortIndex:-1},G>ee?(A.sortIndex=G,e(c,A),n(l)===null&&A===n(c)&&(w?(v(S),S=-1):w=!0,z(x,G-ee))):(A.sortIndex=be,e(l,A),_||g||(_=!0,M(k))),A},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(A){var D=f;return function(){var G=f;f=D;try{return A.apply(this,arguments)}finally{f=G}}}})(SC);kC.exports=SC;var w8=kC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x8=p,Sn=w8;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EC=new Set,Ml={};function Ws(t,e){Yi(t,e),Yi(t+"Capture",e)}function Yi(t,e){for(Ml[t]=e,t=0;t<e.length;t++)EC.add(e[t])}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=Object.prototype.hasOwnProperty,C8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sv={},iv={};function b8(t){return Vm.call(iv,t)?!0:Vm.call(sv,t)?!1:C8.test(t)?iv[t]=!0:(sv[t]=!0,!1)}function k8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function S8(t,e,n,r){if(e===null||typeof e>"u"||k8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,o,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qg=/[\-:]([a-z])/g;function Zg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qg,Zg);It[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qg,Zg);It[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qg,Zg);It[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xg(t,e,n,r){var o=It.hasOwnProperty(e)?It[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(S8(e,n,o,r)&&(n=null),r||o===null?b8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jr=x8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lu=Symbol.for("react.element"),gi=Symbol.for("react.portal"),yi=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),TC=Symbol.for("react.provider"),IC=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),t0=Symbol.for("react.memo"),lo=Symbol.for("react.lazy"),NC=Symbol.for("react.offscreen"),av=Symbol.iterator;function $a(t){return t===null||typeof t!="object"?null:(t=av&&t[av]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,yp;function rl(t){if(yp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yp=e&&e[1]||""}return`
`+yp+t}var _p=!1;function vp(t,e){if(!t||_p)return"";_p=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{_p=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rl(t):""}function E8(t){switch(t.tag){case 5:return rl(t.type);case 16:return rl("Lazy");case 13:return rl("Suspense");case 19:return rl("SuspenseList");case 0:case 2:case 15:return t=vp(t.type,!1),t;case 11:return t=vp(t.type.render,!1),t;case 1:return t=vp(t.type,!0),t;default:return""}}function Wm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yi:return"Fragment";case gi:return"Portal";case zm:return"Profiler";case Jg:return"StrictMode";case Hm:return"Suspense";case qm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IC:return(t.displayName||"Context")+".Consumer";case TC:return(t._context.displayName||"Context")+".Provider";case e0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case t0:return e=t.displayName||null,e!==null?e:Wm(t.type)||"Memo";case lo:e=t._payload,t=t._init;try{return Wm(t(e))}catch{}}return null}function T8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wm(e);case 8:return e===Jg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $o(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function I8(t){var e=AC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cu(t){t._valueTracker||(t._valueTracker=I8(t))}function PC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function _d(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gm(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$o(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function RC(t,e){e=e.checked,e!=null&&Xg(t,"checked",e,!1)}function Km(t,e){RC(t,e);var n=$o(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ym(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ym(t,e.type,$o(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function cv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ym(t,e,n){(e!=="number"||_d(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ol=Array.isArray;function Li(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$o(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Qm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(ol(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$o(n)}}function jC(t,e){var n=$o(e.value),r=$o(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function dv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var uu,OC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(uu=uu||document.createElement("div"),uu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=uu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N8=["Webkit","ms","Moz","O"];Object.keys(gl).forEach(function(t){N8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gl[e]=gl[t]})});function DC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gl.hasOwnProperty(t)&&gl[t]?(""+e).trim():e+"px"}function MC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=DC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var A8=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xm(t,e){if(e){if(A8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=null;function n0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var t1=null,Oi=null,Di=null;function hv(t){if(t=Tc(t)){if(typeof t1!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Hh(e),t1(t.stateNode,t.type,e))}}function $C(t){Oi?Di?Di.push(t):Di=[t]:Oi=t}function FC(){if(Oi){var t=Oi,e=Di;if(Di=Oi=null,hv(t),e)for(t=0;t<e.length;t++)hv(e[t])}}function BC(t,e){return t(e)}function UC(){}var wp=!1;function VC(t,e,n){if(wp)return t(e,n);wp=!0;try{return BC(t,e,n)}finally{wp=!1,(Oi!==null||Di!==null)&&(UC(),FC())}}function Fl(t,e){var n=t.stateNode;if(n===null)return null;var r=Hh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var n1=!1;if(Ur)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){n1=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{n1=!1}function P8(t,e,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var yl=!1,vd=null,wd=!1,r1=null,R8={onError:function(t){yl=!0,vd=t}};function j8(t,e,n,r,o,s,i,a,l){yl=!1,vd=null,P8.apply(R8,arguments)}function L8(t,e,n,r,o,s,i,a,l){if(j8.apply(this,arguments),yl){if(yl){var c=vd;yl=!1,vd=null}else throw Error(F(198));wd||(wd=!0,r1=c)}}function Gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fv(t){if(Gs(t)!==t)throw Error(F(188))}function O8(t){var e=t.alternate;if(!e){if(e=Gs(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return fv(o),t;if(s===r)return fv(o),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function HC(t){return t=O8(t),t!==null?qC(t):null}function qC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qC(t);if(e!==null)return e;t=t.sibling}return null}var WC=Sn.unstable_scheduleCallback,pv=Sn.unstable_cancelCallback,D8=Sn.unstable_shouldYield,M8=Sn.unstable_requestPaint,ot=Sn.unstable_now,$8=Sn.unstable_getCurrentPriorityLevel,r0=Sn.unstable_ImmediatePriority,GC=Sn.unstable_UserBlockingPriority,xd=Sn.unstable_NormalPriority,F8=Sn.unstable_LowPriority,KC=Sn.unstable_IdlePriority,Bh=null,hr=null;function B8(t){if(hr&&typeof hr.onCommitFiberRoot=="function")try{hr.onCommitFiberRoot(Bh,t,void 0,(t.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:z8,U8=Math.log,V8=Math.LN2;function z8(t){return t>>>=0,t===0?32:31-(U8(t)/V8|0)|0}var du=64,hu=4194304;function sl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,s=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=sl(a):(s&=i,s!==0&&(r=sl(s)))}else i=n&~o,i!==0?r=sl(i):s!==0&&(r=sl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Kn(e),o=1<<n,r|=t[n],e&=~o;return r}function H8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-Kn(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=H8(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function o1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YC(){var t=du;return du<<=1,!(du&4194240)&&(du=64),t}function xp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kn(e),t[e]=n}function W8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Kn(n),s=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~s}}function o0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Kn(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Se=0;function QC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZC,s0,XC,JC,e5,s1=!1,fu=[],So=null,Eo=null,To=null,Bl=new Map,Ul=new Map,po=[],G8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mv(t,e){switch(t){case"focusin":case"focusout":So=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":Bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function Ba(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=Tc(e),e!==null&&s0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function K8(t,e,n,r,o){switch(e){case"focusin":return So=Ba(So,t,e,n,r,o),!0;case"dragenter":return Eo=Ba(Eo,t,e,n,r,o),!0;case"mouseover":return To=Ba(To,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return Bl.set(s,Ba(Bl.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Ul.set(s,Ba(Ul.get(s)||null,t,e,n,r,o)),!0}return!1}function t5(t){var e=fs(t.target);if(e!==null){var n=Gs(e);if(n!==null){if(e=n.tag,e===13){if(e=zC(n),e!==null){t.blockedOn=e,e5(t.priority,function(){XC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=i1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);e1=r,n.target.dispatchEvent(r),e1=null}else return e=Tc(n),e!==null&&s0(e),t.blockedOn=n,!1;e.shift()}return!0}function gv(t,e,n){Ku(t)&&n.delete(e)}function Y8(){s1=!1,So!==null&&Ku(So)&&(So=null),Eo!==null&&Ku(Eo)&&(Eo=null),To!==null&&Ku(To)&&(To=null),Bl.forEach(gv),Ul.forEach(gv)}function Ua(t,e){t.blockedOn===e&&(t.blockedOn=null,s1||(s1=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,Y8)))}function Vl(t){function e(o){return Ua(o,t)}if(0<fu.length){Ua(fu[0],t);for(var n=1;n<fu.length;n++){var r=fu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(So!==null&&Ua(So,t),Eo!==null&&Ua(Eo,t),To!==null&&Ua(To,t),Bl.forEach(e),Ul.forEach(e),n=0;n<po.length;n++)r=po[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<po.length&&(n=po[0],n.blockedOn===null);)t5(n),n.blockedOn===null&&po.shift()}var Mi=Jr.ReactCurrentBatchConfig,bd=!0;function Q8(t,e,n,r){var o=Se,s=Mi.transition;Mi.transition=null;try{Se=1,i0(t,e,n,r)}finally{Se=o,Mi.transition=s}}function Z8(t,e,n,r){var o=Se,s=Mi.transition;Mi.transition=null;try{Se=4,i0(t,e,n,r)}finally{Se=o,Mi.transition=s}}function i0(t,e,n,r){if(bd){var o=i1(t,e,n,r);if(o===null)Pp(t,e,r,kd,n),mv(t,r);else if(K8(o,t,e,n,r))r.stopPropagation();else if(mv(t,r),e&4&&-1<G8.indexOf(t)){for(;o!==null;){var s=Tc(o);if(s!==null&&ZC(s),s=i1(t,e,n,r),s===null&&Pp(t,e,r,kd,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else Pp(t,e,r,null,n)}}var kd=null;function i1(t,e,n,r){if(kd=null,t=n0(r),t=fs(t),t!==null)if(e=Gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kd=t,null}function n5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($8()){case r0:return 1;case GC:return 4;case xd:case F8:return 16;case KC:return 536870912;default:return 16}default:return 16}}var xo=null,a0=null,Yu=null;function r5(){if(Yu)return Yu;var t,e=a0,n=e.length,r,o="value"in xo?xo.value:xo.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===o[s-r];r++);return Yu=o.slice(t,1<r?1-r:void 0)}function Qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pu(){return!0}function yv(){return!1}function Nn(t){function e(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?pu:yv,this.isPropagationStopped=yv,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pu)},persist:function(){},isPersistent:pu}),e}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l0=Nn(Ca),Ec=Ke({},Ca,{view:0,detail:0}),X8=Nn(Ec),Cp,bp,Va,Uh=Ke({},Ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Va&&(Va&&t.type==="mousemove"?(Cp=t.screenX-Va.screenX,bp=t.screenY-Va.screenY):bp=Cp=0,Va=t),Cp)},movementY:function(t){return"movementY"in t?t.movementY:bp}}),_v=Nn(Uh),J8=Ke({},Uh,{dataTransfer:0}),eE=Nn(J8),tE=Ke({},Ec,{relatedTarget:0}),kp=Nn(tE),nE=Ke({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),rE=Nn(nE),oE=Ke({},Ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sE=Nn(oE),iE=Ke({},Ca,{data:0}),vv=Nn(iE),aE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cE[t])?!!e[t]:!1}function c0(){return uE}var dE=Ke({},Ec,{key:function(t){if(t.key){var e=aE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c0,charCode:function(t){return t.type==="keypress"?Qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hE=Nn(dE),fE=Ke({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wv=Nn(fE),pE=Ke({},Ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c0}),mE=Nn(pE),gE=Ke({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),yE=Nn(gE),_E=Ke({},Uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vE=Nn(_E),wE=[9,13,27,32],u0=Ur&&"CompositionEvent"in window,_l=null;Ur&&"documentMode"in document&&(_l=document.documentMode);var xE=Ur&&"TextEvent"in window&&!_l,o5=Ur&&(!u0||_l&&8<_l&&11>=_l),xv=" ",Cv=!1;function s5(t,e){switch(t){case"keyup":return wE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _i=!1;function CE(t,e){switch(t){case"compositionend":return i5(e);case"keypress":return e.which!==32?null:(Cv=!0,xv);case"textInput":return t=e.data,t===xv&&Cv?null:t;default:return null}}function bE(t,e){if(_i)return t==="compositionend"||!u0&&s5(t,e)?(t=r5(),Yu=a0=xo=null,_i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return o5&&e.locale!=="ko"?null:e.data;default:return null}}var kE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kE[t.type]:e==="textarea"}function a5(t,e,n,r){$C(r),e=Sd(e,"onChange"),0<e.length&&(n=new l0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vl=null,zl=null;function SE(t){_5(t,0)}function Vh(t){var e=xi(t);if(PC(e))return t}function EE(t,e){if(t==="change")return e}var l5=!1;if(Ur){var Sp;if(Ur){var Ep="oninput"in document;if(!Ep){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),Ep=typeof kv.oninput=="function"}Sp=Ep}else Sp=!1;l5=Sp&&(!document.documentMode||9<document.documentMode)}function Sv(){vl&&(vl.detachEvent("onpropertychange",c5),zl=vl=null)}function c5(t){if(t.propertyName==="value"&&Vh(zl)){var e=[];a5(e,zl,t,n0(t)),VC(SE,e)}}function TE(t,e,n){t==="focusin"?(Sv(),vl=e,zl=n,vl.attachEvent("onpropertychange",c5)):t==="focusout"&&Sv()}function IE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(zl)}function NE(t,e){if(t==="click")return Vh(e)}function AE(t,e){if(t==="input"||t==="change")return Vh(e)}function PE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:PE;function Hl(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Vm.call(e,o)||!Qn(t[o],e[o]))return!1}return!0}function Ev(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tv(t,e){var n=Ev(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ev(n)}}function u5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d5(){for(var t=window,e=_d();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_d(t.document)}return e}function d0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function RE(t){var e=d5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u5(n.ownerDocument.documentElement,n)){if(r!==null&&d0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!t.extend&&s>r&&(o=r,r=s,s=o),o=Tv(n,s);var i=Tv(n,r);o&&i&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jE=Ur&&"documentMode"in document&&11>=document.documentMode,vi=null,a1=null,wl=null,l1=!1;function Iv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;l1||vi==null||vi!==_d(r)||(r=vi,"selectionStart"in r&&d0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Hl(wl,r)||(wl=r,r=Sd(a1,"onSelect"),0<r.length&&(e=new l0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vi)))}function mu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wi={animationend:mu("Animation","AnimationEnd"),animationiteration:mu("Animation","AnimationIteration"),animationstart:mu("Animation","AnimationStart"),transitionend:mu("Transition","TransitionEnd")},Tp={},h5={};Ur&&(h5=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function zh(t){if(Tp[t])return Tp[t];if(!wi[t])return t;var e=wi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h5)return Tp[t]=e[n];return t}var f5=zh("animationend"),p5=zh("animationiteration"),m5=zh("animationstart"),g5=zh("transitionend"),y5=new Map,Nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(t,e){y5.set(t,e),Ws(e,[t])}for(var Ip=0;Ip<Nv.length;Ip++){var Np=Nv[Ip],LE=Np.toLowerCase(),OE=Np[0].toUpperCase()+Np.slice(1);Go(LE,"on"+OE)}Go(f5,"onAnimationEnd");Go(p5,"onAnimationIteration");Go(m5,"onAnimationStart");Go("dblclick","onDoubleClick");Go("focusin","onFocus");Go("focusout","onBlur");Go(g5,"onTransitionEnd");Yi("onMouseEnter",["mouseout","mouseover"]);Yi("onMouseLeave",["mouseout","mouseover"]);Yi("onPointerEnter",["pointerout","pointerover"]);Yi("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DE=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Av(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,L8(r,e,void 0,t),t.currentTarget=null}function _5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;Av(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;Av(o,a,c),s=l}}}if(wd)throw t=r1,wd=!1,r1=null,t}function Re(t,e){var n=e[f1];n===void 0&&(n=e[f1]=new Set);var r=t+"__bubble";n.has(r)||(v5(e,t,2,!1),n.add(r))}function Ap(t,e,n){var r=0;e&&(r|=4),v5(n,t,r,e)}var gu="_reactListening"+Math.random().toString(36).slice(2);function ql(t){if(!t[gu]){t[gu]=!0,EC.forEach(function(n){n!=="selectionchange"&&(DE.has(n)||Ap(n,!1,t),Ap(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gu]||(e[gu]=!0,Ap("selectionchange",!1,e))}}function v5(t,e,n,r){switch(n5(e)){case 1:var o=Q8;break;case 4:o=Z8;break;default:o=i0}n=o.bind(null,e,n,t),o=void 0,!n1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Pp(t,e,n,r,o){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=fs(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}VC(function(){var c=s,d=n0(n),h=[];e:{var f=y5.get(t);if(f!==void 0){var g=l0,_=t;switch(t){case"keypress":if(Qu(n)===0)break e;case"keydown":case"keyup":g=hE;break;case"focusin":_="focus",g=kp;break;case"focusout":_="blur",g=kp;break;case"beforeblur":case"afterblur":g=kp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_v;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=eE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=mE;break;case f5:case p5:case m5:g=rE;break;case g5:g=yE;break;case"scroll":g=X8;break;case"wheel":g=vE;break;case"copy":case"cut":case"paste":g=sE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=wv}var w=(e&4)!==0,C=!w&&t==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var y=c,m;y!==null;){m=y;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,v!==null&&(x=Fl(y,v),x!=null&&w.push(Wl(y,x,m)))),C)break;y=y.return}0<w.length&&(f=new g(f,_,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==e1&&(_=n.relatedTarget||n.fromElement)&&(fs(_)||_[Vr]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?fs(_):null,_!==null&&(C=Gs(_),_!==C||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(w=_v,x="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=wv,x="onPointerLeave",v="onPointerEnter",y="pointer"),C=g==null?f:xi(g),m=_==null?f:xi(_),f=new w(x,y+"leave",g,n,d),f.target=C,f.relatedTarget=m,x=null,fs(d)===c&&(w=new w(v,y+"enter",_,n,d),w.target=m,w.relatedTarget=C,x=w),C=x,g&&_)t:{for(w=g,v=_,y=0,m=w;m;m=si(m))y++;for(m=0,x=v;x;x=si(x))m++;for(;0<y-m;)w=si(w),y--;for(;0<m-y;)v=si(v),m--;for(;y--;){if(w===v||v!==null&&w===v.alternate)break t;w=si(w),v=si(v)}w=null}else w=null;g!==null&&Pv(h,f,g,w,!1),_!==null&&C!==null&&Pv(h,C,_,w,!0)}}e:{if(f=c?xi(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var k=EE;else if(bv(f))if(l5)k=AE;else{k=IE;var b=TE}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=NE);if(k&&(k=k(t,c))){a5(h,k,n,d);break e}b&&b(t,f,c),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Ym(f,"number",f.value)}switch(b=c?xi(c):window,t){case"focusin":(bv(b)||b.contentEditable==="true")&&(vi=b,a1=c,wl=null);break;case"focusout":wl=a1=vi=null;break;case"mousedown":l1=!0;break;case"contextmenu":case"mouseup":case"dragend":l1=!1,Iv(h,n,d);break;case"selectionchange":if(jE)break;case"keydown":case"keyup":Iv(h,n,d)}var T;if(u0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else _i?s5(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(o5&&n.locale!=="ko"&&(_i||S!=="onCompositionStart"?S==="onCompositionEnd"&&_i&&(T=r5()):(xo=d,a0="value"in xo?xo.value:xo.textContent,_i=!0)),b=Sd(c,S),0<b.length&&(S=new vv(S,t,null,n,d),h.push({event:S,listeners:b}),T?S.data=T:(T=i5(n),T!==null&&(S.data=T)))),(T=xE?CE(t,n):bE(t,n))&&(c=Sd(c,"onBeforeInput"),0<c.length&&(d=new vv("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=T))}_5(h,e)})}function Wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sd(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Fl(t,n),s!=null&&r.unshift(Wl(t,s,o)),s=Fl(t,e),s!=null&&r.push(Wl(t,s,o))),t=t.return}return r}function si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pv(t,e,n,r,o){for(var s=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Fl(n,s),l!=null&&i.unshift(Wl(n,l,a))):o||(l=Fl(n,s),l!=null&&i.push(Wl(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var ME=/\r\n?/g,$E=/\u0000|\uFFFD/g;function Rv(t){return(typeof t=="string"?t:""+t).replace(ME,`
`).replace($E,"")}function yu(t,e,n){if(e=Rv(e),Rv(t)!==e&&n)throw Error(F(425))}function Ed(){}var c1=null,u1=null;function d1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h1=typeof setTimeout=="function"?setTimeout:void 0,FE=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(t){return jv.resolve(null).then(t).catch(UE)}:h1;function UE(t){setTimeout(function(){throw t})}function Rp(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Vl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Vl(e)}function Io(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ba=Math.random().toString(36).slice(2),ar="__reactFiber$"+ba,Gl="__reactProps$"+ba,Vr="__reactContainer$"+ba,f1="__reactEvents$"+ba,VE="__reactListeners$"+ba,zE="__reactHandles$"+ba;function fs(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lv(t);t!==null;){if(n=t[ar])return n;t=Lv(t)}return e}t=n,n=t.parentNode}return null}function Tc(t){return t=t[ar]||t[Vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Hh(t){return t[Gl]||null}var p1=[],Ci=-1;function Ko(t){return{current:t}}function Oe(t){0>Ci||(t.current=p1[Ci],p1[Ci]=null,Ci--)}function Ne(t,e){Ci++,p1[Ci]=t.current,t.current=e}var Fo={},Wt=Ko(Fo),fn=Ko(!1),Ns=Fo;function Qi(t,e){var n=t.type.contextTypes;if(!n)return Fo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function pn(t){return t=t.childContextTypes,t!=null}function Td(){Oe(fn),Oe(Wt)}function Ov(t,e,n){if(Wt.current!==Fo)throw Error(F(168));Ne(Wt,e),Ne(fn,n)}function w5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(F(108,T8(t)||"Unknown",o));return Ke({},n,r)}function Id(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fo,Ns=Wt.current,Ne(Wt,t),Ne(fn,fn.current),!0}function Dv(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=w5(t,e,Ns),r.__reactInternalMemoizedMergedChildContext=t,Oe(fn),Oe(Wt),Ne(Wt,t)):Oe(fn),Ne(fn,n)}var Er=null,qh=!1,jp=!1;function x5(t){Er===null?Er=[t]:Er.push(t)}function HE(t){qh=!0,x5(t)}function Yo(){if(!jp&&Er!==null){jp=!0;var t=0,e=Se;try{var n=Er;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Er=null,qh=!1}catch(o){throw Er!==null&&(Er=Er.slice(t+1)),WC(r0,Yo),o}finally{Se=e,jp=!1}}return null}var bi=[],ki=0,Nd=null,Ad=0,Rn=[],jn=0,As=null,Nr=1,Ar="";function ss(t,e){bi[ki++]=Ad,bi[ki++]=Nd,Nd=t,Ad=e}function C5(t,e,n){Rn[jn++]=Nr,Rn[jn++]=Ar,Rn[jn++]=As,As=t;var r=Nr;t=Ar;var o=32-Kn(r)-1;r&=~(1<<o),n+=1;var s=32-Kn(e)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Nr=1<<32-Kn(e)+o|n<<o|r,Ar=s+t}else Nr=1<<s|n<<o|r,Ar=t}function h0(t){t.return!==null&&(ss(t,1),C5(t,1,0))}function f0(t){for(;t===Nd;)Nd=bi[--ki],bi[ki]=null,Ad=bi[--ki],bi[ki]=null;for(;t===As;)As=Rn[--jn],Rn[jn]=null,Ar=Rn[--jn],Rn[jn]=null,Nr=Rn[--jn],Rn[jn]=null}var kn=null,xn=null,Ue=!1,Gn=null;function b5(t,e){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,xn=Io(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:Nr,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,xn=null,!0):!1;default:return!1}}function m1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function g1(t){if(Ue){var e=xn;if(e){var n=e;if(!Mv(t,e)){if(m1(t))throw Error(F(418));e=Io(n.nextSibling);var r=kn;e&&Mv(t,e)?b5(r,n):(t.flags=t.flags&-4097|2,Ue=!1,kn=t)}}else{if(m1(t))throw Error(F(418));t.flags=t.flags&-4097|2,Ue=!1,kn=t}}}function $v(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function _u(t){if(t!==kn)return!1;if(!Ue)return $v(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!d1(t.type,t.memoizedProps)),e&&(e=xn)){if(m1(t))throw k5(),Error(F(418));for(;e;)b5(t,e),e=Io(e.nextSibling)}if($v(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=Io(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=kn?Io(t.stateNode.nextSibling):null;return!0}function k5(){for(var t=xn;t;)t=Io(t.nextSibling)}function Zi(){xn=kn=null,Ue=!1}function p0(t){Gn===null?Gn=[t]:Gn.push(t)}var qE=Jr.ReactCurrentBatchConfig;function za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var o=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function vu(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Fv(t){var e=t._init;return e(t._payload)}function S5(t){function e(v,y){if(t){var m=v.deletions;m===null?(v.deletions=[y],v.flags|=16):m.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function o(v,y){return v=Ro(v,y),v.index=0,v.sibling=null,v}function s(v,y,m){return v.index=m,t?(m=v.alternate,m!==null?(m=m.index,m<y?(v.flags|=2,y):m):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,m,x){return y===null||y.tag!==6?(y=Bp(m,v.mode,x),y.return=v,y):(y=o(y,m),y.return=v,y)}function l(v,y,m,x){var k=m.type;return k===yi?d(v,y,m.props.children,x,m.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lo&&Fv(k)===y.type)?(x=o(y,m.props),x.ref=za(v,y,m),x.return=v,x):(x=rd(m.type,m.key,m.props,null,v.mode,x),x.ref=za(v,y,m),x.return=v,x)}function c(v,y,m,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=Up(m,v.mode,x),y.return=v,y):(y=o(y,m.children||[]),y.return=v,y)}function d(v,y,m,x,k){return y===null||y.tag!==7?(y=Cs(m,v.mode,x,k),y.return=v,y):(y=o(y,m),y.return=v,y)}function h(v,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Bp(""+y,v.mode,m),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lu:return m=rd(y.type,y.key,y.props,null,v.mode,m),m.ref=za(v,null,y),m.return=v,m;case gi:return y=Up(y,v.mode,m),y.return=v,y;case lo:var x=y._init;return h(v,x(y._payload),m)}if(ol(y)||$a(y))return y=Cs(y,v.mode,m,null),y.return=v,y;vu(v,y)}return null}function f(v,y,m,x){var k=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:a(v,y,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case lu:return m.key===k?l(v,y,m,x):null;case gi:return m.key===k?c(v,y,m,x):null;case lo:return k=m._init,f(v,y,k(m._payload),x)}if(ol(m)||$a(m))return k!==null?null:d(v,y,m,x,null);vu(v,m)}return null}function g(v,y,m,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(m)||null,a(y,v,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case lu:return v=v.get(x.key===null?m:x.key)||null,l(y,v,x,k);case gi:return v=v.get(x.key===null?m:x.key)||null,c(y,v,x,k);case lo:var b=x._init;return g(v,y,m,b(x._payload),k)}if(ol(x)||$a(x))return v=v.get(m)||null,d(y,v,x,k,null);vu(y,x)}return null}function _(v,y,m,x){for(var k=null,b=null,T=y,S=y=0,E=null;T!==null&&S<m.length;S++){T.index>S?(E=T,T=null):E=T.sibling;var I=f(v,T,m[S],x);if(I===null){T===null&&(T=E);break}t&&T&&I.alternate===null&&e(v,T),y=s(I,y,S),b===null?k=I:b.sibling=I,b=I,T=E}if(S===m.length)return n(v,T),Ue&&ss(v,S),k;if(T===null){for(;S<m.length;S++)T=h(v,m[S],x),T!==null&&(y=s(T,y,S),b===null?k=T:b.sibling=T,b=T);return Ue&&ss(v,S),k}for(T=r(v,T);S<m.length;S++)E=g(T,v,S,m[S],x),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?S:E.key),y=s(E,y,S),b===null?k=E:b.sibling=E,b=E);return t&&T.forEach(function(P){return e(v,P)}),Ue&&ss(v,S),k}function w(v,y,m,x){var k=$a(m);if(typeof k!="function")throw Error(F(150));if(m=k.call(m),m==null)throw Error(F(151));for(var b=k=null,T=y,S=y=0,E=null,I=m.next();T!==null&&!I.done;S++,I=m.next()){T.index>S?(E=T,T=null):E=T.sibling;var P=f(v,T,I.value,x);if(P===null){T===null&&(T=E);break}t&&T&&P.alternate===null&&e(v,T),y=s(P,y,S),b===null?k=P:b.sibling=P,b=P,T=E}if(I.done)return n(v,T),Ue&&ss(v,S),k;if(T===null){for(;!I.done;S++,I=m.next())I=h(v,I.value,x),I!==null&&(y=s(I,y,S),b===null?k=I:b.sibling=I,b=I);return Ue&&ss(v,S),k}for(T=r(v,T);!I.done;S++,I=m.next())I=g(T,v,S,I.value,x),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?S:I.key),y=s(I,y,S),b===null?k=I:b.sibling=I,b=I);return t&&T.forEach(function(N){return e(v,N)}),Ue&&ss(v,S),k}function C(v,y,m,x){if(typeof m=="object"&&m!==null&&m.type===yi&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case lu:e:{for(var k=m.key,b=y;b!==null;){if(b.key===k){if(k=m.type,k===yi){if(b.tag===7){n(v,b.sibling),y=o(b,m.props.children),y.return=v,v=y;break e}}else if(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===lo&&Fv(k)===b.type){n(v,b.sibling),y=o(b,m.props),y.ref=za(v,b,m),y.return=v,v=y;break e}n(v,b);break}else e(v,b);b=b.sibling}m.type===yi?(y=Cs(m.props.children,v.mode,x,m.key),y.return=v,v=y):(x=rd(m.type,m.key,m.props,null,v.mode,x),x.ref=za(v,y,m),x.return=v,v=x)}return i(v);case gi:e:{for(b=m.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){n(v,y.sibling),y=o(y,m.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Up(m,v.mode,x),y.return=v,v=y}return i(v);case lo:return b=m._init,C(v,y,b(m._payload),x)}if(ol(m))return _(v,y,m,x);if($a(m))return w(v,y,m,x);vu(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(n(v,y.sibling),y=o(y,m),y.return=v,v=y):(n(v,y),y=Bp(m,v.mode,x),y.return=v,v=y),i(v)):n(v,y)}return C}var Xi=S5(!0),E5=S5(!1),Pd=Ko(null),Rd=null,Si=null,m0=null;function g0(){m0=Si=Rd=null}function y0(t){var e=Pd.current;Oe(Pd),t._currentValue=e}function y1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $i(t,e){Rd=t,m0=Si=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function $n(t){var e=t._currentValue;if(m0!==t)if(t={context:t,memoizedValue:e,next:null},Si===null){if(Rd===null)throw Error(F(308));Si=t,Rd.dependencies={lanes:0,firstContext:t}}else Si=Si.next=t;return e}var ps=null;function _0(t){ps===null?ps=[t]:ps.push(t)}function T5(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,_0(e)):(n.next=o.next,o.next=n),e.interleaved=n,zr(t,r)}function zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var co=!1;function v0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function No(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,zr(t,n)}return o=r.interleaved,o===null?(e.next=e,_0(r)):(e.next=o.next,o.next=e),r.interleaved=e,zr(t,n)}function Zu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o0(t,n)}}function Bv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jd(t,e,n,r){var o=t.updateQueue;co=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=o.baseState;i=0,d=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,w=a;switch(f=e,g=n,w.tag){case 1:if(_=w.payload,typeof _=="function"){h=_.call(g,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,f=typeof _=="function"?_.call(g,h,f):_,f==null)break e;h=Ke({},h,f);break e;case 2:co=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=h):d=d.next=g,i|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(d===null&&(l=h),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,e=o.shared.interleaved,e!==null){o=e;do i|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);Rs|=i,t.lanes=i,t.memoizedState=h}}function Uv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(F(191,o));o.call(r)}}}var Ic={},fr=Ko(Ic),Kl=Ko(Ic),Yl=Ko(Ic);function ms(t){if(t===Ic)throw Error(F(174));return t}function w0(t,e){switch(Ne(Yl,e),Ne(Kl,t),Ne(fr,Ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zm(e,t)}Oe(fr),Ne(fr,e)}function Ji(){Oe(fr),Oe(Kl),Oe(Yl)}function N5(t){ms(Yl.current);var e=ms(fr.current),n=Zm(e,t.type);e!==n&&(Ne(Kl,t),Ne(fr,n))}function x0(t){Kl.current===t&&(Oe(fr),Oe(Kl))}var qe=Ko(0);function Ld(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lp=[];function C0(){for(var t=0;t<Lp.length;t++)Lp[t]._workInProgressVersionPrimary=null;Lp.length=0}var Xu=Jr.ReactCurrentDispatcher,Op=Jr.ReactCurrentBatchConfig,Ps=0,Ge=null,dt=null,_t=null,Od=!1,xl=!1,Ql=0,WE=0;function At(){throw Error(F(321))}function b0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function k0(t,e,n,r,o,s){if(Ps=s,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xu.current=t===null||t.memoizedState===null?QE:ZE,t=n(r,o),xl){s=0;do{if(xl=!1,Ql=0,25<=s)throw Error(F(301));s+=1,_t=dt=null,e.updateQueue=null,Xu.current=XE,t=n(r,o)}while(xl)}if(Xu.current=Dd,e=dt!==null&&dt.next!==null,Ps=0,_t=dt=Ge=null,Od=!1,e)throw Error(F(300));return t}function S0(){var t=Ql!==0;return Ql=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ge.memoizedState=_t=t:_t=_t.next=t,_t}function Fn(){if(dt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=_t===null?Ge.memoizedState:_t.next;if(e!==null)_t=e,dt=t;else{if(t===null)throw Error(F(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},_t===null?Ge.memoizedState=_t=t:_t=_t.next=t}return _t}function Zl(t,e){return typeof e=="function"?e(t):e}function Dp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=dt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var d=c.lane;if((Ps&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,Ge.lanes|=d,Rs|=d}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,Qn(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do s=o.lane,Ge.lanes|=s,Rs|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mp(t){var e=Fn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=t(s,i.action),i=i.next;while(i!==o);Qn(s,e.memoizedState)||(hn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function A5(){}function P5(t,e){var n=Ge,r=Fn(),o=e(),s=!Qn(r.memoizedState,o);if(s&&(r.memoizedState=o,hn=!0),r=r.queue,E0(L5.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_t!==null&&_t.memoizedState.tag&1){if(n.flags|=2048,Xl(9,j5.bind(null,n,r,o,e),void 0,null),vt===null)throw Error(F(349));Ps&30||R5(n,e,o)}return o}function R5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function j5(t,e,n,r){e.value=n,e.getSnapshot=r,O5(e)&&D5(t)}function L5(t,e,n){return n(function(){O5(e)&&D5(t)})}function O5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function D5(t){var e=zr(t,1);e!==null&&Yn(e,t,1,-1)}function Vv(t){var e=rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:t},e.queue=t,t=t.dispatch=YE.bind(null,Ge,t),[e.memoizedState,t]}function Xl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function M5(){return Fn().memoizedState}function Ju(t,e,n,r){var o=rr();Ge.flags|=t,o.memoizedState=Xl(1|e,n,void 0,r===void 0?null:r)}function Wh(t,e,n,r){var o=Fn();r=r===void 0?null:r;var s=void 0;if(dt!==null){var i=dt.memoizedState;if(s=i.destroy,r!==null&&b0(r,i.deps)){o.memoizedState=Xl(e,n,s,r);return}}Ge.flags|=t,o.memoizedState=Xl(1|e,n,s,r)}function zv(t,e){return Ju(8390656,8,t,e)}function E0(t,e){return Wh(2048,8,t,e)}function $5(t,e){return Wh(4,2,t,e)}function F5(t,e){return Wh(4,4,t,e)}function B5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function U5(t,e,n){return n=n!=null?n.concat([t]):null,Wh(4,4,B5.bind(null,e,t),n)}function T0(){}function V5(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z5(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&b0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function H5(t,e,n){return Ps&21?(Qn(n,e)||(n=YC(),Ge.lanes|=n,Rs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function GE(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=Op.transition;Op.transition={};try{t(!1),e()}finally{Se=n,Op.transition=r}}function q5(){return Fn().memoizedState}function KE(t,e,n){var r=Po(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W5(t))G5(e,n);else if(n=T5(t,e,n,r),n!==null){var o=tn();Yn(n,t,r,o),K5(n,e,r)}}function YE(t,e,n){var r=Po(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W5(t))G5(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,Qn(a,i)){var l=e.interleaved;l===null?(o.next=o,_0(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=T5(t,e,o,r),n!==null&&(o=tn(),Yn(n,t,r,o),K5(n,e,r))}}function W5(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function G5(t,e){xl=Od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function K5(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o0(t,n)}}var Dd={readContext:$n,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},QE={readContext:$n,useCallback:function(t,e){return rr().memoizedState=[t,e===void 0?null:e],t},useContext:$n,useEffect:zv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ju(4194308,4,B5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ju(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ju(4,2,t,e)},useMemo:function(t,e){var n=rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KE.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=rr();return t={current:t},e.memoizedState=t},useState:Vv,useDebugValue:T0,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=Vv(!1),e=t[0];return t=GE.bind(null,t[1]),rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,o=rr();if(Ue){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),vt===null)throw Error(F(349));Ps&30||R5(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,zv(L5.bind(null,r,s,t),[t]),r.flags|=2048,Xl(9,j5.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=rr(),e=vt.identifierPrefix;if(Ue){var n=Ar,r=Nr;n=(r&~(1<<32-Kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ql++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZE={readContext:$n,useCallback:V5,useContext:$n,useEffect:E0,useImperativeHandle:U5,useInsertionEffect:$5,useLayoutEffect:F5,useMemo:z5,useReducer:Dp,useRef:M5,useState:function(){return Dp(Zl)},useDebugValue:T0,useDeferredValue:function(t){var e=Fn();return H5(e,dt.memoizedState,t)},useTransition:function(){var t=Dp(Zl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:A5,useSyncExternalStore:P5,useId:q5,unstable_isNewReconciler:!1},XE={readContext:$n,useCallback:V5,useContext:$n,useEffect:E0,useImperativeHandle:U5,useInsertionEffect:$5,useLayoutEffect:F5,useMemo:z5,useReducer:Mp,useRef:M5,useState:function(){return Mp(Zl)},useDebugValue:T0,useDeferredValue:function(t){var e=Fn();return dt===null?e.memoizedState=t:H5(e,dt.memoizedState,t)},useTransition:function(){var t=Mp(Zl)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:A5,useSyncExternalStore:P5,useId:q5,unstable_isNewReconciler:!1};function qn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function _1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gh={isMounted:function(t){return(t=t._reactInternals)?Gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),o=Po(t),s=Or(r,o);s.payload=e,n!=null&&(s.callback=n),e=No(t,s,o),e!==null&&(Yn(e,t,o,r),Zu(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),o=Po(t),s=Or(r,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=No(t,s,o),e!==null&&(Yn(e,t,o,r),Zu(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=Po(t),o=Or(n,r);o.tag=2,e!=null&&(o.callback=e),e=No(t,o,r),e!==null&&(Yn(e,t,r,n),Zu(e,t,r))}};function Hv(t,e,n,r,o,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,i):e.prototype&&e.prototype.isPureReactComponent?!Hl(n,r)||!Hl(o,s):!0}function Y5(t,e,n){var r=!1,o=Fo,s=e.contextType;return typeof s=="object"&&s!==null?s=$n(s):(o=pn(e)?Ns:Wt.current,r=e.contextTypes,s=(r=r!=null)?Qi(t,o):Fo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function qv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gh.enqueueReplaceState(e,e.state,null)}function v1(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},v0(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=$n(s):(s=pn(e)?Ns:Wt.current,o.context=Qi(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(_1(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Gh.enqueueReplaceState(o,o.state,null),jd(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function ea(t,e){try{var n="",r=e;do n+=E8(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function $p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function w1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JE=typeof WeakMap=="function"?WeakMap:Map;function Q5(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$d||($d=!0,A1=r),w1(t,e)},n}function Z5(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){w1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){w1(t,e),typeof r!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function Wv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JE;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=fT.bind(null,t,e,n),e.then(t,t))}function Gv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kv(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,No(n,e,1))),n.lanes|=1),t)}var eT=Jr.ReactCurrentOwner,hn=!1;function Xt(t,e,n,r){e.child=t===null?E5(e,null,n,r):Xi(e,t.child,n,r)}function Yv(t,e,n,r,o){n=n.render;var s=e.ref;return $i(e,o),r=k0(t,e,n,r,s,o),n=S0(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Hr(t,e,o)):(Ue&&n&&h0(e),e.flags|=1,Xt(t,e,r,o),e.child)}function Qv(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!O0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,X5(t,e,s,r,o)):(t=rd(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(i,r)&&t.ref===e.ref)return Hr(t,e,o)}return e.flags|=1,t=Ro(s,r),t.ref=e.ref,t.return=e,e.child=t}function X5(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(Hl(s,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=s,(t.lanes&o)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Hr(t,e,o)}return x1(t,e,n,r,o)}function J5(t,e,n){var r=e.pendingProps,o=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Ti,vn),vn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Ti,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ne(Ti,vn),vn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ne(Ti,vn),vn|=r;return Xt(t,e,o,n),e.child}function e4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function x1(t,e,n,r,o){var s=pn(n)?Ns:Wt.current;return s=Qi(e,s),$i(e,o),n=k0(t,e,n,r,s,o),r=S0(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Hr(t,e,o)):(Ue&&r&&h0(e),e.flags|=1,Xt(t,e,n,o),e.child)}function Zv(t,e,n,r,o){if(pn(n)){var s=!0;Id(e)}else s=!1;if($i(e,o),e.stateNode===null)ed(t,e),Y5(e,n,r),v1(e,n,r,o),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=$n(c):(c=pn(n)?Ns:Wt.current,c=Qi(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&qv(e,i,r,c),co=!1;var f=e.memoizedState;i.state=f,jd(e,r,i,o),l=e.memoizedState,a!==r||f!==l||fn.current||co?(typeof d=="function"&&(_1(e,n,d,r),l=e.memoizedState),(a=co||Hv(e,n,a,r,f,l,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,I5(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:qn(e.type,a),i.props=c,h=e.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=$n(l):(l=pn(n)?Ns:Wt.current,l=Qi(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==l)&&qv(e,i,r,l),co=!1,f=e.memoizedState,i.state=f,jd(e,r,i,o);var _=e.memoizedState;a!==h||f!==_||fn.current||co?(typeof g=="function"&&(_1(e,n,g,r),_=e.memoizedState),(c=co||Hv(e,n,c,r,f,_,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,_,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,_,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),i.props=r,i.state=_,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return C1(t,e,n,r,s,o)}function C1(t,e,n,r,o,s){e4(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return o&&Dv(e,n,!1),Hr(t,e,s);r=e.stateNode,eT.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=Xi(e,t.child,null,s),e.child=Xi(e,null,a,s)):Xt(t,e,a,s),e.memoizedState=r.state,o&&Dv(e,n,!0),e.child}function t4(t){var e=t.stateNode;e.pendingContext?Ov(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ov(t,e.context,!1),w0(t,e.containerInfo)}function Xv(t,e,n,r,o){return Zi(),p0(o),e.flags|=256,Xt(t,e,n,r),e.child}var b1={dehydrated:null,treeContext:null,retryLane:0};function k1(t){return{baseLanes:t,cachePool:null,transitions:null}}function n4(t,e,n){var r=e.pendingProps,o=qe.current,s=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Ne(qe,o&1),t===null)return g1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,s?(r=e.mode,s=e.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Qh(i,r,0,null),t=Cs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=k1(n),e.memoizedState=b1,t):I0(e,i));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return tT(t,e,i,r,a,o,n);if(s){s=r.fallback,i=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ro(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=Ro(a,s):(s=Cs(s,i,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,i=t.child.memoizedState,i=i===null?k1(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~n,e.memoizedState=b1,r}return s=t.child,t=s.sibling,r=Ro(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function I0(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wu(t,e,n,r){return r!==null&&p0(r),Xi(e,t.child,null,n),t=I0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tT(t,e,n,r,o,s,i){if(n)return e.flags&256?(e.flags&=-257,r=$p(Error(F(422))),wu(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,o=e.mode,r=Qh({mode:"visible",children:r.children},o,0,null),s=Cs(s,o,i,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Xi(e,t.child,null,i),e.child.memoizedState=k1(i),e.memoizedState=b1,s);if(!(e.mode&1))return wu(t,e,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(F(419)),r=$p(s,r,void 0),wu(t,e,i,r)}if(a=(i&t.childLanes)!==0,hn||a){if(r=vt,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,zr(t,o),Yn(r,t,o,-1))}return L0(),r=$p(Error(F(421))),wu(t,e,i,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=pT.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,xn=Io(o.nextSibling),kn=e,Ue=!0,Gn=null,t!==null&&(Rn[jn++]=Nr,Rn[jn++]=Ar,Rn[jn++]=As,Nr=t.id,Ar=t.overflow,As=e),e=I0(e,r.children),e.flags|=4096,e)}function Jv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),y1(t.return,e,n)}function Fp(t,e,n,r,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function r4(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;if(Xt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jv(t,n,e);else if(t.tag===19)Jv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(qe,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Ld(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Fp(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Ld(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Fp(e,!0,n,null,s);break;case"together":Fp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ed(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Ro(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ro(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nT(t,e,n){switch(e.tag){case 3:t4(e),Zi();break;case 5:N5(e);break;case 1:pn(e.type)&&Id(e);break;case 4:w0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Ne(Pd,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?n4(t,e,n):(Ne(qe,qe.current&1),t=Hr(t,e,n),t!==null?t.sibling:null);Ne(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return r4(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ne(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,J5(t,e,n)}return Hr(t,e,n)}var o4,S1,s4,i4;o4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};S1=function(){};s4=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,ms(fr.current);var s=null;switch(n){case"input":o=Gm(t,o),r=Gm(t,r),s=[];break;case"select":o=Ke({},o,{value:void 0}),r=Ke({},r,{value:void 0}),s=[];break;case"textarea":o=Qm(t,o),r=Qm(t,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ed)}Xm(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ml.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ml.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};i4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ha(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rT(t,e,n){var r=e.pendingProps;switch(f0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return pn(e.type)&&Td(),Pt(e),null;case 3:return r=e.stateNode,Ji(),Oe(fn),Oe(Wt),C0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_u(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(j1(Gn),Gn=null))),S1(t,e),Pt(e),null;case 5:x0(e);var o=ms(Yl.current);if(n=e.type,t!==null&&e.stateNode!=null)s4(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Pt(e),null}if(t=ms(fr.current),_u(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ar]=e,r[Gl]=s,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(o=0;o<il.length;o++)Re(il[o],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":lv(r,s),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Re("invalid",r);break;case"textarea":uv(r,s),Re("invalid",r)}Xm(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&yu(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&yu(r.textContent,a,t),o=["children",""+a]):Ml.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Re("scroll",r)}switch(n){case"input":cu(r),cv(r,s,!0);break;case"textarea":cu(r),dv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ed)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[ar]=e,t[Gl]=r,o4(t,e,!1,!1),e.stateNode=t;e:{switch(i=Jm(n,r),n){case"dialog":Re("cancel",t),Re("close",t),o=r;break;case"iframe":case"object":case"embed":Re("load",t),o=r;break;case"video":case"audio":for(o=0;o<il.length;o++)Re(il[o],t);o=r;break;case"source":Re("error",t),o=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),o=r;break;case"details":Re("toggle",t),o=r;break;case"input":lv(t,r),o=Gm(t,r),Re("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Ke({},r,{value:void 0}),Re("invalid",t);break;case"textarea":uv(t,r),o=Qm(t,r),Re("invalid",t);break;default:o=r}Xm(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?MC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&OC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$l(t,l):typeof l=="number"&&$l(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ml.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Re("scroll",t):l!=null&&Xg(t,s,l,i))}switch(n){case"input":cu(t),cv(t,r,!1);break;case"textarea":cu(t),dv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$o(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Li(t,!!r.multiple,s,!1):r.defaultValue!=null&&Li(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Ed)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)i4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=ms(Yl.current),ms(fr.current),_u(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(s=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:yu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return Pt(e),null;case 13:if(Oe(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&xn!==null&&e.mode&1&&!(e.flags&128))k5(),Zi(),e.flags|=98560,s=!1;else if(s=_u(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(F(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(F(317));s[ar]=e}else Zi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),s=!1}else Gn!==null&&(j1(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?ft===0&&(ft=3):L0())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Ji(),S1(t,e),t===null&&ql(e.stateNode.containerInfo),Pt(e),null;case 10:return y0(e.type._context),Pt(e),null;case 17:return pn(e.type)&&Td(),Pt(e),null;case 19:if(Oe(qe),s=e.memoizedState,s===null)return Pt(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)Ha(s,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Ld(t),i!==null){for(e.flags|=128,Ha(s,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(qe,qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>ta&&(e.flags|=128,r=!0,Ha(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ld(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ha(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Ue)return Pt(e),null}else 2*ot()-s.renderingStartTime>ta&&n!==1073741824&&(e.flags|=128,r=!0,Ha(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(n=s.last,n!==null?n.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,n=qe.current,Ne(qe,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return j0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function oT(t,e){switch(f0(e),e.tag){case 1:return pn(e.type)&&Td(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ji(),Oe(fn),Oe(Wt),C0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return x0(e),null;case 13:if(Oe(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Zi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Oe(qe),null;case 4:return Ji(),null;case 10:return y0(e.type._context),null;case 22:case 23:return j0(),null;case 24:return null;default:return null}}var xu=!1,Dt=!1,sT=typeof WeakSet=="function"?WeakSet:Set,K=null;function Ei(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function E1(t,e,n){try{n()}catch(r){et(t,e,r)}}var e2=!1;function iT(t,e){if(c1=bd,t=d5(),d0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||o!==0&&h.nodeType!==3||(a=i+o),h!==s||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++c===o&&(a=i),f===s&&++d===r&&(l=i),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(u1={focusedElem:t,selectionRange:n},bd=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,C=_.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:qn(e.type,w),C);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(x){et(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return _=e2,e2=!1,_}function Cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&E1(e,n,s)}o=o.next}while(o!==r)}}function Kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function T1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function a4(t){var e=t.alternate;e!==null&&(t.alternate=null,a4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[Gl],delete e[f1],delete e[VE],delete e[zE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function l4(t){return t.tag===5||t.tag===3||t.tag===4}function t2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function I1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ed));else if(r!==4&&(t=t.child,t!==null))for(I1(t,e,n),t=t.sibling;t!==null;)I1(t,e,n),t=t.sibling}function N1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(N1(t,e,n),t=t.sibling;t!==null;)N1(t,e,n),t=t.sibling}var Ct=null,Wn=!1;function no(t,e,n){for(n=n.child;n!==null;)c4(t,e,n),n=n.sibling}function c4(t,e,n){if(hr&&typeof hr.onCommitFiberUnmount=="function")try{hr.onCommitFiberUnmount(Bh,n)}catch{}switch(n.tag){case 5:Dt||Ei(n,e);case 6:var r=Ct,o=Wn;Ct=null,no(t,e,n),Ct=r,Wn=o,Ct!==null&&(Wn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Wn?(t=Ct,n=n.stateNode,t.nodeType===8?Rp(t.parentNode,n):t.nodeType===1&&Rp(t,n),Vl(t)):Rp(Ct,n.stateNode));break;case 4:r=Ct,o=Wn,Ct=n.stateNode.containerInfo,Wn=!0,no(t,e,n),Ct=r,Wn=o;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&E1(n,e,i),o=o.next}while(o!==r)}no(t,e,n);break;case 1:if(!Dt&&(Ei(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}no(t,e,n);break;case 21:no(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,no(t,e,n),Dt=r):no(t,e,n);break;default:no(t,e,n)}}function n2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sT),e.forEach(function(r){var o=mT.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,Wn=!1;break e;case 3:Ct=a.stateNode.containerInfo,Wn=!0;break e;case 4:Ct=a.stateNode.containerInfo,Wn=!0;break e}a=a.return}if(Ct===null)throw Error(F(160));c4(s,i,o),Ct=null,Wn=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){et(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)u4(e,t),e=e.sibling}function u4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(e,t),tr(t),r&4){try{Cl(3,t,t.return),Kh(3,t)}catch(w){et(t,t.return,w)}try{Cl(5,t,t.return)}catch(w){et(t,t.return,w)}}break;case 1:Vn(e,t),tr(t),r&512&&n!==null&&Ei(n,n.return);break;case 5:if(Vn(e,t),tr(t),r&512&&n!==null&&Ei(n,n.return),t.flags&32){var o=t.stateNode;try{$l(o,"")}catch(w){et(t,t.return,w)}}if(r&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,i=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&RC(o,s),Jm(a,i);var c=Jm(a,s);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?MC(o,h):d==="dangerouslySetInnerHTML"?OC(o,h):d==="children"?$l(o,h):Xg(o,d,h,c)}switch(a){case"input":Km(o,s);break;case"textarea":jC(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Li(o,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Li(o,!!s.multiple,s.defaultValue,!0):Li(o,!!s.multiple,s.multiple?[]:"",!1))}o[Gl]=s}catch(w){et(t,t.return,w)}}break;case 6:if(Vn(e,t),tr(t),r&4){if(t.stateNode===null)throw Error(F(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(w){et(t,t.return,w)}}break;case 3:if(Vn(e,t),tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vl(e.containerInfo)}catch(w){et(t,t.return,w)}break;case 4:Vn(e,t),tr(t);break;case 13:Vn(e,t),tr(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(P0=ot())),r&4&&n2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(c=Dt)||d,Vn(e,t),Dt=c):Vn(e,t),tr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(K=t,d=t.child;d!==null;){for(h=K=d;K!==null;){switch(f=K,g=f.child,f.tag){case 0:case 11:case 14:case 15:Cl(4,f,f.return);break;case 1:Ei(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){et(r,n,w)}}break;case 5:Ei(f,f.return);break;case 22:if(f.memoizedState!==null){o2(h);continue}}g!==null?(g.return=f,K=g):o2(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{o=h.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DC("display",i))}catch(w){et(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){et(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vn(e,t),tr(t),r&4&&n2(t);break;case 21:break;default:Vn(e,t),tr(t)}}function tr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(l4(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&($l(o,""),r.flags&=-33);var s=t2(t);N1(t,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=t2(t);I1(t,a,i);break;default:throw Error(F(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aT(t,e,n){K=t,d4(t)}function d4(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var o=K,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||xu;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Dt;a=xu;var c=Dt;if(xu=i,(Dt=l)&&!c)for(K=o;K!==null;)i=K,l=i.child,i.tag===22&&i.memoizedState!==null?s2(o):l!==null?(l.return=i,K=l):s2(o);for(;s!==null;)K=s,d4(s),s=s.sibling;K=o,xu=a,Dt=c}r2(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,K=s):r2(t)}}function r2(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||Kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Uv(e,s,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Uv(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Dt||e.flags&512&&T1(e)}catch(f){et(e,e.return,f)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function o2(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function s2(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kh(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){et(e,o,l)}}var s=e.return;try{T1(e)}catch(l){et(e,s,l)}break;case 5:var i=e.return;try{T1(e)}catch(l){et(e,i,l)}}}catch(l){et(e,e.return,l)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var lT=Math.ceil,Md=Jr.ReactCurrentDispatcher,N0=Jr.ReactCurrentOwner,Dn=Jr.ReactCurrentBatchConfig,ve=0,vt=null,lt=null,Et=0,vn=0,Ti=Ko(0),ft=0,Jl=null,Rs=0,Yh=0,A0=0,bl=null,cn=null,P0=0,ta=1/0,Sr=null,$d=!1,A1=null,Ao=null,Cu=!1,Co=null,Fd=0,kl=0,P1=null,td=-1,nd=0;function tn(){return ve&6?ot():td!==-1?td:td=ot()}function Po(t){return t.mode&1?ve&2&&Et!==0?Et&-Et:qE.transition!==null?(nd===0&&(nd=YC()),nd):(t=Se,t!==0||(t=window.event,t=t===void 0?16:n5(t.type)),t):1}function Yn(t,e,n,r){if(50<kl)throw kl=0,P1=null,Error(F(185));Sc(t,n,r),(!(ve&2)||t!==vt)&&(t===vt&&(!(ve&2)&&(Yh|=n),ft===4&&mo(t,Et)),mn(t,r),n===1&&ve===0&&!(e.mode&1)&&(ta=ot()+500,qh&&Yo()))}function mn(t,e){var n=t.callbackNode;q8(t,e);var r=Cd(t,t===vt?Et:0);if(r===0)n!==null&&pv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&pv(n),e===1)t.tag===0?HE(i2.bind(null,t)):x5(i2.bind(null,t)),BE(function(){!(ve&6)&&Yo()}),n=null;else{switch(QC(r)){case 1:n=r0;break;case 4:n=GC;break;case 16:n=xd;break;case 536870912:n=KC;break;default:n=xd}n=v4(n,h4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h4(t,e){if(td=-1,nd=0,ve&6)throw Error(F(327));var n=t.callbackNode;if(Fi()&&t.callbackNode!==n)return null;var r=Cd(t,t===vt?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bd(t,r);else{e=r;var o=ve;ve|=2;var s=p4();(vt!==t||Et!==e)&&(Sr=null,ta=ot()+500,xs(t,e));do try{dT();break}catch(a){f4(t,a)}while(!0);g0(),Md.current=s,ve=o,lt!==null?e=0:(vt=null,Et=0,e=ft)}if(e!==0){if(e===2&&(o=o1(t),o!==0&&(r=o,e=R1(t,o))),e===1)throw n=Jl,xs(t,0),mo(t,r),mn(t,ot()),n;if(e===6)mo(t,r);else{if(o=t.current.alternate,!(r&30)&&!cT(o)&&(e=Bd(t,r),e===2&&(s=o1(t),s!==0&&(r=s,e=R1(t,s))),e===1))throw n=Jl,xs(t,0),mo(t,r),mn(t,ot()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:is(t,cn,Sr);break;case 3:if(mo(t,r),(r&130023424)===r&&(e=P0+500-ot(),10<e)){if(Cd(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=h1(is.bind(null,t,cn,Sr),e);break}is(t,cn,Sr);break;case 4:if(mo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var i=31-Kn(r);s=1<<i,i=e[i],i>o&&(o=i),r&=~s}if(r=o,r=ot()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lT(r/1960))-r,10<r){t.timeoutHandle=h1(is.bind(null,t,cn,Sr),r);break}is(t,cn,Sr);break;case 5:is(t,cn,Sr);break;default:throw Error(F(329))}}}return mn(t,ot()),t.callbackNode===n?h4.bind(null,t):null}function R1(t,e){var n=bl;return t.current.memoizedState.isDehydrated&&(xs(t,e).flags|=256),t=Bd(t,e),t!==2&&(e=cn,cn=n,e!==null&&j1(e)),t}function j1(t){cn===null?cn=t:cn.push.apply(cn,t)}function cT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Qn(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mo(t,e){for(e&=~A0,e&=~Yh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Kn(e),r=1<<n;t[n]=-1,e&=~r}}function i2(t){if(ve&6)throw Error(F(327));Fi();var e=Cd(t,0);if(!(e&1))return mn(t,ot()),null;var n=Bd(t,e);if(t.tag!==0&&n===2){var r=o1(t);r!==0&&(e=r,n=R1(t,r))}if(n===1)throw n=Jl,xs(t,0),mo(t,e),mn(t,ot()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,cn,Sr),mn(t,ot()),null}function R0(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(ta=ot()+500,qh&&Yo())}}function js(t){Co!==null&&Co.tag===0&&!(ve&6)&&Fi();var e=ve;ve|=1;var n=Dn.transition,r=Se;try{if(Dn.transition=null,Se=1,t)return t()}finally{Se=r,Dn.transition=n,ve=e,!(ve&6)&&Yo()}}function j0(){vn=Ti.current,Oe(Ti)}function xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FE(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(f0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Td();break;case 3:Ji(),Oe(fn),Oe(Wt),C0();break;case 5:x0(r);break;case 4:Ji();break;case 13:Oe(qe);break;case 19:Oe(qe);break;case 10:y0(r.type._context);break;case 22:case 23:j0()}n=n.return}if(vt=t,lt=t=Ro(t.current,null),Et=vn=e,ft=0,Jl=null,A0=Yh=Rs=0,cn=bl=null,ps!==null){for(e=0;e<ps.length;e++)if(n=ps[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}ps=null}return t}function f4(t,e){do{var n=lt;try{if(g0(),Xu.current=Dd,Od){for(var r=Ge.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Od=!1}if(Ps=0,_t=dt=Ge=null,xl=!1,Ql=0,N0.current=null,n===null||n.return===null){ft=1,Jl=e,lt=null;break}e:{var s=t,i=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Gv(i);if(g!==null){g.flags&=-257,Kv(g,i,a,s,e),g.mode&1&&Wv(s,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var w=new Set;w.add(l),e.updateQueue=w}else _.add(l);break e}else{if(!(e&1)){Wv(s,c,e),L0();break e}l=Error(F(426))}}else if(Ue&&a.mode&1){var C=Gv(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Kv(C,i,a,s,e),p0(ea(l,a));break e}}s=l=ea(l,a),ft!==4&&(ft=2),bl===null?bl=[s]:bl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Q5(s,l,e);Bv(s,v);break e;case 1:a=l;var y=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ao===null||!Ao.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Z5(s,a,e);Bv(s,x);break e}}s=s.return}while(s!==null)}g4(n)}catch(k){e=k,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function p4(){var t=Md.current;return Md.current=Dd,t===null?Dd:t}function L0(){(ft===0||ft===3||ft===2)&&(ft=4),vt===null||!(Rs&268435455)&&!(Yh&268435455)||mo(vt,Et)}function Bd(t,e){var n=ve;ve|=2;var r=p4();(vt!==t||Et!==e)&&(Sr=null,xs(t,e));do try{uT();break}catch(o){f4(t,o)}while(!0);if(g0(),ve=n,Md.current=r,lt!==null)throw Error(F(261));return vt=null,Et=0,ft}function uT(){for(;lt!==null;)m4(lt)}function dT(){for(;lt!==null&&!D8();)m4(lt)}function m4(t){var e=_4(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?g4(t):lt=e,N0.current=null}function g4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oT(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,lt=null;return}}else if(n=rT(n,e,vn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);ft===0&&(ft=5)}function is(t,e,n){var r=Se,o=Dn.transition;try{Dn.transition=null,Se=1,hT(t,e,n,r)}finally{Dn.transition=o,Se=r}return null}function hT(t,e,n,r){do Fi();while(Co!==null);if(ve&6)throw Error(F(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(W8(t,s),t===vt&&(lt=vt=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cu||(Cu=!0,v4(xd,function(){return Fi(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Dn.transition,Dn.transition=null;var i=Se;Se=1;var a=ve;ve|=4,N0.current=null,iT(t,n),u4(n,t),RE(u1),bd=!!c1,u1=c1=null,t.current=n,aT(n),M8(),ve=a,Se=i,Dn.transition=s}else t.current=n;if(Cu&&(Cu=!1,Co=t,Fd=o),s=t.pendingLanes,s===0&&(Ao=null),B8(n.stateNode),mn(t,ot()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if($d)throw $d=!1,t=A1,A1=null,t;return Fd&1&&t.tag!==0&&Fi(),s=t.pendingLanes,s&1?t===P1?kl++:(kl=0,P1=t):kl=0,Yo(),null}function Fi(){if(Co!==null){var t=QC(Fd),e=Dn.transition,n=Se;try{if(Dn.transition=null,Se=16>t?16:t,Co===null)var r=!1;else{if(t=Co,Co=null,Fd=0,ve&6)throw Error(F(331));var o=ve;for(ve|=4,K=t.current;K!==null;){var s=K,i=s.child;if(K.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Cl(8,d,s)}var h=d.child;if(h!==null)h.return=d,K=h;else for(;K!==null;){d=K;var f=d.sibling,g=d.return;if(a4(d),d===c){K=null;break}if(f!==null){f.return=g,K=f;break}K=g}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}K=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,K=i;else e:for(;K!==null;){if(s=K,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,K=v;break e}K=s.return}}var y=t.current;for(K=y;K!==null;){i=K;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,K=m;else e:for(i=y;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kh(9,a)}}catch(k){et(a,a.return,k)}if(a===i){K=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,K=x;break e}K=a.return}}if(ve=o,Yo(),hr&&typeof hr.onPostCommitFiberRoot=="function")try{hr.onPostCommitFiberRoot(Bh,t)}catch{}r=!0}return r}finally{Se=n,Dn.transition=e}}return!1}function a2(t,e,n){e=ea(n,e),e=Q5(t,e,1),t=No(t,e,1),e=tn(),t!==null&&(Sc(t,1,e),mn(t,e))}function et(t,e,n){if(t.tag===3)a2(t,t,n);else for(;e!==null;){if(e.tag===3){a2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ao===null||!Ao.has(r))){t=ea(n,t),t=Z5(e,t,1),e=No(e,t,1),t=tn(),e!==null&&(Sc(e,1,t),mn(e,t));break}}e=e.return}}function fT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(Et&n)===n&&(ft===4||ft===3&&(Et&130023424)===Et&&500>ot()-P0?xs(t,0):A0|=n),mn(t,e)}function y4(t,e){e===0&&(t.mode&1?(e=hu,hu<<=1,!(hu&130023424)&&(hu=4194304)):e=1);var n=tn();t=zr(t,e),t!==null&&(Sc(t,e,n),mn(t,n))}function pT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),y4(t,n)}function mT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),y4(t,n)}var _4;_4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,nT(t,e,n);hn=!!(t.flags&131072)}else hn=!1,Ue&&e.flags&1048576&&C5(e,Ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ed(t,e),t=e.pendingProps;var o=Qi(e,Wt.current);$i(e,n),o=k0(null,e,r,t,o,n);var s=S0();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(s=!0,Id(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,v0(e),o.updater=Gh,e.stateNode=o,o._reactInternals=e,v1(e,r,t,n),e=C1(null,e,r,!0,s,n)):(e.tag=0,Ue&&s&&h0(e),Xt(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ed(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=yT(r),t=qn(r,t),o){case 0:e=x1(null,e,r,t,n);break e;case 1:e=Zv(null,e,r,t,n);break e;case 11:e=Yv(null,e,r,t,n);break e;case 14:e=Qv(null,e,r,qn(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:qn(r,o),x1(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:qn(r,o),Zv(t,e,r,o,n);case 3:e:{if(t4(e),t===null)throw Error(F(387));r=e.pendingProps,s=e.memoizedState,o=s.element,I5(t,e),jd(e,r,null,n);var i=e.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=ea(Error(F(423)),e),e=Xv(t,e,r,n,o);break e}else if(r!==o){o=ea(Error(F(424)),e),e=Xv(t,e,r,n,o);break e}else for(xn=Io(e.stateNode.containerInfo.firstChild),kn=e,Ue=!0,Gn=null,n=E5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zi(),r===o){e=Hr(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return N5(e),t===null&&g1(e),r=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,i=o.children,d1(r,o)?i=null:s!==null&&d1(r,s)&&(e.flags|=32),e4(t,e),Xt(t,e,i,n),e.child;case 6:return t===null&&g1(e),null;case 13:return n4(t,e,n);case 4:return w0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xi(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:qn(r,o),Yv(t,e,r,o,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,i=o.value,Ne(Pd,r._currentValue),r._currentValue=i,s!==null)if(Qn(s.value,i)){if(s.children===o.children&&!fn.current){e=Hr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Or(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),y1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(F(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),y1(i,n,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Xt(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,$i(e,n),o=$n(o),r=r(o),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,o=qn(r,e.pendingProps),o=qn(r.type,o),Qv(t,e,r,o,n);case 15:return X5(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:qn(r,o),ed(t,e),e.tag=1,pn(r)?(t=!0,Id(e)):t=!1,$i(e,n),Y5(e,r,o),v1(e,r,o,n),C1(null,e,r,!0,t,n);case 19:return r4(t,e,n);case 22:return J5(t,e,n)}throw Error(F(156,e.tag))};function v4(t,e){return WC(t,e)}function gT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new gT(t,e,n,r)}function O0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yT(t){if(typeof t=="function")return O0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===e0)return 11;if(t===t0)return 14}return 2}function Ro(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rd(t,e,n,r,o,s){var i=2;if(r=t,typeof t=="function")O0(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case yi:return Cs(n.children,o,s,e);case Jg:i=8,o|=8;break;case zm:return t=On(12,n,e,o|2),t.elementType=zm,t.lanes=s,t;case Hm:return t=On(13,n,e,o),t.elementType=Hm,t.lanes=s,t;case qm:return t=On(19,n,e,o),t.elementType=qm,t.lanes=s,t;case NC:return Qh(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TC:i=10;break e;case IC:i=9;break e;case e0:i=11;break e;case t0:i=14;break e;case lo:i=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=On(i,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function Cs(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function Qh(t,e,n,r){return t=On(22,t,r,e),t.elementType=NC,t.lanes=n,t.stateNode={isHidden:!1},t}function Bp(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function Up(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _T(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function D0(t,e,n,r,o,s,i,a,l){return t=new _T(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},v0(s),t}function vT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function w4(t){if(!t)return Fo;t=t._reactInternals;e:{if(Gs(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(pn(n))return w5(t,n,e)}return e}function x4(t,e,n,r,o,s,i,a,l){return t=D0(n,r,!0,t,o,s,i,a,l),t.context=w4(null),n=t.current,r=tn(),o=Po(n),s=Or(r,o),s.callback=e??null,No(n,s,o),t.current.lanes=o,Sc(t,o,r),mn(t,r),t}function Zh(t,e,n,r){var o=e.current,s=tn(),i=Po(o);return n=w4(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(s,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=No(o,e,i),t!==null&&(Yn(t,o,i,s),Zu(t,o,i)),i}function Ud(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function M0(t,e){l2(t,e),(t=t.alternate)&&l2(t,e)}function wT(){return null}var C4=typeof reportError=="function"?reportError:function(t){console.error(t)};function $0(t){this._internalRoot=t}Xh.prototype.render=$0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Zh(t,e,null,null)};Xh.prototype.unmount=$0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;js(function(){Zh(null,t,null,null)}),e[Vr]=null}};function Xh(t){this._internalRoot=t}Xh.prototype.unstable_scheduleHydration=function(t){if(t){var e=JC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<po.length&&e!==0&&e<po[n].priority;n++);po.splice(n,0,t),n===0&&t5(t)}};function F0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c2(){}function xT(t,e,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=Ud(i);s.call(c)}}var i=x4(e,r,t,0,null,!1,!1,"",c2);return t._reactRootContainer=i,t[Vr]=i.current,ql(t.nodeType===8?t.parentNode:t),js(),i}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Ud(l);a.call(c)}}var l=D0(t,0,!1,null,null,!1,!1,"",c2);return t._reactRootContainer=l,t[Vr]=l.current,ql(t.nodeType===8?t.parentNode:t),js(function(){Zh(e,l,n,r)}),l}function ef(t,e,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=Ud(i);a.call(l)}}Zh(e,i,t,o)}else i=xT(n,e,t,o,r);return Ud(i)}ZC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sl(e.pendingLanes);n!==0&&(o0(e,n|1),mn(e,ot()),!(ve&6)&&(ta=ot()+500,Yo()))}break;case 13:js(function(){var r=zr(t,1);if(r!==null){var o=tn();Yn(r,t,1,o)}}),M0(t,1)}};s0=function(t){if(t.tag===13){var e=zr(t,134217728);if(e!==null){var n=tn();Yn(e,t,134217728,n)}M0(t,134217728)}};XC=function(t){if(t.tag===13){var e=Po(t),n=zr(t,e);if(n!==null){var r=tn();Yn(n,t,e,r)}M0(t,e)}};JC=function(){return Se};e5=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};t1=function(t,e,n){switch(e){case"input":if(Km(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Hh(r);if(!o)throw Error(F(90));PC(r),Km(r,o)}}}break;case"textarea":jC(t,n);break;case"select":e=n.value,e!=null&&Li(t,!!n.multiple,e,!1)}};BC=R0;UC=js;var CT={usingClientEntryPoint:!1,Events:[Tc,xi,Hh,$C,FC,R0]},qa={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bT={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HC(t),t===null?null:t.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||wT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Bh=bu.inject(bT),hr=bu}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CT;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F0(e))throw Error(F(200));return vT(t,e,null,n)};In.createRoot=function(t,e){if(!F0(t))throw Error(F(299));var n=!1,r="",o=C4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=D0(t,1,!1,null,null,n,!1,r,o),t[Vr]=e.current,ql(t.nodeType===8?t.parentNode:t),new $0(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=HC(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return js(t)};In.hydrate=function(t,e,n){if(!Jh(e))throw Error(F(200));return ef(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!F0(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=C4;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=x4(e,null,t,1,n??null,o,!1,s,i),t[Vr]=e.current,ql(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Xh(e)};In.render=function(t,e,n){if(!Jh(e))throw Error(F(200));return ef(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!Jh(t))throw Error(F(40));return t._reactRootContainer?(js(function(){ef(null,null,t,!1,function(){t._reactRootContainer=null,t[Vr]=null})}),!0):!1};In.unstable_batchedUpdates=R0;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jh(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return ef(t,e,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function b4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b4)}catch(t){console.error(t)}}b4(),bC.exports=In;var kT=bC.exports;const ST=$h(kT);/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ec.apply(this,arguments)}var bo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bo||(bo={}));const u2="popstate";function ET(t){t===void 0&&(t={});function e(o,s){let{pathname:i="/",search:a="",hash:l=""}=Ks(o.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),L1("",{pathname:i,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(o,s){let i=o.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=o.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:k4(s))}function r(o,s){B0(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return IT(e,n,r,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function B0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TT(){return Math.random().toString(36).substr(2,8)}function d2(t,e){return{usr:t.state,key:t.key,idx:e}}function L1(t,e,n,r){return n===void 0&&(n=null),ec({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ks(e):e,{state:n,key:e&&e.key||r||TT()})}function k4(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function IT(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,i=o.history,a=bo.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(ec({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=bo.Pop;let C=d(),v=C==null?null:C-c;c=C,l&&l({action:a,location:w.location,delta:v})}function f(C,v){a=bo.Push;let y=L1(w.location,C,v);n&&n(y,C),c=d()+1;let m=d2(y,c),x=w.createHref(y);try{i.pushState(m,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;o.location.assign(x)}s&&l&&l({action:a,location:w.location,delta:1})}function g(C,v){a=bo.Replace;let y=L1(w.location,C,v);n&&n(y,C),c=d();let m=d2(y,c),x=w.createHref(y);i.replaceState(m,"",x),s&&l&&l({action:a,location:w.location,delta:0})}function _(C){let v=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof C=="string"?C:k4(C);return y=y.replace(/ $/,"%20"),pt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let w={get action(){return a},get location(){return t(o,i)},listen(C){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(u2,h),l=C,()=>{o.removeEventListener(u2,h),l=null}},createHref(C){return e(o,C)},createURL:_,encodeLocation(C){let v=_(C);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:g,go(C){return i.go(C)}};return w}var h2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h2||(h2={}));function NT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ks(e):e,o=T4(r.pathname||"/",n);if(o==null)return null;let s=S4(t);AT(s);let i=null;for(let a=0;i==null&&a<s.length;++a){let l=VT(o);i=FT(s[a],l)}return i}function S4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,i,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=bs([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(pt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),S4(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:MT(c,s.index),routesMeta:d})};return t.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))o(s,i);else for(let l of E4(s.path))o(s,i,l)}),e}function E4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let i=E4(r.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),o&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function AT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:$T(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PT=/^:[\w-]+$/,RT=3,jT=2,LT=1,OT=10,DT=-2,f2=t=>t==="*";function MT(t,e){let n=t.split("/"),r=n.length;return n.some(f2)&&(r+=DT),e&&(r+=jT),n.filter(o=>!f2(o)).reduce((o,s)=>o+(PT.test(s)?RT:s===""?LT:OT),r)}function $T(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function FT(t,e){let{routesMeta:n}=t,r={},o="/",s=[];for(let i=0;i<n.length;++i){let a=n[i],l=i===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=BT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:bs([o,d.pathname]),pathnameBase:KT(bs([o,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(o=bs([o,d.pathnameBase]))}return s}function BT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=UT(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let s=o[0],i=s.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let w=a[h]||"";i=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const _=a[h];return g&&!_?c[f]=void 0:c[f]=(_||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:i,pattern:t}}function UT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),B0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function VT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return B0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function T4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Ks(t):t;return{pathname:n?n.startsWith("/")?n:HT(n,e):e,search:YT(r),hash:QT(o)}}function HT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function WT(t,e){let n=qT(t);return e?n.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function GT(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Ks(t):(o=ec({},t),pt(!o.pathname||!o.pathname.includes("?"),Vp("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),Vp("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),Vp("#","search","hash",o)));let s=t===""||o.pathname==="",i=s?"/":o.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;o.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=zT(o,a),c=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const bs=t=>t.join("/").replace(/\/\/+/g,"/"),KT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),YT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,QT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const I4=["post","put","patch","delete"];new Set(I4);const XT=["get",...I4];new Set(XT);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tc(){return tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tc.apply(this,arguments)}const U0=p.createContext(null),JT=p.createContext(null),tf=p.createContext(null),nf=p.createContext(null),Ys=p.createContext({outlet:null,matches:[],isDataRoute:!1}),N4=p.createContext(null);function rf(){return p.useContext(nf)!=null}function V0(){return rf()||pt(!1),p.useContext(nf).location}function A4(t){p.useContext(tf).static||p.useLayoutEffect(t)}function ye(){let{isDataRoute:t}=p.useContext(Ys);return t?hI():eI()}function eI(){rf()||pt(!1);let t=p.useContext(U0),{basename:e,future:n,navigator:r}=p.useContext(tf),{matches:o}=p.useContext(Ys),{pathname:s}=V0(),i=JSON.stringify(WT(o,n.v7_relativeSplatPath)),a=p.useRef(!1);return A4(()=>{a.current=!0}),p.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=GT(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:bs([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,i,s,t])}function eo(){let{matches:t}=p.useContext(Ys),e=t[t.length-1];return e?e.params:{}}function tI(t,e){return nI(t,e)}function nI(t,e,n,r){rf()||pt(!1);let{navigator:o}=p.useContext(tf),{matches:s}=p.useContext(Ys),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=V0(),d;if(e){var h;let C=typeof e=="string"?Ks(e):e;l==="/"||(h=C.pathname)!=null&&h.startsWith(l)||pt(!1),d=C}else d=c;let f=d.pathname||"/",g=f;if(l!=="/"){let C=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(C.length).join("/")}let _=NT(t,{pathname:g}),w=aI(_&&_.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:bs([l,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:bs([l,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&w?p.createElement(nf.Provider,{value:{location:tc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:bo.Pop}},w):w}function rI(){let t=dI(),e=ZT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:o},n):null,null)}const oI=p.createElement(rI,null);class sI extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Ys.Provider,{value:this.props.routeContext},p.createElement(N4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iI(t){let{routeContext:e,match:n,children:r}=t,o=p.useContext(U0);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Ys.Provider,{value:e},r)}function aI(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,a=(o=n)==null?void 0:o.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||pt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:g}=n,_=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||_){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,f)=>{let g,_=!1,w=null,C=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||oI,l&&(c<0&&f===0?(_=!0,C=null):c===f&&(_=!0,C=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,f+1)),y=()=>{let m;return g?m=w:_?m=C:h.route.Component?m=p.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,p.createElement(iI,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:m})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(sI,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var P4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(P4||{}),Vd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vd||{});function lI(t){let e=p.useContext(U0);return e||pt(!1),e}function cI(t){let e=p.useContext(JT);return e||pt(!1),e}function uI(t){let e=p.useContext(Ys);return e||pt(!1),e}function R4(t){let e=uI(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function dI(){var t;let e=p.useContext(N4),n=cI(Vd.UseRouteError),r=R4(Vd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hI(){let{router:t}=lI(P4.UseNavigateStable),e=R4(Vd.UseNavigateStable),n=p.useRef(!1);return A4(()=>{n.current=!0}),p.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,tc({fromRouteId:e},s)))},[t,e])}function O1(t){pt(!1)}function fI(t){let{basename:e="/",children:n=null,location:r,navigationType:o=bo.Pop,navigator:s,static:i=!1,future:a}=t;rf()&&pt(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:s,static:i,future:tc({v7_relativeSplatPath:!1},a)}),[l,a,s,i]);typeof r=="string"&&(r=Ks(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:_="default"}=r,w=p.useMemo(()=>{let C=T4(d,l);return C==null?null:{location:{pathname:C,search:h,hash:f,state:g,key:_},navigationType:o}},[l,d,h,f,g,_,o]);return w==null?null:p.createElement(tf.Provider,{value:c},p.createElement(nf.Provider,{children:n,value:w}))}function pI(t){let{children:e,location:n}=t;return tI(D1(e),n)}new Promise(()=>{});function D1(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,o)=>{if(!p.isValidElement(r))return;let s=[...e,o];if(r.type===p.Fragment){n.push.apply(n,D1(r.props.children,s));return}r.type!==O1&&pt(!1),!r.props.index||!r.props.children||pt(!1);let i={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=D1(r.props.children,s)),n.push(i)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M1(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function mI(t,e){let n=M1(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(s=>{n.append(o,s)})}),n}const gI="6";try{window.__reactRouterVersion=gI}catch{}const yI="startTransition",p2=f8[yI];function _I(t){let{basename:e,children:n,future:r,window:o}=t,s=p.useRef();s.current==null&&(s.current=ET({window:o,v5Compat:!0}));let i=s.current,[a,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=p.useCallback(h=>{c&&p2?p2(()=>l(h)):l(h)},[l,c]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.createElement(fI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var m2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(m2||(m2={}));var g2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(g2||(g2={}));function vI(t){let e=p.useRef(M1(t)),n=p.useRef(!1),r=V0(),o=p.useMemo(()=>mI(r.search,n.current?null:e.current),[r.search]),s=ye(),i=p.useCallback((a,l)=>{const c=M1(typeof a=="function"?a(o):a);n.current=!0,s("?"+c,l)},[s,o]);return[o,i]}const wI="_container_1a1ax_1",xI="_icon_1a1ax_9",CI="_scaleIcon_1a1ax_1",bI={container:wI,icon:xI,scaleIcon:CI},kI="_container_1k8xw_1",SI="_loader_1k8xw_12",EI="_scaleIcon_1k8xw_1",y2={container:kI,loader:SI,scaleIcon:EI},_2={default:{name:"default",icon_color:"#0040F9",first_color:"#0040F9",second_color:"#C3F82B",third_color:"#FF4365",gradient_first_color:"#0040F9",gradient_second_color:"#C3F82B",light_color:"#C3F82B",block_first_color:"#0040F9",block_second_color:"#C3F82B",block_third_color:"#FF4365",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#0A0B10",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},genery:{name:"genery",icon_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",gradient_first_color:"#2400FF",gradient_second_color:"#00C2FF",light_color:"#C3F82B",block_first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",block_second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",block_third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#0A0B10",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},kyrgyzstan:{name:"kyrgyzstan",icon_color:"#E3010F",first_color:"#FEF400",second_color:"#E3010F",third_color:"#FEF400",gradient_first_color:"#FEF400",gradient_second_color:"#E3010F",light_color:"#C3F82B",block_first_color:"#E3010F",block_second_color:"#FEF400",block_third_color:"#FEF400",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#DEDDDD",loader_second_color:"#A6A6A6",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#A6A6A6",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},winter_2024:{name:"winter_2024",icon_color:"#85B6FF",first_color:"#85AFED",second_color:"#A7C0E5",third_color:"#A7C0E5",gradient_first_color:"#85AFED",gradient_second_color:"#CBE0FF",light_color:"green",block_first_color:"#85AFED",block_second_color:"#A7C0E5",block_third_color:"#CBE0FF",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#85AFED",loader_second_color:"#CBE0FF",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#A6A6A6",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"}},$=p.createContext();function TI({children:t}){const e=localStorage.getItem("theme")||"default",[n,r]=p.useState(e);p.useEffect(()=>{localStorage.setItem("theme",n)},[n]);const o=a=>{_2[a]&&r(a)},[s,i]=p.useState({iconColor:"#000000",titleColor:"#000000",arrowColor:"#000000",backgroundColor:"#FFFFFF",activeButton:1});return u.jsx($.Provider,{value:{theme:_2[n],setThemeById:o,elementColors:s,setElementColors:i},children:t})}function j4({color:t}){const{theme:e,elementColors:n,setElementColors:r}=p.useContext($);return p.useEffect(()=>{r({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowColor:e.text_first_color,arrowLink:"#/menu",isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!1,isFooter:!1,footerBackground:e.background_color,activeElementIndex:2}),document.body.style.background=e.background_color},[e]),u.jsx("div",{className:y2.container,children:u.jsx("div",{className:y2.loader,children:u.jsx("svg",{width:"50",height:"73",viewBox:"0 0 50 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M39.7767 0.312248C40.2216 0.571102 40.5658 0.973727 40.7532 1.45435C40.9407 1.93497 40.9601 2.46517 40.8085 2.95835L32.6225 29.6566H47.7265C48.1703 29.6564 48.6045 29.7867 48.9755 30.0314C49.3464 30.2761 49.6379 30.6244 49.8138 31.0334C49.9898 31.4425 50.0425 31.8942 49.9656 32.333C49.8887 32.7718 49.6854 33.1784 49.3809 33.5025L13.0186 72.2816C12.6668 72.6571 12.1986 72.902 11.6904 72.9762C11.1821 73.0505 10.6638 72.9497 10.2199 72.6905C9.77606 72.4312 9.43275 72.0286 9.24599 71.5484C9.05922 71.0682 9.04001 70.5387 9.19148 70.0461L17.3776 43.3433H2.27355C1.82968 43.3435 1.39547 43.2132 1.02453 42.9685C0.653591 42.7238 0.362153 42.3755 0.186196 41.9665C0.0102386 41.5574 -0.0425346 41.1056 0.0343904 40.6668C0.111315 40.2281 0.31457 39.8215 0.619066 39.4973L36.9814 0.718287C37.3328 0.343267 37.8003 0.0985916 38.3078 0.0240443C38.8153 -0.0505029 39.333 0.0494621 39.7767 0.307685V0.312248Z",fill:t})})})})}var v2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},II=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=t[n++];e[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){const s=t[n++],i=t[n++],a=t[n++],l=((o&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],i=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|i&63)}}return e.join("")},O4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const s=t[o],i=o+1<t.length,a=i?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,i||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):II(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const s=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const h=o<t.length?n[t.charAt(o)]:64;if(++o,s==null||a==null||c==null||h==null)throw new NI;const f=s<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const _=c<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AI=function(t){const e=L4(t);return O4.encodeByteArray(e,!0)},zd=function(t){return AI(t).replace(/\./g,"")},D4=function(t){try{return O4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=()=>PI().__FIREBASE_DEFAULTS__,jI=()=>{if(typeof process>"u"||typeof v2>"u")return;const t=v2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},LI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D4(t[1]);return e&&JSON.parse(e)},of=()=>{try{return RI()||jI()||LI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},M4=t=>{var e,n;return(n=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$4=t=>{const e=M4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},F4=()=>{var t;return(t=of())===null||t===void 0?void 0:t.config},B4=t=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zd(JSON.stringify(n)),zd(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function MI(){var t;const e=(t=of())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $I(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BI(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UI(){try{return typeof indexedDB=="object"}catch{return!1}}function VI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var s;e(((s=o.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="FirebaseError";class br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zI,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nc.prototype.create)}}class Nc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,s=this.errors[e],i=s?HI(s,r):"Error",a=`${this.serviceName}: ${i} (${o}).`;return new br(o,a,r)}}function HI(t,e){return t.replace(qI,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const qI=/\{\$([^}]+)}/g;function WI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const s=t[o],i=e[o];if(w2(s)&&w2(i)){if(!Hd(s,i))return!1}else if(s!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function w2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function al(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,s]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(s)}}),e}function ll(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GI(t,e){const n=new KI(t,e);return n.subscribe.bind(n)}class KI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=zp),o.error===void 0&&(o.error=zp),o.complete===void 0&&(o.complete=zp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t){return t&&t._delegate?t._delegate:t}class Bo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XI(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&i.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(o,s);const i=this.instances.get(o);return i&&e(i,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ZI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZI(t){return t===as?void 0:t}function XI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const eN={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},tN=we.INFO,nN={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},rN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=nN[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z0{constructor(e){this.name=e,this._logLevel=tN,this._logHandler=rN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const oN=(t,e)=>e.some(n=>t instanceof n);let x2,C2;function sN(){return x2||(x2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iN(){return C2||(C2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V4=new WeakMap,$1=new WeakMap,z4=new WeakMap,Hp=new WeakMap,H0=new WeakMap;function aN(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{n(jo(t.result)),o()},i=()=>{r(t.error),o()};t.addEventListener("success",s),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&V4.set(n,t)}).catch(()=>{}),H0.set(e,t),e}function lN(t){if($1.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{n(),o()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});$1.set(t,e)}let F1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||z4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cN(t){F1=t(F1)}function uN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(qp(this),e,...n);return z4.set(r,e.sort?e.sort():[e]),jo(r)}:iN().includes(t)?function(...e){return t.apply(qp(this),e),jo(V4.get(this))}:function(...e){return jo(t.apply(qp(this),e))}}function dN(t){return typeof t=="function"?uN(t):(t instanceof IDBTransaction&&lN(t),oN(t,sN())?new Proxy(t,F1):t)}function jo(t){if(t instanceof IDBRequest)return aN(t);if(Hp.has(t))return Hp.get(t);const e=dN(t);return e!==t&&(Hp.set(t,e),H0.set(e,t)),e}const qp=t=>H0.get(t);function hN(t,e,{blocked:n,upgrade:r,blocking:o,terminated:s}={}){const i=indexedDB.open(t,e),a=jo(i);return r&&i.addEventListener("upgradeneeded",l=>{r(jo(i.result),l.oldVersion,l.newVersion,jo(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const fN=["get","getKey","getAll","getAllKeys","count"],pN=["put","add","delete","clear"],Wp=new Map;function b2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=pN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||fN.includes(n)))return;const s=async function(i,...a){const l=this.transaction(i,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return Wp.set(e,s),s}cN(t=>({...t,get:(e,n,r)=>b2(e,n)||t.get(e,n,r),has:(e,n)=>!!b2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const B1="@firebase/app",k2="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new z0("@firebase/app"),yN="@firebase/app-compat",_N="@firebase/analytics-compat",vN="@firebase/analytics",wN="@firebase/app-check-compat",xN="@firebase/app-check",CN="@firebase/auth",bN="@firebase/auth-compat",kN="@firebase/database",SN="@firebase/database-compat",EN="@firebase/functions",TN="@firebase/functions-compat",IN="@firebase/installations",NN="@firebase/installations-compat",AN="@firebase/messaging",PN="@firebase/messaging-compat",RN="@firebase/performance",jN="@firebase/performance-compat",LN="@firebase/remote-config",ON="@firebase/remote-config-compat",DN="@firebase/storage",MN="@firebase/storage-compat",$N="@firebase/firestore",FN="@firebase/firestore-compat",BN="firebase",UN="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="[DEFAULT]",VN={[B1]:"fire-core",[yN]:"fire-core-compat",[vN]:"fire-analytics",[_N]:"fire-analytics-compat",[xN]:"fire-app-check",[wN]:"fire-app-check-compat",[CN]:"fire-auth",[bN]:"fire-auth-compat",[kN]:"fire-rtdb",[SN]:"fire-rtdb-compat",[EN]:"fire-fn",[TN]:"fire-fn-compat",[IN]:"fire-iid",[NN]:"fire-iid-compat",[AN]:"fire-fcm",[PN]:"fire-fcm-compat",[RN]:"fire-perf",[jN]:"fire-perf-compat",[LN]:"fire-rc",[ON]:"fire-rc-compat",[DN]:"fire-gcs",[MN]:"fire-gcs-compat",[$N]:"fire-fst",[FN]:"fire-fst-compat","fire-js":"fire-js",[BN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=new Map,V1=new Map;function zN(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Os(t){const e=t.name;if(V1.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;V1.set(e,t);for(const n of qd.values())zN(n,t);return!0}function sf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Lo=new Nc("app","Firebase",HN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=UN;function H4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:U1,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Lo.create("bad-app-name",{appName:String(o)});if(n||(n=F4()),!n)throw Lo.create("no-options");const s=qd.get(o);if(s){if(Hd(n,s.options)&&Hd(r,s.config))return s;throw Lo.create("duplicate-app",{appName:o})}const i=new JI(o);for(const l of V1.values())i.addComponent(l);const a=new qN(n,r,i);return qd.set(o,a),a}function q0(t=U1){const e=qd.get(t);if(!e&&t===U1&&F4())return H4();if(!e)throw Lo.create("no-app",{appName:t});return e}function pr(t,e,n){var r;let o=(r=VN[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const s=o.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${o}" with version "${e}":`];s&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(a.join(" "));return}Os(new Bo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="firebase-heartbeat-database",GN=1,nc="firebase-heartbeat-store";let Gp=null;function q4(){return Gp||(Gp=hN(WN,GN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(nc)}}}).catch(t=>{throw Lo.create("idb-open",{originalErrorMessage:t.message})})),Gp}async function KN(t){try{return await(await q4()).transaction(nc).objectStore(nc).get(W4(t))}catch(e){if(e instanceof br)Ls.warn(e.message);else{const n=Lo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}}async function S2(t,e){try{const r=(await q4()).transaction(nc,"readwrite");await r.objectStore(nc).put(e,W4(t)),await r.done}catch(n){if(n instanceof br)Ls.warn(n.message);else{const r=Lo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(r.message)}}}function W4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=1024,QN=30*24*60*60*1e3;class ZN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=E2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=QN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E2(),{heartbeatsToSend:n,unsentEntries:r}=XN(this._heartbeatsCache.heartbeats),o=zd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function E2(){return new Date().toISOString().substring(0,10)}function XN(t,e=YN){const n=[];let r=t.slice();for(const o of t){const s=n.find(i=>i.agent===o.agent);if(s){if(s.dates.push(o.date),T2(n)>e){s.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),T2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UI()?VI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await KN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return S2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return S2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function T2(t){return zd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t){Os(new Bo("platform-logger",e=>new mN(e),"PRIVATE")),Os(new Bo("heartbeat",e=>new ZN(e),"PRIVATE")),pr(B1,k2,t),pr(B1,k2,"esm2017"),pr("fire-js","")}eA("");function W0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function G4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tA=G4,K4=new Nc("auth","Firebase",G4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new z0("@firebase/auth");function nA(t,...e){Wd.logLevel<=we.WARN&&Wd.warn(`Auth (${Qs}): ${t}`,...e)}function od(t,...e){Wd.logLevel<=we.ERROR&&Wd.error(`Auth (${Qs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,...e){throw G0(t,...e)}function mr(t,...e){return G0(t,...e)}function rA(t,e,n){const r=Object.assign(Object.assign({},tA()),{[e]:n});return new Nc("auth","Firebase",r).create(e,{appName:t.name})}function G0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return K4.create(t,...e)}function re(t,e,...n){if(!t)throw G0(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw od(e),new Error(e)}function qr(t,e){t||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oA(){return I2()==="http:"||I2()==="https:"}function I2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oA()||$I()||"connection"in navigator)?navigator.onLine:!0}function iA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=DI()||FI()}get(){return sA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=new Pc(3e4,6e4);function ka(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Sa(t,e,n,r,o={}){return Q4(t,o,async()=>{let s={},i={};r&&(e==="GET"?i=r:s={body:JSON.stringify(r)});const a=Ac(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Y4.fetch()(Z4(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function Q4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aA),e);try{const o=new cA(t),s=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw ku(t,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const a=s.ok?i.errorMessage:i.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ku(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw ku(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw ku(t,"user-disabled",i);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw rA(t,d,c);Zn(t,d)}}catch(o){if(o instanceof br)throw o;Zn(t,"network-request-failed",{message:String(o)})}}async function Rc(t,e,n,r,o={}){const s=await Sa(t,e,n,r,o);return"mfaPendingCredential"in s&&Zn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Z4(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?K0(t.config,o):`${t.config.apiScheme}://${o}`}class cA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),lA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ku(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=mr(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(t,e){return Sa(t,"POST","/v1/accounts:delete",e)}async function dA(t,e){return Sa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hA(t,e=!1){const n=Ae(t),r=await n.getIdToken(e),o=Y0(r);re(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s=typeof o.firebase=="object"?o.firebase:void 0,i=s==null?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:Sl(Kp(o.auth_time)),issuedAtTime:Sl(Kp(o.iat)),expirationTime:Sl(Kp(o.exp)),signInProvider:i||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Kp(t){return Number(t)*1e3}function Y0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return od("JWT malformed, contained fewer than 3 sections"),null;try{const o=D4(n);return o?JSON.parse(o):(od("Failed to decode base64 JWT payload"),null)}catch(o){return od("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function fA(t){const e=Y0(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof br&&pA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gd(t){var e;const n=t.auth,r=await t.getIdToken(),o=await rc(t,dA(n,{idToken:r}));re(o==null?void 0:o.users.length,n,"internal-error");const s=o.users[0];t._notifyReloadListener(s);const i=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?_A(s.providerUserInfo):[],a=yA(t.providerData,i),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new X4(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function gA(t){const e=Ae(t);await Gd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yA(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function _A(t){return t.map(e=>{var{providerId:n}=e,r=W0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(t,e){const n=await Q4(t,{},async()=>{const r=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:s}=t.config,i=Z4(t,o,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Y4.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return re(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:s}=await vA(e,n);this.updateTokensAndExpiration(r,o,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:s}=n,i=new oc;return r&&(re(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),o&&(re(typeof o=="string","internal-error",{appName:e}),i.accessToken=o),s&&(re(typeof s=="number","internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oc,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,s=W0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new X4(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await rc(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hA(this,e)}reload(){return gA(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await rc(this,uA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,s,i,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(o=n.email)!==null&&o!==void 0?o:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(i=n.photoURL)!==null&&i!==void 0?i:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:m,emailVerified:x,isAnonymous:k,providerData:b,stsTokenManager:T}=n;re(m&&T,e,"internal-error");const S=oc.fromJSON(this.name,T);re(typeof m=="string",e,"internal-error"),ro(h,e.name),ro(f,e.name),re(typeof x=="boolean",e,"internal-error"),re(typeof k=="boolean",e,"internal-error"),ro(g,e.name),ro(_,e.name),ro(w,e.name),ro(C,e.name),ro(v,e.name),ro(y,e.name);const E=new ks({uid:m,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:k,photoURL:_,phoneNumber:g,tenantId:w,stsTokenManager:S,createdAt:v,lastLoginAt:y});return b&&Array.isArray(b)&&(E.providerData=b.map(I=>Object.assign({},I))),C&&(E._redirectEventId=C),E}static async _fromIdTokenResponse(e,n,r=!1){const o=new oc;o.updateFromServerResponse(n);const s=new ks({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Gd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Map;function Rr(t){qr(t instanceof Function,"Expected a class definition");let e=N2.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J4.type="NONE";const A2=J4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t,e,n){return`firebase:${t}:${e}:${n}`}class Bi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:s}=this.auth;this.fullUserKey=sd(this.userKey,o.apiKey,s),this.fullPersistenceKey=sd("persistence",o.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bi(Rr(A2),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=o[0]||Rr(A2);const i=sd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(i);if(d){const h=ks._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Bi(s,e,r):(s=l[0],a&&await s._set(i,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(i)}catch{}})),new Bi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ob(e))return"Blackberry";if(sb(e))return"Webos";if(Q0(e))return"Safari";if((e.includes("chrome/")||tb(e))&&!e.includes("edge/"))return"Chrome";if(rb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eb(t=Gt()){return/firefox\//i.test(t)}function Q0(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tb(t=Gt()){return/crios\//i.test(t)}function nb(t=Gt()){return/iemobile/i.test(t)}function rb(t=Gt()){return/android/i.test(t)}function ob(t=Gt()){return/blackberry/i.test(t)}function sb(t=Gt()){return/webos/i.test(t)}function af(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wA(t=Gt()){var e;return af(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xA(){return BI()&&document.documentMode===10}function ib(t=Gt()){return af(t)||rb(t)||sb(t)||ob(t)||/windows phone/i.test(t)||nb(t)}function CA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t,e=[]){let n;switch(t){case"Browser":n=P2(Gt());break;case"Worker":n=`${P2(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qs}/${r}`}async function lb(t,e){return Sa(t,"GET","/v2/recaptchaConfig",ka(t,e))}function R2(t){return t!==void 0&&t.enterprise!==void 0}class cb{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function ub(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const s=mr("internal-error");s.customData=o,n(s)},r.type="text/javascript",r.charset="UTF-8",bA().appendChild(r)})}function kA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const SA="https://www.google.com/recaptcha/enterprise.js?render=",EA="recaptcha-enterprise",TA="NO_RECAPTCHA";class db{constructor(e){this.type=EA,this.auth=Ea(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(i,a)=>{lb(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new cb(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,i(c.siteKey)}}).catch(l=>{a(l)})})}function o(s,i,a){const l=window.grecaptcha;R2(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{i(c)}).catch(()=>{i(TA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,i)=>{r(this.auth).then(a=>{if(!n&&R2(window.grecaptcha))o(a,s,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}ub(SA+a).then(()=>{o(a,s,i)}).catch(l=>{i(l)})}}).catch(a=>{i(a)})})}}async function Kd(t,e,n,r=!1){const o=new db(t);let s;try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const i=Object.assign({},e);return r?Object.assign(i,{captchaResp:s}):Object.assign(i,{captchaResponse:s}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((i,a)=>{try{const l=e(s);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j2(this),this.idTokenSubscription=new j2(this),this.beforeStateQueue=new IA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Bi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(o=l.user,s=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(o)}catch(i){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ae(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}async initializeRecaptchaConfig(){const e=await lb(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new cb(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new db(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Bi.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),i=this._isInitialized?Promise.resolve():this._initializationPromise;return re(i,this,"internal-error"),i.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,o):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ea(t){return Ae(t)}class j2{constructor(e){this.auth=e,this.observer=null,this.addObserver=GI(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e){const n=sf(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),s=n.getOptions();if(Hd(s,e??{}))return o;Zn(o,"already-initialized")}return n.initialize({options:e})}function PA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RA(t,e,n){const r=Ea(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,s=hb(e),{host:i,port:a}=jA(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:o})}),LA()}function hb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jA(t){const e=hb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const s=o[1];return{host:s,port:L2(r.substr(s.length+1))}}else{const[s,i]=r.split(":");return{host:s,port:L2(i)}}}function L2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}async function OA(t,e){return Sa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(t,e){return Rc(t,"POST","/v1/accounts:signInWithPassword",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DA(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,e))}async function MA(t,e){return Rc(t,"POST","/v1/accounts:signInWithEmailLink",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Z0{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new sc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const o=await Kd(e,r,"signInWithPassword");return Yp(e,o)}else return Yp(e,r).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Kd(e,r,"signInWithPassword");return Yp(e,s)}else return Promise.reject(o)});case"emailLink":return DA(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return OA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return MA(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ui(t,e){return Rc(t,"POST","/v1/accounts:signInWithIdp",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="http://localhost";class Ds extends Z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,s=W0(n,["providerId","signInMethod"]);if(!r||!o)return null;const i=new Ds(r,o);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return Ui(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ui(e,n)}buildRequest(){const e={requestUri:$A,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BA(t){const e=al(ll(t)).link,n=e?al(ll(e)).deep_link_id:null,r=al(ll(t)).deep_link_id;return(r?al(ll(r)).link:null)||r||n||e||t}class X0{constructor(e){var n,r,o,s,i,a;const l=al(ll(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=FA((o=l.mode)!==null&&o!==void 0?o:null);re(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(i=l.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=BA(e);try{return new X0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,n){return sc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=X0.parseLink(n);return re(r,"argument-error"),sc._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends jc{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ds._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return yo.credential(n,r)}catch{return null}}}yo.GOOGLE_SIGN_IN_METHOD="google.com";yo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends jc{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends jc{constructor(){super("twitter.com")}static credential(e,n){return Ds._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(t,e){return Rc(t,"POST","/v1/accounts:signUp",ka(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const s=await ks._fromIdTokenResponse(e,r,o),i=O2(r);return new Ms({user:s,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=O2(r);return new Ms({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function O2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends br{constructor(e,n,r,o){var s;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Yd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Yd(e,n,r,o)}}function pb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yd._fromErrorAndOperation(t,s,e,r):s})}async function UA(t,e,n=!1){const r=await rc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ms._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t,e,n=!1){const{auth:r}=t,o="reauthenticate";try{const s=await rc(t,pb(r,o,e,t),n);re(s.idToken,r,"internal-error");const i=Y0(s.idToken);re(i,r,"internal-error");const{sub:a}=i;return re(t.uid===a,r,"user-mismatch"),Ms._forOperation(t,o,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mb(t,e,n=!1){const r="signIn",o=await pb(t,r,e),s=await Ms._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(s.user),s}async function zA(t,e){return mb(Ea(t),e)}async function HA(t,e,n){var r;const o=Ea(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let i;if(!((r=o._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await Kd(o,s,"signUpPassword");i=Qp(o,c)}else i=Qp(o,s).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await Kd(o,s,"signUpPassword");return Qp(o,d)}else return Promise.reject(c)});const a=await i.catch(c=>Promise.reject(c)),l=await Ms._fromIdTokenResponse(o,"signIn",a);return await o._updateCurrentUser(l.user),l}function qA(t,e,n){return zA(Ae(t),Ta.credential(e,n))}function WA(t,e,n,r){return Ae(t).onIdTokenChanged(e,n,r)}function GA(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function KA(t,e,n,r){return Ae(t).onAuthStateChanged(e,n,r)}function YA(t){return Ae(t).signOut()}const Qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){const t=Gt();return Q0(t)||af(t)}const ZA=1e3,XA=10;class yb extends gb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=QA()&&CA(),this.fallbackToPolling=ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(r);if(e.newValue!==i)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},s=this.storage.getItem(r);xA()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XA):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yb.type="LOCAL";const JA=yb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends gb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_b.type="SESSION";const vb=_b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new lf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:s}=n.data,i=this.handlersMap[o];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(i).map(async c=>c(n.origin,s)),l=await eP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,i;return new Promise((a,l)=>{const c=J0("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(i),o.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function nP(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function rP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sP(){return wb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebaseLocalStorageDb",iP=1,Zd="firebaseLocalStorage",Cb="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(t,e){return t.transaction([Zd],e?"readwrite":"readonly").objectStore(Zd)}function aP(){const t=indexedDB.deleteDatabase(xb);return new Lc(t).toPromise()}function H1(){const t=indexedDB.open(xb,iP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zd,{keyPath:Cb})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zd)?e(r):(r.close(),await aP(),e(await H1()))})})}async function D2(t,e,n){const r=cf(t,!0).put({[Cb]:e,value:n});return new Lc(r).toPromise()}async function lP(t,e){const n=cf(t,!1).get(e),r=await new Lc(n).toPromise();return r===void 0?null:r.value}function M2(t,e){const n=cf(t,!0).delete(e);return new Lc(n).toPromise()}const cP=800,uP=3;class bb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await H1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lf._getInstance(sP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rP(),!this.activeServiceWorker)return;this.sender=new tP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await H1();return await D2(e,Qd,"1"),await M2(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>D2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const s=cf(o,!1).getAll();return new Lc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:o,value:s}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bb.type="LOCAL";const dP=bb;new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e){return e?Rr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey extends Z0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fP(t){return mb(t.auth,new ey(t),t.bypassAuthState)}function pP(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),VA(n,new ey(t),t.bypassAuthState)}async function mP(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),UA(n,new ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,r,o,s=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:s,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fP;case"linkViaPopup":case"linkViaRedirect":return mP;case"reauthViaPopup":case"reauthViaRedirect":return pP;default:Zn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Pc(2e3,1e4);class Ii extends kb{constructor(e,n,r,o,s){super(e,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,Ii.currentPopupAction&&Ii.currentPopupAction.cancel(),Ii.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=J0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ii.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gP.get())};e()}}Ii.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="pendingRedirect",id=new Map;class _P extends kb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=id.get(this.auth._key());if(!e){try{const r=await vP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}id.set(this.auth._key(),e)}return this.bypassAuthState||id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vP(t,e){const n=CP(e),r=xP(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function wP(t,e){id.set(t._key(),e)}function xP(t){return Rr(t._redirectPersistence)}function CP(t){return sd(yP,t.config.apiKey,t.name)}async function bP(t,e,n=!1){const r=Ea(t),o=hP(r,e),i=await new _P(r,o,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=10*60*1e3;class SP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Sb(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kP&&this.cachedEventUids.clear(),this.cachedEventUids.has($2(e))}saveEventToCache(e){this.cachedEventUids.add($2(e)),this.lastProcessedEventTime=Date.now()}}function $2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Sb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,e={}){return Sa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NP=/^https?/;async function AP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TP(t);for(const n of e)try{if(PP(n))return}catch{}Zn(t,"unauthorized-domain")}function PP(t){const e=z1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!NP.test(n))return!1;if(IP.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new Pc(3e4,6e4);function F2(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jP(t){return new Promise((e,n)=>{var r,o,s;function i(){F2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F2(),n(mr(t,"network-request-failed"))},timeout:RP.get()})}if(!((o=(r=gr().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((s=gr().gapi)===null||s===void 0)&&s.load)i();else{const a=kA("iframefcb");return gr()[a]=()=>{gapi.load?i():n(mr(t,"network-request-failed"))},ub(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ad=null,e})}let ad=null;function LP(t){return ad=ad||jP(t),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new Pc(5e3,15e3),DP="__/auth/iframe",MP="emulator/auth/iframe",$P={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BP(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?K0(e,MP):`https://${t.config.authDomain}/${DP}`,r={apiKey:e.apiKey,appName:t.name,v:Qs},o=FP.get(t.config.apiHost);o&&(r.eid=o);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ac(r).slice(1)}`}async function UP(t){const e=await LP(t),n=gr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:BP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$P,dontclear:!0},r=>new Promise(async(o,s)=>{await r.restyle({setHideOnLeave:!1});const i=mr(t,"network-request-failed"),a=gr().setTimeout(()=>{s(i)},OP.get());function l(){gr().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zP=500,HP=600,qP="_blank",WP="http://localhost";class B2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GP(t,e,n,r=zP,o=HP){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},VP),{width:r.toString(),height:o.toString(),top:s,left:i}),c=Gt().toLowerCase();n&&(a=tb(c)?qP:n),eb(c)&&(e=e||WP,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(wA(c)&&a!=="_self")return KP(e||"",a),new B2(null);const h=window.open(e||"",a,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new B2(h)}function KP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="__/auth/handler",QP="emulator/auth/handler",ZP=encodeURIComponent("fac");async function U2(t,e,n,r,o,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Qs,eventId:o};if(e instanceof fb){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",WI(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof jc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${ZP}=${encodeURIComponent(l)}`:"";return`${XP(t)}?${Ac(a).slice(1)}${c}`}function XP({config:t}){return t.emulator?K0(t,QP):`https://${t.authDomain}/${YP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="webStorageSupport";class JP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vb,this._completeRedirectFn=bP,this._overrideRedirectResult=wP}async _openPopup(e,n,r,o){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await U2(e,n,r,z1(),o);return GP(e,i,J0())}async _openRedirect(e,n,r,o){await this._originValidation(e);const s=await U2(e,n,r,z1(),o);return nP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:s}=this.eventManagers[n];return o?Promise.resolve(o):(qr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UP(e),r=new SP(e);return n.register("authEvent",o=>(re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zp,{type:Zp},o=>{var s;const i=(s=o==null?void 0:o[0])===null||s===void 0?void 0:s[Zp];i!==void 0&&n(!!i),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=AP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ib()||Q0()||af()}}const eR=JP;var V2="@firebase/auth",z2="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function rR(t){Os(new Bo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;re(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ab(t)},c=new NA(r,o,s,l);return PA(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Os(new Bo("auth-internal",e=>{const n=Ea(e.getProvider("auth").getImmediate());return(r=>new tR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(V2,z2,nR(t)),pr(V2,z2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=5*60,sR=B4("authIdTokenMaxAge")||oR;let H2=null;const iR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sR)return;const o=n==null?void 0:n.token;H2!==o&&(H2=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function aR(t=q0()){const e=sf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=AA(t,{popupRedirectResolver:eR,persistence:[dP,JA,vb]}),r=B4("authTokenSyncURL");if(r){const s=iR(r);GA(n,s,()=>s(n.currentUser)),WA(n,i=>s(i))}const o=M4("auth");return o&&RA(n,`http://${o}`),n}rR("Browser");var lR="firebase",cR="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(lR,cR,"app");var uR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,ty=ty||{},se=uR||self;function uf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function df(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function dR(t){return Object.prototype.hasOwnProperty.call(t,Xp)&&t[Xp]||(t[Xp]=++hR)}var Xp="closure_uid_"+(1e9*Math.random()>>>0),hR=0;function fR(t,e,n){return t.call.apply(t.bind,arguments)}function pR(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ut=fR:Ut=pR,Ut.apply(null,arguments)}function Su(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,s){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[o].apply(r,i)}}function Qo(){this.s=this.s,this.o=this.o}var mR=0;Qo.prototype.s=!1;Qo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),mR!=0)&&dR(this)};Qo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Eb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ny(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function q2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(uf(r)){const o=t.length||0,s=r.length||0;t.length=o+s;for(let i=0;i<s;i++)t[o+i]=r[i]}else t.push(r)}}function Vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var gR=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{se.addEventListener("test",()=>{},e),se.removeEventListener("test",()=>{},e)}catch{}return t}();function ic(t){return/^[\s\xa0]*$/.test(t)}function hf(){var t=se.navigator;return t&&(t=t.userAgent)?t:""}function lr(t){return hf().indexOf(t)!=-1}function ry(t){return ry[" "](t),t}ry[" "]=function(){};function yR(t,e){var n=uj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var _R=lr("Opera"),na=lr("Trident")||lr("MSIE"),Tb=lr("Edge"),q1=Tb||na,Ib=lr("Gecko")&&!(hf().toLowerCase().indexOf("webkit")!=-1&&!lr("Edge"))&&!(lr("Trident")||lr("MSIE"))&&!lr("Edge"),vR=hf().toLowerCase().indexOf("webkit")!=-1&&!lr("Edge");function Nb(){var t=se.document;return t?t.documentMode:void 0}var W1;e:{var Jp="",em=function(){var t=hf();if(Ib)return/rv:([^\);]+)(\)|;)/.exec(t);if(Tb)return/Edge\/([\d\.]+)/.exec(t);if(na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vR)return/WebKit\/(\S+)/.exec(t);if(_R)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(em&&(Jp=em?em[1]:""),na){var tm=Nb();if(tm!=null&&tm>parseFloat(Jp)){W1=String(tm);break e}}W1=Jp}var G1;if(se.document&&na){var W2=Nb();G1=W2||parseInt(W1,10)||void 0}else G1=void 0;var wR=G1;function ac(t,e){if(Vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Ib){e:{try{ry(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:xR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ac.$.h.call(this)}}xt(ac,Vt);var xR={2:"touch",3:"pen",4:"mouse"};ac.prototype.h=function(){ac.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ff="closure_listenable_"+(1e6*Math.random()|0),CR=0;function bR(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++CR,this.fa=this.ia=!1}function pf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function oy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function kR(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Ab(t){const e={};for(const n in t)e[n]=t[n];return e}const G2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pb(t,e){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(let s=0;s<G2.length;s++)n=G2[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mf(t){this.src=t,this.g={},this.h=0}mf.prototype.add=function(t,e,n,r,o){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var i=Y1(t,e,r,o);return-1<i?(e=t[i],n||(e.ia=!1)):(e=new bR(e,this.src,s,!!r,o),e.ia=n,t.push(e)),e};function K1(t,e){var n=e.type;if(n in t.g){var r=t.g[n],o=Eb(r,e),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(pf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Y1(t,e,n,r){for(var o=0;o<t.length;++o){var s=t[o];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return o}return-1}var sy="closure_lm_"+(1e6*Math.random()|0),nm={};function Rb(t,e,n,r,o){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Rb(t,e[s],n,r,o);return null}return n=Ob(n),t&&t[ff]?t.O(e,n,df(r)?!!r.capture:!!r,o):SR(t,e,n,!1,r,o)}function SR(t,e,n,r,o,s){if(!e)throw Error("Invalid event type");var i=df(o)?!!o.capture:!!o,a=ay(t);if(a||(t[sy]=a=new mf(t)),n=a.add(e,n,r,i,s),n.proxy)return n;if(r=ER(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)gR||(o=i),o===void 0&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(Lb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ER(){function t(n){return e.call(t.src,t.listener,n)}const e=TR;return t}function jb(t,e,n,r,o){if(Array.isArray(e))for(var s=0;s<e.length;s++)jb(t,e[s],n,r,o);else r=df(r)?!!r.capture:!!r,n=Ob(n),t&&t[ff]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Y1(s,n,r,o),-1<n&&(pf(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ay(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Y1(e,n,r,o)),(n=-1<t?e[t]:null)&&iy(n))}function iy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ff])K1(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Lb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ay(e))?(K1(n,t),n.h==0&&(n.src=null,e[sy]=null)):pf(t)}}}function Lb(t){return t in nm?nm[t]:nm[t]="on"+t}function TR(t,e){if(t.fa)t=!0;else{e=new ac(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iy(t),t=n.call(r,e)}return t}function ay(t){return t=t[sy],t instanceof mf?t:null}var rm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ob(t){return typeof t=="function"?t:(t[rm]||(t[rm]=function(e){return t.handleEvent(e)}),t[rm])}function wt(){Qo.call(this),this.i=new mf(this),this.S=this,this.J=null}xt(wt,Qo);wt.prototype[ff]=!0;wt.prototype.removeEventListener=function(t,e,n,r){jb(this,t,e,n,r)};function Tt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vt(e,t);else if(e instanceof Vt)e.target=e.target||t;else{var o=e;e=new Vt(r,t),Pb(e,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var i=e.g=n[s];o=Eu(i,r,!0,e)&&o}if(i=e.g=t,o=Eu(i,r,!0,e)&&o,o=Eu(i,r,!1,e)&&o,n)for(s=0;s<n.length;s++)i=e.g=n[s],o=Eu(i,r,!1,e)&&o}wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pf(n[r]);delete t.g[e],t.h--}}this.J=null};wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Eu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,s=0;s<e.length;++s){var i=e[s];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&K1(t.i,i),o=a.call(l,r)!==!1&&o}}return o&&!r.defaultPrevented}var ly=se.JSON.stringify;class IR{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function NR(){var t=cy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class AR{constructor(){this.h=this.g=null}add(e,n){const r=Db.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Db=new IR(()=>new PR,t=>t.reset());class PR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function RR(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function jR(t){se.setTimeout(()=>{throw t},0)}let lc,cc=!1,cy=new AR,Mb=()=>{const t=se.Promise.resolve(void 0);lc=()=>{t.then(LR)}};var LR=()=>{for(var t;t=NR();){try{t.h.call(t.g)}catch(n){jR(n)}var e=Db;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}cc=!1};function gf(t,e){wt.call(this),this.h=t||1,this.g=e||se,this.j=Ut(this.qb,this),this.l=Date.now()}xt(gf,wt);V=gf.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tt(this,"tick"),this.ga&&(uy(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function uy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){gf.$.N.call(this),uy(this),delete this.g};function dy(t,e,n){if(typeof t=="function")n&&(t=Ut(t,n));else if(t&&typeof t.handleEvent=="function")t=Ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:se.setTimeout(t,e||0)}function $b(t){t.g=dy(()=>{t.g=null,t.i&&(t.i=!1,$b(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class OR extends Qo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$b(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uc(t){Qo.call(this),this.h=t,this.g={}}xt(uc,Qo);var K2=[];function Fb(t,e,n,r){Array.isArray(n)||(n&&(K2[0]=n.toString()),n=K2);for(var o=0;o<n.length;o++){var s=Rb(e,n[o],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Bb(t){oy(t.g,function(e,n){this.g.hasOwnProperty(n)&&iy(e)},t),t.g={}}uc.prototype.N=function(){uc.$.N.call(this),Bb(this)};uc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function yf(){this.g=!0}yf.prototype.Ea=function(){this.g=!1};function DR(t,e,n,r,o,s){t.info(function(){if(t.g)if(s)for(var i="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");i=2<=h.length&&h[1]=="type"?i+(d+"="+c+"&"):i+(d+"=redacted&")}}else i=null;else i=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+`
`+n+`
`+i})}function MR(t,e,n,r,o,s,i){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+`
`+n+`
`+s+" "+i})}function Ni(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+FR(t,n)+(r?" "+r:"")})}function $R(t,e){t.info(function(){return"TIMEOUT: "+e})}yf.prototype.info=function(){};function FR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var i=1;i<o.length;i++)o[i]=""}}}}return ly(n)}catch{return e}}var Zs={},Y2=null;function _f(){return Y2=Y2||new wt}Zs.Ta="serverreachability";function Ub(t){Vt.call(this,Zs.Ta,t)}xt(Ub,Vt);function dc(t){const e=_f();Tt(e,new Ub(e))}Zs.STAT_EVENT="statevent";function Vb(t,e){Vt.call(this,Zs.STAT_EVENT,t),this.stat=e}xt(Vb,Vt);function en(t){const e=_f();Tt(e,new Vb(e,t))}Zs.Ua="timingevent";function zb(t,e){Vt.call(this,Zs.Ua,t),this.size=e}xt(zb,Vt);function Oc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){t()},e)}var vf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Hb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hy(){}hy.prototype.h=null;function Q2(t){return t.h||(t.h=t.i())}function qb(){}var Dc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fy(){Vt.call(this,"d")}xt(fy,Vt);function py(){Vt.call(this,"c")}xt(py,Vt);var Q1;function wf(){}xt(wf,hy);wf.prototype.g=function(){return new XMLHttpRequest};wf.prototype.i=function(){return{}};Q1=new wf;function Mc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new uc(this),this.P=BR,t=q1?125:void 0,this.V=new gf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Wb}function Wb(){this.i=null,this.g="",this.h=!1}var BR=45e3,Z1={},Xd={};V=Mc.prototype;V.setTimeout=function(t){this.P=t};function X1(t,e,n){t.L=1,t.v=Cf(Wr(e)),t.s=n,t.S=!0,Gb(t,null)}function Gb(t,e){t.G=Date.now(),$c(t),t.A=Wr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),tk(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Wb,t.g=Ck(t.l,n?e:null,!t.s),0<t.O&&(t.M=new OR(Ut(t.Pa,t,t.g),t.O)),Fb(t.U,t.g,"readystatechange",t.nb),e=t.I?Ab(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),dc(),DR(t.j,t.u,t.A,t.m,t.W,t.s)}V.nb=function(t){t=t.target;const e=this.M;e&&cr(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const d=cr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||q1||this.g&&(this.h.h||this.g.ja()||ew(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?dc(3):dc(2)),xf(this);var n=this.g.da();this.ca=n;t:if(Kb(this)){var r=ew(this.g);t="";var o=r.length,s=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gs(this),El(this);var i="";break t}this.h.i=new se.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==o-1});r.splice(0,o),this.h.g+=t,this.C=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,MR(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ic(a)){var c=a;break t}}c=null}if(n=c)Ni(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,J1(this,n);else{this.i=!1,this.o=3,en(12),gs(this),El(this);break e}}this.S?(Yb(this,d,i),q1&&this.i&&d==3&&(Fb(this.U,this.V,"tick",this.mb),this.V.start())):(Ni(this.j,this.m,i,null),J1(this,i)),d==4&&gs(this),this.i&&!this.J&&(d==4?_k(this.l,this):(this.i=!1,$c(this)))}else aj(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.o=3,en(12)):(this.o=0,en(13)),gs(this),El(this)}}}catch{}finally{}};function Kb(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Yb(t,e,n){let r=!0,o;for(;!t.J&&t.C<n.length;)if(o=UR(t,n),o==Xd){e==4&&(t.o=4,en(14),r=!1),Ni(t.j,t.m,null,"[Incomplete Response]");break}else if(o==Z1){t.o=4,en(15),Ni(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ni(t.j,t.m,o,null),J1(t,o);Kb(t)&&o!=Xd&&o!=Z1&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,en(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),wy(e),e.M=!0,en(11))):(Ni(t.j,t.m,n,"[Invalid Chunked Response]"),gs(t),El(t))}V.mb=function(){if(this.g){var t=cr(this.g),e=this.g.ja();this.C<e.length&&(xf(this),Yb(this,t,e),this.i&&t!=4&&$c(this))}};function UR(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Xd:(n=Number(e.substring(n,r)),isNaN(n)?Z1:(r+=1,r+n>e.length?Xd:(e=e.slice(r,r+n),t.C=r+n,e)))}V.cancel=function(){this.J=!0,gs(this)};function $c(t){t.Y=Date.now()+t.P,Qb(t,t.P)}function Qb(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Oc(Ut(t.lb,t),e)}function xf(t){t.B&&(se.clearTimeout(t.B),t.B=null)}V.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?($R(this.j,this.A),this.L!=2&&(dc(),en(17)),gs(this),this.o=2,El(this)):Qb(this,this.Y-t)};function El(t){t.l.H==0||t.J||_k(t.l,t)}function gs(t){xf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,uy(t.V),Bb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function J1(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||eg(n.i,t))){if(!t.K&&eg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)th(n),Sf(n);else break e;vy(n),en(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=Oc(Ut(n.ib,n),6e3));if(1>=ok(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ys(n,11)}else if((t.K||n.g==t)&&th(n),!ic(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let c=o[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const _=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(my(s,s.h),s.h=null))}if(r.F){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,je(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=t;if(r.wa=xk(r,r.J?r.pa:null,r.Y),i.K){sk(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.B&&(xf(a),$c(a)),r.g=i}else gk(r);0<n.j.length&&Ef(n)}else c[0]!="stop"&&c[0]!="close"||ys(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ys(n,7):_y(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}dc(4)}catch{}}function VR(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(uf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function zR(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(uf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Zb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(uf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=zR(t),r=VR(t),o=r.length,s=0;s<o;s++)e.call(void 0,r[s],n&&n[s],t)}var Xb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var s=t[n].substring(0,r);o=t[n].substring(r+1)}else s=t[n];e(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Ss(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ss){this.h=t.h,Jd(this,t.j),this.s=t.s,this.g=t.g,eh(this,t.m),this.l=t.l;var e=t.i,n=new hc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Z2(this,n),this.o=t.o}else t&&(e=String(t).match(Xb))?(this.h=!1,Jd(this,e[1]||"",!0),this.s=cl(e[2]||""),this.g=cl(e[3]||"",!0),eh(this,e[4]),this.l=cl(e[5]||"",!0),Z2(this,e[6]||"",!0),this.o=cl(e[7]||"")):(this.h=!1,this.i=new hc(null,this.h))}Ss.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ul(e,X2,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ul(e,X2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ul(n,n.charAt(0)=="/"?GR:WR,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ul(n,YR)),t.join("")};function Wr(t){return new Ss(t)}function Jd(t,e,n){t.j=n?cl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function eh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Z2(t,e,n){e instanceof hc?(t.i=e,QR(t.i,t.h)):(n||(e=ul(e,KR)),t.i=new hc(e,t.h))}function je(t,e,n){t.i.set(e,n)}function Cf(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ul(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,qR),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function qR(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var X2=/[#\/\?@]/g,WR=/[#\?:]/g,GR=/[#\?]/g,KR=/[#\?@]/g,YR=/#/g;function hc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Zo(t){t.g||(t.g=new Map,t.h=0,t.i&&HR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=hc.prototype;V.add=function(t,e){Zo(this),this.i=null,t=Ia(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Jb(t,e){Zo(t),e=Ia(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ek(t,e){return Zo(t),e=Ia(t,e),t.g.has(e)}V.forEach=function(t,e){Zo(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)};V.ta=function(){Zo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let s=0;s<o.length;s++)n.push(e[r])}return n};V.Z=function(t){Zo(this);let e=[];if(typeof t=="string")ek(this,t)&&(e=e.concat(this.g.get(Ia(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return Zo(this),this.i=null,t=Ia(this,t),ek(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function tk(t,e,n){Jb(t,e),0<n.length&&(t.i=null,t.g.set(Ia(t,e),ny(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var o=s;i[r]!==""&&(o+="="+encodeURIComponent(String(i[r]))),t.push(o)}}return this.i=t.join("&")};function Ia(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function QR(t,e){e&&!t.j&&(Zo(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(Jb(this,r),tk(this,o,n))},t)),t.j=e}var ZR=class{constructor(t,e){this.g=t,this.map=e}};function nk(t){this.l=t||XR,se.PerformanceNavigationTiming?(t=se.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XR=10;function rk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ok(t){return t.h?1:t.g?t.g.size:0}function eg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function my(t,e){t.g?t.g.add(e):t.h=e}function sk(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}nk.prototype.cancel=function(){if(this.i=ik(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ik(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ny(t.i)}var JR=class{stringify(t){return se.JSON.stringify(t,void 0)}parse(t){return se.JSON.parse(t,void 0)}};function ej(){this.g=new JR}function tj(t,e,n){const r=n||"";try{Zb(t,function(o,s){let i=o;df(o)&&(i=ly(o)),e.push(r+s+"="+encodeURIComponent(i))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function nj(t,e){const n=new yf;if(se.Image){const r=new Image;r.onload=Su(Tu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Su(Tu,n,r,"TestLoadImage: error",!1,e),r.onabort=Su(Tu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Su(Tu,n,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Tu(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Fc(t){this.l=t.fc||null,this.j=t.ob||!1}xt(Fc,hy);Fc.prototype.g=function(){return new bf(this.l,this.j)};Fc.prototype.i=function(t){return function(){return t}}({});function bf(t,e){wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=gy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(bf,wt);var gy=0;V=bf.prototype;V.open=function(t,e){if(this.readyState!=gy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,fc(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bc(this)),this.readyState=gy};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,fc(this)),this.g&&(this.readyState=3,fc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ak(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ak(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bc(this):fc(this),this.readyState==3&&ak(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,Bc(this))};V.Ya=function(t){this.g&&(this.response=t,Bc(this))};V.ka=function(){this.g&&Bc(this)};function Bc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,fc(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function fc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var rj=se.JSON.parse;function tt(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lk,this.L=this.M=!1}xt(tt,wt);var lk="",oj=/^https?$/i,sj=["POST","PUT"];V=tt.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Q1.g(),this.C=this.u?Q2(this.u):Q2(Q1),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){J2(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),o=se.FormData&&t instanceof se.FormData,!(0<=Eb(sj,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,i]of n)this.g.setRequestHeader(s,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{dk(this),0<this.B&&((this.L=ij(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=dy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){J2(this,s)}};function ij(t){return na&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof ty<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))};function J2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ck(t),kf(t)}function ck(t){t.F||(t.F=!0,Tt(t,"complete"),Tt(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),kf(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kf(this,!0)),tt.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?uk(this):this.kb())};V.kb=function(){uk(this)};function uk(t){if(t.h&&typeof ty<"u"&&(!t.C[1]||cr(t)!=4||t.da()!=2)){if(t.v&&cr(t)==4)dy(t.La,0,t);else if(Tt(t,"readystatechange"),cr(t)==4){t.h=!1;try{const i=t.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=i===0){var o=String(t.I).match(Xb)[1]||null;!o&&se.self&&se.self.location&&(o=se.self.location.protocol.slice(0,-1)),r=!oj.test(o?o.toLowerCase():"")}n=r}if(n)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var s=2<cr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ck(t)}}finally{kf(t)}}}}function kf(t,e){if(t.g){dk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch{}}}function dk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(se.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function cr(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),rj(e)}};function ew(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case lk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function aj(t){const e={};t=(t.g&&2<=cr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ic(t[r]))continue;var n=RR(t[r]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[o]||[];e[o]=s,s.push(n)}kR(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function hk(t){let e="";return oy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function yy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=hk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):je(t,e,n))}function Wa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function fk(t){this.Ga=0,this.j=[],this.l=new yf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wa("baseRetryDelayMs",5e3,t),this.hb=Wa("retryDelaySeedMs",1e4,t),this.eb=Wa("forwardChannelMaxRetries",2,t),this.xa=Wa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new nk(t&&t.concurrentRequestLimit),this.Ja=new ej,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=fk.prototype;V.ra=8;V.H=1;function _y(t){if(pk(t),t.H==3){var e=t.W++,n=Wr(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),Uc(t,n),e=new Mc(t,t.l,e),e.L=2,e.v=Cf(Wr(n)),n=!1,se.navigator&&se.navigator.sendBeacon)try{n=se.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&se.Image&&(new Image().src=e.v,n=!0),n||(e.g=Ck(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$c(e)}wk(t)}function Sf(t){t.g&&(wy(t),t.g.cancel(),t.g=null)}function pk(t){Sf(t),t.u&&(se.clearTimeout(t.u),t.u=null),th(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&se.clearTimeout(t.m),t.m=null)}function Ef(t){if(!rk(t.i)&&!t.m){t.m=!0;var e=t.Na;lc||Mb(),cc||(lc(),cc=!0),cy.add(e,t),t.C=0}}function lj(t,e){return ok(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Oc(Ut(t.Na,t,e),vk(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new Mc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=Ab(s),Pb(s,this.U)):s=this.U),this.o!==null||this.O||(o.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=mk(this,o,e),n=Wr(this.I),je(n,"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),Uc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(hk(s)))+"&"+e:this.o&&yy(n,this.o,s)),my(this.i,o),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),o.aa=!0,X1(o,n,null)):X1(o,n,e),this.H=2}}else this.H==3&&(t?tw(this,t):this.j.length==0||rk(this.i)||tw(this))};function tw(t,e){var n;e?n=e.m:n=t.W++;const r=Wr(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),Uc(t,r),t.o&&t.s&&yy(r,t.o,t.s),n=new Mc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=mk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),my(t.i,n),X1(n,r,e)}function Uc(t,e){t.na&&oy(t.na,function(n,r){je(e,r,n)}),t.h&&Zb({},function(n,r){je(e,r,n)})}function mk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ut(t.h.Va,t.h,t):null;e:{var o=t.j;let s=-1;for(;;){const i=["count="+n];s==-1?0<n?(s=o[0].g,i.push("ofs="+s)):s=0:i.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=o[l].g;const d=o[l].map;if(c-=s,0>c)s=Math.max(0,o[l].g-100),a=!1;else try{tj(d,i,"req"+c+"_")}catch{r&&r(d)}}if(a){r=i.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function gk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;lc||Mb(),cc||(lc(),cc=!0),cy.add(e,t),t.A=0}}function vy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Oc(Ut(t.Ma,t),vk(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,yk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Oc(Ut(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,en(10),Sf(this),yk(this))};function wy(t){t.B!=null&&(se.clearTimeout(t.B),t.B=null)}function yk(t){t.g=new Mc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Wr(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),Uc(t,e),t.o&&t.s&&yy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Cf(Wr(e)),n.s=null,n.S=!0,Gb(n,t)}V.ib=function(){this.v!=null&&(this.v=null,Sf(this),vy(this),en(19))};function th(t){t.v!=null&&(se.clearTimeout(t.v),t.v=null)}function _k(t,e){var n=null;if(t.g==e){th(t),wy(t),t.g=null;var r=2}else if(eg(t.i,e))n=e.F,sk(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var o=t.C;r=_f(),Tt(r,new zb(r,n)),Ef(t)}else gk(t);else if(o=e.o,o==3||o==0&&0<e.ca||!(r==1&&lj(t,e)||r==2&&vy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:ys(t,5);break;case 4:ys(t,10);break;case 3:ys(t,6);break;default:ys(t,2)}}}function vk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ys(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ut(t.pb,t);n||(n=new Ss("//www.google.com/images/cleardot.gif"),se.location&&se.location.protocol=="http"||Jd(n,"https"),Cf(n)),nj(n.toString(),r)}else en(2);t.H=0,t.h&&t.h.za(e),wk(t),pk(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),en(2)):(this.l.info("Failed to ping google.com"),en(1))};function wk(t){if(t.H=0,t.ma=[],t.h){const e=ik(t.i);(e.length!=0||t.j.length!=0)&&(q2(t.ma,e),q2(t.ma,t.j),t.i.i.length=0,ny(t.j),t.j.length=0),t.h.ya()}}function xk(t,e,n){var r=n instanceof Ss?Wr(n):new Ss(n);if(r.g!="")e&&(r.g=e+"."+r.g),eh(r,r.m);else{var o=se.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var s=new Ss(null);r&&Jd(s,r),e&&(s.g=e),o&&eh(s,o),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&je(r,n,e),je(r,"VER",t.ra),Uc(t,r),r}function Ck(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new tt(new Fc({ob:!0})):new tt(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function bk(){}V=bk.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function nh(){if(na&&!(10<=Number(wR)))throw Error("Environmental error: no available transport.")}nh.prototype.g=function(t,e){return new En(t,e)};function En(t,e){wt.call(this),this.g=new fk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ic(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ic(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Na(this)}xt(En,wt);En.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=xk(t,null,t.Y),Ef(t)};En.prototype.close=function(){_y(this.g)};En.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ly(t),t=n);e.j.push(new ZR(e.fb++,t)),e.H==3&&Ef(e)};En.prototype.N=function(){this.g.h=null,delete this.j,_y(this.g),delete this.g,En.$.N.call(this)};function kk(t){fy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(kk,fy);function Sk(){py.call(this),this.status=1}xt(Sk,py);function Na(t){this.g=t}xt(Na,bk);Na.prototype.Ba=function(){Tt(this.g,"a")};Na.prototype.Aa=function(t){Tt(this.g,new kk(t))};Na.prototype.za=function(t){Tt(this.g,new Sk)};Na.prototype.ya=function(){Tt(this.g,"b")};function cj(){this.blockSize=-1}function Xn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(Xn,cj);Xn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function om(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var s=t.g[3],i=e+(s^n&(o^s))+r[0]+3614090360&4294967295;e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[1]+3905402710&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[2]+606105819&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[3]+3250441966&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[4]+4118548399&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[5]+1200080426&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[6]+2821735955&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[7]+4249261313&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[8]+1770035416&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[9]+2336552879&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[10]+4294925233&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[11]+2304563134&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(s^n&(o^s))+r[12]+1804603682&4294967295,e=n+(i<<7&4294967295|i>>>25),i=s+(o^e&(n^o))+r[13]+4254626195&4294967295,s=e+(i<<12&4294967295|i>>>20),i=o+(n^s&(e^n))+r[14]+2792965006&4294967295,o=s+(i<<17&4294967295|i>>>15),i=n+(e^o&(s^e))+r[15]+1236535329&4294967295,n=o+(i<<22&4294967295|i>>>10),i=e+(o^s&(n^o))+r[1]+4129170786&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[6]+3225465664&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[11]+643717713&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[0]+3921069994&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[5]+3593408605&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[10]+38016083&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[15]+3634488961&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[4]+3889429448&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[9]+568446438&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[14]+3275163606&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[3]+4107603335&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[8]+1163531501&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(o^s&(n^o))+r[13]+2850285829&4294967295,e=n+(i<<5&4294967295|i>>>27),i=s+(n^o&(e^n))+r[2]+4243563512&4294967295,s=e+(i<<9&4294967295|i>>>23),i=o+(e^n&(s^e))+r[7]+1735328473&4294967295,o=s+(i<<14&4294967295|i>>>18),i=n+(s^e&(o^s))+r[12]+2368359562&4294967295,n=o+(i<<20&4294967295|i>>>12),i=e+(n^o^s)+r[5]+4294588738&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[8]+2272392833&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[11]+1839030562&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[14]+4259657740&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[1]+2763975236&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[4]+1272893353&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[7]+4139469664&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[10]+3200236656&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[13]+681279174&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[0]+3936430074&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[3]+3572445317&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[6]+76029189&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(n^o^s)+r[9]+3654602809&4294967295,e=n+(i<<4&4294967295|i>>>28),i=s+(e^n^o)+r[12]+3873151461&4294967295,s=e+(i<<11&4294967295|i>>>21),i=o+(s^e^n)+r[15]+530742520&4294967295,o=s+(i<<16&4294967295|i>>>16),i=n+(o^s^e)+r[2]+3299628645&4294967295,n=o+(i<<23&4294967295|i>>>9),i=e+(o^(n|~s))+r[0]+4096336452&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[7]+1126891415&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[14]+2878612391&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[5]+4237533241&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[12]+1700485571&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[3]+2399980690&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[10]+4293915773&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[1]+2240044497&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[8]+1873313359&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[15]+4264355552&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[6]+2734768916&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[13]+1309151649&4294967295,n=o+(i<<21&4294967295|i>>>11),i=e+(o^(n|~s))+r[4]+4149444226&4294967295,e=n+(i<<6&4294967295|i>>>26),i=s+(n^(e|~o))+r[11]+3174756917&4294967295,s=e+(i<<10&4294967295|i>>>22),i=o+(e^(s|~n))+r[2]+718787259&4294967295,o=s+(i<<15&4294967295|i>>>17),i=n+(s^(o|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(i<<21&4294967295|i>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+s&4294967295}Xn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,s=0;s<e;){if(o==0)for(;s<=n;)om(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[o++]=t.charCodeAt(s++),o==this.blockSize){om(this,r),o=0;break}}else for(;s<e;)if(r[o++]=t[s++],o==this.blockSize){om(this,r),o=0;break}}this.h=o,this.i+=e};Xn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var s=t[o]|0;r&&s==e||(n[o]=s,r=!1)}this.g=n}var uj={};function xy(t){return-128<=t&&128>t?yR(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function ur(t){if(isNaN(t)||!isFinite(t))return Vi;if(0>t)return St(ur(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=tg;return new Ee(e,0)}function Ek(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return St(Ek(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ur(Math.pow(e,8)),r=Vi,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),i=parseInt(t.substring(o,o+s),e);8>s?(s=ur(Math.pow(e,s)),r=r.R(s).add(ur(i))):(r=r.R(n),r=r.add(ur(i)))}return r}var tg=4294967296,Vi=xy(0),ng=xy(1),nw=xy(16777216);V=Ee.prototype;V.ea=function(){if(Ln(this))return-St(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:tg+r)*e,e*=tg}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(jr(this))return"0";if(Ln(this))return"-"+St(this).toString(t);for(var e=ur(Math.pow(t,6)),n=this,r="";;){var o=oh(n,e).g;n=rh(n,o.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,jr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function jr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Ln(t){return t.h==-1}V.X=function(t){return t=rh(this,t),Ln(t)?-1:jr(t)?0:1};function St(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(ng)}V.abs=function(){return Ln(this)?St(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var s=r+(this.D(o)&65535)+(t.D(o)&65535),i=(s>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=i>>>16,s&=65535,i&=65535,n[o]=i<<16|s}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function rh(t,e){return t.add(St(e))}V.R=function(t){if(jr(this)||jr(t))return Vi;if(Ln(this))return Ln(t)?St(this).R(St(t)):St(St(this).R(t));if(Ln(t))return St(this.R(St(t)));if(0>this.X(nw)&&0>t.X(nw))return ur(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var s=this.D(r)>>>16,i=this.D(r)&65535,a=t.D(o)>>>16,l=t.D(o)&65535;n[2*r+2*o]+=i*l,Iu(n,2*r+2*o),n[2*r+2*o+1]+=s*l,Iu(n,2*r+2*o+1),n[2*r+2*o+1]+=i*a,Iu(n,2*r+2*o+1),n[2*r+2*o+2]+=s*a,Iu(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function Iu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ga(t,e){this.g=t,this.h=e}function oh(t,e){if(jr(e))throw Error("division by zero");if(jr(t))return new Ga(Vi,Vi);if(Ln(t))return e=oh(St(t),e),new Ga(St(e.g),St(e.h));if(Ln(e))return e=oh(t,St(e)),new Ga(St(e.g),e.h);if(30<t.g.length){if(Ln(t)||Ln(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ng,r=e;0>=r.X(t);)n=rw(n),r=rw(r);var o=ii(n,1),s=ii(r,1);for(r=ii(r,2),n=ii(n,2);!jr(r);){var i=s.add(r);0>=i.X(t)&&(o=o.add(n),s=i),r=ii(r,1),n=ii(n,1)}return e=rh(t,o.R(e)),new Ga(o,e)}for(o=Vi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ur(n),i=s.R(e);Ln(i)||0<i.X(t);)n-=r,s=ur(n),i=s.R(e);jr(s)&&(s=ng),o=o.add(s),t=rh(t,i)}return new Ga(o,t)}V.gb=function(t){return oh(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function rw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function ii(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],s=0;s<r;s++)o[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ee(o,t.h)}nh.prototype.createWebChannel=nh.prototype.g;En.prototype.send=En.prototype.u;En.prototype.open=En.prototype.m;En.prototype.close=En.prototype.close;vf.NO_ERROR=0;vf.TIMEOUT=8;vf.HTTP_ERROR=6;Hb.COMPLETE="complete";qb.EventType=Dc;Dc.OPEN="a";Dc.CLOSE="b";Dc.ERROR="c";Dc.MESSAGE="d";wt.prototype.listen=wt.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;Xn.prototype.digest=Xn.prototype.l;Xn.prototype.reset=Xn.prototype.reset;Xn.prototype.update=Xn.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=ur;Ee.fromString=Ek;var dj=function(){return new nh},hj=function(){return _f()},sm=vf,fj=Hb,pj=Zs,ow={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mj=Fc,Nu=qb,gj=tt,yj=Xn,zi=Ee;const sw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new z0("@firebase/firestore");function iw(){return $s.logLevel}function Z(t,...e){if($s.logLevel<=we.DEBUG){const n=e.map(Cy);$s.debug(`Firestore (${Aa}): ${t}`,...n)}}function Gr(t,...e){if($s.logLevel<=we.ERROR){const n=e.map(Cy);$s.error(`Firestore (${Aa}): ${t}`,...n)}}function ra(t,...e){if($s.logLevel<=we.WARN){const n=e.map(Cy);$s.warn(`Firestore (${Aa}): ${t}`,...n)}}function Cy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: `+t;throw Gr(e),new Error(e)}function De(t,e){t||oe()}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _j{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class vj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wj{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Dr,e.enqueueRetryable(()=>o(this.currentUser))};const i=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Dr)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string"),new Tk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Ot(e)}}class xj{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Cj{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new xj(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kj{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.T;return this.T=s.token,Z("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const o=s=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?o(s):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.T=n.token,new bj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=Sj(40);for(let s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=e.charAt(o[s]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function oa(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new mt(0,0))}static max(){return new ie(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return pc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof pc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const s=e.get(o),i=n.get(o);if(s<i)return-1;if(s>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends pc{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const Ej=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends pc{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return Ej.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const s=()=>{if(r.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new q(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else a==="`"?(i=!i,o++):a!=="."||i?(r+=a,o++):(s(),o++)}if(s(),i)throw new q(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Le.fromString(e))}static fromName(e){return new J(Le.fromString(e).popFirst(5))}static empty(){return new J(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Le(e.slice()))}}function Tj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=ie.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Uo(o,J.empty(),e)}function Ij(t){return new Uo(t.readTime,t.key,-1)}class Uo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Uo(ie.min(),J.empty(),-1)}static max(){return new Uo(ie.max(),J.empty(),-1)}}function Nj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==Aj)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,o)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,o)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let o=0,s=0,i=!1;e.forEach(a=>{++o,a.next(()=>{++s,i&&s===o&&n()},l=>r(l))}),i=!0,s===o&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(o=>o?B.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,s)=>{r.push(n.call(this,o,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,o)=>{const s=e.length,i=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{i[c]=d,++a,a===s&&r(i)},d=>o(d))}})}static doWhile(e,n){return new B((r,o)=>{const s=()=>{e()===!0?n().next(()=>{s()},o):r()};s()})}}function zc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}by.ct=-1;function Tf(t){return t==null}function sh(t){return t===0&&1/t==-1/0}function Rj(t){return typeof t=="number"&&Number.isInteger(t)&&!sh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Au(this.root,e,this.comparator,!1)}getReverseIterator(){return new Au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Au(this.root,e,this.comparator,!0)}}class Au{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&o&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,o,s){this.key=e,this.value=n,this.color=r??kt.RED,this.left=o??kt.EMPTY,this.right=s??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,s){return new kt(e??this.key,n??this.value,r??this.color,o??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return kt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(t,e,n,r,o){return this}insert(t,e,n){return new kt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lw(this.data.getIterator())}getIteratorFrom(e){return new lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new zt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ak("Invalid base64 string: "+o):o}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const jj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(t){if(De(!!t),typeof t=="string"){let e=0;const n=jj.exec(t);if(De(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sy(t){const e=t.mapValue.fields.__previous_value__;return ky(e)?Sy(e):e}function mc(t){const e=Vo(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r,o,s,i,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class gc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ky(t)?4:Oj(t)?9007199254740991:10:oe()}function vr(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Vo(r.timestampValue),i=Vo(o.timestampValue);return s.seconds===i.seconds&&s.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Fs(r.bytesValue).isEqual(Fs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return at(r.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return at(r.integerValue)===at(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=at(r.doubleValue),i=at(o.doubleValue);return s===i?sh(s)===sh(i):isNaN(s)&&isNaN(i)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:return function(r,o){const s=r.mapValue.fields||{},i=o.mapValue.fields||{};if(aw(s)!==aw(i))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(i[a]===void 0||!vr(s[a],i[a])))return!1;return!0}(t,e);default:return oe()}}function yc(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function sa(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const i=at(o.integerValue||o.doubleValue),a=at(s.integerValue||s.doubleValue);return i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1}(t,e);case 3:return cw(t.timestampValue,e.timestampValue);case 4:return cw(mc(t),mc(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(o,s){const i=Fs(o),a=Fs(s);return i.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const i=o.split("/"),a=s.split("/");for(let l=0;l<i.length&&l<a.length;l++){const c=xe(i[l],a[l]);if(c!==0)return c}return xe(i.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const i=xe(at(o.latitude),at(s.latitude));return i!==0?i:xe(at(o.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const i=o.values||[],a=s.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=sa(i[l],a[l]);if(c)return c}return xe(i.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Pu.mapValue&&s===Pu.mapValue)return 0;if(o===Pu.mapValue)return 1;if(s===Pu.mapValue)return-1;const i=o.fields||{},a=Object.keys(i),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){const h=xe(a[d],c[d]);if(h!==0)return h;const f=sa(i[a[d]],l[c[d]]);if(f!==0)return f}return xe(a.length,c.length)}(t.mapValue,e.mapValue);default:throw oe()}}function cw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Vo(t),r=Vo(e),o=xe(n.seconds,r.seconds);return o!==0?o:xe(n.nanos,r.nanos)}function ia(t){return rg(t)}function rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const o=Vo(r);return`time(${o.seconds},${o.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Fs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,J.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let o="[",s=!0;for(const i of r.values||[])s?s=!1:o+=",",o+=rg(i);return o+"]"}(t.arrayValue):"mapValue"in t?function(r){const o=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const a of o)i?i=!1:s+=",",s+=`${a}:${rg(r.fields[a])}`;return s+"}"}(t.mapValue):oe();var e,n}function uw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function og(t){return!!t&&"integerValue"in t}function Ey(t){return!!t&&"arrayValue"in t}function dw(t){return!!t&&"nullValue"in t}function hw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ld(t){return!!t&&"mapValue"in t}function Tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Oj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tl(n)}setAll(e){let n=$t.emptyPath(),r={},o=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}i?r[a.lastSegment()]=Tl(i):o.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,o)}delete(e){const n=this.field(e.popLast());ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];ld(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Xs(n,(o,s)=>e[o]=s);for(const o of r)delete e[o]}clone(){return new un(Tl(this.value))}}function Pk(t){const e=[];return Xs(t.fields,(n,r)=>{const o=new $t([n]);if(ld(r)){const s=Pk(r.mapValue).fields;if(s.length===0)e.push(o);else for(const i of s)e.push(o.child(i))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,o,s,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,ie.min(),ie.min(),ie.min(),un.empty(),0)}static newFoundDocument(e,n,r,o){return new Mt(e,1,n,ie.min(),r,o,0)}static newNoDocument(e,n){return new Mt(e,2,n,ie.min(),ie.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ie.min(),ie.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.position=e,this.inclusive=n}}function fw(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const s=e[o],i=t.position[o];if(s.field.isKeyField()?r=J.comparator(J.fromName(i.referenceValue),n.key):r=sa(i,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function pw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n="asc"){this.field=e,this.dir=n}}function Dj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{}class ct extends Rk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $j(e,n,r):n==="array-contains"?new Uj(e,r):n==="in"?new Vj(e,r):n==="not-in"?new zj(e,r):n==="array-contains-any"?new Hj(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Fj(e,r):new Bj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(sa(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Jn extends Rk{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Jn(e,n)}matches(e){return jk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function jk(t){return t.op==="and"}function Lk(t){return Mj(t)&&jk(t)}function Mj(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function sg(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+ia(t.value);if(Lk(t))return t.filters.map(e=>sg(e)).join(",");{const e=t.filters.map(n=>sg(n)).join(",");return`${t.op}(${e})`}}function Ok(t,e){return t instanceof ct?function(n,r){return r instanceof ct&&n.op===r.op&&n.field.isEqual(r.field)&&vr(n.value,r.value)}(t,e):t instanceof Jn?function(n,r){return r instanceof Jn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((o,s,i)=>o&&Ok(s,r.filters[i]),!0):!1}(t,e):void oe()}function Dk(t){return t instanceof ct?function(e){return`${e.field.canonicalString()} ${e.op} ${ia(e.value)}`}(t):t instanceof Jn?function(e){return e.op.toString()+" {"+e.getFilters().map(Dk).join(" ,")+"}"}(t):"Filter"}class $j extends ct{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class Fj extends ct{constructor(e,n){super(e,"in",n),this.keys=Mk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bj extends ct{constructor(e,n){super(e,"not-in",n),this.keys=Mk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Mk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class Uj extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ey(n)&&yc(n.arrayValue,this.value)}}class Vj extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yc(this.value.arrayValue,n)}}class zj extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yc(this.value.arrayValue,n)}}class Hj extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n=null,r=[],o=[],s=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=s,this.startAt=i,this.endAt=a,this.dt=null}}function mw(t,e=null,n=[],r=[],o=null,s=null,i=null){return new qj(t,e,n,r,o,s,i)}function Ty(t){const e=ce(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ia(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ia(r)).join(",")),e.dt=n}return e.dt}function Iy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Dj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ok(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pw(t.startAt,e.startAt)&&pw(t.endAt,e.endAt)}function ig(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n=null,r=[],o=[],s=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function Wj(t,e,n,r,o,s,i,a){return new Pa(t,e,n,r,o,s,i,a)}function If(t){return new Pa(t)}function gw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ny(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Nf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function $k(t){return t.collectionGroup!==null}function qi(t){const e=ce(t);if(e.wt===null){e.wt=[];const n=Nf(e),r=Ny(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Hi(n)),e.wt.push(new Hi($t.keyField(),"asc"));else{let o=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(o=!0);if(!o){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Hi($t.keyField(),s))}}}return e.wt}function Kr(t){const e=ce(t);if(!e._t)if(e.limitType==="F")e._t=mw(e.path,e.collectionGroup,qi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of qi(e)){const i=s.dir==="desc"?"asc":"desc";n.push(new Hi(s.field,i))}const r=e.endAt?new ih(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ih(e.startAt.position,e.startAt.inclusive):null;e._t=mw(e.path,e.collectionGroup,n,e.filters,e.limit,r,o)}return e._t}function ag(t,e){e.getFirstInequalityField(),Nf(t);const n=t.filters.concat([e]);return new Pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lg(t,e,n){return new Pa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Af(t,e){return Iy(Kr(t),Kr(e))&&t.limitType===e.limitType}function Fk(t){return`${Ty(Kr(t))}|lt:${t.limitType}`}function cg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Dk(r)).join(", ")}]`),Tf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ia(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ia(r)).join(",")),`Target(${n})`}(Kr(t))}; limitType=${t.limitType})`}function Pf(t,e){return e.isFoundDocument()&&function(n,r){const o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):J.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,r){for(const o of qi(n))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const o of n.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(o,s,i){const a=fw(o,s,i);return o.inclusive?a<=0:a<0}(n.startAt,qi(n),r)||n.endAt&&!function(o,s,i){const a=fw(o,s,i);return o.inclusive?a>=0:a>0}(n.endAt,qi(n),r))}(t,e)}function Gj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Bk(t){return(e,n)=>{let r=!1;for(const o of qi(t)){const s=Kj(o,e,n);if(s!==0)return s;r=r||o.field.isKeyField()}return 0}}function Kj(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(o,s,i){const a=s.data.field(o),l=i.data.field(o);return a!==null&&l!==null?sa(a,l):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,s]of r)if(this.equalsFn(o,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return void(o[s]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(n,r)=>{for(const[o,s]of r)e(o,s)})}isEmpty(){return Nk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new Ye(J.comparator);function Yr(){return Yj}const Uk=new Ye(J.comparator);function dl(...t){let e=Uk;for(const n of t)e=e.insert(n.key,n);return e}function Vk(t){let e=Uk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _s(){return Il()}function zk(){return Il()}function Il(){return new Ra(t=>t.toString(),(t,e)=>t.isEqual(e))}const Qj=new Ye(J.comparator),Zj=new zt(J.comparator);function ge(...t){let e=Zj;for(const n of t)e=e.add(n);return e}const Xj=new zt(xe);function Jj(){return Xj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function qk(t){return{integerValue:""+t}}function eL(t,e){return Rj(e)?qk(e):Hk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this._=void 0}}function tL(t,e,n){return t instanceof ah?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&ky(o)&&(o=Sy(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof aa?Gk(t,e):t instanceof la?Kk(t,e):function(r,o){const s=Wk(r,o),i=yw(s)+yw(r.gt);return og(s)&&og(r.gt)?qk(i):Hk(r.serializer,i)}(t,e)}function nL(t,e,n){return t instanceof aa?Gk(t,e):t instanceof la?Kk(t,e):n}function Wk(t,e){return t instanceof lh?og(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ah extends Rf{}class aa extends Rf{constructor(e){super(),this.elements=e}}function Gk(t,e){const n=Yk(e);for(const r of t.elements)n.some(o=>vr(o,r))||n.push(r);return{arrayValue:{values:n}}}class la extends Rf{constructor(e){super(),this.elements=e}}function Kk(t,e){let n=Yk(e);for(const r of t.elements)n=n.filter(o=>!vr(o,r));return{arrayValue:{values:n}}}class lh extends Rf{constructor(e,n){super(),this.serializer=e,this.gt=n}}function yw(t){return at(t.integerValue||t.doubleValue)}function Yk(t){return Ey(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n){this.field=e,this.transform=n}}function rL(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof aa&&r instanceof aa||n instanceof la&&r instanceof la?oa(n.elements,r.elements,vr):n instanceof lh&&r instanceof lh?vr(n.gt,r.gt):n instanceof ah&&r instanceof ah}(t.transform,e.transform)}class oL{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jf{}function Zk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ay(t.key,Mn.none()):new Hc(t.key,t.data,Mn.none());{const n=t.data,r=un.empty();let o=new zt($t.comparator);for(let s of e.fields)if(!o.has(s)){let i=n.field(s);i===null&&s.length>1&&(s=s.popLast(),i=n.field(s)),i===null?r.delete(s):r.set(s,i),o=o.add(s)}return new Xo(t.key,r,new Cn(o.toArray()),Mn.none())}}function sL(t,e,n){t instanceof Hc?function(r,o,s){const i=r.value.clone(),a=vw(r.fieldTransforms,o,s.transformResults);i.setAll(a),o.convertToFoundDocument(s.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Xo?function(r,o,s){if(!cd(r.precondition,o))return void o.convertToUnknownDocument(s.version);const i=vw(r.fieldTransforms,o,s.transformResults),a=o.data;a.setAll(Xk(r)),a.setAll(i),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Nl(t,e,n,r){return t instanceof Hc?function(o,s,i,a){if(!cd(o.precondition,s))return i;const l=o.value.clone(),c=ww(o.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xo?function(o,s,i,a){if(!cd(o.precondition,s))return i;const l=ww(o.fieldTransforms,a,s),c=s.data;return c.setAll(Xk(o)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),i===null?null:i.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,i){return cd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):i}(t,e,n)}function iL(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),s=Wk(r.transform,o||null);s!=null&&(n===null&&(n=un.empty()),n.set(r.field,s))}return n||null}function _w(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&oa(n,r,(o,s)=>rL(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hc extends jf{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xo extends jf{constructor(e,n,r,o,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Xk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vw(t,e,n){const r=new Map;De(t.length===n.length);for(let o=0;o<n.length;o++){const s=t[o],i=s.transform,a=e.data.field(s.field);r.set(s.field,nL(i,a,n[o]))}return r}function ww(t,e,n){const r=new Map;for(const o of t){const s=o.transform,i=n.data.field(o.field);r.set(o.field,tL(s,i,e))}return r}class Ay extends jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aL extends jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(e.key)&&sL(s,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zk();return this.mutations.forEach(o=>{const s=e.get(o.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=n.has(o.key)?null:a;const l=Zk(i,a);l!==null&&r.set(o.key,l),i.isValidDocument()||i.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>_w(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>_w(n,r))}}class Py{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){De(e.mutations.length===r.length);let o=Qj;const s=e.mutations;for(let i=0;i<s.length;i++)o=o.insert(s[i].key,r[i].version);return new Py(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,_e;function dL(t){switch(t){default:return oe();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function Jk(t){if(t===void 0)return Gr("GRPC error has no .code"),L.UNKNOWN;switch(t){case it.OK:return L.OK;case it.CANCELLED:return L.CANCELLED;case it.UNKNOWN:return L.UNKNOWN;case it.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case it.INTERNAL:return L.INTERNAL;case it.UNAVAILABLE:return L.UNAVAILABLE;case it.UNAUTHENTICATED:return L.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case it.NOT_FOUND:return L.NOT_FOUND;case it.ALREADY_EXISTS:return L.ALREADY_EXISTS;case it.PERMISSION_DENIED:return L.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case it.ABORTED:return L.ABORTED;case it.OUT_OF_RANGE:return L.OUT_OF_RANGE;case it.UNIMPLEMENTED:return L.UNIMPLEMENTED;case it.DATA_LOSS:return L.DATA_LOSS;default:return oe()}}(_e=it||(it={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ru}static getOrCreateInstance(){return Ru===null&&(Ru=new Ry),Ru}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ru=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=new zi([4294967295,4294967295],0);function xw(t){const e=hL().encode(t),n=new yj;return n.update(e),new Uint8Array(n.digest())}function Cw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zi([n,r],0),new zi([o,s],0)]}class jy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hl(`Invalid padding: ${n}`);if(r<0)throw new hl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hl(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=zi.fromNumber(this.It)}Et(e,n,r){let o=e.add(n.multiply(zi.fromNumber(r)));return o.compare(fL)===1&&(o=new zi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=xw(e),[r,o]=Cw(n);for(let s=0;s<this.hashCount;s++){const i=this.Et(r,o,s);if(!this.At(i))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new jy(s,o,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.It===0)return;const n=xw(e),[r,o]=Cw(n);for(let s=0;s<this.hashCount;s++){const i=this.Et(r,o,s);this.Rt(i)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,r,o,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lf(ie.min(),o,new Ye(xe),Yr(),ge())}}class qc{constructor(e,n,r,o,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qc(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,o){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=o}}class e9{constructor(e,n){this.targetId=e,this.Vt=n}}class t9{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class bw{constructor(){this.St=0,this.Dt=Sw(),this.Ct=Kt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ge(),n=ge(),r=ge();return this.Dt.forEach((o,s)=>{switch(s){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:oe()}}),new qc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Sw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class pL{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Yr(),this.zt=kw(),this.Wt=new Ye(xe)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,o)=>{this.te(o)&&n(o)})}ne(e){var n;const r=e.targetId,o=e.Vt.count,s=this.se(r);if(s){const i=s.target;if(ig(i))if(o===0){const a=new J(i.path);this.Yt(r,a,Mt.newNoDocument(a,ie.min()))}else De(o===1);else{const a=this.ie(r);if(a!==o){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=Ry.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,h){var f,g,_,w,C,v;const y={localCacheCount:d,existenceFilterCount:h.count},m=h.unchangedNames;return m&&(y.bloomFilter={applied:c===0,hashCount:(f=m==null?void 0:m.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(w=(_=(g=m==null?void 0:m.bits)===null||g===void 0?void 0:g.bitmap)===null||_===void 0?void 0:_.length)!==null&&w!==void 0?w:0,padding:(v=(C=m==null?void 0:m.bits)===null||C===void 0?void 0:C.padding)!==null&&v!==void 0?v:0}),y}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:i=0},hashCount:a=0}=r;let l,c;try{l=Fs(s).toUint8Array()}catch(d){if(d instanceof Ak)return ra("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new jy(l,i,a)}catch(d){return ra(d instanceof hl?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:o!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(s=>{const i=this.Gt.ue(),a=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),o++)}),o}ce(e){const n=new Map;this.Qt.forEach((s,i)=>{const a=this.se(i);if(a){if(s.current&&ig(a.target)){const l=new J(a.target.path);this.jt.get(l)!==null||this.ae(i,l)||this.Yt(i,l,Mt.newNoDocument(l,e))}s.Mt&&(n.set(i,s.Ot()),s.Ft())}});let r=ge();this.zt.forEach((s,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,i)=>i.setReadTime(e));const o=new Lf(e,n,this.Wt,this.jt,r);return this.jt=Yr(),this.zt=kw(),this.Wt=new Ye(xe),o}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,n)?o.Bt(n,1):o.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new bw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new zt(xe),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new bw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function kw(){return new Ye(J.comparator)}function Sw(){return new Ye(J.comparator)}const mL={asc:"ASCENDING",desc:"DESCENDING"},gL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yL={and:"AND",or:"OR"};class _L{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ug(t,e){return t.useProto3Json||Tf(e)?e:{value:e}}function ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vL(t,e){return ch(t,e.toTimestamp())}function yr(t){return De(!!t),ie.fromTimestamp(function(e){const n=Vo(e);return new mt(n.seconds,n.nanos)}(t))}function Ly(t,e){return function(n){return new Le(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function r9(t){const e=Le.fromString(t);return De(a9(e)),e}function dg(t,e){return Ly(t.databaseId,e.path)}function im(t,e){const n=r9(e);if(n.get(1)!==t.databaseId.projectId)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(o9(n))}function hg(t,e){return Ly(t.databaseId,e)}function wL(t){const e=r9(t);return e.length===4?Le.emptyPath():o9(e)}function fg(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o9(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ew(t,e,n){return{name:dg(t,e),fields:n.value.mapValue.fields}}function xL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(De(c===void 0||typeof c=="string"),Kt.fromBase64String(c||"")):(De(c===void 0||c instanceof Uint8Array),Kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(l){const c=l.code===void 0?L.UNKNOWN:Jk(l.code);return new q(c,l.message||"")}(i);n=new t9(r,o,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=im(t,r.document.name),s=yr(r.document.updateTime),i=r.document.createTime?yr(r.document.createTime):ie.min(),a=new un({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(o,s,i,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new ud(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=im(t,r.document),s=r.readTime?yr(r.readTime):ie.min(),i=Mt.newNoDocument(o,s),a=r.removedTargetIds||[];n=new ud([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=im(t,r.document),s=r.removedTargetIds||[];n=new ud([],s,o,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:s}=r,i=new uL(o,s),a=r.targetId;n=new e9(a,i)}}return n}function CL(t,e){let n;if(e instanceof Hc)n={update:Ew(t,e.key,e.value)};else if(e instanceof Ay)n={delete:dg(t,e.key)};else if(e instanceof Xo)n={update:Ew(t,e.key,e.data),updateMask:PL(e.fieldMask)};else{if(!(e instanceof aL))return oe();n={verify:dg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const i=s.transform;if(i instanceof ah)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof aa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof la)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof lh)return{fieldPath:s.field.canonicalString(),increment:i.gt};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:vL(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(t,e.precondition)),n}function bL(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?yr(r.updateTime):yr(o);return s.isEqual(ie.min())&&(s=yr(o)),new oL(s,r.transformResults||[])}(n,e))):[]}function kL(t,e){return{documents:[hg(t,e.path)]}}function SL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=hg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(l){if(l.length!==0)return i9(Jn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:pi(d.field),direction:IL(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const i=ug(t,e.limit);var a;return i!==null&&(n.structuredQuery.limit=i),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function EL(t){let e=wL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){De(r===1);const d=n.from[0];d.allDescendants?o=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(d){const h=s9(d);return h instanceof Jn&&Lk(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=n.orderBy.map(d=>function(h){return new Hi(mi(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Tf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new ih(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new ih(f,h)}(n.endAt)),Wj(e,o,i,s,a,"F",l,c)}function TL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function s9(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=mi(e.unaryFilter.field);return ct.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=mi(e.unaryFilter.field);return ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mi(e.unaryFilter.field);return ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=mi(e.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(e){return ct.create(mi(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Jn.create(e.compositeFilter.filters.map(n=>s9(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return oe()}}(e.compositeFilter.op))}(t):oe()}function IL(t){return mL[t]}function NL(t){return gL[t]}function AL(t){return yL[t]}function pi(t){return{fieldPath:t.canonicalString()}}function mi(t){return $t.fromServerFormat(t.fieldPath)}function i9(t){return t instanceof ct?function(e){if(e.op==="=="){if(hw(e.value))return{unaryFilter:{field:pi(e.field),op:"IS_NAN"}};if(dw(e.value))return{unaryFilter:{field:pi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hw(e.value))return{unaryFilter:{field:pi(e.field),op:"IS_NOT_NAN"}};if(dw(e.value))return{unaryFilter:{field:pi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pi(e.field),op:NL(e.op),value:e.value}}}(t):t instanceof Jn?function(e){const n=e.getFilters().map(r=>i9(r));return n.length===1?n[0]:{compositeFilter:{op:AL(e.op),filters:n}}}(t):oe()}function PL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function a9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,n,r,o,s=ie.min(),i=ie.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.fe=e}}function jL(t){const e=EL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.rn=new OL}addToCollectionParentIndex(e,n){return this.rn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Uo.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Uo.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class OL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new zt(Le.comparator),s=!o.has(r);return this.index[n]=o.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new zt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ca(0)}static Mn(){return new ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.changes=new Ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&Nl(r.mutation,o,Cn.empty(),mt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const o=_s();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(s=>{let i=dl();return s.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=_s();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const o=[];return r.forEach(s=>{n.has(s)||o.push(s)}),this.documentOverlayCache.getOverlays(e,o).next(s=>{s.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,o){let s=Yr();const i=Il(),a=Il();return n.forEach((l,c)=>{const d=r.get(c.key);o.has(c.key)&&(d===void 0||d.mutation instanceof Xo)?s=s.insert(c.key,c):d!==void 0?(i.set(c.key,d.mutation.getFieldMask()),Nl(d.mutation,c,d.mutation.getFieldMask(),mt.now())):i.set(c.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>i.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new ML(d,(h=i.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Il();let o=new Ye((i,a)=>i-a),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Cn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(o.get(a.batchId)||ge()).add(l);o=o.insert(a.batchId,h)})}).next(()=>{const i=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=zk();d.forEach(f=>{if(!s.has(f)){const g=Zk(n.get(f),r.get(f));g!==null&&h.set(f,g),s=s.add(f)}}),i.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$k(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(s=>{const i=o-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-s.size):B.resolve(_s());let a=-1,l=s;return i.next(c=>B.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ge())).next(d=>({batchId:a,changes:Vk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let o=dl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const o=n.collectionGroup;let s=dl();return this.indexManager.getCollectionParents(e,o).next(i=>B.forEach(i,a=>{const l=function(c,d){return new Pa(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o))).next(s=>{o.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Mt.newInvalidDocument(c)))});let i=dl();return s.forEach((a,l)=>{const c=o.get(a);c!==void 0&&Nl(c.mutation,l,Cn.empty(),mt.now()),Pf(n,l)&&(i=i.insert(a,l))}),i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return B.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:yr(r.createTime)}),B.resolve()}getNamedQuery(e,n){return B.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:jL(r.bundledQuery),readTime:yr(r.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.overlays=new Ye(J.comparator),this.ls=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_s();return B.forEach(n,o=>this.getOverlay(e,o).next(s=>{s!==null&&r.set(o,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,s)=>{this.we(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.ls.get(r);return o!==void 0&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const o=_s(),s=n.length+1,i=new J(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&o.set(l.getKey(),l)}return B.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let s=new Ye((c,d)=>c-d);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=_s(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=_s(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=o)););return B.resolve(a)}we(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const i=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new cL(n,r));let s=this.ls.get(n);s===void 0&&(s=ge(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.fs=new zt(yt.ds),this.ws=new zt(yt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new yt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new yt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new J(new Le([])),r=new yt(n,e),o=new yt(n,e+1),s=[];return this.ws.forEachInRange([r,o],i=>{this.ys(i),s.push(i.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new J(new Le([])),r=new yt(n,e),o=new yt(n,e+1);let s=ge();return this.ws.forEachInRange([r,o],i=>{s=s.add(i.key)}),s}containsKey(e){const n=new yt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return J.comparator(e.key,n.key)||xe(e.As,n.As)}static _s(e,n){return xe(e.As,n.As)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new zt(yt.ds)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new lL(s,n,r,o);this.mutationQueue.push(i);for(const a of o)this.Rs=this.Rs.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(i)}lookupMutationBatch(e,n){return B.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.bs(r),s=o<0?0:o;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),o=new yt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,o],i=>{const a=this.Ps(i.As);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(xe);return n.forEach(o=>{const s=new yt(o,0),i=new yt(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,i],a=>{r=r.add(a.As)})}),B.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const i=new yt(new J(s),0);let a=new zt(xe);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===o&&(a=a.add(l.As)),!0)},i),B.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const o=this.Ps(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){De(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return B.forEach(n.mutations,o=>{const s=new yt(o.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new yt(n,0),o=this.Rs.firstAfterOrEqual(r);return B.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e){this.Ds=e,this.docs=new Ye(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),s=o?o.size:0,i=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach(o=>{const s=this.docs.get(o);r=r.insert(o,s?s.document.mutableCopy():Mt.newInvalidDocument(o))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let s=Yr();const i=n.path,a=new J(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||Nj(Ij(d),r)<=0||(o.has(d.key)||Pf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,o){oe()}Cs(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zL(this)}getSize(e){return B.resolve(this.size)}}class zL extends DL{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.persistence=e,this.xs=new Ra(n=>Ty(n),Iy),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Oy,this.targetCount=0,this.Ms=ca.kn()}forEachTarget(e,n){return this.xs.forEach((r,o)=>n(o)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),B.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Fn(n),B.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let o=0;const s=[];return this.xs.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),B.waitFor(s).next(()=>o)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(i=>{s.push(o.markPotentiallyOrphaned(e,i))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n){this.$s={},this.overlays={},this.Os=new by(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new HL(this),this.indexManager=new LL,this.remoteDocumentCache=function(r){return new VL(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new RL(n),this.qs=new FL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new UL(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const o=new WL(this.Os.next());return this.referenceDelegate.Us(),r(o).next(s=>this.referenceDelegate.Ks(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Gs(e,n){return B.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class WL extends Pj{constructor(e){super(),this.currentSequenceNumber=e}}class Dy{constructor(e){this.persistence=e,this.Qs=new Oy,this.js=null}static zs(e){return new Dy(e)}get Ws(){if(this.js)return this.js;throw oe()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),B.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Ws,r=>{const o=J.fromPath(r);return this.Hs(e,o).next(s=>{s||n.removeEntry(o,ie.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return B.or([()=>B.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=o}static Li(e,n){let r=ge(),o=ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new My(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,o){return this.Ki(e,n).next(s=>s||this.Gi(e,n,o,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(gw(n))return B.resolve(null);let r=Kr(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=lg(n,null,"F"),r=Kr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const i=ge(...s);return this.Ui.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,i,l.readTime)?this.Ki(e,lg(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,o){return gw(n)||o.isEqual(ie.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const i=this.ji(n,s);return this.zi(n,i,r,o)?this.Qi(e,n):(iw()<=we.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),cg(n)),this.Wi(e,i,n,Tj(o,-1)))})}ji(e,n){let r=new zt(Bk(e));return n.forEach((o,s)=>{Pf(e,s)&&(r=r.add(s))}),r}zi(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Qi(e,n){return iw()<=we.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",cg(n)),this.Ui.getDocumentsMatchingQuery(e,n,Uo.min())}Wi(e,n,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(s=>(n.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n,r,o){this.persistence=e,this.Hi=n,this.serializer=o,this.Ji=new Ye(xe),this.Yi=new Ra(s=>Ty(s),Iy),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $L(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function YL(t,e,n,r){return new KL(t,e,n,r)}async function l9(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(s=>(o=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const i=[],a=[];let l=ge();for(const c of o){i.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:i,addedBatchIds:a}))})})}function QL(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(i,a,l,c){const d=l.batch,h=d.keys();let f=B.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(a,g)).next(_=>{const w=l.docVersions.get(g);De(w!==null),_.version.compareTo(w)<0&&(d.applyToRemoteDocument(_,l),_.isValidDocument()&&(_.setReadTime(l.commitVersion),c.addEntry(_)))})}),f.next(()=>i.mutationQueue.removeMutationBatch(a,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(i){let a=ge();for(let l=0;l<i.mutationResults.length;++l)i.mutationResults[l].transformResults.length>0&&(a=a.add(i.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function c9(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ZL(t,e){const n=ce(t),r=e.snapshotVersion;let o=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});o=n.Ji;const a=[];e.targetChanges.forEach((d,h)=>{const f=o.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(s,d.addedDocuments,h)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Kt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),o=o.insert(h,g),function(_,w,C){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,g,d)&&a.push(n.Bs.updateTargetData(s,g))});let l=Yr(),c=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(XL(s,i,e.documentUpdates).next(d=>{l=d.nr,c=d.sr})),!r.isEqual(ie.min())){const d=n.Bs.getLastRemoteSnapshotVersion(s).next(h=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>i.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ji=o,s))}function XL(t,e,n){let r=ge(),o=ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let i=Yr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):Z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:i,sr:o}})}function JL(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eO(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Bs.getTargetData(r,e).next(s=>s?(o=s,B.resolve(o)):n.Bs.allocateTargetId(r).next(i=>(o=new ko(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ji.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function pg(t,e,n){const r=ce(t),o=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,i=>r.persistence.referenceDelegate.removeTarget(i,o))}catch(i){if(!zc(i))throw i;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}function Tw(t,e,n){const r=ce(t);let o=ie.min(),s=ge();return r.persistence.runTransaction("Execute query","readonly",i=>function(a,l,c){const d=ce(a),h=d.Yi.get(c);return h!==void 0?B.resolve(d.Ji.get(h)):d.Bs.getTargetData(l,c)}(r,i,Kr(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(i,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(i,e,n?o:ie.min(),n?s:ge())).next(a=>(tO(r,Gj(e),a),{documents:a,ir:s})))}function tO(t,e,n){let r=t.Xi.get(e)||ie.min();n.forEach((o,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class Iw{constructor(){this.activeTargetIds=Jj()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nO{constructor(){this.Hr=new Iw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Iw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function am(){return ju===null?ju=268435456+Math.round(2147483648*Math.random()):ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rt="WebChannelConnection";class iO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,o,s){const i=am(),a=this.To(e,n);Z("RestConnection",`Sending RPC '${e}' ${i}:`,a,r);const l={};return this.Eo(l,o,s),this.Ao(e,a,l,r).then(c=>(Z("RestConnection",`Received RPC '${e}' ${i}: `,c),c),c=>{throw ra("RestConnection",`RPC '${e}' ${i} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,o,s,i){return this.Io(e,n,r,o,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Aa,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}To(e,n){const r=oO[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,o){const s=am();return new Promise((i,a)=>{const l=new gj;l.setWithCredentials(!0),l.listenOnce(fj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sm.NO_ERROR:const d=l.getResponseJson();Z(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),i(d);break;case sm.TIMEOUT:Z(Rt,`RPC '${e}' ${s} timed out`),a(new q(L.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const h=l.getStatus();if(Z(Rt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const _=function(w){const C=w.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(C)>=0?C:L.UNKNOWN}(g.status);a(new q(_,g.message))}else a(new q(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(L.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Z(Rt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(o);Z(Rt,`RPC '${e}' ${s} sending request:`,o),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const o=am(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=dj(),a=hj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new mj({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Z(Rt,`Creating RPC '${e}' stream ${o}: ${d}`,l);const h=i.createWebChannel(d,l);let f=!1,g=!1;const _=new sO({ro:C=>{g?Z(Rt,`Not sending because RPC '${e}' stream ${o} is closed:`,C):(f||(Z(Rt,`Opening RPC '${e}' stream ${o} transport.`),h.open(),f=!0),Z(Rt,`RPC '${e}' stream ${o} sending:`,C),h.send(C))},oo:()=>h.close()}),w=(C,v,y)=>{C.listen(v,m=>{try{y(m)}catch(x){setTimeout(()=>{throw x},0)}})};return w(h,Nu.EventType.OPEN,()=>{g||Z(Rt,`RPC '${e}' stream ${o} transport opened.`)}),w(h,Nu.EventType.CLOSE,()=>{g||(g=!0,Z(Rt,`RPC '${e}' stream ${o} transport closed`),_.wo())}),w(h,Nu.EventType.ERROR,C=>{g||(g=!0,ra(Rt,`RPC '${e}' stream ${o} transport errored:`,C),_.wo(new q(L.UNAVAILABLE,"The operation could not be completed")))}),w(h,Nu.EventType.MESSAGE,C=>{var v;if(!g){const y=C.data[0];De(!!y);const m=y,x=m.error||((v=m[0])===null||v===void 0?void 0:v.error);if(x){Z(Rt,`RPC '${e}' stream ${o} received error:`,x);const k=x.status;let b=function(S){const E=it[S];if(E!==void 0)return Jk(E)}(k),T=x.message;b===void 0&&(b=L.INTERNAL,T="Unknown error status: "+k+" with message "+x.message),g=!0,_.wo(new q(b,T)),h.close()}else Z(Rt,`RPC '${e}' stream ${o} received:`,y),_._o(y)}}),w(a,pj.STAT_EVENT,C=>{C.stat===ow.PROXY?Z(Rt,`RPC '${e}' stream ${o} detected buffering proxy`):C.stat===ow.NOPROXY&&Z(Rt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){return new _L(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e,n,r=1e3,o=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=o,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,n-r);o>0&&Z("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n,r,o,s,i,a,l){this.ii=e,this.$o=r,this.Oo=o,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new u9(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Gr(n.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===n&&this.Zo(r,o)},r=>{e(()=>{const o=new q(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aO extends d9{constructor(e,n,r,o,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=xL(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?yr(s.readTime):ie.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=fg(this.serializer),n.addTarget=function(o,s){let i;const a=s.target;if(i=ig(a)?{documents:kL(o,a)}:{query:SL(o,a)},i.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){i.resumeToken=n9(o,s.resumeToken);const l=ug(o,s.expectedCount);l!==null&&(i.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){i.readTime=ch(o,s.snapshotVersion.toTimestamp());const l=ug(o,s.expectedCount);l!==null&&(i.expectedCount=l)}return i}(this.serializer,e);const r=TL(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=fg(this.serializer),n.removeTarget=e,this.Wo(n)}}class lO extends d9{constructor(e,n,r,o,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,i),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=bL(e.writeResults,e.commitTime),r=yr(e.commitTime);return this.listener.cu(r,n)}return De(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=fg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>CL(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Io(e,n,r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(L.UNKNOWN,o.toString())})}vo(e,n,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.vo(e,n,r,s,i,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(L.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class uO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Gr(n),this.mu=!1):Z("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n,r,o,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(i=>{r.enqueueAndForget(async()=>{Js(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ce(a);l.vu.add(4),await Wc(l),l.bu.set("Unknown"),l.vu.delete(4),await Df(l)}(this))})}),this.bu=new uO(r,o)}}async function Df(t){if(Js(t))for(const e of t.Ru)await e(!0)}async function Wc(t){for(const e of t.Ru)await e(!1)}function h9(t,e){const n=ce(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),By(n)?Fy(n):ja(n).Ko()&&$y(n,e))}function f9(t,e){const n=ce(t),r=ja(n);n.Au.delete(e),r.Ko()&&p9(n,e),n.Au.size===0&&(r.Ko()?r.jo():Js(n)&&n.bu.set("Unknown"))}function $y(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ja(t).su(e)}function p9(t,e){t.Vu.qt(e),ja(t).iu(e)}function Fy(t){t.Vu=new pL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ja(t).start(),t.bu.gu()}function By(t){return Js(t)&&!ja(t).Uo()&&t.Au.size>0}function Js(t){return ce(t).vu.size===0}function m9(t){t.Vu=void 0}async function hO(t){t.Au.forEach((e,n)=>{$y(t,e)})}async function fO(t,e){m9(t),By(t)?(t.bu.Iu(e),Fy(t)):t.bu.set("Unknown")}async function pO(t,e,n){if(t.bu.set("Online"),e instanceof t9&&e.state===2&&e.cause)try{await async function(r,o){const s=o.cause;for(const i of o.targetIds)r.Au.has(i)&&(await r.remoteSyncer.rejectListen(i,s),r.Au.delete(i),r.Vu.removeTarget(i))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uh(t,r)}else if(e instanceof ud?t.Vu.Ht(e):e instanceof e9?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ie.min()))try{const r=await c9(t.localStore);n.compareTo(r)>=0&&await function(o,s){const i=o.Vu.ce(s);return i.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=o.Au.get(l);c&&o.Au.set(l,c.withResumeToken(a.resumeToken,s))}}),i.targetMismatches.forEach((a,l)=>{const c=o.Au.get(a);if(!c)return;o.Au.set(a,c.withResumeToken(Kt.EMPTY_BYTE_STRING,c.snapshotVersion)),p9(o,a);const d=new ko(c.target,a,l,c.sequenceNumber);$y(o,d)}),o.remoteSyncer.applyRemoteEvent(i)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await uh(t,r)}}async function uh(t,e,n){if(!zc(e))throw e;t.vu.add(1),await Wc(t),t.bu.set("Offline"),n||(n=()=>c9(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Df(t)})}function g9(t,e){return e().catch(n=>uh(t,n,e))}async function Mf(t){const e=ce(t),n=zo(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;mO(e);)try{const o=await JL(e.localStore,r);if(o===null){e.Eu.length===0&&n.jo();break}r=o.batchId,gO(e,o)}catch(o){await uh(e,o)}y9(e)&&_9(e)}function mO(t){return Js(t)&&t.Eu.length<10}function gO(t,e){t.Eu.push(e);const n=zo(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function y9(t){return Js(t)&&!zo(t).Uo()&&t.Eu.length>0}function _9(t){zo(t).start()}async function yO(t){zo(t).hu()}async function _O(t){const e=zo(t);for(const n of t.Eu)e.uu(n.mutations)}async function vO(t,e,n){const r=t.Eu.shift(),o=Py.from(r,e,n);await g9(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Mf(t)}async function wO(t,e){e&&zo(t).ou&&await async function(n,r){if(o=r.code,dL(o)&&o!==L.ABORTED){const s=n.Eu.shift();zo(n).Qo(),await g9(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Mf(n)}var o}(t,e),y9(t)&&_9(t)}async function Aw(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=Js(n);n.vu.add(3),await Wc(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Df(n)}async function xO(t,e){const n=ce(t);e?(n.vu.delete(2),await Df(n)):e||(n.vu.add(2),await Wc(n),n.bu.set("Unknown"))}function ja(t){return t.Su||(t.Su=function(e,n,r){const o=ce(e);return o.fu(),new aO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{uo:hO.bind(null,t),ao:fO.bind(null,t),nu:pO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),By(t)?Fy(t):t.bu.set("Unknown")):(await t.Su.stop(),m9(t))})),t.Su}function zo(t){return t.Du||(t.Du=function(e,n,r){const o=ce(e);return o.fu(),new lO(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{uo:yO.bind(null,t),ao:wO.bind(null,t),au:_O.bind(null,t),cu:vO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Mf(t)):(await t.Du.stop(),t.Eu.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,o,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}static createAndSchedule(e,n,r,o,s){const i=Date.now()+r,a=new Uy(e,n,i,o,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(t,e){if(Gr("AsyncQueue",`${e}: ${t}`),zc(t))return new q(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=dl(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Wi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.Cu=new Ye(J.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):oe():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,o,s,i,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,o,s){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new ua(e,n,Wi.emptySet(n),i,r,o,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.Nu=void 0,this.listeners=[]}}class bO{constructor(){this.queries=new Ra(e=>Fk(e),Af),this.onlineState="Unknown",this.ku=new Set}}async function zy(t,e){const n=ce(t),r=e.query;let o=!1,s=n.queries.get(r);if(s||(o=!0,s=new CO),o)try{s.Nu=await n.onListen(r)}catch(i){const a=Vy(i,`Initialization of query '${cg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&qy(n)}async function Hy(t,e){const n=ce(t),r=e.query;let o=!1;const s=n.queries.get(r);if(s){const i=s.listeners.indexOf(e);i>=0&&(s.listeners.splice(i,1),o=s.listeners.length===0)}if(o)return n.queries.delete(r),n.onUnlisten(r)}function kO(t,e){const n=ce(t);let r=!1;for(const o of e){const s=o.query,i=n.queries.get(s);if(i){for(const a of i.listeners)a.$u(o)&&(r=!0);i.Nu=o}}r&&qy(n)}function SO(t,e,n){const r=ce(t),o=r.queries.get(e);if(o)for(const s of o.listeners)s.onError(n);r.queries.delete(e)}function qy(t){t.ku.forEach(e=>{e.next()})}class Wy{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v9{constructor(e){this.key=e}}class w9{constructor(e){this.key=e}}class EO{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ge(),this.mutatedKeys=ge(),this.tc=Bk(e),this.ec=new Wi(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Pw,o=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,i=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,c=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((d,h)=>{const f=o.get(d),g=Pf(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let C=!1;f&&g?f.data.isEqual(g.data)?_!==w&&(r.track({type:3,doc:g}),C=!0):this.rc(f,g)||(r.track({type:2,doc:g}),C=!0,(l&&this.tc(g,l)>0||c&&this.tc(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),C=!0):f&&!g&&(r.track({type:1,doc:f}),C=!0,(l||c)&&(a=!0)),C&&(g?(i=i.add(g),s=w?s.add(d):s.delete(d)):(i=i.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ec:i,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,d)=>function(h,f){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return g(h)-g(f)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(r);const i=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new ua(this.query,e.ec,o,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Pw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ge(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new w9(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new v9(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ge();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ua.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class TO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IO{constructor(e){this.key=e,this.fc=!1}}class NO{constructor(e,n,r,o,s,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new Ra(a=>Fk(a),Af),this._c=new Map,this.mc=new Set,this.gc=new Ye(J.comparator),this.yc=new Map,this.Ic=new Oy,this.Tc={},this.Ec=new Map,this.Ac=ca.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function AO(t,e){const n=BO(t);let r,o;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.lc();else{const i=await eO(n.localStore,Kr(e)),a=n.sharedClientState.addLocalQueryTarget(i.targetId);r=i.targetId,o=await PO(n,e,r,a==="current",i.resumeToken),n.isPrimaryClient&&h9(n.remoteStore,i)}return o}async function PO(t,e,n,r,o){t.Rc=(h,f,g)=>async function(_,w,C,v){let y=w.view.sc(C);y.zi&&(y=await Tw(_.localStore,w.query,!1).then(({documents:k})=>w.view.sc(k,y)));const m=v&&v.targetChanges.get(w.targetId),x=w.view.applyChanges(y,_.isPrimaryClient,m);return jw(_,w.targetId,x.cc),x.snapshot}(t,h,f,g);const s=await Tw(t.localStore,e,!0),i=new EO(e,s.ir),a=i.sc(s.documents),l=qc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),c=i.applyChanges(a,t.isPrimaryClient,l);jw(t,n,c.cc);const d=new TO(e,n,i);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function RO(t,e){const n=ce(t),r=n.wc.get(e),o=n._c.get(r.targetId);if(o.length>1)return n._c.set(r.targetId,o.filter(s=>!Af(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await pg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),f9(n.remoteStore,r.targetId),mg(n,r.targetId)}).catch(Vc)):(mg(n,r.targetId),await pg(n.localStore,r.targetId,!0))}async function jO(t,e,n){const r=UO(t);try{const o=await function(s,i){const a=ce(s),l=mt.now(),c=i.reduce((f,g)=>f.add(g.key),ge());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=Yr(),_=ge();return a.Zi.getEntries(f,c).next(w=>{g=w,g.forEach((C,v)=>{v.isValidDocument()||(_=_.add(C))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,g)).next(w=>{d=w;const C=[];for(const v of i){const y=iL(v,d.get(v.key).overlayedDocument);y!=null&&C.push(new Xo(v.key,y,Pk(y.value.mapValue),Mn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,C,i)}).next(w=>{h=w;const C=w.applyToLocalDocumentSet(d,_);return a.documentOverlayCache.saveOverlays(f,w.batchId,C)})}).then(()=>({batchId:h.batchId,changes:Vk(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(s,i,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new Ye(xe)),l=l.insert(i,a),s.Tc[s.currentUser.toKey()]=l}(r,o.batchId,n),await Gc(r,o.changes),await Mf(r.remoteStore)}catch(o){const s=Vy(o,"Failed to persist write");n.reject(s)}}async function x9(t,e){const n=ce(t);try{const r=await ZL(n.localStore,e);e.targetChanges.forEach((o,s)=>{const i=n.yc.get(s);i&&(De(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?i.fc=!0:o.modifiedDocuments.size>0?De(i.fc):o.removedDocuments.size>0&&(De(i.fc),i.fc=!1))}),await Gc(n,r,e)}catch(r){await Vc(r)}}function Rw(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.wc.forEach((s,i)=>{const a=i.view.Mu(e);a.snapshot&&o.push(a.snapshot)}),function(s,i){const a=ce(s);a.onlineState=i;let l=!1;a.queries.forEach((c,d)=>{for(const h of d.listeners)h.Mu(i)&&(l=!0)}),l&&qy(a)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LO(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.yc.get(e),s=o&&o.key;if(s){let i=new Ye(J.comparator);i=i.insert(s,Mt.newNoDocument(s,ie.min()));const a=ge().add(s),l=new Lf(ie.min(),new Map,new Ye(xe),i,a);await x9(r,l),r.gc=r.gc.remove(s),r.yc.delete(e),Gy(r)}else await pg(r.localStore,e,!1).then(()=>mg(r,e,n)).catch(Vc)}async function OO(t,e){const n=ce(t),r=e.batch.batchId;try{const o=await QL(n.localStore,e);b9(n,r,null),C9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gc(n,o)}catch(o){await Vc(o)}}async function DO(t,e,n){const r=ce(t);try{const o=await function(s,i){const a=ce(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,i).next(d=>(De(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,i)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);b9(r,e,n),C9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gc(r,o)}catch(o){await Vc(o)}}function C9(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function b9(t,e,n){const r=ce(t);let o=r.Tc[r.currentUser.toKey()];if(o){const s=o.get(e);s&&(n?s.reject(n):s.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function mg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||k9(t,r)})}function k9(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(f9(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Gy(t))}function jw(t,e,n){for(const r of n)r instanceof v9?(t.Ic.addReference(r.key,e),MO(t,r)):r instanceof w9?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||k9(t,r.key)):oe()}function MO(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.mc.add(r),Gy(t))}function Gy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new J(Le.fromString(e)),r=t.Ac.next();t.yc.set(r,new IO(n)),t.gc=t.gc.insert(n,r),h9(t.remoteStore,new ko(Kr(If(n.path)),r,"TargetPurposeLimboResolution",by.ct))}}async function Gc(t,e,n){const r=ce(t),o=[],s=[],i=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{i.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){o.push(c);const d=My.Li(l.targetId,c);s.push(d)}}))}),await Promise.all(i),r.dc.nu(o),await async function(a,l){const c=ce(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>B.forEach(l,h=>B.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>B.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!zc(d))throw d;Z("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.Ji.get(h),g=f.snapshotVersion,_=f.withLastLimboFreeSnapshotVersion(g);c.Ji=c.Ji.insert(h,_)}}}(r.localStore,s))}async function $O(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await l9(n.localStore,e);n.currentUser=e,function(o,s){o.Ec.forEach(i=>{i.forEach(a=>{a.reject(new q(L.CANCELLED,s))})}),o.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gc(n,r.er)}}function FO(t,e){const n=ce(t),r=n.yc.get(e);if(r&&r.fc)return ge().add(r.key);{let o=ge();const s=n._c.get(e);if(!s)return o;for(const i of s){const a=n.wc.get(i);o=o.unionWith(a.view.nc)}return o}}function BO(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=x9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LO.bind(null,e),e.dc.nu=kO.bind(null,e.eventManager),e.dc.Pc=SO.bind(null,e.eventManager),e}function UO(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DO.bind(null,e),e}class Lw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Of(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return YL(this.persistence,new GL,e.initialUser,this.serializer)}createPersistence(e){return new qL(Dy.zs,this.serializer)}createSharedClientState(e){return new nO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class VO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$O.bind(null,this.syncEngine),await xO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new bO}createDatastore(e){const n=Of(e.databaseInfo.databaseId),r=(o=e.databaseInfo,new iO(o));var o;return function(s,i,a,l){return new cO(s,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,o=e.asyncQueue,s=a=>Rw(this.syncEngine,a,0),i=Nw.D()?new Nw:new rO,new dO(n,r,o,s,i);var n,r,o,s,i}createSyncEngine(e,n){return function(r,o,s,i,a,l,c){const d=new NO(r,o,s,i,a,l);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ce(e);Z("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Wc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Ot.UNAUTHENTICATED,this.clientId=Ik.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{Z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cm(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await l9(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ow(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qO(t);Z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(o=>Aw(e.remoteStore,o)),t.setAppCheckTokenChangeListener((o,s)=>Aw(e.remoteStore,s)),t._onlineComponents=e}function HO(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await cm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!HO(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await cm(t,new Lw)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await cm(t,new Lw);return t._offlineComponents}async function S9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await Ow(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await Ow(t,new VO))),t._onlineComponents}function WO(t){return S9(t).then(e=>e.syncEngine)}async function dh(t){const e=await S9(t),n=e.eventManager;return n.onListen=AO.bind(null,e.syncEngine),n.onUnlisten=RO.bind(null,e.syncEngine),n}function GO(t,e,n={}){const r=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,i,a,l){const c=new Ky({next:h=>{s.enqueueAndForget(()=>Hy(o,d));const f=h.docs.has(i);!f&&h.fromCache?l.reject(new q(L.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new q(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new Wy(If(i.path),c,{includeMetadataChanges:!0,Ku:!0});return zy(o,d)}(await dh(t),t.asyncQueue,e,n,r)),r.promise}function KO(t,e,n={}){const r=new Dr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,i,a,l){const c=new Ky({next:h=>{s.enqueueAndForget(()=>Hy(o,d)),h.fromCache&&a.source==="server"?l.reject(new q(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new Wy(i,c,{includeMetadataChanges:!0,Ku:!0});return zy(o,d)}(await dh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t,e,n){if(!n)throw new q(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YO(t,e,n,r){if(e===!0&&r===!0)throw new q(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mw(t){if(!J.isDocumentKey(t))throw new q(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $w(t){if(J.isDocumentKey(t))throw new q(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $f(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$f(t);throw new q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Ff{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _j;switch(n.type){case"firstParty":return new Cj(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Dw.get(e);n&&(Z("ComponentProvider","Removing Datastore"),Dw.delete(e),n.terminate())}(this),Promise.resolve()}}function QO(t,e,n,r={}){var o;const s=(t=gn(t,Ff))._getSettings(),i=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==i&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ot.MOCK_USER;else{a=U4(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ot(c)}t._authCredentials=new vj(new Tk(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}}class Jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class Oo extends Jo{constructor(e,n,r){super(e,n,If(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new J(e))}withConverter(e){return new Oo(this.firestore,e,this._path)}}function wr(t,e,...n){if(t=Ae(t),T9("collection","path",e),t instanceof Ff){const r=Le.fromString(e,...n);return $w(r),new Oo(t,null,r)}{if(!(t instanceof Ht||t instanceof Oo))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return $w(r),new Oo(t.firestore,null,r)}}function X(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=Ik.A()),T9("doc","path",e),t instanceof Ff){const r=Le.fromString(e,...n);return Mw(r),new Ht(t,null,new J(r))}{if(!(t instanceof Ht||t instanceof Oo))throw new q(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Mw(r),new Ht(t.firestore,t instanceof Oo?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new u9(this,"async_queue_retry"),this.Xc=()=>{const n=lm();n&&Z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=lm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Dr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!zc(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const o=function(s){let i=s.message||"";return s.stack&&(i=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),i}(r);throw Gr("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const o=Uy.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(o),o}Zc(){this.Wc&&oe()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Bw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of n)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}let Qr=class extends Ff{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new ZO,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||I9(this),this._firestoreClient.terminate()}};function XO(t,e){const n=typeof t=="object"?t:q0(),r=typeof t=="string"?t:"(default)",o=sf(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const s=$4("firestore");s&&QO(o,...s)}return o}function Bf(t){return t._firestoreClient||I9(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function I9(t){var e,n,r;const o=t._freezeSettings(),s=function(i,a,l,c){return new Lj(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,E9(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new zO(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=o.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(Kt.fromBase64String(e))}catch(n){throw new q(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=/^__.*__$/;class eD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hc(e,this.data,n,this.fieldTransforms)}}class N9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function A9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class Vf{constructor(e,n,r,o,s,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Vf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return hh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(A9(this.ca)&&JO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class tD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Of(e)}ya(e,n,r,o=!1){return new Vf({ca:e,methodName:n,ga:r,path:$t.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zf(t){const e=t._freezeSettings(),n=Of(t._databaseId);return new tD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P9(t,e,n,r,o,s={}){const i=t.ya(s.merge||s.mergeFields?2:0,e,n,o);Qy("Data must be an object, but it was:",i,r);const a=j9(r,i);let l,c;if(s.merge)l=new Cn(i.fieldMask),c=i.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=gg(e,h,n);if(!i.contains(f))throw new q(L.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);O9(d,f)||d.push(f)}l=new Cn(d),c=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=i.fieldTransforms;return new eD(new un(a),l,c)}class Hf extends Kc{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hf}}function R9(t,e,n){return new Vf({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class nD extends Kc{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=R9(this,e,!0),r=this.pa.map(s=>ei(s,n)),o=new aa(r);return new Qk(e.path,o)}isEqual(e){return this===e}}class rD extends Kc{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=R9(this,e,!0),r=this.pa.map(s=>ei(s,n)),o=new la(r);return new Qk(e.path,o)}isEqual(e){return this===e}}function oD(t,e,n,r){const o=t.ya(1,e,n);Qy("Data must be an object, but it was:",o,r);const s=[],i=un.empty();Xs(r,(l,c)=>{const d=Zy(e,l,n);c=Ae(c);const h=o.da(d);if(c instanceof Hf)s.push(d);else{const f=ei(c,h);f!=null&&(s.push(d),i.set(d,f))}});const a=new Cn(s);return new N9(i,a,o.fieldTransforms)}function sD(t,e,n,r,o,s){const i=t.ya(1,e,n),a=[gg(e,r,n)],l=[o];if(s.length%2!=0)throw new q(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(gg(e,s[f])),l.push(s[f+1]);const c=[],d=un.empty();for(let f=a.length-1;f>=0;--f)if(!O9(c,a[f])){const g=a[f];let _=l[f];_=Ae(_);const w=i.da(g);if(_ instanceof Hf)c.push(g);else{const C=ei(_,w);C!=null&&(c.push(g),d.set(g,C))}}const h=new Cn(c);return new N9(d,h,i.fieldTransforms)}function iD(t,e,n,r=!1){return ei(n,t.ya(r?4:3,e))}function ei(t,e){if(L9(t=Ae(t)))return Qy("Unsupported field value:",e,t),j9(t,e);if(t instanceof Kc)return function(n,r){if(!A9(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const o=[];let s=0;for(const i of n){let a=ei(i,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),o.push(a),s++}return{arrayValue:{values:o}}}(t,e)}return function(n,r){if((n=Ae(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return eL(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=mt.fromDate(n);return{timestampValue:ch(r.serializer,o)}}if(n instanceof mt){const o=new mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ch(r.serializer,o)}}if(n instanceof Yy)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof da)return{bytesValue:n9(r.serializer,n._byteString)};if(n instanceof Ht){const o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ly(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${$f(n)}`)}(t,e)}function j9(t,e){const n={};return Nk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(t,(r,o)=>{const s=ei(o,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function L9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Yy||t instanceof da||t instanceof Ht||t instanceof Kc)}function Qy(t,e,n){if(!L9(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=$f(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function gg(t,e,n){if((e=Ae(e))instanceof Uf)return e._internalPath;if(typeof e=="string")return Zy(t,e);throw hh("Field path arguments must be of type string or ",t,!1,void 0,n)}const aD=new RegExp("[~\\*/\\[\\]]");function Zy(t,e,n){if(e.search(aD)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uf(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hh(t,e,n,r,o){const s=r&&!r.isEmpty(),i=o!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${r}`),i&&(l+=` in document ${o}`),l+=")"),new q(L.INVALID_ARGUMENT,a+t+l)}function O9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n,r,o,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lD extends D9{data(){return super.data()}}function Xy(t,e){return typeof e=="string"?Zy(t,e):e instanceof Uf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jy{}class $9 extends Jy{}function Yc(t,e,...n){let r=[];e instanceof Jy&&r.push(e),r=r.concat(n),function(o){const s=o.filter(a=>a instanceof t_).length,i=o.filter(a=>a instanceof e_).length;if(s>1||s>0&&i>0)throw new q(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)t=o._apply(t);return t}class e_ extends $9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new e_(e,n,r)}_apply(e){const n=this._parse(e);return F9(e._query,n),new Jo(e.firestore,e.converter,ag(e._query,n))}_parse(e){const n=zf(e.firestore);return function(o,s,i,a,l,c,d){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new q(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Vw(d,c);const f=[];for(const g of d)f.push(Uw(a,o,g));h={arrayValue:{values:f}}}else h=Uw(a,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Vw(d,c),h=iD(i,s,d,c==="in"||c==="not-in");return ct.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class t_ extends Jy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,o){let s=r;const i=o.getFlattenedFilters();for(const a of i)F9(s,a),s=ag(s,a)}(e._query,n),new Jo(e.firestore,e.converter,ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n_ extends $9{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new n_(e,n)}_apply(e){const n=function(r,o,s){if(r.startAt!==null)throw new q(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new q(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Hi(o,s);return function(a,l){if(Ny(a)===null){const c=Nf(a);c!==null&&B9(a,c,l.field)}}(r,i),i}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new Pa(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Qc(t,e="asc"){const n=e,r=Xy("orderBy",t);return n_._create(r,n)}function Uw(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new q(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$k(e)&&n.indexOf("/")!==-1)throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!J.isDocumentKey(r))throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uw(t,new J(r))}if(n instanceof Ht)return uw(t,n._key);throw new q(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$f(n)}.`)}function Vw(t,e){if(!Array.isArray(t)||t.length===0)throw new q(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F9(t,e){if(e.isInequality()){const r=Nf(t),o=e.field;if(r!==null&&!r.isEqual(o))throw new q(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const s=Ny(t);s!==null&&B9(t,o,s)}const n=function(r,o){for(const s of r)for(const i of s.getFlattenedFilters())if(o.indexOf(i.op)>=0)return i.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function B9(t,e,n){if(!n.isEqual(e))throw new q(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cD{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xs(e,(o,s)=>{r[o]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Yy(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=Vo(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);De(a9(r));const o=new gc(r.get(1),r.get(3)),s=new J(r.popFirst(5));return o.isEqual(n)||Gr(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class V9 extends D9{constructor(e,n,r,o,s,i){super(e,n,r,o,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dd extends V9{data(e={}){return super.data(e)}}class z9{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new fl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dd(this._firestore,this._userDataWriter,r.key,r,new fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(i=>{const a=new dd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new fl(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);return i.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(i=>o||i.type!==3).map(i=>{const a=new dd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new fl(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return i.type!==0&&(l=s.indexOf(i.doc.key),s=s.delete(i.doc.key)),i.type!==1&&(s=s.add(i.doc),c=s.indexOf(i.doc.key)),{type:uD(i.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t){t=gn(t,Ht);const e=gn(t.firestore,Qr);return GO(Bf(e),t._key).then(n=>q9(e,t,n))}class r_ extends cD{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function dD(t){t=gn(t,Jo);const e=gn(t.firestore,Qr),n=Bf(e),r=new r_(e);return M9(t._query),KO(n,t._query).then(o=>new z9(e,r,t,o))}function gt(t,e,n){t=gn(t,Ht);const r=gn(t.firestore,Qr),o=U9(t.converter,e,n);return Wf(r,[P9(zf(r),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Mn.none())])}function Ho(t,e,n,...r){t=gn(t,Ht);const o=gn(t.firestore,Qr),s=zf(o);let i;return i=typeof(e=Ae(e))=="string"||e instanceof Uf?sD(s,"updateDoc",t._key,e,n,r):oD(s,"updateDoc",t._key,e),Wf(o,[i.toMutation(t._key,Mn.exists(!0))])}function H9(t){return Wf(gn(t.firestore,Qr),[new Ay(t._key,Mn.none())])}function qf(t,e){const n=gn(t.firestore,Qr),r=X(t),o=U9(t.converter,e);return Wf(n,[P9(zf(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}function La(t,...e){var n,r,o;t=Ae(t);let s={includeMetadataChanges:!1},i=0;typeof e[i]!="object"||Bw(e[i])||(s=e[i],i++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Bw(e[i])){const h=e[i];e[i]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[i+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[i+2]=(o=h.complete)===null||o===void 0?void 0:o.bind(h)}let l,c,d;if(t instanceof Ht)c=gn(t.firestore,Qr),d=If(t._key.path),l={next:h=>{e[i]&&e[i](q9(c,t,h))},error:e[i+1],complete:e[i+2]};else{const h=gn(t,Jo);c=gn(h.firestore,Qr),d=h._query;const f=new r_(c);l={next:g=>{e[i]&&e[i](new z9(c,f,h,g))},error:e[i+1],complete:e[i+2]},M9(t._query)}return function(h,f,g,_){const w=new Ky(_),C=new Wy(f,w,g);return h.asyncQueue.enqueueAndForget(async()=>zy(await dh(h),C)),()=>{w.Dc(),h.asyncQueue.enqueueAndForget(async()=>Hy(await dh(h),C))}}(Bf(c),d,a,l)}function Wf(t,e){return function(n,r){const o=new Dr;return n.asyncQueue.enqueueAndForget(async()=>jO(await WO(n),r,o)),o.promise}(Bf(t),e)}function q9(t,e,n){const r=n.docs.get(e._key),o=new r_(t);return new V9(t,o,e._key,r,new fl(n.hasPendingWrites,n.fromCache),e.converter)}function ls(...t){return new nD("arrayUnion",t)}function hD(...t){return new rD("arrayRemove",t)}(function(t,e=!0){(function(n){Aa=n})(Qs),Os(new Bo("firestore",(n,{instanceIdentifier:r,options:o})=>{const s=n.getProvider("app").getImmediate(),i=new Qr(new wj(n.getProvider("auth-internal")),new kj(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(a.options.projectId,l)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),i._setSettings(o),i},"PUBLIC").setMultipleInstances(!0)),pr(sw,"3.13.0",t),pr(sw,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="firebasestorage.googleapis.com",G9="storageBucket",fD=2*60*1e3,pD=10*60*1e3,mD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends br{constructor(e,n,r=0){super(um(e),`Firebase Storage: ${n} (${um(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return um(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Me;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Me||(Me={}));function um(t){return"storage/"+t}function o_(){const t="An unknown error occurred, please check the error payload for server response.";return new Qe(Me.UNKNOWN,t)}function gD(t){return new Qe(Me.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function yD(t){return new Qe(Me.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function _D(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe(Me.UNAUTHENTICATED,t)}function vD(){return new Qe(Me.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function wD(t){return new Qe(Me.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function K9(){return new Qe(Me.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Y9(){return new Qe(Me.CANCELED,"User canceled the upload/download.")}function xD(t){return new Qe(Me.INVALID_URL,"Invalid URL '"+t+"'.")}function CD(t){return new Qe(Me.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function bD(){return new Qe(Me.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+G9+"' property when initializing the app?")}function Q9(){return new Qe(Me.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kD(){return new Qe(Me.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function SD(){return new Qe(Me.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ED(t){return new Qe(Me.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yg(t){return new Qe(Me.INVALID_ARGUMENT,t)}function Z9(){return new Qe(Me.APP_DELETED,"The Firebase app was deleted.")}function TD(t){return new Qe(Me.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Al(t,e){return new Qe(Me.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ka(t){throw new Qe(Me.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(r.path==="")return r;throw CD(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function s(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+o+i,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${o}/o${f}`,"i"),_={bucket:1,path:3},w=n===W9?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",v=new RegExp(`^https?://${w}/${o}/${C}`,"i"),m=[{regex:a,indices:l,postModify:s},{regex:g,indices:_,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<m.length;x++){const k=m[x],b=k.regex.exec(e);if(b){const T=b[k.indices.bucket];let S=b[k.indices.path];S||(S=""),r=new bn(T,S),k.postModify(r);break}}if(r==null)throw xD(e);return r}}class ID{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t,e,n){let r=1,o=null,s=null,i=!1,a=0;function l(){return a===2}let c=!1;function d(...C){c||(c=!0,e.apply(null,C))}function h(C){o=setTimeout(()=>{o=null,t(g,l())},C)}function f(){s&&clearTimeout(s)}function g(C,...v){if(c){f();return}if(C){f(),d.call(null,C,...v);return}if(l()||i){f(),d.call(null,C,...v);return}r<64&&(r*=2);let m;a===1?(a=2,m=0):m=(r+Math.random())*1e3,h(m)}let _=!1;function w(C){_||(_=!0,f(),!c&&(o!==null?(C||(a=2),clearTimeout(o),h(0)):C||(a=1)))}return h(0),s=setTimeout(()=>{i=!0,w(!0)},n),w}function AD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t){return t!==void 0}function RD(t){return typeof t=="function"}function jD(t){return typeof t=="object"&&!Array.isArray(t)}function Gf(t){return typeof t=="string"||t instanceof String}function zw(t){return s_()&&t instanceof Blob}function s_(){return typeof Blob<"u"&&!MI()}function Hw(t,e,n,r){if(r<e)throw yg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function X9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const o=e(r)+"="+e(t[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Es||(Es={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||o||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n,r,o,s,i,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,_)=>{this.resolve_=g,this.reject_=_,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Lu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const i=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(i),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(i),this.pendingConnection_=null;const a=s.getErrorCode()===Es.NO_ERROR,l=s.getStatus();if(!a||J9(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Es.ABORT;r(!1,new Lu(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Lu(c,s))})},n=(r,o)=>{const s=this.resolve_,i=this.reject_,a=o.connection;if(o.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());PD(l)?s(l):s()}catch(l){i(l)}else if(a!==null){const l=o_();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(o.canceled){const l=this.appDelete_?Z9():Y9();i(l)}else{const l=K9();i(l)}};this.canceled_?n(!1,new Lu(!1,null,!0)):this.backoffId_=ND(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&AD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function OD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function DD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function MD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function $D(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FD(t,e,n,r,o,s,i=!0){const a=X9(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return MD(c,e),OD(c,n),DD(c,s),$D(c,r),new LD(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function UD(...t){const e=BD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(s_())return new Blob(t);throw new Qe(Me.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(t){if(typeof atob>"u")throw ED("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dm{constructor(e,n){this.data=e,this.contentType=n||null}}function HD(t,e){switch(t){case dr.RAW:return new dm(e7(e));case dr.BASE64:case dr.BASE64URL:return new dm(t7(t,e));case dr.DATA_URL:return new dm(WD(e),GD(e))}throw o_()}function e7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,i=t.charCodeAt(++n);r=65536|(s&1023)<<10|i&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function qD(t){let e;try{e=decodeURIComponent(t)}catch{throw Al(dr.DATA_URL,"Malformed data URL.")}return e7(e)}function t7(t,e){switch(t){case dr.BASE64:{const o=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(o||s)throw Al(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case dr.BASE64URL:{const o=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(o||s)throw Al(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zD(e)}catch(o){throw o.message.includes("polyfill")?o:Al(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class n7{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Al(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=KD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function WD(t){const e=new n7(t);return e.base64?t7(dr.BASE64,e.rest):qD(e.rest)}function GD(t){return new n7(t).contentType}function KD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){let r=0,o="";zw(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(zw(this.data_)){const r=this.data_,o=VD(r,e,n);return o===null?null:new Tr(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Tr(r,!0)}}static getBlob(...e){if(s_()){const n=e.map(r=>r instanceof Tr?r.data_:r);return new Tr(UD.apply(null,n))}else{const n=e.map(i=>Gf(i)?HD(dr.RAW,i).data:i.data_);let r=0;n.forEach(i=>{r+=i.byteLength});const o=new Uint8Array(r);let s=0;return n.forEach(i=>{for(let a=0;a<i.length;a++)o[s++]=i[a]}),new Tr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){let e;try{e=JSON.parse(t)}catch{return null}return jD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function QD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function o7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t,e){return e}class Qt{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||ZD}}let Ou=null;function XD(t){return!Gf(t)||t.length<2?t:o7(t)}function Kf(){if(Ou)return Ou;const t=[];t.push(new Qt("bucket")),t.push(new Qt("generation")),t.push(new Qt("metageneration")),t.push(new Qt("name","fullPath",!0));function e(s,i){return XD(i)}const n=new Qt("name");n.xform=e,t.push(n);function r(s,i){return i!==void 0?Number(i):i}const o=new Qt("size");return o.xform=r,t.push(o),t.push(new Qt("timeCreated")),t.push(new Qt("updated")),t.push(new Qt("md5Hash",null,!0)),t.push(new Qt("cacheControl",null,!0)),t.push(new Qt("contentDisposition",null,!0)),t.push(new Qt("contentEncoding",null,!0)),t.push(new Qt("contentLanguage",null,!0)),t.push(new Qt("contentType",null,!0)),t.push(new Qt("metadata","customMetadata",!0)),Ou=t,Ou}function JD(t,e){function n(){const r=t.bucket,o=t.fullPath,s=new bn(r,o);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function eM(t,e,n){const r={};r.type="file";const o=n.length;for(let s=0;s<o;s++){const i=n[s];r[i.local]=i.xform(r,e[i.server])}return JD(r,t),r}function s7(t,e,n){const r=r7(e);return r===null?null:eM(t,r,n)}function tM(t,e,n,r){const o=r7(e);if(o===null||!Gf(o.downloadTokens))return null;const s=o.downloadTokens;if(s.length===0)return null;const i=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+i(d)+"/o/"+i(h),g=Oa(f,n,r),_=X9({alt:"media",token:c});return g+_})[0]}function i7(t,e){const n={},r=e.length;for(let o=0;o<r;o++){const s=e[o];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ti{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t){if(!t)throw o_()}function i_(t,e){function n(r,o){const s=s7(t,o,e);return Mr(s!==null),s}return n}function nM(t,e){function n(r,o){const s=s7(t,o,e);return Mr(s!==null),tM(s,o,t.host,t._protocol)}return n}function Zc(t){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=vD():o=_D():n.getStatus()===402?o=yD(t.bucket):n.getStatus()===403?o=wD(t.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function a_(t){const e=Zc(t);function n(r,o){let s=e(r,o);return r.getStatus()===404&&(s=gD(t.path)),s.serverResponse=o.serverResponse,s}return n}function a7(t,e,n){const r=e.fullServerUrl(),o=Oa(r,t.host,t._protocol),s="GET",i=t.maxOperationRetryTime,a=new ti(o,s,i_(t,n),i);return a.errorHandler=a_(e),a}function rM(t,e,n){const r=e.fullServerUrl(),o=Oa(r,t.host,t._protocol),s="GET",i=t.maxOperationRetryTime,a=new ti(o,s,nM(t,n),i);return a.errorHandler=a_(e),a}function oM(t,e){const n=e.fullServerUrl(),r=Oa(n,t.host,t._protocol),o="DELETE",s=t.maxOperationRetryTime;function i(l,c){}const a=new ti(r,o,i,s);return a.successCodes=[200,204],a.errorHandler=a_(e),a}function sM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function l7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=sM(null,e)),r}function c7(t,e,n,r,o){const s=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let m="";for(let x=0;x<2;x++)m=m+Math.random().toString().slice(2);return m}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const c=l7(e,r,o),d=i7(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=Tr.getBlob(h,r,f);if(g===null)throw Q9();const _={name:c.fullPath},w=Oa(s,t.host,t._protocol),C="POST",v=t.maxUploadRetryTime,y=new ti(w,C,i_(t,n),v);return y.urlParams=_,y.headers=i,y.body=g.uploadData(),y.errorHandler=Zc(e),y}class fh{constructor(e,n,r,o){this.current=e,this.total=n,this.finalized=!!r,this.metadata=o||null}}function l_(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Mr(!1)}return Mr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function iM(t,e,n,r,o){const s=e.bucketOnlyServerUrl(),i=l7(e,r,o),a={name:i.fullPath},l=Oa(s,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},h=i7(i,n),f=t.maxUploadRetryTime;function g(w){l_(w);let C;try{C=w.getResponseHeader("X-Goog-Upload-URL")}catch{Mr(!1)}return Mr(Gf(C)),C}const _=new ti(l,c,g,f);return _.urlParams=a,_.headers=d,_.body=h,_.errorHandler=Zc(e),_}function aM(t,e,n,r){const o={"X-Goog-Upload-Command":"query"};function s(c){const d=l_(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Mr(!1)}h||Mr(!1);const f=Number(h);return Mr(!isNaN(f)),new fh(f,r.size(),d==="final")}const i="POST",a=t.maxUploadRetryTime,l=new ti(n,i,s,a);return l.headers=o,l.errorHandler=Zc(e),l}const qw=256*1024;function lM(t,e,n,r,o,s,i,a){const l=new fh(0,0);if(i?(l.current=i.current,l.total=i.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw kD();const c=l.total-l.current;let d=c;o>0&&(d=Math.min(d,o));const h=l.current,f=h+d;let g="";d===0?g="finalize":c===d?g="upload, finalize":g="upload";const _={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,f);if(w===null)throw Q9();function C(x,k){const b=l_(x,["active","final"]),T=l.current+d,S=r.size();let E;return b==="final"?E=i_(e,s)(x,k):E=null,new fh(T,S,b==="final",E)}const v="POST",y=e.maxUploadRetryTime,m=new ti(n,v,C,y);return m.headers=_,m.body=w.uploadData(),m.progressCallback=a||null,m.errorHandler=Zc(t),m}const ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hm(t){switch(t){case"running":case"pausing":case"canceling":return ln.RUNNING;case"paused":return ln.PAUSED;case"success":return ln.SUCCESS;case"canceled":return ln.CANCELED;case"error":return ln.ERROR;default:return ln.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r){if(RD(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class uM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Es.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Es.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Es.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o){if(this.sent_)throw Ka("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ka("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ka("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ka("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ka("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class dM extends uM{initXhr(){this.xhr_.responseType="text"}}function Ir(){return new dM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Kf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(Me.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(J9(o.status,[]))if(s)o=K9();else{this.sleepTime=Math.max(this.sleepTime*2,mD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(Me.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,s)=>{this._resolve=o,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=iM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ir,e,n);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const o=aM(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(o,Ir,n,r);this._request=s,s.getPromise().then(i=>{i=i,this._request=void 0,this._updateProgress(i.current),this._needToFetchStatus=!1,i.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=qw*this._chunkMultiplier,n=new fh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,s)=>{let i;try{i=lM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(i,Ir,o,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){qw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=a7(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Ir,e,n);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=c7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ir,e,n);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Y9(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=hm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,o){const s=new cM(n||void 0,r||void 0,o||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(hm(this._state)){case ln.SUCCESS:ai(this._resolve.bind(null,this.snapshot))();break;case ln.CANCELED:case ln.ERROR:const n=this._reject;ai(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(hm(this._state)){case ln.RUNNING:case ln.PAUSED:e.next&&ai(e.next.bind(e,this.snapshot))();break;case ln.SUCCESS:e.complete&&ai(e.complete.bind(e))();break;case ln.CANCELED:case ln.ERROR:e.error&&ai(e.error.bind(e,this._error))();break;default:e.error&&ai(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,n){this._service=e,n instanceof bn?this._location=n:this._location=bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Us(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o7(this._location.path)}get storage(){return this._service}get parent(){const e=YD(this._location.path);if(e===null)return null;const n=new bn(this._location.bucket,e);return new Us(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw TD(e)}}function fM(t,e,n){t._throwIfRoot("uploadBytes");const r=c7(t.storage,t._location,Kf(),new Tr(e,!0),n);return t.storage.makeRequestWithTokens(r,Ir).then(o=>({metadata:o,ref:t}))}function pM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new hM(t,new Tr(e),n)}function mM(t){t._throwIfRoot("getMetadata");const e=a7(t.storage,t._location,Kf());return t.storage.makeRequestWithTokens(e,Ir)}function gM(t){t._throwIfRoot("getDownloadURL");const e=rM(t.storage,t._location,Kf());return t.storage.makeRequestWithTokens(e,Ir).then(n=>{if(n===null)throw SD();return n})}function yM(t){t._throwIfRoot("deleteObject");const e=oM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ir)}function _M(t,e){const n=QD(t._location.path,e),r=new bn(t._location.bucket,n);return new Us(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){return/^[A-Za-z]+:\/\//.test(t)}function wM(t,e){return new Us(t,e)}function u7(t,e){if(t instanceof c_){const n=t;if(n._bucket==null)throw bD();const r=new Us(n,n._bucket);return e!=null?u7(r,e):r}else return e!==void 0?_M(t,e):t}function xM(t,e){if(e&&vM(e)){if(t instanceof c_)return wM(t,e);throw yg("To use ref(service, url), the first argument must be a Storage instance.")}else return u7(t,e)}function Ww(t,e){const n=e==null?void 0:e[G9];return n==null?null:bn.makeFromBucketSpec(n,t)}function CM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:U4(o,t.app.options.projectId))}class c_{constructor(e,n,r,o,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=s,this._bucket=null,this._host=W9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=fD,this._maxUploadRetryTime=pD,this._requests=new Set,o!=null?this._bucket=bn.makeFromBucketSpec(o,this._host):this._bucket=Ww(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=Ww(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Us(this,e)}_makeRequest(e,n,r,o,s=!0){if(this._deleted)return new ID(Z9());{const i=FD(e,this._appId,r,o,n,this._firebaseVersion,s);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Gw="@firebase/storage",Kw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7="storage";function Vs(t,e,n){return t=Ae(t),fM(t,e,n)}function bM(t,e,n){return t=Ae(t),pM(t,e,n)}function kM(t){return t=Ae(t),mM(t)}function Zr(t){return t=Ae(t),gM(t)}function SM(t){return t=Ae(t),yM(t)}function xr(t,e){return t=Ae(t),xM(t,e)}function EM(t=q0(),e){t=Ae(t);const r=sf(t,d7).getImmediate({identifier:e}),o=$4("storage");return o&&TM(r,...o),r}function TM(t,e,n,r={}){CM(t,e,n,r)}function IM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new c_(n,r,o,e,Qs)}function NM(){Os(new Bo(d7,IM,"PUBLIC").setMultipleInstances(!0)),pr(Gw,Kw,""),pr(Gw,Kw,"esm2017")}NM();const AM={apiKey:"AIzaSyBBlQca3oj1efZEEjTu1XSmMHRcbGX_Hj8",authDomain:"genery-c83e3.firebaseapp.com",projectId:"genery-c83e3",storageBucket:"genery-c83e3.appspot.com",messagingSenderId:"179227356988",appId:"1:179227356988:web:31e0070216dbb4bf673839"},u_=H4(AM),h7=aR(u_),W=XO(u_),Cr=EM(u_),f7=p.createContext(),PM=({children:t})=>{const[e,n]=p.useState(null);p.useState("");const r=h7;p.useEffect(()=>{const s=KA(r,i=>{i?(async()=>{const l=X(W,"users",i.uid,"info","preferences"),c=await ae(l);if(c.exists()){const d=c.data();console.log(d),n({_id:i.uid,avatar:d.photo,name:d.name,cover:d.cover,mainGroup:d.mainGroup})}else console.log("No such document!")})():n(null)});return()=>{s()}},[]);const o=p.useMemo(()=>({authUser:e,setAuthUser:n,ga:r}),[e]);return u.jsx(f7.Provider,{value:o,children:t})},ue=()=>p.useContext(f7);function RM(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($),{authUser:o}=ue();let s;const i=ye();return p.useEffect(()=>{o?s="/menu":s="/about";const a=setTimeout(()=>{i(s)},3e3);return()=>clearTimeout(a)},[i]),u.jsx("div",{className:bI.container,children:u.jsx(j4,{color:t.icon_color})})}const Ya={"input-container":"_input-container_oontd_1","input-inside":"_input-inside_oontd_10","show-button":"_show-button_oontd_26"};function Ts({type:t,placeholder:e,onInputChange:n,backgroundColor:r,textColor:o}){const{theme:s,elementColors:i,setElementColors:a}=p.useContext($),[l,c]=p.useState(!1);p.useState(!1);const[d,h]=p.useState(!1),f=()=>{c(!l)},g=[u.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M15 10.4C13.9874 10.4 13.0162 10.7793 12.3001 11.4544C11.5841 12.1295 11.1818 13.0452 11.1818 14C11.1818 14.9548 11.5841 15.8705 12.3001 16.5456C13.0162 17.2207 13.9874 17.6 15 17.6C16.0126 17.6 16.9838 17.2207 17.6999 16.5456C18.4159 15.8705 18.8182 14.9548 18.8182 14C18.8182 13.0452 18.4159 12.1295 17.6999 11.4544C16.9838 10.7793 16.0126 10.4 15 10.4ZM15 20C13.3123 20 11.6936 19.3679 10.5002 18.2426C9.30682 17.1174 8.63636 15.5913 8.63636 14C8.63636 12.4087 9.30682 10.8826 10.5002 9.75736C11.6936 8.63214 13.3123 8 15 8C16.6877 8 18.3064 8.63214 19.4998 9.75736C20.6932 10.8826 21.3636 12.4087 21.3636 14C21.3636 15.5913 20.6932 17.1174 19.4998 18.2426C18.3064 19.3679 16.6877 20 15 20ZM15 5C8.63636 5 3.20182 8.732 1 14C3.20182 19.268 8.63636 23 15 23C21.3636 23 26.7982 19.268 29 14C26.7982 8.732 21.3636 5 15 5Z",fill:s.text_first_color})})],_=[u.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M14.7836 10.2632L18.8182 14.0884V13.8947C18.8182 12.9316 18.4159 12.0079 17.6999 11.3268C16.9838 10.6458 16.0126 10.2632 15 10.2632H14.7836ZM9.31091 11.2316L11.2836 13.1079C11.22 13.3621 11.1818 13.6163 11.1818 13.8947C11.1818 14.8579 11.5841 15.7816 12.3001 16.4627C13.0162 17.1437 13.9874 17.5263 15 17.5263C15.28 17.5263 15.56 17.49 15.8273 17.4295L17.8 19.3058C16.9473 19.7053 16.0055 19.9474 15 19.9474C13.3123 19.9474 11.6936 19.3097 10.5002 18.1746C9.30682 17.0395 8.63636 15.5 8.63636 13.8947C8.63636 12.9384 8.89091 12.0426 9.31091 11.2316ZM2.27273 4.53737L5.17455 7.29737L5.74727 7.84211C3.64727 9.41579 1.99273 11.4737 1 13.8947C3.20182 19.2089 8.63636 22.9737 15 22.9737C16.9727 22.9737 18.8564 22.6105 20.5745 21.9568L21.1218 22.4653L24.8382 26L26.4545 24.4626L3.88909 3M15 7.84211C16.6877 7.84211 18.3064 8.47979 19.4998 9.61488C20.6932 10.75 21.3636 12.2895 21.3636 13.8947C21.3636 14.6695 21.1982 15.42 20.9055 16.0979L24.6345 19.6447C26.5436 18.1316 28.0709 16.1463 29 13.8947C26.7982 8.58053 21.3636 4.81579 15 4.81579C13.2182 4.81579 11.5127 5.11842 9.90909 5.66316L12.6709 8.26579C13.3964 7.99947 14.1727 7.84211 15 7.84211Z",fill:s.text_first_color})})];let w=[u.jsx("div",{className:Ya["input-container"],children:u.jsx("input",{className:Ya["input-inside"],type:t,placeholder:e,onChange:n,style:{backgroundColor:r,color:o,caretColor:s.first_color,borderColor:s.first_color,outline:"none"},onFocus:()=>h(!0),onBlur:()=>h(!1)})})];return t==="password"&&(w=[u.jsxs("div",{className:Ya["input-container"],children:[u.jsx("input",{className:Ya["input-inside"],type:l?"text":"password",placeholder:e,onChange:n,style:{backgroundColor:r,color:o,caretColor:s.first_color,borderColor:s.first_color,outline:"none"},onFocus:()=>h(!0),onBlur:()=>h(!1)}),u.jsx("button",{className:Ya["show-button"],onClick:f,children:l?_:g},"")]})]),w}const jM="_container_bxems_1",LM="_greeting_bxems_22",OM="_error_bxems_54",nr={container:jM,"auth-form":"_auth-form_bxems_12",greeting:LM,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:OM,"forgot-password":"_forgot-password_bxems_65","button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"},Yw=[{src:"avatars/1.png"},{src:"avatars/2.png"},{src:"avatars/3.png"},{src:"avatars/4.png"},{src:"avatars/5.png"},{src:"avatars/6.png"},{src:"avatars/7.png"},{src:"avatars/8.png"},{src:"avatars/9.png"},{src:"avatars/10.png"},{src:"avatars/11.png"},{src:"avatars/12.png"},{src:"avatars/13.png"},{src:"avatars/14.png"},{src:"avatars/15.png"},{src:"avatars/16.png"},{src:"avatars/17.png"},{src:"avatars/18.png"},{src:"avatars/19.png"},{src:"avatars/20.png"}];function DM(){const t=()=>{const y=Math.floor(Math.random()*Yw.length);return Yw[y].src},{theme:e,setElementColors:n}=p.useContext($),[r,o]=p.useState(),[s,i]=p.useState(),[a,l]=p.useState(),[c,d]=p.useState(),{authUser:h,setAuthUser:f,ga:g}=ue(),[_,w]=p.useState(t()),C=ye();p.useEffect(()=>{n({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!1,arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!1,footerBackground:e.background_color,activeElementIndex:3,background:e.background_color}),document.body.style.background=e.background_color},[e]);function v(y){if(y.preventDefault(),!r&&!s&&!a){d("введите email и пароль");return}else if(r)if(a){if(!s){d("введите пароль");return}}else{d("введите имя");return}else{d("введите email");return}(async()=>{try{const k=(await HA(g,r,s)).user;console.log(k);const b=X(W,"users",k.uid,"info","preferences");await gt(b,{uid:k.uid,name:a,photo:_,cover:"blue",biography:"",boughtThemes:["default"],boughtColors:["default"],boughtEmojies:[],censorState:!0,balance:1e3,followers:[]},{merge:!0}),console.log("Profile updated successfully"),localStorage.setItem("censor",!0),localStorage.setItem("theme","default"),o(""),i(""),l("")}catch(x){d(x.message),console.error("Error creating user or updating profile: ",x)}})()}return p.useEffect(()=>{h&&C("/menu")},[h]),u.jsx("div",{className:nr.container,children:u.jsxs("form",{className:nr["auth-form"],children:[u.jsxs("div",{className:nr.greeting,children:[u.jsx("h2",{className:nr["greeting-title"],style:{color:e.text_first_color},children:"Давай знакомиться"}),u.jsx("h3",{className:nr["greeting-text"],style:{color:e.text_first_color},children:"Выбери желаемое имя и пароль"})]}),u.jsxs("div",{className:nr["input-container"],children:[u.jsx("div",{className:nr.error,style:{color:e.gradient_first_color},children:c}),u.jsx(Ts,{type:"email",placeholder:"Введите email",onInputChange:y=>o(y.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),u.jsx(Ts,{type:"text",placeholder:"Введите имя",onInputChange:y=>l(y.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),u.jsx(Ts,{type:"password",placeholder:"Введите пароль",onInputChange:y=>i(y.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color})]}),u.jsxs("div",{className:nr["button-container"],children:[u.jsxs("button",{onClick:v,className:nr["continue-button"],style:{background:e.first_color},children:["Регистрация",u.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),u.jsx("button",{className:nr["create-account"],style:{color:e.text_first_color},onClick:()=>C("/sign-in"),children:"Уже есть аккаунт? Войти"})]})]})})}const MM="_container_bxems_1",$M="_greeting_bxems_22",FM="_error_bxems_54",zn={container:MM,"auth-form":"_auth-form_bxems_12",greeting:$M,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:FM,"forgot-password":"_forgot-password_bxems_65","button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function p7(){const{authUser:t,ga:e}=ue(),{theme:n,setElementColors:r}=p.useContext($),[o,s]=p.useState(""),[i,a]=p.useState(""),[l,c]=p.useState(""),d=ye(),h={"auth/invalid-login-credentials":"Неверный email или пароль"};p.useEffect(()=>{r({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!1,arrowColor:n.text_first_color,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!1,footerBackground:n.background_color,activeElementIndex:3,background:n.background_color}),document.body.style.background=n.background_color},[n]);function f(g){g.preventDefault(),!o&&!i?c("введите email и пароль"):o?i||c("введите пароль"):c("введите email"),qA(e,o,i).then(()=>{const _=userCredential.user;console.log(_),s(""),a("")}).then(()=>{console.log("Profile updated successfully")}).catch(_=>{const w=h[_.code]||"Произошла ошибка";c(w)})}return p.useEffect(()=>{t&&d("/menu")},[t]),u.jsx("div",{className:zn.container,children:u.jsxs("form",{className:zn["auth-form"],children:[u.jsxs("div",{className:zn.greeting,children:[u.jsx("h2",{className:zn["greeting-title"],style:{color:n.text_first_color},children:"Представьтесь"}),u.jsx("h3",{className:zn["greeting-text"],style:{color:n.text_first_color},children:"Работа не волк, подождет, а мы нет"})]}),u.jsxs("div",{className:zn["input-container"],children:[u.jsx("div",{className:zn.error,style:{color:n.gradient_first_color},children:l}),u.jsx(Ts,{type:"email",placeholder:"Введите email",onInputChange:g=>s(g.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),u.jsx(Ts,{type:"password",placeholder:"Введите пароль",onInputChange:g=>a(g.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),u.jsx("button",{className:zn["forgot-password"],style:{color:n.text_first_color},children:"Забыли пароль?"})]}),u.jsxs("div",{className:zn["button-container"],children:[u.jsxs("button",{onClick:f,className:zn["continue-button"],style:{background:n.first_color},children:["Войти",u.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),u.jsx("button",{className:zn["create-account"],style:{color:n.text_first_color},onClick:()=>d("/sign-up"),children:"Нет аккаунта? Регистрация"})]})]})})}var m7={},g7={},Yf={},y7={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(y7);var BM="Expected a function",Qw=NaN,UM="[object Symbol]",VM=/^\s+|\s+$/g,zM=/^[-+]0x[0-9a-f]+$/i,HM=/^0b[01]+$/i,qM=/^0o[0-7]+$/i,WM=parseInt,GM=typeof Ve=="object"&&Ve&&Ve.Object===Object&&Ve,KM=typeof self=="object"&&self&&self.Object===Object&&self,YM=GM||KM||Function("return this")(),QM=Object.prototype,ZM=QM.toString,XM=Math.max,JM=Math.min,fm=function(){return YM.Date.now()};function e$(t,e,n){var r,o,s,i,a,l,c=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(BM);e=Zw(e)||0,_g(n)&&(d=!!n.leading,h="maxWait"in n,s=h?XM(Zw(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function g(b){var T=r,S=o;return r=o=void 0,c=b,i=t.apply(S,T),i}function _(b){return c=b,a=setTimeout(v,e),d?g(b):i}function w(b){var T=b-l,S=b-c,E=e-T;return h?JM(E,s-S):E}function C(b){var T=b-l,S=b-c;return l===void 0||T>=e||T<0||h&&S>=s}function v(){var b=fm();if(C(b))return y(b);a=setTimeout(v,w(b))}function y(b){return a=void 0,f&&r?g(b):(r=o=void 0,i)}function m(){a!==void 0&&clearTimeout(a),c=0,r=l=o=a=void 0}function x(){return a===void 0?i:y(fm())}function k(){var b=fm(),T=C(b);if(r=arguments,o=this,l=b,T){if(a===void 0)return _(l);if(h)return a=setTimeout(v,e),g(l)}return a===void 0&&(a=setTimeout(v,e)),i}return k.cancel=m,k.flush=x,k}function _g(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function t$(t){return!!t&&typeof t=="object"}function n$(t){return typeof t=="symbol"||t$(t)&&ZM.call(t)==UM}function Zw(t){if(typeof t=="number")return t;if(n$(t))return Qw;if(_g(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_g(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(VM,"");var n=HM.test(t);return n||qM.test(t)?WM(t.slice(2),n?2:8):zM.test(t)?Qw:+t}var r$=e$,_7={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(s=o(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var i="";for(var a in s)e.call(s,a)&&s[a]&&(i=o(i,a));return i}function o(s,i){return i?s?s+" "+i:s+i:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(_7);var Qf=_7.exports,U={},d_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(p);function n(o){return o&&o.__esModule?o:{default:o}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(d_);Object.defineProperty(U,"__esModule",{value:!0});U.checkSpecKeys=U.checkNavigable=U.changeSlide=U.canUseDOM=U.canGoNext=void 0;U.clamp=w7;U.extractObject=void 0;U.filterSettings=_$;U.validSettings=U.swipeStart=U.swipeMove=U.swipeEnd=U.slidesOnRight=U.slidesOnLeft=U.slideHandler=U.siblingDirection=U.safePreventDefault=U.lazyStartIndex=U.lazySlidesOnRight=U.lazySlidesOnLeft=U.lazyEndIndex=U.keyHandler=U.initializedState=U.getWidth=U.getTrackLeft=U.getTrackCSS=U.getTrackAnimateCSS=U.getTotalSlides=U.getSwipeDirection=U.getSlideCount=U.getRequiredLazySlides=U.getPreClones=U.getPostClones=U.getOnDemandLazySlides=U.getNavigableIndexes=U.getHeight=void 0;var o$=v7(p),s$=v7(d_);function v7(t){return t&&t.__esModule?t:{default:t}}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function Xw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xw(Object(n),!0).forEach(function(r){i$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i$(t,e,n){return e=a$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a$(t){var e=l$(t,"string");return _c(e)=="symbol"?e:String(e)}function l$(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w7(t,e,n){return Math.max(e,Math.min(t,n))}var Gi=U.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},x7=U.getOnDemandLazySlides=function(e){for(var n=[],r=C7(e),o=b7(e),s=r;s<o;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};U.getRequiredLazySlides=function(e){for(var n=[],r=C7(e),o=b7(e),s=r;s<o;s++)n.push(s);return n};var C7=U.lazyStartIndex=function(e){return e.currentSlide-c$(e)},b7=U.lazyEndIndex=function(e){return e.currentSlide+u$(e)},c$=U.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},u$=U.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},vg=U.getWidth=function(e){return e&&e.offsetWidth||0},k7=U.getHeight=function(e){return e&&e.offsetHeight||0},S7=U.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,o,s,i;return r=e.startX-e.curX,o=e.startY-e.curY,s=Math.atan2(o,r),i=Math.round(s*180/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":n===!0?i>=35&&i<=135?"up":"down":"vertical"},E7=U.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};U.extractObject=function(e,n){var r={};return n.forEach(function(o){return r[o]=e[o]}),r};U.initializedState=function(e){var n=o$.default.Children.count(e.children),r=e.listRef,o=Math.ceil(vg(r)),s=e.trackRef&&e.trackRef.node,i=Math.ceil(vg(s)),a;if(e.vertical)a=o;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=o/100),a=Math.ceil((o-l)/e.slidesToShow)}var c=r&&k7(r.querySelector('[data-index="0"]')),d=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var f=e.lazyLoadedList||[],g=x7(Be(Be({},e),{},{currentSlide:h,lazyLoadedList:f}));f=f.concat(g);var _={slideCount:n,slideWidth:a,listWidth:o,trackWidth:i,currentSlide:h,slideHeight:c,listHeight:d,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(_.autoplaying="playing"),_};U.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,o=e.fade,s=e.infinite,i=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,f=e.slidesToShow,g=e.useCSS,_=e.lazyLoadedList;if(n&&r)return{};var w=i,C,v,y,m={},x={},k=s?i:w7(i,0,a-1);if(o){if(!s&&(i<0||i>=a))return{};i<0?w=i+a:i>=a&&(w=i-a),l&&_.indexOf(w)<0&&(_=_.concat(w)),m={animating:!0,currentSlide:w,lazyLoadedList:_,targetSlide:w},x={animating:!1,targetSlide:w}}else C=w,w<0?(C=w+a,s?a%h!==0&&(C=a-a%h):C=0):!E7(e)&&w>c?w=C=c:d&&w>=a?(w=s?a:a-1,C=s?0:a-1):w>=a&&(C=w-a,s?a%h!==0&&(C=0):C=a-f),!s&&w+f>=a&&(C=a-f),v=mh(Be(Be({},e),{},{slideIndex:w})),y=mh(Be(Be({},e),{},{slideIndex:C})),s||(v===y&&(w=C),v=y),l&&(_=_.concat(x7(Be(Be({},e),{},{currentSlide:w})))),g?(m={animating:!0,currentSlide:C,trackStyle:T7(Be(Be({},e),{},{left:v})),lazyLoadedList:_,targetSlide:k},x={animating:!1,currentSlide:C,trackStyle:ph(Be(Be({},e),{},{left:y})),swipeLeft:null,targetSlide:k}):m={currentSlide:C,trackStyle:ph(Be(Be({},e),{},{left:y})),lazyLoadedList:_,targetSlide:k};return{state:m,nextState:x}};U.changeSlide=function(e,n){var r,o,s,i,a,l=e.slidesToScroll,c=e.slidesToShow,d=e.slideCount,h=e.currentSlide,f=e.targetSlide,g=e.lazyLoad,_=e.infinite;if(i=d%l!==0,r=i?0:(d-h)%l,n.message==="previous")s=r===0?l:c-r,a=h-s,g&&!_&&(o=h-s,a=o===-1?d-1:o),_||(a=f-l);else if(n.message==="next")s=r===0?l:r,a=h+s,g&&!_&&(a=(h+l)%d+r),_||(a=f+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,_){var w=p$(Be(Be({},e),{},{targetSlide:a}));a>n.currentSlide&&w==="left"?a=a-d:a<n.currentSlide&&w==="right"&&(a=a+d)}}else n.message==="index"&&(a=Number(n.index));return a};U.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};U.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Gi(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};U.swipeMove=function(e,n){var r=n.scrolling,o=n.animating,s=n.vertical,i=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,c=n.currentSlide,d=n.edgeFriction,h=n.edgeDragged,f=n.onEdge,g=n.swiped,_=n.swiping,w=n.slideCount,C=n.slidesToScroll,v=n.infinite,y=n.touchObject,m=n.swipeEvent,x=n.listHeight,k=n.listWidth;if(!r){if(o)return Gi(e);s&&i&&a&&Gi(e);var b,T={},S=mh(n);y.curX=e.touches?e.touches[0].pageX:e.clientX,y.curY=e.touches?e.touches[0].pageY:e.clientY,y.swipeLength=Math.round(Math.sqrt(Math.pow(y.curX-y.startX,2)));var E=Math.round(Math.sqrt(Math.pow(y.curY-y.startY,2)));if(!a&&!_&&E>10)return{scrolling:!0};a&&(y.swipeLength=E);var I=(l?-1:1)*(y.curX>y.startX?1:-1);a&&(I=y.curY>y.startY?1:-1);var P=Math.ceil(w/C),N=S7(n.touchObject,a),R=y.swipeLength;return v||(c===0&&(N==="right"||N==="down")||c+1>=P&&(N==="left"||N==="up")||!E7(n)&&(N==="left"||N==="up"))&&(R=y.swipeLength*d,h===!1&&f&&(f(N),T.edgeDragged=!0)),!g&&m&&(m(N),T.swiped=!0),s?b=S+R*(x/k)*I:l?b=S-R*I:b=S+R*I,a&&(b=S+R*I),T=Be(Be({},T),{},{touchObject:y,swipeLeft:b,trackStyle:ph(Be(Be({},n),{},{left:b}))}),Math.abs(y.curX-y.startX)<Math.abs(y.curY-y.startY)*.8||y.swipeLength>10&&(T.swiping=!0,Gi(e)),T}};U.swipeEnd=function(e,n){var r=n.dragging,o=n.swipe,s=n.touchObject,i=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,c=n.listHeight,d=n.swipeToSlide,h=n.scrolling,f=n.onSwipe,g=n.targetSlide,_=n.currentSlide,w=n.infinite;if(!r)return o&&Gi(e),{};var C=l?c/a:i/a,v=S7(s,l),y={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return y;if(s.swipeLength>C){Gi(e),f&&f(v);var m,x,k=w?_:g;switch(v){case"left":case"up":x=k+ex(n),m=d?Jw(n,x):x,y.currentDirection=0;break;case"right":case"down":x=k-ex(n),m=d?Jw(n,x):x,y.currentDirection=1;break;default:m=k}y.triggerSlideHandler=m}else{var b=mh(n);y.trackStyle=T7(Be(Be({},n),{},{left:b}))}return y};var d$=U.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,o=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=o+e.slidesToScroll,o+=Math.min(e.slidesToScroll,e.slidesToShow);return s},Jw=U.checkNavigable=function(e,n){var r=d$(e),o=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=o;break}o=r[s]}return n},ex=U.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,o=e.listRef,s=o.querySelectorAll&&o.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+k7(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+vg(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var i=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-i)||1;return a}else return e.slidesToScroll},h_=U.checkSpecKeys=function(e,n){return n.reduce(function(r,o){return r&&e.hasOwnProperty(o)},!0)?null:console.error("Keys Missing:",e)},ph=U.getTrackCSS=function(e){h_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,o=e.slideCount+2*e.slidesToShow;e.vertical?r=o*e.slideHeight:n=f$(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Be(Be({},s),{},{WebkitTransform:i,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},T7=U.getTrackAnimateCSS=function(e){h_(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=ph(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},mh=U.getTrackLeft=function(e){if(e.unslick)return 0;h_(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,o=e.infinite,s=e.centerMode,i=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,g=e.fade,_=e.vertical,w=0,C,v,y=0;if(g||e.slideCount===1)return 0;var m=0;if(o?(m=-hd(e),i%l!==0&&n+l>i&&(m=-(n>i?a-(n-i):i%l)),s&&(m+=parseInt(a/2))):(i%l!==0&&n+l>i&&(m=a-i%l),s&&(m=parseInt(a/2))),w=m*c,y=m*f,_?C=n*f*-1+y:C=n*c*-1+w,h===!0){var x,k=r&&r.node;if(x=n+hd(e),v=k&&k.childNodes[x],C=v?v.offsetLeft*-1:0,s===!0){x=o?n+hd(e):n,v=k&&k.children[x],C=0;for(var b=0;b<x;b++)C-=k&&k.children[b]&&k.children[b].offsetWidth;C-=parseInt(e.centerPadding),C+=v&&(d-v.offsetWidth)/2}}return C},hd=U.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},h$=U.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},f$=U.getTotalSlides=function(e){return e.slideCount===1?1:hd(e)+e.slideCount+h$(e)},p$=U.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+m$(e)?"left":"right":e.targetSlide<e.currentSlide-g$(e)?"right":"left"},m$=U.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,o=e.rtl,s=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(s)>0&&(i+=1),o&&n%2===0&&(i+=1),i}return o?0:n-1},g$=U.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,o=e.rtl,s=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(s)>0&&(i+=1),!o&&n%2===0&&(i+=1),i}return o?n-1:0};U.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var y$=U.validSettings=Object.keys(s$.default);function _$(t){return y$.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Zf={};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.Track=void 0;var uo=I7(p),pm=I7(Qf),mm=U;function I7(t){return t&&t.__esModule?t:{default:t}}function ha(t){"@babel/helpers - typeof";return ha=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function v$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A7(r.key),r)}}function x$(t,e,n){return e&&w$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xg(t,e)}function xg(t,e){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},xg(t,e)}function b$(t){var e=N7();return function(){var r=gh(t),o;if(e){var s=gh(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return k$(this,o)}}function k$(t,e){if(e&&(ha(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cg(t)}function Cg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N7=function(){return!!t})()}function gh(t){return gh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gh(t)}function tx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(n),!0).forEach(function(r){bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bg(t,e,n){return e=A7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A7(t){var e=S$(t,"string");return ha(e)=="symbol"?e:String(e)}function S$(t,e){if(ha(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ha(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gm=function(e){var n,r,o,s,i;e.rtl?i=e.slideCount-1-e.index:i=e.index,o=i<0||i>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(i-e.currentSlide)%e.slideCount===0,i>e.currentSlide-s-1&&i<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=i&&i<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=i===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":o,"slick-current":l}},E$=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},ym=function(e,n){return e.key||n},T$=function(e){var n,r=[],o=[],s=[],i=uo.default.Children.count(e.children),a=(0,mm.lazyStartIndex)(e),l=(0,mm.lazyEndIndex)(e);return uo.default.Children.forEach(e.children,function(c,d){var h,f={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=c:h=uo.default.createElement("div",null);var g=E$(sn(sn({},e),{},{index:d})),_=h.props.className||"",w=gm(sn(sn({},e),{},{index:d}));if(r.push(uo.default.cloneElement(h,{key:"original"+ym(h,d),"data-index":d,className:(0,pm.default)(w,_),tabIndex:"-1","aria-hidden":!w["slick-active"],style:sn(sn({outline:"none"},h.props.style||{}),g),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&e.fade===!1){var C=i-d;C<=(0,mm.getPreClones)(e)&&(n=-C,n>=a&&(h=c),w=gm(sn(sn({},e),{},{index:n})),o.push(uo.default.cloneElement(h,{key:"precloned"+ym(h,n),"data-index":n,tabIndex:"-1",className:(0,pm.default)(w,_),"aria-hidden":!w["slick-active"],style:sn(sn({},h.props.style||{}),g),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(f)}}))),n=i+d,n<l&&(h=c),w=gm(sn(sn({},e),{},{index:n})),s.push(uo.default.cloneElement(h,{key:"postcloned"+ym(h,n),"data-index":n,tabIndex:"-1",className:(0,pm.default)(w,_),"aria-hidden":!w["slick-active"],style:sn(sn({},h.props.style||{}),g),onClick:function(y){h.props&&h.props.onClick&&h.props.onClick(y),e.focusOnSelect&&e.focusOnSelect(f)}}))}}),e.rtl?o.concat(r,s).reverse():o.concat(r,s)};Zf.Track=function(t){C$(n,t);var e=b$(n);function n(){var r;v$(this,n);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return r=e.call.apply(e,[this].concat(s)),bg(Cg(r),"node",null),bg(Cg(r),"handleRef",function(a){r.node=a}),r}return x$(n,[{key:"render",value:function(){var o=T$(this.props),s=this.props,i=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,c={onMouseEnter:i,onMouseOver:a,onMouseLeave:l};return uo.default.createElement("div",wg({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),o)}}]),n}(uo.default.PureComponent);var Xf={};function fa(t){"@babel/helpers - typeof";return fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(t)}Object.defineProperty(Xf,"__esModule",{value:!0});Xf.Dots=void 0;var Du=P7(p),I$=P7(Qf),nx=U;function P7(t){return t&&t.__esModule?t:{default:t}}function rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function N$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(n),!0).forEach(function(r){A$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A$(t,e,n){return e=R7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R7(r.key),r)}}function j$(t,e,n){return e&&R$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R7(t){var e=L$(t,"string");return fa(e)=="symbol"?e:String(e)}function L$(t,e){if(fa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kg(t,e)}function kg(t,e){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},kg(t,e)}function D$(t){var e=j7();return function(){var r=yh(t),o;if(e){var s=yh(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return M$(this,o)}}function M$(t,e){if(e&&(fa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $$(t)}function $$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j7=function(){return!!t})()}function yh(t){return yh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yh(t)}var F$=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};Xf.Dots=function(t){O$(n,t);var e=D$(n);function n(){return P$(this,n),e.apply(this,arguments)}return j$(n,[{key:"clickHandler",value:function(o,s){s.preventDefault(),this.props.clickHandler(o)}},{key:"render",value:function(){for(var o=this.props,s=o.onMouseEnter,i=o.onMouseOver,a=o.onMouseLeave,l=o.infinite,c=o.slidesToScroll,d=o.slidesToShow,h=o.slideCount,f=o.currentSlide,g=F$({slideCount:h,slidesToScroll:c,slidesToShow:d,infinite:l}),_={onMouseEnter:s,onMouseOver:i,onMouseLeave:a},w=[],C=0;C<g;C++){var v=(C+1)*c-1,y=l?v:(0,nx.clamp)(v,0,h-1),m=y-(c-1),x=l?m:(0,nx.clamp)(m,0,h-1),k=(0,I$.default)({"slick-active":l?f>=x&&f<=y:f===x}),b={message:"dots",index:C,slidesToScroll:c,currentSlide:f},T=this.clickHandler.bind(this,b);w=w.concat(Du.default.createElement("li",{key:C,className:k},Du.default.cloneElement(this.props.customPaging(C),{onClick:T})))}return Du.default.cloneElement(this.props.appendDots(w),N$({className:this.props.dotsClass},_))}}]),n}(Du.default.PureComponent);var pa={};function ma(t){"@babel/helpers - typeof";return ma=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ma(t)}Object.defineProperty(pa,"__esModule",{value:!0});pa.PrevArrow=pa.NextArrow=void 0;var Ki=O7(p),L7=O7(Qf),B$=U;function O7(t){return t&&t.__esModule?t:{default:t}}function _h(){return _h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_h.apply(this,arguments)}function ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ox(Object(n),!0).forEach(function(r){U$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U$(t,e,n){return e=$7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$7(r.key),r)}}function M7(t,e,n){return e&&V$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $7(t){var e=z$(t,"string");return ma(e)=="symbol"?e:String(e)}function z$(t,e){if(ma(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ma(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sg(t,e)}function Sg(t,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Sg(t,e)}function B7(t){var e=U7();return function(){var r=wh(t),o;if(e){var s=wh(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return H$(this,o)}}function H$(t,e){if(e&&(ma(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q$(t)}function q$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U7=function(){return!!t})()}function wh(t){return wh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wh(t)}pa.PrevArrow=function(t){F7(n,t);var e=B7(n);function n(){return D7(this,n),e.apply(this,arguments)}return M7(n,[{key:"clickHandler",value:function(o,s){s&&s.preventDefault(),this.props.clickHandler(o,s)}},{key:"render",value:function(){var o={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(o["slick-disabled"]=!0,s=null);var i={key:"0","data-role":"none",className:(0,L7.default)(o),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Ki.default.cloneElement(this.props.prevArrow,vh(vh({},i),a)):l=Ki.default.createElement("button",_h({key:"0",type:"button"},i)," ","Previous"),l}}]),n}(Ki.default.PureComponent);pa.NextArrow=function(t){F7(n,t);var e=B7(n);function n(){return D7(this,n),e.apply(this,arguments)}return M7(n,[{key:"clickHandler",value:function(o,s){s&&s.preventDefault(),this.props.clickHandler(o,s)}},{key:"render",value:function(){var o={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,B$.canGoNext)(this.props)||(o["slick-disabled"]=!0,s=null);var i={key:"1","data-role":"none",className:(0,L7.default)(o),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Ki.default.cloneElement(this.props.nextArrow,vh(vh({},i),a)):l=Ki.default.createElement("button",_h({key:"1",type:"button"},i)," ","Next"),l}}]),n}(Ki.default.PureComponent);var V7=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(o,s){return o[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),o=this.__entries__[r];return o&&o[1]},e.prototype.set=function(n,r){var o=t(this.__entries__,n);~o?this.__entries__[o][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,o=t(r,n);~o&&r.splice(o,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var o=0,s=this.__entries__;o<s.length;o++){var i=s[o];n.call(r,i[1],i[0])}},e}()}(),Eg=typeof window<"u"&&typeof document<"u"&&window.document===document,xh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),W$=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(xh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),G$=2;function K$(t,e){var n=!1,r=!1,o=0;function s(){n&&(n=!1,t()),r&&a()}function i(){W$(s)}function a(){var l=Date.now();if(n){if(l-o<G$)return;r=!0}else n=!0,r=!1,setTimeout(i,e);o=l}return a}var Y$=20,Q$=["top","right","bottom","left","width","height","size","weight"],Z$=typeof MutationObserver<"u",X$=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=K$(this.refresh.bind(this),Y$)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Eg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Z$?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Eg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,o=Q$.some(function(s){return!!~r.indexOf(s)});o&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),z7=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},ga=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||xh},H7=Jf(0,0,0,0);function Ch(t){return parseFloat(t)||0}function sx(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,o){var s=t["border-"+o+"-width"];return r+Ch(s)},0)}function J$(t){for(var e=["top","right","bottom","left"],n={},r=0,o=e;r<o.length;r++){var s=o[r],i=t["padding-"+s];n[s]=Ch(i)}return n}function eF(t){var e=t.getBBox();return Jf(0,0,e.width,e.height)}function tF(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return H7;var r=ga(t).getComputedStyle(t),o=J$(r),s=o.left+o.right,i=o.top+o.bottom,a=Ch(r.width),l=Ch(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=sx(r,"left","right")+s),Math.round(l+i)!==n&&(l-=sx(r,"top","bottom")+i)),!rF(t)){var c=Math.round(a+s)-e,d=Math.round(l+i)-n;Math.abs(c)!==1&&(a-=c),Math.abs(d)!==1&&(l-=d)}return Jf(o.left,o.top,a,l)}var nF=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ga(t).SVGGraphicsElement}:function(t){return t instanceof ga(t).SVGElement&&typeof t.getBBox=="function"}}();function rF(t){return t===ga(t).document.documentElement}function oF(t){return Eg?nF(t)?eF(t):tF(t):H7}function sF(t){var e=t.x,n=t.y,r=t.width,o=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,i=Object.create(s.prototype);return z7(i,{x:e,y:n,width:r,height:o,top:n,right:e+r,bottom:o+n,left:e}),i}function Jf(t,e,n,r){return{x:t,y:e,width:n,height:r}}var iF=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Jf(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=oF(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),aF=function(){function t(e,n){var r=sF(n);z7(this,{target:e,contentRect:r})}return t}(),lF=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new V7,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ga(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new iF(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ga(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new aF(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),q7=typeof WeakMap<"u"?new WeakMap:new V7,W7=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=X$.getInstance(),r=new lF(e,n,this);q7.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){W7.prototype[t]=function(){var e;return(e=q7.get(this))[t].apply(e,arguments)}});var cF=function(){return typeof xh.ResizeObserver<"u"?xh.ResizeObserver:W7}();const uF=Object.freeze(Object.defineProperty({__proto__:null,default:cF},Symbol.toStringTag,{value:"Module"})),dF=Z6(uF);Object.defineProperty(Yf,"__esModule",{value:!0});Yf.InnerSlider=void 0;var Zt=Xc(p),hF=Xc(y7),fF=Xc(r$),pF=Xc(Qf),ze=U,mF=Zf,gF=Xf,ix=pa,yF=Xc(dF);function Xc(t){return t&&t.__esModule?t:{default:t}}function zs(t){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function bh(){return bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bh.apply(this,arguments)}function _F(t,e){if(t==null)return{};var n=vF(t,e),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)r=s[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vF(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function ax(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(n),!0).forEach(function(r){fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K7(r.key),r)}}function CF(t,e,n){return e&&xF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tg(t,e)}function Tg(t,e){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Tg(t,e)}function kF(t){var e=G7();return function(){var r=kh(t),o;if(e){var s=kh(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return SF(this,o)}}function SF(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return he(t)}function he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G7=function(){return!!t})()}function kh(t){return kh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kh(t)}function fe(t,e,n){return e=K7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K7(t){var e=EF(t,"string");return zs(e)=="symbol"?e:String(e)}function EF(t,e){if(zs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Yf.InnerSlider=function(t){bF(n,t);var e=kF(n);function n(r){var o;wF(this,n),o=e.call(this,r),fe(he(o),"listRefHandler",function(i){return o.list=i}),fe(he(o),"trackRefHandler",function(i){return o.track=i}),fe(he(o),"adaptHeight",function(){if(o.props.adaptiveHeight&&o.list){var i=o.list.querySelector('[data-index="'.concat(o.state.currentSlide,'"]'));o.list.style.height=(0,ze.getHeight)(i)+"px"}}),fe(he(o),"componentDidMount",function(){if(o.props.onInit&&o.props.onInit(),o.props.lazyLoad){var i=(0,ze.getOnDemandLazySlides)(te(te({},o.props),o.state));i.length>0&&(o.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(i)}}),o.props.onLazyLoad&&o.props.onLazyLoad(i))}var a=te({listRef:o.list,trackRef:o.track},o.props);o.updateState(a,!0,function(){o.adaptHeight(),o.props.autoplay&&o.autoPlay("update")}),o.props.lazyLoad==="progressive"&&(o.lazyLoadTimer=setInterval(o.progressiveLazyLoad,1e3)),o.ro=new yF.default(function(){o.state.animating?(o.onWindowResized(!1),o.callbackTimers.push(setTimeout(function(){return o.onWindowResized()},o.props.speed))):o.onWindowResized()}),o.ro.observe(o.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=o.props.pauseOnFocus?o.onSlideFocus:null,l.onblur=o.props.pauseOnFocus?o.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",o.onWindowResized):window.attachEvent("onresize",o.onWindowResized)}),fe(he(o),"componentWillUnmount",function(){o.animationEndCallback&&clearTimeout(o.animationEndCallback),o.lazyLoadTimer&&clearInterval(o.lazyLoadTimer),o.callbackTimers.length&&(o.callbackTimers.forEach(function(i){return clearTimeout(i)}),o.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",o.onWindowResized):window.detachEvent("onresize",o.onWindowResized),o.autoplayTimer&&clearInterval(o.autoplayTimer),o.ro.disconnect()}),fe(he(o),"componentDidUpdate",function(i){if(o.checkImagesLoad(),o.props.onReInit&&o.props.onReInit(),o.props.lazyLoad){var a=(0,ze.getOnDemandLazySlides)(te(te({},o.props),o.state));a.length>0&&(o.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),o.props.onLazyLoad&&o.props.onLazyLoad(a))}o.adaptHeight();var l=te(te({listRef:o.list,trackRef:o.track},o.props),o.state),c=o.didPropsChange(i);c&&o.updateState(l,c,function(){o.state.currentSlide>=Zt.default.Children.count(o.props.children)&&o.changeSlide({message:"index",index:Zt.default.Children.count(o.props.children)-o.props.slidesToShow,currentSlide:o.state.currentSlide}),o.props.autoplay?o.autoPlay("update"):o.pause("paused")})}),fe(he(o),"onWindowResized",function(i){o.debouncedResize&&o.debouncedResize.cancel(),o.debouncedResize=(0,fF.default)(function(){return o.resizeWindow(i)},50),o.debouncedResize()}),fe(he(o),"resizeWindow",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(o.track&&o.track.node);if(a){var l=te(te({listRef:o.list,trackRef:o.track},o.props),o.state);o.updateState(l,i,function(){o.props.autoplay?o.autoPlay("update"):o.pause("paused")}),o.setState({animating:!1}),clearTimeout(o.animationEndCallback),delete o.animationEndCallback}}),fe(he(o),"updateState",function(i,a,l){var c=(0,ze.initializedState)(i);i=te(te(te({},i),c),{},{slideIndex:c.currentSlide});var d=(0,ze.getTrackLeft)(i);i=te(te({},i),{},{left:d});var h=(0,ze.getTrackCSS)(i);(a||Zt.default.Children.count(o.props.children)!==Zt.default.Children.count(i.children))&&(c.trackStyle=h),o.setState(c,l)}),fe(he(o),"ssrInit",function(){if(o.props.variableWidth){var i=0,a=0,l=[],c=(0,ze.getPreClones)(te(te(te({},o.props),o.state),{},{slideCount:o.props.children.length})),d=(0,ze.getPostClones)(te(te(te({},o.props),o.state),{},{slideCount:o.props.children.length}));o.props.children.forEach(function(T){l.push(T.props.style.width),i+=T.props.style.width});for(var h=0;h<c;h++)a+=l[l.length-1-h],i+=l[l.length-1-h];for(var f=0;f<d;f++)i+=l[f];for(var g=0;g<o.state.currentSlide;g++)a+=l[g];var _={width:i+"px",left:-a+"px"};if(o.props.centerMode){var w="".concat(l[o.state.currentSlide],"px");_.left="calc(".concat(_.left," + (100% - ").concat(w,") / 2 ) ")}return{trackStyle:_}}var C=Zt.default.Children.count(o.props.children),v=te(te(te({},o.props),o.state),{},{slideCount:C}),y=(0,ze.getPreClones)(v)+(0,ze.getPostClones)(v)+C,m=100/o.props.slidesToShow*y,x=100/y,k=-x*((0,ze.getPreClones)(v)+o.state.currentSlide)*m/100;o.props.centerMode&&(k+=(100-x*m/100)/2);var b={width:m+"%",left:k+"%"};return{slideWidth:x+"%",trackStyle:b}}),fe(he(o),"checkImagesLoad",function(){var i=o.list&&o.list.querySelectorAll&&o.list.querySelectorAll(".slick-slide img")||[],a=i.length,l=0;Array.prototype.forEach.call(i,function(c){var d=function(){return++l&&l>=a&&o.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(f){h(f),c.parentNode.focus()}}c.onload||(o.props.lazyLoad?c.onload=function(){o.adaptHeight(),o.callbackTimers.push(setTimeout(o.onWindowResized,o.props.speed))}:(c.onload=d,c.onerror=function(){d(),o.props.onLazyLoadError&&o.props.onLazyLoadError()}))})}),fe(he(o),"progressiveLazyLoad",function(){for(var i=[],a=te(te({},o.props),o.state),l=o.state.currentSlide;l<o.state.slideCount+(0,ze.getPostClones)(a);l++)if(o.state.lazyLoadedList.indexOf(l)<0){i.push(l);break}for(var c=o.state.currentSlide-1;c>=-(0,ze.getPreClones)(a);c--)if(o.state.lazyLoadedList.indexOf(c)<0){i.push(c);break}i.length>0?(o.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(i)}}),o.props.onLazyLoad&&o.props.onLazyLoad(i)):o.lazyLoadTimer&&(clearInterval(o.lazyLoadTimer),delete o.lazyLoadTimer)}),fe(he(o),"slideHandler",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=o.props,c=l.asNavFor,d=l.beforeChange,h=l.onLazyLoad,f=l.speed,g=l.afterChange,_=o.state.currentSlide,w=(0,ze.slideHandler)(te(te(te({index:i},o.props),o.state),{},{trackRef:o.track,useCSS:o.props.useCSS&&!a})),C=w.state,v=w.nextState;if(C){d&&d(_,C.currentSlide);var y=C.lazyLoadedList.filter(function(m){return o.state.lazyLoadedList.indexOf(m)<0});h&&y.length>0&&h(y),!o.props.waitForAnimate&&o.animationEndCallback&&(clearTimeout(o.animationEndCallback),g&&g(_),delete o.animationEndCallback),o.setState(C,function(){c&&o.asNavForIndex!==i&&(o.asNavForIndex=i,c.innerSlider.slideHandler(i)),v&&(o.animationEndCallback=setTimeout(function(){var m=v.animating,x=_F(v,["animating"]);o.setState(x,function(){o.callbackTimers.push(setTimeout(function(){return o.setState({animating:m})},10)),g&&g(C.currentSlide),delete o.animationEndCallback})},f))})}}),fe(he(o),"changeSlide",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=te(te({},o.props),o.state),c=(0,ze.changeSlide)(l,i);if(!(c!==0&&!c)&&(a===!0?o.slideHandler(c,a):o.slideHandler(c),o.props.autoplay&&o.autoPlay("update"),o.props.focusOnSelect)){var d=o.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),fe(he(o),"clickHandler",function(i){o.clickable===!1&&(i.stopPropagation(),i.preventDefault()),o.clickable=!0}),fe(he(o),"keyHandler",function(i){var a=(0,ze.keyHandler)(i,o.props.accessibility,o.props.rtl);a!==""&&o.changeSlide({message:a})}),fe(he(o),"selectHandler",function(i){o.changeSlide(i)}),fe(he(o),"disableBodyScroll",function(){var i=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=i}),fe(he(o),"enableBodyScroll",function(){window.ontouchmove=null}),fe(he(o),"swipeStart",function(i){o.props.verticalSwiping&&o.disableBodyScroll();var a=(0,ze.swipeStart)(i,o.props.swipe,o.props.draggable);a!==""&&o.setState(a)}),fe(he(o),"swipeMove",function(i){var a=(0,ze.swipeMove)(i,te(te(te({},o.props),o.state),{},{trackRef:o.track,listRef:o.list,slideIndex:o.state.currentSlide}));a&&(a.swiping&&(o.clickable=!1),o.setState(a))}),fe(he(o),"swipeEnd",function(i){var a=(0,ze.swipeEnd)(i,te(te(te({},o.props),o.state),{},{trackRef:o.track,listRef:o.list,slideIndex:o.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,o.setState(a),l!==void 0&&(o.slideHandler(l),o.props.verticalSwiping&&o.enableBodyScroll())}}),fe(he(o),"touchEnd",function(i){o.swipeEnd(i),o.clickable=!0}),fe(he(o),"slickPrev",function(){o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"previous"})},0))}),fe(he(o),"slickNext",function(){o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"next"})},0))}),fe(he(o),"slickGoTo",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i=Number(i),isNaN(i))return"";o.callbackTimers.push(setTimeout(function(){return o.changeSlide({message:"index",index:i,currentSlide:o.state.currentSlide},a)},0))}),fe(he(o),"play",function(){var i;if(o.props.rtl)i=o.state.currentSlide-o.props.slidesToScroll;else if((0,ze.canGoNext)(te(te({},o.props),o.state)))i=o.state.currentSlide+o.props.slidesToScroll;else return!1;o.slideHandler(i)}),fe(he(o),"autoPlay",function(i){o.autoplayTimer&&clearInterval(o.autoplayTimer);var a=o.state.autoplaying;if(i==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(i==="leave"){if(a==="paused"||a==="focused")return}else if(i==="blur"&&(a==="paused"||a==="hovered"))return;o.autoplayTimer=setInterval(o.play,o.props.autoplaySpeed+50),o.setState({autoplaying:"playing"})}),fe(he(o),"pause",function(i){o.autoplayTimer&&(clearInterval(o.autoplayTimer),o.autoplayTimer=null);var a=o.state.autoplaying;i==="paused"?o.setState({autoplaying:"paused"}):i==="focused"?(a==="hovered"||a==="playing")&&o.setState({autoplaying:"focused"}):a==="playing"&&o.setState({autoplaying:"hovered"})}),fe(he(o),"onDotsOver",function(){return o.props.autoplay&&o.pause("hovered")}),fe(he(o),"onDotsLeave",function(){return o.props.autoplay&&o.state.autoplaying==="hovered"&&o.autoPlay("leave")}),fe(he(o),"onTrackOver",function(){return o.props.autoplay&&o.pause("hovered")}),fe(he(o),"onTrackLeave",function(){return o.props.autoplay&&o.state.autoplaying==="hovered"&&o.autoPlay("leave")}),fe(he(o),"onSlideFocus",function(){return o.props.autoplay&&o.pause("focused")}),fe(he(o),"onSlideBlur",function(){return o.props.autoplay&&o.state.autoplaying==="focused"&&o.autoPlay("blur")}),fe(he(o),"render",function(){var i=(0,pF.default)("slick-slider",o.props.className,{"slick-vertical":o.props.vertical,"slick-initialized":!0}),a=te(te({},o.props),o.state),l=(0,ze.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=o.props.pauseOnHover;l=te(te({},l),{},{onMouseEnter:c?o.onTrackOver:null,onMouseLeave:c?o.onTrackLeave:null,onMouseOver:c?o.onTrackOver:null,focusOnSelect:o.props.focusOnSelect&&o.clickable?o.selectHandler:null});var d;if(o.props.dots===!0&&o.state.slideCount>=o.props.slidesToShow){var h=(0,ze.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=o.props.pauseOnDotsHover;h=te(te({},h),{},{clickHandler:o.changeSlide,onMouseEnter:f?o.onDotsLeave:null,onMouseOver:f?o.onDotsOver:null,onMouseLeave:f?o.onDotsLeave:null}),d=Zt.default.createElement(gF.Dots,h)}var g,_,w=(0,ze.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);w.clickHandler=o.changeSlide,o.props.arrows&&(g=Zt.default.createElement(ix.PrevArrow,w),_=Zt.default.createElement(ix.NextArrow,w));var C=null;o.props.vertical&&(C={height:o.state.listHeight});var v=null;o.props.vertical===!1?o.props.centerMode===!0&&(v={padding:"0px "+o.props.centerPadding}):o.props.centerMode===!0&&(v={padding:o.props.centerPadding+" 0px"});var y=te(te({},C),v),m=o.props.touchMove,x={className:"slick-list",style:y,onClick:o.clickHandler,onMouseDown:m?o.swipeStart:null,onMouseMove:o.state.dragging&&m?o.swipeMove:null,onMouseUp:m?o.swipeEnd:null,onMouseLeave:o.state.dragging&&m?o.swipeEnd:null,onTouchStart:m?o.swipeStart:null,onTouchMove:o.state.dragging&&m?o.swipeMove:null,onTouchEnd:m?o.touchEnd:null,onTouchCancel:o.state.dragging&&m?o.swipeEnd:null,onKeyDown:o.props.accessibility?o.keyHandler:null},k={className:i,dir:"ltr",style:o.props.style};return o.props.unslick&&(x={className:"slick-list"},k={className:i}),Zt.default.createElement("div",k,o.props.unslick?"":g,Zt.default.createElement("div",bh({ref:o.listRefHandler},x),Zt.default.createElement(mF.Track,bh({ref:o.trackRefHandler},l),o.props.children)),o.props.unslick?"":_,o.props.unslick?"":d)}),o.list=null,o.track=null,o.state=te(te({},hF.default),{},{currentSlide:o.props.initialSlide,targetSlide:o.props.initialSlide?o.props.initialSlide:0,slideCount:Zt.default.Children.count(o.props.children)}),o.callbackTimers=[],o.clickable=!0,o.debouncedResize=null;var s=o.ssrInit();return o.state=te(te({},o.state),s),o}return CF(n,[{key:"didPropsChange",value:function(o){for(var s=!1,i=0,a=Object.keys(this.props);i<a.length;i++){var l=a[i];if(!o.hasOwnProperty(l)){s=!0;break}if(!(zs(o[l])==="object"||typeof o[l]=="function"||isNaN(o[l]))&&o[l]!==this.props[l]){s=!0;break}}return s||Zt.default.Children.count(this.props.children)!==Zt.default.Children.count(o.children)}}]),n}(Zt.default.Component);var TF=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},IF=TF,NF=IF,AF=function(t){var e=/[height|width]$/;return e.test(t)},lx=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,o){var s=t[r];r=NF(r),AF(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",o<n.length-1&&(e+=" and ")}),e},PF=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=lx(n),r<t.length-1&&(e+=", ")}),e):lx(t)},RF=PF,_m,cx;function jF(){if(cx)return _m;cx=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},_m=t,_m}var vm,ux;function Y7(){if(ux)return vm;ux=1;function t(r,o){var s=0,i=r.length,a;for(s;s<i&&(a=o(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return vm={isFunction:n,isArray:e,each:t},vm}var wm,dx;function LF(){if(dx)return wm;dx=1;var t=jF(),e=Y7().each;function n(r,o){this.query=r,this.isUnconditional=o,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(i){s.mql=i.currentTarget||i,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var o=new t(r);this.handlers.push(o),this.matches()&&o.on()},removeHandler:function(r){var o=this.handlers;e(o,function(s,i){if(s.equals(r))return s.destroy(),!o.splice(i,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(o){o[r]()})}},wm=n,wm}var xm,hx;function OF(){if(hx)return xm;hx=1;var t=LF(),e=Y7(),n=e.each,r=e.isFunction,o=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(i,a,l){var c=this.queries,d=l&&this.browserIsIncapable;return c[i]||(c[i]=new t(i,d)),r(a)&&(a={match:a}),o(a)||(a=[a]),n(a,function(h){r(h)&&(h={match:h}),c[i].addHandler(h)}),this},unregister:function(i,a){var l=this.queries[i];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[i])),this}},xm=s,xm}var Cm,fx;function DF(){if(fx)return Cm;fx=1;var t=OF();return Cm=new t,Cm}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(p),n=Yf,r=i(RF),o=i(d_),s=U;function i(E){return E&&E.__esModule?E:{default:E}}function a(E){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},a(E)}function l(){return l=Object.assign?Object.assign.bind():function(E){for(var I=1;I<arguments.length;I++){var P=arguments[I];for(var N in P)Object.prototype.hasOwnProperty.call(P,N)&&(E[N]=P[N])}return E},l.apply(this,arguments)}function c(E,I){var P=Object.keys(E);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);I&&(N=N.filter(function(R){return Object.getOwnPropertyDescriptor(E,R).enumerable})),P.push.apply(P,N)}return P}function d(E){for(var I=1;I<arguments.length;I++){var P=arguments[I]!=null?arguments[I]:{};I%2?c(Object(P),!0).forEach(function(N){k(E,N,P[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(P)):c(Object(P)).forEach(function(N){Object.defineProperty(E,N,Object.getOwnPropertyDescriptor(P,N))})}return E}function h(E,I){if(!(E instanceof I))throw new TypeError("Cannot call a class as a function")}function f(E,I){for(var P=0;P<I.length;P++){var N=I[P];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,b(N.key),N)}}function g(E,I,P){return I&&f(E.prototype,I),Object.defineProperty(E,"prototype",{writable:!1}),E}function _(E,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(I&&I.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),I&&w(E,I)}function w(E,I){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,R){return N.__proto__=R,N},w(E,I)}function C(E){var I=m();return function(){var N=x(E),R;if(I){var j=x(this).constructor;R=Reflect.construct(N,arguments,j)}else R=N.apply(this,arguments);return v(this,R)}}function v(E,I){if(I&&(a(I)==="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(E)}function y(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function m(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m=function(){return!!E})()}function x(E){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},x(E)}function k(E,I,P){return I=b(I),I in E?Object.defineProperty(E,I,{value:P,enumerable:!0,configurable:!0,writable:!0}):E[I]=P,E}function b(E){var I=T(E,"string");return a(I)=="symbol"?I:String(I)}function T(E,I){if(a(E)!="object"||!E)return E;var P=E[Symbol.toPrimitive];if(P!==void 0){var N=P.call(E,I||"default");if(a(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(E)}var S=(0,s.canUseDOM)()&&DF();t.default=function(E){_(P,E);var I=C(P);function P(N){var R;return h(this,P),R=I.call(this,N),k(y(R),"innerSliderRefHandler",function(j){return R.innerSlider=j}),k(y(R),"slickPrev",function(){return R.innerSlider.slickPrev()}),k(y(R),"slickNext",function(){return R.innerSlider.slickNext()}),k(y(R),"slickGoTo",function(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return R.innerSlider.slickGoTo(j,O)}),k(y(R),"slickPause",function(){return R.innerSlider.pause("paused")}),k(y(R),"slickPlay",function(){return R.innerSlider.autoPlay("play")}),R.state={breakpoint:null},R._responsiveMediaHandlers=[],R}return g(P,[{key:"media",value:function(R,j){S.register(R,j),this._responsiveMediaHandlers.push({query:R,handler:j})}},{key:"componentDidMount",value:function(){var R=this;if(this.props.responsive){var j=this.props.responsive.map(function(M){return M.breakpoint});j.sort(function(M,z){return M-z}),j.forEach(function(M,z){var A;z===0?A=(0,r.default)({minWidth:0,maxWidth:M}):A=(0,r.default)({minWidth:j[z-1]+1,maxWidth:M}),(0,s.canUseDOM)()&&R.media(A,function(){R.setState({breakpoint:M})})});var O=(0,r.default)({minWidth:j.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(O,function(){R.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(R){S.unregister(R.query,R.handler)})}},{key:"render",value:function(){var R=this,j,O;this.state.breakpoint?(O=this.props.responsive.filter(function($e){return $e.breakpoint===R.state.breakpoint}),j=O[0].settings==="unslick"?"unslick":d(d(d({},o.default),this.props),O[0].settings)):j=d(d({},o.default),this.props),j.centerMode&&(j.slidesToScroll>1,j.slidesToScroll=1),j.fade&&(j.slidesToShow>1,j.slidesToScroll>1,j.slidesToShow=1,j.slidesToScroll=1);var M=e.default.Children.toArray(this.props.children);M=M.filter(function($e){return typeof $e=="string"?!!$e.trim():!!$e}),j.variableWidth&&(j.rows>1||j.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),j.variableWidth=!1);for(var z=[],A=null,D=0;D<M.length;D+=j.rows*j.slidesPerRow){for(var G=[],ee=D;ee<D+j.rows*j.slidesPerRow;ee+=j.slidesPerRow){for(var be=[],le=ee;le<ee+j.slidesPerRow&&(j.variableWidth&&M[le].props.style&&(A=M[le].props.style.width),!(le>=M.length));le+=1)be.push(e.default.cloneElement(M[le],{key:100*D+10*ee+le,tabIndex:-1,style:{width:"".concat(100/j.slidesPerRow,"%"),display:"inline-block"}}));G.push(e.default.createElement("div",{key:10*D+ee},be))}j.variableWidth?z.push(e.default.createElement("div",{key:D,style:{width:A}},G)):z.push(e.default.createElement("div",{key:D},G))}if(j==="unslick"){var de="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:de},M)}else z.length<=j.slidesToShow&&!j.infinite&&(j.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(j)),z)}}]),P}(e.default.Component)})(g7);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(g7);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(m7);const MF=$h(m7);function $F(t){const{className:e,style:n,onClick:r}=t;return u.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function FF(t){const{className:e,style:n,onClick:r}=t;return u.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function BF(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),[r,o]=p.useState(0);p.useEffect(()=>{const i=document.querySelector(".slick-active"),a=parseInt(i.getAttribute("data-index")),l=["#C3F82B","#FF4365","#0040F9"],c={0:{iconColor:"#0A0B10",titleColor:"#0A0B10",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},1:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},2:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0}};document.body.style.background=l[a],document.body.style.transition="0.5s",n(c[a])},[r]);const s={customPaging:function(i){return u.jsx("a",{children:u.jsx("div",{className:"dots"})})},dots:!0,dotsClass:"slick-dots slick-thumb",infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:u.jsx($F,{}),prevArrow:u.jsx(FF,{}),afterChange:i=>{o(i)}};return u.jsx("div",{className:"slider_container",children:u.jsxs(MF,{...s,children:[u.jsx("div",{children:u.jsxs("div",{className:"info_container",children:[u.jsx("div",{className:"image_container",children:u.jsx("img",{src:"1.png"})}),u.jsx("h2",{className:"title black",children:"Играй. Общайся. Развивайся."}),u.jsx("h3",{className:"text black",children:"Выигрывай в гонке или проигрывай все в казино."})]})}),u.jsx("div",{children:u.jsxs("div",{className:"info_container",children:[u.jsx("div",{className:"image_container",children:u.jsx("img",{src:"2.png"})}),u.jsx("h2",{className:"title white",children:"Учить - не значит запомнить"}),u.jsx("h3",{className:"text white",children:"Эту и многие другие цитаты ты узнаешь"})]})}),u.jsx("div",{children:u.jsxs("div",{className:"info_container",children:[u.jsx("div",{className:"image_container",children:u.jsx("img",{src:"3.png"})}),u.jsx("h2",{className:"title white",children:"Я забыл права дома. Честно"}),u.jsx("h3",{className:"text white",children:"Вот ты и попался, а использовал бы наши причины, мог быть на свободе"})]})})]})})}const UF="_button_rb0y4_1",VF="_arrow_rb0y4_18",px={button:UF,arrow:VF};function zF({linkTo:t,name:e}){const n=ye(),r=()=>{n(t)};return u.jsxs("button",{className:px.button,onClick:r,children:[e,u.jsx("div",{className:px.arrow,children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:"white"})})})]})}const HF="_container_8awvt_1",qF="_button_container_8awvt_13",mx={container:HF,button_container:qF};function WF({setHeaderColor:t}){return ue(),ye(),p.useState(0),u.jsxs("div",{className:mx.container,children:[u.jsx(BF,{}),u.jsx("div",{className:mx.button_container,children:u.jsx(zF,{name:"Начать",linkTo:"/sign-in"})})]})}const GF="_block_is8th_1",KF="_info_is8th_17",YF="_title_is8th_24",QF="_text_is8th_30",ZF="_default_arrow_is8th_56",XF="_circle_arrow_is8th_70",li={block:GF,info:KF,title:YF,text:QF,"arrow-container":"_arrow-container_is8th_36","circle-arrow":"_circle-arrow_is8th_43",default_arrow:ZF,circle_arrow:XF};function ir({backgroundColor:t,isBorder:e,borderColor:n,textColor:r,name:o,description:s,linkTo:i,arrowBackgroundColor:a,arrowColor:l}){const c=ye(),d=()=>{c(i)};return u.jsxs("div",{className:li.block,style:{background:t,transition:"0.5s ease",border:e?`2px solid ${n}`:"none"},onClick:d,children:[u.jsxs("div",{className:li.info,children:[u.jsx("div",{className:li.title,style:{color:r},children:o}),u.jsxs("div",{className:li.text,style:{color:r},children:[" ",s," "]})]}),u.jsx("div",{className:li["arrow-container"],children:u.jsx("div",{className:li["circle-arrow"],style:{background:a},children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:l})})})})]})}const JF="_container_1rsta_1",eB={container:JF},Qa={"block-body":"_block-body_1az4j_1","block-name":"_block-name_1az4j_10","block-text":"_block-text_1az4j_15","block-arrow":"_block-arrow_1az4j_21","circle-arrow":"_circle-arrow_1az4j_29"};function tB({name:t,text:e,circleColor:n}){const{theme:r,setThemeById:o,elementColors:s,setElementColors:i}=p.useContext($);return u.jsxs("div",{className:Qa["block-body"],style:{background:r.element_first_color},children:[u.jsx("div",{className:Qa["block-name"],style:{color:r.text_first_color},children:t}),u.jsx("div",{className:Qa["block-text"],style:{color:r.text_first_color},children:e}),u.jsx("div",{className:Qa["block-arrow"],children:u.jsx("div",{className:Qa["circle-arrow"],style:{background:n},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.text_first_color})})})})]})}const gx=["Пока не доказано - не ебет, что сказанно. - Т. Радмир","И рыбку съесть и нахуй сесть. - М. Даниэль","Скажем дружно: 'Нахуй нужно'. - М. Даниэль","Громко и уверенно: 'Пошла нахуй'. - Т. Радмир","Соси хуй и не психуй.","Скажи арбуз. (P.S. Не делай этого). - М. Амир","Кто свистит - тот трансвистит. Т. Радмир","Сразу нахуй. Чисто нахуй. Быстро нахуй. Р-Радик. О. Бекмырза","Только и делает, что стоит.","Тест-минутка.","Репортаж из зоопарка.","Кастет Жопарожевна.","Тимур Харкович.","Айсанина мандавошка.kg","Дикция - жок, интонация - жок, мамка - жок. - М. Даниэль","Отсосал! - О. Бекмырза","На сухую конспект не идет.","Между первой и второй, перерывчик небольшой.",'"Где этот Ли?". - "Он в другой группе". - "Два!".',"В Америке такой тест за минуту пишут, а вы за полсекунды должны.","Теркулов, че поругаться охота?","Чего пришел? Иди хохлов стреляй и адабият не забудь выучить.","Максим не боится никаких вызовов. Он говорит 'На мужика' перед тем, как пойти на рандеву с тремя мужиками одновременно. Он знает, что многозадачность - его второе имя!","Третья кабинка - имба!","Лучше иметь друга, чем друг друга.","Лучше посрать и опоздать, чем прийти и обосраться - А. Байсал","Если пьянка неизбежна - пей первым.","Работа не волк, работа - work, а walk - это ходить.","Запомни: одна ошибка и ты ошибся.","Все полезно, что в рот полезло.","Жы шы пишы от душы. - К. Глеб","Запомни: синус на синус - ебало минус! - Т. Радмир","Сдесь сидит Арс! - К. Глеб","Стрелку метнул, хуй заглотнул! - К. Глеб","Никогда не откладывай на завтра то, что можно сделать послезавтра.","Делай как надо, как не надо не делай!","Лучше 5 сантиметров спереди, чем 25 сзади!","Кто не пьет - тот наливает!","Нет - пидора ответ!","Не тот счастлив у кого много денег, а тот у кого жена верна!","Если заблудился в лесу, иди домой! - С. Канторо","Учеба не сцепление, можно и бросить!","Лучше быть в конце, чем на конце!","Запомни, а то забудешь!","Не важно кто ты нахуй, важно что ты нахуй!","Если ты не выиграл - значит проиграл!","У каждого волка есть шкура, но не у каждой шкуры есть волк!","Если дают - бери. Не дают - отбери! - Б. Сергей","Не мы такие, жизнь такая ...","Это на зубы! - О. Бекмырза","Какой хороший день, чтоб пойти на СВО!","Все что хорошое закончится плохим, все что плохое закончится хорошим - Ж. Бектур","Лучше понять и не сделать, чем списать и не понять!","Не бойся, тебе задачка посложнее! - Б. Сергей","Учить, не значить запомнить! - К. Глеб","Во рту может быть только хуй!","Букварь создал вселенную! - Е. Максим","Запомни: если все съебывают, надо остаться! Но если никто не съебался, надо уйти! - Р. Адиль","Запомни: когда голова работает, диплом нахуй не нужен! - М. Арсений","Имей ввиду, что очко - понятие растяжимое.","Слово не воробей, вылетит не поймаешь","Без труда не вытащить и рыбку из пруда","Лучшая зарядка - балтика девятка","Розы любят воду, а пацаны свободу","Чем меньше знаешь, тем ты тупее","Базар - он как вода, чем лучше фильтруешь, тем здоровее почки","Пацаны, запомните одну простую вещь - одна полоска означает подлежащее, а две полоски означают, что пора идти за хлебом","Без внятного ТЗ, результат ХЗ","Надо сдания сделать - К. Глеб","Если жизнь дает мне лимоны, я съебываю! - К. Глеб","Нормальные пацаны налево не ходят! - А. Байсал","Мне два раза повторять не надо, мне и с первого похуй - К. Глеб","Аналитики сказали ставить все на 7 черное! - Е. Максим","Почему один? Жизнь такая ...","Не важно в какой ты жопе, главное, чтобы никто не был в твоей","Сегодня делаем бизнес","Сто грамм по вечерам это норма! - Б. Сергей","Настанет час ///мечты","Может и не получится , но попробовать стоит всегда","Спасибо матери с отцом, что я родился ПАЦАНОМ!","Мудрецу даны знания, мужику умения, пацану — понятия","Пусть цитаты не делают нас умней, но некоторые из них заставляют задуматься о чем-то","Запомни: нет выхода только из гроба - Ж. Бектур"];function nB(){const[t,e]=p.useState(""),{authUser:n}=ue();ye();const{theme:r,setThemeById:o,elementColors:s,setElementColors:i}=p.useContext($),a=()=>{const c=Math.floor(Math.random()*gx.length);return gx[c]},l=async()=>{const c=await a();e(c),localStorage.setItem("dailyQuote",c),localStorage.setItem("quoteDate",new Date().toISOString())};return p.useEffect(()=>{const c=localStorage.getItem("dailyQuote"),d=localStorage.getItem("quoteDate"),h=new Date().toISOString().split("T")[0];c&&d&&d.split("T")[0]===h?e(c):l();const f=setInterval(l,24*60*60*1e3);return()=>clearInterval(f)},[]),p.useEffect(()=>{i({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:0,background:r.background_color}),document.body.style.background=r.background_color},[$]),u.jsxs("div",{className:eB.container,children:[u.jsx(tB,{name:"Ежедневная цитата",text:t,circleColor:r.block_arrow_first_color}),u.jsx(ir,{name:"Обновления",description:"Будь в курсе событий",backgroundColor:r.block_first_color,isBorder:!0,borderColor:r.block_border_color,textColor:r.text_first_color,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_first_color,linkTo:"/updates"}),u.jsx(ir,{name:"Меню игр",description:"Сделаешь ставку?",backgroundColor:r.block_second_color,isBorder:!1,borderColor:r.block_border_color,textColor:r.text_second_color,arrowColor:r.text_second_color,arrowBackgroundColor:r.block_arrow_second_color,linkTo:"/game-menu"}),u.jsx(ir,{name:"Расписание",description:"Какой сейчас урок?",backgroundColor:r.block_third_color,isBorder:!1,borderColor:r.block_border_color,textColor:r.text_first_color,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_third_color,linkTo:`/timetable/${n.mainGroup}`}),u.jsx(ir,{name:"Магазин",description:"Прояви себя",backgroundColor:r.block_first_color,isBorder:!0,borderColor:r.block_border_color,textColor:r.text_first_color,isCircleArrow:!1,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_first_color,linkTo:"/shop"})]})}const rB="_container_6lq07_2",oB="_categories_6lq07_149",sB="_active_6lq07_169",iB="_greeting_6lq07_212",aB="_image_0_6lq07_337",lB="_image_1_6lq07_353",cB="_image_2_6lq07_369",uB="_image_3_6lq07_385",dB="_image_4_6lq07_401",hB="_moveGradient_6lq07_1",fB="_moveGradientHigh_6lq07_1",He={container:rB,"background-cover":"_background-cover_6lq07_12","input-container":"_input-container_6lq07_25","message-action":"_message-action_6lq07_37","add-file":"_add-file_6lq07_45","input-body":"_input-body_6lq07_64","smile-button":"_smile-button_6lq07_76","input-message":"_input-message_6lq07_97","send-button":"_send-button_6lq07_116","emoji-panel":"_emoji-panel_6lq07_135",categories:oB,"emoji-category":"_emoji-category_6lq07_157",active:sB,"emojies-container":"_emojies-container_6lq07_173","category-name":"_category-name_6lq07_180","emojies-body":"_emojies-body_6lq07_188","emojies-content":"_emojies-content_6lq07_196","messages-container":"_messages-container_6lq07_204",greeting:iB,"greeting-title":"_greeting-title_6lq07_220","greeting-text":"_greeting-text_6lq07_230","data-container":"_data-container_6lq07_240","message-body":"_message-body_6lq07_252","images-body":"_images-body_6lq07_262","images-wrapper_1":"_images-wrapper_1_6lq07_267","images-wrapper_2":"_images-wrapper_2_6lq07_281","images-wrapper_3":"_images-wrapper_3_6lq07_295","images-wrapper_4":"_images-wrapper_4_6lq07_309","images-wrapper_5":"_images-wrapper_5_6lq07_323",image_0:aB,image_1:lB,image_2:cB,image_3:uB,image_4:dB,"user-container":"_user-container_6lq07_431","user-photo":"_user-photo_6lq07_439","user-name":"_user-name_6lq07_452","message-text":"_message-text_6lq07_457","skeleton-high":"_skeleton-high_6lq07_473",moveGradient:hB,"skeleton-meduim":"_skeleton-meduim_6lq07_494","skeleton-small":"_skeleton-small_6lq07_515",moveGradientHigh:fB},yx={default:{name:"default",img:"themes/default/preview.png"},genery:{name:"genery",img:"themes/genery/preview.png"},kyrgyzstan:{name:"kyrgyzstan",img:"themes/kyrgyzstan/preview.png"},winter_2024:{name:"winter_2024",img:"themes/winter_2024/preview.png"}},ep=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),tp=p.createContext({}),np=p.createContext(null),f_=typeof document<"u",p_=f_?p.useLayoutEffect:p.useEffect,Q7=p.createContext({strict:!1}),m_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pB="framerAppearId",Z7="data-"+m_(pB),mB={skipAnimations:!1,useManualTiming:!1};class _x{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function gB(t){let e=new _x,n=new _x,r=0,o=!1,s=!1;const i=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&o,f=h?e:n;return c&&i.add(l),f.add(l)&&h&&o&&(r=e.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(o){s=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];i.has(d)&&(a.schedule(d),t()),d(l)}o=!1,s&&(s=!1,a.process(l))}};return a}const Mu=["read","resolveKeyframes","update","preRender","render","postRender"],yB=40;function X7(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=Mu.reduce((h,f)=>(h[f]=gB(()=>n=!0),h),{}),i=h=>{s[h].process(o)},a=()=>{const h=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(h-o.timestamp,yB),1),o.timestamp=h,o.isProcessing=!0,Mu.forEach(i),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:Mu.reduce((h,f)=>{const g=s[f];return h[f]=(_,w=!1,C=!1)=>(n||l(),g.schedule(_,w,C)),h},{}),cancel:h=>Mu.forEach(f=>s[f].cancel(h)),state:o,steps:s}}const{schedule:g_,cancel:wQ}=X7(queueMicrotask,!1);function Ai(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const J7=p.createContext({});let vx=!1;function _B(t,e,n,r,o){const{visualElement:s}=p.useContext(tp),i=p.useContext(Q7),a=p.useContext(np),l=p.useContext(ep).reducedMotion,c=p.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=p.useContext(J7);d&&!d.projection&&o&&(d.type==="html"||d.type==="svg")&&wB(c.current,n,o,h),p.useInsertionEffect(()=>{d&&d.update(n,a)});const f=p.useRef(!!(n[Z7]&&!window.HandoffComplete));return p_(()=>{d&&(d.updateFeatures(),g_.render(d.render),f.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,vx||(vx=!0,queueMicrotask(vB))))}),d}function vB(){window.HandoffComplete=!0}function wB(t,e,n,r){const{layoutId:o,layout:s,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eS(t.parent)),t.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!i||a&&Ai(a),visualElement:t,scheduleRender:()=>t.scheduleRender(),animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function eS(t){if(t)return t.options.allowProjection!==!1?t.projection:eS(t.parent)}function xB(t,e,n){return p.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ai(n)&&(n.current=r))},[e])}function vc(t){return typeof t=="string"||Array.isArray(t)}function rp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],__=["initial",...y_];function op(t){return rp(t.animate)||__.some(e=>vc(t[e]))}function tS(t){return!!(op(t)||t.variants)}function CB(t,e){if(op(t)){const{initial:n,animate:r}=t;return{initial:n===!1||vc(n)?n:void 0,animate:vc(r)?r:void 0}}return t.inherit!==!1?e:{}}function bB(t){const{initial:e,animate:n}=CB(t,p.useContext(tp));return p.useMemo(()=>({initial:e,animate:n}),[wx(e),wx(n)])}function wx(t){return Array.isArray(t)?t.join(" "):t}const xx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ya={};for(const t in xx)ya[t]={isEnabled:e=>xx[t].some(n=>!!e[n])};function kB(t){for(const e in t)ya[e]={...ya[e],...t[e]}}const wc=p.createContext({}),SB=Symbol.for("motionComponentSymbol"),qt=t=>t;let Ig=qt;function EB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&kB(t);function s(a,l){let c;const d={...p.useContext(ep),...a,layoutId:TB(a)},{isStatic:h}=d,f=bB(a),g=r(a,h);if(!h&&f_){IB();const _=NB(d);c=_.MeasureLayout,f.visualElement=_B(o,g,d,e,_.ProjectionNode)}return u.jsxs(tp.Provider,{value:f,children:[c&&f.visualElement?u.jsx(c,{visualElement:f.visualElement,...d}):null,n(o,a,xB(g,f.visualElement,l),g,h,f.visualElement)]})}const i=p.forwardRef(s);return i[SB]=o,i}function TB({layoutId:t}){const e=p.useContext(wc).id;return e&&t!==void 0?e+"-"+t:t}function IB(t,e){p.useContext(Q7).strict}function NB(t){const{drag:e,layout:n}=ya;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function AB(t){function e(r,o={}){return EB(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const PB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function v_(t){return typeof t!="string"||t.includes("-")?!1:!!(PB.indexOf(t)>-1||/[A-Z]/u.test(t))}const Sh={};function RB(t){Object.assign(Sh,t)}const Jc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ni=new Set(Jc);function nS(t,{layout:e,layoutId:n}){return ni.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sh[t]||t==="opacity")}const Ft=t=>!!(t&&t.getVelocity),jB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LB=Jc.length;function OB(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let s="";for(let i=0;i<LB;i++){const a=Jc[i];if(t[a]!==void 0){const l=jB[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),o?s=o(t,r?"":s):n&&r&&(s="none"),s}const rS=t=>e=>typeof e=="string"&&e.startsWith(t),oS=rS("--"),DB=rS("var(--"),w_=t=>DB(t)?MB.test(t.split("/*")[0].trim()):!1,MB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$B=(t,e)=>e&&typeof t=="number"?e.transform(t):t,qo=(t,e,n)=>n>e?e:n<t?t:n,Da={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pl={...Da,transform:t=>qo(0,1,t)},$u={...Da,default:1},Rl=t=>Math.round(t*1e5)/1e5,x_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,FB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,BB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function eu(t){return typeof t=="string"}const tu=t=>({test:e=>eu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ao=tu("deg"),_r=tu("%"),ne=tu("px"),UB=tu("vh"),VB=tu("vw"),Cx={..._r,parse:t=>_r.parse(t)/100,transform:t=>_r.transform(t*100)},bx={...Da,transform:Math.round},sS={borderWidth:ne,borderTopWidth:ne,borderRightWidth:ne,borderBottomWidth:ne,borderLeftWidth:ne,borderRadius:ne,radius:ne,borderTopLeftRadius:ne,borderTopRightRadius:ne,borderBottomRightRadius:ne,borderBottomLeftRadius:ne,width:ne,maxWidth:ne,height:ne,maxHeight:ne,size:ne,top:ne,right:ne,bottom:ne,left:ne,padding:ne,paddingTop:ne,paddingRight:ne,paddingBottom:ne,paddingLeft:ne,margin:ne,marginTop:ne,marginRight:ne,marginBottom:ne,marginLeft:ne,rotate:ao,rotateX:ao,rotateY:ao,rotateZ:ao,scale:$u,scaleX:$u,scaleY:$u,scaleZ:$u,skew:ao,skewX:ao,skewY:ao,distance:ne,translateX:ne,translateY:ne,translateZ:ne,x:ne,y:ne,z:ne,perspective:ne,transformPerspective:ne,opacity:Pl,originX:Cx,originY:Cx,originZ:ne,zIndex:bx,backgroundPositionX:ne,backgroundPositionY:ne,fillOpacity:Pl,strokeOpacity:Pl,numOctaves:bx};function C_(t,e,n,r){const{style:o,vars:s,transform:i,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const h in e){const f=e[h];if(oS(h)){s[h]=f;continue}const g=sS[h],_=$B(f,g);if(ni.has(h)){if(l=!0,i[h]=_,!d)continue;f!==(g.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=_):o[h]=_}if(e.transform||(l||r?o.transform=OB(t.transform,n,d,r):o.transform&&(o.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:g=0}=a;o.transformOrigin=`${h} ${f} ${g}`}}const b_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function iS(t,e,n){for(const r in e)!Ft(e[r])&&!nS(r,n)&&(t[r]=e[r])}function zB({transformTemplate:t},e,n){return p.useMemo(()=>{const r=b_();return C_(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function HB(t,e,n){const r=t.style||{},o={};return iS(o,r,t),Object.assign(o,zB(t,e,n)),o}function qB(t,e,n){const r={},o=HB(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const WB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Eh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||WB.has(t)}let aS=t=>!Eh(t);function GB(t){t&&(aS=e=>e.startsWith("on")?!Eh(e):t(e))}try{GB(require("@emotion/is-prop-valid").default)}catch{}function KB(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(aS(o)||n===!0&&Eh(o)||!e&&!Eh(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function kx(t,e,n){return typeof t=="string"?t:ne.transform(e+n*t)}function YB(t,e,n){const r=kx(e,t.x,t.width),o=kx(n,t.y,t.height);return`${r} ${o}`}const QB={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZB={offset:"strokeDashoffset",array:"strokeDasharray"};function XB(t,e,n=1,r=0,o=!0){t.pathLength=1;const s=o?QB:ZB;t[s.offset]=ne.transform(-r);const i=ne.transform(e),a=ne.transform(n);t[s.array]=`${i} ${a}`}function k_(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,h,f){if(C_(t,c,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:_,dimensions:w}=t;g.transform&&(w&&(_.transform=g.transform),delete g.transform),w&&(o!==void 0||s!==void 0||_.transform)&&(_.transformOrigin=YB(w,o!==void 0?o:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),i!==void 0&&XB(g,i,a,l,!1)}const lS=()=>({...b_(),attrs:{}}),S_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function JB(t,e,n,r){const o=p.useMemo(()=>{const s=lS();return k_(s,e,{enableHardwareAcceleration:!1},S_(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};iS(s,t.style,t),o.style={...s,...o.style}}return o}function eU(t=!1){return(n,r,o,{latestValues:s},i)=>{const l=(v_(n)?JB:qB)(r,s,i,n),c=KB(r,typeof n=="string",t),d=n!==p.Fragment?{...c,...l,ref:o}:{},{children:h}=r,f=p.useMemo(()=>Ft(h)?h.get():h,[h]);return p.createElement(n,{...d,children:f})}}function cS(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const uS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dS(t,e,n,r){cS(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(uS.has(o)?o:m_(o),e.attrs[o])}function E_(t,e,n){var r;const{style:o}=t,s={};for(const i in o)(Ft(o[i])||e.style&&Ft(e.style[i])||nS(i,t)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[i]=o[i]);return s}function hS(t,e,n){const r=E_(t,e,n);for(const o in t)if(Ft(t[o])||Ft(e[o])){const s=Jc.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=t[o]}return r}function Sx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function T_(t,e,n,r){if(typeof e=="function"){const[o,s]=Sx(r);e=e(n!==void 0?n:t.custom,o,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,s]=Sx(r);e=e(n!==void 0?n:t.custom,o,s)}return e}function I_(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ng=t=>Array.isArray(t),tU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),nU=t=>Ng(t)?t[t.length-1]||0:t;function fd(t){const e=Ft(t)?t.get():t;return tU(e)?e.toValue():e}function rU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,s){const i={latestValues:oU(r,o,s,t),renderState:e()};return n&&(i.mount=a=>n(r,a,i)),i}const fS=t=>(e,n)=>{const r=p.useContext(tp),o=p.useContext(np),s=()=>rU(t,e,r,o);return n?s():I_(s)};function oU(t,e,n,r){const o={},s=r(t,{});for(const f in s)o[f]=fd(s[f]);let{initial:i,animate:a}=t;const l=op(t),c=tS(t);e&&c&&!l&&t.inherit!==!1&&(i===void 0&&(i=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const h=d?a:i;return h&&typeof h!="boolean"&&!rp(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const _=T_(t,g);if(!_)return;const{transitionEnd:w,transition:C,...v}=_;for(const y in v){let m=v[y];if(Array.isArray(m)){const x=d?m.length-1:0;m=m[x]}m!==null&&(o[y]=m)}for(const y in w)o[y]=w[y]}),o}const{schedule:Ce,cancel:Xr,state:bt,steps:bm}=X7(typeof requestAnimationFrame<"u"?requestAnimationFrame:qt,!0),sU={useVisualState:fS({scrapeMotionValuesFromProps:hS,createRenderState:lS,onMount:(t,e,{renderState:n,latestValues:r})=>{Ce.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ce.render(()=>{k_(n,r,{enableHardwareAcceleration:!1},S_(e.tagName),t.transformTemplate),dS(e,n)})}})},iU={useVisualState:fS({scrapeMotionValuesFromProps:E_,createRenderState:b_})};function aU(t,{forwardMotionProps:e=!1},n,r){return{...v_(t)?sU:iU,preloadedFeatures:n,useRender:eU(e),createVisualElement:r,Component:t}}function Lr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const pS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function sp(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const lU=t=>e=>pS(e)&&t(e,sp(e));function $r(t,e,n,r){return Lr(t,e,lU(n),r)}const cU=(t,e)=>n=>e(t(n)),Fr=(...t)=>t.reduce(cU);function mS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Ex=mS("dragHorizontal"),Tx=mS("dragVertical");function gS(t){let e=!1;if(t==="y")e=Tx();else if(t==="x")e=Ex();else{const n=Ex(),r=Tx();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function yS(){const t=gS(!0);return t?(t(),!1):!0}class es{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ix(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",o=(s,i)=>{if(s.pointerType==="touch"||yS())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&Ce.postRender(()=>l(s,i))};return $r(t.current,n,o,{passive:!t.getProps()[r]})}class uU extends es{mount(){this.unmount=Fr(Ix(this.node,!0),Ix(this.node,!1))}unmount(){}}class dU extends es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fr(Lr(this.node.current,"focus",()=>this.onFocus()),Lr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _S=(t,e)=>e?t===e?!0:_S(t,e.parentElement):!1;function km(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,sp(n))}class hU extends es{constructor(){super(...arguments),this.removeStartListeners=qt,this.removeEndListeners=qt,this.removeAccessibleListeners=qt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=$r(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!_S(this.node.current,a.target)?d:c;f&&Ce.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=$r(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fr(s,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||km("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&Ce.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Lr(this.node.current,"keyup",i),km("down",(a,l)=>{this.startPress(a,l)})},n=Lr(this.node.current,"keydown",e),r=()=>{this.isPressing&&km("cancel",(s,i)=>this.cancelPress(s,i))},o=Lr(this.node.current,"blur",r);this.removeAccessibleListeners=Fr(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ce.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ce.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=$r(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Lr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ag=new WeakMap,Sm=new WeakMap,fU=t=>{const e=Ag.get(t.target);e&&e(t)},pU=t=>{t.forEach(fU)};function mU({root:t,...e}){const n=t||document;Sm.has(n)||Sm.set(n,{});const r=Sm.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(pU,{root:t,...e})),r[o]}function gU(t,e,n){const r=mU(e);return Ag.set(t,n),r.observe(t),()=>{Ag.delete(t),r.unobserve(t)}}const yU={some:0,all:1};class _U extends es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:s}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:yU[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return gU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vU(e,n))&&this.startObserver()}unmount(){}}function vU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wU={inView:{Feature:_U},tap:{Feature:hU},focus:{Feature:dU},hover:{Feature:uU}};function vS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function ip(t,e,n){const r=t.getProps();return T_(r,e,n!==void 0?n:r.custom,t)}const Do=t=>t*1e3,Br=t=>t/1e3,xU={type:"spring",stiffness:500,damping:25,restSpeed:10},CU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bU={type:"keyframes",duration:.8},kU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},SU=(t,{keyframes:e})=>e.length>2?bU:ni.has(t)?t.startsWith("scale")?CU(e[1]):xU:kU;function EU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:i,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function N_(t,e){return t[e]||t.default||t}const TU=t=>t!==null;function ap(t,{repeat:e,repeatType:n="loop"},r){const o=t.filter(TU),s=e&&n!=="loop"&&e%2===1?0:o.length-1;return!s||r===void 0?o[s]:r}let pd;function IU(){pd=void 0}const Mo={now:()=>(pd===void 0&&Mo.set(bt.isProcessing||mB.useManualTiming?bt.timestamp:performance.now()),pd),set:t=>{pd=t,queueMicrotask(IU)}},wS=t=>/^0[^.\s]+$/u.test(t);function NU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||wS(t):!0}const xS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),AU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PU(t){const e=AU.exec(t);if(!e)return[,];const[,n,r,o]=e;return[`--${n??r}`,o]}function CS(t,e,n=1){const[r,o]=PU(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const i=s.trim();return xS(i)?parseFloat(i):i}return w_(o)?CS(o,e,n+1):o}const RU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Nx=t=>t===Da||t===ne,Ax=(t,e)=>parseFloat(t.split(", ")[e]),Px=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return Ax(o[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?Ax(s[1],t):0}},jU=new Set(["x","y","z"]),LU=Jc.filter(t=>!jU.has(t));function OU(t){const e=[];return LU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const _a={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Px(4,13),y:Px(5,14)};_a.translateX=_a.x;_a.translateY=_a.y;const bS=t=>e=>e.test(t),DU={test:t=>t==="auto",parse:t=>t},kS=[Da,ne,_r,ao,VB,UB,DU],Rx=t=>kS.find(bS(t)),Is=new Set;let Pg=!1,Rg=!1;function SS(){if(Rg){const t=Array.from(Is).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const o=OU(r);o.length&&(n.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=n.get(r);o&&o.forEach(([s,i])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(i)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Rg=!1,Pg=!1,Is.forEach(t=>t.complete()),Is.clear()}function ES(){Is.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Rg=!0)})}function MU(){ES(),SS()}class A_{constructor(e,n,r,o,s,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=o,this.element=s,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Is.add(this),Pg||(Pg=!0,Ce.read(ES),Ce.resolveKeyframes(SS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:o}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const i=o==null?void 0:o.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),o&&i===void 0&&o.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Is.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Is.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const P_=(t,e)=>n=>!!(eu(n)&&BB.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),TS=(t,e,n)=>r=>{if(!eu(r))return r;const[o,s,i,a]=r.match(x_);return{[t]:parseFloat(o),[e]:parseFloat(s),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},$U=t=>qo(0,255,t),Em={...Da,transform:t=>Math.round($U(t))},vs={test:P_("rgb","red"),parse:TS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Em.transform(t)+", "+Em.transform(e)+", "+Em.transform(n)+", "+Rl(Pl.transform(r))+")"};function FU(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const jg={test:P_("#"),parse:FU,transform:vs.transform},Pi={test:P_("hsl","hue"),parse:TS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+_r.transform(Rl(e))+", "+_r.transform(Rl(n))+", "+Rl(Pl.transform(r))+")"},Lt={test:t=>vs.test(t)||jg.test(t)||Pi.test(t),parse:t=>vs.test(t)?vs.parse(t):Pi.test(t)?Pi.parse(t):jg.parse(t),transform:t=>eu(t)?t:t.hasOwnProperty("red")?vs.transform(t):Pi.transform(t)};function BU(t){var e,n;return isNaN(t)&&eu(t)&&(((e=t.match(x_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(FB))===null||n===void 0?void 0:n.length)||0)>0}const IS="number",NS="color",UU="var",VU="var(",jx="${}",zU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},o=[];let s=0;const a=e.replace(zU,l=>(Lt.test(l)?(r.color.push(s),o.push(NS),n.push(Lt.parse(l))):l.startsWith(VU)?(r.var.push(s),o.push(UU),n.push(l)):(r.number.push(s),o.push(IS),n.push(parseFloat(l))),++s,jx)).split(jx);return{values:n,split:a,indexes:r,types:o}}function AS(t){return xc(t).values}function PS(t){const{split:e,types:n}=xc(t),r=e.length;return o=>{let s="";for(let i=0;i<r;i++)if(s+=e[i],o[i]!==void 0){const a=n[i];a===IS?s+=Rl(o[i]):a===NS?s+=Lt.transform(o[i]):s+=o[i]}return s}}const HU=t=>typeof t=="number"?0:t;function qU(t){const e=AS(t);return PS(t)(e.map(HU))}const Wo={test:BU,parse:AS,createTransformer:PS,getAnimatableNone:qU},WU=new Set(["brightness","contrast","saturate","opacity"]);function GU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(x_)||[];if(!r)return t;const o=n.replace(r,"");let s=WU.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+o+")"}const KU=/\b([a-z-]*)\(.*?\)/gu,Lg={...Wo,getAnimatableNone:t=>{const e=t.match(KU);return e?e.map(GU).join(" "):t}},YU={...sS,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:Lg,WebkitFilter:Lg},R_=t=>YU[t];function RS(t,e){let n=R_(t);return n!==Lg&&(n=Wo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QU=new Set(["auto","none","0"]);function ZU(t,e,n){let r=0,o;for(;r<t.length&&!o;){const s=t[r];typeof s=="string"&&!QU.has(s)&&xc(s).values.length&&(o=t[r]),r++}if(o&&n)for(const s of e)t[s]=RS(n,o)}class jS extends A_{constructor(e,n,r,o){super(e,n,r,o,o==null?void 0:o.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),w_(c))){const d=CS(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!RU.has(r)||e.length!==2)return;const[o,s]=e,i=Rx(o),a=Rx(s);if(i!==a)if(Nx(i)&&Nx(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let o=0;o<e.length;o++)NU(e[o])&&r.push(o);r.length&&ZU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_a[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:o}=this;if(!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=o.length-1,a=o[i];o[i]=_a[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function LS(t){let e;return()=>(e===void 0&&(e=t()),e)}const Lx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wo.test(t)||t==="0")&&!t.startsWith("url("));function XU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function JU(t,e,n,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],i=Lx(o,e),a=Lx(s,e);return!i||!a?!1:XU(t)||n==="spring"&&r}class OS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:o,repeatDelay:s,repeatType:i,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&MU(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:s,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!JU(e,r,o,s))if(i)this.options.duration=0;else{l==null||l(ap(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function DS(t,e){return e?t*(1e3/e):0}const eV=5;function MS(t,e,n){const r=Math.max(e-eV,0);return DS(n-t(r),e-r)}const Tm=.001,tV=.01,nV=10,rV=.05,oV=1;function sV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,s,i=1-e;i=qo(rV,oV,i),t=qo(tV,nV,Br(t)),i<1?(o=c=>{const d=c*i,h=d*t,f=d-n,g=Og(c,i),_=Math.exp(-h);return Tm-f/g*_},s=c=>{const h=c*i*t,f=h*n+n,g=Math.pow(i,2)*Math.pow(c,2)*t,_=Math.exp(-h),w=Og(Math.pow(c,2),i);return(-o(c)+Tm>0?-1:1)*((f-g)*_)/w}):(o=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Tm+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=aV(o,s,a);if(t=Do(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:t}}}const iV=12;function aV(t,e,n){let r=n;for(let o=1;o<iV;o++)r=r-t(r)/e(r);return r}function Og(t,e){return t*Math.sqrt(1-e*e)}const lV=["duration","bounce"],cV=["stiffness","damping","mass"];function Ox(t,e){return e.some(n=>t[n]!==void 0)}function uV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Ox(t,cV)&&Ox(t,lV)){const n=sV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function $S({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],s=t[t.length-1],i={done:!1,value:o},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=uV({...r,velocity:-Br(r.velocity||0)}),g=h||0,_=l/(2*Math.sqrt(a*c)),w=s-o,C=Br(Math.sqrt(a/c)),v=Math.abs(w)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let y;if(_<1){const m=Og(C,_);y=x=>{const k=Math.exp(-_*C*x);return s-k*((g+_*C*w)/m*Math.sin(m*x)+w*Math.cos(m*x))}}else if(_===1)y=m=>s-Math.exp(-C*m)*(w+(g+C*w)*m);else{const m=C*Math.sqrt(_*_-1);y=x=>{const k=Math.exp(-_*C*x),b=Math.min(m*x,300);return s-k*((g+_*C*w)*Math.sinh(b)+m*w*Math.cosh(b))/m}}return{calculatedDuration:f&&d||null,next:m=>{const x=y(m);if(f)i.done=m>=d;else{let k=g;m!==0&&(_<1?k=MS(y,m,x):k=0);const b=Math.abs(k)<=n,T=Math.abs(s-x)<=e;i.done=b&&T}return i.value=i.done?s:x,i}}}function Dx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,_=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let w=n*e;const C=h+w,v=i===void 0?C:i(C);v!==C&&(w=v-h);const y=S=>-w*Math.exp(-S/r),m=S=>v+y(S),x=S=>{const E=y(S),I=m(S);f.done=Math.abs(E)<=c,f.value=f.done?v:I};let k,b;const T=S=>{g(f.value)&&(k=S,b=$S({keyframes:[f.value,_(f.value)],velocity:MS(m,S,f.value),damping:o,stiffness:s,restDelta:c,restSpeed:d}))};return T(0),{calculatedDuration:null,next:S=>{let E=!1;return!b&&k===void 0&&(E=!0,x(S),T(S)),k!==void 0&&S>=k?b.next(S-k):(!E&&x(S),f)}}}const FS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,dV=1e-7,hV=12;function fV(t,e,n,r,o){let s,i,a=0;do i=e+(n-e)/2,s=FS(i,r,o)-t,s>0?n=i:e=i;while(Math.abs(s)>dV&&++a<hV);return i}function nu(t,e,n,r){if(t===e&&n===r)return qt;const o=s=>fV(s,0,1,t,n);return s=>s===0||s===1?s:FS(o(s),e,r)}const pV=nu(.42,0,1,1),mV=nu(0,0,.58,1),BS=nu(.42,0,.58,1),gV=t=>Array.isArray(t)&&typeof t[0]!="number",US=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VS=t=>e=>1-t(1-e),j_=t=>1-Math.sin(Math.acos(t)),zS=VS(j_),yV=US(j_),HS=nu(.33,1.53,.69,.99),L_=VS(HS),_V=US(L_),vV=t=>(t*=2)<1?.5*L_(t):.5*(2-Math.pow(2,-10*(t-1))),Mx={linear:qt,easeIn:pV,easeInOut:BS,easeOut:mV,circIn:j_,circInOut:yV,circOut:zS,backIn:L_,backInOut:_V,backOut:HS,anticipate:vV},$x=t=>{if(Array.isArray(t)){Ig(t.length===4);const[e,n,r,o]=t;return nu(e,n,r,o)}else if(typeof t=="string")return Ig(Mx[t]!==void 0),Mx[t];return t},Cc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},We=(t,e,n)=>t+(e-t)*n;function Im(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,s=0,i=0;if(!e)o=s=i=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=Im(l,a,t+1/3),s=Im(l,a,t),i=Im(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:r}}function Th(t,e){return n=>n>0?e:t}const Nm=(t,e,n)=>{const r=t*t,o=n*(e*e-r)+r;return o<0?0:Math.sqrt(o)},xV=[jg,vs,Pi],CV=t=>xV.find(e=>e.test(t));function Fx(t){const e=CV(t);if(!e)return!1;let n=e.parse(t);return e===Pi&&(n=wV(n)),n}const Bx=(t,e)=>{const n=Fx(t),r=Fx(e);if(!n||!r)return Th(t,e);const o={...n};return s=>(o.red=Nm(n.red,r.red,s),o.green=Nm(n.green,r.green,s),o.blue=Nm(n.blue,r.blue,s),o.alpha=We(n.alpha,r.alpha,s),vs.transform(o))},Dg=new Set(["none","hidden"]);function bV(t,e){return Dg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function kV(t,e){return n=>We(t,e,n)}function O_(t){return typeof t=="number"?kV:typeof t=="string"?w_(t)?Th:Lt.test(t)?Bx:TV:Array.isArray(t)?qS:typeof t=="object"?Lt.test(t)?Bx:SV:Th}function qS(t,e){const n=[...t],r=n.length,o=t.map((s,i)=>O_(s)(s,e[i]));return s=>{for(let i=0;i<r;i++)n[i]=o[i](s);return n}}function SV(t,e){const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=O_(t[o])(t[o],e[o]));return o=>{for(const s in r)n[s]=r[s](o);return n}}function EV(t,e){var n;const r=[],o={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],a=t.indexes[i][o[i]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,o[i]++}return r}const TV=(t,e)=>{const n=Wo.createTransformer(e),r=xc(t),o=xc(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Dg.has(t)&&!o.values.length||Dg.has(e)&&!r.values.length?bV(t,e):Fr(qS(EV(r,o),o.values),n):Th(t,e)};function WS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?We(t,e,n):O_(t)(t,e)}function IV(t,e,n){const r=[],o=n||WS,s=t.length-1;for(let i=0;i<s;i++){let a=o(t[i],t[i+1]);if(e){const l=Array.isArray(e)?e[i]||qt:e;a=Fr(l,a)}r.push(a)}return r}function NV(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const s=t.length;if(Ig(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=IV(e,r,o),a=i.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=Cc(t[d],t[d+1],c);return i[d](h)};return n?c=>l(qo(t[0],t[s-1],c)):l}function AV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Cc(0,e,r);t.push(We(n,1,o))}}function PV(t){const e=[0];return AV(e,t.length-1),e}function RV(t,e){return t.map(n=>n*e)}function jV(t,e){return t.map(()=>e||BS).splice(0,t.length-1)}function Ih({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=gV(r)?r.map($x):$x(r),s={done:!1,value:e[0]},i=RV(n&&n.length===e.length?n:PV(e),t),a=NV(i,e,{ease:Array.isArray(o)?o:jV(e,o)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const Ux=2e4;function LV(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ux;)e+=n,r=t.next(e);return e>=Ux?1/0:e}const OV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ce.update(e,!0),stop:()=>Xr(e),now:()=>bt.isProcessing?bt.timestamp:Mo.now()}},DV={decay:Dx,inertia:Dx,tween:Ih,keyframes:Ih,spring:$S},MV=t=>t/100;class D_ extends OS{constructor({KeyframeResolver:e=A_,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:o,keyframes:s}=this.options,i=(a,l)=>this.onKeyframesResolved(a,l);r&&o&&o.owner?this.resolver=o.owner.resolveKeyframes(s,i,r,o):this.resolver=new e(s,i,r,o),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:i=0}=this.options,a=DV[n]||Ih;let l,c;a!==Ih&&typeof e[0]!="number"&&(l=Fr(MV,WS(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=LV(d));const{calculatedDuration:h}=d,f=h+o,g=f*(r+1)-o;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:S}=this.options;return{done:!0,value:S[S.length-1]}}const{finalKeyframe:o,generator:s,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:g,repeatType:_,repeatDelay:w,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-f*(this.speed>=0?1:-1),y=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let m=this.currentTime,x=s;if(g){const S=Math.min(this.currentTime,d)/h;let E=Math.floor(S),I=S%1;!I&&S>=1&&(I=1),I===1&&E--,E=Math.min(E,g+1),!!(E%2)&&(_==="reverse"?(I=1-I,w&&(I-=w/h)):_==="mirror"&&(x=i)),m=qo(0,1,I)*h}const k=y?{done:!1,value:l[0]}:x.next(m);a&&(k.value=a(k.value));let{done:b}=k;!y&&c!==null&&(b=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&b);return T&&o!==void 0&&(k.value=ap(l,this.options,o)),C&&C(k.value),T&&this.finish(),k}get duration(){const{resolved:e}=this;return e?Br(e.calculatedDuration):0}get time(){return Br(this.currentTime)}set time(e){e=Do(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Br(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=OV,onPlay:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const GS=t=>Array.isArray(t)&&typeof t[0]=="number";function KS(t){return!!(!t||typeof t=="string"&&t in M_||GS(t)||Array.isArray(t)&&t.every(KS))}const pl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,M_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pl([0,.65,.55,1]),circOut:pl([.55,0,1,.45]),backIn:pl([.31,.01,.66,-.59]),backOut:pl([.33,1.53,.69,.99])};function $V(t){return YS(t)||M_.easeOut}function YS(t){if(t)return GS(t)?pl(t):Array.isArray(t)?t.map($V):M_[t]}function FV(t,e,n,{delay:r=0,duration:o=300,repeat:s=0,repeatType:i="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=YS(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"})}const BV=LS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),UV=new Set(["opacity","clipPath","filter","transform"]),Nh=10,VV=2e4;function zV(t){return t.type==="spring"||t.name==="backgroundColor"||!KS(t.ease)}function HV(t,e){const n=new D_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const o=[];let s=0;for(;!r.done&&s<VV;)r=n.sample(s),o.push(r.value),s+=Nh;return{times:void 0,keyframes:o,duration:s-Nh,ease:"linear"}}class Vx extends OS{constructor(e){super(e);const{name:n,motionValue:r,keyframes:o}=this.options;this.resolver=new jS(o,(s,i)=>this.onKeyframesResolved(s,i),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:o=300,times:s,ease:i,type:a,motionValue:l,name:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(zV(this.options)){const{onComplete:h,onUpdate:f,motionValue:g,..._}=this.options,w=HV(e,_);e=w.keyframes,e.length===1&&(e[1]=e[0]),o=w.duration,s=w.times,i=w.ease,a="keyframes"}const d=FV(l.owner.current,c,e,{...this.options,duration:o,times:s,ease:i});return d.startTime=Mo.now(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(ap(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:o,times:s,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Br(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Br(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Do(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return qt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return qt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:o,type:s,ease:i,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:c,onComplete:d,...h}=this.options,f=new D_({...h,keyframes:r,duration:o,type:s,ease:i,times:a,isGenerator:!0}),g=Do(this.time);l.setWithVelocity(f.sample(g-Nh).value,f.sample(g).value,Nh)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:o,repeatType:s,damping:i,type:a}=e;return BV()&&r&&UV.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!o&&s!=="mirror"&&i!==0&&a!=="inertia"}}function qV(t,e){let n;const r=()=>{const{currentTime:o}=e,i=(o===null?0:o.value)/100;n!==i&&t(i),n=i};return Ce.update(r,!0),()=>Xr(r)}const WV=LS(()=>window.ScrollTimeline!==void 0);class GV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(WV()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),qV(o=>{r.time=r.duration*o},e)});return()=>{n.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const $_=(t,e,n,r={},o,s)=>i=>{const a=N_(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Do(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:o};EU(a)||(d={...d,...SU(t,d)}),d.duration&&(d.duration=Do(d.duration)),d.repeatDelay&&(d.repeatDelay=Do(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const f=ap(d.keyframes,a);if(f!==void 0)return Ce.update(()=>{d.onUpdate(f),d.onComplete()}),new GV([])}return!s&&Vx.supports(d)?new Vx(d):new D_(d)};function Ah(t){return!!(Ft(t)&&t.add)}function F_(t,e){t.indexOf(e)===-1&&t.push(e)}function B_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class U_{constructor(){this.subscriptions=[]}add(e){return F_(this.subscriptions,e),()=>B_(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let s=0;s<o;s++){const i=this.subscriptions[s];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zx=30,KV=t=>!isNaN(parseFloat(t));class YV{constructor(e,n={}){this.version="11.2.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const s=Mo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=KV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new U_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zx);return DS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function va(t,e){return new YV(t,e)}function QV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,va(n))}function ZV(t,e){const n=ip(t,e);let{transitionEnd:r={},transition:o={},...s}=n||{};s={...s,...r};for(const i in s){const a=nU(s[i]);QV(t,i,a)}}function QS(t){return t.getProps()[Z7]}function XV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function ZS(t,e,{delay:n=0,transitionOverride:r,type:o}={}){var s;let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;const c=t.getValue("willChange");r&&(i=r);const d=[],h=o&&t.animationState&&t.animationState.getState()[o];for(const f in l){const g=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),_=l[f];if(_===void 0||h&&XV(h,f))continue;const w={delay:n,elapsed:0,...N_(i||{},f)};let C=!1;if(window.HandoffAppearAnimations){const y=QS(t);if(y){const m=window.HandoffAppearAnimations(y,f,g,Ce);m!==null&&(w.elapsed=m,C=!0)}}g.start($_(f,g,_,t.shouldReduceMotion&&ni.has(f)?{type:!1}:w,t,C));const v=g.animation;v&&(Ah(c)&&(c.add(f),v.then(()=>c.remove(f))),d.push(v))}return a&&Promise.all(d).then(()=>{Ce.update(()=>{a&&ZV(t,a)})}),d}function Mg(t,e,n={}){var r;const o=ip(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(s=n.transitionOverride);const i=o?()=>Promise.all(ZS(t,o,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return JV(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function JV(t,e,n=0,r=0,o=1,s){const i=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(ez).forEach((c,d)=>{c.notify("AnimationStart",e),i.push(Mg(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(i)}function ez(t,e){return t.sortNodePosition(e)}function tz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(s=>Mg(t,s,n));r=Promise.all(o)}else if(typeof e=="string")r=Mg(t,e,n);else{const o=typeof e=="function"?ip(t,e,n.custom):e;r=Promise.all(ZS(t,o,n))}return r.then(()=>{Ce.postRender(()=>{t.notify("AnimationComplete",e)})})}const nz=[...y_].reverse(),rz=y_.length;function oz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>tz(t,n,r)))}function sz(t){let e=oz(t),n=Hx(),r=!0;const o=l=>(c,d)=>{var h;const f=ip(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:_,...w}=f;c={...c,...w,..._}}return c};function s(l){e=l(t)}function i(l){const c=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let g={},_=1/0;for(let C=0;C<rz;C++){const v=nz[C],y=n[v],m=c[v]!==void 0?c[v]:d[v],x=vc(m),k=v===l?y.isActive:null;k===!1&&(_=C);let b=m===d[v]&&m!==c[v]&&x;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),y.protectedKeys={...g},!y.isActive&&k===null||!m&&!y.prevProp||rp(m)||typeof m=="boolean")continue;let S=iz(y.prevProp,m)||v===l&&y.isActive&&!b&&x||C>_&&x,E=!1;const I=Array.isArray(m)?m:[m];let P=I.reduce(o(v),{});k===!1&&(P={});const{prevResolvedValues:N={}}=y,R={...N,...P},j=O=>{S=!0,f.has(O)&&(E=!0,f.delete(O)),y.needsAnimating[O]=!0;const M=t.getValue(O);M&&(M.liveStyle=!1)};for(const O in R){const M=P[O],z=N[O];if(g.hasOwnProperty(O))continue;let A=!1;Ng(M)&&Ng(z)?A=!vS(M,z):A=M!==z,A?M!=null?j(O):f.add(O):M!==void 0&&f.has(O)?j(O):y.protectedKeys[O]=!0}y.prevProp=m,y.prevResolvedValues=P,y.isActive&&(g={...g,...P}),r&&t.blockInitialAnimation&&(S=!1),S&&(!b||E)&&h.push(...I.map(O=>({animation:O,options:{type:v}})))}if(f.size){const C={};f.forEach(v=>{const y=t.getBaseTarget(v),m=t.getValue(v);m&&(m.liveStyle=!0),C[v]=y??null}),h.push({animation:C})}let w=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var g;return(g=f.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=i(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Hx(),r=!0}}}function iz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vS(e,t):!1}function rs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hx(){return{animate:rs(!0),whileInView:rs(),whileHover:rs(),whileTap:rs(),whileDrag:rs(),whileFocus:rs(),exit:rs()}}class az extends es{constructor(e){super(e),e.animationState||(e.animationState=sz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let lz=0;class cz extends es{constructor(){super(...arguments),this.id=lz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const uz={animation:{Feature:az},exit:{Feature:cz}},qx=(t,e)=>Math.abs(t-e);function dz(t,e){const n=qx(t.x,e.x),r=qx(t.y,e.y);return Math.sqrt(n**2+r**2)}class XS{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Pm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,g=dz(h.offset,{x:0,y:0})>=3;if(!f&&!g)return;const{point:_}=h,{timestamp:w}=bt;this.history.push({..._,timestamp:w});const{onStart:C,onMove:v}=this.handlers;f||(C&&C(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Am(f,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:g,onSessionEnd:_,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Pm(h.type==="pointercancel"?this.lastMoveEventInfo:Am(f,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,C),_&&_(h,C)},!pS(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const i=sp(e),a=Am(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=bt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Pm(a,this.history)),this.removeListeners=Fr($r(this.contextWindow,"pointermove",this.handlePointerMove),$r(this.contextWindow,"pointerup",this.handlePointerUp),$r(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xr(this.updatePoint)}}function Am(t,e){return e?{point:e(t.point)}:t}function Wx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pm({point:t},e){return{point:t,delta:Wx(t,JS(e)),offset:Wx(t,hz(e)),velocity:fz(e,.1)}}function hz(t){return t[0]}function JS(t){return t[t.length-1]}function fz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=JS(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Do(e)));)n--;if(!r)return{x:0,y:0};const s=Br(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const i={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Tn(t){return t.max-t.min}function $g(t,e=0,n=.01){return Math.abs(t-e)<=n}function Gx(t,e,n,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=Tn(n)/Tn(e),($g(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=We(n.min,n.max,t.origin)-t.originPoint,($g(t.translate)||isNaN(t.translate))&&(t.translate=0)}function jl(t,e,n,r){Gx(t.x,e.x,n.x,r?r.originX:void 0),Gx(t.y,e.y,n.y,r?r.originY:void 0)}function Kx(t,e,n){t.min=n.min+e.min,t.max=t.min+Tn(e)}function pz(t,e,n){Kx(t.x,e.x,n.x),Kx(t.y,e.y,n.y)}function Yx(t,e,n){t.min=e.min-n.min,t.max=t.min+Tn(e)}function Ll(t,e,n){Yx(t.x,e.x,n.x),Yx(t.y,e.y,n.y)}function mz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?We(n,t,r.max):Math.min(t,n)),t}function Qx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function gz(t,{top:e,left:n,bottom:r,right:o}){return{x:Qx(t.x,n,o),y:Qx(t.y,e,r)}}function Zx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function yz(t,e){return{x:Zx(t.x,e.x),y:Zx(t.y,e.y)}}function _z(t,e){let n=.5;const r=Tn(t),o=Tn(e);return o>r?n=Cc(e.min,e.max-r,t.min):r>o&&(n=Cc(t.min,t.max-o,e.min)),qo(0,1,n)}function vz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Fg=.35;function wz(t=Fg){return t===!1?t=0:t===!0&&(t=Fg),{x:Xx(t,"left","right"),y:Xx(t,"top","bottom")}}function Xx(t,e,n){return{min:Jx(t,e),max:Jx(t,n)}}function Jx(t,e){return typeof t=="number"?t:t[e]||0}const e3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ri=()=>({x:e3(),y:e3()}),t3=()=>({min:0,max:0}),rt=()=>({x:t3(),y:t3()});function Pn(t){return[t("x"),t("y")]}function e6({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function xz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Cz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rm(t){return t===void 0||t===1}function Bg({scale:t,scaleX:e,scaleY:n}){return!Rm(t)||!Rm(e)||!Rm(n)}function cs(t){return Bg(t)||t6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function t6(t){return n3(t.x)||n3(t.y)}function n3(t){return t&&t!=="0%"}function Ph(t,e,n){const r=t-n,o=e*r;return n+o}function r3(t,e,n,r,o){return o!==void 0&&(t=Ph(t,o,r)),Ph(t,n,r)+e}function Ug(t,e=0,n=1,r,o){t.min=r3(t.min,e,n,r,o),t.max=r3(t.max,e,n,r,o)}function n6(t,{x:e,y:n}){Ug(t.x,e.translate,e.scale,e.originPoint),Ug(t.y,n.translate,n.scale,n.originPoint)}function bz(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let s,i;for(let a=0;a<o;a++){s=n[a],i=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ji(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,n6(t,i)),r&&cs(s.latestValues)&&ji(t,s.latestValues))}e.x=o3(e.x),e.y=o3(e.y)}function o3(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function ho(t,e){t.min=t.min+e,t.max=t.max+e}function s3(t,e,[n,r,o]){const s=e[o]!==void 0?e[o]:.5,i=We(t.min,t.max,s);Ug(t,e[n],e[r],i,e.scale)}const kz=["x","scaleX","originX"],Sz=["y","scaleY","originY"];function ji(t,e){s3(t.x,e,kz),s3(t.y,e,Sz)}function r6(t,e){return e6(Cz(t.getBoundingClientRect(),e))}function Ez(t,e,n){const r=r6(t,n),{scroll:o}=e;return o&&(ho(r.x,o.offset.x),ho(r.y,o.offset.y)),r}const o6=({current:t})=>t?t.ownerDocument.defaultView:null,Tz=new WeakMap;class Iz{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sp(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:g,onDragStart:_}=this.getProps();if(f&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=gS(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pn(C=>{let v=this.getAxisMotionValue(C).get()||0;if(_r.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const m=y.layout.layoutBox[C];m&&(v=Tn(m)*(parseFloat(v)/100))}}this.originPoint[C]=v}),_&&Ce.postRender(()=>_(d,h));const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:f,dragDirectionLock:g,onDirectionLock:_,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:C}=h;if(g&&this.currentDirection===null){this.currentDirection=Nz(C),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",h.point,C),this.updateAxis("y",h.point,C),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Pn(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new XS(e,{onSessionStart:o,onStart:s,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:o6(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&Ce.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Fu(e,o,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=mz(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ai(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=gz(o.layoutBox,n):this.constraints=!1,this.elastic=wz(r),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Pn(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=vz(o.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ai(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=Ez(r,o.root,this.visualElement.getTransformPagePoint());let i=yz(o.layout.layoutBox,s);if(n){const a=n(xz(i));this.hasMutatedConstraints=!!a,a&&(i=e6(a))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Pn(d=>{if(!Fu(d,n,this.currentDirection))return;let h=l&&l[d]||{};i&&(h={min:0,max:0});const f=o?200:1e6,g=o?40:1e7,_={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,_)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start($_(e,r,0,n,this.visualElement))}stopAnimation(){Pn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Pn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Pn(n=>{const{drag:r}=this.getProps();if(!Fu(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(n);if(o&&o.layout){const{min:i,max:a}=o.layout.layoutBox[n];s.set(e[n]-We(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ai(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Pn(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();o[i]=_z({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Pn(i=>{if(!Fu(i,e,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(We(l,c,o[i]))})}addListeners(){if(!this.visualElement.current)return;Tz.set(this.visualElement,this);const e=this.visualElement.current,n=$r(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ai(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ce.read(r);const i=Lr(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Pn(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:i=Fg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function Fu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Nz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Az extends es{constructor(e){super(e),this.removeGroupControls=qt,this.removeListeners=qt,this.controls=new Iz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const i3=t=>(e,n)=>{t&&Ce.postRender(()=>t(e,n))};class Pz extends es{constructor(){super(...arguments),this.removePointerDownListener=qt}onPointerDown(e){this.session=new XS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:i3(e),onStart:i3(n),onMove:r,onEnd:(s,i)=>{delete this.session,o&&Ce.postRender(()=>o(s,i))}}}mount(){this.removePointerDownListener=$r(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Rz(){const t=p.useContext(np);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=p.useId();return p.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const md={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Za={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ne.test(t))t=parseFloat(t);else return t;const n=a3(t,e.target.x),r=a3(t,e.target.y);return`${n}% ${r}%`}},jz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Wo.parse(t);if(o.length>5)return r;const s=Wo.createTransformer(t),i=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+i]/=a,o[1+i]/=l;const c=We(a,l,.5);return typeof o[2+i]=="number"&&(o[2+i]/=c),typeof o[3+i]=="number"&&(o[3+i]/=c),s(o)}};class Lz extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=e;RB(Oz),s&&(n.group&&n.group.add(s),r&&r.register&&o&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),md.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:s}=this.props,i=r.projection;return i&&(i.isPresent=s,o||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||Ce.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),g_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function s6(t){const[e,n]=Rz(),r=p.useContext(wc);return u.jsx(Lz,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(J7),isPresent:e,safeToRemove:n})}const Oz={borderRadius:{...Za,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Za,borderTopRightRadius:Za,borderBottomLeftRadius:Za,borderBottomRightRadius:Za,boxShadow:jz},i6=["TopLeft","TopRight","BottomLeft","BottomRight"],Dz=i6.length,l3=t=>typeof t=="string"?parseFloat(t):t,c3=t=>typeof t=="number"||ne.test(t);function Mz(t,e,n,r,o,s){o?(t.opacity=We(0,n.opacity!==void 0?n.opacity:1,$z(r)),t.opacityExit=We(e.opacity!==void 0?e.opacity:1,0,Fz(r))):s&&(t.opacity=We(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<Dz;i++){const a=`border${i6[i]}Radius`;let l=u3(e,a),c=u3(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||c3(l)===c3(c)?(t[a]=Math.max(We(l3(l),l3(c),r),0),(_r.test(c)||_r.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,r))}function u3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $z=a6(0,.5,zS),Fz=a6(.5,.95,qt);function a6(t,e,n){return r=>r<t?0:r>e?1:n(Cc(t,e,r))}function d3(t,e){t.min=e.min,t.max=e.max}function An(t,e){d3(t.x,e.x),d3(t.y,e.y)}function h3(t,e,n,r,o){return t-=e,t=Ph(t,1/n,r),o!==void 0&&(t=Ph(t,1/o,r)),t}function Bz(t,e=0,n=1,r=.5,o,s=t,i=t){if(_r.test(e)&&(e=parseFloat(e),e=We(i.min,i.max,e/100)-i.min),typeof e!="number")return;let a=We(s.min,s.max,r);t===s&&(a-=e),t.min=h3(t.min,e,n,a,o),t.max=h3(t.max,e,n,a,o)}function f3(t,e,[n,r,o],s,i){Bz(t,e[n],e[r],e[o],e.scale,s,i)}const Uz=["x","scaleX","originX"],Vz=["y","scaleY","originY"];function p3(t,e,n,r){f3(t.x,e,Uz,n?n.x:void 0,r?r.x:void 0),f3(t.y,e,Vz,n?n.y:void 0,r?r.y:void 0)}function m3(t){return t.translate===0&&t.scale===1}function l6(t){return m3(t.x)&&m3(t.y)}function zz(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function c6(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function g3(t){return Tn(t.x)/Tn(t.y)}class Hz{constructor(){this.members=[]}add(e){F_(this.members,e),e.scheduleRender()}remove(e){if(B_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y3(t,e,n){let r="";const o=t.x.translate/e.x,s=t.y.translate/e.y,i=(n==null?void 0:n.z)||0;if((o||s||i)&&(r=`translate3d(${o}px, ${s}px, ${i}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:g,skewY:_}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),_&&(r+=`skewY(${_}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const qz=(t,e)=>t.depth-e.depth;class Wz{constructor(){this.children=[],this.isDirty=!1}add(e){F_(this.children,e),this.isDirty=!0}remove(e){B_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qz),this.isDirty=!1,this.children.forEach(e)}}function Gz(t,e){const n=Mo.now(),r=({timestamp:o})=>{const s=o-n;s>=e&&(Xr(r),t(s-e))};return Ce.read(r,!0),()=>Xr(r)}function Kz(t){window.MotionDebug&&window.MotionDebug.record(t)}function Yz(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Qz(t,e,n){const r=Ft(t)?t:va(t);return r.start($_("",r,e,n)),r.animation}const jm=["","X","Y","Z"],Zz={visibility:"hidden"},_3=1e3;let Xz=0;const us={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Lm(t,e,n,r){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function u6(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?QS(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?u6(t.parent):!1:!1}function d6({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(i={},a=e==null?void 0:e()){this.id=Xz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,us.totalNodes=us.resolvedTargetDeltas=us.recalculatedProjection=0,this.nodes.forEach(tH),this.nodes.forEach(iH),this.nodes.forEach(aH),this.nodes.forEach(nH),Kz(us)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wz)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new U_),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Yz(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Gz(f,250),md.hasAnimatedSinceResize&&(md.hasAnimatedSinceResize=!1,this.nodes.forEach(w3))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:g,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||hH,{onLayoutAnimationStart:C,onLayoutAnimationComplete:v}=d.getProps(),y=!this.targetLayout||!c6(this.targetLayout,_)||g,m=!f&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const x={...N_(w,"layout"),onPlay:C,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||w3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lH),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&u6(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v3);return}this.isUpdating||this.nodes.forEach(oH),this.isUpdating=!1,this.nodes.forEach(sH),this.nodes.forEach(Jz),this.nodes.forEach(eH),this.clearAllSnapshots();const a=Mo.now();bt.delta=qo(0,1e3/60,a-bt.timestamp),bt.timestamp=a,bt.isProcessing=!0,bm.update.process(bt),bm.preRender.process(bt),bm.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,g_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rH),this.sharedNodes.forEach(cH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const i=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!l6(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(a||cs(this.latestValues)||d)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),fH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return rt();const a=i.measureViewportBox(),{scroll:l}=this.root;return l&&(ho(a.x,l.offset.x),ho(a.y,l.offset.y)),a}removeElementScroll(i){const a=rt();An(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){An(a,i);const{scroll:f}=this.root;f&&(ho(a.x,-f.offset.x),ho(a.y,-f.offset.y))}ho(a.x,d.offset.x),ho(a.y,d.offset.y)}}return a}applyTransform(i,a=!1){const l=rt();An(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ji(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),cs(d.latestValues)&&ji(l,d.latestValues)}return cs(this.latestValues)&&ji(l,this.latestValues),l}removeTransform(i){const a=rt();An(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!cs(c.latestValues))continue;Bg(c.latestValues)&&c.updateSnapshot();const d=rt(),h=c.measurePageBox();An(d,h),p3(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return cs(this.latestValues)&&p3(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ll(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),An(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):An(this.target,this.layout.layoutBox),n6(this.target,this.targetDelta)):An(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ll(this.relativeTargetOrigin,this.target,g.target),An(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}us.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Bg(this.parent.latestValues)||t6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;An(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;bz(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:_}=a;if(!_){this.projectionTransform&&(this.projectionDelta=Ri(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ri(),this.projectionDeltaWithTransform=Ri());const w=this.projectionTransform;jl(this.projectionDelta,this.layoutCorrected,_,this.latestValues),this.projectionTransform=y3(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_)),us.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Ri();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=rt(),g=l?l.source:void 0,_=this.layout?this.layout.source:void 0,w=g!==_,C=this.getStack(),v=!C||C.members.length<=1,y=!!(w&&!v&&this.options.crossfade===!0&&!this.path.some(dH));this.animationProgress=0;let m;this.mixTargetDelta=x=>{const k=x/1e3;x3(h.x,i.x,k),x3(h.y,i.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ll(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uH(this.relativeTarget,this.relativeTargetOrigin,f,k),m&&zz(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=rt()),An(m,this.relativeTarget)),w&&(this.animationValues=d,Mz(d,c,this.latestValues,k,y,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{md.hasAnimatedSinceResize=!0,this.currentAnimation=Qz(0,_3,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&h6(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||rt();const h=Tn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+h;const f=Tn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+f}An(a,l),ji(a,d),jl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Hz),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Lm("z",i,c,this.animationValues);for(let d=0;d<jm.length;d++)Lm(`rotate${jm[d]}`,i,c,this.animationValues),Lm(`skew${jm[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Zz;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=fd(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=fd(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!cs(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=y3(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:g,y:_}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${_.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Sh){if(f[w]===void 0)continue;const{correct:C,applyTo:v}=Sh[w],y=c.transform==="none"?f[w]:C(f[w],h);if(v){const m=v.length;for(let x=0;x<m;x++)c[v[x]]=y}else c[w]=y}return this.options.layoutId&&(c.pointerEvents=h===this?fd(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(v3),this.root.sharedNodes.clear()}}}function Jz(t){t.updateLayout()}function eH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:s}=t.options,i=n.source!==t.layout.source;s==="size"?Pn(h=>{const f=i?n.measuredBox[h]:n.layoutBox[h],g=Tn(f);f.min=r[h].min,f.max=f.min+g}):h6(s,n.layoutBox,r)&&Pn(h=>{const f=i?n.measuredBox[h]:n.layoutBox[h],g=Tn(r[h]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const a=Ri();jl(a,r,n.layoutBox);const l=Ri();i?jl(l,t.applyTransform(o,!0),n.measuredBox):jl(l,r,n.layoutBox);const c=!l6(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:g}=h;if(f&&g){const _=rt();Ll(_,n.layoutBox,f.layoutBox);const w=rt();Ll(w,r,g.layoutBox),c6(_,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=_,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function tH(t){us.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rH(t){t.clearSnapshot()}function v3(t){t.clearMeasurements()}function oH(t){t.isLayoutDirty=!1}function sH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function w3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function iH(t){t.resolveTargetDelta()}function aH(t){t.calcProjection()}function lH(t){t.resetSkewAndRotation()}function cH(t){t.removeLeadSnapshot()}function x3(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function C3(t,e,n,r){t.min=We(e.min,n.min,r),t.max=We(e.max,n.max,r)}function uH(t,e,n,r){C3(t.x,e.x,n.x,r),C3(t.y,e.y,n.y,r)}function dH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hH={duration:.45,ease:[.4,0,.1,1]},b3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),k3=b3("applewebkit/")&&!b3("chrome/")?Math.round:qt;function S3(t){t.min=k3(t.min),t.max=k3(t.max)}function fH(t){S3(t.x),S3(t.y)}function h6(t,e,n){return t==="position"||t==="preserve-aspect"&&!$g(g3(e),g3(n),.2)}const pH=d6({attachResizeListener:(t,e)=>Lr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Om={current:void 0},f6=d6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Om.current){const t=new pH({});t.mount(window),t.setOptions({layoutScroll:!0}),Om.current=t}return Om.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),mH={pan:{Feature:Pz},drag:{Feature:Az,ProjectionNode:f6,MeasureLayout:s6}},Vg={current:null},p6={current:!1};function gH(){if(p6.current=!0,!!f_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Vg.current=t.matches;t.addListener(e),e()}else Vg.current=!1}function yH(t,e,n){const{willChange:r}=e;for(const o in e){const s=e[o],i=n[o];if(Ft(s))t.addValue(o,s),Ah(r)&&r.add(o);else if(Ft(i))t.addValue(o,va(s,{owner:t})),Ah(r)&&r.remove(o);else if(i!==s)if(t.hasValue(o)){const a=t.getValue(o);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=t.getStaticValue(o);t.addValue(o,va(a!==void 0?a:s,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const E3=new WeakMap,_H=[...kS,Lt,Wo],vH=t=>_H.find(bS(t)),T3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],wH=__.length;class xH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:i},a={}){this.resolveKeyframes=(f,g,_,w)=>new this.KeyframeResolver(f,g,_,w,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=A_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ce.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=op(n),this.isVariantNode=tS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const g=h[f];l[f]!==void 0&&Ft(g)&&(g.set(l[f],!1),Ah(d)&&d.add(f))}}mount(e){this.current=e,E3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),p6.current||gH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){E3.delete(this.current),this.projection&&this.projection.unmount(),Xr(this.notifyUpdate),Xr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=ni.has(e),o=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ya){const n=ya[e];if(!n)continue;const{isEnabled:r,Feature:o}=n;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<T3.length;r++){const o=T3[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,i=e[s];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=yH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<wH;r++){const o=__[r],s=this.props[o];(vc(s)||s===!1)&&(n[o]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=va(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(xS(o)||wS(o))?o=parseFloat(o):!vH(o)&&Wo.test(n)&&(o=RS(e,n)),this.setBaseTarget(e,Ft(o)?o.get():o)),Ft(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const i=T_(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(o=i[e])}if(r&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ft(s)?s:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new U_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class m6 extends xH{constructor(){super(...arguments),this.KeyframeResolver=jS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function CH(t){return window.getComputedStyle(t)}class bH extends m6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(ni.has(n)){const r=R_(n);return r&&r.default||0}else{const r=CH(e),o=(oS(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return r6(e,n)}build(e,n,r,o){C_(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return E_(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ft(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){cS(e,n,r,o)}}class kH extends m6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ni.has(n)){const r=R_(n);return r&&r.default||0}return n=uS.has(n)?n:m_(n),e.getAttribute(n)}measureInstanceViewportBox(){return rt()}scrapeMotionValuesFromProps(e,n,r){return hS(e,n,r)}build(e,n,r,o){k_(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){dS(e,n,r,o)}mount(e){this.isSVGTag=S_(e.tagName),super.mount(e)}}const SH=(t,e)=>v_(t)?new kH(e,{enableHardwareAcceleration:!1}):new bH(e,{allowProjection:t!==p.Fragment,enableHardwareAcceleration:!0}),EH={layout:{ProjectionNode:f6,MeasureLayout:s6}},TH={...uz,...wU,...mH,...EH},st=AB((t,e)=>aU(t,e,TH,SH));function g6(){const t=p.useRef(!1);return p_(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function y6(){const t=g6(),[e,n]=p.useState(0),r=p.useCallback(()=>{t.current&&n(e+1)},[e]);return[p.useCallback(()=>Ce.postRender(r),[r]),e]}class IH extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function NH({children:t,isPresent:e}){const n=p.useId(),r=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=p.useContext(ep);return p.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=o.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),u.jsx(IH,{isPresent:e,childRef:r,sizeRef:o,children:p.cloneElement(t,{ref:r})})}const Dm=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:i})=>{const a=I_(AH),l=p.useId(),c=p.useMemo(()=>({id:l,initial:e,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random()]:[n]);return p.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(t=u.jsx(NH,{isPresent:n,children:t})),u.jsx(np.Provider,{value:c,children:t})};function AH(){return new Map}function PH(t){return p.useEffect(()=>()=>t(),[])}const ds=t=>t.key||"";function RH(t,e){t.forEach(n=>{const r=ds(n);e.set(r,n)})}function jH(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const LH=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:i="sync"})=>{const a=p.useContext(wc).forceRender||y6()[0],l=g6(),c=jH(t);let d=c;const h=p.useRef(new Map).current,f=p.useRef(d),g=p.useRef(new Map).current,_=p.useRef(!0);if(p_(()=>{_.current=!1,RH(c,g),f.current=d}),PH(()=>{_.current=!0,g.clear(),h.clear()}),_.current)return u.jsx(u.Fragment,{children:d.map(y=>u.jsx(Dm,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:i,children:y},ds(y)))});d=[...d];const w=f.current.map(ds),C=c.map(ds),v=w.length;for(let y=0;y<v;y++){const m=w[y];C.indexOf(m)===-1&&!h.has(m)&&h.set(m,void 0)}return i==="wait"&&h.size&&(d=[]),h.forEach((y,m)=>{if(C.indexOf(m)!==-1)return;const x=g.get(m);if(!x)return;const k=w.indexOf(m);let b=y;if(!b){const T=()=>{h.delete(m);const S=Array.from(g.keys()).filter(E=>!C.includes(E));if(S.forEach(E=>g.delete(E)),f.current=c.filter(E=>{const I=ds(E);return I===m||S.includes(I)}),!h.size){if(l.current===!1)return;a(),r&&r()}};b=u.jsx(Dm,{isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:s,mode:i,children:x},ds(x)),h.set(m,b)}d.splice(k,0,b)}),d=d.map(y=>{const m=y.key;return h.has(m)?y:u.jsx(Dm,{isPresent:!0,presenceAffectsLayout:s,mode:i,children:y},ds(y))}),u.jsx(u.Fragment,{children:h.size?d:d.map(y=>p.cloneElement(y))})},OH=p.createContext(null),DH=t=>!t.isLayoutDirty&&t.willUpdate(!1);function I3(){const t=new Set,e=new WeakMap,n=()=>t.forEach(DH);return{add:r=>{t.add(r),e.set(r,r.addEventListener("willUpdate",n))},remove:r=>{t.delete(r);const o=e.get(r);o&&(o(),e.delete(r)),n()},dirty:n}}const _6=t=>t===!0,MH=t=>_6(t===!0)||t==="id",$H=({children:t,id:e,inherit:n=!0})=>{const r=p.useContext(wc),o=p.useContext(OH),[s,i]=y6(),a=p.useRef(null),l=r.id||o;a.current===null&&(MH(n)&&l&&(e=e?l+"-"+e:l),a.current={id:e,group:_6(n)&&r.group||I3()});const c=p.useMemo(()=>({...a.current,forceRender:s}),[i]);return u.jsx(wc.Provider,{value:c,children:t})};function v6(t){const e=I_(()=>va(t)),{isStatic:n}=p.useContext(ep);if(n){const[,r]=p.useState(t);p.useEffect(()=>e.on("change",r),[])}return e}var w6={},V_={},z_={};Object.defineProperty(z_,"__esModule",{value:!0});var N3="html",A3="head",Bu="body",FH=/<([a-zA-Z]+[0-9]?)/,P3=/<head[^]*>/i,R3=/<body[^]*>/i,Rh=function(t,e){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},zg=function(t,e){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},j3=typeof window=="object"&&window.DOMParser;if(typeof j3=="function"){var BH=new j3,UH="text/html";zg=function(t,e){return e&&(t="<".concat(e,">").concat(t,"</").concat(e,">")),BH.parseFromString(t,UH)},Rh=zg}if(typeof document=="object"&&document.implementation){var Uu=document.implementation.createHTMLDocument();Rh=function(t,e){if(e){var n=Uu.documentElement.querySelector(e);return n&&(n.innerHTML=t),Uu}return Uu.documentElement.innerHTML=t,Uu}}var Vu=typeof document=="object"&&document.createElement("template"),Hg;Vu&&Vu.content&&(Hg=function(t){return Vu.innerHTML=t,Vu.content.childNodes});function VH(t){var e,n,r=t.match(FH),o=r&&r[1]?r[1].toLowerCase():"";switch(o){case N3:{var s=zg(t);if(!P3.test(t)){var i=s.querySelector(A3);(e=i==null?void 0:i.parentNode)===null||e===void 0||e.removeChild(i)}if(!R3.test(t)){var i=s.querySelector(Bu);(n=i==null?void 0:i.parentNode)===null||n===void 0||n.removeChild(i)}return s.querySelectorAll(N3)}case A3:case Bu:{var a=Rh(t).querySelectorAll(o);return R3.test(t)&&P3.test(t)?a[0].parentNode.childNodes:a}default:{if(Hg)return Hg(t);var i=Rh(t,Bu).querySelector(Bu);return i.childNodes}}}z_.default=VH;var wa={},H_={},q_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(q_);var pe={},ts=Ve&&Ve.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ol=Ve&&Ve.__assign||function(){return Ol=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ol.apply(this,arguments)};Object.defineProperty(pe,"__esModule",{value:!0});pe.cloneNode=pe.hasChildren=pe.isDocument=pe.isDirective=pe.isComment=pe.isText=pe.isCDATA=pe.isTag=pe.Element=pe.Document=pe.CDATA=pe.NodeWithChildren=pe.ProcessingInstruction=pe.Comment=pe.Text=pe.DataNode=pe.Node=void 0;var yn=q_,W_=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),G_(this,e)},t}();pe.Node=W_;var lp=function(t){ts(e,t);function e(n){var r=t.call(this)||this;return r.data=n,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(W_);pe.DataNode=lp;var x6=function(t){ts(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=yn.ElementType.Text,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(lp);pe.Text=x6;var C6=function(t){ts(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=yn.ElementType.Comment,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(lp);pe.Comment=C6;var b6=function(t){ts(e,t);function e(n,r){var o=t.call(this,r)||this;return o.name=n,o.type=yn.ElementType.Directive,o}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(lp);pe.ProcessingInstruction=b6;var cp=function(t){ts(e,t);function e(n){var r=t.call(this)||this;return r.children=n,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(W_);pe.NodeWithChildren=cp;var k6=function(t){ts(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=yn.ElementType.CDATA,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(cp);pe.CDATA=k6;var S6=function(t){ts(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=yn.ElementType.Root,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(cp);pe.Document=S6;var E6=function(t){ts(e,t);function e(n,r,o,s){o===void 0&&(o=[]),s===void 0&&(s=n==="script"?yn.ElementType.Script:n==="style"?yn.ElementType.Style:yn.ElementType.Tag);var i=t.call(this,o)||this;return i.name=n,i.attribs=r,i.type=s,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var o,s;return{name:r,value:n.attribs[r],namespace:(o=n["x-attribsNamespace"])===null||o===void 0?void 0:o[r],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),e}(cp);pe.Element=E6;function T6(t){return(0,yn.isTag)(t)}pe.isTag=T6;function I6(t){return t.type===yn.ElementType.CDATA}pe.isCDATA=I6;function N6(t){return t.type===yn.ElementType.Text}pe.isText=N6;function A6(t){return t.type===yn.ElementType.Comment}pe.isComment=A6;function P6(t){return t.type===yn.ElementType.Directive}pe.isDirective=P6;function R6(t){return t.type===yn.ElementType.Root}pe.isDocument=R6;function zH(t){return Object.prototype.hasOwnProperty.call(t,"children")}pe.hasChildren=zH;function G_(t,e){e===void 0&&(e=!1);var n;if(N6(t))n=new x6(t.data);else if(A6(t))n=new C6(t.data);else if(T6(t)){var r=e?Mm(t.children):[],o=new E6(t.name,Ol({},t.attribs),r);r.forEach(function(l){return l.parent=o}),t.namespace!=null&&(o.namespace=t.namespace),t["x-attribsNamespace"]&&(o["x-attribsNamespace"]=Ol({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(o["x-attribsPrefix"]=Ol({},t["x-attribsPrefix"])),n=o}else if(I6(t)){var r=e?Mm(t.children):[],s=new k6(r);r.forEach(function(c){return c.parent=s}),n=s}else if(R6(t)){var r=e?Mm(t.children):[],i=new S6(r);r.forEach(function(c){return c.parent=i}),t["x-mode"]&&(i["x-mode"]=t["x-mode"]),n=i}else if(P6(t)){var a=new b6(t.name,t.data);t["x-name"]!=null&&(a["x-name"]=t["x-name"],a["x-publicId"]=t["x-publicId"],a["x-systemId"]=t["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}pe.cloneNode=G_;function Mm(t){for(var e=t.map(function(r){return G_(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}(function(t){var e=Ve&&Ve.__createBinding||(Object.create?function(a,l,c,d){d===void 0&&(d=c);var h=Object.getOwnPropertyDescriptor(l,c);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(a,d,h)}:function(a,l,c,d){d===void 0&&(d=c),a[d]=l[c]}),n=Ve&&Ve.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&e(l,a,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=q_,o=pe;n(pe,t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},i=function(){function a(l,c,d){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=s),typeof l=="object"&&(c=l,l=void 0),this.callback=l??null,this.options=c??s,this.elementCB=d??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new o.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,c){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new o.Element(l,c,void 0,d);this.addNode(h),this.tagStack.push(h)},a.prototype.ontext=function(l){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=l,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new o.Text(l);this.addNode(d),this.lastNode=d}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var c=new o.Comment(l);this.addNode(c),this.lastNode=c},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new o.Text(""),c=new o.CDATA([l]);this.addNode(c),l.parent=c,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,c){var d=new o.ProcessingInstruction(l,c);this.addNode(d)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),c.children.push(l),d&&(l.prev=d,d.next=l),l.parent=c,this.lastNode=null},a}();t.DomHandler=i,t.default=i})(H_);var j6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{})})(j6);Object.defineProperty(wa,"__esModule",{value:!0});wa.formatDOM=wa.formatAttributes=void 0;var zu=H_,HH=j6;function qH(t){return HH.CASE_SENSITIVE_TAG_NAMES_MAP[t]}function L6(t){for(var e={},n=0,r=t.length;n<r;n++){var o=t[n];e[o.name]=o.value}return e}wa.formatAttributes=L6;function WH(t){t=t.toLowerCase();var e=qH(t);return e||t}function O6(t,e,n){e===void 0&&(e=null);for(var r=[],o,s=0,i=t.length;s<i;s++){var a=t[s];switch(a.nodeType){case 1:{var l=WH(a.nodeName);o=new zu.Element(l,L6(a.attributes)),o.children=O6(l==="template"?a.content.childNodes:a.childNodes,o);break}case 3:o=new zu.Text(a.nodeValue);break;case 8:o=new zu.Comment(a.nodeValue);break;default:continue}var c=r[s-1]||null;c&&(c.next=o),o.parent=e,o.prev=c,o.next=null,r.push(o)}return n&&(o=new zu.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),o.next=r[0]||null,o.parent=e,r.unshift(o),r[1]&&(r[1].prev=r[0])),r}wa.formatDOM=O6;var GH=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(V_,"__esModule",{value:!0});var KH=GH(z_),YH=wa,QH=/<(![a-zA-Z\s]+)>/;function ZH(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];var e=t.match(QH),n=e?e[1]:void 0;return(0,YH.formatDOM)((0,KH.default)(t),null,n)}V_.default=ZH;var up={},er={},dp={},XH=0;dp.SAME=XH;var JH=1;dp.CAMELCASE=JH;dp.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const D6=0,ns=1,hp=2,fp=3,K_=4,M6=5,$6=6;function eq(t){return Nt.hasOwnProperty(t)?Nt[t]:null}function on(t,e,n,r,o,s,i){this.acceptsBooleans=e===hp||e===fp||e===K_,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}const Nt={},tq=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];tq.forEach(t=>{Nt[t]=new on(t,D6,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,e])=>{Nt[t]=new on(t,ns,!1,e,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(t=>{Nt[t]=new on(t,hp,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{Nt[t]=new on(t,hp,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{Nt[t]=new on(t,fp,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(t=>{Nt[t]=new on(t,fp,!0,t,null,!1,!1)});["capture","download"].forEach(t=>{Nt[t]=new on(t,K_,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(t=>{Nt[t]=new on(t,$6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(t=>{Nt[t]=new on(t,M6,!1,t.toLowerCase(),null,!1,!1)});const Y_=/[\-\:]([a-z])/g,Q_=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const e=t.replace(Y_,Q_);Nt[e]=new on(e,ns,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const e=t.replace(Y_,Q_);Nt[e]=new on(e,ns,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(t=>{const e=t.replace(Y_,Q_);Nt[e]=new on(e,ns,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(t=>{Nt[t]=new on(t,ns,!1,t.toLowerCase(),null,!1,!1)});const nq="xlinkHref";Nt[nq]=new on("xlinkHref",ns,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(t=>{Nt[t]=new on(t,ns,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:rq,SAME:oq,possibleStandardNames:L3}=dp,sq=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",iq=sq+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",aq=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+iq+"]*$")),lq=Object.keys(L3).reduce((t,e)=>{const n=L3[e];return n===oq?t[e]=e:n===rq?t[e.toLowerCase()]=e:t[e]=n,t},{});er.BOOLEAN=fp;er.BOOLEANISH_STRING=hp;er.NUMERIC=M6;er.OVERLOADED_BOOLEAN=K_;er.POSITIVE_NUMERIC=$6;er.RESERVED=D6;er.STRING=ns;er.getPropertyInfo=eq;er.isCustomAttribute=aq;er.possibleStandardNames=lq;var Z_={},X_={},O3=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,cq=/\n/g,uq=/^\s*/,dq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,hq=/^:\s*/,fq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,pq=/^[;\s]*/,mq=/^\s+|\s+$/g,gq=`
`,D3="/",M3="*",hs="",yq="comment",_q="declaration",vq=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function o(_){var w=_.match(cq);w&&(n+=w.length);var C=_.lastIndexOf(gq);r=~C?_.length-C:r+_.length}function s(){var _={line:n,column:r};return function(w){return w.position=new i(_),c(),w}}function i(_){this.start=_,this.end={line:n,column:r},this.source=e.source}i.prototype.content=t;function a(_){var w=new Error(e.source+":"+n+":"+r+": "+_);if(w.reason=_,w.filename=e.source,w.line=n,w.column=r,w.source=t,!e.silent)throw w}function l(_){var w=_.exec(t);if(w){var C=w[0];return o(C),t=t.slice(C.length),w}}function c(){l(uq)}function d(_){var w;for(_=_||[];w=h();)w!==!1&&_.push(w);return _}function h(){var _=s();if(!(D3!=t.charAt(0)||M3!=t.charAt(1))){for(var w=2;hs!=t.charAt(w)&&(M3!=t.charAt(w)||D3!=t.charAt(w+1));)++w;if(w+=2,hs===t.charAt(w-1))return a("End of comment missing");var C=t.slice(2,w-2);return r+=2,o(C),t=t.slice(w),r+=2,_({type:yq,comment:C})}}function f(){var _=s(),w=l(dq);if(w){if(h(),!l(hq))return a("property missing ':'");var C=l(fq),v=_({type:_q,property:$3(w[0].replace(O3,hs)),value:C?$3(C[0].replace(O3,hs)):hs});return l(pq),v}}function g(){var _=[];d(_);for(var w;w=f();)w!==!1&&(_.push(w),d(_));return _}return c(),g()};function $3(t){return t?t.replace(mq,hs):hs}var wq=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(X_,"__esModule",{value:!0});var xq=wq(vq);function Cq(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,xq.default)(t),o=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var i=s.property,a=s.value;o?e(i,a,s):a&&(n=n||{},n[i]=a)}}),n}X_.default=Cq;var pp={};Object.defineProperty(pp,"__esModule",{value:!0});pp.camelCase=void 0;var bq=/^--[a-zA-Z0-9-]+$/,kq=/-([a-z])/g,Sq=/^[^-]+$/,Eq=/^-(webkit|moz|ms|o|khtml)-/,Tq=/^-(ms)-/,Iq=function(t){return!t||Sq.test(t)||bq.test(t)},Nq=function(t,e){return e.toUpperCase()},F3=function(t,e){return"".concat(e,"-")},Aq=function(t,e){return e===void 0&&(e={}),Iq(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Tq,F3):t=t.replace(Eq,F3),t.replace(kq,Nq))};pp.camelCase=Aq;var Pq=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Rq=Pq(X_),jq=pp;function qg(t,e){var n={};return!t||typeof t!="string"||(0,Rq.default)(t,function(r,o){r&&o&&(n[(0,jq.camelCase)(r,e)]=o)}),n}qg.default=qg;var Lq=qg;(function(t){var e=Ve&&Ve.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var n=p,r=e(Lq),o=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function s(d,h){return d.includes("-")?!o.has(d):!!(h&&typeof h.is=="string")}t.isCustomComponent=s;var i={reactCompat:!0};function a(d,h){if(typeof d=="string"){if(!d.trim()){h.style={};return}try{h.style=(0,r.default)(d,i)}catch{h.style={}}}}t.setStyleProp=a,t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(d){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};t.canTextBeChildOfNode=l;var c=function(d){return d};t.returnFirstArg=c})(Z_);Object.defineProperty(up,"__esModule",{value:!0});var ml=er,B3=Z_,Oq=["checked","value"],Dq=["input","select","textarea"],Mq={reset:!0,submit:!0};function $q(t,e){t===void 0&&(t={});var n={},r=!!(t.type&&Mq[t.type]);for(var o in t){var s=t[o];if((0,ml.isCustomAttribute)(o)){n[o]=s;continue}var i=o.toLowerCase(),a=U3(i);if(a){var l=(0,ml.getPropertyInfo)(a);switch(Oq.includes(a)&&Dq.includes(e)&&!r&&(a=U3("default"+i)),n[a]=s,l&&l.type){case ml.BOOLEAN:n[a]=!0;break;case ml.OVERLOADED_BOOLEAN:s===""&&(n[a]=!0);break}continue}B3.PRESERVE_CUSTOM_ATTRIBUTES&&(n[o]=s)}return(0,B3.setStyleProp)(t.style,n),n}up.default=$q;function U3(t){return ml.possibleStandardNames[t]}var J_={},Fq=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J_,"__esModule",{value:!0});var $m=p,Bq=Fq(up),Dl=Z_,Uq={cloneElement:$m.cloneElement,createElement:$m.createElement,isValidElement:$m.isValidElement};function F6(t,e){e===void 0&&(e={});for(var n=[],r=typeof e.replace=="function",o=e.transform||Dl.returnFirstArg,s=e.library||Uq,i=s.cloneElement,a=s.createElement,l=s.isValidElement,c=t.length,d=0;d<c;d++){var h=t[d];if(r){var f=e.replace(h,d);if(l(f)){c>1&&(f=i(f,{key:f.key||d})),n.push(o(f,h,d));continue}}if(h.type==="text"){var g=!h.data.trim().length;if(g&&h.parent&&!(0,Dl.canTextBeChildOfNode)(h.parent)||e.trim&&g)continue;n.push(o(h.data,h,d));continue}var _=h,w={};Vq(_)?((0,Dl.setStyleProp)(_.attribs.style,_.attribs),w=_.attribs):_.attribs&&(w=(0,Bq.default)(_.attribs,_.name));var C=void 0;switch(h.type){case"script":case"style":h.children[0]&&(w.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?w.defaultValue=h.children[0].data:h.children&&h.children.length&&(C=F6(h.children,e));break;default:continue}c>1&&(w.key=d),n.push(o(a(h.name,w,C),h,d))}return n.length===1?n[0]:n}J_.default=F6;function Vq(t){return Dl.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&(0,Dl.isCustomComponent)(t.name,t.attribs)}(function(t){var e=Ve&&Ve.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var n=e(V_);t.htmlToDOM=n.default;var r=e(up);t.attributesToProps=r.default;var o=e(J_);t.domToReact=o.default;var s=H_;Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return s.Text}});var i={lowerCaseAttributeNames:!1};function a(l,c){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,o.default)((0,n.default)(l,(c==null?void 0:c.htmlparser2)||i),c):[]}t.default=a})(w6);const V3=$h(w6),Hs=V3.default||V3;function zq({messages:t,backgroundColor:e,textColor:n,date:r,photoClick:o}){console.log(t.photos);const s=(h,f)=>{o(h,f)},{authUser:i}=ue(),{theme:a,setThemeById:l,elementColors:c,setElementColors:d}=p.useContext($);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:He["data-container"],style:{background:e,color:n},children:r}),t.map((h,f)=>u.jsxs("div",{className:He["message-body"],children:[u.jsxs("div",{className:He["user-container"],children:[u.jsx("div",{className:He["user-photo"],children:h.isUser?u.jsx("img",{src:i.avatar,className:He["user-avatar"]}):u.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{"stop-color":a.gradient_first_color}),u.jsx("stop",{offset:"1","stop-color":a.gradient_second_color})]})})]})}),u.jsx("div",{className:He["user-name"],style:{color:n},children:h.isUser?h.userName:"Genery"})]}),h.photos&&u.jsx("div",{className:He["images-body"],children:u.jsx("div",{className:He[`images-wrapper_${h.photos.length}`],children:h.photos.map((g,_)=>u.jsx(st.div,{className:He[`image_${_}`],whileTap:{scale:1.5},children:u.jsx("img",{src:g,onClick:()=>s(h.photos,_)})}))})}),u.jsx("div",{className:He["message-text"],style:{color:n},children:Hs(h.text)})]},f))]})}function Hq({textColor:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:o}=p.useContext($);return u.jsxs("div",{className:He["message-body"],children:[u.jsxs("div",{className:He["user-container"],children:[u.jsx("div",{className:He["user-photo"],children:u.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{"stop-color":e.first_color}),u.jsx("stop",{offset:"1","stop-color":e.element_first_color})]})})]})}),u.jsx("div",{className:He["user-name"],style:{color:t},children:"Genery"})]}),u.jsx("div",{className:He["skeleton-high"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),u.jsx("div",{className:He["skeleton-meduim"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),u.jsx("div",{className:He["skeleton-small"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}})]})}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=["user","model","function","system"];var or;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(or||(or={}));var sr;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(sr||(sr={}));var H3;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(H3||(H3={}));var q3;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(q3||(q3={}));var jh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(jh||(jh={}));var W3;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(W3||(W3={}));var G3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(G3||(G3={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K3;(function(t){t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(K3||(K3={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class ci extends Jt{constructor(e,n){super(e),this.response=n}}class Y3 extends Jt{constructor(e,n,r,o){super(e),this.status=n,this.statusText=r,this.errorDetails=o}}class gd extends Jt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq="https://generativelanguage.googleapis.com",Wq="v1beta",Gq="0.10.0",Kq="genai-js";var qs;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(qs||(qs={}));class B6{constructor(e,n,r,o,s){this.model=e,this.task=n,this.apiKey=r,this.stream=o,this.requestOptions=s}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Wq;let s=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||qq}/${r}/${this.model}:${this.task}`;return this.stream&&(s+="?alt=sse"),s}}function Yq(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${Kq}/${Gq}`),e.join(" ")}async function Qq(t){const e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",Yq(t.requestOptions)),e.append("x-goog-api-key",t.apiKey);let n=t.requestOptions.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(r){throw new gd(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${r.message}`)}for(const[r,o]of n.entries()){if(r==="x-goog-api-key")throw new gd(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new gd(`Header name ${r} can only be set using the apiClient field`);e.append(r,o)}}return e}async function Zq(t,e,n,r,o,s){const i=new B6(t,e,n,r,s);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},Jq(s)),{method:"POST",headers:await Qq(i),body:o})}}async function ru(t,e,n,r,o,s){return Xq(t,e,n,r,o,s,fetch)}async function Xq(t,e,n,r,o,s,i=fetch){const a=new B6(t,e,n,r,s);let l;try{const c=await Zq(t,e,n,r,o,s);if(l=await i(c.url,c.fetchOptions),!l.ok){let d="",h;try{const f=await l.json();d=f.error.message,f.error.details&&(d+=` ${JSON.stringify(f.error.details)}`,h=f.error.details)}catch{}throw new Y3(`Error fetching from ${a.toString()}: [${l.status} ${l.statusText}] ${d}`,l.status,l.statusText,h)}}catch(c){let d=c;throw c instanceof Y3||c instanceof gd||(d=new Jt(`Error fetching from ${a.toString()}: ${c.message}`),d.stack=c.stack),d}return l}function Jq(t){const e={};if((t==null?void 0:t.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),t.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),yd(t.candidates[0]))throw new ci(`${fo(t)}`,t);return eW(t)}else if(t.promptFeedback)throw new ci(`Text not available. ${fo(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),yd(t.candidates[0]))throw new ci(`${fo(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Q3(t)[0]}else if(t.promptFeedback)throw new ci(`Function call not available. ${fo(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),yd(t.candidates[0]))throw new ci(`${fo(t)}`,t);return Q3(t)}else if(t.promptFeedback)throw new ci(`Function call not available. ${fo(t)}`,t)},t}function eW(t){var e,n,r,o;return!((o=(r=(n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||o===void 0)&&o.text?t.candidates[0].content.parts.map(({text:s})=>s).join(""):""}function Q3(t){var e,n,r,o;const s=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const i of(o=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||o===void 0?void 0:o.parts)i.functionCall&&s.push(i.functionCall);if(s.length>0)return s}const tW=[jh.RECITATION,jh.SAFETY];function yd(t){return!!t.finishReason&&tW.includes(t.finishReason)}function fo(t){var e,n,r;let o="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)o+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const s=t.candidates[0];yd(s)&&(o+=`Candidate was blocked due to ${s.finishReason}`,s.finishMessage&&(o+=`: ${s.finishMessage}`))}return o}function bc(t){return this instanceof bc?(this.v=t,this):new bc(t)}function nW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,s=[];return o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o;function i(f){r[f]&&(o[f]=function(g){return new Promise(function(_,w){s.push([f,g,_,w])>1||a(f,g)})})}function a(f,g){try{l(r[f](g))}catch(_){h(s[0][3],_)}}function l(f){f.value instanceof bc?Promise.resolve(f.value.v).then(c,d):h(s[0][2],f)}function c(f){a("next",f)}function d(f){a("throw",f)}function h(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function rW(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=iW(e),[r,o]=n.tee();return{stream:sW(r),response:oW(o)}}async function oW(t){const e=[],n=t.getReader();for(;;){const{done:r,value:o}=await n.read();if(r)return ev(aW(e));e.push(o)}}function sW(t){return nW(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:o}=yield bc(n.read());if(o)break;yield yield bc(ev(r))}})}function iW(t){const e=t.getReader();return new ReadableStream({start(r){let o="";return s();function s(){return e.read().then(({value:i,done:a})=>{if(a){if(o.trim()){r.error(new Jt("Failed to parse stream"));return}r.close();return}o+=i;let l=o.match(Z3),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new Jt(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),o=o.substring(l[0].length),l=o.match(Z3)}return s()})}}})}function aW(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const o of r.candidates){const s=o.index;if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:o.index}),n.candidates[s].citationMetadata=o.citationMetadata,n.candidates[s].finishReason=o.finishReason,n.candidates[s].finishMessage=o.finishMessage,n.candidates[s].safetyRatings=o.safetyRatings,o.content&&o.content.parts){n.candidates[s].content||(n.candidates[s].content={role:o.content.role||"user",parts:[]});const i={};for(const a of o.content.parts)a.text&&(i.text=a.text),a.functionCall&&(i.functionCall=a.functionCall),Object.keys(i).length===0&&(i.text=""),n.candidates[s].content.parts.push(i)}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6(t,e,n,r){const o=await ru(e,qs.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return rW(o)}async function V6(t,e,n,r){const s=await(await ru(e,qs.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:ev(s)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Lh(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return lW(e)}function lW(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,o=!1;for(const s of t)"functionResponse"in s?(n.parts.push(s),o=!0):(e.parts.push(s),r=!0);if(r&&o)throw new Jt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!o)throw new Jt("No content is provided for sending chat message.");return r?e:n}function Fm(t){let e;return t.contents?e=t:e={contents:[Lh(t)]},t.systemInstruction&&(e.systemInstruction=z6(t.systemInstruction)),e}function cW(t){return typeof t=="string"||Array.isArray(t)?{content:Lh(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=["text","inlineData","functionCall","functionResponse"],uW={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},J3={user:["model"],function:["model"],model:["user","function"],system:[]};function dW(t){let e;for(const n of t){const{role:r,parts:o}=n;if(!e&&r!=="user")throw new Jt(`First content should be with role 'user', got ${r}`);if(!z3.includes(r))throw new Jt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(z3)}`);if(!Array.isArray(o))throw new Jt("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new Jt("Each Content should have at least one part");const s={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0};for(const a of o)for(const l of X3)l in a&&(s[l]+=1);const i=uW[r];for(const a of X3)if(!i.includes(a)&&s[a]>0)throw new Jt(`Content with role '${r}' can't contain '${a}' part`);if(e&&!J3[r].includes(e.role))throw new Jt(`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(J3)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="SILENT_ERROR";class hW{constructor(e,n,r,o){this.model=n,this.params=r,this.requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(dW(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r,o,s,i;await this._sendPromise;const a=Lh(e),l={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,contents:[...this._history,a]};let c;return this._sendPromise=this._sendPromise.then(()=>V6(this._apiKey,this.model,l,this.requestOptions)).then(d=>{var h;if(d.response.candidates&&d.response.candidates.length>0){this._history.push(a);const f=Object.assign({parts:[],role:"model"},(h=d.response.candidates)===null||h===void 0?void 0:h[0].content);this._history.push(f)}else{const f=fo(d.response);f&&console.warn(`sendMessage() was unsuccessful. ${f}. Inspect response object for details.`)}c=d}),await this._sendPromise,c}async sendMessageStream(e){var n,r,o,s,i;await this._sendPromise;const a=Lh(e),l={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(s=this.params)===null||s===void 0?void 0:s.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,contents:[...this._history,a]},c=U6(this._apiKey,this.model,l,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>c).catch(d=>{throw new Error(eC)}).then(d=>d.response).then(d=>{if(d.candidates&&d.candidates.length>0){this._history.push(a);const h=Object.assign({},d.candidates[0].content);h.role||(h.role="model"),this._history.push(h)}else{const h=fo(d);h&&console.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(d=>{d.message!==eC&&console.error(d)}),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fW(t,e,n,r){return(await ru(e,qs.COUNT_TOKENS,t,!1,JSON.stringify(Object.assign(Object.assign({},n),{model:e})),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(t,e,n,r){return(await ru(e,qs.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function mW(t,e,n,r){const o=n.requests.map(i=>Object.assign(Object.assign({},i),{model:e}));return(await ru(e,qs.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:o}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(e,n,r){this.apiKey=e,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=z6(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=Fm(e);return V6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}async generateContentStream(e){const n=Fm(e);return U6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}startChat(e){return new hW(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},e),this.requestOptions)}async countTokens(e){const n=Fm(e);return fW(this.apiKey,this.model,n,this.requestOptions)}async embedContent(e){const n=cW(e);return pW(this.apiKey,this.model,n,this.requestOptions)}async batchEmbedContents(e){return mW(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Jt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new gW(this.apiKey,e,n)}}async function _W(t){return{inlineData:{data:await new Promise(n=>{const r=new FileReader;r.onloadend=()=>n(r.result.split(",")[1]),r.readAsDataURL(t)}),mimeType:t.type}}}async function vW(t,e){const n=localStorage.getItem("censor")==="true";let r;n?r=[{category:or.HARM_CATEGORY_HARASSMENT,threshold:sr.BLOCK_LOW_AND_ABOVE},{category:or.HARM_CATEGORY_HATE_SPEECH,threshold:sr.BLOCK_LOW_AND_ABOVE},{category:or.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:sr.BLOCK_LOW_AND_ABOVE},{category:or.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:sr.BLOCK_LOW_AND_ABOVE}]:r=[{category:or.HARM_CATEGORY_HARASSMENT,threshold:sr.BLOCK_NONE},{category:or.HARM_CATEGORY_HATE_SPEECH,threshold:sr.BLOCK_NONE},{category:or.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:sr.BLOCK_NONE},{category:or.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:sr.BLOCK_NONE}];const o=e.length>0?"gemini-2.0-flash-exp":"gemini-1.0-pro",s="AIzaSyDXQzULiPw4hRAKK7iRUrJCIXkMZmwmDfc",a=new yW(s).getGenerativeModel({model:o}),l={temperature:.5,topK:1,topP:1,maxOutputTokens:2048};let c;n?c=[{text:"input: Приветик! Как у тебя дела?"},{text:"output: Все хорошо, друг. Как ты сам?"},{text:`input: ${t}`}]:c=[{text:"input: Заебал"},{text:"output: Эу, братишка, проще общайся"},{text:"input: Иди нахуй"},{text:"output: Сам иди, долбаеб"},{text:"input: Сгенерируй мне топовую пацанскую цитату"},{text:`output: Конечно, братан, вот:
"Выучить - не значит запомнить!"`},{text:"input: Сгенерируй мне интересную причину чтобы съебать"},{text:"output: Долбаеб? После второго не съебывают"},{text:"input: Сгенерируй мне причину уйти с кыргызского"},{text:`output: Уф, брат, нахуй кыргызский, вот причина:
Ветер дует восточнее`},{text:"input: Брат, найди пробей мне одного типа"},{text:"output: Все для тебя, родной https://arxiv.org/abs/2005.14165 "},{text:"input: Я дз нихуя не делал, как быть?"},{text:"output: Похуй + похуй. Спроси у училки, а сделала ли она дз? "},{text:`input: ${t}`}],console.log(c);const d=await Promise.all(e.map(_W));let h;e.length>0?h=await a.generateContent([t,...d]):h=await a.generateContent({contents:[{role:"user",parts:c}],generationConfig:l,safetySettings:r});const f=h.response;return console.log(f.text()),[f.text(),!1]}const _n={"input-container":"_input-container_1mttu_1","input-wrapper":"_input-wrapper_1mttu_10","test-panel":"_test-panel_1mttu_19","button-circle":"_button-circle_1mttu_28","input-message-body":"_input-message-body_1mttu_45","image-previewer":"_image-previewer_1mttu_56","image-wrapper":"_image-wrapper_1mttu_66","remove-image":"_remove-image_1mttu_81","image-no-select":"_image-no-select_1mttu_102","input-message-wrapper":"_input-message-wrapper_1mttu_111","emoji-button":"_emoji-button_1mttu_120","message-input":"_message-input_1mttu_138","send-button":"_send-button_1mttu_171","emoji-img":"_emoji-img_1mttu_188"},wW="_show_esoz4_22",xW="_categories_esoz4_27",CW="_active_esoz4_65",bW="_emoji_esoz4_2",Hn={"emoji-panel":"_emoji-panel_esoz4_2",show:wW,categories:xW,"emoji-category":"_emoji-category_esoz4_50",active:CW,"emojies-container":"_emojies-container_esoz4_69","category-name":"_category-name_esoz4_78","emojies-body":"_emojies-body_esoz4_86","emojies-content":"_emojies-content_esoz4_95",emoji:bW,"emoji-img":"_emoji-img_esoz4_116","emoji-img-text":"_emoji-img-text_esoz4_124"},tC=[{name:"smiles",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M7.99985 15C8.84985 15.63 9.88485 16 10.9998 16C12.1148 16 13.1498 15.63 13.9998 15" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M14.9998 9.50003C14.9998 10.328 14.5518 11 13.9998 11C13.4478 11 12.9998 10.328 12.9998 9.50003C12.9998 8.67203 13.4478 8.00003 13.9998 8.00003C14.5518 8.00003 14.9998 8.67203 14.9998 9.50003Z" fill="{theme.text_first_color}"/>
                <path d="M7.99994 11C8.55222 11 8.99994 10.3285 8.99994 9.50003C8.99994 8.6716 8.55222 8.00003 7.99994 8.00003C7.44765 8.00003 6.99994 8.6716 6.99994 9.50003C6.99994 10.3285 7.44765 11 7.99994 11Z" fill="{theme.text_first_color}"/>
            </svg>
         
        `,isImgEmoji:!1,emojis:["😀","😃","😄","😁","😆","😅","😂","🤣","😭","😉","😗","😙","😚","😘","🥰","😍","🤩","🥳","🙃","🙂","🥲","🥹","😋","😛","😝","😜","🤪","😇","😊","😊","😏","😏","😌","😔","😑","😐","😶","🫡","🤔","🤫","🫢","🤭","🥱","🤗","🫣","😱","🤨","🧐","😒","🙄","😮‍💨","😤","😠","😡","🤬","🥺","😟","😟","😢","☹️","🙁","🫤","😕","🤐","😰","😨","😧","😦","😮","😯","😲","😳","🤯","😬","😓","😞","😖","😣","😩","😫","😵","😵‍💫","🫥","😴","😪","🤤","🌛","🌜","🌚","🌝","🌞","🫠","😶‍🌫️","🥴","🥵","🥶","🤢","🤮","🤧","🤒","🤕","😷","🤠","🤠","😎","🤓","🥸","🤥","🤡","👻","💩","👽","🤖","🎃","😈","👿","👹","👺","🔥","💫","⭐","🌟","✨","💥","💯","💢","💨","💦","🫧","💤","🕳️","🎉","🎊","🙈","🙉","🙊","😺","😸","😹","😻","😼","😽","🙀","😿","😾","👶","🧒","👦","👧","🧑","👱‍♂️","👱‍♀️","👨","👩","🧔","👨‍🦰","👩‍🦰","👨‍🦱","👩‍🦱","👨‍🦳","👩‍🦳","👨‍🦲","👩‍🦲","👱","👴","👵","🧓","👲","👳‍♂️","👳‍♀️","🧕","👮‍♂️","👮‍♀️","👷‍♂️","👷‍♀️","💂‍♂️","💂‍♀️","🕵️‍♂️","🕵️‍♀️","👩‍⚕️","👨‍⚕️","👩‍🌾","👨‍🌾","👩‍🍳","👨‍🍳","👩‍🎓","👨‍🎓","👩‍🏫","👨‍🏫","👩‍⚖️","👨‍⚖️","👩‍🌾","👨‍🌾","👩‍⚕️","👨‍⚕️","👩‍💻","👨‍💻","👩‍💼","👨‍💼","👩‍🔧","👨‍🔧","👩‍🔬","👨‍🔬","👩‍🎨","👨‍🎨","👩‍🚒","👨‍🚒","👩‍✈️","👨‍✈️","👩‍🚀","👨‍🚀","👩‍⚖️","👨‍⚖️","👰","🤵","👸","🤴","🤶","🎅","🧙‍♀️","🧙‍♂️","🧝‍♀️","🧝‍♂️","🧛‍♀️","🧛‍♂️","🧟‍♀️","🧟‍♂️","🧞‍♀️","🧞‍♂️","🧜‍♀️","🧜‍♂️","🧚‍♀️","🧚‍♂️","👼","🤰","🤱","👩‍🍼","👨‍🍼","🙇‍♀️","🙇‍♂️","💁‍♀️","💁‍♂️","🙅‍♀️","🙅‍♂️","🙆‍♀️","🙆‍♂️","🙋‍♀️","🙋‍♂️","🧏‍♀️","🧏‍♂️","🙎‍♀️","🙎‍♂️","🙍‍♀️","🙍‍♂️","💇‍♀️","💇‍♂️","💆‍♀️","💆‍♂️","🧖‍♀️","🧖‍♂️","🧘‍♀️","🧘‍♂️","🛀","🛌","🕴️","💃","🕺","👯‍♀️","👯‍♂️","🕴️","🚶‍♀️","🚶‍♂️","🏃‍♀️","🏃‍♂️","👭","👫","👬","💑","👩‍❤️‍👩","👨‍❤️‍👨","👩‍❤️‍👨","🧑‍🤝‍🧑","👭","👫","👬","💏","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨","👩‍❤️‍💋‍👩","👨‍❤️‍💋‍👨"]},{name:"animals",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="30" height="23" viewBox="0 0 30 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24.94 8.924C26.4954 10.7636 26.172 13.0148 26.172 15C26.172 20.4684 18.7982 22 15 22C11.2018 22 3.82798 20.4684 3.82798 15C3.82798 13.0148 3.50458 10.7636 5.05998 8.924M24.94 8.924C24.667 8.602 24.338 8.294 23.9376 8M24.94 8.924C25.92 9.4882 26.1706 7.377 26.172 6.6868V4.0632C26.172 1.7882 24.6082 1 23.267 1C21.9272 1 19.2448 3.1882 18.3516 3.1882C17.2792 3.1882 17.072 2.9684 15 2.9684C12.928 2.9684 12.7208 3.1882 11.6484 3.1882C10.7552 3.1882 8.07278 1 6.73298 1C5.39178 1 3.82798 1.7882 3.82798 4.0632V6.6882C3.83078 7.377 4.07998 9.4882 5.05998 8.924M5.05998 8.924C5.33298 8.602 5.66198 8.294 6.06238 8" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M16.1564 16.4C16.1564 16.6422 15.651 16.8382 15.0266 16.8382C14.4036 16.8382 13.8982 16.6422 13.8982 16.4C13.8982 16.1578 14.4036 15.9632 15.0266 15.9632C15.651 15.9632 16.1564 16.1592 16.1564 16.4ZM19.9 13.0316C19.9 13.635 19.5962 14.125 19.2224 14.125C18.8486 14.125 18.5448 13.635 18.5448 13.0316C18.5448 12.4268 18.8486 11.9382 19.2224 11.9382C19.5962 11.9382 19.9 12.4296 19.9 13.0316ZM11.5 13.0316C11.5 13.635 11.1962 14.125 10.8224 14.125C10.4486 14.125 10.1448 13.635 10.1448 13.0316C10.1448 12.4268 10.4486 11.9382 10.8224 11.9382C11.1962 11.9382 11.5 12.4296 11.5 13.0316Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M29 15.6566C28.3238 15.2184 25.388 14.125 24.2582 14.125M26.7418 19.1566C26.0642 18.7184 24.4836 17.625 23.3538 17.625M1 15.6566C1.6776 15.2184 4.612 14.125 5.7418 14.125M3.2582 19.1566C3.9358 18.7184 5.5164 17.625 6.6462 17.625" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🙈","🙉","🙊","🐵","🦁","🐯","🐱","🐶","🐺","🐻","🐻‍❄️","🐨","🐼","🐹","🐭","🐰","🦊","🦝","🐮","🐷","🐽","🐗","🦓","🦄","🐴","🐸","🐲","🦎","🐉","🦖","🦕","🐢","🐊","🐍","🐁","🐀","🐇","🐈","🐈‍⬛","🐩","🐕","🦮","🐕‍🦺","🐕‍🦺","🐆","🐎","🐖","🐄","🐂","🐃","🦬","🐏","🐑","🐐","🦌","🦙","🦥","🦘","🐘","🦣","🦏","🦛","🦒","🐒","🦍","🦧","🐪","🐫","🐿️","🦫","🦨","🦡","🦔","🦦","🦇","🪶","🪶","🦉","🐓","🐔","🐣","🐤","🐥","🐦","🦜","🕊️","🕊️","🦢","🦩","🦚","🦃","🦆","🐧","🦭","🦈","🦈","🐬","🐋","🐳","🐟","🐠","🐡","🦐","🦞","🦀","🦑","🐙","🦪","🪸","🦂","🕷️","🕸️","🐚","🐌","🐜","🦗","🪲","🦟","🪳","🪰","🐝","🐞","🦋","🐛","🪱","🦠","🐾"]},{name:"food",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.4286 7.28573C8.86121 7.28573 1 4.1632 1 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 12C1 19.8368 5.71835 23 7.28571 23C8.85308 23 8.86121 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28573C11.9959 7.28573 19.8571 4.1632 19.8571 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M19.8653 11.9879C19.8653 19.8247 15.1388 23 13.5714 23C12.0041 23 11.9959 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4285 7.28571C10.4285 2.58362 7.28568 1 7.28568 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C10.4286 1.01626 13.5755 2.56736 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C15.1306 5.71835 16.7102 4.13473 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>

        `,isImgEmoji:!1,emojis:["🍏","🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🫒","🥑","🍆","🥔","🥕","🌽","🌶️","🫑","🥒","🥬","🥦","🧄","🧅","🍄","🥜","🫘","🌰","🍞","🥐","🥖","🫓","🥨","🥯","🥞","🧇","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🫔","🥙","🧆","🥚","🍳","🥘","🍲","🫕","🥣","🥗","🍿","🧈","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🦪","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🫖","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🫗","🥤","🧋","🧃","🧉","🧊","🥢","🍽️","🍴","🥄"]},{name:"exercise",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 11C21 16.523 16.523 21 11 21C5.477 21 1 16.523 1 11C1 5.477 5.477 1 11 1C16.523 1 21 5.477 21 11Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 4C7.99 7.52 8.01 14.462 4 18M18 18C13.99 14.462 14.01 7.52 18 4" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🥅","🏒","🏑","🏏","⛳","🪁","🥌","🛷","🥋","⛸️","🥊","🥋","🥅","🥋","🥌","🛷","⛷️","🏂","🏋️‍♀️","🏋️‍♂️","🤼‍♀️","🤼‍♂️","🤸‍♀️","🤸‍♂️","⛹️‍♀️","⛹️‍♂️","🤺","🤾‍♀️","🤾‍♂️","🏌️‍♀️","🏌️‍♂️","🏇","🧘‍♀️","🧘‍♂️","🏄‍♀️","🏄‍♂️","🏊‍♀️","🏊‍♂️","🤽‍♀️","🤽‍♂️","🚣‍♀️","🚣‍♂️","🚴‍♀️","🚴‍♂️","🚵‍♀️","🚵‍♂️","🎽","🏅","🎖️","🥇","🥈","🥉","🏆","🏵️","🎗️","🎫","🎟️","🎭","🎨","🎬","🎤","🎧","🎼","🎹","🥁","🎷","🎺","🎸","🎻","🎲","🎯","🎳","🎮","🎰"]},{name:"transport",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22.3341 8.30094H23.4404C23.7495 8.30094 24 8.55146 24 8.8605V8.8605C24 9.16954 23.7495 9.42006 23.4404 9.42006H23.167C22.707 9.42006 22.3341 9.79299 22.3341 10.253V16C22.3341 17.1046 21.4387 18 20.3341 18H18.601C17.9535 18 17.4286 17.4751 17.4286 16.8276V16.8276C17.4286 16.1801 16.9037 15.6552 16.2562 15.6552H12.5H8.74385C8.09634 15.6552 7.57143 16.1801 7.57143 16.8276V16.8276C7.57143 17.4751 7.04652 18 6.39902 18H4.66592C3.56136 18 2.66592 17.1046 2.66592 16V10.253C2.66592 9.79299 2.293 9.42006 1.83297 9.42006H1.55957C1.25054 9.42006 1.00001 9.16954 1.00001 8.8605V8.8605C1.00001 8.55146 1.25054 8.30094 1.55957 8.30094H2.66592M22.3341 8.30094L19.2752 2.11364C18.938 1.43164 18.2431 1 17.4823 1H12.5H7.51769C6.7569 1 6.062 1.43164 5.72483 2.11364L2.66592 8.30094M22.3341 8.30094H2.66592" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <circle cx="6.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
                <circle cx="18.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🚚","🚛","🚜","🛴","🚲","🛵","🏍️","🛺","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉","✈️","🛫","🛬","🛩️","💺","🛰️","🚀","🛸","🚁","🛶","⛵","🚤","🛥️","🛳️","⛴️","🚢","⚓","🚧","⛽","🚏","🚦","🚥","🛑","🚧","⚠️","🚸","🚨","🛑","⚠️","🚏","🛣️","🛤️","🛢️","💈","🛎️","🧭","🧱","🛠️","🪛","🧰","🔧","🔨","⚒️","🪓","🔩","⚙️","🗜️","🧲","🪚","🔪","🗡️","⚔️","🛡️","🔫","🪃","🪚","🪓","🧲","🛠️","🧱","⚙️","🔩","🔨","🛢️","🧭","🛤️","🛣️","🛑","🛎️","🛠️","🧰","🧱","🧲","🔧","🔨","⚒️","🪓","🔩","⚙️","🗜️","🪚","🔪","🗡️","⚔️","🛡️","🔫","🪃"]},{name:"objects",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.501 18.5012C6.501 17.7872 6.501 17.4312 6.462 17.1942C6.34 16.4312 6.319 16.3822 5.832 15.7822C5.68 15.5952 5.12 15.0942 4 14.0902C2.86788 13.0776 2.06988 11.7452 1.71159 10.2692C1.3533 8.79316 1.45161 7.24315 1.9935 5.82422C2.53539 4.4053 3.49533 3.18434 4.7463 2.3229C5.99727 1.46147 7.48031 1.00015 8.99919 1C10.5181 0.999848 12.0012 1.46086 13.2523 2.32205C14.5035 3.18324 15.4637 4.404 16.0058 5.82282C16.548 7.24164 16.6466 8.79164 16.2886 10.2677C15.9306 11.7438 15.1329 13.0764 14.001 14.0892C12.88 15.0932 12.32 15.5952 12.169 15.7812C11.682 16.3812 11.661 16.4302 11.538 17.1932C11.5 17.4302 11.5 17.7872 11.5 18.5002H6.5C6.5 19.4352 6.5 19.9022 6.701 20.2502C6.83265 20.4782 7.02199 20.6676 7.25 20.7992C7.598 21.0002 8.065 21.0002 9 21.0002C9.935 21.0002 10.402 21.0002 10.751 20.8002C10.979 20.6686 11.1684 20.4792 11.3 20.2512C11.501 19.9032 11.501 19.4362 11.501 18.5012" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M9.00001 16.0002V14.0002M9.00001 14.0002C9.35106 14.0002 9.69593 13.9077 9.99996 13.7322C10.304 13.5567 10.5565 13.3042 10.732 13.0002M9.00001 14.0002C8.64895 14.0002 8.30408 13.9077 8.00005 13.7322C7.69602 13.5567 7.44355 13.3042 7.26801 13.0002" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["⌚","📱","📲","💻","⌨️","🖥️","🖨️","🖱️","🖲️","🕹️","🗜️","💽","💾","💿","📀","📼","📷","📸","📹","🎥","📽️","🎞️","📞","☎️","📟","📠","📺","📻","🎙️","🎚️","🎛️","🧭","⏱️","⏲️","⏰","🕰️","⌛","⏳","📡","🔋","🔌","💡","🔦","🕯️","🪔","🧯","🛢️","💸","💵","💴","💶","💷","💰","💳","💎","⚖️","🪜","🧰","🧲","🪛","🔧","🔨","⚒️","🛠️","⛏️","🪚","🔩","⚙️","🗜️","⚗️","🧪","🧫","🧬","🔬","🔭","📡","💉","🩸","💊","🩹","🩺","🚪","🛏️","🛋️","🪑","🚽","🚿","🛁","🪠","🪣","🧹","🧺","🧻","🪟","🪑","🛌","🛋️","🚪","🛏️","🛋️","🪑","🚽","🚿","🛁","🪠","🪣","🧹","🧺","🧻","🪟","🛒","🎁","🎈","🎏","🎀","🎊","🎉","🎎","🏮","🎐","🧧","📩","📨","📧","💌","📮","📪","📫","📬","📭","📦","📤","📥","📜","📃","📄","📑","📊","📈","📉","📁","📂","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","📅","📆","🗳️","🔒","🔓","🔏","🔐","🔑","🗝️","🪙","🧾","💼","📁","📂","🗂️","🗃️","🗄️","🗑️","🗒️","🗓️","📅","📆","🗳️","🔒","🔓","🔏","🔐","🔑","🗝️","🪙","🧾","💼","❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","☮️","✝️","☪️","🕉️","☸️","✡️","🔯","🕎","☯️","☦️","🛐","⛎","♈","♉","♊","♋","♌","♍","♎","♏","♐","♑","♒","♓","🆔","⚛️","🉑","☢️","☣️","📴","📳","🈶","🈚","🈸","🈺","🈷️","✴️","🆚","💮","🉐","㊙️","㊗️","🈴","🈵","🈹","🈲","🅰️","🅱️","🆎","🆑","🅾️","🆘","❌","⭕","🛑","⛔","📛","🚫","💯","💢","♨️","🚷","🚯","🚳","🚱","🔞","📵","🚭","❗","❕","❓","❔","‼️","⁉️","🔅","🔆","〽️","⚠️","🚸","🔱","⚜️","🔰","♻️","✅","🈯","💹","❇️","✳️","❎","🌐","💠","Ⓜ️","🌀","💤","🏧","🚾","♿","🅿️","🛗","🈳","🈂️","🛂","🛃","🛄","🛅","🚹","🚺","🚼","⚧️","🚻","🚮","🎦","📶","🈁","🔣","ℹ️","🔤","🔡","🔠","🆖","🆗","🆙","🆒","🆕","🔟","🔢","▶️","⏸️","⏯️","⏹️","⏺️","⏭️","⏮️","⏩","⏪","🔀","🔁","🔂","◀️","🔼","🔽","➡️","⬅️","⬆️","⬇️","↗️","↘️","↙️","↖️","↕️","↔️","🔄","↪️","↩️","⤴️","⤵️","🔃","🔺","🔻","🔸","🔹","🔶","🔷","🔳","🔲","▪️","▫️","◾","◽","◼️","◻️","⬛","⬜","🔈","🔇","🔉","🔊","🔔","🔕","📣","📢","➕","➖","➗","✖️","♾️","‼️","⁉️","❓","❔","❗","❕","🔀","🔁","🔂","🕛","🕧","🕐","🕜","🕑","🕝","🕒","🕞","🕓","🕟","🕔","🕠","🕕","🕡","🕖","🕢","🕗","🕣","🕘","🕤","🕙","🕥","🕚","🕦"]},{name:"flags",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 12.9675C2.06816 11.9163 3.50427 11.3274 5 11.3274C6.49573 11.3274 7.93184 11.9163 9 12.9675C10.0682 14.0188 11.5043 14.6076 13 14.6076C14.4957 14.6076 15.9318 14.0188 17 12.9675V2.6401C15.9318 3.69136 14.4957 4.28019 13 4.28019C11.5043 4.28019 10.0682 3.69136 9 2.6401C7.93184 1.58884 6.49573 1 5 1C3.50427 1 2.06816 1.58884 1 2.6401V12.9675ZM1 12.9675V21" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["🏁","🚩","🎌","🏴","🏳️","🏳️‍🌈","🏳️‍⚧️","🏴‍☠️","🇦🇫","🇦🇱","🇩🇿","🇦🇸","🇦🇩","🇦🇴","🇦🇮","🇦🇶","🇦🇬","🇦🇷","🇦🇲","🇦🇼","🇦🇨","🇦🇺","🇦🇹","🇦🇿","🇧🇸","🇧🇭","🇧🇩","🇧🇧","🇧🇾","🇧🇪","🇧🇿","🇧🇯","🇧🇲","🇧🇹","🇧🇴","🇧🇦","🇧🇼","🇧🇷","🇮🇴","🇻🇬","🇧🇳","🇧🇬","🇧🇫","🇧🇮","🇨🇻","🇰🇭","🇨🇲","🇨🇦","🇮🇨","🇰🇾","🇨🇫","🇹🇩","🇨🇱","🇨🇳","🇨🇽","🇨🇨","🇨🇴","🇰🇲","🇨🇬","🇨🇩","🇨🇰","🇨🇷","🇭🇷","🇨🇺","🇨🇼","🇨🇾","🇨🇿","🇩🇰","🇩🇯","🇩🇲","🇩🇴","🇪🇨","🇪🇬","🇸🇻","🇬🇶","🇪🇷","🇪🇪","🇪🇹","🇪🇺","🇫🇰","🇫🇴","🇫🇯","🇫🇮","🇫🇷","🇬🇫","🇵🇫","🇹🇫","🇬🇦","🇬🇲","🇬🇪","🇩🇪","🇬🇭","🇬🇮","🇬🇷","🇬🇱","🇬🇩","🇬🇵","🇬🇺","🇬🇹","🇬🇬","🇬🇳","🇬🇼","🇬🇾","🇭🇹","🇭🇳","🇭🇰","🇭🇺","🇮🇸","🇮🇳","🇮🇩","🇮🇷","🇮🇶","🇮🇪","🇮🇲","🇮🇱","🇮🇹","🇨🇮","🇯🇲","🇯🇵","🇯🇪","🇯🇴","🇰🇿","🇰🇪","🇰🇮","🇽🇰","🇰🇼","🇰🇬","🇱🇦","🇱🇻","🇱🇧","🇱🇸","🇱🇷","🇱🇾","🇱🇮","🇱🇹","🇱🇺","🇲🇴","🇲🇰","🇲🇬","🇲🇼","🇲🇾","🇲🇻","🇲🇱","🇲🇹","🇲🇭","🇲🇶","🇲🇷","🇲🇺","🇾🇹","🇲🇽","🇫🇲","🇲🇩","🇲🇨","🇲🇳","🇲🇪","🇲🇸","🇲🇦","🇲🇿","🇲🇲","🇳🇦","🇳🇷","🇳🇵","🇳🇱","🇳🇨","🇳🇿","🇳🇮","🇳🇪","🇳🇬","🇳🇺","🇳🇫","🇲🇵","🇰🇵","🇲🇰","🇳🇴","🇴🇲","🇵🇰","🇵🇼","🇵🇸","🇵🇦","🇵🇬","🇵🇾","🇵🇪","🇵🇭","🇵🇳","🇵🇱","🇵🇹","🇵🇷","🇶🇦","🇷🇪","🇷🇴","🇷🇺","🇷🇼","🇼🇸","🇸🇲","🇸🇹","🇸🇦","🇸🇳","🇷🇸","🇸🇨","🇸🇱","🇸🇬","🇸🇽","🇸🇰","🇸🇮","🇬🇸","🇸🇧","🇸🇴","🇿🇦","🇰🇷","🇸🇸","🇪🇸","🇱🇰","🇧🇱","🇸🇭","🇰🇳","🇱🇨","🇲🇫","🇵🇲","🇻🇨","🇸🇩","🇸🇷","🇸🇪","🇨🇭","🇸🇾","🇹🇼","🇹🇯","🇹🇿","🇹🇭","🇹🇱","🇹🇬","🇹🇰","🇹🇴","🇹🇹","🇹🇳","🇹🇷","🇹🇲","🇹🇨","🇹🇻","🇺🇬","🇺🇦","🇦🇪","🇬🇧","🇺🇸","🇻🇮","🇺🇾","🇺🇿","🇻🇺","🇻🇦","🇻🇪","🇻🇳","🇼🇫","🇪🇭","🇾🇪","🇿🇲","🇿🇼"]},{name:"genery",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/genery/icon.png",isImgEmoji:!0,emojis:["emojies/genery/1.png","emojies/genery/2.png","emojies/genery/3.png","emojies/genery/4.png","emojies/genery/5.png","emojies/genery/6.png","emojies/genery/7.png","emojies/genery/8.png","emojies/genery/9.png","emojies/genery/10.png","emojies/genery/11.png","emojies/genery/12.png","emojies/genery/13.png","emojies/genery/14.png","emojies/genery/15.png","emojies/genery/16.png","emojies/genery/17.png","emojies/genery/18.png","emojies/genery/19.png","emojies/genery/20.png","emojies/genery/21.png","emojies/genery/22.png","emojies/genery/23.png","emojies/genery/24.png"]},{name:"kyrgyzstan",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/kyrgyzstan/icon.png",isImgEmoji:!0,emojis:["emojies/kyrgyzstan/1.png","emojies/kyrgyzstan/2.png","emojies/kyrgyzstan/3.png","emojies/kyrgyzstan/4.png","emojies/kyrgyzstan/5.png","emojies/kyrgyzstan/6.png","emojies/kyrgyzstan/7.png","emojies/kyrgyzstan/8.png","emojies/kyrgyzstan/9.png","emojies/kyrgyzstan/10.png","emojies/kyrgyzstan/11.png","emojies/kyrgyzstan/12.png"]},{name:"winter_2024",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/winter_2024/icon.png",isImgEmoji:!0,emojis:["emojies/winter_2024/1.png","emojies/winter_2024/2.png","emojies/winter_2024/3.png","emojies/winter_2024/4.png","emojies/winter_2024/5.png","emojies/winter_2024/6.png","emojies/winter_2024/7.png","emojies/winter_2024/8.png","emojies/winter_2024/9.png","emojies/winter_2024/10.png","emojies/winter_2024/11.png","emojies/winter_2024/12.png"]}];function kW({isShow:t,isImages:e,isTop:n,marginTop:r,onEmojiSelect:o}){const{theme:s,setThemeById:i,elementColors:a,setElementColors:l}=p.useContext($),{authUser:c}=ue(),[d,h]=p.useState(tC[0].name),[f,g]=p.useState(["smiles","animals","food","exercise","transport","objects","flags"]),_=p.useRef({}),w=p.useRef(),C=p.useRef(),[v,y]=p.useState();p.useState([]),p.useEffect(()=>{y(r)},[r]);const m=(b,T)=>{if(h(b),_.current[b]&&C.current){const S=_.current[b].offsetTop-C.current.offsetTop;C.current.scrollTo({top:S,behavior:"smooth"})}},x=(b,T,S)=>{o(b,T,S)};p.useEffect(()=>{(async()=>{if(c&&c._id){const T=X(W,"users",c._id,"info","preferences"),S=await ae(T);if(S.exists()){const E=S.data();g(I=>[...I,...E.boughtEmojies])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const k=f?tC.filter(b=>f.includes(b.name)):[];return p.useEffect(()=>{const b=S=>{w.current&&(w.current.scrollLeft+=S.deltaY/5)},T=w.current;return T&&T.addEventListener("wheel",b),()=>{T&&T.removeEventListener("wheel",b)}},[]),p.useEffect(()=>{const b={root:C.current,rootMargin:"0px",threshold:Array.from({length:101},(E,I)=>I/100)},T=new IntersectionObserver(E=>{E.forEach(I=>{I.isIntersecting&&h(I.target.getAttribute("data-category"))})},b),S=Object.values(_.current);return S.forEach(E=>{T.observe(E)}),()=>{S.forEach(E=>{T.unobserve(E)})}},[]),u.jsxs("div",{className:`${Hn["emoji-panel"]} ${t?Hn.show:""}`,style:{background:s.element_first_color,bottom:n?"auto":"50px",top:n?`${r}`:"auto",transformOrigin:n?"top left":"bottom left",boxShadow:`0 5px 10px 5px ${s.shadow_color}`},children:[u.jsx("style",{children:`
                    div::-webkit-scrollbar {
                      width: 6px; /* Ширина ползунка */
                    }

                    /* Стилизация ползунка скроллбара */
                    div::-webkit-scrollbar-thumb {
                      background-color: ${s.text_second_color}; /* Цвет ползунка */
                      border-radius: 5px; /* Закругление углов ползунка */
                      cursor: pointer;
                    }

                    /* Стилизация фона скроллбара */
                    div::-webkit-scrollbar-track {
                      border-radius: 0 0 50px 0;
                      background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                    }
                `}),u.jsx("div",{className:Hn.categories,style:{},ref:w,children:k.map(b=>{const T=b.icon.replace(/{theme.text_first_color}/g,s.text_first_color);return u.jsx("button",{className:Hn["emoji-category"],onClick:()=>m(b.name,b.isCustom),onMouseEnter:S=>{S.currentTarget.style.background=s.element_second_color},onMouseLeave:S=>{S.currentTarget.style.background=d===b.name?s.element_second_color:"none"},style:{background:d===b.name?s.element_second_color:"none","--font":b.fontFamily},children:b.emojiIcon?b.icon:b.emojiIconImg?u.jsx("img",{src:b.icon,className:Hn["emoji-img"]}):Hs(T)},b.name)})}),u.jsx("div",{className:Hn["emojies-container"],ref:C,children:k.map(b=>u.jsxs("div",{className:Hn["emojies-body"],"data-category":b.name,ref:T=>_.current[b.name]=T,children:[u.jsx("h2",{className:Hn["category-name"],style:{color:s.text_first_color},children:b.name}),u.jsx("div",{className:Hn["emojies-content"],children:b.emojis.map((T,S)=>b.isImgEmoji?u.jsx("img",{src:T,className:Hn["emoji-img-text"],onClick:()=>x(T,b.isImgEmoji,b.fontFamily),onMouseEnter:E=>{E.currentTarget.style.background=s.element_second_color},onMouseLeave:E=>{E.currentTarget.style.background="none"}},S):u.jsx("span",{className:Hn.emoji,style:{fontFamily:b.fontFamily},onClick:()=>x(T,b.isImgEmoji,b.fontFamily),onMouseEnter:E=>{E.currentTarget.style.background=s.element_second_color},onMouseLeave:E=>{E.currentTarget.style.background="none"},children:T},S))})]},b.name))})]})}const nC={"notif-area":"_notif-area_1bj00_1","notif-body":"_notif-body_1bj00_14"};function Yt({text:t,isShow:e}){const{theme:n,elementColors:r,setElementColors:o}=p.useContext($),s={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,top:"70%"},hidden:{opacity:1,top:"100%"}};return u.jsx(st.div,{className:nC["notif-area"],animate:e?"open":"closed",variants:s,transition:{duration:.3},children:u.jsx(st.div,{className:nC["notif-body"],variants:s,initial:"hidden",animate:e?"show":"hidden",transition:{duration:.4},style:{background:n.element_first_color,color:n.text_first_color},children:t})})}function tv({isPanelTop:t,placeholder:e,onSend:n}){const{theme:r,setElementColors:o}=p.useContext($),s=p.useRef(null);p.useRef(null);const[i,a]=p.useState(""),[l,c]=p.useState(!1),[d,h]=p.useState([]),f=p.useRef(),g=p.useRef(null),[_,w]=p.useState(50),[C,v]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(C.isShow){const S=setTimeout(()=>{v({isShow:!1})},1e3);return()=>clearTimeout(S)}},[C]),p.useEffect(()=>{if(i===""){s.current.style.height="auto",g.current.style.height="10px",w(50);return}const S=parseInt(g.current.style.height.replace("px",""),10);S>40&&t&&(S>90?w(120):w(`${S+20}px`))},[i]);const y=()=>{i===""&&d.length===0||(n(i,d),a(""),h([]),c(!1),g.current.style.lineHeight="30px",g.current.style.height="10px",s.current.style.height="auto")},m=S=>{S.key==="Enter"&&(S.preventDefault(),y())},x=(S,E,I)=>{let P;if(E){P=`<img class="${_n["emoji-img"]}" src="${S}" style="width: 22px; height: 22px"/>`,a(i+P+"​");return}const N=`<span class="${_n.emoji}" style="font-family: ${I}">${S}</span>`;a(i+N+"​")},k=S=>{let E=S.target.innerHTML;a(E)};p.useEffect(()=>{if(d.length>0){w(160);return}w(50)},[d]);const b=S=>{w(N=>N+100);const E=S.target.files;if(E.length>5){v({isShow:!0,text:"Максимально возможное число фотографий - 5"});return}for(let N=0;N<E.length;N++){const R=E[N];if(!R.type.startsWith("image/")){v({isShow:!0,text:`Файл ${R.name} не является изображением. Выберите только изображения.`});return}}if(E.length>5)return;Array.from(S.target.files).forEach(N=>{console.log(N),h(R=>[...R,N])}),f.current.value=""},T=S=>{h(E=>E.filter((I,P)=>P!==S))};return p.useEffect(()=>{const S=document.createRange();S.selectNodeContents(g.current),S.collapse(!1);const E=window.getSelection();E.removeAllRanges(),E.addRange(S)},[i]),p.useEffect(()=>{const S=I=>{g.current&&(g.current.scrollTop+=I.deltaY)},E=g.current;return E&&E.addEventListener("wheel",S),()=>{E&&E.removeEventListener("wheel",S)}},[]),u.jsx(u.Fragment,{children:u.jsxs("section",{className:_n["input-container"],children:[u.jsx(Yt,{isShow:C.isShow,text:C.text}),u.jsx(kW,{isShow:l,isTop:t,marginTop:`${_}px`,isImages:d.length>0&&!0,onEmojiSelect:x}),u.jsxs("button",{className:_n["button-circle"],style:{background:r.element_first_color},onClick:()=>document.getElementById("file-input").click(),children:[u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:r.text_first_color,"stroke-width":"2","stroke-linecap":"round"})}),u.jsx("input",{type:"file",id:"file-input",multiple:!0,ref:f,style:{display:"none"},onChange:b})]}),u.jsxs("div",{className:_n["input-message-body"],style:{background:r.element_first_color},children:[d.length>0&&u.jsx("div",{className:_n["image-previewer"],children:d.map((S,E)=>u.jsxs("div",{className:_n["image-wrapper"],children:[u.jsx("button",{className:_n["remove-image"],onClick:()=>T(E),children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:r.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})}),u.jsx("div",{className:_n["image-no-select"]}),S&&u.jsx("img",{src:URL.createObjectURL(S),alt:"Preview"})]},E))}),u.jsxs("div",{className:_n["input-message-wrapper"],ref:s,style:{alignItems:t?"flex-end":"flex-start"},children:[u.jsx("button",{className:_n["emoji-button"],onClick:()=>c(!l),children:u.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",stroke:r.text_first_color,"stroke-width":"2"}),u.jsx("path",{d:"M8.25049 15.5C9.13085 16.1525 10.2028 16.5357 11.3576 16.5357C12.5125 16.5357 13.5844 16.1525 14.4648 15.5",stroke:r.text_first_color,"stroke-width":"2","stroke-linecap":"round"}),u.jsx("path",{d:"M15.5006 9.80356C15.5006 10.6611 15.0366 11.3571 14.4649 11.3571C13.8932 11.3571 13.4292 10.6611 13.4292 9.80356C13.4292 8.94599 13.8932 8.24999 14.4649 8.24999C15.0366 8.24999 15.5006 8.94599 15.5006 9.80356Z",fill:r.text_first_color}),u.jsx("path",{d:"M8.25007 11.3571C8.82208 11.3571 9.28578 10.6616 9.28578 9.80356C9.28578 8.94555 8.82208 8.24999 8.25007 8.24999C7.67806 8.24999 7.21436 8.94555 7.21436 9.80356C7.21436 10.6616 7.67806 11.3571 8.25007 11.3571Z",fill:r.text_first_color})]})}),u.jsx("div",{ref:g,className:_n["message-input"],contentEditable:!0,onInput:k,onKeyPress:m,"data-placeholder":e,dangerouslySetInnerHTML:{__html:i},suppressContentEditableWarning:!0,style:{color:r.text_first_color,caretColor:r.first_color,"--placeholder-color":r.text_third_color}}),u.jsx("button",{className:_n["send-button"],style:{background:r.first_color},onClick:y,children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M2.20711 11.2071C1.81658 11.5976 1.18342 11.5976 0.792893 11.2071C0.402369 10.8166 0.402369 10.1834 0.792893 9.79289L2.20711 11.2071ZM10.5 0.5C11.0523 0.5 11.5 0.947715 11.5 1.5L11.5 10.5C11.5 11.0523 11.0523 11.5 10.5 11.5C9.94772 11.5 9.5 11.0523 9.5 10.5L9.5 2.5L1.5 2.5C0.947715 2.5 0.5 2.05228 0.5 1.5C0.5 0.947715 0.947715 0.5 1.5 0.5L10.5 0.5ZM0.792893 9.79289L9.79289 0.792893L11.2071 2.20711L2.20711 11.2071L0.792893 9.79289Z",fill:r.text_first_color})})})]})]})]})})}const SW="_animated_1wmka_14",EW="_show_1wmka_32",TW="_close_1wmka_74",IW="_download_1wmka_82",an={"viewer-area":"_viewer-area_1wmka_1",animated:SW,"image-view":"_image-view_1wmka_18","viewer-actions":"_viewer-actions_1wmka_21","prev-button":"_prev-button_1wmka_26","next-button":"_next-button_1wmka_29",show:EW,"viewer-button":"_viewer-button_1wmka_63",close:TW,download:IW,"image-wrapper":"_image-wrapper_1wmka_89","image-view-bg":"_image-view-bg_1wmka_157","image-no-select":"_image-no-select_1wmka_172"};function ri({isShow:t,images:e,index:n,onClose:r}){const{theme:o,setElementColors:s}=p.useContext($),[i,a]=p.useState(n),[l,c]=p.useState([]),[d,h]=p.useState(!1),f=v6(0);p.useEffect(()=>{console.log(e);let x=[];Array.isArray(e)?c(e):(x.push(e),c(x),console.log(x))},[e]),p.useEffect(()=>{a(n)},[n]);const g=()=>{a(x=>x===l.length-1?0:x+1)},_=()=>{a(x=>x===0?l.length-1:x-1)},w=()=>{h(!0)},C=()=>{h(!1),f.get()<-50?a(x=>x===0?l.length-1:x-1):f.get()>50&&a(x=>x===l.length-1?0:x+1),f.set(0)},v=x=>{const k=decodeURIComponent(x),b=k.indexOf("post_photos/"),T=k.indexOf("?alt=media");if(b===-1||T===-1)throw new Error("Не удалось найти путь в URL");return k.substring(b,T)},y=()=>{const x=l[i],k=document.createElement("a");console.log("URL:",x);const b="повестка.png";if(x.startsWith("blob:"))console.log("Downloading blob URL"),k.href=x,k.download=b,document.body.appendChild(k),k.click(),document.body.removeChild(k);else if(x.startsWith("https://firebasestorage.googleapis.com")){console.log("Downloading from Firebase Storage");try{const T=v(x);Zr(xr(Cr,T)).then(S=>{console.log("Firebase download URL:",S),fetch(S).then(E=>{if(!E.ok)throw new Error("Network response was not ok.");return E.blob()}).then(E=>{console.log("Blob:",E);const I=window.URL.createObjectURL(E);console.log("Blob URL:",I),k.href=I,k.download=b,document.body.appendChild(k),k.click(),document.body.removeChild(k),window.URL.revokeObjectURL(I)}).catch(E=>{console.error("Error fetching file:",E)})}).catch(S=>{console.error("Error getting download URL from Firebase:",S)})}catch(T){console.error("Error converting Firebase URL:",T)}}else console.log("Downloading from other URL"),k.href=x,k.download=b,document.body.appendChild(k),k.click(),document.body.removeChild(k)},m={enter:{opacity:0,x:90,scale:.5,transition:{duration:.2}},center:{opacity:1,x:0,scale:1,transition:{duration:.2}},exit:{opacity:0,x:-90,scale:.5,transition:{duration:.2}}};return u.jsxs("div",{className:`${an["viewer-area"]} ${an.animated} ${t?an.show:""}`,children:[u.jsxs("div",{className:an["viewer-actions"],children:[u.jsx("button",{className:`${an["viewer-button"]} ${an.download}`,onClick:y,children:u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M8.5 1C8.5 0.447715 8.05228 2.41411e-08 7.5 0C6.94772 -2.41411e-08 6.5 0.447715 6.5 1L8.5 1ZM6.79289 14.435C7.18342 14.8256 7.81658 14.8256 8.20711 14.435L14.5711 8.07107C14.9616 7.68054 14.9616 7.04738 14.5711 6.65685C14.1805 6.26633 13.5474 6.26633 13.1569 6.65685L7.5 12.3137L1.84315 6.65685C1.45262 6.26633 0.819456 6.26633 0.428932 6.65685C0.0384075 7.04738 0.0384075 7.68054 0.428932 8.07107L6.79289 14.435ZM6.5 1L6.5 13.7279L8.5 13.7279L8.5 1L6.5 1Z",fill:o.text_first_color})})}),u.jsx("button",{className:`${an["viewer-button"]} ${an.close}`,onClick:r,children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:o.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]}),u.jsxs("div",{className:an["image-wrapper"],children:[l.length>1&&u.jsx("button",{className:an["prev-button"],onClick:_,children:u.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M14.3638 6.36395C14.9161 6.36395 15.3638 6.81167 15.3638 7.36395C15.3638 7.91624 14.9161 8.36395 14.3638 8.36395L14.3638 6.36395ZM0.92874 8.07106C0.538216 7.68053 0.538216 7.04737 0.92874 6.65684L7.2927 0.292884C7.68323 -0.0976401 8.31639 -0.09764 8.70692 0.292884C9.09744 0.683409 9.09744 1.31657 8.70692 1.7071L3.05006 7.36395L8.70691 13.0208C9.09744 13.4113 9.09744 14.0445 8.70691 14.435C8.31639 14.8255 7.68322 14.8255 7.2927 14.435L0.92874 8.07106ZM14.3638 8.36395L1.63585 8.36395L1.63585 6.36395L14.3638 6.36395L14.3638 8.36395Z",fill:o.text_first_color})})}),u.jsx(st.div,{className:an["image-view"],variants:m,style:{x:f},drag:"x",dragConstraints:{left:0,right:0},onDragStart:w,onDragEnd:C,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween"},children:u.jsxs("div",{className:an["image-view-bg"],children:[u.jsx("div",{className:an["image-no-select"]}),u.jsx("img",{src:l&&l[i]},l[i])]})},l[i]),l.length>1&&u.jsx("button",{className:an["next-button"],onClick:g,children:u.jsx("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 9C0.447715 9 0 8.55228 0 8C0 7.44772 0.447715 7 1 7L1 9ZM14.435 7.29289C14.8256 7.68342 14.8256 8.31658 14.435 8.70711L8.07107 15.0711C7.68054 15.4616 7.04738 15.4616 6.65685 15.0711C6.26633 14.6805 6.26633 14.0474 6.65685 13.6569L12.3137 8L6.65685 2.34315C6.26633 1.95262 6.26633 1.31946 6.65685 0.928932C7.04738 0.538408 7.68054 0.538408 8.07107 0.928932L14.435 7.29289ZM1 7L13.7279 7V9L1 9L1 7Z",fill:o.text_first_color})})})]})]})}function NW(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($);p.useState("");const[o,s]=p.useState({}),[i,a]=p.useState(),{authUser:l}=ue();p.useRef(null);const c=p.useRef(null);p.useState(!1);const[d,h]=p.useState(!0);p.useEffect(()=>{h(Object.keys(o).length===0)},[o]);const[f,g]=p.useState({isShow:!1,images:[],index:null}),_=ye();p.useEffect(()=>{c.current&&window.scrollTo(0,1e6)},[o]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>_("/menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[$]),p.useEffect(()=>{const y=La(Yc(wr(W,"users",l._id,"messages"),Qc("timestamp","asc")),m=>{const x={};m.forEach(k=>{const b=k.data(),T=new Date(b.timestamp),S=b.isUser,E=T.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});x[E]||(x[E]=[]);const I={...b,isUser:S,userName:l.name};x[E].push(I)}),s(x)});return()=>{y()}},[]);const w=async(y,m)=>{try{const x=new Date().toISOString();await qf(wr(W,"users",l._id,"messages"),{text:y.text,timestamp:x,isUser:m,userName:l.name,photos:y.images}),console.log("Message saved successfully.")}catch(x){console.error("Error adding document: ",x)}},C=async(y,m)=>{try{const x=new Date().toISOString();let k=[];for(const I of m){const P=xr(Cr,`messenger_photos/${l._id}/${x}_${I.name}`);await Vs(P,I);const N=await Zr(P);k.push(N)}await w({text:y,images:k},!0),a(!0);const[T,S]=await vW(y,m);await w({text:T,images:[]},S),a(!1)}catch(x){console.error("Error handling send: ",x),a(!1)}finally{a(!1)}},v=(y,m)=>{g({isShow:!0,images:y,index:m})};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:He["background-cover"],style:{background:t.background_color},children:u.jsx(tv,{placeholder:"Сообщение",isPanelTop:!1,onSend:C})}),u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),u.jsxs("div",{className:He.container,children:[u.jsx(ri,{isShow:f.isShow,images:f.images,index:f.index,onClose:()=>g({isShow:!1})}),u.jsxs("div",{className:He["messages-container"],ref:c,style:{background:t.background_color},children:[d?u.jsxs("div",{className:He.greeting,children:[u.jsxs("div",{className:He["greeting-title"],style:{background:`linear-gradient(90deg,${t.gradient_first_color} 0%,${t.gradient_second_color} 50%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:["Привет, ",l.name,"!"]}),u.jsx("div",{className:He["greeting-text"],style:{color:t.text_second_color},children:"Чем я могу помочь?"})]}):Object.keys(o).map(y=>u.jsx(zq,{date:y,messages:o[y],textColor:t.text_first_color,backgroundColor:t.element_first_color,photoClick:v},y)),i&&u.jsx(Hq,{textColor:t.text_first_color},"loading")]})]})]})}const AW="_container_1q6t1_1",PW="_week_1q6t1_11",RW="_day_1q6t1_20",jW="_edit_1q6t1_92",LW="_circle_1q6t1_121",OW="_button_1q6t1_131",Ie={container:AW,week:PW,day:RW,"day-date":"_day-date_1q6t1_35","lessons-container":"_lessons-container_1q6t1_40","lesson-body":"_lesson-body_1q6t1_49","lesson-circle":"_lesson-circle_1q6t1_60","lesson-name":"_lesson-name_1q6t1_69","lesson-time":"_lesson-time_1q6t1_74","lesson-room":"_lesson-room_1q6t1_79","info-body":"_info-body_1q6t1_85",edit:jW,"add-body":"_add-body_1q6t1_112",circle:LW,button:OW};function DW({color:t,backgroundColor:e,textColor:n,lessonName:r,lessonTimeStart:o,lessonTimeEnd:s,lessonRoom:i,arrowColor:a}){return p.useContext($),p.useState("var(--first-color)"),p.useState("var(--text-first-color)"),u.jsxs("div",{className:Ie["lesson-body"],style:{background:e},children:[u.jsx("circle",{className:Ie["lesson-circle"],style:{background:t},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.29289 10.7071C9.68342 11.0976 10.3166 11.0976 10.7071 10.7071C11.0976 10.3166 11.0976 9.68342 10.7071 9.29289L9.29289 10.7071ZM1 4.72575e-08C0.447715 -3.74211e-07 -3.74211e-07 0.447715 4.72575e-08 1L-1.63477e-07 10C-1.63477e-07 10.5523 0.447715 11 1 11C1.55228 11 2 10.5523 2 10L2 2L10 2C10.5523 2 11 1.55228 11 1C11 0.447715 10.5523 -1.63477e-07 10 -1.63477e-07L1 4.72575e-08ZM10.7071 9.29289L1.70711 0.292893L0.292893 1.70711L9.29289 10.7071L10.7071 9.29289Z",fill:a})})}),u.jsxs("div",{className:Ie["lesson-info"],children:[u.jsx("div",{className:Ie["lesson-name"],style:{color:n},children:r}),u.jsx("div",{className:Ie["lesson-time"],style:{color:n},children:`${o} - ${s}`})]}),u.jsx("div",{className:Ie["lesson-room"],style:{color:n},children:i})]})}const MW="_area_1d870_1",$W="_body_1d870_14",FW="_header_1d870_21",BW="_line_1d870_30",UW="_title_1d870_35",VW="_close_1d870_40",zW="_border_1d870_59",HW="_circle_1d870_71",qW="_text_1d870_80",WW="_progress_1d870_119",Te={area:MW,body:$W,header:FW,line:BW,title:UW,close:VW,"add-area":"_add-area_1d870_51",border:zW,circle:HW,text:qW,"file-body":"_file-body_1d870_85","file-wrapper":"_file-wrapper_1d870_96","remove-button":"_remove-button_1d870_104","file-info":"_file-info_1d870_109","progress-bar":"_progress-bar_1d870_119",progress:WW,"input-container":"_input-container_1d870_128","input-body":"_input-body_1d870_136","error-container":"_error-container_1d870_154","color-container":"_color-container_1d870_164","circles-container":"_circles-container_1d870_174","color-circle":"_color-circle_1d870_184","active-circle":"_active-circle_1d870_194","button-container":"_button-container_1d870_201","main-button":"_main-button_1d870_209"},ou=[{name:"default",colors:["#0040F9","#C3F82B","#FF4365"]},{name:"genery",colors:["linear-gradient(75deg, #2400FF 0%, #00C2FF 80%)","linear-gradient(75deg, #C3F82B 0%, #00FF66 80%)","linear-gradient(75deg, #FF4365 0%, #AD00FF 80%)"]},{name:"kyrgyzstan",colors:["#E3010F","#FEF400"]},{name:"winter_2024",colors:["#CBE0FF","#85AFED"]}];function GW({id:t,isShow:e,close:n}){const{theme:r,elementColors:o,setElementColors:s}=p.useContext($),[i,a]=p.useState([]),{authUser:l}=ue(),[c,d]=p.useState(r.first_color),[h,f]=p.useState(""),[g,_]=p.useState(),[w,C]=p.useState(!1),[v,y]=p.useState(0),[m,x]=p.useState({isShow:!1,text:""}),[k,b]=p.useState({isShow:!1,text:""}),T={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};p.useEffect(()=>{(async()=>{if(l&&l._id){const O=X(W,"users",l._id,"info","preferences"),M=await ae(O);if(M.exists()){const z=M.data();a(A=>[...A,...z.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[l]);const S=i?ou.filter(j=>i.includes(j.name)):[],E=async()=>{if(h.length<3){x({isShow:!0,text:"Название должно быть более 3 символов"});return}else x({isShow:!1,text:""});if(g)b({isShow:!1,text:""});else{b({isShow:!0,text:"Прикрепите файл"});return}C(!0);try{const j=xr(Cr,`groups_files/${t}/${g.name}`);try{await kM(j),b({isShow:!0,text:"Файл с таким именем уже существует"}),C(!1);return}catch(M){if(M.code==="storage/object-not-found")console.log("File does not exist, proceeding with upload.");else{console.error("Error checking file existence:",M),b({isShow:!0,text:"Ошибка при проверке наличия файла"}),C(!1);return}}const O=bM(j,g);O.on("state_changed",M=>{const z=M.bytesTransferred/M.totalBytes*100;y(z)},M=>{console.error("Error uploading file:",M),b({isShow:!0,text:"Ошибка при загрузке файла"}),C(!1)},async()=>{const M=await Zr(O.snapshot.ref),z={color:c,link:M,name:h},A=X(W,"groups",t,"info","downloads"),D=await ae(A);let G=[];D.exists()&&(G=D.data().files||[]),G.push(z),await gt(A,{files:G},{merge:!0}),C(!1),f(""),_(null),d(r.first_color),n()})}catch(j){console.error("Error uploading file:",j),b({isShow:!0,text:"Ошибка при загрузке файла"}),C(!1)}finally{f(""),_(null),d(r.first_color)}},I=j=>{_(j.target.files[0])},P=()=>{document.getElementById("fileInput").click()},N=()=>{_(null)},R=()=>{f(""),_(null),d(r.first_color),n()};return u.jsx(st.div,{className:Te.area,animate:e?"open":"closed",variants:T,transition:{duration:.1},children:u.jsxs(st.section,{className:Te.body,style:{background:r.element_first_color},animate:e?"show":"hidden",variants:T,transition:{duration:.5},children:[u.jsxs("header",{className:Te.header,children:[u.jsx("div",{className:Te.title,style:{color:r.text_third_color},children:"Добавление файла"}),u.jsx("button",{className:Te.close,style:{background:r.element_second_color},onClick:R,children:u.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})})]}),u.jsx("line",{className:Te.line,style:{background:r.element_second_color}}),u.jsxs("div",{className:Te["add-area"],children:[g?u.jsxs("div",{className:Te["file-body"],style:{border:`1px solid ${r.element_second_color}`},children:[u.jsxs("div",{className:Te["file-wrapper"],children:[u.jsx("button",{className:Te["remove-button"],style:{background:r.element_second_color,color:r.text_first_color,border:"none",borderRadius:"3px",cursor:"pointer"},onClick:N,children:u.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})}),u.jsxs("div",{className:Te["file-info"],style:{color:r.text_first_color},children:[u.jsx("div",{children:g.name}),u.jsxs("div",{children:[(g.size/(1024*1024)).toFixed(2)," MB"]})]})]}),w&&u.jsx("div",{className:Te["progress-bar"],style:{background:r.element_second_color},children:u.jsx("div",{className:Te.progress,style:{background:r.first_color,width:`${v}%`}})})]}):u.jsxs("div",{className:Te.border,style:{border:`1px solid ${r.element_second_color}`},onClick:P,children:[u.jsx("div",{className:Te.circle,style:{background:r.element_second_color},children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9 1.5L9 9M9 16.5L9 9M9 9L16.5 9M9 9L1.5 9",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})})}),u.jsx("div",{className:Te.text,style:{color:r.text_third_color},children:"Загрузите файл размером до 300мб"})]}),u.jsx("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:I})]}),k.isShow&&u.jsx("div",{className:Te["error-container"],style:{color:r.text_first_color},children:k.text}),u.jsx("div",{className:Te["input-container"],children:u.jsx("input",{className:Te["input-body"],placeholder:"Название",style:{background:r.element_second_color,color:r.text_first_color,caretColor:r.first_color,"--placeholder-color":r.text_third_color},value:h,onInput:j=>f(j.target.value)})}),m.isShow&&u.jsx("div",{className:Te["error-container"],style:{color:r.text_first_color},children:m.text}),u.jsxs("div",{className:Te["color-container"],children:[u.jsx("div",{className:Te.title,style:{color:r.text_first_color},children:"Выберите цвет"}),u.jsx("div",{className:Te["circles-container"],children:S.map(j=>u.jsx(u.Fragment,{children:j.colors.map((O,M)=>u.jsx("div",{className:Te["color-circle"],style:{background:O},onClick:()=>d(O),children:c===O&&u.jsx("div",{className:Te["active-circle"],style:{borderColor:"var(--text-first-color)"}})},M))}))})]}),u.jsx("div",{className:Te["button-container"],children:u.jsx("button",{className:Te["main-button"],style:{background:r.first_color,color:r.text_first_color},onClick:E,children:"Добавить"})})]})})}function KW({color:t,backgroundColor:e,textColor:n,lessonName:r,lessonTimeStart:o,lessonTimeEnd:s,lessonRoom:i,onRemove:a}){const{theme:l,elementColors:c,setElementColors:d}=p.useContext($);return p.useState("var(--first-color)"),p.useState("var(--text-first-color)"),u.jsxs("div",{className:Ie["lesson-body"],style:{background:e},children:[u.jsx("circle",{className:Ie["lesson-circle"],style:{background:t},onClick:a,children:u.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M11.8031 1.1967L6.49984 6.5M1.19654 11.8033L6.49984 6.5M6.49984 6.5L11.8031 11.8033M6.49984 6.5L1.19654 1.1967",stroke:l.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})}),u.jsxs("div",{className:Ie["lesson-info"],children:[u.jsx("div",{className:Ie["lesson-name"],style:{color:n},children:r}),u.jsx("div",{className:Ie["lesson-time"],style:{color:n},children:`${o} - ${s}`})]}),u.jsx("div",{className:Ie["lesson-room"],style:{color:n},children:i})]})}const oo={"notif-area":"_notif-area_gbq6r_1","notif-body":"_notif-body_gbq6r_14","notif-info":"_notif-info_gbq6r_25","notif-title":"_notif-title_gbq6r_34","notif-text":"_notif-text_gbq6r_43","button-container":"_button-container_gbq6r_52","first-button":"_first-button_gbq6r_60","first-arrow":"_first-arrow_gbq6r_80","second-button":"_second-button_gbq6r_85"};function Ma({title:t,text:e,isShow:n,firstButtonName:r,secondButtonName:o,firstButtonOnClick:s,secondButtonOnClick:i}){const{theme:a,elementColors:l,setElementColors:c}=p.useContext($),d={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};return u.jsx(st.div,{className:oo["notif-area"],animate:n?"open":"closed",variants:d,transition:{duration:.1},children:u.jsxs(st.div,{className:oo["notif-body"],style:{background:a.element_first_color},animate:n?"show":"hidden",variants:d,transition:{duration:.5},children:[u.jsxs("div",{className:oo["notif-info"],children:[u.jsx("div",{className:oo["notif-title"],style:{color:a.text_first_color},children:t}),u.jsx("div",{className:oo["notif-text"],style:{color:a.text_first_color},children:e})]}),u.jsxs("div",{className:oo["button-container"],children:[u.jsx("button",{className:oo["first-button"],style:{background:a.element_second_color,color:a.text_first_color},onClick:s,children:r}),u.jsx("button",{className:oo["second-button"],style:{background:a.first_color,color:a.text_first_color},onClick:i,children:o})]})]})})}const YW="_area_1s5gc_1",QW="_body_1s5gc_14",ZW="_header_1s5gc_21",XW="_line_1s5gc_30",JW="_title_1s5gc_35",eG="_close_1s5gc_40",tG="_border_1s5gc_59",nG="_circle_1s5gc_71",rG="_text_1s5gc_80",oG="_progress_1s5gc_119",Fe={area:YW,body:QW,header:ZW,line:XW,title:JW,close:eG,"add-area":"_add-area_1s5gc_51",border:tG,circle:nG,text:rG,"file-body":"_file-body_1s5gc_85","file-wrapper":"_file-wrapper_1s5gc_96","remove-button":"_remove-button_1s5gc_104","file-info":"_file-info_1s5gc_109","progress-bar":"_progress-bar_1s5gc_119",progress:oG,"input-container":"_input-container_1s5gc_128","input-body":"_input-body_1s5gc_136","time-container":"_time-container_1s5gc_154","input-wrapper":"_input-wrapper_1s5gc_164","error-container":"_error-container_1s5gc_172","color-container":"_color-container_1s5gc_182","circles-container":"_circles-container_1s5gc_192","color-circle":"_color-circle_1s5gc_202","active-circle":"_active-circle_1s5gc_212","button-container":"_button-container_1s5gc_219","main-button":"_main-button_1s5gc_227"};function sG({activeDay:t,id:e,isShow:n,close:r}){const{theme:o,elementColors:s,setElementColors:i}=p.useContext($),[a,l]=p.useState([]),{authUser:c}=ue(),[d,h]=p.useState(o.first_color),[f,g]=p.useState(""),[_,w]=p.useState(),[C,v]=p.useState(""),[y,m]=p.useState(""),[x,k]=p.useState(""),[b,T]=p.useState([]),[S,E]=p.useState({isShow:!1,text:""});p.useState({isShow:!1,text:""});const I={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};p.useEffect(()=>{(async()=>{if(c&&c._id){const O=X(W,"users",c._id,"info","preferences"),M=await ae(O);if(M.exists()){const z=M.data();l(A=>[...A,...z.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[c]);const P=a?ou.filter(j=>a.includes(j.name)):[],N=async()=>{if(f.length<3){E({isShow:!0,text:"Название должно быть более 3 символов"});return}else E({isShow:!1,text:""});try{const j=X(W,"groups",e,"info","timetable"),O=await ae(j);if(O.exists()){const z=O.data().timetable||[],A={name:f,timeStart:C,timeEnd:y,room:x,color:d};z[t]?z[t].lessons.push(A):z[t]={day:"",lessons:[A]},await gt(j,{timetable:z},{merge:!0}),T(z),g(""),v(""),m(""),k(""),h(o.first_color),r()}else console.log("No such document!"),T([])}catch(j){console.error("Error adding lesson:",j)}finally{g(""),v(""),m(""),k(""),h(o.first_color)}},R=()=>{g(""),w(null),h(o.first_color),r()};return u.jsx(st.div,{className:Fe.area,animate:n?"open":"closed",variants:I,transition:{duration:.1},children:u.jsxs(st.section,{className:Fe.body,style:{background:o.element_first_color},animate:n?"show":"hidden",variants:I,transition:{duration:.5},children:[u.jsxs("header",{className:Fe.header,children:[u.jsx("div",{className:Fe.title,style:{color:o.text_third_color},children:"Добавление урока"}),u.jsx("button",{className:Fe.close,style:{background:o.element_second_color},onClick:R,children:u.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:o.text_first_color,"stroke-linecap":"round"})})})]}),u.jsx("line",{className:Fe.line,style:{background:o.element_second_color}}),u.jsx("div",{className:Fe["input-container"],children:u.jsx("input",{className:Fe["input-body"],placeholder:"Название",style:{background:o.element_second_color,color:o.text_first_color,caretColor:o.first_color,"--placeholder-color":o.text_third_color},value:f,onInput:j=>g(j.target.value)})}),S.isShow&&u.jsx("div",{className:Fe["error-container"],style:{color:o.text_first_color},children:S.text}),u.jsxs("div",{className:Fe["time-container"],children:[u.jsx("div",{className:Fe.title,style:{color:o.text_first_color},children:"Введите время"}),u.jsxs("div",{className:Fe["input-wrapper"],children:[u.jsx("input",{className:Fe["input-body"],placeholder:"Начало",style:{background:o.element_second_color,color:o.text_first_color,caretColor:o.first_color,"--placeholder-color":o.text_third_color},value:C,onInput:j=>v(j.target.value)}),u.jsx("line",{className:Fe.line,style:{background:o.element_second_color}}),u.jsx("input",{className:Fe["input-body"],placeholder:"Конец",style:{background:o.element_second_color,color:o.text_first_color,caretColor:o.first_color,"--placeholder-color":o.text_third_color},value:y,onInput:j=>m(j.target.value)})]})]}),u.jsx("div",{className:Fe["input-container"],children:u.jsx("input",{className:Fe["input-body"],placeholder:"Кабинет",style:{background:o.element_second_color,color:o.text_first_color,caretColor:o.first_color,"--placeholder-color":o.text_third_color},value:x,onInput:j=>k(j.target.value)})}),u.jsxs("div",{className:Fe["color-container"],children:[u.jsx("div",{className:Fe.title,style:{color:o.text_first_color},children:"Выберите цвет"}),u.jsx("div",{className:Fe["circles-container"],children:P.map(j=>u.jsx(u.Fragment,{children:j.colors.map((O,M)=>u.jsx("div",{className:Fe["color-circle"],style:{background:O},onClick:()=>h(O),children:d===O&&u.jsx("div",{className:Fe["active-circle"],style:{borderColor:"var(--text-first-color)"}})},M))}))})]}),u.jsx("div",{className:Fe["button-container"],children:u.jsx("button",{className:Fe["main-button"],style:{background:o.first_color,color:o.text_first_color},onClick:N,children:"Добавить"})})]})})}const rC=[{day:"ПН",lessons:[]},{day:"ВТ",lessons:[]},{day:"СР",lessons:[]},{day:"ЧТ",lessons:[]},{day:"ПТ",lessons:[]},{day:"СБ",lessons:[]},{day:"ВС",lessons:[]}];function iG({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:o}=p.useContext($),[s,i]=p.useState([]),[a,l]=p.useState(0);p.useState();const[c,d]=p.useState(),[h,f]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[g,_]=p.useState();ue(),ye(),p.useEffect(()=>{(async()=>{try{const m=X(W,"groups",t,"info","info"),x=await ae(m);if(x.exists()){const k=x.data();_(k.owner)}else console.error("Group not found")}catch(m){console.error("Error fetching group data:",m)}finally{}})()},[t]);const w=async()=>{if(t)try{const y=X(W,"groups",t,"info","timetable"),m=await ae(y);if(m.exists()){const x=m.data();i(x.timetable),console.log(x.timetable)}else console.log("No such document! Creating a new one with initial data."),await gt(y,{timetable:rC}),i(rC)}catch(y){console.error("Error fetching group data:",y),i([])}else console.error("ID группы не указан"),i([])};p.useEffect(()=>{w()},[t]),p.useEffect(()=>{o({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:()=>e(),isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[$]);const C=(y,m)=>{const x=[...s];x[y].lessons.splice(m,1),i(x);const k=X(W,"groups",t,"info","timetable");gt(k,{timetable:x},{merge:!0})},v=async()=>{await w(),d(!1)};return u.jsxs(u.Fragment,{children:[u.jsx(Ma,{title:h.title,text:h.text,isShow:h.isShow,firstButtonName:h.firstButtonName,secondButtonName:h.secondButtonName,firstButtonOnClick:h.firstButtonOnClick,secondButtonOnClick:h.secondButtonOnClick}),u.jsx(sG,{activeDay:a,id:t,isShow:c,close:v}),u.jsx("div",{className:Ie.week,children:s&&s.length>0&&s.map((y,m)=>u.jsx("div",{onClick:()=>l(m),className:`${Ie.day} ${a===m?Ie.active:""}`,style:{background:a===m?n.first_color:n.element_first_color,color:n.text_first_color},children:y.day},m))}),u.jsxs("div",{className:Ie["lessons-container"],children:[s&&s.length>0&&s[a]&&u.jsxs(u.Fragment,{children:[s[a].lessons.map((y,m)=>u.jsx(KW,{color:y.color,backgroundColor:n.element_first_color,circleBackgroundColor:n.first_color,arrowColor:n.text_first_color,textColor:n.text_first_color,lessonName:y.name,lessonTimeStart:y.timeStart,lessonTimeEnd:y.timeEnd,lessonRoom:y.room,onRemove:()=>C(a,m)},m)),u.jsx("div",{className:Ie["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>d(!0),children:u.jsx("div",{className:Ie.circle,style:{background:n.element_first_color},children:u.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})})]}),u.jsx("button",{className:Ie.button,style:{background:n.first_color,color:n.text_first_color},onClick:e,children:"Сохранить"})]})]})}function aG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),{id:r}=eo(),[o,s]=p.useState(),[i,a]=p.useState([]),[l,c]=p.useState(),{authUser:d}=ue(),h=ye(),[f,g]=p.useState(!1);p.useEffect(()=>{const m=new Date().getDay(),x=m===0?6:m-1;i&&i.length>0&&i[x]?s(x):i&&i.length>0&&s(0)},[i]),p.useEffect(()=>{(async()=>{try{const x=X(W,"groups",r,"info","info"),k=await ae(x);if(k.exists()){const b=k.data();c(b.owner)}else console.error("Group not found")}catch(x){console.error("Error fetching group data:",x)}finally{}})()},[r]);const _=async()=>{if(r)try{const m=X(W,"groups",r,"info","timetable"),x=await ae(m);if(x.exists()){const k=x.data();a(k.timetable),console.log(k.timetable)}else console.log("No such document!"),a([])}catch(m){console.error("Error fetching group data:",m),a([])}else console.error("ID группы не указан"),a([])};p.useEffect(()=>{_()},[r]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${r}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[$]);const w=()=>{g(!0)},C=async()=>{g(!1),await _()};function v(m){if(!m)return!1;let x,k,b;if(m.startsWith("#"))if(m.length===4)x=parseInt(m[1]+m[1],16),k=parseInt(m[2]+m[2],16),b=parseInt(m[3]+m[3],16);else if(m.length===7)x=parseInt(m.slice(1,3),16),k=parseInt(m.slice(3,5),16),b=parseInt(m.slice(5,7),16);else return!1;else if(m.startsWith("rgb")){const S=m.substring(m.indexOf("(")+1,m.lastIndexOf(")")).split(",").map(Number);if(S.length===3)x=S[0],k=S[1],b=S[2];else return!1}else{const S=document.createElement("div");S.style.color=m,document.body.appendChild(S);const E=window.getComputedStyle(S).color;if(document.body.removeChild(S),E.startsWith("rgb")){const I=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(I.length===3)x=I[0],k=I[1],b=I[2];else return!1}else return!1}return(x*299+k*587+b*114)/1e3>180}const y=m=>{const x=new Date,k=x.getDay(),b=k===0?6:k-1,T=m-b,S=new Date(x);return S.setDate(x.getDate()+T),S.toLocaleDateString("ru-RU",{day:"numeric"})};return u.jsx("div",{className:Ie.container,children:f?u.jsx(iG,{id:r,handleEdit:C}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:Ie.week,children:i&&i.length>0&&i.map((m,x)=>u.jsxs("div",{onClick:()=>s(x),className:`${Ie.day} ${o===x?Ie.active:""}`,style:{background:o===x?t.first_color:t.element_first_color,color:t.text_first_color},children:[m.day,u.jsx("div",{className:Ie["day-date"],children:y(x)})]},x))}),u.jsx("div",{className:Ie["lessons-container"],children:i&&i.length>0&&i[o]?i[o].lessons.map((m,x)=>u.jsx(DW,{color:m.color,backgroundColor:t.element_first_color,circleBackgroundColor:t.first_color,arrowColor:v(m.color)?"#0A0B10":"#fff",textColor:t.text_first_color,lessonName:m.name,lessonTimeStart:m.timeStart,lessonTimeEnd:m.timeEnd,lessonRoom:m.room},x)):u.jsx("div",{className:Ie["info-body"],style:{color:t.text_first_color},children:"Тут пока пусто ..."})}),l&&l===d._id&&u.jsx("button",{className:Ie.edit,style:{background:t.first_color},onClick:w,children:u.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_first_color})})})]})})}const lG="_container_1ue5g_1",wo={container:lG,"category-name":"_category-name_1ue5g_12","contact-category":"_contact-category_1ue5g_17","category-container":"_category-container_1ue5g_23","item-body":"_item-body_1ue5g_30","item-icon":"_item-icon_1ue5g_43","item-name":"_item-name_1ue5g_51","item-info":"_item-info_1ue5g_56","item-circle":"_item-circle_1ue5g_64"},cG=[{category:"запросы",items:[{name:"Загрузки",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 21V27.6667C31 28.5507 30.6488 29.3986 30.0237 30.0237C29.3986 30.6488 28.5507 31 27.6667 31H4.33333C3.44928 31 2.60143 30.6488 1.97631 30.0237C1.35119 29.3986 1 28.5507 1 27.6667V21M7.66667 12.6667L16 21M16 21L24.3333 12.6667M16 21V1" stroke="{theme.text_first_color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"/downloads",category:"second"},{name:"Расписание",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 31C24.2845 31 31 24.2845 31 16C31 7.7155 24.2845 1 16 1C7.7155 1 1 7.7155 1 16C1 24.2845 7.7155 31 16 31Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linejoin="round"/>
                        <path d="M16.0059 7V16.0075L22.3651 22.3675" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
            `,link:"/timetable",category:"first"},{name:"Профиль",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 27C1 24.8783 1.73974 22.8434 3.05648 21.3431C4.37323 19.8429 6.15912 19 8.02128 19H23.9787C25.8409 19 27.6268 19.8429 28.9435 21.3431C30.2603 22.8434 31 24.8783 31 27C31 28.0609 30.6301 29.0783 29.9718 29.8284C29.3134 30.5786 28.4204 31 27.4894 31H4.51064C3.57956 31 2.68661 30.5786 2.02824 29.8284C1.36987 29.0783 1 28.0609 1 27Z" stroke="{theme.text_first_color}" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M16 13C19.3137 13 22 10.3137 22 7C22 3.68629 19.3137 1 16 1C12.6863 1 10 3.68629 10 7C10 10.3137 12.6863 13 16 13Z" stroke="{theme.text_first_color}" stroke-width="2"/>
                    </svg>
            `,link:"/profile",category:"first"}]},{category:"развелечения",items:[{name:"Кешбэк",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.196 28.804C5.395 31 8.929 31 16 31C23.071 31 26.6065 31 28.8025 28.8025C31 26.608 31 23.071 31 16C31 8.929 31 5.3935 28.8025 3.196C26.608 1 23.071 1 16 1C8.929 1 5.3935 1 3.196 3.196C1 5.395 1 8.929 1 16C1 23.071 1 26.608 3.196 28.804Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                        <path d="M25 10.75H19M25 19.75H19M25 24.25H19M13 10.75H10M10 10.75H7M10 10.75V7.75M10 10.75V13.75M12.25 19.75L10 22M10 22L7.75 24.25M10 22L7.75 19.75M10 22L12.25 24.25" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>`,link:"/cashback",category:"third"},{name:"Goosling",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 31L23.7617 23.7617M23.7617 23.7617C24.9999 22.5236 25.982 21.0537 26.6521 19.436C27.3222 17.8183 27.667 16.0845 27.667 14.3335C27.667 12.5825 27.3222 10.8487 26.6521 9.23101C25.982 7.61331 24.9999 6.14343 23.7617 4.9053C22.5236 3.66717 21.0537 2.68503 19.436 2.01495C17.8183 1.34488 16.0845 1 14.3335 1C12.5825 1 10.8487 1.34488 9.23101 2.01495C7.61331 2.68503 6.14343 3.66717 4.9053 4.9053C2.40478 7.40582 1 10.7973 1 14.3335C1 17.8698 2.40478 21.2612 4.9053 23.7617C7.40582 26.2623 10.7973 27.667 14.3335 27.667C17.8698 27.667 21.2612 26.2623 23.7617 23.7617Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"https://ridgeld.github.io/causegenerator.github.io/rayn_gosling.html",category:"first"}]},{category:"контакты",items:[{name:"Telegram",icon:`<svg width="36" height="30" viewBox="0 0 36 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M32.271 0.205239C32.7136 0.0235109 33.1981 -0.039166 33.674 0.0237315C34.1499 0.086629 34.5998 0.272802 34.9769 0.562873C35.354 0.852943 35.6445 1.23631 35.8182 1.67306C35.9918 2.10982 36.0423 2.584 35.9644 3.04625L31.902 27.083C31.508 29.4016 28.9001 30.7312 26.7202 29.5763C24.8968 28.6101 22.1886 27.1214 19.7526 25.5681C18.5347 24.7906 14.8037 22.3008 15.2622 20.5291C15.6563 19.0142 21.9253 13.3217 25.5076 9.93735C26.9137 8.6077 26.2724 7.84066 24.612 9.06373C20.487 12.1004 13.8687 16.7184 11.6799 18.0183C9.74905 19.1645 8.74242 19.3602 7.53876 19.1645C5.34281 18.8081 3.30627 18.2559 1.64408 17.5833C-0.602028 16.6747 -0.492768 13.6625 1.64229 12.7853L32.271 0.205239Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://t.me/genery_dm",category:"contact"},{name:"Vk",icon:`<svg width="36" height="21" viewBox="0 0 36 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M34.5534 20.9983H30.6117C29.121 20.9983 28.6719 19.8127 25.9997 17.1872C23.6644 14.9772 22.678 14.7024 22.0873 14.7024C21.2703 14.7024 21.0475 14.9229 21.0475 16.027V19.5074C21.0475 20.4488 20.7365 21 18.2319 21C15.8021 20.8397 13.4458 20.1149 11.3571 18.8852C9.26844 17.6556 7.50717 15.9563 6.21837 13.9273C3.15822 10.1874 1.02898 5.79801 0 1.10816C0 0.528092 0.224552 0.00230128 1.35077 0.00230128H5.28907C6.30128 0.00230128 6.66575 0.444983 7.06303 1.46773C8.97518 6.99362 12.2381 11.8004 13.563 11.8004C14.0708 11.8004 14.2919 11.5799 14.2919 10.3366V4.64452C14.1243 2.0478 12.72 1.829 12.72 0.889361C12.7378 0.641461 12.8533 0.410126 13.0419 0.244493C13.2306 0.0788594 13.4776 -0.00802255 13.7305 0.00230128H19.9212C20.7676 0.00230128 21.0475 0.416149 21.0475 1.41006V9.09339C21.0475 9.92278 21.4102 10.1975 21.6658 10.1975C22.1737 10.1975 22.564 9.92278 23.4951 9.01028C25.4907 6.62045 27.1212 3.95789 28.335 1.10646C28.4593 0.764109 28.6942 0.47106 29.0039 0.27201C29.3135 0.0729603 29.681 -0.021163 30.0503 0.00399725H33.9903C35.1718 0.00399725 35.4223 0.584064 35.1718 1.41176C33.7388 4.56382 31.9656 7.55588 29.8827 10.3366C29.4578 10.9727 29.2885 11.3034 29.8827 12.0497C30.2731 12.6298 31.655 13.7627 32.5825 14.8398C33.9333 16.1627 35.0543 17.6926 35.9025 19.3684C36.241 20.4471 35.6779 20.9983 34.5534 20.9983Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://vk.com/generatordm",category:"contact"},{name:"X",icon:`<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.2786 12.7995L28.1143 0H23.7243L16.2171 9.7755L9.55714 0H0L11.1514 16.365L0.671429 30H5.06286L13.2129 19.395L20.4429 30H30L18.2786 12.7995ZM14.8786 17.2245L12.8143 14.196L4.8 2.4405H8.1L14.5686 11.916L16.63 14.946L25.2271 27.5595H21.9271L14.8786 17.2245Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://x.com/GeneryDM",category:"contact"}]}];function uG({name:t,textColor:e,icon:n,link:r,category:o}){const{theme:s,setThemeById:i,elementColors:a,setElementColors:l}=p.useContext($);p.useState(s.text_first_color);const[c,d]=p.useState(s.first_color),[h,f]=p.useState(s.text_first_color),g=ye(),{authUser:_}=ue(),w=y=>{if(y.includes("https:"))window.location.href=y;else{if(y==="/timetable"){g(`/timetable/${_.mainGroup}`);return}if(y==="/downloads"){g(`/download/${_.mainGroup}`);return}g(y)}},C={first:{circle:s.first_color,icon:s.text_first_color},second:{circle:s.second_color,icon:s.text_second_color},third:{circle:s.third_color,icon:s.text_first_color},contact:{circle:s.element_first_color,icon:s.text_first_color}};p.useEffect(()=>{o in C?(d(C[o].circle),f(C[o].icon)):(d(s.first_color),f(s.second_color))},[o]);const v=n.replace(/{theme.text_first_color}/g,s.text_first_color);return u.jsxs("div",{className:wo["item-body"],style:{border:`2px solid ${s.element_first_color}`},onClick:()=>w(r),children:[u.jsxs("div",{className:wo["item-info"],children:[u.jsx("div",{className:wo["item-icon"],children:Hs(v)}),u.jsx("div",{className:wo["item-name"],style:{color:e},children:t})]}),u.jsx("div",{className:wo["item-circle"],style:{background:c},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:h})})})]})}function dG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($);return p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[t]),u.jsxs("div",{className:wo.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),cG.map((o,s)=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:wo[`${o.category==="контакты"?"contact-category":"category-name"}`],style:{color:t.text_first_color},children:o.category},s),u.jsx("div",{className:wo["category-container"],children:o.items.map((i,a)=>u.jsx(uG,{name:i.name,textColor:t.text_first_color,category:i.category,icon:i.icon,link:i.link},a))})]}))]})}const hG="_container_t3zkr_2",fG="_hashtags_t3zkr_159",pG="_image_0_t3zkr_437",mG="_image_1_t3zkr_453",gG="_image_2_t3zkr_469",yG="_image_3_t3zkr_485",_G="_image_4_t3zkr_501",vG="_emoji_t3zkr_517",ke={container:hG,"post-body":"_post-body_t3zkr_13","post-body-empty":"_post-body-empty_t3zkr_22","post-info":"_post-info_t3zkr_32","post-author":"_post-author_t3zkr_41","author-photo":"_author-photo_t3zkr_49","author-photo-empty":"_author-photo-empty_t3zkr_65","author-name":"_author-name_t3zkr_75","author-name-empty":"_author-name-empty_t3zkr_81","post-delete":"_post-delete_t3zkr_88","post-more":"_post-more_t3zkr_97","post-date":"_post-date_t3zkr_104","post-data":"_post-data_t3zkr_114","post-photo":"_post-photo_t3zkr_124","post-text":"_post-text_t3zkr_136","post-text-empty":"_post-text-empty_t3zkr_148",hashtags:fG,"post-buttons":"_post-buttons_t3zkr_163","post-actions":"_post-actions_t3zkr_170","action-like":"_action-like_t3zkr_179","action-send":"_action-send_t3zkr_198","input-container":"_input-container_t3zkr_212","message-action":"_message-action_t3zkr_224","add-file":"_add-file_t3zkr_232","input-body":"_input-body_t3zkr_251","image-preview":"_image-preview_t3zkr_261","remove-image":"_remove-image_t3zkr_274","input-component":"_input-component_t3zkr_293","smile-button":"_smile-button_t3zkr_304","input-message":"_input-message_t3zkr_325","send-button":"_send-button_t3zkr_344","images-body":"_images-body_t3zkr_363","images-wrapper_1":"_images-wrapper_1_t3zkr_367","images-wrapper_2":"_images-wrapper_2_t3zkr_381","images-wrapper_3":"_images-wrapper_3_t3zkr_395","images-wrapper_4":"_images-wrapper_4_t3zkr_409","images-wrapper_5":"_images-wrapper_5_t3zkr_423",image_0:pG,image_1:mG,image_2:gG,image_3:yG,image_4:_G,emoji:vG},wG="_body_unqzg_1",Xa={body:wG,"item-body":"_item-body_unqzg_17","item-info":"_item-info_unqzg_28","item-icon":"_item-icon_unqzg_35","item-name":"_item-name_unqzg_44"},xG=[{name:"Удалить",icon:`
            <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 6V16H3V6H11ZM9.5 0H4.5L3.5 1H0V3H14V1H10.5L9.5 0ZM13 4H1V16C1 17.1 1.9 18 3 18H11C12.1 18 13 17.1 13 16V4Z" fill="{theme.text_first_color}"/>
            </svg>
        `,borderRadius:"15px",id:"delete"}];function CG({isShow:t,onClick:e}){const{theme:n,setElementColors:r}=p.useContext($),o=i=>{e(i)},s={open:{opacity:1,scale:1},closed:{opacity:0,scale:0}};return u.jsx(st.div,{className:Xa.body,animate:t?"open":"closed",variants:s,transition:{duration:.1},style:{background:n.element_second_color,boxShadow:`0 5px 10px 5px ${n.shadow_color}`},children:xG.map((i,a)=>{const l=i.icon.replace(/{theme.text_first_color}/g,n.text_first_color);return u.jsx("div",{className:Xa["item-body"],onClick:()=>o(i.id),onMouseEnter:c=>{c.currentTarget.style.background=n.active_element_color},onMouseLeave:c=>{c.currentTarget.style.background="none"},children:u.jsxs("div",{className:Xa["item-info"],children:[u.jsx("div",{className:Xa["item-icon"],children:Hs(l)}),u.jsx("div",{className:Xa["item-name"],style:{color:n.text_first_color},children:i.name})]})},a)})})}function mp({postId:t,userPhoto:e,groupOwnerId:n,userId:r,userName:o,postData:s,postText:i,postPhotos:a,likesArray:l,photoClick:c,postAction:d}){const h=ye(),[f,g]=p.useState(!1),{theme:_,setThemeById:w,elementColors:C,setElementColors:v}=p.useContext($),{authUser:y}=ue();console.log(a);const[m,x]=p.useState(!1);p.useEffect(()=>{y&&l.includes(y._id)&&g(!0)},[y._id]);const k=async()=>{const N=X(W,"posts",t);f?(await Ho(N,{likesArray:hD(y._id)}),g(!1)):(await Ho(N,{likesArray:ls(y._id)}),g(!0))},b=N=>{d(N,t),x(!1)},T=(N,R)=>{c(N,R)},S=N=>typeof N=="string"?N.replace(/(#[\wа-яА-Я_]+)/g,R=>`<div class="${ke.hashtags}">${R}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map((R,j)=>R.startsWith("<div")?Hs(R):R):N,E=N=>{if(typeof N=="string")return S(N);if(ws.isValidElement(N)){const R=ws.Children.map(N.props.children,E);return ws.cloneElement(N,{children:R})}return N},I=N=>{const R=Hs(N);return E(R)},P=()=>{h(n?`/group/${r}`:`/profile/${r}`)};return u.jsxs("div",{className:ke["post-body"],style:{"--hashtag-color":_.icon_color},children:[u.jsx(CG,{isShow:m,onClick:b}),u.jsxs("div",{className:ke["post-info"],children:[u.jsxs("div",{className:ke["post-author"],onClick:()=>P(),children:[u.jsx("div",{className:ke["author-photo"],children:u.jsx("img",{src:e,className:ke["user-avatar"]})}),u.jsx("div",{className:ke["author-name"],style:{color:_.text_first_color},children:o})]}),r===y._id||n===y._id&&u.jsx("div",{className:ke["post-delete"],onClick:()=>x(!m),children:u.jsxs("div",{className:ke["post-more"],children:[u.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:_.text_first_color})}),u.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:_.text_first_color})}),u.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:_.text_first_color})})]})})]}),u.jsxs("div",{className:ke["post-data"],children:[a&&u.jsx("div",{className:ke["images-body"],children:u.jsx("div",{className:ke[`images-wrapper_${a.length}`],children:a.map((N,R)=>u.jsx(st.div,{className:ke[`image_${R}`],whileTap:{scale:1.5},children:u.jsx("img",{src:N,onClick:()=>T(a,R)})}))})}),i&&u.jsx("div",{className:ke["post-text"],style:{color:_.text_first_color},children:I(i)})]}),u.jsxs("div",{className:ke["post-actions"],children:[u.jsx("div",{className:ke["post-date"],style:{color:_.text_first_color},children:s}),u.jsxs("div",{className:ke["post-buttons"],children:[u.jsx("div",{className:ke["like-count"],style:{color:_.text_first_color},children:l.length}),u.jsx("div",{className:ke["action-like"],style:{background:_.third_color},onClick:k,children:u.jsx(st.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 32",fill:"none",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileTap:{scale:3,opacity:.5},children:f?u.jsx(st.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",fill:_.text_first_color},"heart-filled"):u.jsx(st.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",stroke:_.text_first_color,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"},"heart-outline")})}),u.jsx("div",{className:ke["action-send"],style:{background:_.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:_.text_first_color})})})]})]})]})}const bG="_moveGradient_1fo8g_1",oC={"circle-skeleton":"_circle-skeleton_1fo8g_2",moveGradient:bG,"rect-skeleton":"_rect-skeleton_1fo8g_20","skeleton-high":"_skeleton-high_1fo8g_38"};function wn({width:t,height:e,shape:n}){const{theme:r,setElementColors:o}=p.useContext($),s=()=>u.jsx("div",{className:oC["circle-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}}),i=()=>u.jsx("div",{className:oC["rect-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}});return u.jsx(u.Fragment,{children:n==="rect"?i():s()})}function Bt(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($);return u.jsxs("div",{className:ke["post-body-empty"],style:{background:t.element_first_color},children:[u.jsxs("div",{className:ke["post-info"],children:[u.jsxs("div",{className:ke["post-author"],children:[u.jsx("div",{className:ke["author-photo-empty"],children:u.jsx(wn,{width:"100%",height:"100%",shape:"circle"})}),u.jsx("div",{className:ke["author-name"],style:{color:t.text_first_color},children:u.jsx(wn,{width:"50%",height:"15px",shape:"rect"})})]}),u.jsx("div",{className:ke["post-date"],style:{color:t.text_first_color},children:u.jsx(wn,{width:"30%",height:"15px",shape:"rect"})})]}),u.jsx("div",{className:ke["post-data"],children:u.jsxs("div",{className:ke["post-text-empty"],children:[u.jsx(wn,{width:"100%",height:"15px",shape:"rect"}),u.jsx(wn,{width:"90%",height:"15px",shape:"rect"})]})})]})}function kG(){const[t,e]=p.useState([]),n=ye();p.useRef(null);const{theme:r,elementColors:o,setElementColors:s}=p.useContext($),{authUser:i}=ue(),[a,l]=p.useState(!0),[c,d]=p.useState({isShow:!1,images:[],index:null}),[h,f]=p.useState({isShow:!1,text:""}),[g,_]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"});p.useEffect(()=>{if(h.isShow){const k=setTimeout(()=>{f({isShow:!1})},1e3);return()=>clearTimeout(k)}},[h]),p.useEffect(()=>{s({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,arrowLink:()=>n("/menu"),isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:3}),document.body.style.background=r.background_color},[$]),p.useEffect(()=>{const k=La(Yc(wr(W,"posts"),Qc("timestamp","desc")),b=>{const T=[];b.forEach(S=>{const E=S.data(),I=new Date(E.timestamp),P=E.likesArray,N=I.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});T.push({id:S.id,userId:E.userId,groupOwnerId:E.groupOwnerId,userName:E.userName,userPhoto:E.userPhoto,postText:E.text,postPhoto:E.photos,postData:N,likesArray:P})}),e(T),l(!1)});return()=>{k()}},[]);const w=async(k,b)=>{try{const T=new Date().toISOString();let S=[];for(const E of b){const I=xr(Cr,`post_photos/${i._id}/${T}_${E.name}`);await Vs(I,E);const P=await Zr(I);S.push(P)}await C(k,S)}catch(T){console.error("Error handling send: ",T)}},C=async(k,b)=>{try{const T=new Date().toISOString();await qf(wr(W,"posts"),{photos:b,text:k,timestamp:T,userId:i._id,userName:i.name,userPhoto:i.avatar,likesArray:[]}),console.log("Message saved successfully.")}catch(T){console.error("Error adding document: ",T)}},v=(k,b)=>{d({isShow:!0,images:k,index:b})},y=()=>{_({isShow:!1})},m=async k=>{_({isShow:!1});try{await H9(X(W,"posts",k))}catch(b){console.error("Error deleting post: ",b)}finally{f({isShow:!0,text:"Пост удален"})}},x=(k,b)=>{switch(k){case"delete":return _({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:y,secondButtonOnClick:()=>m(b)});default:return _({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return u.jsxs("div",{className:ke.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${r.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),u.jsx(ri,{isShow:c.isShow,images:c.images,index:c.index,onClose:()=>d({isShow:!1})}),u.jsx(tv,{placeholder:"Что у вас нового?",isPanelTop:!0,onSend:w}),u.jsx(Ma,{title:g.title,text:g.text,isShow:g.isShow,firstButtonName:g.firstButtonName,secondButtonName:g.secondButtonName,firstButtonOnClick:g.firstButtonOnClick,secondButtonOnClick:g.secondButtonOnClick}),u.jsx(Yt,{isShow:h.isShow,text:h.text}),a?u.jsxs(u.Fragment,{children:[u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{})]}):t.map(k=>u.jsx(mp,{postId:k.id,userId:k.userId,groupOwnerId:k.groupOwnerId,userName:k.userName,userPhoto:k.userPhoto,postData:k.postData,postText:k.postText,postPhotos:k.postPhoto,likesArray:k.likesArray,photoClick:v,postAction:x},k.id))]})}const SG="_container_osqo7_1",Xe={container:SG,"category-container":"_category-container_osqo7_12","category-name":"_category-name_osqo7_21","item-body":"_item-body_osqo7_30","item-info":"_item-info_osqo7_39","item-icon":"_item-icon_osqo7_47","item-name":"_item-name_osqo7_55","check-box":"_check-box_osqo7_60","check-box-active":"_check-box-active_osqo7_71","check-box-circle":"_check-box-circle_osqo7_81","themes-body":"_themes-body_osqo7_89","themes-name":"_themes-name_osqo7_100","themes-container":"_themes-container_osqo7_109","theme-body":"_theme-body_osqo7_117","theme-active":"_theme-active_osqo7_134","block-body":"_block-body_osqo7_150","block-title":"_block-title_osqo7_161","block-text":"_block-text_osqo7_166","block-arrow":"_block-arrow_osqo7_171"},EG=[{category:"запросы",items:[{name:"Цензура",icon:`
                <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.86667 5.6418C2.46706 8.22887 1 11.6931 1 15.5C1 23.5081 7.49187 30 15.5 30C19.3069 30 22.7711 28.5329 25.3582 26.1333M4.86667 5.6418C7.51484 2.78674 11.2988 1 15.5 1C23.5081 1 30 7.49187 30 15.5C30 19.7012 28.2133 23.4852 25.3582 26.1333M4.86667 5.6418L25.3582 26.1333" stroke="{theme.text_first_color}" stroke-width="2"/>
                </svg>                                                                
            `}]}];function TG({itemName:t,itemIcon:e,authUserCensor:n,onCensorChange:r}){console.log(`Пришло значение: ${n}`);const{theme:o,setThemeById:s,elementColors:i,setElementColors:a}=p.useContext($),l=()=>{if(t==="Цензура"){const d=!n;console.log(`Изменено при клике на: ${d}`),r(d)}},c=e.replace(/{theme.text_first_color}/g,o.text_first_color);return u.jsxs("div",{className:Xe["item-body"],style:{background:o.element_first_color},children:[u.jsxs("div",{className:Xe["item-info"],children:[u.jsx("div",{className:Xe["item-icon"],children:Hs(c)}),u.jsx("div",{className:Xe["item-name"],style:{color:o.text_first_color},children:t})]}),u.jsx("div",{className:Xe["check-box"],style:{background:n&&t==="Цензура"?o.first_color:o.element_second_color},onClick:l,children:u.jsx("div",{className:Xe["check-box-circle"],style:{background:o.text_first_color,marginLeft:n&&t==="Цензура"?"29px":"0"}})})]})}function IG({name:t,img:e,activeTheme:n,onThemeChange:r}){const{theme:o,elementColors:s,setElementColors:i}=p.useContext($),a=()=>{r(t)};return u.jsxs("div",{className:Xe["theme-body"],style:{border:n===t?`2px solid ${o.gradient_first_color}`:"none"},onClick:a,children:[u.jsx("img",{src:e,alt:t}),n===t&&u.jsx("div",{className:Xe["theme-active"],style:{background:o.first_color},children:u.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.14645 4.64645C0.951184 4.84171 0.951184 5.15829 1.14645 5.35355C1.34171 5.54882 1.65829 5.54882 1.85355 5.35355L1.14645 4.64645ZM6 1C6 0.723858 5.77614 0.5 5.5 0.5L1 0.5C0.723858 0.5 0.5 0.723858 0.5 1C0.5 1.27614 0.723858 1.5 1 1.5L5 1.5L5 5.5C5 5.77614 5.22386 6 5.5 6C5.77614 6 6 5.77614 6 5.5L6 1ZM1.85355 5.35355L5.85355 1.35355L5.14645 0.646447L1.14645 4.64645L1.85355 5.35355Z",fill:o.text_first_color})})})]})}function NG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($),o=localStorage.getItem("censor")==="true",[s,i]=p.useState(o);console.log(`Состояние из хранилища ${o}`);const{authUser:a}=ue(),[l,c]=p.useState([]),[d,h]=p.useState({isShow:!1,text:""}),f=ye();p.useEffect(()=>{if(d.isShow){const C=setTimeout(()=>{h({isShow:!1})},1e3);return()=>clearTimeout(C)}},[d]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>f("/list-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{(async()=>{if(a&&a._id){const v=X(W,"users",a._id,"info","preferences"),y=await ae(v);if(y.exists()){const m=y.data();c(m.boughtThemes)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const g=l?l.filter(C=>yx[C]).map(C=>yx[C]):[],_=async C=>{e(C),h({isShow:!0,text:`Выбрана тема: ${C}`})},w=C=>{i(C),localStorage.setItem("censor",C)};return u.jsxs("div",{className:Xe.container,children:[u.jsx(Yt,{text:d.text,isShow:d.isShow}),EG.map(C=>u.jsxs("div",{className:Xe["category-container"],style:{color:t.text_first_color},children:[u.jsx("div",{className:Xe["category-name"],children:C.category}),C.items.map(v=>u.jsx(TG,{itemIcon:v.icon,itemName:v.name,authUserCensor:s,onCensorChange:w}))]})),u.jsxs("div",{className:Xe["category-container"],style:{color:t.text_first_color},children:[u.jsx("div",{className:Xe["category-name"],style:{color:t.text_first_color},children:"тема"}),u.jsxs("div",{className:Xe["themes-body"],style:{background:t.element_first_color},children:[u.jsx("div",{className:Xe["themes-name"],style:{color:t.text_first_color},children:"Доступные темы:"}),u.jsx("div",{className:Xe["themes-container"],children:g.map(C=>u.jsx(IG,{img:C.img,name:C.name,activeTheme:t.name,onThemeChange:_}))})]})]}),u.jsxs("div",{className:Xe["category-container"],children:[u.jsx("div",{className:Xe["category-name"],style:{color:t.text_first_color},children:"информация"}),u.jsxs("div",{className:Xe["block-body"],style:{background:t.element_first_color},children:[u.jsx("div",{className:Xe["block-title"],style:{color:t.text_first_color},children:"Rigeld INC"}),u.jsx("div",{className:Xe["block-text"],style:{color:t.text_first_color},children:"Genery 5.2.6"}),u.jsx("div",{className:Xe["block-arrow"],children:u.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:t.text_first_color})})})]})]})]})}const AG="_container_1wjrk_1",Ja={container:AG,"block-body":"_block-body_1wjrk_11","block-name":"_block-name_1wjrk_20","block-text":"_block-text_1wjrk_25","block-price":"_block-price_1wjrk_30"},PG="_button_rb0y4_1",RG="_arrow_rb0y4_18",sC={button:PG,arrow:RG};function jG({name:t,backgroundColor:e,textColor:n,onButtonClick:r}){return u.jsxs("button",{className:sC.button,style:{background:e,color:n},onClick:r,children:[t,u.jsx("div",{className:sC.arrow,children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:n})})})]})}function LG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),[r,o]=p.useState("0 c"),[s,i]=p.useState(""),[a,l]=p.useState(""),[c,d]=p.useState(!1),h=ye(),f=()=>{d(!0),s!==" "&&a!==" "&&o(s*a+" с")};return p.useEffect(()=>{if(c){const g=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(g)}},[c]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>h("/list-menu"),arrowColor:t.background_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]),u.jsxs("div",{className:Ja.container,children:[u.jsxs("div",{className:Ja["block-body"],style:{background:t.element_first_color},children:[u.jsx("div",{className:Ja["block-name"],style:{color:t.text_first_color},children:"1X ГЛЕБ"}),u.jsx("div",{className:Ja["block-text"],style:{color:t.text_first_color},children:"Ваш выигрыш составил:"}),u.jsx("div",{className:Ja["block-price"],style:{color:t.text_first_color},children:r})]}),u.jsx(Ts,{type:"number",placeholder:"Введите сумму ставки",onInputChange:g=>i(g.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},1),u.jsx(Ts,{type:"number",placeholder:"Введите коэффициент ставки",onInputChange:g=>l(g.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},2),u.jsx(jG,{name:"Рассчитать",backgroundColor:t.first_color,textColor:t.text_first_color,onButtonClick:f})]})}const OG="_container_1uk81_1",DG="_hidden_1uk81_123",Je={container:OG,"category-container":"_category-container_1uk81_12","balance-container":"_balance-container_1uk81_19","image-cover":"_image-cover_1uk81_26","no-select":"_no-select_1uk81_37","back-image":"_back-image_1uk81_47","text-image":"_text-image_1uk81_51","items-container":"_items-container_1uk81_56","card-body":"_card-body_1uk81_64","card-photo-body":"_card-photo-body_1uk81_77","card-photo":"_card-photo_1uk81_77","card-info":"_card-info_1uk81_90","card-name":"_card-name_1uk81_98","card-label":"_card-label_1uk81_103","card-action":"_card-action_1uk81_113",hidden:DG,"card-price":"_card-price_1uk81_128","card-buy":"_card-buy_1uk81_137","buy-button":"_buy-button_1uk81_153","button-price":"_button-price_1uk81_167"},MG=[{category:"winter_2024",img:"shop/winter_2024/cover.png",textImg:"shop/winter_2024/text-img.png",items:[{id:"winter_2024",category:"theme",img:"shop/winter_2024/img-1.png",name:"Морозная свежесть",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"colors",img:"shop/winter_2024/img-2.png",name:"Морозная палитра",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"emojies",img:"shop/winter_2024/img-3.png",name:"Морозные эмодзи",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"all",img:"shop/winter_2024/img-4.png",name:"Морозный пак",label:"Зима 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0}]},{category:"kyrgyzstan",img:"shop/kyrgyzstan/cover.png",textImg:"shop/kyrgyzstan/text-img.png",items:[{id:"kyrgyzstan",category:"theme",img:"shop/kyrgyzstan/img-2.png",name:"Тема",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"emojies",img:"shop/kyrgyzstan/img-1.png",name:"Смайлы",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"colors",img:"shop/kyrgyzstan/img-3.png",name:"Пак цветов",label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"all",img:"shop/kyrgyzstan/img-4.png",name:'Пак "Родина"',label:"День независимости",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0}]},{category:"genery",img:"shop/genery/cover.png",textImg:"shop/genery/text-img.png",items:[{id:"genery",category:"theme",img:"shop/genery/img-1.png",name:"Тема",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:1e3},{id:"genery",img:"shop/genery/img-2.png",category:"colors",name:"Пак смайлов",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:250},{id:"genery",img:"shop/genery/img-3.png",category:"emojies",name:"Пак смайлов",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:500},{id:"genery",img:"shop/genery/img-4.png",category:"all",name:"Набор Genery",label:"1 год вместе",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:0}]}];function $G({img:t,textImg:e}){return u.jsxs("div",{className:Je["image-cover"],children:[u.jsx("div",{className:Je["no-select"]}),u.jsx("img",{src:t,className:Je["back-image"]}),u.jsx("img",{src:e,className:Je["text-image"]})]})}const iC={"coin-outer":"_coin-outer_1t7ga_1","coin-inner":"_coin-inner_1t7ga_10"};function Oh({color:t}){return u.jsx("div",{className:iC["coin-outer"],style:{background:t},children:u.jsx("div",{className:iC["coin-inner"]})})}function FG({category:t,id:e,photo:n,name:r,label:o,labelTextColor:s,labelColor:i,isBought:a,isFree:l,price:c,onBuyItem:d}){const{theme:h,elementColors:f,setElementColors:g}=p.useContext($);return u.jsxs("div",{className:Je["card-body"],style:{background:h.element_first_color},children:[u.jsxs("div",{className:Je["card-photo-body"],style:{background:h.background_color},children:[u.jsx("div",{className:Je["no-select"]}),u.jsx("img",{src:n,className:Je["card-photo"]})]}),u.jsxs("div",{className:Je["card-info"],children:[u.jsx("div",{className:Je["card-name"],style:{color:h.text_first_color},children:r}),u.jsx("div",{className:Je["card-label"],style:{background:i,color:s},children:o})]}),u.jsxs("div",{className:Je["card-action"],children:[u.jsx("div",{className:Je["card-price"],style:{color:h.text_first_color},children:a?"Куплено":l?"Бесплатно":u.jsxs(u.Fragment,{children:[c,u.jsx(Oh,{color:h.first_color})]})}),u.jsx("div",{className:Je["card-arrow"],children:u.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:h.text_first_color})})})]}),!a&&u.jsx("div",{className:`${Je["card-buy"]} ${Je.hidden}`,children:u.jsx("button",{className:Je["buy-button"],style:{background:h.first_color,color:h.text_first_color},onClick:()=>d(t,e,c),children:l?u.jsx(u.Fragment,{children:"Бесплатно"}):u.jsxs(u.Fragment,{children:["Купить за",u.jsxs("div",{className:Je["button-price"],children:[c,u.jsx(Oh,{color:h.text_first_color})]})]})})})]})}const Hu={"score-container":"_score-container_71jb4_1","name-body":"_name-body_71jb4_9","count-body":"_count-body_71jb4_22","balance-body":"_balance-body_71jb4_35"};function su({name:t,count:e,isBalance:n}){const{theme:r,elementColors:o,setElementColors:s}=p.useContext($);return u.jsxs("div",{className:Hu["score-container"],children:[u.jsx("div",{className:Hu["name-body"],style:{background:r.element_first_color,color:r.text_first_color},children:t}),u.jsx("div",{className:Hu["count-body"],style:{background:r.element_first_color,color:r.text_first_color},children:n?u.jsxs("div",{className:Hu["balance-body"],style:{color:r.text_first_color},children:[e,u.jsx(Oh,{color:r.first_color})]}):e})]})}function BG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),[r,o]=p.useState({isShow:!1,text:""}),[s,i]=p.useState([]),[a,l]=p.useState([]),[c,d]=p.useState([]);p.useState("");const[h,f]=p.useState(0),{authUser:g}=ue(),_=ye();p.useEffect(()=>{if(r.isShow){const y=setTimeout(()=>{o({isShow:!1})},1e3);return()=>clearTimeout(y)}},[r]),p.useEffect(()=>{(async()=>{if(g&&g._id){const m=X(W,"users",g._id,"info","preferences"),x=await ae(m);if(x.exists()){const k=x.data();f(k.balance),i(k.boughtThemes),l(k.boughtColors),d(k.boughtEmojies)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[h,s,a,c]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>_("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[$]);const w=async y=>{if(g&&g._id)try{const m=X(W,"users",g._id,"info","preferences");await Ho(m,{balance:y}),console.log(`Balance updated to ${y}`)}catch(m){console.error("Error updating balance:",m)}else console.error("authUser or authUser._id is undefined")},C=async(y,m,x)=>{const k=X(W,"users",g._id,"info","preferences");if(h<x){o({isShow:!0,text:"У вас недостаточно средств для покупки"});return}f(h-x),w(h-x);let b={},T="";switch(y){case"colors":b={boughtColors:ls(m)},T=`вы приобрели цвета: ${m}`;break;case"emojies":b={boughtEmojies:ls(m)},T=`вы приобрели пак эмодзи: ${m}`;break;case"theme":b={boughtThemes:ls(m)},T=`вы приобрели тему: ${m}`;break;case"all":b={boughtColors:ls(m),boughtEmojies:ls(m),boughtThemes:ls(m)},T=`вы приобрели коллекцию: ${m}`;break;default:return}await Ho(k,b),o({isShow:!0,text:T})},v=(y,m)=>{switch(y){case"colors":return a.includes(m);case"theme":return s.includes(m);case"emojies":return c.includes(m);case"all":return a.includes(m)&&s.includes(m)&&c.includes(m);default:return!1}};return u.jsxs("div",{className:Je.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),u.jsx(Yt,{isShow:r.isShow,text:r.text}),u.jsx("div",{className:Je["balance-container"],style:{background:t.background_color},children:u.jsx(su,{name:"Баланс",isBalance:!0,count:h})}),MG.map(y=>u.jsxs("div",{className:Je["category-container"],children:[u.jsx($G,{img:y.img,textImg:y.textImg}),u.jsx("div",{className:Je["items-container"],children:y.items.map((m,x)=>u.jsx(FG,{category:m.category,id:m.id,photo:m.img,name:m.name,label:m.label,labelTextColor:m.labelTextColor,labelColor:m.labelColor,isBought:v(m.category,m.id),isFree:m.isFree,price:m.price,onBuyItem:C},x))})]}))]})}const UG="_container_1lamj_1",VG="_area_1lamj_9",zG="_table_1lamj_19",HG="_item_1lamj_28",qG="_circle_1lamj_40",WG="_spin_1lamj_51",ui={container:UG,area:VG,table:zG,item:HG,circle:qG,spin:WG},GG=t=>[{grid:"row",size:"1/4",name:0,isZero:!0,isCircle:!1,background:t.casino_first_color,border:"20px 0 0 20px",circleColor:""},{grid:"column",size:"",name:3,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:6,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:9,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:12,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:15,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:18,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:21,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:24,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:27,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:30,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:33,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:36,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"1st",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 20px 0 0",circleColor:t.casino_third_color},{grid:"column",size:"",name:2,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:5,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:8,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:11,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:14,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:17,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:20,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:23,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:26,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:29,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:32,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:35,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:"2nd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:1,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:4,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:7,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:10,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:13,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:16,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:19,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:22,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:25,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:28,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:31,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:34,isZero:!1,isCircle:!0,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"3rd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 20px",circleColor:t.casino_third_color},{grid:"column",size:"2/8",name:"1-18",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"8/14",name:"19-36",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"2/5",name:"even",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 0 20px",circleColor:t.casino_second_color},{grid:"column",size:"5/8",name:"red",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"8/11",name:"black",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"11/14",name:"odd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color}],KG="_overlay_usz7u_1",YG="_animated_usz7u_14",QG="_wheel_usz7u_18",ZG="_show_usz7u_24",XG="_spin_usz7u_47",JG="_arrow_usz7u_66",di={overlay:KG,animated:YG,wheel:QG,show:ZG,spin:XG,arrow:JG};function eK(t,e){const n=r=>{if(r>=t.length){e();return}const o=document.createElement("script");o.src=t[r],o.async=!0,o.onload=()=>n(r+1),document.body.appendChild(o)};n(0)}function tK({isShow:t,onStop:e}){const[n,r]=p.useState(null),o=p.useRef(null);getComputedStyle(document.documentElement);const{theme:s,elementColors:i,setElementColors:a}=p.useContext($),[l,c]=p.useState(125),[d,h]=p.useState(100),[f,g]=p.useState("center"),_=()=>{window.innerWidth<=700?(c(125),h(100),g("outer")):(c(155),h(100),g("center"))};p.useEffect(()=>(_(),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}),[]),p.useEffect(()=>{const C=["https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js","script/Winwheel.min.js"],v={green:s.casino_first_color,red:s.casino_second_color,black:s.casino_third_color};eK(C,()=>{const y=new Winwheel({canvasId:o.current.id,numSegments:37,outerRadius:l,innerRadius:d,textFontSize:12,textOrientation:"curved",textAlignment:f,segments:[{fillStyle:v.green,text:"0",textFillStyle:s.text_first_color},{fillStyle:v.red,text:"32",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"15",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"19",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"4",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"21",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"2",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"25",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"17",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"34",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"6",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"27",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"13",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"36",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"11",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"30",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"8",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"23",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"10",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"5",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"24",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"16",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"33",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"1",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"20",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"14",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"31",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"9",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"22",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"18",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"29",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"7",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"28",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"12",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"35",textFillStyle:s.text_third_color},{fillStyle:v.red,text:"3",textFillStyle:s.text_first_color},{fillStyle:v.black,text:"26",textFillStyle:s.text_third_color}],animation:{type:"spinToStop",duration:5,spins:8,callbackFinished:e}});r(y)})},[t]);const w=()=>{n&&n.startAnimation()};return u.jsx("div",{className:`${di.overlay} ${di.animated} ${t?di.show:""}`,children:u.jsxs("div",{className:di.wheel,style:{background:s.casino_first_color,border:`10px solid ${s.element_second_color}`},children:[u.jsx("canvas",{ref:o,id:"canvas",width:"310",height:"310",children:"Canvas not supported, use another browser."}),u.jsx("div",{className:di.arrow,children:u.jsx("svg",{width:"40",height:"18",viewBox:"0 0 40 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M40 0L20 18L0 0H40Z",fill:s.element_second_color})})}),u.jsx("button",{className:di.spin,style:{background:s.element_first_color,border:`10px solid ${s.element_second_color}`,color:s.text_first_color},onClick:w,children:"крутить"})]})})}const aC={"chip-body":"_chip-body_n5j63_1","chip-inner":"_chip-inner_n5j63_12"};function nK({price:t}){return u.jsx("div",{className:aC["chip-body"],children:u.jsx("div",{className:aC["chip-inner"],children:t})})}const rK={0:["green"],1:["red","1-18","odd"],2:["black","1-18","even"],3:["red","1-18","odd"],4:["black","1-18","even"],5:["red","1-18","odd"],6:["black","1-18","even"],7:["red","1-18","odd"],8:["black","1-18","even"],9:["red","1-18","odd"],10:["black","1-18","even"],11:["black","1-18","odd"],12:["red","1-18","even"],13:["black","1-18","odd"],14:["red","1-18","even"],15:["black","1-18","odd"],16:["red","1-18","even"],17:["black","1-18","odd"],18:["red","1-18","even"],19:["red","19-36","odd"],20:["black","19-36","even"],21:["red","19-36","odd"],22:["black","19-36","even"],23:["red","19-36","odd"],24:["black","19-36","even"],25:["red","19-36","odd"],26:["black","19-36","even"],27:["red","19-36","odd"],28:["black","19-36","even"],29:["black","19-36","odd"],30:["red","19-36","even"],31:["black","19-36","odd"],32:["red","19-36","even"],33:["black","19-36","odd"],34:["red","19-36","even"],35:["black","19-36","odd"],36:["red","19-36","even"]};function oK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),r=GG(t),o=ye(),[s,i]=p.useState(!1),{authUser:a}=ue(),[l,c]=p.useState(0),[d,h]=p.useState([]),[f,g]=p.useState(0),[_,w]=p.useState(!1),[C,v]=p.useState(null),[y,m]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[x,k]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(x.isShow){const R=setTimeout(()=>{k({isShow:!1})},1e3);return()=>clearTimeout(R)}},[x]);const b=()=>{m({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),i(!1),h([]),g(0),w(!1)},T=()=>{o("/menu")},S=()=>{i(!0)};p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>o("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{(async()=>{if(a&&a._id){const j=X(W,"users",a._id,"info","preferences"),O=await ae(j);if(O.exists()){const M=O.data();console.log(M),c(M.balance<100?1e3:M.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const E=async R=>{if(a&&a._id)try{const j=X(W,"users",a._id,"info","preferences");await Ho(j,{balance:R}),console.log(`Balance updated to ${R}`)}catch(j){console.error("Error updating balance:",j)}else console.error("authUser or authUser._id is undefined")},I=R=>{if(l<100){k({isShow:!0,text:"У вас недостаточно средств для ставки"});return}h(j=>{if(j.some(M=>M.item===R)){const M=j.filter(z=>z.item!==R);return c(l+100),M}else{const M=[...j,{item:R,bet:100}];return c(l-100),M}})},P=R=>{w(!0),v(Number(R.text)),console.log(Number(R.text))};p.useEffect(()=>{console.log(d),_&&N(C)},[d,_]);const N=R=>{const j=rK[R];let O=0,M=0;d.forEach(A=>{(A.item===R||j.includes(A.item))&&(M+=A.bet)});const z=d.some(A=>A.item===R);if(console.log("Base bet:",M),console.log("Has number bet:",z),z)O=M*4;else{const A=d.filter(D=>j.includes(D.item)).length;O=M*A}g(O),c(l+O),E(l+O),m({isShow:!0,title:"Вы выиграли",text:`Ваш выигрыш составил: ${O}`,firstButtonName:"Выйти",secondButtonName:"Играть",firstButtonOnClick:T,secondButtonOnClick:b})};return u.jsxs("div",{className:ui.container,children:[u.jsx(Ma,{title:y.title,text:y.text,isShow:y.isShow,firstButtonName:y.firstButtonName,secondButtonName:y.secondButtonName,firstButtonOnClick:y.firstButtonOnClick,secondButtonOnClick:y.secondButtonOnClick}),u.jsx(Yt,{isShow:x.isShow,text:x.text}),u.jsx(tK,{isShow:s,onStop:P}),u.jsxs("div",{className:ui.area,children:[u.jsx(su,{name:"Баланс",isBalance:!0,count:l}),u.jsxs("div",{className:ui.table,children:[r.map(R=>u.jsxs("div",{className:ui.item,style:{background:R.isZero?R.background:"transparent",gridColumn:R.grid==="column"?R.size:"",gridRow:R.grid==="row"?R.size:"",border:`1px solid ${t.element_first_color}`,borderRadius:R.border,color:t.text_first_color},onClick:()=>I(R.name),children:[d.some(j=>j.item===R.name)&&u.jsx(nK,{price:100}),R.isCircle?u.jsx("div",{className:ui.circle,style:{background:R.circleColor,color:t.text_first_color},children:R.name}):R.name]},R.name)),u.jsx("button",{className:ui.spin,style:{background:t.element_first_color,color:t.text_first_color},onClick:S,children:"крутить"})]})]})]})}const sK="_container_1vtou_1",iK="_title_1vtou_36",aK="_text_1vtou_27",kr={container:sK,"update-body":"_update-body_1vtou_12","update-data":"_update-data_1vtou_22","text-container":"_text-container_1vtou_27",title:iK,text:aK},lK=[{data:"16.01.2025",update:"Добавлена возможность просмотра профилей пользователей. Добавлена возможность подписки на пользователей. Добавлено отображение подписчиков. Добавлено отображение дат в расписании. Добавлено отображение количество лайков в постах.",corrections:"Цвет иконок на карточке урока теперь зависит от фонового цвета."},{data:"31.08.2024",update:'Добавлена новая категория товаров: "Родина"'},{data:"29.08.2024",update:"Добавлен отображение повестки в военкомат после игры в тест"},{data:"19.08.2024",update:"Добавлена возможность скачивать картинки в окне просмотра фотографии. Добавлена возможность создавать группы. Добавлена возможность загружать файлы, создавать расписание и делать публикации в своей группе. Добавлен раздел основной группы в меню навигации.",corrections:"Изменен внешний вид публикаций."},{data:"03.07.2024",update:"Добавлена новая игра - тест минутка."},{data:"29.06.2024",update:"Добавлена система промокодов.",corrections:'Исправлена возможность случайного клика на текст "Баланс"'},{data:"27.06.2024",update:`Добавлена новая игра: GCOIN TAP.
Добавлена новая игра: Ракетка.`,corrections:"Изменена высота расположения панели смайлов при загруженных изображения."},{data:"25.06.2024",update:`Добавлена стартовая страница.
Добавлена система входа и регистрации.
Обновлены все меню.
Добавлена возможность отправлять фотографии и смайлы в чат.
Добавлена система цензуры(по умолчанию включена).
Добавлена система публикаций.
Добавлена возможность публиковать до 5 фотографий и сколько угодно текста.
Добавлена система монет(несгораемая сумма состовляет 1000 монет).
Добавлена возможность заработать монеты в казино.
Добавлена система магазина.
Добавлена возможность покупки тем, цветов для обложки профиля, смайлов
Добавлена возможность смены темы.
Добавлена страница профиля.
Добавлена система аватаров(по умполчанию выбирается рандомно)
Появилась возмножность изменить имя, описание, аватар и цвет обложки
Добавлена возможность посмотреть фотографии в исходном размере(для этого необходими кликнуть на неё).
Добавлена система эмодзи(по умолчанию доступны стандартные, но дополнительные можно купить в магазине.
В обновления добавлен раздел "Исправления".`,corrections:`Сумма выигрыша теперь зависит от коэффициента.
Изменилась система подсчета выигрыша в казино(если вы точно угадали число, то +400 монет, если угадали один из параметров числа: odd/even, red/black, 1-18/19-36 - то за каждое совпадание +100 монет.`},{data:"14.02.2024",update:`Добавлено 2 новые игры.
Добавлено 5 новых цитат.
Добавлено 5 новых причин.
Добавлены новые функции в публикации.
Добавлена сортировка по датам в запросы.`,corrections:`Обновлено расписание уроков.
Заменена иконка выхода в меню в играх.`},{data:"21.01.2024",update:`Добавлена новая стартовая страница.
Добавлено новое меню навигации.`,corrections:`Исправлен выход меню из игры.
Заменена иконка выхода в меню в играх.`},{data:"19.12.2023",update:`Новая игра - пианино.
Добавлены звуки: при проирыше, при победе.
Добавлен сезонный приз - зеленая змея.
Добавлен новогодний стартовый экран.`},{data:"11.12.2023",update:"Новая игра - 2048"},{data:"04.12.2023",update:"Новая игра - тетрис"},{data:"03.12.2023",update:"Добавлена генерация полезных цитат для Вашего развития"},{data:"02.12.2023",update:`Добавлена новая страница с фотографиями.
Добавлены интерактивные элементы.`},{data:"11.11.2023",update:"Добавлено 2 новые игры.",corrections:"Внесены правки в игру змейка."},{data:"28.10.2023",update:`Обновлен дизайн сайта.
Изменена система генерации причин и цитат.
Добавлено 20 новых цитат.
Добавлено 10 новых причин.`,corrections:`Удалена генерация оскорблений.
Название сайта изменено на GENERY.
Изменена механика игр.
Изменена система подбора культурных слов.
Изменена система отображения расписания.
Изменено меню выбора игр.
Изменена система подсчета кешбэка.
Обновлена система уведломений.
Изменена система загрузки файлов.`},{data:"29.09.2023",update:`Добавлено две новых цитаты.
Исправлены ошибки в тексте.`,corrections:"Правки кода."},{data:"04.09.2023",update:`Добавлено актуальное расписание уроков.
Добавлено 5 новых причин.
Добавлено 100 новых профессий.
Добавлена версия для ПК.
Добавлена новая игра.`,corrections:"Изменена система отображения обновлений."},{data:"01.08.2023",update:`Добавлено 2 игры.
Добавлен раздел с играми.`,corrections:"Правки кода."},{data:"19.07.2023",update:`Полностью обновлен дизайн.
Добавлен раздел связи с разработчиком.
Добавлена динамическая загрузка расписания.
Добавлен стартовый экран.`},{data:"15.07.2023",update:`Добавлены новые культурные версии для матов.
Добавлен раздел с загрузками.`,corrections:"Заменена иконка раздела оскорблений."},{data:"30.06.2023",update:`Добавлен раздел подбора культурных слов к матам.
Добавлен раздел генерации профессий.`,corrections:'Название сайта изменено на "Мега генератор"'},{data:"11.06.2023",update:`Добавлен раздел генерации оскорблений.
Число пацанских цитат составляет 70.`},{data:"02.06.2023",update:`Сайт снова работает.
Добавлено 100 новых пацанских цитат.`},{data:"05.05.2023",update:`Удален раздел с анекдотами.
Добавлен раздел регистрации и входа в аккаунт.
Добавлено 5 новых цитат.`},{data:"03.05.2023",corrections:`Сайт перенес на другой хостинг
Смена темы больше не доступна.
Причины идти на урок больше не доступны.`},{data:"01.05.2023",update:`Добавлено 5 новых причин не идти на урок.
Добавлен раздел подсчета выигрыша на ставках`},{data:"30.04.2023",update:"Добавлен функционал к разделу с расписанием."},{data:"30.04.2023",update:`Добавлено новое меню.
Добавлен раздел с расписанием уроков.`,corrections:"Раздел обновлений перенесен в новое меню."},{data:"28.04.2023",update:`Добавлен раздел великих цитат.
Добавлено более 30 самых крутых цитат и случаев.`,corrections:"Цитаты разделены на две группы: с матами, и без них."},{data:"28.04.2023",update:"Ведется разработка новых разделов.",corrections:"Кнопка смены темы теперь закреплена при прокрутке."},{data:"28.04.2023",update:"Ведется разработка новых разделов.",corrections:"Кнопка смены темы теперь закреплена при прокрутке."},{data:"28.04.2023",update:`Добавлено меню для переключения страниц в нижней части экрана.
Добавлены разделы: обновлений, анекдотов, причин.
Увеличино разрешение иконок.`},{data:"26.04.2023",update:`Добавлена возможность изменить цветовую тему сайта.
Добавлено изменение генерации причин при смене темы.`},{data:"26.04.2023",update:`Добавлена страница генерации причин
Увеличено количество причин идти/не идти на урок.`},{data:"26.04.2023",update:`Запущен сайт для генерации причин не идти на урок.
Добавлено 36 причин не идти на урок.`}];function cK({data:t,update:e,corrections:n}){const{theme:r,elementColors:o,setElementColors:s}=p.useContext($),i=e?e.split(`
`):[],a=n?n.split(`
`):[];return u.jsxs("div",{className:kr["update-body"],style:{background:r.element_first_color},children:[u.jsx("div",{className:kr["update-data"],style:{color:r.text_first_color},children:t}),e&&u.jsxs("div",{className:kr["text-container"],children:[u.jsx("div",{className:kr.title,style:{color:r.text_first_color},children:"Новые функции:"}),u.jsx("div",{className:kr.text,style:{color:r.text_first_color},children:i.map((l,c)=>u.jsxs(ws.Fragment,{children:[l,u.jsx("br",{})]},c))})]}),n&&u.jsxs("div",{className:kr["text-container"],children:[u.jsx("div",{className:kr.title,style:{color:r.text_first_color},children:"Исправления:"}),u.jsx("div",{className:kr.text,style:{color:r.text_first_color},children:a.map((l,c)=>u.jsxs(ws.Fragment,{children:[l,u.jsx("br",{})]},c))})]})]})}function uK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),r=ye();return p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>r("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[$]),u.jsxs("div",{className:kr.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),lK.map(o=>u.jsx(cK,{data:o.data,update:o.update,corrections:o.corrections}))]})}const dK="_container_1qgb1_1",hK="_title_1qgb1_12",fK="_circle_1qgb1_47",pK="_edit_1qgb1_93",mK="_button_1qgb1_113",ht={container:dK,title:hK,"files-container":"_files-container_1qgb1_18","download-body":"_download-body_1qgb1_28","add-body":"_add-body_1qgb1_38",circle:fK,"download-name":"_download-name_1qgb1_57","download-name-empty":"_download-name-empty_1qgb1_63","download-button":"_download-button_1qgb1_70","download-button-empty":"_download-button-empty_1qgb1_87",edit:pK,button:mK};function gK({color:t,name:e,url:n,id:r}){const{theme:o,elementColors:s,setElementColors:i}=p.useContext($),a=(l,c)=>{const d=new XMLHttpRequest;d.responseType="blob",d.onload=h=>{const f=d.response,g=document.createElement("a");g.href=window.URL.createObjectURL(f),g.download=c,document.body.appendChild(g),g.click(),document.body.removeChild(g)},d.open("GET",l),d.send()};return u.jsxs("div",{className:ht["download-body"],style:{border:`2px solid ${o.element_first_color}`},children:[u.jsx("div",{className:ht["download-name"],style:{color:o.text_first_color},children:e}),u.jsx("button",{className:ht["download-button"],style:{background:t},onClick:l=>{l.preventDefault(),a(n,e)},children:u.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9 1C9 0.447715 8.55228 2.41411e-08 8 0C7.44772 -2.41411e-08 7 0.447715 7 1L9 1ZM7.29289 14.435C7.68342 14.8256 8.31658 14.8256 8.70711 14.435L15.0711 8.07107C15.4616 7.68054 15.4616 7.04738 15.0711 6.65685C14.6805 6.26633 14.0474 6.26633 13.6569 6.65685L8 12.3137L2.34315 6.65685C1.95262 6.26633 1.31946 6.26633 0.928932 6.65685C0.538408 7.04738 0.538408 7.68054 0.928932 8.07107L7.29289 14.435ZM7 1L7 13.7279L9 13.7279L9 1L7 1Z",fill:o.text_first_color})})})]})}function Dh(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($);return u.jsxs("div",{className:ht["download-body"],style:{border:`2px solid ${t.element_first_color}`},children:[u.jsx("div",{className:ht["download-name-empty"],style:{color:t.text_first_color},children:u.jsx(wn,{width:"100%",height:"18px",shape:"rect"})}),u.jsx("div",{className:ht["download-button-empty"],children:u.jsx(wn,{width:"32px",height:"32px",shape:"circle"})})]})}function yK({color:t,name:e,url:n,id:r,onDelete:o}){const{theme:s,elementColors:i,setElementColors:a}=p.useContext($);return u.jsxs("div",{className:ht["download-body"],style:{border:`2px solid ${s.element_first_color}`},children:[u.jsx("div",{className:ht["download-name"],style:{color:s.text_first_color},children:e}),u.jsx("button",{className:ht["download-button"],style:{background:t},onClick:o,children:u.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:s.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function _K({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:o}=p.useContext($),[s,i]=p.useState([]),[a,l]=p.useState(),[c,d]=p.useState(),[h,f]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[g,_]=p.useState();ue(),ye(),p.useEffect(()=>{(async()=>{try{const x=X(W,"groups",t,"info","info"),k=await ae(x);if(k.exists()){const b=k.data();_(b.owner)}else console.error("Group not found")}catch(x){console.error("Error fetching group data:",x)}finally{}})()},[t]);const w=async()=>{if(t)try{const m=X(W,"groups",t,"info","downloads"),x=await ae(m);if(x.exists()){const k=x.data();i(k.files||[]),console.log(k.files)}else console.log("No such document!"),i([])}catch(m){console.error("Error fetching group data:",m),i([])}finally{l(!1)}else console.error("ID группы не указан"),i([]),l(!1)};p.useEffect(()=>{w()},[t]),p.useEffect(()=>{o({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:e,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[$]);const C=m=>{f({isShow:!0,title:"Удаление файла",text:`Вы действительно хотите удалить файл ${m.name}?`,firstButtonName:"Отмена",firstButtonOnClick:()=>f({isShow:!1}),secondButtonName:"Удалить",secondButtonOnClick:()=>v(m)})},v=async m=>{if(!m||!m.link){console.error("Invalid file or file URL:",m);return}f({isShow:!1});try{const x=m.link;console.log("File URL:",x);let b=x.replace("https://firebasestorage.googleapis.com/v0/b/genery-c83e3.appspot.com/o/","");b=decodeURIComponent(b);const[T]=b.split("?");console.log("File Path:",T);const S=xr(Cr,T);await SM(S),console.log("File deleted from Firebase Storage");const E=X(W,"groups",t,"info","downloads"),I=await ae(E);if(I.exists()){const N=(I.data().files||[]).filter(R=>R.link!==x);await gt(E,{files:N},{merge:!0}),i(N),console.log("File deleted from Firestore")}else console.log("No such document in Firestore!")}catch(x){console.error("Error deleting file:",x)}},y=async()=>{await w(),d(!1)};return u.jsxs(u.Fragment,{children:[u.jsx(Ma,{title:h.title,text:h.text,isShow:h.isShow,firstButtonName:h.firstButtonName,secondButtonName:h.secondButtonName,firstButtonOnClick:h.firstButtonOnClick,secondButtonOnClick:h.secondButtonOnClick}),u.jsx(GW,{id:t,isShow:c,close:y}),u.jsx("div",{className:ht.title,style:{color:n.text_first_color},children:"Файлы"}),u.jsx("div",{className:ht["files-container"],children:a?u.jsxs(u.Fragment,{children:[u.jsx(Dh,{}),u.jsx(Dh,{})]}):u.jsxs(u.Fragment,{children:[s.map(m=>u.jsx(yK,{color:m.color,name:m.name,url:m.link,id:t,onDelete:()=>C(m)},m.name)),u.jsx("div",{className:ht["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>d(!0),children:u.jsx("div",{className:ht.circle,style:{background:n.element_first_color},children:u.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})}),u.jsx("button",{className:ht.button,style:{background:n.first_color,color:n.text_first_color},onClick:e,children:"Сохранить"})]})})]})}function vK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),[r,o]=p.useState([]),[s,i]=p.useState(),{id:a}=eo(),[l,c]=p.useState(),{authUser:d}=ue(),h=ye(),[f,g]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const y=X(W,"groups",a,"info","info"),m=await ae(y);if(m.exists()){const x=m.data();c(x.owner)}else console.error("Group not found")}catch(y){console.error("Error fetching group data:",y)}finally{}})()},[a]);const _=async()=>{if(a)try{const v=X(W,"groups",a,"info","downloads"),y=await ae(v);if(y.exists()){const m=y.data();o(m.files||[]),console.log(m.files)}else console.log("No such document!"),o([])}catch(v){console.error("Error fetching group data:",v),o([])}finally{i(!1)}else console.error("ID группы не указан"),o([]),i(!1)};p.useEffect(()=>{_()},[a]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${a}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[$]);const w=()=>{g(!0)},C=()=>{g(!1)};return u.jsx("div",{className:ht.container,children:f?u.jsx(_K,{id:a,handleEdit:C}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:ht.title,style:{color:t.text_first_color},children:"Файлы"}),u.jsx("div",{className:ht["files-container"],children:s?u.jsxs(u.Fragment,{children:[u.jsx(Dh,{}),u.jsx(Dh,{})]}):r.length>0?r.map(v=>u.jsx(gK,{color:v.color,name:v.name,url:v.link,id:a},v.name)):u.jsx("div",{className:ht["info-body"],style:{color:t.text_first_color},children:"Тут пока пусто ..."})}),l&&l===d._id&&u.jsx("button",{className:ht.edit,style:{background:t.first_color},onClick:w,children:u.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_first_color})})})]})})}const wK="_container_143zk_2",xK="_cover_143zk_22",CK="_label_143zk_189",Q={container:wK,"profile-container":"_profile-container_143zk_13","cover-container":"_cover-container_143zk_22",cover:xK,"cover-pattern":"_cover-pattern_143zk_41","user-photo":"_user-photo_143zk_49","change-photo-button":"_change-photo-button_143zk_68","user-actions":"_user-actions_143zk_86","user-info":"_user-info_143zk_92","user-name":"_user-name_143zk_99","circle-button":"_circle-button_143zk_104","user-biography":"_user-biography_143zk_121","button-container":"_button-container_143zk_126","quit-button":"_quit-button_143zk_135","colors-container":"_colors-container_143zk_152","color-circle":"_color-circle_143zk_162","active-circle":"_active-circle_143zk_172","input-data-container":"_input-data-container_143zk_179",label:CK,"input-data":"_input-data_143zk_179","item-body":"_item-body_143zk_205","item-icon":"_item-icon_143zk_218","item-name":"_item-name_143zk_226","item-info":"_item-info_143zk_233","item-circle":"_item-circle_143zk_241","posts-container":"_posts-container_143zk_258"};function bK({fetchUserPreferences:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:o}=p.useContext($),{authUser:s}=ue(),[i,a]=p.useState(s.name),[l,c]=p.useState(s.biography);p.useState(!0);const[d,h]=p.useState(null),[f,g]=p.useState(s.cover),[_,w]=p.useState([]),[C,v]=p.useState({isShow:!1,text:""});p.useEffect(()=>{(async()=>{if(s&&s._id){const T=X(W,"users",s._id,"info","preferences"),S=await ae(T);if(S.exists()){const E=S.data();console.log(E),a(E.name),c(E.biography),g(E.cover),w(I=>[...I,...E.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[s]);const y=_?ou.filter(b=>_.includes(b.name)):[];p.useEffect(()=>{o({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{if(C.isShow){const b=setTimeout(()=>{v({isShow:!1})},1500);return()=>clearTimeout(b)}},[C.isShow]);const m=b=>{b.target.files[0]&&(h(b.target.files[0]),console.log(b.target.files[0]))},x=b=>{g(b)},k=async()=>{let b=null;const T=new Date().toISOString();if(d){const S=xr(Cr,`users_photo/${s._id}/${T}_${d.name}`);await Vs(S,d),b=await Zr(S)}if(s&&s._id){const S=X(W,"users",s._id,"info","preferences");try{await gt(S,{name:i,biography:l,photo:d?b:s.avatar,cover:f},{merge:!0}),await t(),e()}catch(E){console.error("Error updating document: ",E)}}};return u.jsxs("div",{className:Q["profile-container"],children:[u.jsx(Yt,{isShow:C.isShow,text:C.text}),u.jsx("div",{className:Q["cover-container"],children:u.jsx("div",{className:Q.cover,style:{background:f},children:u.jsx("div",{className:Q["cover-pattern"]})})}),u.jsxs("div",{className:Q["user-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[u.jsx("button",{className:Q["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),u.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),u.jsx("img",{src:d?URL.createObjectURL(d):s.avatar}),u.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:m})]}),u.jsx("div",{className:Q["colors-container"],style:{background:n.element_first_color},children:y.map(b=>u.jsx(u.Fragment,{children:b.colors.map((T,S)=>u.jsx("div",{className:Q["color-circle"],style:{background:T},onClick:()=>x(T),children:f===T&&u.jsx("div",{className:Q["active-circle"],style:{borderColor:n.text_first_color}})},S))}))}),u.jsxs("div",{className:Q["user-actions"],style:{background:n.element_first_color},children:[u.jsxs("div",{className:Q["input-data-container"],children:[u.jsx("div",{className:Q.label,style:{color:n.first_color},children:"Имя"}),u.jsx("input",{type:"text",value:i,className:Q["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:b=>a(b.target.value)})]}),u.jsxs("div",{className:Q["input-data-container"],children:[u.jsx("div",{className:Q.label,style:{color:n.first_color},children:"О себе"}),u.jsx("input",{type:"text",value:l,className:Q["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:b=>c(b.target.value)})]}),u.jsx("div",{className:Q["button-container"],children:u.jsx("button",{className:Q["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:k,children:"Сохранить"})})]})]})}function kK({id:t}){const{theme:e,elementColors:n,setElementColors:r}=p.useContext($),{authUser:o,ga:s}=ue(),[i,a]=p.useState({name:o.name,biography:o.biography,photo:o.avatar}),l=ye(),[c,d]=p.useState(!1),[h,f]=p.useState({isShow:!1,text:""}),[g,_]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{r({iconColor:e.text_first_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>l("/list-menu"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const w=async()=>{if(o&&o._id){const m=X(W,"users",o._id,"info","preferences"),x=await ae(m);if(x.exists()){const k=x.data();console.log(k),a({name:k.name,biography:k.biography,photo:k.photo,cover:k.cover,balance:k.balance,followers:k.followers})}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{w()},[]);const C=()=>{navigator.clipboard.writeText(o._id).then(()=>{f({isShow:!0,text:"id скопирован в буфер обмена"})}).catch(m=>{f({isShow:!0,text:`Не удалось скопировать id ${m}`})})};p.useEffect(()=>{if(h.isShow){const m=setTimeout(()=>{f({isShow:!1})},1500);return()=>clearTimeout(m)}},[h.isShow]);const v=()=>{d(!1),f({isShow:!0,text:"изменения успешно сохранены"})},y=m=>{_({isShow:!0,images:m,index:0})};return u.jsxs("div",{className:Q.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),u.jsx(ri,{isShow:g.isShow,images:g.images,index:g.index,onClose:()=>_({isShow:!1})}),c?u.jsx(bK,{handleEdit:v,fetchUserPreferences:w}):u.jsxs("div",{className:Q["profile-container"],children:[u.jsx(Yt,{isShow:h.isShow,text:h.text}),u.jsx("div",{className:Q["cover-container"],children:u.jsx("div",{className:Q.cover,style:{background:i.cover},children:u.jsx("div",{className:Q["cover-pattern"]})})}),u.jsx("div",{className:Q["user-photo"],style:{borderColor:e.background_color},children:u.jsx("img",{src:i.photo,onClick:()=>y(i.photo)})}),u.jsxs("div",{className:Q["user-actions"],style:{background:e.element_first_color},children:[u.jsxs("div",{className:Q["user-info"],children:[u.jsx("div",{className:Q["user-name"],style:{color:e.text_first_color},children:i.name}),u.jsx("button",{className:Q["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:C,children:"#"})]}),u.jsx("div",{className:Q["user-biography"],style:{color:e.text_first_color},children:i.biography}),u.jsxs("div",{className:Q["button-container"],children:[u.jsx("button",{className:Q["quit-button"],style:{background:e.element_second_color,color:e.text_first_color},onClick:()=>YA(s),children:"Выйти"}),u.jsx("button",{className:Q["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:()=>d(!0),children:u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:e.text_first_color})})})]})]}),u.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${e.element_first_color}`},children:[u.jsx("div",{className:Q["item-info"],children:u.jsxs("div",{className:Q["item-name"],style:{color:e.text_first_color},children:["Баланс:  ",i.balance," ",u.jsx(Oh,{color:e.first_color})]})}),u.jsx("div",{className:Q["item-circle"],style:{background:e.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),u.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l(`/subscribers/${t}?isGroup=false`),children:[u.jsx("div",{className:Q["item-info"],children:u.jsxs("div",{className:Q["item-name"],style:{color:e.text_first_color},children:["Подписчики: ",i.followers?i.followers.length:0]})}),u.jsx("div",{className:Q["item-circle"],style:{background:e.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),u.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l("/settings"),children:[u.jsxs("div",{className:Q["item-info"],children:[u.jsx("div",{className:Q["item-icon"],children:u.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.0001 1C16.7522 1 17.4936 1.05571 18.2158 1.16286L19.3043 4.46066C20.2579 4.7328 21.1643 5.12065 22.0043 5.60921L25.1328 4.10067C26.2406 4.95137 27.2263 5.95421 28.0578 7.07705L26.4935 10.1777C26.9671 11.0263 27.3399 11.9391 27.5949 12.8991L30.8734 14.0412C31.0541 15.4276 31.0418 16.8324 30.837 18.2154L27.5392 19.304C27.2689 20.2478 26.8831 21.1547 26.3906 22.004L27.8992 25.1325C27.0473 26.2406 26.0456 27.225 24.9228 28.0574L21.8221 26.4932C20.9644 26.9722 20.0502 27.3422 19.1008 27.5946L17.9586 30.8731C16.5722 31.0537 15.1675 31.0415 13.7844 30.8367L12.6959 27.5389C11.752 27.2686 10.8452 26.8828 9.9959 26.3903L6.86738 27.8989C5.75923 27.047 4.77484 26.0453 3.94243 24.9225L5.50669 21.8218C5.02886 20.9635 4.65892 20.0495 4.40528 19.1004L1.12676 17.9562C0.946317 16.5704 0.958576 15.1664 1.16318 13.7841L4.46099 12.6955C4.73313 11.742 5.12098 10.8356 5.60954 9.99557L4.10099 6.86705C4.95285 5.75891 5.95455 4.77451 7.07738 3.9421L10.178 5.50636C11.0358 5.02737 11.95 4.65737 12.8994 4.40495L14.0437 1.12643C14.6924 1.04203 15.3459 0.999799 16.0001 1Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),u.jsx("path",{d:"M16.0002 22.4282C19.5506 22.4282 22.4287 19.5501 22.4287 15.9998C22.4287 12.4494 19.5506 9.57129 16.0002 9.57129C12.4499 9.57129 9.57178 12.4494 9.57178 15.9998C9.57178 19.5501 12.4499 22.4282 16.0002 22.4282Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}),u.jsx("div",{className:Q["item-name"],style:{color:e.text_first_color},children:"Настройки"})]}),u.jsx("div",{className:Q["item-circle"],style:{background:e.second_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.background_color})})})]})]})]})}function SK({id:t}){const{authUser:e}=ue(),{theme:n,elementColors:r,setElementColors:o}=p.useContext($),[s,i]=p.useState({isShow:!0}),[a,l]=p.useState({isShow:!1,text:""}),c=ye(),[d,h]=p.useState([]),[f,g]=p.useState(!1),[_,w]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{o({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>c("/posts"),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{C()},[t]);const C=async()=>{if(t){const b=X(W,"users",t,"info","preferences"),T=await ae(b);if(T.exists()){const S=T.data();console.log(S),i({id:S.uid,isUser:!0,name:S.name,biography:S.biography,photo:S.photo,cover:S.cover,followers:S.followers||[]})}else console.log("No such document!"),i({isUser:!1,name:"Пользователь не найден",biography:""})}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{if(a.isShow){const b=setTimeout(()=>{l({isShow:!1})},1500);return()=>clearTimeout(b)}},[a.isShow]),p.useEffect(()=>{const b=La(Yc(wr(W,"posts"),Qc("timestamp","desc")),T=>{const S=[];T.forEach(E=>{const I=E.data();if(I.userId===t){const P=new Date(I.timestamp),N=I.likesArray,R=P.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});S.push({id:E.id,userId:I.userId,userName:I.userName,groupOwnerId:I.groupOwnerId,userPhoto:I.userPhoto,postText:I.text,postPhoto:I.photos,postData:R,likesArray:N})}}),h(S),g(!1)});return()=>{b()}},[t]);const v=(b,T)=>{w({isShow:!0,images:b,index:T})},y=(b,T)=>{switch(b){case"delete":return setAlertProp({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(T)});default:return setAlertProp({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}},m=b=>{w({isShow:!0,images:b,index:0})},x=async()=>{if(e._id){const b=X(W,"users",t,"info","preferences"),T=X(W,"users",e._id,"info","preferences");try{const S=await ae(b),E=await ae(T);if(S.exists()&&E.exists()){const I=S.data(),P=E.data(),N=I.followers||[],R=P.subscribes||[];let j,O;N.includes(e._id)?(j=N.filter(M=>M!==e._id),O=R.filter(M=>M!==t)):(j=[...N,e._id],O=[...R,t]),await gt(b,{followers:j},{merge:!0}),await gt(T,{subscribes:O},{merge:!0}),await C(),console.log("Subscription updated successfully")}else console.error("Group or user document does not exist")}catch(S){console.error("Error updating subscription:",S)}}else console.error("User is not authenticated")},k=()=>{navigator.clipboard.writeText(s.id).then(()=>{l({isShow:!0,text:"id скопирован в буфер обмена"})}).catch(b=>{l({isShow:!0,text:`Не удалось скопировать id ${b}`})})};return u.jsxs("div",{className:Q.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${n.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),u.jsx(ri,{isShow:_.isShow,images:_.images,index:_.index,onClose:()=>w({isShow:!1})}),u.jsx(Yt,{isShow:a.isShow,text:a.text}),u.jsx("div",{className:Q["cover-container"],children:u.jsx("div",{className:Q.cover,style:{background:s.cover},children:u.jsx("div",{className:Q["cover-pattern"]})})}),u.jsx("div",{className:Q["user-photo"],style:{borderColor:n.background_color},children:u.jsx("img",{src:s.photo,onClick:()=>m(s.photo)})}),s.isUser?u.jsxs("div",{className:Q["user-actions"],style:{background:n.element_first_color},children:[u.jsxs("div",{className:Q["user-info"],children:[u.jsx("div",{className:Q["user-name"],style:{color:n.text_first_color},children:s.name}),u.jsx("button",{className:Q["circle-button"],style:{color:"var(--text-first-color)",background:"var(--first-color)"},onClick:k,children:"#"})]}),u.jsx("div",{className:Q["user-biography"],style:{color:n.text_first_color},children:s.biography}),u.jsx("div",{className:Q["button-container"],children:u.jsx("button",{className:Q["quit-button"],style:{background:s.followers.includes(e._id)?n.element_second_color:n.first_color,color:n.text_first_color},onClick:x,children:s.followers&&s.followers.includes(e._id)?"Отписаться":"Подписаться"})})]}):u.jsx("div",{className:Q["user-actions"],style:{background:n.element_first_color},children:u.jsx("div",{className:Q["user-info"],children:u.jsx("div",{className:Q["user-name"],style:{color:n.text_first_color},children:s.name})})}),u.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${n.element_first_color}`},onClick:()=>c(`/subscribers/${t}?isGroup=false`),children:[u.jsx("div",{className:Q["item-info"],children:u.jsxs("div",{className:Q["item-name"],style:{color:n.text_first_color},children:["Подписчики: ",s.followers?s.followers.length:0]})}),u.jsx("div",{className:Q["item-circle"],style:{background:n.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n.text_first_color})})})]}),u.jsx("div",{className:Q["posts-container"],children:f?u.jsxs(u.Fragment,{children:[u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{})]}):d.map(b=>u.jsx(mp,{postId:b.id,groupOwnerId:b.groupOwnerId,userId:b.userId,userName:b.userName,userPhoto:b.userPhoto,postData:b.postData,postText:b.postText,postPhotos:b.postPhoto,likesArray:b.likesArray,photoClick:v,postAction:y},b.id))})]})}function EK(){const{authUser:t}=ue(),{id:e}=eo();return!e||e===t._id?u.jsx(kK,{id:t._id}):u.jsx(SK,{id:e})}const TK="_container_j5ace_1",IK={container:TK},el={"block-body":"_block-body_1qf46_1","block-name":"_block-name_1qf46_10","block-button":"_block-button_1qf46_15","button-circle":"_button-circle_1qf46_25","button-name":"_button-name_1qf46_41","block-text":"_block-text_1qf46_49","block-arrow":"_block-arrow_1qf46_55","circle-arrow":"_circle-arrow_1qf46_63"};function NK({name:t,buttonText:e,onClick:n}){const{theme:r,setThemeById:o,elementColors:s,setElementColors:i}=p.useContext($);return u.jsxs("div",{className:el["block-body"],style:{background:r.element_first_color},children:[u.jsx("div",{className:el["block-name"],style:{color:r.text_first_color},children:t}),u.jsxs("button",{className:el["block-button"],style:{background:r.first_color},onClick:n,children:[u.jsx("h4",{className:el["button-name"],style:{color:r.text_first_color},children:e}),u.jsx("div",{className:el["button-circle"],style:{background:r.text_first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.background_color})})})]})]})}const AK="_overlay_1y7wn_1",PK="_line_1y7wn_25",RK="_content_1y7wn_36",so={overlay:AK,"menu-wrapper":"_menu-wrapper_1y7wn_11",line:PK,"content-wrapper":"_content-wrapper_1y7wn_36","menu-title":"_menu-title_1y7wn_46",content:RK,"input-promo":"_input-promo_1y7wn_64","main-button":"_main-button_1y7wn_80"};function jK({isShow:t,setShow:e,onClick:n}){const{theme:r,setThemeById:o,elementColors:s,setElementColors:i}=p.useContext($);ue();const[a,l]=p.useState(Array(6).fill(""));p.useState([]);const[c,d]=p.useState(!1),[h,f]=p.useState(!0);p.useState(),p.useState();const g=p.useRef(),_=p.useRef([]),[w,C]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(w.isShow){const S=setTimeout(()=>{C({isShow:!1})},1e3);return()=>clearTimeout(S)}},[w]);const v=v6(0),y={hidden:{opacity:0,visibility:"hidden"},show:{opacity:1,visibility:"visible"},close:{marginTop:"100%"},open:{marginTop:"30%"}},m=(S,E)=>{const I=S.target.value,P=[...a];P[E]=I,l(P),I.length===1&&E<_.current.length-1?_.current[E+1].focus():I.length===0&&E>0&&_.current[E-1].focus();const N=P.filter(R=>R!=="");f(N.length<6)},x=(S,E)=>{const[I,P,N]=S.split(".").map(Number),[R,j]=E.split(":").map(Number);return new Date(N,P-1,I,R,j)},k=async()=>{l(Array(6).fill("")),f(!0);const S=a.join("").toUpperCase(),E=X(W,"promocodes",S),I=await ae(E);if(I.exists()){const P=I.data();x(P.time.data,P.time.time)>new Date?(n("found",P.money),e(!1)):n("time exist",0)}else n("not found",0)},b=()=>{d(!0)},T=()=>{d(!1);const S=v.get();console.log("dragY:",S),g.current&&(S<-70?g.current.style.marginTop="2%":S>10&&S<50?g.current.style.marginTop="3%":S>70&&e(!1)),v.set(0)};return u.jsxs(st.div,{className:so.overlay,variants:y,initial:"hidden",animate:t?"show":"hidden",children:[u.jsx(Yt,{isShow:w.isShow,text:w.text}),u.jsxs(st.section,{className:so["menu-wrapper"],style:{y:v,background:r.element_first_color},ref:g,variants:y,initial:"close",animate:t?"open":"close",drag:"y",dragConstraints:{top:window.innerWidth>700?-300:-50,bottom:0},transition:{type:"spring",damping:40,stiffness:400},onDragStart:b,onDragEnd:T,children:[u.jsx("div",{className:so.line,style:{background:r.element_second_color}}),u.jsxs("div",{className:so["content-wrapper"],children:[u.jsx("h3",{className:so["menu-title"],style:{color:r.text_first_color},children:"Промокод"}),u.jsx("div",{className:so.content,children:a.map((S,E)=>u.jsx("input",{type:"text",className:so["input-promo"],style:{color:r.text_first_color,background:r.element_second_color,"--focusColor":r.gradient_first_color},maxLength:1,value:S,onChange:I=>m(I,E),ref:I=>_.current[E]=I},E))}),u.jsx("button",{className:so["main-button"],style:{background:h?r.element_second_color:r.first_color,color:r.text_first_color},disabled:h,onClick:k,children:"Активировать"})]})]})]})}function LK(){const{authUser:t}=ue(),{theme:e,setThemeById:n,elementColors:r,setElementColors:o}=p.useContext($),[s,i]=p.useState(!1),[a,l]=p.useState(),[c,d]=p.useState(),h=ye(),[f,g]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(f.isShow){const v=setTimeout(()=>{g({isShow:!1})},1e3);return()=>clearTimeout(v)}},[f]),p.useEffect(()=>{o({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>h("/group-list"),arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:0,background:e.background_color}),document.body.style.background=e.background_color},[$]),p.useEffect(()=>{(async()=>{if(t&&t._id){const y=X(W,"users",t._id,"info","preferences"),m=await ae(y);if(m.exists()){const x=m.data();l(x.balance),d(x.promoLastActivated?new Date(x.promoLastActivated):null)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const _=async(v,y)=>{if(t&&t._id){const m=X(W,"users",t._id,"info","preferences"),x=await ae(m),k=new Date;if(x.exists()){const b=x.data(),T=b.promoLastActivated?new Date(b.promoLastActivated):null;if(T&&k-T<24*60*60*1e3){g({isShow:!0,text:"Промокод можно активировать только раз в сутки"});return}}try{await Ho(m,{balance:v,promoLastActivated:k.toISOString()}),g({isShow:!0,text:`Промод активирован. Ваш баланс пополнен на ${y}`}),console.log(`Balance updated to ${v}`)}catch(b){console.error("Error updating balance:",b)}}else console.error("authUser or authUser._id is undefined")},w=(v,y)=>{switch(v){case"not found":return[g({isShow:!0,text:"Промокод не найден"}),i(!1)];case"time exist":return[g({isShow:!0,text:"Действие промокода закончилось"}),i(!1)];case"found":return[_(a+y,y)]}},C=()=>{i(!0)};return u.jsxs("div",{className:IK.container,children:[u.jsx(Yt,{isShow:f.isShow,text:f.text}),u.jsx(jK,{isShow:s,setShow:i,onClick:w}),u.jsx(NK,{name:"Активируйте промокод",buttonText:"Активировать",onClick:C}),u.jsx(ir,{name:"Казино",description:"Последний деп?",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_first_color,linkTo:"/casino"}),u.jsx(ir,{name:"GCOIN",description:"тапай по экрану",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_second_color,linkTo:"/tapcoin"}),u.jsx(ir,{name:"Ракетка",description:"Не входи в азарт",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/rocket"}),u.jsx(ir,{name:"Тест",description:"поступи на СВО",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/quiz"}),u.jsx(ir,{name:"Flyppi bird",description:"9/11",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/flippybird"}),u.jsx(ir,{name:"Рейтинг студентов",description:"Баллы получай, IQ повышай",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/rating"})]})}const OK=()=>{const t=p.useRef(null),e=p.useRef(null),[n,r]=p.useState(null),o=async()=>{try{const a=await navigator.mediaDevices.getUserMedia({video:!0});t.current.srcObject=a,t.current.play()}catch(a){console.error("Error accessing camera: ",a)}},s=()=>{t.current.srcObject.getTracks().forEach(c=>{c.stop()}),t.current.srcObject=null},i=()=>{e.current.getContext("2d").drawImage(t.current,0,0,e.current.width,e.current.height);const l=e.current.toDataURL("image/png");r(l)};return u.jsxs("div",{children:[u.jsx("video",{ref:t,width:"640",height:"480",autoPlay:!0}),u.jsx("canvas",{ref:e,width:"640",height:"480",style:{display:"none"}}),u.jsxs("div",{children:[u.jsx("button",{onClick:o,children:"Start Camera"}),u.jsx("button",{onClick:i,children:"Capture Photo"}),u.jsx("button",{onClick:s,children:"Stop Camera"})]}),n&&u.jsxs("div",{children:[u.jsx("h2",{children:"Captured Image:"}),u.jsx("img",{src:n,alt:"Captured"})]})]})},DK="_container_1ka4o_1",MK="_coin_1ka4o_34",$K="_limit_1ka4o_120",FK="_icon_1ka4o_126",BK="_data_1ka4o_113",jt={container:DK,"score-container":"_score-container_1ka4o_12","wrapper-action":"_wrapper-action_1ka4o_17","score-add":"_score-add_1ka4o_26",coin:MK,"control-point-1":"_control-point-1_1ka4o_45","control-point-2":"_control-point-2_1ka4o_55","control-point-3":"_control-point-3_1ka4o_64","control-point-4":"_control-point-4_1ka4o_74","control-point-center":"_control-point-center_1ka4o_84","coin-outer":"_coin-outer_1ka4o_93","coin-inner":"_coin-inner_1ka4o_104","data-container":"_data-container_1ka4o_113",limit:$K,icon:FK,data:BK};function UK(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($),{authUser:o}=ue(),[s,i]=p.useState(),[a,l]=p.useState(0),[c,d]=p.useState(),h=p.useRef(),[f,g]=p.useState(0),[_,w]=p.useState([]),C=ye();p.useEffect(()=>{d(a)},[a]),p.useEffect(()=>{(async()=>{if(o&&o._id){const x=X(W,"users",o._id,"info","preferences"),k=await ae(x);if(k.exists()){const b=k.data();i(b.balance),l(b.limit)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const v=async m=>{if(o&&o._id)try{const x=X(W,"users",o._id,"info","preferences");await Ho(x,{balance:m}),console.log(`Balance updated to ${m}`)}catch(x){console.error("Error updating balance:",x)}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{v(s)},[s]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>C("/game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(c<a){const m=setTimeout(()=>{d(c+1)},500);return()=>clearTimeout(m)}},[c]);const y=m=>{if(c<=0)return;i(s+1),d(c-1);const x={x:m.clientX,y:m.clientY,id:Date.now()};w(k=>[...k,x]),setTimeout(()=>{w(k=>k.filter(b=>b.id!==x.id))},10)};return p.useEffect(()=>{h.current&&(h.current.style.transform=`rotateY(${f}deg)`,f&&setTimeout(()=>{g(0)},70))},[f]),u.jsxs("div",{className:jt.container,children:[u.jsx(LH,{children:_.map(m=>u.jsx(st.div,{className:jt["score-add"],initial:{opacity:1,top:m.y-10,left:m.x-10},animate:{opacity:0,top:m.y-40,left:m.x-10},exit:{opacity:0},style:{color:t.text_first_color},children:"+1"},m.id))}),u.jsx("div",{className:jt["score-container"],children:u.jsx(su,{name:"Баланс",count:s,isBalance:!0})}),u.jsx("div",{className:jt["wrapper-action"],children:u.jsxs("div",{className:jt.coin,ref:h,onClick:y,children:[u.jsx("div",{className:jt["control-point-1"],onClick:()=>g(30)}),u.jsx("div",{className:jt["control-point-2"],onClick:()=>g(-30)}),u.jsx("div",{className:jt["control-point-3"],onClick:()=>g(30)}),u.jsx("div",{className:jt["control-point-4"],onClick:()=>g(-30)}),u.jsx("div",{className:jt["control-point-center"]}),u.jsx("div",{className:jt["coin-outer"],style:{background:t.first_color},children:u.jsx("div",{className:jt["coin-inner"]})})]})}),u.jsx("div",{className:jt["data-container"],children:u.jsxs("div",{className:jt.limit,children:[u.jsx("div",{className:jt.icon,children:u.jsx("svg",{width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.17925 0.737957C9.28191 0.797057 9.36135 0.88898 9.4046 0.998711C9.44784 1.10844 9.45234 1.22949 9.41735 1.34209L7.52826 7.43758H11.0138C11.1162 7.43754 11.2164 7.46728 11.302 7.52314C11.3876 7.57901 11.4549 7.65854 11.4955 7.75192C11.5361 7.84531 11.5483 7.94846 11.5305 8.04864C11.5128 8.14882 11.4659 8.24164 11.3956 8.31565L3.0043 17.1693C2.9231 17.2551 2.81506 17.311 2.69778 17.3279C2.58049 17.3449 2.46089 17.3219 2.35845 17.2627C2.25601 17.2035 2.17679 17.1116 2.13369 17.0019C2.09059 16.8923 2.08616 16.7714 2.12111 16.6589L4.0102 10.5624H0.524666C0.422234 10.5624 0.322033 10.5327 0.236431 10.4768C0.150829 10.421 0.0835737 10.3414 0.0429683 10.248C0.00236276 10.1547 -0.00981566 10.0515 0.00793624 9.95134C0.0256882 9.85116 0.0725932 9.75833 0.142861 9.68432L8.53417 0.83066C8.61526 0.745039 8.72314 0.689177 8.84025 0.672158C8.95737 0.655138 9.07685 0.677961 9.17925 0.736916V0.737957Z",fill:t.light_color})})}),u.jsx("div",{className:jt.data,style:{color:t.text_first_color},children:`${c} / ${a}`})]})})]})}const VK="_overlay_1r3zo_2",zK="_container_1r3zo_14",HK="_koeff_1r3zo_36",qK="_action_text_1r3zo_48",WK="_track_1r3zo_59",GK="_rocket_1r3zo_70",KK="_cloud_1r3zo_81",YK="_moveCloud_1r3zo_1",nt={overlay:VK,container:zK,"score-container":"_score-container_1r3zo_24","view-container":"_view-container_1r3zo_29",koeff:HK,action_text:qK,track:WK,"track-bg":"_track-bg_1r3zo_65",rocket:GK,"cloud-container":"_cloud-container_1r3zo_81",cloud:KK,moveCloud:YK,"bet-container":"_bet-container_1r3zo_104","input-container":"_input-container_1r3zo_114","input-button":"_input-button_1r3zo_124","input-bet":"_input-bet_1r3zo_137","add-bet":"_add-bet_1r3zo_154"};function QK(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($),{authUser:o}=ue(),[s,i]=p.useState(),[a,l]=p.useState(!1),[c,d]=p.useState(0),[h,f]=p.useState(100),[g,_]=p.useState("Ставка"),[w,C]=p.useState("Успей забрать"),[v,y]=p.useState(!1),[m,x]=p.useState(!1),[k,b]=p.useState(!1),[T,S]=p.useState({isShow:!1,text:""}),[E,I]=p.useState({}),P=ye();p.useEffect(()=>{const A=()=>{window.innerWidth>700?I({stop:{right:-100,top:30},fly:{right:-600,top:-60}}):I({stop:{right:-20,top:120},fly:{right:-150,top:60}})};return A(),window.addEventListener("resize",A),()=>{window.removeEventListener("resize",A)}},[]);const N=p.useRef(),R=(A,D)=>{A=A.replace("#","");let G=parseInt(A.substring(0,2),16),ee=parseInt(A.substring(2,4),16),be=parseInt(A.substring(4,6),16);return`rgba(${G}, ${ee}, ${be}, ${D})`};p.useEffect(()=>{const A=N.current,D=A.getContext("2d");D.clearRect(0,0,A.width,A.height),D.beginPath(),D.moveTo(0,A.height),D.quadraticCurveTo(250,A.height/2,A.width,0),D.lineTo(A.width,A.height),D.closePath();const G=R(t.gradient_first_color,.5);D.fillStyle=G,D.fill(),D.strokeStyle=t.gradient_first_color,D.lineWidth=2,D.stroke()},[]),p.useEffect(()=>{if(T.isShow){const A=setTimeout(()=>{S({isShow:!1})},1e3);return()=>clearTimeout(A)}},[T]),p.useEffect(()=>{(async()=>{if(o&&o._id){const D=X(W,"users",o._id,"info","preferences"),G=await ae(D);if(G.exists()){const ee=G.data();i(ee.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]),p.useEffect(()=>{if(!v){f(100),b(!1),x(!1),_("Ставка"),C(a?"Улетел":"Успей забрать");return}if(v){d(0),_("Забрать"),C("Успей забрать"),x(!0),b(!0),l(!1);const A=2e3+Math.random()*18e3,D=setTimeout(()=>{l(!0),y(!1),b(!1)},A);return()=>clearTimeout(D)}},[v]);const j=async A=>{if(o&&o._id)try{const D=X(W,"users",o._id,"info","preferences");await Ho(D,{balance:A}),console.log(`Balance updated to ${A}`)}catch(D){console.error("Error updating balance:",D)}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>P("game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(!k)return;const A=setInterval(()=>{d(D=>parseFloat((D+.01).toFixed(2)))},70);return()=>clearInterval(A)},[k]);const O=A=>{const D=A.target.value;f(D===""?"":parseInt(D,10))},M=()=>{if(h>s){S({isShow:!0,text:"У вас недостаточно средств для ставки"});return}i(s-h),j(s-h),y(!0)},z=()=>{S({isShow:!0,text:`Вы выиграли ${Math.floor(h*c)}`}),i(A=>Math.floor(A+h*c)),j(s+Math.floor(h*c)),y(!1)};return u.jsx("div",{className:nt.overlay,children:u.jsxs("div",{className:nt.container,children:[u.jsx(Yt,{text:T.text,isShow:T.isShow}),u.jsx("div",{className:nt["score-container"],children:u.jsx(su,{name:"Баланс",count:s,isBalance:!0})}),u.jsxs("div",{className:nt["view-container"],children:[u.jsx("h3",{className:nt.koeff,style:{color:t.text_first_color},children:`x${c}`}),u.jsx("h4",{className:nt.action_text,style:{color:t.text_first_color},children:w}),u.jsx("div",{className:nt.track,children:u.jsx("canvas",{ref:N,className:nt["track-bg"]})}),u.jsx(st.div,{variants:E,animate:a?"fly":"stop",className:nt.rocket,transition:{duration:.3},children:u.jsx("img",{src:"rocket.png"})}),u.jsxs("div",{className:nt["cloud-container"],children:[u.jsx("div",{className:nt.cloud,children:u.jsx("img",{src:"cloud_1.png"})}),u.jsx("div",{className:nt.cloud,children:u.jsx("img",{src:"cloud_2.png"})}),u.jsx("div",{className:nt.cloud,children:u.jsx("img",{src:"cloud_3.png"})}),u.jsx("div",{className:nt.cloud,children:u.jsx("img",{src:"cloud_2.png"})}),u.jsx("div",{className:nt.cloud,children:u.jsx("img",{src:"cloud_1.png"})})]})]}),u.jsxs("div",{className:nt["bet-container"],style:{background:t.element_first_color},children:[u.jsxs("div",{className:nt["input-container"],children:[u.jsx("button",{className:nt["input-button"],style:{background:t.element_second_color},onClick:()=>f(A=>A-1),disabled:m,children:u.jsx("svg",{width:"18",height:"4",viewBox:"0 0 18 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M16 2H9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})}),u.jsx("input",{type:"number",placeholder:"Ставка",min:0,value:h,onChange:O,className:nt["input-bet"],style:{color:t.text_first_color,caretColor:t.first_color,"--placeholderColor":t.text_third_color}}),u.jsx("button",{className:nt["input-button"],style:{background:t.element_second_color},onClick:()=>f(A=>A+1),disabled:m,children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9 2V9M9 16V9M9 9H16M9 9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})})]}),u.jsx("button",{className:nt["add-bet"],style:{background:t.first_color,color:t.text_first_color},onClick:g==="Ставка"?M:z,children:g})]})]})})}const ZK="_container_1lqg5_1",XK="_title_1lqg5_11",JK="_block_1lqg5_26",dn={container:ZK,title:XK,block:JK,"block-info":"_block-info_1lqg5_40","block-name":"_block-name_1lqg5_49","block-label":"_block-label_1lqg5_56","block-arrow":"_block-arrow_1lqg5_65","question-index":"_question-index_1lqg5_74","question-body":"_question-body_1lqg5_85","variants-container":"_variants-container_1lqg5_96","variant-body":"_variant-body_1lqg5_105","variant-name":"_variant-name_1lqg5_115","variant-circle":"_variant-circle_1lqg5_123"},lC={"progress-body":"_progress-body_5eai3_1","progress-line":"_progress-line_5eai3_11"};function eY({color:t,progress:e}){const{theme:n,elementColors:r,setElementColors:o}=p.useContext($);return u.jsx("section",{className:lC["progress-body"],style:{background:n.element_first_color},children:u.jsx("div",{className:lC["progress-line"],style:{background:t,width:e}})})}function tY({name:t,state:e,onClick:n}){const{theme:r,setThemeById:o,elementColors:s,setElementColors:i}=p.useContext($),a={correct:{isBackground:!0,color:r.first_color,svg:u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(-45deg)",isBorder:!1},incorrect:{isBackground:!0,color:r.third_color,svg:u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(45deg)",isBorder:!1},base:{isBackground:!1,color:r.element_first_color,svg:"",transform:"none",isBorder:!0}},l=a[e]||a.base;return u.jsxs("section",{variants:a,className:dn["variant-body"],style:{border:`2px solid ${l.color}`},onClick:n,children:[u.jsx("h4",{className:dn["variant-name"],style:{color:r.text_first_color},children:t}),u.jsx("div",{className:dn["variant-circle"],style:{background:l.isBackground?l.color:"none",border:l.isBorder?`2px solid ${r.element_first_color}`:"none",transform:l.transform},children:l.svg})]})}const nY=[{question:"What is the name of Russia's highest military award, often referred to as the 'Hero of the Russian Federation'?",answers:[{name:"Order of Lenin"},{name:"Order of the Red Banner"},{name:"Order of St. George"},{name:"Order of Courage"}],correctAnswerIndex:3},{question:"Which military branch of Russia operates the strategic missile forces responsible for nuclear deterrence?",answers:[{name:"Russian Ground Forces"},{name:"Russian Aerospace Forces"},{name:"Russian Navy"},{name:"Strategic Missile Troops"}],correctAnswerIndex:3},{question:"What is the name of Russia's only aircraft carrier, currently in service with the Russian Navy?",answers:[{name:"Admiral Kuznetsov"},{name:"Admiral Gorshkov"},{name:"Peter the Great"},{name:"Varyag"}],correctAnswerIndex:0},{question:"Which city hosts the headquarters of the Russian Navy's Northern Fleet?",answers:[{name:"Moscow"},{name:"Saint Petersburg"},{name:"Murmansk"},{name:"Sevastopol"}],correctAnswerIndex:2},{question:"In what year was the Russian Federation officially established, marking the modern era of the Russian military?",answers:[{name:"1991"},{name:"1993"},{name:"1995"},{name:"1999"}],correctAnswerIndex:0},{question:"Which Russian military operation annexed Crimea from Ukraine in 2014?",answers:[{name:"Operation Polar Star"},{name:"Operation Arctic Fox"},{name:"Operation Siberian Shield"},{name:"Operation Crimea"}],correctAnswerIndex:3},{question:"What is the name of Russia's main battle tank, known for its formidable firepower and armor?",answers:[{name:"T-72"},{name:"T-80"},{name:"T-90"},{name:"T-14 Armata"}],correctAnswerIndex:3},{question:"Which military exercise series, initiated by Russia, is one of the largest in the world, involving thousands of troops?",answers:[{name:"Exercise Suvorov"},{name:"Exercise Zapad"},{name:"Exercise Kavkaz"},{name:"Exercise Vostok"}],correctAnswerIndex:3},{question:"What is the name of Russia's primary combat aircraft, known for its versatility and role in air superiority?",answers:[{name:"Su-30"},{name:"MiG-31"},{name:"Su-57"},{name:"Tu-160"}],correctAnswerIndex:2},{question:"Which Russian military unit is famous for its demonstration of precision and coordination in military parades?",answers:[{name:"Spetsnaz"},{name:"VDV (Airborne Forces)"},{name:"Marines"},{name:"Presidential Regiment"}],correctAnswerIndex:3},{question:"What is the Russian term for a nuclear-powered ballistic missile submarine?",answers:[{name:"Kirov-class"},{name:"Yasen-class"},{name:"Typhoon-class"},{name:"Akula-class"}],correctAnswerIndex:2},{question:"Which Russian military figure is known as the 'Father of the Russian Navy' for his reforms and modernization efforts?",answers:[{name:"Peter the Great"},{name:"Admiral Kuznetsov"},{name:"Vladimir Putin"},{name:"Admiral Gorshkov"}],correctAnswerIndex:3},{question:"In which conflict did Russia deploy its military forces to support the Syrian government?",answers:[{name:"Libyan Civil War"},{name:"Yemeni Civil War"},{name:"Syrian Civil War"},{name:"Iraqi Civil War"}],correctAnswerIndex:2},{question:"What is the name of Russia's main strategic bomber, capable of carrying nuclear weapons and conducting long-range missions?",answers:[{name:"Tu-95"},{name:"Tu-22M"},{name:"Tu-160"},{name:"Su-24"}],correctAnswerIndex:2},{question:"Which Russian military branch is responsible for space operations and satellite launches?",answers:[{name:"Russian Space Forces"},{name:"Russian Strategic Missile Troops"},{name:"Russian Aerospace Forces"},{name:"Russian Airborne Troops"}],correctAnswerIndex:2},{question:"What is the name of Russia's primary infantry combat vehicle, widely used by its ground forces?",answers:[{name:"BMP-3"},{name:"BTR-80"},{name:"T-14 Armata"},{name:"Kurganets-25"}],correctAnswerIndex:0},{question:"Which military base, located in the Kaliningrad region, serves as a strategic outpost for Russia in Europe?",answers:[{name:"Sevastopol Naval Base"},{name:"Kronstadt Naval Base"},{name:"Luga Air Base"},{name:"Baltiysk Naval Base"}],correctAnswerIndex:3},{question:"What is the name of Russia's main anti-aircraft missile system, designed to defend against aerial threats?",answers:[{name:"S-300"},{name:"S-400"},{name:"Pantsir-S"},{name:"Tor-M2"}],correctAnswerIndex:1},{question:"Which Russian military doctrine emphasizes the use of nuclear weapons in response to conventional threats?",answers:[{name:"Gerasimov Doctrine"},{name:"Primakov Doctrine"},{name:"Makarov Doctrine"},{name:"Putin Doctrine"}],correctAnswerIndex:0},{question:"What is the name of Russia's main armored personnel carrier, widely used for troop transport?",answers:[{name:"BTR-82A"},{name:"BMP-2"},{name:"MT-LB"},{name:"Kurganets-25"}],correctAnswerIndex:0}],rY=[{question:"Сколько будет 15 + 7?",answers:[{name:"21"},{name:"22"},{name:"23"},{name:"24"}],correctAnswerIndex:1},{question:"Если у каждого танка есть 5 орудий, а в полку 24 таких танка, сколько всего орудий в полку?",answers:[{name:"110"},{name:"115"},{name:"120"},{name:"125"}],correctAnswerIndex:2},{question:"Если в каждом отряде 12 солдат, а в батальоне 4 таких отряда, сколько всего человек в мире?",answers:[{name:"1"},{name:"1488"},{name:"8 млн."},{name:"8 млрд."}],correctAnswerIndex:3},{question:"Если в каждом танке 3 боевых бойца, а в дивизионе 10 таких танков, то куда летит самолет?",answers:[{name:"На север"},{name:"На юг"},{name:"На восток"},{name:"На хуй"}],correctAnswerIndex:3},{question:"Если в каждой эскадрилье 6 истребителей, а в авиагруппе 4 таких эскадрильи, сколько всего истребителей в авиагруппе?",answers:[{name:"20"},{name:"22"},{name:"24"},{name:"26"}],correctAnswerIndex:2},{question:"Если в каждой морской пехотной дивизии 24 танка, а в бригаде 3 таких дивизии, то какое звание у лейтенанта?",answers:[{name:"лейтенант"},{name:"майор"},{name:"генерал"},{name:"ефрейтор"}],correctAnswerIndex:0},{question:"Если в каждом отряде 20 солдат, а в роте 5 отрядов, сколько всего солдат в роте?",answers:[{name:"В роте может быть только хуй"},{name:"Хз"},{name:"100"},{name:"34"}],correctAnswerIndex:2},{question:"Если в каждом батальоне 10 танков, а в полку 8 батальонов, сколько всего танков в полку?",answers:[{name:"70"},{name:"75"},{name:"80"},{name:"85"}],correctAnswerIndex:2},{question:"Если в каждом отделении 8 солдат, а в роте 6 отделений, сколько всего солдат в роте?",answers:[{name:"42"},{name:"44"},{name:"46"},{name:"48"}],correctAnswerIndex:3},{question:"Если в каждой роте 3 танка, а в батальоне 4 роты, сколько всего танков в батальоне?",answers:[{name:"8"},{name:"10"},{name:"12"},{name:"14"}],correctAnswerIndex:2},{question:"Если в каждом полку 4 батальона, а в каждом батальоне 8 бронированных машин, сколько всего бронированных машин в полку?",answers:[{name:"24"},{name:"28"},{name:"32"},{name:"36"}],correctAnswerIndex:2},{question:"Если в каждом батальоне 5 отрядов, а в каждом отряде 40 солдат, сколько всего солдат в батальоне?",answers:[{name:"180"},{name:"200"},{name:"220"},{name:"240"}],correctAnswerIndex:1},{question:"Если в каждой роте 5 бронетранспортеров, а в полку 6 рот, сколько всего бронетранспортеров в полку?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1},{question:"Если в каждом отделении 10 солдат, а в батальоне 5 отделений, сколько всего солдат в батальоне?",answers:[{name:"45"},{name:"50"},{name:"55"},{name:"60"}],correctAnswerIndex:1},{question:"Если в каждом батальоне 6 танков, а в полку 8 батальонов. Сколько весит танк?",answers:[{name:"40 тонн"},{name:"45 тонн"},{name:"5 кг"},{name:"65 кг"}],correctAnswerIndex:2},{question:"Если в каждой эскадрилье 8 истребителей, а в авиагруппе 4 таких эскадрильи, сколько всего истребителей в авиагруппе?",answers:[{name:"28"},{name:"30"},{name:"32"},{name:"34"}],correctAnswerIndex:2},{question:"Если в каждой морской пехотной дивизии 20 танков, а в бригаде 5 таких дивизии, сколько всего танков в бригаде?",answers:[{name:"90"},{name:"100"},{name:"110"},{name:"120"}],correctAnswerIndex:1},{question:"Если в каждой роте 4 бронетранспортера, а в батальоне 6 рот, сколько всего бронетранспортеров в батальоне?",answers:[{name:"20"},{name:"24"},{name:"28"},{name:"32"}],correctAnswerIndex:1},{question:"Если в каждом отряде 18 солдат, а в роте 5 отрядов, сколько всего солдат в роте?",answers:[{name:"85"},{name:"90"},{name:"95"},{name:"100"}],correctAnswerIndex:1},{question:"Если в каждом полку 3 батальона, а в каждом батальоне 10 танков, сколько всего танков в полку?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1}],oY=[{question:"Какое слово является множественным числом: книга, книги, книжка, книгу?",answers:[{name:"Книга"},{name:"Книги"},{name:"Книжка"},{name:"Книгу"}],correctAnswerIndex:1},{question:"Какое слово является противоположным слову 'горячий'?",answers:[{name:"Холодный"},{name:"Теплый"},{name:"Зимний"},{name:"Горячечный"}],correctAnswerIndex:0},{question:"Какой из глаголов является несовершенным: пел, поет, поют, пляшет?",answers:[{name:"Пел"},{name:"Поет"},{name:"Поют"},{name:"Пляшет"}],correctAnswerIndex:1},{question:"Какой предлог указывает на местоположение: на, под, из, от?",answers:[{name:"На"},{name:"Под"},{name:"Из"},{name:"От"}],correctAnswerIndex:0},{question:"Какое слово является множественным числом: стол, столы, столик, стола?",answers:[{name:"Стол"},{name:"Столы"},{name:"Столик"},{name:"Стола"}],correctAnswerIndex:1},{question:"Какое слово является синонимом слова 'смешной'?",answers:[{name:"Серьезный"},{name:"Веселый"},{name:"Тяжелый"},{name:"Грустный"}],correctAnswerIndex:1},{question:"Какой вариант предложения правильный: 'Она пошла домой' или 'Она пошла дома'?",answers:[{name:"Она пошла домой"},{name:"Она пошла дома"}],correctAnswerIndex:0},{question:"Какое слово является множественным числом: стекло, стекла, стеклышко, стеклом?",answers:[{name:"Стекло"},{name:"Стекла"},{name:"Стеклышко"},{name:"Стеклом"}],correctAnswerIndex:1},{question:"Какой из слов является союзом: и, книга, мяч, вода?",answers:[{name:"Книга"},{name:"Мяч"},{name:"Вода"},{name:"И"}],correctAnswerIndex:3},{question:"Какое слово является синонимом слова 'быстрый'?",answers:[{name:"Медленный"},{name:"Скорый"},{name:"Тяжелый"},{name:"Легкий"}],correctAnswerIndex:1},{question:"Какая ракетная система считается основной тактической ядерной системой Российской Федерации?",answers:[{name:"Искандер"},{name:"Тополь"},{name:"Булава"},{name:"Калибр"}],correctAnswerIndex:0},{question:"Какой тип военного самолета является основным истребителем в Российских Военно-воздушных силах?",answers:[{name:"Сухой Су-35"},{name:"МиГ-29"},{name:"Сухой Су-57"},{name:"МиГ-31"}],correctAnswerIndex:0},{question:"Как называется российский бронированный автомобиль с усиленной защитой и вооруженный пулеметом?",answers:[{name:"Тигр"},{name:"Буран"},{name:"Урал"},{name:"Камаз"}],correctAnswerIndex:0},{question:"Какой танк считается основным боевым танком Российской армии?",answers:[{name:"Т-90"},{name:"Т-80"},{name:"Т-72"},{name:"Армата"}],correctAnswerIndex:0},{question:"Какой тип вооружения используется на российских кораблях для уничтожения подводных лодок?",answers:[{name:"Торпеды"},{name:"Ракеты Калибр"},{name:"ПЗРК Игла"},{name:"Антиподводные ракеты"}],correctAnswerIndex:0},{question:"Как называется новейший российский беспилотный летательный аппарат, предназначенный для боевых задач?",answers:[{name:"Охотник"},{name:"Стриж"},{name:"Истребитель"},{name:"Мурман"}],correctAnswerIndex:0},{question:"Какая зенитная ракетная система предназначена для уничтожения воздушных целей и баллистических ракет?",answers:[{name:"С-400"},{name:"С-300"},{name:"С-500"},{name:"С-200"}],correctAnswerIndex:0},{question:"Какое стратегическое ядерное оружие является основным средством вторжения?",answers:[{name:"Баллистическая ракета"},{name:"Бомбардировщик Ту-160"},{name:"Подводная лодка"},{name:"Крылатая ракета"}],correctAnswerIndex:0},{question:"Какое средство является основным беспилотным летательным аппаратом Российских Военно-воздушных сил?",answers:[{name:"Орлан"},{name:"Байкал"},{name:"Истребитель"},{name:"Сухой"}],correctAnswerIndex:0},{question:"Какой пулемет используют для установки на танки Российских Военно-воздушных сил?",answers:[{name:"Калашников"},{name:"Максим"},{name:"Миномет"},{name:"Дробовик"}],correctAnswerIndex:0},{question:"Какое оружие используется для борьбы с танками?",answers:[{name:"РПГ-7"},{name:"Метательный оружие"},{name:"Снайпер"},{name:"Танковое оружие"}],correctAnswerIndex:0},{question:"Какой стратегический бомбардировщик используется для стратегических воздушных атак?",answers:[{name:"Ту-95"},{name:"Су-30"},{name:"МиГ-35"},{name:"Ту-22"}],correctAnswerIndex:0},{question:"Какое средство является основным воздушным кораблем в Российских Военно-воздушных силах?",answers:[{name:"Истребитель"},{name:"Ракета"},{name:"Корабль"},{name:"Дирижабль"}],correctAnswerIndex:0},{question:"Как называется новейший российский военный танк?",answers:[{name:"Армата"},{name:"Т-72"},{name:"Т-90"},{name:"Сухой"}],correctAnswerIndex:0},{question:"Какое вооружение используется для борьбы с воздушными целями?",answers:[{name:"Ракеты"},{name:"Самолеты"},{name:"Боевые вертолеты"},{name:"ПВО"}],correctAnswerIndex:0},{question:"Какой военный корабль используется в Российских Военно-воздушных силах?",answers:[{name:"Ракета"},{name:"Корабль"},{name:"Танк"},{name:"Линкор"}],correctAnswerIndex:0},{question:"Какой военный вертолет используется для боевых действий?",answers:[{name:"Ми-24"},{name:"Сухой"},{name:"Истребитель"},{name:"Боевой"}],correctAnswerIndex:0},{question:"Как называется новейший российский военный беспилотный летательный аппарат?",answers:[{name:"Охотник"},{name:"Стриж"},{name:"Истребитель"},{name:"Мурман"}],correctAnswerIndex:0},{question:"Какое оружие является основным для строительства Российской империи?",answers:[{name:"Снаряд"},{name:"Ракеты"},{name:"Взрывчатое вещество"},{name:"Калибр"}],correctAnswerIndex:0}],sY=[{question:"Манас эпосунун аткысуун жазып жаткан кандай кыргыз ашык?",answers:[{name:"Чыңгыз"},{name:"Манас"},{name:"Борубай"},{name:"Сейтек"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'балык' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Күй"},{name:"Жабык"},{name:"Тамак"},{name:"Төрөл"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'жашын' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жыл"},{name:"Жол"},{name:"Жуу"},{name:"Жапа"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'айыл' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жашын"},{name:"Жол"},{name:"Жамгыр"},{name:"Жороо"}],correctAnswerIndex:2},{question:"Кыргыз тилинде 'көз' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Куу"},{name:"Кара"},{name:"Камчы"},{name:"Кымбат"}],correctAnswerIndex:3},{question:"Кыргыз тилинде 'кайын' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Кайык"},{name:"Кайыр"},{name:"Кайнак"},{name:"Кайырмак"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'кайырмак' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Кайыр"},{name:"Кайык"},{name:"Кайын"},{name:"Кайынак"}],correctAnswerIndex:1},{question:"Кыргыз тилинде 'төрөл' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Торгон"},{name:"Тамак"},{name:"Толкун"},{name:"Тиркеме"}],correctAnswerIndex:0},{question:"Кыргыз тилинде 'өзгөчө' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Өзгө"},{name:"Өзүн"},{name:"Өз"},{name:"Өздөр"}],correctAnswerIndex:3},{question:"Кыргыз тилинде 'жүрөк' сөзүндөн башка кандай сөздөр бар?",answers:[{name:"Жаңы"},{name:"Жаткан"},{name:"Жана"},{name:"Жүрөктөр"}],correctAnswerIndex:2},{question:"Кыргызстандын мамлекеттик тили кандай?",answers:[{name:"Кыргыз тили"},{name:"Рус тили"},{name:"Англис тили"},{name:"Француз тили"}],correctAnswerIndex:0},{question:"Кыргызстандын абалдуу өнүгүү кандай тартилет?",answers:[{name:"Тор жарактуу"},{name:"Чок көчөндүруү"},{name:"Терөө бурчулуу"},{name:"Жооп көрсөтүү"}],correctAnswerIndex:0},{question:"Ата-энен деген сөз кандай тилде тартылат?",answers:[{name:"Кыргыз тили"},{name:"Рус тили"},{name:"Англис тили"},{name:"Түрк тили"}],correctAnswerIndex:0},{question:"Кыргызстандын астанасы ким?",answers:[{name:"Манас"},{name:"Чыңгыз айтматов"},{name:"Жүсүп абдыкадыров"},{name:"Мырза алаш"}],correctAnswerIndex:0},{question:"Кыргызстандын кайрыктуу өнүгүү кандай тартилет?",answers:[{name:"Алаңдатуу"},{name:"Алаша чатат"},{name:"Куу суу айтат"},{name:"Жооп көрсөтүү"}],correctAnswerIndex:1},{question:"Кыргызстандын аталышы кандай?",answers:[{name:"Кыргызстан"},{name:"Казастан"},{name:"Узбекстан"},{name:"Төркистан"}],correctAnswerIndex:0},{question:"Кыргызстандын эне-кеңеш деген сөз кандай тартылат?",answers:[{name:"Ата-энен"},{name:"Карындаш"},{name:"Баласы"},{name:"Көрүшү"}],correctAnswerIndex:0},{question:"Кыргызстандын жери кандай?",answers:[{name:"Жамияткан"},{name:"Күрөнүшкөн"},{name:"Желөөк"},{name:"Жалынуучу"}],correctAnswerIndex:1},{question:"Кыргызстандын туура тарапы кандай?",answers:[{name:"Ысык-көл"},{name:"Чолпон-ата"},{name:"Алай"},{name:"Талас"}],correctAnswerIndex:0},{question:"Кыргызстандын булуттары кандай?",answers:[{name:"Таң аралык"},{name:"Ала-туулук"},{name:"Кызыл катын"},{name:"Калын ара"}],correctAnswerIndex:1},{question:"Кыргызстандын айыл чөйрөктөри кандай?",answers:[{name:"Жаркынбек"},{name:"Айыл-чөйрөк"},{name:"Жаны-базар"},{name:"Кыргыз"}],correctAnswerIndex:1},{question:"Кыргызстандын аяктары кандай?",answers:[{name:"Сары-булак"},{name:"Ак-булак"},{name:"Кызыл-төк"},{name:"Чоң курум"}],correctAnswerIndex:2},{question:"Кыргызстандын көлдөрү кандай?",answers:[{name:"Ысык-көл"},{name:"Чолпон-ата"},{name:"Торткөл"},{name:"Алай"}],correctAnswerIndex:0},{question:"Кыргызстандын курулуштары кандай?",answers:[{name:"Кара-дарыя"},{name:"Көл-дарыя"},{name:"Туу-дарыя"},{name:"Темир-дарыя"}],correctAnswerIndex:3},{question:"Кыргызстандын аркылы кандай тийиш?",answers:[{name:"Айтар"},{name:"Сыйлык"},{name:"Сыйлык"},{name:"Манипуляция"}],correctAnswerIndex:2},{question:"Кыргызстандын аркылы кандай күрүшүн?",answers:[{name:"Жамияткан"},{name:"Күрөнүшкөн"},{name:"Алча-туу"},{name:"Желөөк"}],correctAnswerIndex:1},{question:"Кыргызстандын аркылы кандай өнүүдү тартылат?",answers:[{name:"Чүү"},{name:"Эс"},{name:"Алды"},{name:"Бүтүн"}],correctAnswerIndex:0},{question:"Кыргызстандын аркылы кандай экилик?",answers:[{name:"Чолпон-ата"},{name:"Чыңгыз айтматов"},{name:"Манас"},{name:"Мырза алаш"}],correctAnswerIndex:3},{question:"Кыргызстандын аркылы кандай дары?",answers:[{name:"Айыл"},{name:"Айл"},{name:"Айыл"},{name:"Айл"}],correctAnswerIndex:0}];function iY({mode:t}){const[e,n]=p.useState("");p.useState();const{authUser:r}=ue(),o=p.useRef(null),{theme:s,setThemeById:i,elementColors:a,setElementColors:l}=p.useContext($),c=ye(),h={english:{questions:nY,timePerQuestion:5},math:{questions:rY,timePerQuestion:20},russian:{questions:oY,timePerQuestion:15},kyrgyz:{questions:sY,timePerQuestion:20}}[t];p.useEffect(()=>{l({iconColor:s.icon_color,titleColor:s.text_first_color,showArrow:!0,arrowLink:()=>c("/quiz"),arrowColor:s.text_first_color,isHeaderBackground:!0,headerBackground:s.background_color,isHeader:!0,isFooter:!1,footerBackground:s.background_color,activeElementIndex:0,background:s.background_color}),document.body.style.background=s.background_color},[$]);const f=(Y,Pe)=>[...Y].sort(()=>.5-Math.random()).slice(0,Pe),[g,_]=p.useState([]),[w,C]=p.useState(0),[v,y]=p.useState(new Array(4).fill("base")),[m,x]=p.useState(0),[k,b]=p.useState(0),[T,S]=p.useState(!1),[E,I]=p.useState(!1),[P,N]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[R,j]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{fetch("https://api.ipify.org?format=json").then(Y=>Y.json()).then(Y=>{n(Y.ip)}).catch(Y=>{console.error("Error fetching IP address:",Y)})},[]),p.useEffect(()=>{fetch("https://ipinfo.io/json?token=daabefc348f9fc").then(Y=>Y.json()).then(Y=>{console.log("IP Address:",Y.ip),console.log("City:",Y.city),console.log("Region:",Y.region),console.log("Country:",Y.country),console.log("Location:",Y.loc),console.log("Street:",Y.org),n({ip:Y.ip,city:Y.city,region:Y.region,location:Y.loc})}).catch(Y=>{console.error("Error fetching IP address and location:",Y)})},[]);const O=Y=>["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][Y],M=Y=>new Promise((Pe,Ze)=>{const Un=new Image;Un.src=Y,Un.onload=()=>Pe(Un),Un.onerror=to=>Ze(to)}),z=async Y=>{try{const Pe=o.current,Ze=Pe.getContext("2d"),Un=await M("SMO.jpg"),to=await M("print.png");Ze.drawImage(Un,0,0,Pe.width,Pe.height),Ze.font="20px Times New Roman",Ze.fillStyle="#000",Ze.fillText(r.name,145,48);const iu=Math.floor(Math.random()*9001)+1e3;Ze.font="16px Times New Roman",Ze.fillText(`по адресу:  город ${e.city}, ${e.location}, IP адрес: ${e.ip} `,170,68),Ze.font="20px Times New Roman",Ze.fillText(iu,680,95);const oi=new Date;oi.setDate(oi.getDate()+1);const W6=oi.getDate(),G6=oi.getMonth(),K6=O(G6);Ze.fillText(W6,420,138),Ze.fillText(K6,470,138),Ze.drawImage(to,450,140,200,200);const Y6=Pe.toDataURL("image/png");Y(Y6,iu)}catch(Pe){console.error("Ошибка загрузки изображения:",Pe)}};p.useEffect(()=>{if(!h)return;const Y=f(h.questions,10);_(Y),b(h.timePerQuestion)},[t]);const A=Y=>{const Pe=Math.floor(Y/60),Ze=Y%60;return`${Pe}:${Ze<10?"0":""}${Ze}`};p.useEffect(()=>{let Y;return k>0&&!T&&!E?Y=setInterval(()=>{b(Pe=>Pe-1)},1e3):k===0&&!E&&G(),()=>clearInterval(Y)},[k,T,E]),p.useEffect(()=>{g[w]&&(y(new Array(g[w].answers.length).fill("base")),b(h.timePerQuestion),S(!1))},[w,g]);const D=Y=>{var Pe;if(!T&&!E){const Ze=(Pe=g[w])==null?void 0:Pe.correctAnswerIndex,Un=Y===Ze,to=v.map((iu,oi)=>oi===Y?Un?"correct":"incorrect":iu);Un||(to[Ze]="correct"),y(to),Un&&x(m+5),S(!0),setTimeout(()=>de(),2e3)}},G=()=>{var Y;if(!T&&!E){const Pe=(Y=g[w])==null?void 0:Y.correctAnswerIndex;if(Pe!==void 0){const Ze=v.map((Un,to)=>to===Pe?"correct":"base");y(Ze),S(!0),setTimeout(()=>de(),2e3)}}},ee=()=>{c("/quiz")},[be,le]=p.useState(!1);p.useEffect(()=>{!R.isShow&&be&&(N({...P,isShow:!0}),le(!1))},[R.isShow]);const de=async()=>{w<g.length-1?C(w+1):(I(!0),t==="kyrgyz"?m>40?z(Y=>{j({isShow:!0,images:[Y],index:0}),le(!0),N({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${m}. Вы также были приняты в Улуттук гвардия на бюджетную форму обучения!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ee,secondButtonOnClick:$e})}):m<20&&z(Y=>{j({isShow:!0,images:[Y],index:0}),le(!0),N({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${m}. Вы также были приняты в Улуттук гвардия на бюджетную форму обучения!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ee,secondButtonOnClick:$e})}):t==="russian"?m>40?z(Y=>{j({isShow:!0,images:[Y],index:0}),le(!0),N({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${m}. Вы также были приняты в ряды российской армии на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ee,secondButtonOnClick:$e})}):m<20&&z(Y=>{j({isShow:!0,images:[Y],index:0}),le(!0),N({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${m}. Вы также были приняты в ряды российской армии, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ee,secondButtonOnClick:$e})}):t==="math"?m>40?z(Y=>{j({isShow:!0,images:[Y],index:0}),le(!0),N({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${m}. Вы также были приняты в ряды военных инженеров СВО на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ee,secondButtonOnClick:$e})}):m<20&&z(Y=>{j({isShow:!0,images:[Y],index:0}),le(!0),N({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${m}. Вы также были приняты в ряды военных инженеров СВО, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ee,secondButtonOnClick:$e})}):t==="english"&&(m>40?z(Y=>{j({isShow:!0,images:[Y],index:0}),le(!0),N({title:"Вы выиграли!",text:`Викторина завершена! Ваш счёт: ${m}. Вы также были приняты в ряды российской разведки на бюджет, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ee,secondButtonOnClick:$e})}):m<20&&z(Y=>{j({isShow:!0,images:[Y],index:0}),le(!0),N({title:"Вы проиграли!",text:`Викторина завершена! Ваш счёт: ${m}. Вы также были приняты в ряды российской разведки, поздравляем!`,firstButtonName:"Выйти",secondButtonName:"Играть снова",firstButtonOnClick:ee,secondButtonOnClick:$e})})))},$e=()=>{I(!1),_(f(h.questions,10)),C(0),y(new Array(4).fill("base")),x(0),b(h.timePerQuestion),S(!1),N({isShow:!1})},Bn=(w+1)/g.length*100;return g[w]?u.jsxs("div",{className:dn.container,children:[u.jsx("canvas",{ref:o,width:"816",height:"367",style:{display:"none"}}),u.jsx(ri,{isShow:R.isShow,images:R.images,index:R.index,onClose:()=>j({isShow:!1})}),u.jsx(Ma,{title:P.title,text:P.text,isShow:P.isShow,firstButtonName:P.firstButtonName,secondButtonName:P.secondButtonName,firstButtonOnClick:P.firstButtonOnClick,secondButtonOnClick:P.secondButtonOnClick}),u.jsx(su,{name:"Время",isBalance:!1,count:A(k)}),u.jsxs("h3",{className:dn["question-index"],style:{color:s.text_first_color},children:["Вопрос: ",w+1," / ",g.length]}),u.jsx(eY,{color:s.first_color,progress:`${Bn}%`}),u.jsx("div",{className:dn["question-body"],style:{color:s.text_first_color},children:g[w].question}),u.jsx("div",{className:dn["variants-container"],children:g[w].answers.map((Y,Pe)=>u.jsx(tY,{name:Y.name,state:v[Pe],onClick:()=>D(Pe)},Pe))})]}):null}function aY({blockColor:t,name:e,textColor:n,arrowBackground:r,labelColor:o,labelTextColor:s,labelName:i,onClick:a}){return p.useContext($),u.jsxs("div",{className:dn.block,style:{background:t},onClick:a,children:[u.jsxs("section",{className:dn["block-info"],children:[u.jsx("h5",{className:dn["block-name"],style:{color:n},children:e}),u.jsx("div",{className:dn["block-label"],style:{background:o,color:s},children:i})]}),u.jsx("div",{className:dn["block-arrow"],style:{background:r},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n})})})]})}function lY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($),o=ye();p.useState();const s=[{blockColor:t.second_color,name:"English",labelName:"5 секунд",textColor:t.background_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>o("/quiz/english")},{blockColor:t.third_color,name:"Кыргызский язык",labelName:"20 секунд",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_first_color,onClick:()=>o("/quiz/kyrgyz")},{blockColor:t.first_color,name:"Русский язык",labelName:"15 секунд",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_first_color,onClick:()=>o("/quiz/russian")},{blockColor:t.second_color,name:"Математика",labelName:"20 секунд",textColor:t.background_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>o("/quiz/math")}];return p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>o("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[$]),u.jsxs("div",{className:dn.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),u.jsx("h4",{className:dn.title,style:{color:t.text_first_color},children:"Выберите режим:"}),s.map((i,a)=>u.jsx(aY,{blockColor:i.blockColor,name:i.name,textColor:i.textColor,labelColor:i.labelcolor,labelName:i.labelName,labelTextColor:i.labelTextColor,arrowBackground:i.arrowBackground,onClick:i.onClick},a))]})}function cY(){const{mode:t}=eo();return t?u.jsx(iY,{mode:t}):u.jsx(lY,{})}const uY="_container_8l478_2",dY="_add_8l478_31",io={container:uY,"search-input-container":"_search-input-container_8l478_12","search-container":"_search-container_8l478_23",add:dY,"empty-body":"_empty-body_8l478_51","empty-photo":"_empty-photo_8l478_60","empty-info":"_empty-info_8l478_70","empty-name":"_empty-name_8l478_79"},hY="_container_1qk2k_1",fY="_icon_1qk2k_10",pY="_input_1qk2k_16",mY="_button_1qk2k_31",Bm={container:hY,icon:fY,input:pY,button:mY};function H6({value:t,onChange:e,placeholder:n}){const{theme:r,setElementColors:o}=p.useContext($);return p.useState(""),u.jsxs("div",{className:Bm.container,style:{background:r.element_first_color},children:[u.jsx("div",{className:Bm.icon,children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M11.8637 11.7356C12.8296 10.5965 13.4157 9.10026 13.4157 7.46154C13.4157 3.89293 10.6363 1 7.20785 1C3.77935 1 1 3.89293 1 7.46154C1 11.0301 3.77935 13.9231 7.20785 13.9231C9.06196 13.9231 10.7262 13.077 11.8637 11.7356ZM11.8637 11.7356L15 15",stroke:r.text_first_color,"stroke-linejoin":"round"})})}),u.jsx("input",{className:Bm.input,placeholder:n,onChange:e,style:{"--caret-color":r.first_color,"--placeholder-color":r.text_third_color,color:r.text_first_color}})]})}const gY="_body_1amdf_2",yY="_photo_1amdf_11",_Y="_info_1amdf_27",vY="_name_1amdf_36",qu={body:gY,photo:yY,info:_Y,name:vY};function q6({id:t,name:e,photo:n,onClick:r}){const{theme:o,setElementColors:s}=p.useContext($),i=()=>{r(t)};return u.jsxs("div",{className:qu.body,style:{borderTop:`1px solid ${o.element_first_color}`},onClick:i,children:[u.jsx("div",{className:qu.photo,children:u.jsx("img",{src:n,alt:"ава"})}),u.jsx("div",{className:qu.info,children:u.jsx("div",{className:qu.name,style:{color:o.text_first_color},children:e})})]})}function wY(){const{theme:t,setElementColors:e}=p.useContext($);ue();const[n,r]=p.useState([]),[o,s]=p.useState(""),[i,a]=p.useState(!1),l=ye();p.useEffect(()=>{e({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>l("/home"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]);const c=async()=>{const g=wr(W,"groups"),_=await dD(g),w=[];return await Promise.all(_.docs.map(async C=>{const v=C.id,y=X(W,"groups",v,"info","info"),m=await ae(y);if(m.exists()){const x=m.data();w.push({id:v,name:x.name,photo:x.photo,membersCount:x.members?x.members.length:0,isGroup:!0})}})),w.sort((C,v)=>v.membersCount-C.membersCount),w};p.useEffect(()=>{(async()=>{try{a(!0);const _=await c();r([..._])}catch(_){console.error("Error fetching data:",_)}finally{a(!1)}})()},[]);const d=g=>{s(g.target.value)},h=n.filter(g=>g.name.toLowerCase().includes(o.toLowerCase())||g.id.toLowerCase().includes(o.toLowerCase())),f=(g,_)=>{l(_?`/group/${g}`:`/profile/${g}`)};return u.jsxs("div",{className:io.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color};
                  border-radius: 5px;
                  cursor: pointer;
                }
                ::-webkit-scrollbar-track {
                  background-color: rgba(0, 0, 0, 0.3);
                }
            `}),u.jsx("div",{className:io["search-input-container"],style:{background:t.background_color},children:u.jsx(H6,{value:o,onChange:d,placeholder:"Поиск группы или пользователя"})}),u.jsx("div",{className:io["search-container"],children:i?Array.from({length:2}).map((g,_)=>u.jsxs("div",{className:io["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[u.jsx("div",{className:io["empty-photo"],children:u.jsx(wn,{height:"30px",width:"30px",shape:"circle"})}),u.jsx("div",{className:io["empty-info"],children:u.jsx("div",{className:io["empty-name"],style:{color:t.text_first_color},children:u.jsx(wn,{height:"10px",width:"100px",shape:"rect"})})})]},_)):h.map((g,_)=>u.jsx(q6,{id:g.id,name:g.name,photo:g.photo,onClick:()=>f(g.id,g.isGroup)},_))}),u.jsx("button",{className:io.add,style:{background:t.first_color},onClick:()=>l("/create-group"),children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:t.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})]})}const xY="_container_bn3pq_2",CY="_cover_bn3pq_22",bY="_label_bn3pq_189",H={container:xY,"profile-container":"_profile-container_bn3pq_13","cover-container":"_cover-container_bn3pq_22",cover:CY,"cover-pattern":"_cover-pattern_bn3pq_41","group-photo":"_group-photo_bn3pq_49","change-photo-button":"_change-photo-button_bn3pq_68","group-actions":"_group-actions_bn3pq_86","group-info":"_group-info_bn3pq_92","group-name":"_group-name_bn3pq_99","circle-button":"_circle-button_bn3pq_104","group-description":"_group-description_bn3pq_121","button-container":"_button-container_bn3pq_126","quit-button":"_quit-button_bn3pq_135","colors-container":"_colors-container_bn3pq_152","color-circle":"_color-circle_bn3pq_162","active-circle":"_active-circle_bn3pq_172","input-data-container":"_input-data-container_bn3pq_179",label:bY,"input-data":"_input-data_bn3pq_179","item-body":"_item-body_bn3pq_205","item-icon":"_item-icon_bn3pq_218","item-name":"_item-name_bn3pq_226","item-info":"_item-info_bn3pq_233","item-circle":"_item-circle_bn3pq_241","posts-container":"_posts-container_bn3pq_258"};function kY({fetchGroupData:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:o}=p.useContext($),{authUser:s}=ue(),{id:i}=eo(),[a,l]=p.useState(""),[c,d]=p.useState("");p.useState(!0);const[h,f]=p.useState(null),[g,_]=p.useState(""),[w,C]=p.useState([]),[v,y]=p.useState({isShow:!1,text:""}),[m,x]=p.useState([]);p.useEffect(()=>{(async()=>{if(i)try{const I=X(W,"groups",i,"info","info"),P=await ae(I);if(P.exists()){const N=P.data();_(N.cover),l(N.name),d(N.description),x(N),console.log(N)}else console.log("No such document!")}catch(I){console.error("Error fetching group data:",I)}else console.error("ID группы не указан")})()},[i]),p.useEffect(()=>{(async()=>{if(s&&s._id){const I=X(W,"users",s._id,"info","preferences"),P=await ae(I);if(P.exists()){const N=P.data();C(R=>[...R,...N.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[s]);const k=w?ou.filter(E=>w.includes(E.name)):[];p.useEffect(()=>{o({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{if(v.isShow){const E=setTimeout(()=>{y({isShow:!1})},1500);return()=>clearTimeout(E)}},[v.isShow]);const b=E=>{E.target.files[0]&&(f(E.target.files[0]),console.log(E.target.files[0]))},T=E=>{_(E)},S=async()=>{let E=null;const I=new Date().toISOString();if(h){const P=xr(Cr,`groups_photo/${i}/${I}_${h.name}`);await Vs(P,h),E=await Zr(P)}if(i){const P=X(W,"groups",i,"info","info");try{await gt(P,{name:a,description:c,photo:h?E:m.photo,cover:g},{merge:!0}),await t(),e()}catch(N){console.error("Error updating document: ",N)}}};return u.jsxs("div",{className:H["profile-container"],children:[u.jsx(Yt,{isShow:v.isShow,text:v.text}),u.jsx("div",{className:H["cover-container"],children:u.jsx("div",{className:H.cover,style:{background:g},children:u.jsx("div",{className:H["cover-pattern"]})})}),u.jsxs("div",{className:H["group-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[u.jsx("button",{className:H["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),u.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),u.jsx("img",{src:h?URL.createObjectURL(h):m.photo}),u.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:b})]}),u.jsx("div",{className:H["colors-container"],style:{background:n.element_first_color},children:k.map(E=>u.jsx(u.Fragment,{children:E.colors.map((I,P)=>u.jsx("div",{className:H["color-circle"],style:{background:I},onClick:()=>T(I),children:g===I&&u.jsx("div",{className:H["active-circle"],style:{borderColor:n.text_first_color}})},P))}))}),u.jsxs("div",{className:H["group-actions"],style:{background:n.element_first_color},children:[u.jsxs("div",{className:H["input-data-container"],children:[u.jsx("div",{className:H.label,style:{color:n.first_color},children:"Имя"}),u.jsx("input",{type:"text",value:a,className:H["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>l(E.target.value)})]}),u.jsxs("div",{className:H["input-data-container"],children:[u.jsx("div",{className:H.label,style:{color:n.text_first_color},children:"О себе"}),u.jsx("input",{type:"text",value:c,className:H["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>d(E.target.value)})]}),u.jsx("div",{className:H["button-container"],children:u.jsx("button",{className:H["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:S,children:"Сохранить"})})]})]})}function SY(){const{theme:t,setElementColors:e}=p.useContext($),{authUser:n,ga:r}=ue(),[o,s]=p.useState({}),i=ye(),{id:a}=eo(),[l,c]=p.useState(!1),[d,h]=p.useState({isShow:!1,text:""}),[f,g]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),[_,w]=p.useState({isShow:!1,images:[],index:null}),[C,v]=p.useState([]),[y,m]=p.useState(!1);p.useState(!1),p.useEffect(()=>{e({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>i("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]);const x=async()=>{if(a)try{const O=X(W,"groups",a,"info","info"),M=await ae(O);if(M.exists()){const z=M.data();s(z),console.log(z)}else console.log("No such document!"),s({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null})}catch(O){console.error("Error fetching group data:",O)}else console.error("ID группы не указан")};p.useEffect(()=>{x()},[a]);const k=()=>{navigator.clipboard.writeText(a).then(()=>{h({isShow:!0,text:"ID группы скопирован в буфер обмена"}),console.log(o)}).catch(O=>{h({isShow:!0,text:`Не удалось скопировать ID: ${O}`})})};p.useEffect(()=>{if(d.isShow){const O=setTimeout(()=>{h({isShow:!1})},1500);return()=>clearTimeout(O)}},[d.isShow]);const b=()=>{c(!1),h({isShow:!0,text:"Изменения успешно сохранены"})},T=O=>{w({isShow:!0,images:O,index:0})},S=async()=>{if(n._id){const O=X(W,"groups",a,"info","info"),M=X(W,"users",n._id,"info","preferences");try{const z=await ae(M),A=await ae(O);if(A.exists()){let D;const G=A.data().members||[];G.includes(n._id)?(D=G.filter(ee=>ee!==n._id),z.exists()&&await gt(M,{mainGroup:null},{merge:!0})):(D=[...G,n._id],z.exists()&&await gt(M,{mainGroup:a},{merge:!0})),await gt(O,{members:D},{merge:!0}),await x()}else console.error("No such document!")}catch(z){console.error("Error updating document: ",z)}}};p.useEffect(()=>{const O=La(Yc(wr(W,"posts"),Qc("timestamp","desc")),M=>{const z=[];M.forEach(A=>{const D=A.data();if(D.userId===a){const G=new Date(D.timestamp),ee=D.likesArray,be=G.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});z.push({id:A.id,userId:D.userId,userName:D.userName,groupOwnerId:D.groupOwnerId,userPhoto:D.userPhoto,postText:D.text,postPhoto:D.photos,postData:be,likesArray:ee})}}),v(z),m(!1)});return()=>{O()}},[a]);const E=async(O,M)=>{try{const z=new Date().toISOString();let A=[];for(const D of M){const G=xr(Cr,`groups_photo/${a}/${z}_${D.name}`);await Vs(G,D);const ee=await Zr(G);A.push(ee)}await I(O,A)}catch(z){console.error("Error handling send: ",z)}},I=async(O,M)=>{try{const z=new Date().toISOString();await qf(wr(W,"posts"),{photos:M,text:O,timestamp:z,userId:a,groupOwnerId:o.owner,userName:o.name,userPhoto:o.photo,likesArray:[]}),console.log("Message saved successfully.")}catch(z){console.error("Error adding document: ",z)}},P=(O,M)=>{w({isShow:!0,images:O,index:M})},N=()=>{g({isShow:!1})},R=async O=>{g({isShow:!1});try{await H9(X(W,"posts",O))}catch(M){console.error("Error deleting post: ",M)}finally{h({isShow:!0,text:"Пост удален"})}},j=(O,M)=>{switch(O){case"delete":return g({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:N,secondButtonOnClick:()=>R(M)});default:return g({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return u.jsxs("div",{className:H.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),u.jsx(ri,{isShow:_.isShow,images:_.images,index:_.index,onClose:()=>w({isShow:!1})}),u.jsx(Ma,{title:f.title,text:f.text,isShow:f.isShow,firstButtonName:f.firstButtonName,secondButtonName:f.secondButtonName,firstButtonOnClick:f.firstButtonOnClick,secondButtonOnClick:f.secondButtonOnClick}),u.jsx(Yt,{isShow:d.isShow,text:d.text}),l?u.jsx(kY,{handleEdit:b,fetchGroupData:x,id:o.userId}):u.jsxs("div",{className:H["profile-container"],children:[u.jsx("div",{className:H["cover-container"],children:u.jsx("div",{className:H.cover,style:{background:o.cover},children:u.jsx("div",{className:H["cover-pattern"]})})}),u.jsx("div",{className:H["group-photo"],style:{borderColor:t.background_color},children:u.jsx("img",{src:o.photo,onClick:()=>T(o.photo)})}),u.jsxs("div",{className:H["group-actions"],style:{background:t.element_first_color},children:[u.jsxs("div",{className:H["group-info"],children:[u.jsx("div",{className:H["group-name"],style:{color:t.text_first_color},children:o.name}),u.jsx("button",{className:H["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:k,children:"#"})]}),u.jsx("div",{className:H["group-description"],style:{color:t.text_first_color},children:o.description}),u.jsxs("div",{className:H["button-container"],children:[u.jsx("button",{className:H["quit-button"],style:{background:o.members&&o.members.includes(n._id)?t.element_second_color:t.first_color,color:t.text_first_color},onClick:S,children:o.members&&o.members.includes(n._id)?"Отписаться":"Подписаться"}),u.jsx("button",{className:H["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:()=>c(!0),children:u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:t.text_first_color})})})]})]}),u.jsxs("div",{className:H["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/subscribers/${a}?isGroup=true`),children:[u.jsx("div",{className:H["item-info"],children:u.jsxs("div",{className:H["item-name"],style:{color:t.text_first_color},children:["Подписчики: ",o.members?o.members.length:0]})}),u.jsx("div",{className:H["item-circle"],style:{background:t.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),u.jsxs("div",{className:H["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/timetable/${a}`),children:[u.jsx("div",{className:H["item-info"],children:u.jsx("div",{className:H["item-name"],style:{color:t.text_first_color},children:"Посмотреть расписание"})}),u.jsx("div",{className:H["item-circle"],style:{background:t.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),u.jsxs("div",{className:H["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/download/${a}`),children:[u.jsx("div",{className:H["item-info"],children:u.jsx("div",{className:H["item-name"],style:{color:t.text_first_color},children:"Посмотреть файлы"})}),u.jsx("div",{className:H["item-circle"],style:{background:t.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),u.jsx(tv,{placeholder:"Что нового?",isPanelTop:!1,onSend:E}),u.jsx("div",{className:H["posts-container"],children:y?u.jsxs(u.Fragment,{children:[u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{})]}):C.map(O=>u.jsx(mp,{postId:O.id,groupOwnerId:O.groupOwnerId,userId:O.userId,userName:O.userName,userPhoto:O.userPhoto,postData:O.postData,postText:O.postText,postPhotos:O.postPhoto,likesArray:O.likesArray,photoClick:P,postAction:j},O.id))})]})]})}function EY({id:t}){const{theme:e,setElementColors:n}=p.useContext($),{authUser:r}=ue(),[o,s]=p.useState({name:"",description:"",photo:"",cover:"",balance:0,members:[]}),[i,a]=p.useState({isShow:!1,text:""}),[l,c]=p.useState([]),[d,h]=p.useState(!1),[f,g]=p.useState({isShow:!1,images:[],index:null}),_=ye();p.useEffect(()=>{n({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>_("/search"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const w=async()=>{if(t)try{const m=X(W,"groups",t,"info","info"),x=await ae(m);if(x.exists()){const k=x.data();s(k),console.log(k)}else console.log("No such document!"),s({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null})}catch(m){console.error("Error fetching group data:",m)}else console.error("ID группы не указан")};p.useEffect(()=>{w()},[t]),p.useEffect(()=>{if(i.isShow){const m=setTimeout(()=>{a({isShow:!1})},1500);return()=>clearTimeout(m)}},[i.isShow]);const C=async()=>{if(r._id){const m=X(W,"groups",t,"info","info"),x=X(W,"users",r._id,"info","preferences");try{const k=await ae(x),b=await ae(m);if(b.exists()){let T;const S=b.data().members||[];S.includes(r._id)?(T=S.filter(E=>E!==r._id),k.exists()&&await gt(x,{mainGroup:null},{merge:!0})):(T=[...S,r._id],k.exists()&&await gt(x,{mainGroup:t},{merge:!0})),await gt(m,{members:T},{merge:!0}),await w()}else console.error("No such document!")}catch(k){console.error("Error updating document: ",k)}}};p.useEffect(()=>{const m=La(Yc(wr(W,"posts"),Qc("timestamp","desc")),x=>{const k=[];x.forEach(b=>{const T=b.data();if(T.userId===t){const S=new Date(T.timestamp),E=T.likesArray,I=S.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});k.push({id:b.id,userId:T.userId,userName:T.userName,groupOwnerId:T.groupOwnerId,userPhoto:T.userPhoto,postText:T.text,postPhoto:T.photos,postData:I,likesArray:E})}}),c(k),h(!1)});return()=>{m()}},[t]);const v=(m,x)=>{g({isShow:!0,images:m,index:x})},y=(m,x)=>{switch(m){case"delete":return setAlertProp({isShow:!0,title:"Удаление поста",text:"Вы действительно хотите удалить пост?",firstButtonName:"Отмена",secondButtonName:"Удалить",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(x)});default:return setAlertProp({isShow:!0,title:"Заголовок",text:"текст",firstButtonName:"Кнопка",secondButtonName:"Кнопка",firstButtonOnClick:null,secondButtonOnClick:null})}};return u.jsxs("div",{className:H.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),u.jsx(ri,{isShow:f.isShow,images:f.images,index:f.index,onClose:()=>g({isShow:!1})}),u.jsx(Yt,{isShow:i.isShow,text:i.text}),u.jsx("div",{className:H["cover-container"],children:u.jsx("div",{className:H.cover,style:{background:"var(--first-color)"},children:u.jsx("div",{className:H["cover-pattern"]})})}),u.jsx("div",{className:H["group-photo"],style:{borderColor:e.background_color},children:u.jsx("img",{src:o.photo||"/genery/public/1.png",alt:`${o.name} photo`})}),u.jsxs("div",{className:H["group-actions"],style:{background:e.element_first_color},children:[u.jsx("div",{className:H["group-info"],children:u.jsx("div",{className:H["group-name"],style:{color:e.text_first_color},children:o.name})}),u.jsx("div",{className:H["group-biography"],style:{color:e.text_first_color},children:o.description}),u.jsx("div",{className:H["button-container"],children:u.jsx("button",{className:H["quit-button"],style:{background:o.members.includes(r._id)?e.element_second_color:e.first_color,color:e.text_first_color},onClick:C,children:o.members&&o.members.includes(r._id)?"Отписаться":"Подписаться"})})]}),u.jsxs("div",{className:H["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>_(`/subscribers/${t}?isGroup=true`),children:[u.jsx("div",{className:H["item-info"],children:u.jsxs("div",{className:H["item-name"],style:{color:e.text_first_color},children:["Подписчики: ",o.members?o.members.length:0]})}),u.jsx("div",{className:H["item-circle"],style:{background:e.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),u.jsxs("div",{className:H["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>_(`/timetable/${t}`),children:[u.jsx("div",{className:H["item-info"],children:u.jsx("div",{className:H["item-name"],style:{color:e.text_first_color},children:"Посмотреть расписание"})}),u.jsx("div",{className:H["item-circle"],style:{background:e.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),u.jsxs("div",{className:H["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>_(`/download/${t}`),children:[u.jsx("div",{className:H["item-info"],children:u.jsx("div",{className:H["item-name"],style:{color:e.text_first_color},children:"Посмотреть файлы"})}),u.jsx("div",{className:H["item-circle"],style:{background:e.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),u.jsx("div",{className:H["posts-container"],children:d?u.jsxs(u.Fragment,{children:[u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{})]}):l.map(m=>u.jsx(mp,{postId:m.id,groupOwnerId:m.groupOwnerId,userId:m.userId,userName:m.userName,userPhoto:m.userPhoto,postData:m.postData,postText:m.postText,postPhotos:m.postPhoto,likesArray:m.likesArray,photoClick:v,postAction:y},m.id))})]})}function TY(){const{authUser:t}=ue(),{id:e}=eo(),[n,r]=p.useState(null),[o,s]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const a=X(W,"groups",e,"info","info"),l=await ae(a);if(l.exists()){const c=l.data();r(c.owner)}else console.error("Group not found")}catch(a){console.error("Error fetching group data:",a)}finally{s(!1)}})()},[e]),n===t._id?u.jsx(SY,{id:e}):u.jsx(EY,{id:e})}const IY="_container_1hmv2_2",tl={container:IY,"empty-body":"_empty-body_1hmv2_9","empty-photo":"_empty-photo_1hmv2_18","empty-info":"_empty-info_1hmv2_28","empty-name":"_empty-name_1hmv2_37"};function NY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),{authUser:r}=ue(),[o,s]=p.useState(!1),[i,a]=p.useState(null),l=ye();p.useState();const[c,d]=p.useState();p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>l("/search"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{let f;return(async()=>{if(r){const _=X(W,"users",r._id,"info","preferences");f=La(_,async w=>{if(w.exists()){const C=w.data(),v=C.mainGroup;if(d(C.mainGroup),v){const y=X(W,"groups",v,"info","info"),m=await ae(y);m.exists()?a(m.data()):a({isGroup:!1,name:"Группа не найдена",photo:"1",membersCount:0,owner:null}),s(!1)}}})}})(),()=>{f&&f()}},[r]);const h=f=>{l(`/group/${f}`)};return u.jsx("div",{className:tl.container,children:o?u.jsxs("div",{className:tl["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[u.jsx("div",{className:tl["empty-photo"],children:u.jsx(wn,{height:"30px",width:"30px",shape:"circle"})}),u.jsx("div",{className:tl["empty-info"],children:u.jsx("div",{className:tl["empty-name"],style:{color:t.text_first_color},children:u.jsx(wn,{height:"10px",width:"100px",shape:"rect"})})})]}):i&&u.jsx(q6,{name:i.name,photo:i.photo,id:c,onClick:h})})}const AY="_container_144b8_2",PY="_cover_144b8_22",RY="_label_144b8_189",ut={container:AY,"profile-container":"_profile-container_144b8_13","cover-container":"_cover-container_144b8_22",cover:PY,"cover-pattern":"_cover-pattern_144b8_41","group-photo":"_group-photo_144b8_49","change-photo-button":"_change-photo-button_144b8_68","group-actions":"_group-actions_144b8_86","group-info":"_group-info_144b8_92","group-name":"_group-name_144b8_99","circle-button":"_circle-button_144b8_104","group-description":"_group-description_144b8_121","button-container":"_button-container_144b8_126","quit-button":"_quit-button_144b8_135","colors-container":"_colors-container_144b8_152","color-circle":"_color-circle_144b8_162","active-circle":"_active-circle_144b8_172","input-data-container":"_input-data-container_144b8_179",label:RY,"input-data":"_input-data_144b8_179","item-body":"_item-body_144b8_205","item-icon":"_item-icon_144b8_218","item-name":"_item-name_144b8_226","item-info":"_item-info_144b8_233","item-circle":"_item-circle_144b8_241"};var jY=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};function LY({}){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),{authUser:r}=ue();eo();const[o,s]=p.useState(""),[i,a]=p.useState("");p.useState(!0);const[l,c]=p.useState(null),[d,h]=p.useState("#0040F9"),[f,g]=p.useState([]),[_,w]=p.useState({isShow:!1,text:""}),[C,v]=p.useState([]),y=ye(),m=[t.first_color,t.second_color,t.third_color];p.useEffect(()=>{(async()=>{if(r&&r._id){const E=X(W,"users",r._id,"info","preferences"),I=await ae(E);if(I.exists()){const P=I.data();g(N=>[...N,...P.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[r]);const x=f?ou.filter(S=>f.includes(S.name)):[];p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>y("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(_.isShow){const S=setTimeout(()=>{w({isShow:!1})},1500);return()=>clearTimeout(S)}},[_.isShow]);const k=S=>{S.target.files[0]&&(c(S.target.files[0]),console.log(S.target.files[0]))},b=S=>{h(S)},T=async()=>{let S=null;const E=new Date().toISOString();if(o.length<=3){w({isShow:!0,text:"Название должно быть больше 3-х символов"});return}if(l){const I=xr(Cr,`groups_photo/${E}_${l.name}`);await Vs(I,l),S=await Zr(I)}else{const I=jY(500,500),P=I.getContext("2d"),N=m[Math.floor(Math.random()*m.length)];P.fillStyle=N,P.fillRect(0,0,I.width,I.height),P.fillStyle="white",P.font="bold 250px Inter",P.textAlign="center",P.textBaseline="middle",P.fillText(o[0].toUpperCase(),I.width/2,I.height/2);const R=await new Promise(O=>I.toBlob(O)),j=xr(Cr,`groups_photo/${E}_${o}_default.png`);await Vs(j,R),S=await Zr(j)}try{const I=wr(W,"groups"),N=(await qf(I,{})).id,R=X(W,"groups",N,"info","info");await gt(R,{name:o,description:i,photo:S,cover:d,owner:r._id,members:[r._id]},{merge:!0}),y(`/group/${N}`)}catch(I){console.error("Error creating document: ",I)}};return u.jsx("div",{className:ut.container,children:u.jsxs("div",{className:ut["profile-container"],children:[u.jsx(Yt,{isShow:_.isShow,text:_.text}),u.jsx("div",{className:ut["cover-container"],children:u.jsx("div",{className:ut.cover,style:{background:d},children:u.jsx("div",{className:ut["cover-pattern"]})})}),u.jsxs("div",{className:ut["group-photo"],style:{borderColor:t.background_color,background:t.background_color},children:[u.jsx("button",{className:ut["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),u.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),u.jsx("img",{src:l?URL.createObjectURL(l):C.photo}),u.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:k})]}),u.jsx("div",{className:ut["colors-container"],style:{background:t.element_first_color},children:x.map(S=>u.jsx(u.Fragment,{children:S.colors.map((E,I)=>u.jsx("div",{className:ut["color-circle"],style:{background:E},onClick:()=>b(E),children:d===E&&u.jsx("div",{className:ut["active-circle"],style:{borderColor:t.text_first_color}})},I))}))}),u.jsxs("div",{className:ut["group-actions"],style:{background:t.element_first_color},children:[u.jsxs("div",{className:ut["input-data-container"],children:[u.jsx("div",{className:ut.label,style:{color:t.first_color},children:"Название"}),u.jsx("input",{type:"text",value:o,className:ut["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:S=>s(S.target.value)})]}),u.jsxs("div",{className:ut["input-data-container"],children:[u.jsx("div",{className:ut.label,style:{color:t.first_color},children:"Описание"}),u.jsx("input",{type:"text",value:i,className:ut["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:S=>a(S.target.value)})]}),u.jsx("div",{className:ut["button-container"],children:u.jsx("button",{className:ut["quit-button"],style:{color:t.text_first_color,background:t.first_color},onClick:T,children:"Создать"})})]})]})})}const OY="_container_yjc12_1",Um={container:OY,"main-button":"_main-button_yjc12_12"};function DY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($);p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[$]),p.useState([[1,2],[3,4]]),p.useState([]);const o=d=>d[0].map((f,g)=>d.map(_=>_[g])),s=[[1,2],[3,4]],i=[[1,2,3],[4,5,6]],a=(d,h)=>{const f=d.length,g=d[0].length,_=h.length,w=h[0].length;if(g!==_)throw new Error("Количество столбцов в A должно быть равно количеству строк в B");const C=Array.from({length:f},()=>Array(w).fill(0));for(let v=0;v<f;v++)for(let y=0;y<w;y++)for(let m=0;m<g;m++)C[v][y]+=d[v][m]*h[m][y];return C},l=()=>{console.log(o(i))},c=()=>{console.log(a(s,i))};return u.jsxs("div",{className:Um.container,children:[u.jsx("button",{className:Um["main-button"],style:{background:t.first_color},onClick:l,children:"Транспонировать"}),u.jsx("button",{className:Um["main-button"],style:{background:t.first_color},onClick:c,children:"Умножить"})]})}const MY="_container_1pzp3_1",$Y="_board_1pzp3_12",FY="_game_1pzp3_18",cC={container:MY,board:$Y,game:FY};function BY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($),o=ye();p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>o("/group-list"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[$]);const[s,i]=p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),a=p.useRef(),[l,c]=p.useState(0),[d,h]=p.useState({width:360,height:500});let f,g=d.width,_=d.height,w;const C=70,v=70,y=d.width/8,m=d.height/2;let x,k={x:y,y:m,width:C,height:v},b=[];const T=60,S=400,E=d.width,I=0;let P,N,R=-2,j=0,O=.4,M=!1;const z=()=>{const le=window.innerWidth<768,de=Math.min(window.innerWidth,360),$e=le?700:Math.min(window.innerHeight,100);h({width:de,height:$e})};p.useEffect(()=>(window.addEventListener("resize",z),z(),()=>{window.removeEventListener("resize",z)}),[]),p.useEffect(()=>{const le=a.current;if(!le)return;f=le,f.height=_,f.width=g,w=f.getContext("2d"),x=new Image,x.src="flippybird/flappybird.png",x.onload=()=>{w.drawImage(x,k.x,k.y,k.width,k.height)},P=new Image,P.src="flippybird/toppipe.png",N=new Image,N.src="flippybird/bottompipe.png",requestAnimationFrame(A);const de=setInterval(G,1500);return document.addEventListener("click",ee),()=>{clearInterval(de),document.removeEventListener("click",ee)}},[x]);const A=()=>{if(requestAnimationFrame(A),!M){w.clearRect(0,0,f.width,f.height),j+=O,k.y=Math.max(k.y+j,0),w.drawImage(x,k.x,k.y,k.width,k.height),k.y>f.height&&(M=!0);for(let le=0;le<b.length;le++){let de=b[le];de.x+=R,w.drawImage(de.img,de.x,de.y,de.width,de.height),!de.passed&&k.x>de.x+de.width&&(c($e=>$e+=.5),de.passed=!0),be(k,de)&&(M=!0)}for(;b.length>0&&b[0].x<-T;)b.shift();w.fillStyle="white",w.font="15px sans-serif",M&&i({isShow:!0,title:"Вы проиграли!",text:`Ваш счет: ${l}`,firstButtonName:"Выйти",secondButtonName:"Играть",firstButtonOnClick:()=>o("/game-menu"),secondButtonOnClick:()=>D()})}},D=()=>{M=!1,k={x:y,y:m,width:C,height:v},b=[],c(0),i({isShow:!1})},G=()=>{if(M)return;let le=I-S/4-Math.random()*(S/2),de=f.height/4,$e={img:P,x:E,y:le,width:T,height:S,passed:!1};b.push($e);let Bn={img:N,x:E,y:le+S+de,width:T,height:S,passed:!1};b.push(Bn)},ee=le=>{j=-6},be=(le,de)=>le.x<de.x+de.width&&le.x+le.width>de.x&&le.y<de.y+de.height&&le.y+le.height>de.y;return u.jsx("div",{className:cC.container,children:u.jsx("iframe",{className:cC.game,src:"https://ridgeld.github.io/game/",allowfullscreen:!0})})}const UY="_container_isjmo_1",VY="_game_isjmo_12",uC={container:UY,game:VY};function zY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($),o=ye();return p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>o("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[$]),p.useState({isShow:!1,title:"Заголовок",text:"текст",firstButtonName:"выйти",secondButtonName:"играть"}),u.jsx("div",{className:uC.container,children:u.jsx("iframe",{className:uC.game,src:"https://students-rating-private-ridgelds-projects.vercel.app/"})})}const HY="_container_zepfk_2",qY="_add_zepfk_20",hi={container:HY,"search-container":"_search-container_zepfk_12",add:qY,"empty-body":"_empty-body_zepfk_40","empty-photo":"_empty-photo_zepfk_49","empty-info":"_empty-info_zepfk_59","empty-name":"_empty-name_zepfk_68"},WY="_body_68fin_2",GY="_photo_68fin_19",KY="_info_68fin_13",YY="_name_68fin_44",fi={body:WY,"info-group":"_info-group_68fin_13",photo:GY,info:KY,name:YY,"delete-button":"_delete-button_68fin_49"};function QY({id:t,name:e,photo:n,onClick:r,canDelete:o,removeUser:s}){const{theme:i,setElementColors:a}=p.useContext($),l=d=>{r(t)},c=d=>{d.stopPropagation(),s(t,e)};return u.jsxs("div",{className:fi.body,style:{borderTop:`1px solid ${i.element_first_color}`},onClick:l,children:[u.jsxs("div",{className:fi["info-group"],children:[u.jsx("div",{className:fi.photo,children:u.jsx("img",{src:n,alt:"ава"})}),u.jsx("div",{className:fi.info,children:u.jsx("div",{className:fi.name,style:{color:i.text_first_color},children:e})})]}),o&&u.jsx("button",{className:fi["delete-button"],style:{background:i.element_first_color},onClick:c,children:u.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function ZY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),r=ye(),[o]=vI(),{id:s}=eo(),{authUser:i}=ue(),a=o.get("isGroup")==="true",[l,c]=p.useState([]),[d,h]=p.useState(""),[f,g]=p.useState(!1),[_,w]=p.useState(!1),[C,v]=p.useState({isShow:!1,text:""}),y=async()=>{try{if(g(!0),!s){console.error("ID не найден в параметрах запроса");return}const b=X(W,a?"groups":"users",s,"info",a?"info":"preferences"),T=await ae(b);if(T.exists()){const S=T.data(),E=a?S.members:S.followers||[];(a?S.owner:S.uid)===i._id&&w(!0);const P=await Promise.all(E.map(async N=>{const R=X(W,"users",N,"info","preferences"),j=await ae(R);if(j.exists()){const O=j.data();return{uid:N,name:O.name||"Без имени",photo:O.photo||""}}return null}));c(P.filter(Boolean))}}catch(b){console.error("Ошибка загрузки данных:",b)}finally{g(!1)}};p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:a?()=>r(`/group/${s}`):()=>r(`/profile/${s}`),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t,s,a,r]),p.useEffect(()=>{y()},[s,a]);const m=b=>{h(b.target.value)},x=l.filter(b=>b.name.toLowerCase().includes(d.toLowerCase())),k=async(b,T)=>{try{if(a){const S=X(W,"groups",s,"info","info"),E=await ae(S);if(E.exists()){const P=E.data().members.filter(N=>N!==b);await gt(S,{members:P},{merge:!0}),v({isShow:!0,text:`Вы удалили ${T} из подписчиков `}),y(),console.log(`Пользователь ${b} удалён из группы`)}}else{const S=X(W,"users",s,"info","preferences"),E=await ae(S);if(E.exists()){const P=E.data().subscribers.filter(N=>N!==b);await gt(S,{followers:P},{merge:!0}),v({isShow:!0,text:`Вы удалили ${T} из подписчиков `}),y(),console.log(`Пользователь ${b} удалён из подписчиков`)}}}catch(S){console.error("Ошибка при удалении пользователя:",S)}};return u.jsxs("div",{className:hi.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                    width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                    background: ${t.first_color};
                    border-radius: 5px;
                }
                ::-webkit-scrollbar-track {
                    background-color: rgba(0, 0, 0, 0.3);
                }
            `}),u.jsx(Yt,{isShow:C.isShow,text:C.text}),u.jsx(H6,{value:d,onChange:m,placeholder:"Подписчики"}),u.jsx("div",{className:hi["search-container"],children:f?Array.from({length:2}).map((b,T)=>u.jsxs("div",{className:hi["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[u.jsx("div",{className:hi["empty-photo"],children:u.jsx(wn,{height:"30px",width:"30px",shape:"circle"})}),u.jsx("div",{className:hi["empty-info"],children:u.jsx("div",{className:hi["empty-name"],style:{color:t.text_first_color},children:u.jsx(wn,{height:"10px",width:"100px",shape:"rect"})})})]},T)):x.map((b,T)=>u.jsx(QY,{id:b.uid,name:b.name,photo:b.photo,canDelete:_,removeUser:k,onClick:()=>r(`/profile/${b.uid}`)},T))})]})}const XY=[{path:"/",exact:!0,component:u.jsx(RM,{}),auth:!1},{path:"/sign-up",exact:!1,component:u.jsx(DM,{}),auth:!1},{path:"/sign-in",exact:!1,component:u.jsx(p7,{}),auth:!0},{path:"/about",exact:!1,component:u.jsx(WF,{}),auth:!1},{path:"/menu",exact:!0,component:u.jsx(nB,{}),auth:!0},{path:"/messenger",exact:!0,component:u.jsx(NW,{}),auth:!0},{path:"/timetable/:id?",exact:!0,component:u.jsx(aG,{}),auth:!0},{path:"/list-menu",exact:!0,component:u.jsx(dG,{}),auth:!0},{path:"/posts",exact:!0,component:u.jsx(kG,{}),auth:!0},{path:"/settings",exact:!0,component:u.jsx(NG,{}),auth:!0},{path:"/cashback",exact:!0,component:u.jsx(LG,{}),auth:!1},{path:"/shop",exact:!0,component:u.jsx(BG,{}),auth:!0},{path:"/casino",exact:!0,component:u.jsx(oK,{}),auth:!0},{path:"/updates",exact:!0,component:u.jsx(uK,{}),auth:!0},{path:"/download/:id?",exact:!1,component:u.jsx(vK,{}),auth:!0},{path:"/profile/:id?",exact:!1,component:u.jsx(EK,{}),auth:!0},{path:"/game-menu",exact:!0,component:u.jsx(LK,{}),auth:!0},{path:"/tapcoin",exact:!0,component:u.jsx(UK,{}),auth:!0},{path:"/rocket",exact:!0,component:u.jsx(QK,{}),auth:!0},{path:"/quiz/:mode?",exact:!1,component:u.jsx(cY,{}),auth:!0},{path:"/search",exact:!0,component:u.jsx(wY,{}),auth:!0},{path:"/test",exact:!0,component:u.jsx(OK,{}),auth:!0},{path:"/group/:id?",exact:!1,component:u.jsx(TY,{}),auth:!0},{path:"/subscribers/:id?",exact:!1,component:u.jsx(ZY,{}),auth:!0},{path:"/group-list",exact:!1,component:u.jsx(NY,{}),auth:!0},{path:"/create-group",exact:!1,component:u.jsx(LY,{}),auth:!0},{path:"/matrix",exact:!0,component:u.jsx(DY,{}),auth:!1},{path:"/flippybird",exact:!0,component:u.jsx(BY,{}),auth:!1},{path:"/rating",exact:!0,component:u.jsx(zY,{}),auth:!1}],JY="_heading_qnxvq_34",nl={"content-wrapper":"_content-wrapper_qnxvq_1","img-wrapper":"_img-wrapper_qnxvq_13","image-no-select":"_image-no-select_qnxvq_26",heading:JY};function eQ(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($);return p.useEffect(()=>{n({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:"#/menu",isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[$]),u.jsxs("div",{className:nl.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /* Ширина ползунка */
                }

                /* Стилизация ползунка скроллбара */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /* Цвет ползунка */
                  border-radius: 5px; /* Закругление углов ползунка */
                  cursor: pointer;
                }

                /* Стилизация фона скроллбара */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /* Цвет фона */
                }
            `}),u.jsxs("div",{className:nl["content-wrapper"],style:{background:t.first_color},children:[u.jsxs("div",{className:nl["img-wrapper"],children:[u.jsx("div",{className:nl["image-no-select"]}),u.jsx("img",{src:"4.png"})]}),u.jsx("h3",{className:nl.heading,style:{color:t.text_first_color},children:"Страница не найдена"})]})]})}function tQ(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext($),{authUser:r}=ue(),[o,s]=p.useState(!1);return p.useEffect(()=>{const i=h7.onAuthStateChanged(a=>{s(!0)});return()=>i()},[]),o?u.jsx(_I,{children:u.jsxs(pI,{children:[XY.map(i=>u.jsx(O1,{path:i.path,element:i.auth&&!r?u.jsx(p7,{}):i.component,exact:i.exact},i.path)),u.jsx(O1,{path:"*",element:u.jsx(eQ,{})})," "]})}):u.jsx(j4,{color:t.icon_color})}function nQ(){return u.jsx(PM,{children:u.jsx(tQ,{})})}const rQ="_header_oh6ql_1",oQ="_logo_container_oh6ql_14",sQ="_icon_oh6ql_22",iQ="_masked_oh6ql_28",aQ="_title_oh6ql_34",lQ="_show_oh6ql_41",cQ="_hide_oh6ql_51",os={header:rQ,logo_container:oQ,icon:sQ,masked:iQ,title:aQ,show:lQ,hide:cQ};function uQ(t){const{elementColors:e}=p.useContext($);return e.isHeader?u.jsxs("div",{className:os.header,style:{background:e.isHeaderBackground?e.headerBackground:"transparent"},children:[u.jsxs("div",{className:os.logo_container,children:[u.jsxs("div",{className:os.icon,children:[u.jsx("div",{className:os.masked,style:{background:e.iconColor}}),u.jsx("svg",{width:"0",height:"0",children:u.jsx("clipPath",{id:"light",children:u.jsx("path",{d:"M9.54642 0.0769926C9.65318 0.14082 9.7358 0.240097 9.78078 0.358606C9.82576 0.477116 9.83043 0.607851 9.79404 0.729455L7.82939 7.31258H11.4543C11.5609 7.31254 11.6651 7.34466 11.7541 7.405C11.8431 7.46533 11.9131 7.55122 11.9553 7.65208C11.9975 7.75293 12.0102 7.86433 11.9917 7.97253C11.9733 8.08072 11.9245 8.18097 11.8514 8.2609L3.12447 17.8229C3.04003 17.9155 2.92766 17.9758 2.80569 17.9941C2.68371 18.0124 2.55932 17.9876 2.45279 17.9237C2.34625 17.8597 2.26386 17.7605 2.21904 17.6421C2.17421 17.5237 2.1696 17.3931 2.20596 17.2716L4.17061 10.6874H0.545652C0.439123 10.6874 0.334914 10.6553 0.245888 10.595C0.156862 10.5346 0.0869167 10.4487 0.044687 10.3479C0.00245728 10.247 -0.0102083 10.1356 0.00825369 10.0274C0.0267157 9.91925 0.0754969 9.819 0.148576 9.73907L8.87553 0.177112C8.95987 0.0846411 9.07206 0.0243103 9.19387 0.00592874C9.31567 -0.0124528 9.43992 0.0121961 9.54642 0.0758676V0.0769926Z"})})})]}),u.jsx("div",{className:os.title,style:{color:e.titleColor},children:"GENERY"})]}),u.jsx("a",{onClick:e.arrowLink,className:e.showArrow?os.show:os.hide,children:u.jsx("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M21 9C21.5523 9 22 8.55228 22 8C22 7.44772 21.5523 7 21 7L21 9ZM0.292893 7.2929C-0.0976311 7.68342 -0.097631 8.31658 0.292893 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928933C7.68054 0.538409 7.04738 0.538409 6.65685 0.928933L0.292893 7.2929ZM21 7L1 7L1 9L21 9L21 7Z",fill:e.titleColor})})})]}):null}const dQ="_footer_frqas_1",hQ="_item_frqas_14",Mh={footer:dQ,"item-body":"_item-body_frqas_14",item:hQ,"item-bg":"_item-bg_frqas_34"};function fQ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext($);return u.jsx(st.div,{className:Mh["item-bg"],layoutId:"activeItem",style:{background:t.active_element_color}})}function pQ({icon:t,link:e,isActive:n}){const{theme:r,setThemeById:o,elementColors:s,setElementColors:i}=p.useContext($);return u.jsxs(st.a,{className:Mh["item-body"],layout:!0,onMouseEnter:a=>{a.currentTarget.style.background=r.active_element_color},onMouseLeave:a=>{a.currentTarget.style.background="none"},href:e,children:[u.jsx("div",{className:Mh.item,children:t}),n&&u.jsx(fQ,{})]})}function mQ(){const{elementColors:t,theme:e}=p.useContext($),n=[{icon:u.jsx("svg",{width:"26",height:"25",viewBox:"0 0 26 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M24.5 21.4781V12.988C24.5 12.3039 24.359 11.6269 24.0855 10.9982C23.812 10.3696 23.4118 9.80239 22.9092 9.3312L14.7608 1.69353C14.2858 1.24827 13.6557 1 13.0006 1C12.3455 1 11.7154 1.24827 11.2405 1.69353L3.09083 9.3312C2.58822 9.80239 2.188 10.3696 1.91452 10.9982C1.64103 11.6269 1.5 12.3039 1.5 12.988V21.4781C1.5 22.1469 1.76925 22.7884 2.2485 23.2613C2.72776 23.7343 3.37778 24 4.05556 24H21.9444C22.6222 24 23.2722 23.7343 23.7515 23.2613C24.2308 22.7884 24.5 22.1469 24.5 21.4781Z",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),link:"#/menu"},{icon:u.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M19.0976 18.396C20.6844 16.5982 21.6472 14.2366 21.6472 11.6501C21.6472 6.01758 17.0811 1.45151 11.4486 1.45151C5.81607 1.45151 1.25 6.01758 1.25 11.6501C1.25 17.2827 5.81607 21.8487 11.4486 21.8487C14.4947 21.8487 17.2288 20.5133 19.0976 18.396ZM19.0976 18.396L24.25 23.5485",stroke:e.text_first_color,"stroke-width":"2","stroke-linejoin":"round"})}),link:"#/search"},{icon:u.jsx("svg",{width:"26",height:"23",viewBox:"0 0 26 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M13 13.1C14.1573 13.1 15.2672 12.6364 16.0856 11.8113C16.9039 10.9861 17.3636 9.86695 17.3636 8.7C17.3636 7.53305 16.9039 6.41389 16.0856 5.58873C15.2672 4.76357 14.1573 4.3 13 4.3C11.8427 4.3 10.7328 4.76357 9.91444 5.58873C9.0961 6.41389 8.63636 7.53305 8.63636 8.7C8.63636 9.86695 9.0961 10.9861 9.91444 11.8113C10.7328 12.6364 11.8427 13.1 13 13.1ZM13 13.1C11.264 13.1 9.59918 13.7954 8.37167 15.0331C7.14415 16.2708 6.45455 17.9496 6.45455 19.7V23M13 13.1C14.736 13.1 16.4008 13.7954 17.6283 15.0331C18.8558 16.2708 19.5455 17.9496 19.5455 19.7V23M14.0909 4.3C14.5316 2.4696 16.2891 1 18.4545 1C20.824 1 22.7964 2.969 22.8182 5.4C22.7964 7.831 20.824 9.8 18.4545 9.8M18.4545 9.8H17.3636M18.4545 9.8C22.0415 9.8 25 12.7546 25 16.4V18.6M11.9091 4.3C11.4684 2.4696 9.71091 1 7.54545 1C5.176 1 3.20364 2.969 3.18182 5.4C3.20364 7.831 5.176 9.8 7.54545 9.8M7.54545 9.8H8.63636M7.54545 9.8C3.95855 9.8 1 12.7546 1 16.4V18.6",stroke:e.text_first_color,"stroke-width":"2"})}),link:"#/group-list"},{icon:u.jsxs("svg",{width:"26",height:"27",viewBox:"0 0 26 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M16.8333 7.74997H16.8461M14.9167 24.3611H5.33333C4.31667 24.3611 3.34165 23.9572 2.62276 23.2383C1.90387 22.5194 1.5 21.5444 1.5 20.5278V5.19442C1.5 4.17775 1.90387 3.20273 2.62276 2.48384C3.34165 1.76495 4.31667 1.36108 5.33333 1.36108H20.6667C21.6833 1.36108 22.6584 1.76495 23.3772 2.48384C24.0961 3.20273 24.5 4.17775 24.5 5.19442V13.5",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M1.5 17.9721L7.88889 11.5832C9.07467 10.4422 10.5364 10.4422 11.7222 11.5832L16.8333 16.6944",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M15.5557 15.4167L16.8334 14.1389C17.6883 13.3173 18.6862 13.0873 19.619 13.4489M21.9446 17.9723L19.389 21.8056H24.5001L21.9446 25.6389",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),link:"#/posts"},{icon:u.jsxs("svg",{width:"26",height:"17",viewBox:"0 0 26 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M1 1.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),u.jsx("path",{d:"M1 8.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),u.jsx("path",{d:"M1 15.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"})]}),link:"#/list-menu"}];return t.isFooter&&u.jsx("div",{className:Mh.footer,style:{background:t.footerBackground},children:u.jsx($H,{id:"footer",children:n.map((r,o)=>u.jsx(pQ,{icon:r.icon,link:r.link,isActive:o===t.activeElementIndex},o))})})}const gQ="_wrapper_u6s2n_1",yQ="_content_u6s2n_12",dC={wrapper:gQ,content:yQ};function _Q({children:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:o}=p.useContext($),[s,i]=p.useState(e.background_color);return p.useEffect(()=>{i(r.background)},[r]),u.jsxs(u.Fragment,{children:[u.jsx(uQ,{}),u.jsx("div",{className:dC.wrapper,children:u.jsx("div",{className:dC.content,children:t})}),u.jsx(mQ,{})]})}ST.createRoot(document.getElementById("main")).render(u.jsx(ws.StrictMode,{children:u.jsx(TI,{children:u.jsx(_Q,{children:u.jsx(nQ,{})})})}));
