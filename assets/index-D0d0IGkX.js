function J6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var Ve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e8(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var hC={exports:{}},Uh={},fC={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc=Symbol.for("react.element"),t8=Symbol.for("react.portal"),n8=Symbol.for("react.fragment"),r8=Symbol.for("react.strict_mode"),s8=Symbol.for("react.profiler"),o8=Symbol.for("react.provider"),i8=Symbol.for("react.context"),a8=Symbol.for("react.forward_ref"),l8=Symbol.for("react.suspense"),c8=Symbol.for("react.memo"),u8=Symbol.for("react.lazy"),t_=Symbol.iterator;function d8(t){return t===null||typeof t!="object"?null:(t=t_&&t[t_]||t["@@iterator"],typeof t=="function"?t:null)}var pC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mC=Object.assign,gC={};function Sa(t,e,n){this.props=t,this.context=e,this.refs=gC,this.updater=n||pC}Sa.prototype.isReactComponent={};Sa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yC(){}yC.prototype=Sa.prototype;function qg(t,e,n){this.props=t,this.context=e,this.refs=gC,this.updater=n||pC}var Wg=qg.prototype=new yC;Wg.constructor=qg;mC(Wg,Sa.prototype);Wg.isPureReactComponent=!0;var n_=Array.isArray,vC=Object.prototype.hasOwnProperty,Gg={current:null},_C={key:!0,ref:!0,__self:!0,__source:!0};function wC(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)vC.call(e,r)&&!_C.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Tc,type:t,key:o,ref:i,props:s,_owner:Gg.current}}function h8(t,e){return{$$typeof:Tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Kg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tc}function f8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var r_=/\/+/g;function vp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?f8(""+t.key):e.toString(36)}function Yu(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Tc:case t8:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+vp(i,0):r,n_(s)?(n="",t!=null&&(n=t.replace(r_,"$&/")+"/"),Yu(s,e,n,"",function(c){return c})):s!=null&&(Kg(s)&&(s=h8(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(r_,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",n_(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+vp(o,a);i+=Yu(o,e,n,l,s)}else if(l=d8(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+vp(o,a++),i+=Yu(o,e,n,l,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function uu(t,e,n){if(t==null)return t;var r=[],s=0;return Yu(t,r,"","",function(o){return e.call(n,o,s++)}),r}function p8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Qu={transition:null},m8={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Qu,ReactCurrentOwner:Gg};function xC(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:uu,forEach:function(t,e,n){uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uu(t,function(){e++}),e},toArray:function(t){return uu(t,function(e){return e})||[]},only:function(t){if(!Kg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Sa;ge.Fragment=n8;ge.Profiler=s8;ge.PureComponent=qg;ge.StrictMode=r8;ge.Suspense=l8;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m8;ge.act=xC;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mC({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=Gg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vC.call(e,l)&&!_C.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Tc,type:t.type,key:s,ref:o,props:r,_owner:i}};ge.createContext=function(t){return t={$$typeof:i8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:o8,_context:t},t.Consumer=t};ge.createElement=wC;ge.createFactory=function(t){var e=wC.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:a8,render:t}};ge.isValidElement=Kg;ge.lazy=function(t){return{$$typeof:u8,_payload:{_status:-1,_result:t},_init:p8}};ge.memo=function(t,e){return{$$typeof:c8,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Qu.transition;Qu.transition={};try{t()}finally{Qu.transition=e}};ge.unstable_act=xC;ge.useCallback=function(t,e){return nn.current.useCallback(t,e)};ge.useContext=function(t){return nn.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};ge.useEffect=function(t,e){return nn.current.useEffect(t,e)};ge.useId=function(){return nn.current.useId()};ge.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return nn.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};ge.useRef=function(t){return nn.current.useRef(t)};ge.useState=function(t){return nn.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return nn.current.useTransition()};ge.version="18.3.1";fC.exports=ge;var p=fC.exports;const bo=Bh(p),g8=J6({__proto__:null,default:bo},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y8=p,v8=Symbol.for("react.element"),_8=Symbol.for("react.fragment"),w8=Object.prototype.hasOwnProperty,x8=y8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C8={key:!0,ref:!0,__self:!0,__source:!0};function CC(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)w8.call(e,r)&&!C8.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:v8,type:t,key:o,ref:i,props:s,_owner:x8.current}}Uh.Fragment=_8;Uh.jsx=CC;Uh.jsxs=CC;hC.exports=Uh;var u=hC.exports,bC={exports:{}},An={},kC={exports:{}},SC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,D){var F=P.length;P.push(D);e:for(;0<F;){var q=F-1>>>1,te=P[q];if(0<s(te,D))P[q]=D,P[F]=te,F=q;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var D=P[0],F=P.pop();if(F!==D){P[0]=F;e:for(var q=0,te=P.length,ne=te>>>1;q<ne;){var ue=2*(q+1)-1,Pe=P[ue],jn=ue+1,vn=P[jn];if(0>s(Pe,F))jn<te&&0>s(vn,Pe)?(P[q]=vn,P[jn]=F,q=jn):(P[q]=Pe,P[ue]=F,q=ue);else if(jn<te&&0>s(vn,F))P[q]=vn,P[jn]=F,q=jn;else break e}}return D}function s(P,D){var F=P.sortIndex-D.sortIndex;return F!==0?F:P.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,v=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=P)r(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function x(P){if(w=!1,y(P),!v)if(n(l)!==null)v=!0,M(b);else{var D=n(c);D!==null&&L(x,D.startTime-P)}}function b(P,D){v=!1,w&&(w=!1,_(k),k=-1),m=!0;var F=f;try{for(y(D),h=n(l);h!==null&&(!(h.expirationTime>D)||P&&!A());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var te=q(h.expirationTime<=D);D=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),y(D)}else r(l);h=n(l)}if(h!==null)var ne=!0;else{var ue=n(c);ue!==null&&L(x,ue.startTime-D),ne=!1}return ne}finally{h=null,f=F,m=!1}}var S=!1,T=null,k=-1,E=5,N=-1;function A(){return!(t.unstable_now()-N<E)}function I(){if(T!==null){var P=t.unstable_now();N=P;var D=!0;try{D=T(!0,P)}finally{D?j():(S=!1,T=null)}}else S=!1}var j;if(typeof g=="function")j=function(){g(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,O=R.port2;R.port1.onmessage=I,j=function(){O.postMessage(null)}}else j=function(){C(I,0)};function M(P){T=P,S||(S=!0,j())}function L(P,D){k=C(function(){P(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,M(b))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var F=f;f=D;try{return P()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,D){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=f;f=P;try{return D()}finally{f=F}},t.unstable_scheduleCallback=function(P,D,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,P){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=F+te,P={id:d++,callback:D,priorityLevel:P,startTime:F,expirationTime:te,sortIndex:-1},F>q?(P.sortIndex=F,e(c,P),n(l)===null&&P===n(c)&&(w?(_(k),k=-1):w=!0,L(x,F-q))):(P.sortIndex=te,e(l,P),v||m||(v=!0,M(b))),P},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(P){var D=f;return function(){var F=f;f=D;try{return P.apply(this,arguments)}finally{f=F}}}})(SC);kC.exports=SC;var b8=kC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k8=p,Tn=b8;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EC=new Set,Bl={};function Yo(t,e){Ji(t,e),Ji(t+"Capture",e)}function Ji(t,e){for(Bl[t]=e,t=0;t<e.length;t++)EC.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vm=Object.prototype.hasOwnProperty,S8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s_={},o_={};function E8(t){return Vm.call(o_,t)?!0:Vm.call(s_,t)?!1:S8.test(t)?o_[t]=!0:(s_[t]=!0,!1)}function T8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function I8(t,e,n,r){if(e===null||typeof e>"u"||T8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var It={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){It[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];It[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){It[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){It[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){It[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){It[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){It[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){It[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){It[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yg=/[\-:]([a-z])/g;function Qg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yg,Qg);It[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yg,Qg);It[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yg,Qg);It[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){It[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});It.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){It[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Zg(t,e,n,r){var s=It.hasOwnProperty(e)?It[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(I8(e,n,s,r)&&(n=null),r||s===null?E8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=k8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,du=Symbol.for("react.element"),wi=Symbol.for("react.portal"),xi=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),zm=Symbol.for("react.profiler"),TC=Symbol.for("react.provider"),IC=Symbol.for("react.context"),Jg=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),qm=Symbol.for("react.suspense_list"),e0=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),NC=Symbol.for("react.offscreen"),i_=Symbol.iterator;function Ua(t){return t===null||typeof t!="object"?null:(t=i_&&t[i_]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,_p;function il(t){if(_p===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_p=e&&e[1]||""}return`
`+_p+t}var wp=!1;function xp(t,e){if(!t||wp)return"";wp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{wp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?il(t):""}function N8(t){switch(t.tag){case 5:return il(t.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return t=xp(t.type,!1),t;case 11:return t=xp(t.type.render,!1),t;case 1:return t=xp(t.type,!0),t;default:return""}}function Wm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xi:return"Fragment";case wi:return"Portal";case zm:return"Profiler";case Xg:return"StrictMode";case Hm:return"Suspense";case qm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IC:return(t.displayName||"Context")+".Consumer";case TC:return(t._context.displayName||"Context")+".Provider";case Jg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case e0:return e=t.displayName||null,e!==null?e:Wm(t.type)||"Memo";case us:e=t._payload,t=t._init;try{return Wm(t(e))}catch{}}return null}function A8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wm(e);case 8:return e===Xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function P8(t){var e=AC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hu(t){t._valueTracker||(t._valueTracker=P8(t))}function PC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gm(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function a_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jC(t,e){e=e.checked,e!=null&&Zg(t,"checked",e,!1)}function Km(t,e){jC(t,e);var n=Fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ym(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ym(t,e.type,Fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function l_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ym(t,e,n){(e!=="number"||xd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var al=Array.isArray;function $i(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Qm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(al(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fs(n)}}function RC(t,e){var n=Fs(e.value),r=Fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function u_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function LC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?LC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fu,OC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fu=fu||document.createElement("div"),fu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j8=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(t){j8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_l[e]=_l[t]})});function DC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_l.hasOwnProperty(t)&&_l[t]?(""+e).trim():e+"px"}function MC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=DC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var R8=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xm(t,e){if(e){if(R8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var e1=null;function t0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var t1=null,Fi=null,Bi=null;function d_(t){if(t=Ac(t)){if(typeof t1!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Wh(e),t1(t.stateNode,t.type,e))}}function $C(t){Fi?Bi?Bi.push(t):Bi=[t]:Fi=t}function FC(){if(Fi){var t=Fi,e=Bi;if(Bi=Fi=null,d_(t),e)for(t=0;t<e.length;t++)d_(e[t])}}function BC(t,e){return t(e)}function UC(){}var Cp=!1;function VC(t,e,n){if(Cp)return t(e,n);Cp=!0;try{return BC(t,e,n)}finally{Cp=!1,(Fi!==null||Bi!==null)&&(UC(),FC())}}function Vl(t,e){var n=t.stateNode;if(n===null)return null;var r=Wh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var n1=!1;if(zr)try{var Va={};Object.defineProperty(Va,"passive",{get:function(){n1=!0}}),window.addEventListener("test",Va,Va),window.removeEventListener("test",Va,Va)}catch{n1=!1}function L8(t,e,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var wl=!1,Cd=null,bd=!1,r1=null,O8={onError:function(t){wl=!0,Cd=t}};function D8(t,e,n,r,s,o,i,a,l){wl=!1,Cd=null,L8.apply(O8,arguments)}function M8(t,e,n,r,s,o,i,a,l){if(D8.apply(this,arguments),wl){if(wl){var c=Cd;wl=!1,Cd=null}else throw Error(U(198));bd||(bd=!0,r1=c)}}function Qo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h_(t){if(Qo(t)!==t)throw Error(U(188))}function $8(t){var e=t.alternate;if(!e){if(e=Qo(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return h_(s),t;if(o===r)return h_(s),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function HC(t){return t=$8(t),t!==null?qC(t):null}function qC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qC(t);if(e!==null)return e;t=t.sibling}return null}var WC=Tn.unstable_scheduleCallback,f_=Tn.unstable_cancelCallback,F8=Tn.unstable_shouldYield,B8=Tn.unstable_requestPaint,st=Tn.unstable_now,U8=Tn.unstable_getCurrentPriorityLevel,n0=Tn.unstable_ImmediatePriority,GC=Tn.unstable_UserBlockingPriority,kd=Tn.unstable_NormalPriority,V8=Tn.unstable_LowPriority,KC=Tn.unstable_IdlePriority,Vh=null,pr=null;function z8(t){if(pr&&typeof pr.onCommitFiberRoot=="function")try{pr.onCommitFiberRoot(Vh,t,void 0,(t.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:W8,H8=Math.log,q8=Math.LN2;function W8(t){return t>>>=0,t===0?32:31-(H8(t)/q8|0)|0}var pu=64,mu=4194304;function ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=ll(a):(o&=i,o!==0&&(r=ll(o)))}else i=n&~s,i!==0?r=ll(i):o!==0&&(r=ll(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Zn(e),s=1<<n,r|=t[n],e&=~s;return r}function G8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Zn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=G8(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function s1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function YC(){var t=pu;return pu<<=1,!(pu&4194240)&&(pu=64),t}function bp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zn(e),t[e]=n}function Y8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Zn(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function r0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Zn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Se=0;function QC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ZC,s0,XC,JC,e5,o1=!1,gu=[],Es=null,Ts=null,Is=null,zl=new Map,Hl=new Map,ms=[],Q8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p_(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":Is=null;break;case"pointerover":case"pointerout":zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(e.pointerId)}}function za(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Ac(e),e!==null&&s0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Z8(t,e,n,r,s){switch(e){case"focusin":return Es=za(Es,t,e,n,r,s),!0;case"dragenter":return Ts=za(Ts,t,e,n,r,s),!0;case"mouseover":return Is=za(Is,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return zl.set(o,za(zl.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Hl.set(o,za(Hl.get(o)||null,t,e,n,r,s)),!0}return!1}function t5(t){var e=go(t.target);if(e!==null){var n=Qo(e);if(n!==null){if(e=n.tag,e===13){if(e=zC(n),e!==null){t.blockedOn=e,e5(t.priority,function(){XC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=i1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);e1=r,n.target.dispatchEvent(r),e1=null}else return e=Ac(n),e!==null&&s0(e),t.blockedOn=n,!1;e.shift()}return!0}function m_(t,e,n){Zu(t)&&n.delete(e)}function X8(){o1=!1,Es!==null&&Zu(Es)&&(Es=null),Ts!==null&&Zu(Ts)&&(Ts=null),Is!==null&&Zu(Is)&&(Is=null),zl.forEach(m_),Hl.forEach(m_)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,o1||(o1=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,X8)))}function ql(t){function e(s){return Ha(s,t)}if(0<gu.length){Ha(gu[0],t);for(var n=1;n<gu.length;n++){var r=gu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Es!==null&&Ha(Es,t),Ts!==null&&Ha(Ts,t),Is!==null&&Ha(Is,t),zl.forEach(e),Hl.forEach(e),n=0;n<ms.length;n++)r=ms[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ms.length&&(n=ms[0],n.blockedOn===null);)t5(n),n.blockedOn===null&&ms.shift()}var Ui=ts.ReactCurrentBatchConfig,Ed=!0;function J8(t,e,n,r){var s=Se,o=Ui.transition;Ui.transition=null;try{Se=1,o0(t,e,n,r)}finally{Se=s,Ui.transition=o}}function eE(t,e,n,r){var s=Se,o=Ui.transition;Ui.transition=null;try{Se=4,o0(t,e,n,r)}finally{Se=s,Ui.transition=o}}function o0(t,e,n,r){if(Ed){var s=i1(t,e,n,r);if(s===null)Rp(t,e,r,Td,n),p_(t,r);else if(Z8(s,t,e,n,r))r.stopPropagation();else if(p_(t,r),e&4&&-1<Q8.indexOf(t)){for(;s!==null;){var o=Ac(s);if(o!==null&&ZC(o),o=i1(t,e,n,r),o===null&&Rp(t,e,r,Td,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Rp(t,e,r,null,n)}}var Td=null;function i1(t,e,n,r){if(Td=null,t=t0(r),t=go(t),t!==null)if(e=Qo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Td=t,null}function n5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U8()){case n0:return 1;case GC:return 4;case kd:case V8:return 16;case KC:return 536870912;default:return 16}default:return 16}}var Cs=null,i0=null,Xu=null;function r5(){if(Xu)return Xu;var t,e=i0,n=e.length,r,s="value"in Cs?Cs.value:Cs.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return Xu=s.slice(t,1<r?1-r:void 0)}function Ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yu(){return!0}function g_(){return!1}function Pn(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yu:g_,this.isPropagationStopped=g_,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),e}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},a0=Pn(Ea),Nc=Ke({},Ea,{view:0,detail:0}),tE=Pn(Nc),kp,Sp,qa,zh=Ke({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:l0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(kp=t.screenX-qa.screenX,Sp=t.screenY-qa.screenY):Sp=kp=0,qa=t),kp)},movementY:function(t){return"movementY"in t?t.movementY:Sp}}),y_=Pn(zh),nE=Ke({},zh,{dataTransfer:0}),rE=Pn(nE),sE=Ke({},Nc,{relatedTarget:0}),Ep=Pn(sE),oE=Ke({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),iE=Pn(oE),aE=Ke({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lE=Pn(aE),cE=Ke({},Ea,{data:0}),v_=Pn(cE),uE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hE[t])?!!e[t]:!1}function l0(){return fE}var pE=Ke({},Nc,{key:function(t){if(t.key){var e=uE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:l0,charCode:function(t){return t.type==="keypress"?Ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mE=Pn(pE),gE=Ke({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),__=Pn(gE),yE=Ke({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:l0}),vE=Pn(yE),_E=Ke({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),wE=Pn(_E),xE=Ke({},zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),CE=Pn(xE),bE=[9,13,27,32],c0=zr&&"CompositionEvent"in window,xl=null;zr&&"documentMode"in document&&(xl=document.documentMode);var kE=zr&&"TextEvent"in window&&!xl,s5=zr&&(!c0||xl&&8<xl&&11>=xl),w_=" ",x_=!1;function o5(t,e){switch(t){case"keyup":return bE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ci=!1;function SE(t,e){switch(t){case"compositionend":return i5(e);case"keypress":return e.which!==32?null:(x_=!0,w_);case"textInput":return t=e.data,t===w_&&x_?null:t;default:return null}}function EE(t,e){if(Ci)return t==="compositionend"||!c0&&o5(t,e)?(t=r5(),Xu=i0=Cs=null,Ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return s5&&e.locale!=="ko"?null:e.data;default:return null}}var TE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TE[t.type]:e==="textarea"}function a5(t,e,n,r){$C(r),e=Id(e,"onChange"),0<e.length&&(n=new a0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cl=null,Wl=null;function IE(t){v5(t,0)}function Hh(t){var e=Si(t);if(PC(e))return t}function NE(t,e){if(t==="change")return e}var l5=!1;if(zr){var Tp;if(zr){var Ip="oninput"in document;if(!Ip){var b_=document.createElement("div");b_.setAttribute("oninput","return;"),Ip=typeof b_.oninput=="function"}Tp=Ip}else Tp=!1;l5=Tp&&(!document.documentMode||9<document.documentMode)}function k_(){Cl&&(Cl.detachEvent("onpropertychange",c5),Wl=Cl=null)}function c5(t){if(t.propertyName==="value"&&Hh(Wl)){var e=[];a5(e,Wl,t,t0(t)),VC(IE,e)}}function AE(t,e,n){t==="focusin"?(k_(),Cl=e,Wl=n,Cl.attachEvent("onpropertychange",c5)):t==="focusout"&&k_()}function PE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hh(Wl)}function jE(t,e){if(t==="click")return Hh(e)}function RE(t,e){if(t==="input"||t==="change")return Hh(e)}function LE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jn=typeof Object.is=="function"?Object.is:LE;function Gl(t,e){if(Jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vm.call(e,s)||!Jn(t[s],e[s]))return!1}return!0}function S_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function E_(t,e){var n=S_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=S_(n)}}function u5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?u5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function d5(){for(var t=window,e=xd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xd(t.document)}return e}function u0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OE(t){var e=d5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&u5(n.ownerDocument.documentElement,n)){if(r!==null&&u0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=E_(n,o);var i=E_(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DE=zr&&"documentMode"in document&&11>=document.documentMode,bi=null,a1=null,bl=null,l1=!1;function T_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;l1||bi==null||bi!==xd(r)||(r=bi,"selectionStart"in r&&u0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bl&&Gl(bl,r)||(bl=r,r=Id(a1,"onSelect"),0<r.length&&(e=new a0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bi)))}function vu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ki={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},Np={},h5={};zr&&(h5=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function qh(t){if(Np[t])return Np[t];if(!ki[t])return t;var e=ki[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in h5)return Np[t]=e[n];return t}var f5=qh("animationend"),p5=qh("animationiteration"),m5=qh("animationstart"),g5=qh("transitionend"),y5=new Map,I_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(t,e){y5.set(t,e),Yo(e,[t])}for(var Ap=0;Ap<I_.length;Ap++){var Pp=I_[Ap],ME=Pp.toLowerCase(),$E=Pp[0].toUpperCase()+Pp.slice(1);Ks(ME,"on"+$E)}Ks(f5,"onAnimationEnd");Ks(p5,"onAnimationIteration");Ks(m5,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(g5,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function N_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,M8(r,e,void 0,t),t.currentTarget=null}function v5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;N_(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;N_(s,a,c),o=l}}}if(bd)throw t=r1,bd=!1,r1=null,t}function Re(t,e){var n=e[f1];n===void 0&&(n=e[f1]=new Set);var r=t+"__bubble";n.has(r)||(_5(e,t,2,!1),n.add(r))}function jp(t,e,n){var r=0;e&&(r|=4),_5(n,t,r,e)}var _u="_reactListening"+Math.random().toString(36).slice(2);function Kl(t){if(!t[_u]){t[_u]=!0,EC.forEach(function(n){n!=="selectionchange"&&(FE.has(n)||jp(n,!1,t),jp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_u]||(e[_u]=!0,jp("selectionchange",!1,e))}}function _5(t,e,n,r){switch(n5(e)){case 1:var s=J8;break;case 4:s=eE;break;default:s=o0}n=s.bind(null,e,n,t),s=void 0,!n1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Rp(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=go(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}VC(function(){var c=o,d=t0(n),h=[];e:{var f=y5.get(t);if(f!==void 0){var m=a0,v=t;switch(t){case"keypress":if(Ju(n)===0)break e;case"keydown":case"keyup":m=mE;break;case"focusin":v="focus",m=Ep;break;case"focusout":v="blur",m=Ep;break;case"beforeblur":case"afterblur":m=Ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=y_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vE;break;case f5:case p5:case m5:m=iE;break;case g5:m=wE;break;case"scroll":m=tE;break;case"wheel":m=CE;break;case"copy":case"cut":case"paste":m=lE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=__}var w=(e&4)!==0,C=!w&&t==="scroll",_=w?f!==null?f+"Capture":null:f;w=[];for(var g=c,y;g!==null;){y=g;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,_!==null&&(x=Vl(g,_),x!=null&&w.push(Yl(g,x,y)))),C)break;g=g.return}0<w.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==e1&&(v=n.relatedTarget||n.fromElement)&&(go(v)||v[Hr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?go(v):null,v!==null&&(C=Qo(v),v!==C||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(w=y_,x="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=__,x="onPointerLeave",_="onPointerEnter",g="pointer"),C=m==null?f:Si(m),y=v==null?f:Si(v),f=new w(x,g+"leave",m,n,d),f.target=C,f.relatedTarget=y,x=null,go(d)===c&&(w=new w(_,g+"enter",v,n,d),w.target=y,w.relatedTarget=C,x=w),C=x,m&&v)t:{for(w=m,_=v,g=0,y=w;y;y=ci(y))g++;for(y=0,x=_;x;x=ci(x))y++;for(;0<g-y;)w=ci(w),g--;for(;0<y-g;)_=ci(_),y--;for(;g--;){if(w===_||_!==null&&w===_.alternate)break t;w=ci(w),_=ci(_)}w=null}else w=null;m!==null&&A_(h,f,m,w,!1),v!==null&&C!==null&&A_(h,C,v,w,!0)}}e:{if(f=c?Si(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var b=NE;else if(C_(f))if(l5)b=RE;else{b=PE;var S=AE}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=jE);if(b&&(b=b(t,c))){a5(h,b,n,d);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Ym(f,"number",f.value)}switch(S=c?Si(c):window,t){case"focusin":(C_(S)||S.contentEditable==="true")&&(bi=S,a1=c,bl=null);break;case"focusout":bl=a1=bi=null;break;case"mousedown":l1=!0;break;case"contextmenu":case"mouseup":case"dragend":l1=!1,T_(h,n,d);break;case"selectionchange":if(DE)break;case"keydown":case"keyup":T_(h,n,d)}var T;if(c0)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ci?o5(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(s5&&n.locale!=="ko"&&(Ci||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ci&&(T=r5()):(Cs=d,i0="value"in Cs?Cs.value:Cs.textContent,Ci=!0)),S=Id(c,k),0<S.length&&(k=new v_(k,t,null,n,d),h.push({event:k,listeners:S}),T?k.data=T:(T=i5(n),T!==null&&(k.data=T)))),(T=kE?SE(t,n):EE(t,n))&&(c=Id(c,"onBeforeInput"),0<c.length&&(d=new v_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=T))}v5(h,e)})}function Yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Id(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Vl(t,n),o!=null&&r.unshift(Yl(t,o,s)),o=Vl(t,e),o!=null&&r.push(Yl(t,o,s))),t=t.return}return r}function ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function A_(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Vl(n,o),l!=null&&i.unshift(Yl(n,l,a))):s||(l=Vl(n,o),l!=null&&i.push(Yl(n,l,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var BE=/\r\n?/g,UE=/\u0000|\uFFFD/g;function P_(t){return(typeof t=="string"?t:""+t).replace(BE,`
`).replace(UE,"")}function wu(t,e,n){if(e=P_(e),P_(t)!==e&&n)throw Error(U(425))}function Nd(){}var c1=null,u1=null;function d1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h1=typeof setTimeout=="function"?setTimeout:void 0,VE=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(t){return j_.resolve(null).then(t).catch(HE)}:h1;function HE(t){setTimeout(function(){throw t})}function Lp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ql(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ql(e)}function Ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function R_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ta=Math.random().toString(36).slice(2),cr="__reactFiber$"+Ta,Ql="__reactProps$"+Ta,Hr="__reactContainer$"+Ta,f1="__reactEvents$"+Ta,qE="__reactListeners$"+Ta,WE="__reactHandles$"+Ta;function go(t){var e=t[cr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hr]||n[cr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=R_(t);t!==null;){if(n=t[cr])return n;t=R_(t)}return e}t=n,n=t.parentNode}return null}function Ac(t){return t=t[cr]||t[Hr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Si(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Wh(t){return t[Ql]||null}var p1=[],Ei=-1;function Ys(t){return{current:t}}function De(t){0>Ei||(t.current=p1[Ei],p1[Ei]=null,Ei--)}function Ne(t,e){Ei++,p1[Ei]=t.current,t.current=e}var Bs={},Wt=Ys(Bs),fn=Ys(!1),jo=Bs;function ea(t,e){var n=t.type.contextTypes;if(!n)return Bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pn(t){return t=t.childContextTypes,t!=null}function Ad(){De(fn),De(Wt)}function L_(t,e,n){if(Wt.current!==Bs)throw Error(U(168));Ne(Wt,e),Ne(fn,n)}function w5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,A8(t)||"Unknown",s));return Ke({},n,r)}function Pd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bs,jo=Wt.current,Ne(Wt,t),Ne(fn,fn.current),!0}function O_(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=w5(t,e,jo),r.__reactInternalMemoizedMergedChildContext=t,De(fn),De(Wt),Ne(Wt,t)):De(fn),Ne(fn,n)}var Ir=null,Gh=!1,Op=!1;function x5(t){Ir===null?Ir=[t]:Ir.push(t)}function GE(t){Gh=!0,x5(t)}function Qs(){if(!Op&&Ir!==null){Op=!0;var t=0,e=Se;try{var n=Ir;for(Se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,Gh=!1}catch(s){throw Ir!==null&&(Ir=Ir.slice(t+1)),WC(n0,Qs),s}finally{Se=e,Op=!1}}return null}var Ti=[],Ii=0,jd=null,Rd=0,On=[],Dn=0,Ro=null,Pr=1,jr="";function ao(t,e){Ti[Ii++]=Rd,Ti[Ii++]=jd,jd=t,Rd=e}function C5(t,e,n){On[Dn++]=Pr,On[Dn++]=jr,On[Dn++]=Ro,Ro=t;var r=Pr;t=jr;var s=32-Zn(r)-1;r&=~(1<<s),n+=1;var o=32-Zn(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Pr=1<<32-Zn(e)+s|n<<s|r,jr=o+t}else Pr=1<<o|n<<s|r,jr=t}function d0(t){t.return!==null&&(ao(t,1),C5(t,1,0))}function h0(t){for(;t===jd;)jd=Ti[--Ii],Ti[Ii]=null,Rd=Ti[--Ii],Ti[Ii]=null;for(;t===Ro;)Ro=On[--Dn],On[Dn]=null,jr=On[--Dn],On[Dn]=null,Pr=On[--Dn],On[Dn]=null}var En=null,bn=null,Ue=!1,Qn=null;function b5(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function D_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,bn=Ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ro!==null?{id:Pr,overflow:jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,bn=null,!0):!1;default:return!1}}function m1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function g1(t){if(Ue){var e=bn;if(e){var n=e;if(!D_(t,e)){if(m1(t))throw Error(U(418));e=Ns(n.nextSibling);var r=En;e&&D_(t,e)?b5(r,n):(t.flags=t.flags&-4097|2,Ue=!1,En=t)}}else{if(m1(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ue=!1,En=t}}}function M_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function xu(t){if(t!==En)return!1;if(!Ue)return M_(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!d1(t.type,t.memoizedProps)),e&&(e=bn)){if(m1(t))throw k5(),Error(U(418));for(;e;)b5(t,e),e=Ns(e.nextSibling)}if(M_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bn=Ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=En?Ns(t.stateNode.nextSibling):null;return!0}function k5(){for(var t=bn;t;)t=Ns(t.nextSibling)}function ta(){bn=En=null,Ue=!1}function f0(t){Qn===null?Qn=[t]:Qn.push(t)}var KE=ts.ReactCurrentBatchConfig;function Wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Cu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $_(t){var e=t._init;return e(t._payload)}function S5(t){function e(_,g){if(t){var y=_.deletions;y===null?(_.deletions=[g],_.flags|=16):y.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function r(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function s(_,g){return _=Rs(_,g),_.index=0,_.sibling=null,_}function o(_,g,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<g?(_.flags|=2,g):y):(_.flags|=2,g)):(_.flags|=1048576,g)}function i(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,g,y,x){return g===null||g.tag!==6?(g=Vp(y,_.mode,x),g.return=_,g):(g=s(g,y),g.return=_,g)}function l(_,g,y,x){var b=y.type;return b===xi?d(_,g,y.props.children,x,y.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===us&&$_(b)===g.type)?(x=s(g,y.props),x.ref=Wa(_,g,y),x.return=_,x):(x=id(y.type,y.key,y.props,null,_.mode,x),x.ref=Wa(_,g,y),x.return=_,x)}function c(_,g,y,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=zp(y,_.mode,x),g.return=_,g):(g=s(g,y.children||[]),g.return=_,g)}function d(_,g,y,x,b){return g===null||g.tag!==7?(g=So(y,_.mode,x,b),g.return=_,g):(g=s(g,y),g.return=_,g)}function h(_,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vp(""+g,_.mode,y),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case du:return y=id(g.type,g.key,g.props,null,_.mode,y),y.ref=Wa(_,null,g),y.return=_,y;case wi:return g=zp(g,_.mode,y),g.return=_,g;case us:var x=g._init;return h(_,x(g._payload),y)}if(al(g)||Ua(g))return g=So(g,_.mode,y,null),g.return=_,g;Cu(_,g)}return null}function f(_,g,y,x){var b=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(_,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case du:return y.key===b?l(_,g,y,x):null;case wi:return y.key===b?c(_,g,y,x):null;case us:return b=y._init,f(_,g,b(y._payload),x)}if(al(y)||Ua(y))return b!==null?null:d(_,g,y,x,null);Cu(_,y)}return null}function m(_,g,y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(y)||null,a(g,_,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case du:return _=_.get(x.key===null?y:x.key)||null,l(g,_,x,b);case wi:return _=_.get(x.key===null?y:x.key)||null,c(g,_,x,b);case us:var S=x._init;return m(_,g,y,S(x._payload),b)}if(al(x)||Ua(x))return _=_.get(y)||null,d(g,_,x,b,null);Cu(g,x)}return null}function v(_,g,y,x){for(var b=null,S=null,T=g,k=g=0,E=null;T!==null&&k<y.length;k++){T.index>k?(E=T,T=null):E=T.sibling;var N=f(_,T,y[k],x);if(N===null){T===null&&(T=E);break}t&&T&&N.alternate===null&&e(_,T),g=o(N,g,k),S===null?b=N:S.sibling=N,S=N,T=E}if(k===y.length)return n(_,T),Ue&&ao(_,k),b;if(T===null){for(;k<y.length;k++)T=h(_,y[k],x),T!==null&&(g=o(T,g,k),S===null?b=T:S.sibling=T,S=T);return Ue&&ao(_,k),b}for(T=r(_,T);k<y.length;k++)E=m(T,_,k,y[k],x),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?k:E.key),g=o(E,g,k),S===null?b=E:S.sibling=E,S=E);return t&&T.forEach(function(A){return e(_,A)}),Ue&&ao(_,k),b}function w(_,g,y,x){var b=Ua(y);if(typeof b!="function")throw Error(U(150));if(y=b.call(y),y==null)throw Error(U(151));for(var S=b=null,T=g,k=g=0,E=null,N=y.next();T!==null&&!N.done;k++,N=y.next()){T.index>k?(E=T,T=null):E=T.sibling;var A=f(_,T,N.value,x);if(A===null){T===null&&(T=E);break}t&&T&&A.alternate===null&&e(_,T),g=o(A,g,k),S===null?b=A:S.sibling=A,S=A,T=E}if(N.done)return n(_,T),Ue&&ao(_,k),b;if(T===null){for(;!N.done;k++,N=y.next())N=h(_,N.value,x),N!==null&&(g=o(N,g,k),S===null?b=N:S.sibling=N,S=N);return Ue&&ao(_,k),b}for(T=r(_,T);!N.done;k++,N=y.next())N=m(T,_,k,N.value,x),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?k:N.key),g=o(N,g,k),S===null?b=N:S.sibling=N,S=N);return t&&T.forEach(function(I){return e(_,I)}),Ue&&ao(_,k),b}function C(_,g,y,x){if(typeof y=="object"&&y!==null&&y.type===xi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case du:e:{for(var b=y.key,S=g;S!==null;){if(S.key===b){if(b=y.type,b===xi){if(S.tag===7){n(_,S.sibling),g=s(S,y.props.children),g.return=_,_=g;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===us&&$_(b)===S.type){n(_,S.sibling),g=s(S,y.props),g.ref=Wa(_,S,y),g.return=_,_=g;break e}n(_,S);break}else e(_,S);S=S.sibling}y.type===xi?(g=So(y.props.children,_.mode,x,y.key),g.return=_,_=g):(x=id(y.type,y.key,y.props,null,_.mode,x),x.ref=Wa(_,g,y),x.return=_,_=x)}return i(_);case wi:e:{for(S=y.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(_,g.sibling),g=s(g,y.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=zp(y,_.mode,x),g.return=_,_=g}return i(_);case us:return S=y._init,C(_,g,S(y._payload),x)}if(al(y))return v(_,g,y,x);if(Ua(y))return w(_,g,y,x);Cu(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(_,g.sibling),g=s(g,y),g.return=_,_=g):(n(_,g),g=Vp(y,_.mode,x),g.return=_,_=g),i(_)):n(_,g)}return C}var na=S5(!0),E5=S5(!1),Ld=Ys(null),Od=null,Ni=null,p0=null;function m0(){p0=Ni=Od=null}function g0(t){var e=Ld.current;De(Ld),t._currentValue=e}function y1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vi(t,e){Od=t,p0=Ni=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(p0!==t)if(t={context:t,memoizedValue:e,next:null},Ni===null){if(Od===null)throw Error(U(308));Ni=t,Od.dependencies={lanes:0,firstContext:t}}else Ni=Ni.next=t;return e}var yo=null;function y0(t){yo===null?yo=[t]:yo.push(t)}function T5(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,y0(e)):(n.next=s.next,s.next=n),e.interleaved=n,qr(t,r)}function qr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ds=!1;function v0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,qr(t,n)}return s=r.interleaved,s===null?(e.next=e,y0(r)):(e.next=s.next,s.next=e),r.interleaved=e,qr(t,n)}function ed(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r0(t,n)}}function F_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dd(t,e,n,r){var s=t.updateQueue;ds=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=c=l=null,a=o;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(f=e,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Ke({},h,f);break e;case 2:ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Oo|=i,t.lanes=i,t.memoizedState=h}}function B_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var Pc={},mr=Ys(Pc),Zl=Ys(Pc),Xl=Ys(Pc);function vo(t){if(t===Pc)throw Error(U(174));return t}function _0(t,e){switch(Ne(Xl,e),Ne(Zl,t),Ne(mr,Pc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zm(e,t)}De(mr),Ne(mr,e)}function ra(){De(mr),De(Zl),De(Xl)}function N5(t){vo(Xl.current);var e=vo(mr.current),n=Zm(e,t.type);e!==n&&(Ne(Zl,t),Ne(mr,n))}function w0(t){Zl.current===t&&(De(mr),De(Zl))}var qe=Ys(0);function Md(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dp=[];function x0(){for(var t=0;t<Dp.length;t++)Dp[t]._workInProgressVersionPrimary=null;Dp.length=0}var td=ts.ReactCurrentDispatcher,Mp=ts.ReactCurrentBatchConfig,Lo=0,Ge=null,dt=null,vt=null,$d=!1,kl=!1,Jl=0,YE=0;function At(){throw Error(U(321))}function C0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jn(t[n],e[n]))return!1;return!0}function b0(t,e,n,r,s,o){if(Lo=o,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,td.current=t===null||t.memoizedState===null?JE:eT,t=n(r,s),kl){o=0;do{if(kl=!1,Jl=0,25<=o)throw Error(U(301));o+=1,vt=dt=null,e.updateQueue=null,td.current=tT,t=n(r,s)}while(kl)}if(td.current=Fd,e=dt!==null&&dt.next!==null,Lo=0,vt=dt=Ge=null,$d=!1,e)throw Error(U(300));return t}function k0(){var t=Jl!==0;return Jl=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ge.memoizedState=vt=t:vt=vt.next=t,vt}function Vn(){if(dt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=vt===null?Ge.memoizedState:vt.next;if(e!==null)vt=e,dt=t;else{if(t===null)throw Error(U(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},vt===null?Ge.memoizedState=vt=t:vt=vt.next=t}return vt}function ec(t,e){return typeof e=="function"?e(t):e}function $p(t){var e=Vn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=dt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var d=c.lane;if((Lo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,Ge.lanes|=d,Oo|=d}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,Jn(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Ge.lanes|=o,Oo|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fp(t){var e=Vn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Jn(o,e.memoizedState)||(hn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function A5(){}function P5(t,e){var n=Ge,r=Vn(),s=e(),o=!Jn(r.memoizedState,s);if(o&&(r.memoizedState=s,hn=!0),r=r.queue,S0(L5.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,tc(9,R5.bind(null,n,r,s,e),void 0,null),_t===null)throw Error(U(349));Lo&30||j5(n,e,s)}return s}function j5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function R5(t,e,n,r){e.value=n,e.getSnapshot=r,O5(e)&&D5(t)}function L5(t,e,n){return n(function(){O5(e)&&D5(t)})}function O5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jn(t,n)}catch{return!0}}function D5(t){var e=qr(t,1);e!==null&&Xn(e,t,1,-1)}function U_(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:t},e.queue=t,t=t.dispatch=XE.bind(null,Ge,t),[e.memoizedState,t]}function tc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function M5(){return Vn().memoizedState}function nd(t,e,n,r){var s=ir();Ge.flags|=t,s.memoizedState=tc(1|e,n,void 0,r===void 0?null:r)}function Kh(t,e,n,r){var s=Vn();r=r===void 0?null:r;var o=void 0;if(dt!==null){var i=dt.memoizedState;if(o=i.destroy,r!==null&&C0(r,i.deps)){s.memoizedState=tc(e,n,o,r);return}}Ge.flags|=t,s.memoizedState=tc(1|e,n,o,r)}function V_(t,e){return nd(8390656,8,t,e)}function S0(t,e){return Kh(2048,8,t,e)}function $5(t,e){return Kh(4,2,t,e)}function F5(t,e){return Kh(4,4,t,e)}function B5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function U5(t,e,n){return n=n!=null?n.concat([t]):null,Kh(4,4,B5.bind(null,e,t),n)}function E0(){}function V5(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z5(t,e){var n=Vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&C0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function H5(t,e,n){return Lo&21?(Jn(n,e)||(n=YC(),Ge.lanes|=n,Oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function QE(t,e){var n=Se;Se=n!==0&&4>n?n:4,t(!0);var r=Mp.transition;Mp.transition={};try{t(!1),e()}finally{Se=n,Mp.transition=r}}function q5(){return Vn().memoizedState}function ZE(t,e,n){var r=js(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W5(t))G5(e,n);else if(n=T5(t,e,n,r),n!==null){var s=tn();Xn(n,t,r,s),K5(n,e,r)}}function XE(t,e,n){var r=js(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W5(t))G5(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Jn(a,i)){var l=e.interleaved;l===null?(s.next=s,y0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=T5(t,e,s,r),n!==null&&(s=tn(),Xn(n,t,r,s),K5(n,e,r))}}function W5(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function G5(t,e){kl=$d=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function K5(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,r0(t,n)}}var Fd={readContext:Un,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},JE={readContext:Un,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:V_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nd(4194308,4,B5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return nd(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ZE.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:U_,useDebugValue:E0,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=U_(!1),e=t[0];return t=QE.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=ir();if(Ue){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),_t===null)throw Error(U(349));Lo&30||j5(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,V_(L5.bind(null,r,o,t),[t]),r.flags|=2048,tc(9,R5.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ir(),e=_t.identifierPrefix;if(Ue){var n=jr,r=Pr;n=(r&~(1<<32-Zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eT={readContext:Un,useCallback:V5,useContext:Un,useEffect:S0,useImperativeHandle:U5,useInsertionEffect:$5,useLayoutEffect:F5,useMemo:z5,useReducer:$p,useRef:M5,useState:function(){return $p(ec)},useDebugValue:E0,useDeferredValue:function(t){var e=Vn();return H5(e,dt.memoizedState,t)},useTransition:function(){var t=$p(ec)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:A5,useSyncExternalStore:P5,useId:q5,unstable_isNewReconciler:!1},tT={readContext:Un,useCallback:V5,useContext:Un,useEffect:S0,useImperativeHandle:U5,useInsertionEffect:$5,useLayoutEffect:F5,useMemo:z5,useReducer:Fp,useRef:M5,useState:function(){return Fp(ec)},useDebugValue:E0,useDeferredValue:function(t){var e=Vn();return dt===null?e.memoizedState=t:H5(e,dt.memoizedState,t)},useTransition:function(){var t=Fp(ec)[0],e=Vn().memoizedState;return[t,e]},useMutableSource:A5,useSyncExternalStore:P5,useId:q5,unstable_isNewReconciler:!1};function Gn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function v1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yh={isMounted:function(t){return(t=t._reactInternals)?Qo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),s=js(t),o=Mr(r,s);o.payload=e,n!=null&&(o.callback=n),e=As(t,o,s),e!==null&&(Xn(e,t,s,r),ed(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),s=js(t),o=Mr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=As(t,o,s),e!==null&&(Xn(e,t,s,r),ed(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=js(t),s=Mr(n,r);s.tag=2,e!=null&&(s.callback=e),e=As(t,s,r),e!==null&&(Xn(e,t,r,n),ed(e,t,r))}};function z_(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!Gl(n,r)||!Gl(s,o):!0}function Y5(t,e,n){var r=!1,s=Bs,o=e.contextType;return typeof o=="object"&&o!==null?o=Un(o):(s=pn(e)?jo:Wt.current,r=e.contextTypes,o=(r=r!=null)?ea(t,s):Bs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function H_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yh.enqueueReplaceState(e,e.state,null)}function _1(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},v0(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Un(o):(o=pn(e)?jo:Wt.current,s.context=ea(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(v1(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yh.enqueueReplaceState(s,s.state,null),Dd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sa(t,e){try{var n="",r=e;do n+=N8(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Bp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function w1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var nT=typeof WeakMap=="function"?WeakMap:Map;function Q5(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ud||(Ud=!0,A1=r),w1(t,e)},n}function Z5(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){w1(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){w1(t,e),typeof r!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function q_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new nT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=gT.bind(null,t,e,n),e.then(t,t))}function W_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,As(n,e,1))),n.lanes|=1),t)}var rT=ts.ReactCurrentOwner,hn=!1;function Xt(t,e,n,r){e.child=t===null?E5(e,null,n,r):na(e,t.child,n,r)}function K_(t,e,n,r,s){n=n.render;var o=e.ref;return Vi(e,s),r=b0(t,e,n,r,o,s),n=k0(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wr(t,e,s)):(Ue&&n&&d0(e),e.flags|=1,Xt(t,e,r,s),e.child)}function Y_(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!L0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,X5(t,e,o,r,s)):(t=id(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(i,r)&&t.ref===e.ref)return Wr(t,e,s)}return e.flags|=1,t=Rs(o,r),t.ref=e.ref,t.return=e,e.child=t}function X5(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Gl(o,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Wr(t,e,s)}return x1(t,e,n,r,s)}function J5(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Pi,xn),xn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ne(Pi,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ne(Pi,xn),xn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ne(Pi,xn),xn|=r;return Xt(t,e,s,n),e.child}function e4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function x1(t,e,n,r,s){var o=pn(n)?jo:Wt.current;return o=ea(e,o),Vi(e,s),n=b0(t,e,n,r,o,s),r=k0(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wr(t,e,s)):(Ue&&r&&d0(e),e.flags|=1,Xt(t,e,n,s),e.child)}function Q_(t,e,n,r,s){if(pn(n)){var o=!0;Pd(e)}else o=!1;if(Vi(e,s),e.stateNode===null)rd(t,e),Y5(e,n,r),_1(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=Un(c):(c=pn(n)?jo:Wt.current,c=ea(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&H_(e,i,r,c),ds=!1;var f=e.memoizedState;i.state=f,Dd(e,r,i,s),l=e.memoizedState,a!==r||f!==l||fn.current||ds?(typeof d=="function"&&(v1(e,n,d,r),l=e.memoizedState),(a=ds||z_(e,n,a,r,f,l,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,I5(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Gn(e.type,a),i.props=c,h=e.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=pn(n)?jo:Wt.current,l=ea(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==l)&&H_(e,i,r,l),ds=!1,f=e.memoizedState,i.state=f,Dd(e,r,i,s);var v=e.memoizedState;a!==h||f!==v||fn.current||ds?(typeof m=="function"&&(v1(e,n,m,r),v=e.memoizedState),(c=ds||z_(e,n,c,r,f,v,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),i.props=r,i.state=v,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return C1(t,e,n,r,o,s)}function C1(t,e,n,r,s,o){e4(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&O_(e,n,!1),Wr(t,e,o);r=e.stateNode,rT.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=na(e,t.child,null,o),e.child=na(e,null,a,o)):Xt(t,e,a,o),e.memoizedState=r.state,s&&O_(e,n,!0),e.child}function t4(t){var e=t.stateNode;e.pendingContext?L_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&L_(t,e.context,!1),_0(t,e.containerInfo)}function Z_(t,e,n,r,s){return ta(),f0(s),e.flags|=256,Xt(t,e,n,r),e.child}var b1={dehydrated:null,treeContext:null,retryLane:0};function k1(t){return{baseLanes:t,cachePool:null,transitions:null}}function n4(t,e,n){var r=e.pendingProps,s=qe.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ne(qe,s&1),t===null)return g1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Xh(i,r,0,null),t=So(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=k1(n),e.memoizedState=b1,t):T0(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return sT(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Rs(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Rs(a,o):(o=So(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?k1(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=b1,r}return o=t.child,t=o.sibling,r=Rs(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function T0(t,e){return e=Xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bu(t,e,n,r){return r!==null&&f0(r),na(e,t.child,null,n),t=T0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sT(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=Bp(Error(U(422))),bu(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Xh({mode:"visible",children:r.children},s,0,null),o=So(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&na(e,t.child,null,i),e.child.memoizedState=k1(i),e.memoizedState=b1,o);if(!(e.mode&1))return bu(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(U(419)),r=Bp(o,r,void 0),bu(t,e,i,r)}if(a=(i&t.childLanes)!==0,hn||a){if(r=_t,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,qr(t,s),Xn(r,t,s,-1))}return R0(),r=Bp(Error(U(421))),bu(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=yT.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,bn=Ns(s.nextSibling),En=e,Ue=!0,Qn=null,t!==null&&(On[Dn++]=Pr,On[Dn++]=jr,On[Dn++]=Ro,Pr=t.id,jr=t.overflow,Ro=e),e=T0(e,r.children),e.flags|=4096,e)}function X_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),y1(t.return,e,n)}function Up(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function r4(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(Xt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X_(t,n,e);else if(t.tag===19)X_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ne(qe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Md(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Up(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Md(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Up(e,!0,n,null,o);break;case"together":Up(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Rs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oT(t,e,n){switch(e.tag){case 3:t4(e),ta();break;case 5:N5(e);break;case 1:pn(e.type)&&Pd(e);break;case 4:_0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ne(Ld,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ne(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?n4(t,e,n):(Ne(qe,qe.current&1),t=Wr(t,e,n),t!==null?t.sibling:null);Ne(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return r4(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ne(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,J5(t,e,n)}return Wr(t,e,n)}var s4,S1,o4,i4;s4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};S1=function(){};o4=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,vo(mr.current);var o=null;switch(n){case"input":s=Gm(t,s),r=Gm(t,r),o=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),o=[];break;case"textarea":s=Qm(t,s),r=Qm(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nd)}Xm(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Re("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};i4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ga(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iT(t,e,n){var r=e.pendingProps;switch(h0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return pn(e.type)&&Ad(),Pt(e),null;case 3:return r=e.stateNode,ra(),De(fn),De(Wt),x0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(R1(Qn),Qn=null))),S1(t,e),Pt(e),null;case 5:w0(e);var s=vo(Xl.current);if(n=e.type,t!==null&&e.stateNode!=null)o4(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Pt(e),null}if(t=vo(mr.current),xu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[cr]=e,r[Ql]=o,t=(e.mode&1)!==0,n){case"dialog":Re("cancel",r),Re("close",r);break;case"iframe":case"object":case"embed":Re("load",r);break;case"video":case"audio":for(s=0;s<cl.length;s++)Re(cl[s],r);break;case"source":Re("error",r);break;case"img":case"image":case"link":Re("error",r),Re("load",r);break;case"details":Re("toggle",r);break;case"input":a_(r,o),Re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Re("invalid",r);break;case"textarea":c_(r,o),Re("invalid",r)}Xm(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&wu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&wu(r.textContent,a,t),s=["children",""+a]):Bl.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Re("scroll",r)}switch(n){case"input":hu(r),l_(r,o,!0);break;case"textarea":hu(r),u_(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Nd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=LC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[cr]=e,t[Ql]=r,s4(t,e,!1,!1),e.stateNode=t;e:{switch(i=Jm(n,r),n){case"dialog":Re("cancel",t),Re("close",t),s=r;break;case"iframe":case"object":case"embed":Re("load",t),s=r;break;case"video":case"audio":for(s=0;s<cl.length;s++)Re(cl[s],t);s=r;break;case"source":Re("error",t),s=r;break;case"img":case"image":case"link":Re("error",t),Re("load",t),s=r;break;case"details":Re("toggle",t),s=r;break;case"input":a_(t,r),s=Gm(t,r),Re("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Re("invalid",t);break;case"textarea":c_(t,r),s=Qm(t,r),Re("invalid",t);break;default:s=r}Xm(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?MC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&OC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ul(t,l):typeof l=="number"&&Ul(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bl.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Re("scroll",t):l!=null&&Zg(t,o,l,i))}switch(n){case"input":hu(t),l_(t,r,!1);break;case"textarea":hu(t),u_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fs(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?$i(t,!!r.multiple,o,!1):r.defaultValue!=null&&$i(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Nd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)i4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=vo(Xl.current),vo(mr.current),xu(e)){if(r=e.stateNode,n=e.memoizedProps,r[cr]=e,(o=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:wu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=e,e.stateNode=r}return Pt(e),null;case 13:if(De(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&bn!==null&&e.mode&1&&!(e.flags&128))k5(),ta(),e.flags|=98560,o=!1;else if(o=xu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[cr]=e}else ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),o=!1}else Qn!==null&&(R1(Qn),Qn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?ft===0&&(ft=3):R0())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return ra(),S1(t,e),t===null&&Kl(e.stateNode.containerInfo),Pt(e),null;case 10:return g0(e.type._context),Pt(e),null;case 17:return pn(e.type)&&Ad(),Pt(e),null;case 19:if(De(qe),o=e.memoizedState,o===null)return Pt(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Ga(o,!1);else{if(ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Md(t),i!==null){for(e.flags|=128,Ga(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ne(qe,qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&st()>oa&&(e.flags|=128,r=!0,Ga(o,!1),e.lanes=4194304)}else{if(!r)if(t=Md(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ga(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ue)return Pt(e),null}else 2*st()-o.renderingStartTime>oa&&n!==1073741824&&(e.flags|=128,r=!0,Ga(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=st(),e.sibling=null,n=qe.current,Ne(qe,r?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return j0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function aT(t,e){switch(h0(e),e.tag){case 1:return pn(e.type)&&Ad(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ra(),De(fn),De(Wt),x0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return w0(e),null;case 13:if(De(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(qe),null;case 4:return ra(),null;case 10:return g0(e.type._context),null;case 22:case 23:return j0(),null;case 24:return null;default:return null}}var ku=!1,Dt=!1,lT=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(t,e,r)}else n.current=null}function E1(t,e,n){try{n()}catch(r){et(t,e,r)}}var J_=!1;function cT(t,e){if(c1=Ed,t=d5(),u0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=i),f===o&&++d===r&&(l=i),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(u1={focusedElem:t,selectionRange:n},Ed=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,C=v.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Gn(e.type,w),C);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(x){et(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return v=J_,J_=!1,v}function Sl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&E1(e,n,o)}s=s.next}while(s!==r)}}function Qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function T1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function a4(t){var e=t.alternate;e!==null&&(t.alternate=null,a4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cr],delete e[Ql],delete e[f1],delete e[qE],delete e[WE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function l4(t){return t.tag===5||t.tag===3||t.tag===4}function e2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function I1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nd));else if(r!==4&&(t=t.child,t!==null))for(I1(t,e,n),t=t.sibling;t!==null;)I1(t,e,n),t=t.sibling}function N1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(N1(t,e,n),t=t.sibling;t!==null;)N1(t,e,n),t=t.sibling}var Ct=null,Kn=!1;function ss(t,e,n){for(n=n.child;n!==null;)c4(t,e,n),n=n.sibling}function c4(t,e,n){if(pr&&typeof pr.onCommitFiberUnmount=="function")try{pr.onCommitFiberUnmount(Vh,n)}catch{}switch(n.tag){case 5:Dt||Ai(n,e);case 6:var r=Ct,s=Kn;Ct=null,ss(t,e,n),Ct=r,Kn=s,Ct!==null&&(Kn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Kn?(t=Ct,n=n.stateNode,t.nodeType===8?Lp(t.parentNode,n):t.nodeType===1&&Lp(t,n),ql(t)):Lp(Ct,n.stateNode));break;case 4:r=Ct,s=Kn,Ct=n.stateNode.containerInfo,Kn=!0,ss(t,e,n),Ct=r,Kn=s;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&E1(n,e,i),s=s.next}while(s!==r)}ss(t,e,n);break;case 1:if(!Dt&&(Ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){et(n,e,a)}ss(t,e,n);break;case 21:ss(t,e,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,ss(t,e,n),Dt=r):ss(t,e,n);break;default:ss(t,e,n)}}function t2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new lT),e.forEach(function(r){var s=vT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Ct=a.stateNode,Kn=!1;break e;case 3:Ct=a.stateNode.containerInfo,Kn=!0;break e;case 4:Ct=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(Ct===null)throw Error(U(160));c4(o,i,s),Ct=null,Kn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){et(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)u4(e,t),e=e.sibling}function u4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),sr(t),r&4){try{Sl(3,t,t.return),Qh(3,t)}catch(w){et(t,t.return,w)}try{Sl(5,t,t.return)}catch(w){et(t,t.return,w)}}break;case 1:Hn(e,t),sr(t),r&512&&n!==null&&Ai(n,n.return);break;case 5:if(Hn(e,t),sr(t),r&512&&n!==null&&Ai(n,n.return),t.flags&32){var s=t.stateNode;try{Ul(s,"")}catch(w){et(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&jC(s,o),Jm(a,i);var c=Jm(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?MC(s,h):d==="dangerouslySetInnerHTML"?OC(s,h):d==="children"?Ul(s,h):Zg(s,d,h,c)}switch(a){case"input":Km(s,o);break;case"textarea":RC(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?$i(s,!!o.multiple,m,!1):f!==!!o.multiple&&(o.defaultValue!=null?$i(s,!!o.multiple,o.defaultValue,!0):$i(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ql]=o}catch(w){et(t,t.return,w)}}break;case 6:if(Hn(e,t),sr(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(w){et(t,t.return,w)}}break;case 3:if(Hn(e,t),sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(e.containerInfo)}catch(w){et(t,t.return,w)}break;case 4:Hn(e,t),sr(t);break;case 13:Hn(e,t),sr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(A0=st())),r&4&&t2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(c=Dt)||d,Hn(e,t),Dt=c):Hn(e,t),sr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(f=Y,m=f.child,f.tag){case 0:case 11:case 14:case 15:Sl(4,f,f.return);break;case 1:Ai(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){et(r,n,w)}}break;case 5:Ai(f,f.return);break;case 22:if(f.memoizedState!==null){r2(h);continue}}m!==null?(m.return=f,Y=m):r2(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DC("display",i))}catch(w){et(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){et(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Hn(e,t),sr(t),r&4&&t2(t);break;case 21:break;default:Hn(e,t),sr(t)}}function sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(l4(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ul(s,""),r.flags&=-33);var o=e2(t);N1(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=e2(t);I1(t,a,i);break;default:throw Error(U(161))}}catch(l){et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uT(t,e,n){Y=t,d4(t)}function d4(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ku;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Dt;a=ku;var c=Dt;if(ku=i,(Dt=l)&&!c)for(Y=s;Y!==null;)i=Y,l=i.child,i.tag===22&&i.memoizedState!==null?s2(s):l!==null?(l.return=i,Y=l):s2(s);for(;o!==null;)Y=o,d4(o),o=o.sibling;Y=s,ku=a,Dt=c}n2(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Y=o):n2(t)}}function n2(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||Qh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&B_(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}B_(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ql(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Dt||e.flags&512&&T1(e)}catch(f){et(e,e.return,f)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function r2(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function s2(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qh(4,e)}catch(l){et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){et(e,s,l)}}var o=e.return;try{T1(e)}catch(l){et(e,o,l)}break;case 5:var i=e.return;try{T1(e)}catch(l){et(e,i,l)}}}catch(l){et(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var dT=Math.ceil,Bd=ts.ReactCurrentDispatcher,I0=ts.ReactCurrentOwner,Fn=ts.ReactCurrentBatchConfig,we=0,_t=null,lt=null,Et=0,xn=0,Pi=Ys(0),ft=0,nc=null,Oo=0,Zh=0,N0=0,El=null,cn=null,A0=0,oa=1/0,Tr=null,Ud=!1,A1=null,Ps=null,Su=!1,bs=null,Vd=0,Tl=0,P1=null,sd=-1,od=0;function tn(){return we&6?st():sd!==-1?sd:sd=st()}function js(t){return t.mode&1?we&2&&Et!==0?Et&-Et:KE.transition!==null?(od===0&&(od=YC()),od):(t=Se,t!==0||(t=window.event,t=t===void 0?16:n5(t.type)),t):1}function Xn(t,e,n,r){if(50<Tl)throw Tl=0,P1=null,Error(U(185));Ic(t,n,r),(!(we&2)||t!==_t)&&(t===_t&&(!(we&2)&&(Zh|=n),ft===4&&gs(t,Et)),mn(t,r),n===1&&we===0&&!(e.mode&1)&&(oa=st()+500,Gh&&Qs()))}function mn(t,e){var n=t.callbackNode;K8(t,e);var r=Sd(t,t===_t?Et:0);if(r===0)n!==null&&f_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&f_(n),e===1)t.tag===0?GE(o2.bind(null,t)):x5(o2.bind(null,t)),zE(function(){!(we&6)&&Qs()}),n=null;else{switch(QC(r)){case 1:n=n0;break;case 4:n=GC;break;case 16:n=kd;break;case 536870912:n=KC;break;default:n=kd}n=_4(n,h4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h4(t,e){if(sd=-1,od=0,we&6)throw Error(U(327));var n=t.callbackNode;if(zi()&&t.callbackNode!==n)return null;var r=Sd(t,t===_t?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zd(t,r);else{e=r;var s=we;we|=2;var o=p4();(_t!==t||Et!==e)&&(Tr=null,oa=st()+500,ko(t,e));do try{pT();break}catch(a){f4(t,a)}while(!0);m0(),Bd.current=o,we=s,lt!==null?e=0:(_t=null,Et=0,e=ft)}if(e!==0){if(e===2&&(s=s1(t),s!==0&&(r=s,e=j1(t,s))),e===1)throw n=nc,ko(t,0),gs(t,r),mn(t,st()),n;if(e===6)gs(t,r);else{if(s=t.current.alternate,!(r&30)&&!hT(s)&&(e=zd(t,r),e===2&&(o=s1(t),o!==0&&(r=o,e=j1(t,o))),e===1))throw n=nc,ko(t,0),gs(t,r),mn(t,st()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:lo(t,cn,Tr);break;case 3:if(gs(t,r),(r&130023424)===r&&(e=A0+500-st(),10<e)){if(Sd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=h1(lo.bind(null,t,cn,Tr),e);break}lo(t,cn,Tr);break;case 4:if(gs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-Zn(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=st()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dT(r/1960))-r,10<r){t.timeoutHandle=h1(lo.bind(null,t,cn,Tr),r);break}lo(t,cn,Tr);break;case 5:lo(t,cn,Tr);break;default:throw Error(U(329))}}}return mn(t,st()),t.callbackNode===n?h4.bind(null,t):null}function j1(t,e){var n=El;return t.current.memoizedState.isDehydrated&&(ko(t,e).flags|=256),t=zd(t,e),t!==2&&(e=cn,cn=n,e!==null&&R1(e)),t}function R1(t){cn===null?cn=t:cn.push.apply(cn,t)}function hT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Jn(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gs(t,e){for(e&=~N0,e&=~Zh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zn(e),r=1<<n;t[n]=-1,e&=~r}}function o2(t){if(we&6)throw Error(U(327));zi();var e=Sd(t,0);if(!(e&1))return mn(t,st()),null;var n=zd(t,e);if(t.tag!==0&&n===2){var r=s1(t);r!==0&&(e=r,n=j1(t,r))}if(n===1)throw n=nc,ko(t,0),gs(t,e),mn(t,st()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lo(t,cn,Tr),mn(t,st()),null}function P0(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(oa=st()+500,Gh&&Qs())}}function Do(t){bs!==null&&bs.tag===0&&!(we&6)&&zi();var e=we;we|=1;var n=Fn.transition,r=Se;try{if(Fn.transition=null,Se=1,t)return t()}finally{Se=r,Fn.transition=n,we=e,!(we&6)&&Qs()}}function j0(){xn=Pi.current,De(Pi)}function ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VE(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(h0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ad();break;case 3:ra(),De(fn),De(Wt),x0();break;case 5:w0(r);break;case 4:ra();break;case 13:De(qe);break;case 19:De(qe);break;case 10:g0(r.type._context);break;case 22:case 23:j0()}n=n.return}if(_t=t,lt=t=Rs(t.current,null),Et=xn=e,ft=0,nc=null,N0=Zh=Oo=0,cn=El=null,yo!==null){for(e=0;e<yo.length;e++)if(n=yo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}yo=null}return t}function f4(t,e){do{var n=lt;try{if(m0(),td.current=Fd,$d){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$d=!1}if(Lo=0,vt=dt=Ge=null,kl=!1,Jl=0,I0.current=null,n===null||n.return===null){ft=1,nc=e,lt=null;break}e:{var o=t,i=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=W_(i);if(m!==null){m.flags&=-257,G_(m,i,a,o,e),m.mode&1&&q_(o,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){q_(o,c,e),R0();break e}l=Error(U(426))}}else if(Ue&&a.mode&1){var C=W_(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),G_(C,i,a,o,e),f0(sa(l,a));break e}}o=l=sa(l,a),ft!==4&&(ft=2),El===null?El=[o]:El.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=Q5(o,l,e);F_(o,_);break e;case 1:a=l;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ps===null||!Ps.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=Z5(o,a,e);F_(o,x);break e}}o=o.return}while(o!==null)}g4(n)}catch(b){e=b,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function p4(){var t=Bd.current;return Bd.current=Fd,t===null?Fd:t}function R0(){(ft===0||ft===3||ft===2)&&(ft=4),_t===null||!(Oo&268435455)&&!(Zh&268435455)||gs(_t,Et)}function zd(t,e){var n=we;we|=2;var r=p4();(_t!==t||Et!==e)&&(Tr=null,ko(t,e));do try{fT();break}catch(s){f4(t,s)}while(!0);if(m0(),we=n,Bd.current=r,lt!==null)throw Error(U(261));return _t=null,Et=0,ft}function fT(){for(;lt!==null;)m4(lt)}function pT(){for(;lt!==null&&!F8();)m4(lt)}function m4(t){var e=v4(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?g4(t):lt=e,I0.current=null}function g4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=aT(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ft=6,lt=null;return}}else if(n=iT(n,e,xn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);ft===0&&(ft=5)}function lo(t,e,n){var r=Se,s=Fn.transition;try{Fn.transition=null,Se=1,mT(t,e,n,r)}finally{Fn.transition=s,Se=r}return null}function mT(t,e,n,r){do zi();while(bs!==null);if(we&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Y8(t,o),t===_t&&(lt=_t=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Su||(Su=!0,_4(kd,function(){return zi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Fn.transition,Fn.transition=null;var i=Se;Se=1;var a=we;we|=4,I0.current=null,cT(t,n),u4(n,t),OE(u1),Ed=!!c1,u1=c1=null,t.current=n,uT(n),B8(),we=a,Se=i,Fn.transition=o}else t.current=n;if(Su&&(Su=!1,bs=t,Vd=s),o=t.pendingLanes,o===0&&(Ps=null),z8(n.stateNode),mn(t,st()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ud)throw Ud=!1,t=A1,A1=null,t;return Vd&1&&t.tag!==0&&zi(),o=t.pendingLanes,o&1?t===P1?Tl++:(Tl=0,P1=t):Tl=0,Qs(),null}function zi(){if(bs!==null){var t=QC(Vd),e=Fn.transition,n=Se;try{if(Fn.transition=null,Se=16>t?16:t,bs===null)var r=!1;else{if(t=bs,bs=null,Vd=0,we&6)throw Error(U(331));var s=we;for(we|=4,Y=t.current;Y!==null;){var o=Y,i=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Sl(8,d,o)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var f=d.sibling,m=d.return;if(a4(d),d===c){Y=null;break}if(f!==null){f.return=m,Y=f;break}Y=m}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}Y=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Y=i;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Sl(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Y=_;break e}Y=o.return}}var g=t.current;for(Y=g;Y!==null;){i=Y;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Y=y;else e:for(i=g;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qh(9,a)}}catch(b){et(a,a.return,b)}if(a===i){Y=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Y=x;break e}Y=a.return}}if(we=s,Qs(),pr&&typeof pr.onPostCommitFiberRoot=="function")try{pr.onPostCommitFiberRoot(Vh,t)}catch{}r=!0}return r}finally{Se=n,Fn.transition=e}}return!1}function i2(t,e,n){e=sa(n,e),e=Q5(t,e,1),t=As(t,e,1),e=tn(),t!==null&&(Ic(t,1,e),mn(t,e))}function et(t,e,n){if(t.tag===3)i2(t,t,n);else for(;e!==null;){if(e.tag===3){i2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ps===null||!Ps.has(r))){t=sa(n,t),t=Z5(e,t,1),e=As(e,t,1),t=tn(),e!==null&&(Ic(e,1,t),mn(e,t));break}}e=e.return}}function gT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Et&n)===n&&(ft===4||ft===3&&(Et&130023424)===Et&&500>st()-A0?ko(t,0):N0|=n),mn(t,e)}function y4(t,e){e===0&&(t.mode&1?(e=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):e=1);var n=tn();t=qr(t,e),t!==null&&(Ic(t,e,n),mn(t,n))}function yT(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),y4(t,n)}function vT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),y4(t,n)}var v4;v4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,oT(t,e,n);hn=!!(t.flags&131072)}else hn=!1,Ue&&e.flags&1048576&&C5(e,Rd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rd(t,e),t=e.pendingProps;var s=ea(e,Wt.current);Vi(e,n),s=b0(null,e,r,t,s,n);var o=k0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pn(r)?(o=!0,Pd(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,v0(e),s.updater=Yh,e.stateNode=s,s._reactInternals=e,_1(e,r,t,n),e=C1(null,e,r,!0,o,n)):(e.tag=0,Ue&&o&&d0(e),Xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wT(r),t=Gn(r,t),s){case 0:e=x1(null,e,r,t,n);break e;case 1:e=Q_(null,e,r,t,n);break e;case 11:e=K_(null,e,r,t,n);break e;case 14:e=Y_(null,e,r,Gn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),x1(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),Q_(t,e,r,s,n);case 3:e:{if(t4(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,s=o.element,I5(t,e),Dd(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=sa(Error(U(423)),e),e=Z_(t,e,r,n,s);break e}else if(r!==s){s=sa(Error(U(424)),e),e=Z_(t,e,r,n,s);break e}else for(bn=Ns(e.stateNode.containerInfo.firstChild),En=e,Ue=!0,Qn=null,n=E5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),r===s){e=Wr(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return N5(e),t===null&&g1(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,d1(r,s)?i=null:o!==null&&d1(r,o)&&(e.flags|=32),e4(t,e),Xt(t,e,i,n),e.child;case 6:return t===null&&g1(e),null;case 13:return n4(t,e,n);case 4:return _0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=na(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),K_(t,e,r,s,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,Ne(Ld,r._currentValue),r._currentValue=i,o!==null)if(Jn(o.value,i)){if(o.children===s.children&&!fn.current){e=Wr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Mr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),y1(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(U(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),y1(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Vi(e,n),s=Un(s),r=r(s),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,s=Gn(r,e.pendingProps),s=Gn(r.type,s),Y_(t,e,r,s,n);case 15:return X5(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Gn(r,s),rd(t,e),e.tag=1,pn(r)?(t=!0,Pd(e)):t=!1,Vi(e,n),Y5(e,r,s),_1(e,r,s,n),C1(null,e,r,!0,t,n);case 19:return r4(t,e,n);case 22:return J5(t,e,n)}throw Error(U(156,e.tag))};function _4(t,e){return WC(t,e)}function _T(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new _T(t,e,n,r)}function L0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wT(t){if(typeof t=="function")return L0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jg)return 11;if(t===e0)return 14}return 2}function Rs(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function id(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")L0(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case xi:return So(n.children,s,o,e);case Xg:i=8,s|=8;break;case zm:return t=$n(12,n,e,s|2),t.elementType=zm,t.lanes=o,t;case Hm:return t=$n(13,n,e,s),t.elementType=Hm,t.lanes=o,t;case qm:return t=$n(19,n,e,s),t.elementType=qm,t.lanes=o,t;case NC:return Xh(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TC:i=10;break e;case IC:i=9;break e;case Jg:i=11;break e;case e0:i=14;break e;case us:i=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=$n(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function So(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function Xh(t,e,n,r){return t=$n(22,t,r,e),t.elementType=NC,t.lanes=n,t.stateNode={isHidden:!1},t}function Vp(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function zp(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bp(0),this.expirationTimes=bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function O0(t,e,n,r,s,o,i,a,l){return t=new xT(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=$n(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},v0(o),t}function CT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function w4(t){if(!t)return Bs;t=t._reactInternals;e:{if(Qo(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(pn(n))return w5(t,n,e)}return e}function x4(t,e,n,r,s,o,i,a,l){return t=O0(n,r,!0,t,s,o,i,a,l),t.context=w4(null),n=t.current,r=tn(),s=js(n),o=Mr(r,s),o.callback=e??null,As(n,o,s),t.current.lanes=s,Ic(t,s,r),mn(t,r),t}function Jh(t,e,n,r){var s=e.current,o=tn(),i=js(s);return n=w4(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=As(s,e,i),t!==null&&(Xn(t,s,i,o),ed(t,s,i)),i}function Hd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function D0(t,e){a2(t,e),(t=t.alternate)&&a2(t,e)}function bT(){return null}var C4=typeof reportError=="function"?reportError:function(t){console.error(t)};function M0(t){this._internalRoot=t}ef.prototype.render=M0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Jh(t,e,null,null)};ef.prototype.unmount=M0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Do(function(){Jh(null,t,null,null)}),e[Hr]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=JC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ms.length&&e!==0&&e<ms[n].priority;n++);ms.splice(n,0,t),n===0&&t5(t)}};function $0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function l2(){}function kT(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=Hd(i);o.call(c)}}var i=x4(e,r,t,0,null,!1,!1,"",l2);return t._reactRootContainer=i,t[Hr]=i.current,Kl(t.nodeType===8?t.parentNode:t),Do(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Hd(l);a.call(c)}}var l=O0(t,0,!1,null,null,!1,!1,"",l2);return t._reactRootContainer=l,t[Hr]=l.current,Kl(t.nodeType===8?t.parentNode:t),Do(function(){Jh(e,l,n,r)}),l}function nf(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Hd(i);a.call(l)}}Jh(e,i,t,s)}else i=kT(n,e,t,s,r);return Hd(i)}ZC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ll(e.pendingLanes);n!==0&&(r0(e,n|1),mn(e,st()),!(we&6)&&(oa=st()+500,Qs()))}break;case 13:Do(function(){var r=qr(t,1);if(r!==null){var s=tn();Xn(r,t,1,s)}}),D0(t,1)}};s0=function(t){if(t.tag===13){var e=qr(t,134217728);if(e!==null){var n=tn();Xn(e,t,134217728,n)}D0(t,134217728)}};XC=function(t){if(t.tag===13){var e=js(t),n=qr(t,e);if(n!==null){var r=tn();Xn(n,t,e,r)}D0(t,e)}};JC=function(){return Se};e5=function(t,e){var n=Se;try{return Se=t,e()}finally{Se=n}};t1=function(t,e,n){switch(e){case"input":if(Km(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wh(r);if(!s)throw Error(U(90));PC(r),Km(r,s)}}}break;case"textarea":RC(t,n);break;case"select":e=n.value,e!=null&&$i(t,!!n.multiple,e,!1)}};BC=P0;UC=Do;var ST={usingClientEntryPoint:!1,Events:[Ac,Si,Wh,$C,FC,P0]},Ka={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ET={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=HC(t),t===null?null:t.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||bT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{Vh=Eu.inject(ET),pr=Eu}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ST;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$0(e))throw Error(U(200));return CT(t,e,null,n)};An.createRoot=function(t,e){if(!$0(t))throw Error(U(299));var n=!1,r="",s=C4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=O0(t,1,!1,null,null,n,!1,r,s),t[Hr]=e.current,Kl(t.nodeType===8?t.parentNode:t),new M0(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=HC(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Do(t)};An.hydrate=function(t,e,n){if(!tf(e))throw Error(U(200));return nf(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!$0(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=C4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=x4(e,null,t,1,n??null,s,!1,o,i),t[Hr]=e.current,Kl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ef(e)};An.render=function(t,e,n){if(!tf(e))throw Error(U(200));return nf(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!tf(t))throw Error(U(40));return t._reactRootContainer?(Do(function(){nf(null,null,t,!1,function(){t._reactRootContainer=null,t[Hr]=null})}),!0):!1};An.unstable_batchedUpdates=P0;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tf(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return nf(t,e,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function b4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b4)}catch(t){console.error(t)}}b4(),bC.exports=An;var TT=bC.exports;const IT=Bh(TT);/**
 * @remix-run/router v1.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}var ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ks||(ks={}));const c2="popstate";function NT(t){t===void 0&&(t={});function e(s,o){let{pathname:i="/",search:a="",hash:l=""}=Zo(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),L1("",{pathname:i,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof o=="string"?o:k4(o))}function r(s,o){F0(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return PT(e,n,r,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function F0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AT(){return Math.random().toString(36).substr(2,8)}function u2(t,e){return{usr:t.state,key:t.key,idx:e}}function L1(t,e,n,r){return n===void 0&&(n=null),rc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zo(e):e,{state:n,key:e&&e.key||r||AT()})}function k4(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function PT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=ks.Pop,l=null,c=d();c==null&&(c=0,i.replaceState(rc({},i.state,{idx:c}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=ks.Pop;let C=d(),_=C==null?null:C-c;c=C,l&&l({action:a,location:w.location,delta:_})}function f(C,_){a=ks.Push;let g=L1(w.location,C,_);n&&n(g,C),c=d()+1;let y=u2(g,c),x=w.createHref(g);try{i.pushState(y,"",x)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(x)}o&&l&&l({action:a,location:w.location,delta:1})}function m(C,_){a=ks.Replace;let g=L1(w.location,C,_);n&&n(g,C),c=d();let y=u2(g,c),x=w.createHref(g);i.replaceState(y,"",x),o&&l&&l({action:a,location:w.location,delta:0})}function v(C){let _=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof C=="string"?C:k4(C);return g=g.replace(/ $/,"%20"),pt(_,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,_)}let w={get action(){return a},get location(){return t(s,i)},listen(C){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(c2,h),l=C,()=>{s.removeEventListener(c2,h),l=null}},createHref(C){return e(s,C)},createURL:v,encodeLocation(C){let _=v(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(C){return i.go(C)}};return w}var d2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(d2||(d2={}));function jT(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Zo(e):e,s=T4(r.pathname||"/",n);if(s==null)return null;let o=S4(t);RT(o);let i=null;for(let a=0;i==null&&a<o.length;++a){let l=qT(s);i=VT(o[a],l)}return i}function S4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(pt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Eo([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),S4(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:BT(c,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of E4(o.path))s(o,i,l)}),e}function E4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=E4(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function RT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LT=/^:[\w-]+$/,OT=3,DT=2,MT=1,$T=10,FT=-2,h2=t=>t==="*";function BT(t,e){let n=t.split("/"),r=n.length;return n.some(h2)&&(r+=FT),e&&(r+=DT),n.filter(s=>!h2(s)).reduce((s,o)=>s+(LT.test(o)?OT:o===""?MT:$T),r)}function UT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function VT(t,e){let{routesMeta:n}=t,r={},s="/",o=[];for(let i=0;i<n.length;++i){let a=n[i],l=i===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=zT({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=a.route;o.push({params:r,pathname:Eo([s,d.pathname]),pathnameBase:ZT(Eo([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Eo([s,d.pathnameBase]))}return o}function zT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=HT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=a[h]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[h];return m&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:i,pattern:t}}function HT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),F0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function qT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return F0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function T4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Zo(t):t;return{pathname:n?n.startsWith("/")?n:GT(n,e):e,search:XT(r),hash:JT(s)}}function GT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YT(t,e){let n=KT(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QT(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Zo(t):(s=rc({},t),pt(!s.pathname||!s.pathname.includes("?"),Hp("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),Hp("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),Hp("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=WT(s,a),c=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Eo=t=>t.join("/").replace(/\/\/+/g,"/"),ZT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const I4=["post","put","patch","delete"];new Set(I4);const tI=["get",...I4];new Set(tI);/**
 * React Router v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}const B0=p.createContext(null),nI=p.createContext(null),rf=p.createContext(null),sf=p.createContext(null),Xo=p.createContext({outlet:null,matches:[],isDataRoute:!1}),N4=p.createContext(null);function of(){return p.useContext(sf)!=null}function U0(){return of()||pt(!1),p.useContext(sf).location}function A4(t){p.useContext(rf).static||p.useLayoutEffect(t)}function ye(){let{isDataRoute:t}=p.useContext(Xo);return t?mI():rI()}function rI(){of()||pt(!1);let t=p.useContext(B0),{basename:e,future:n,navigator:r}=p.useContext(rf),{matches:s}=p.useContext(Xo),{pathname:o}=U0(),i=JSON.stringify(YT(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return A4(()=>{a.current=!0}),p.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=QT(c,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Eo([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,i,o,t])}function ns(){let{matches:t}=p.useContext(Xo),e=t[t.length-1];return e?e.params:{}}function sI(t,e){return oI(t,e)}function oI(t,e,n,r){of()||pt(!1);let{navigator:s}=p.useContext(rf),{matches:o}=p.useContext(Xo),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let c=U0(),d;if(e){var h;let C=typeof e=="string"?Zo(e):e;l==="/"||(h=C.pathname)!=null&&h.startsWith(l)||pt(!1),d=C}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let C=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(C.length).join("/")}let v=jT(t,{pathname:m}),w=uI(v&&v.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:Eo([l,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:Eo([l,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,n,r);return e&&w?p.createElement(sf.Provider,{value:{location:sc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ks.Pop}},w):w}function iI(){let t=pI(),e=eI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const aI=p.createElement(iI,null);class lI extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Xo.Provider,{value:this.props.routeContext},p.createElement(N4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cI(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(B0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Xo.Provider,{value:e},r)}function uI(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||pt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||v){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,f)=>{let m,v=!1,w=null,C=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||aI,l&&(c<0&&f===0?(gI("route-fallback"),v=!0,C=null):c===f&&(v=!0,C=h.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,f+1)),g=()=>{let y;return m?y=w:v?y=C:h.route.Component?y=p.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,p.createElement(cI,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(lI,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:g(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):g()},null)}var P4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(P4||{}),j4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(j4||{});function dI(t){let e=p.useContext(B0);return e||pt(!1),e}function hI(t){let e=p.useContext(nI);return e||pt(!1),e}function fI(t){let e=p.useContext(Xo);return e||pt(!1),e}function R4(t){let e=fI(),n=e.matches[e.matches.length-1];return n.route.id||pt(!1),n.route.id}function pI(){var t;let e=p.useContext(N4),n=hI(),r=R4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function mI(){let{router:t}=dI(P4.UseNavigateStable),e=R4(j4.UseNavigateStable),n=p.useRef(!1);return A4(()=>{n.current=!0}),p.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,sc({fromRouteId:e},o)))},[t,e])}const f2={};function gI(t,e,n){f2[t]||(f2[t]=!0)}function O1(t){pt(!1)}function yI(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ks.Pop,navigator:o,static:i=!1,future:a}=t;of()&&pt(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:o,static:i,future:sc({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=Zo(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:v="default"}=r,w=p.useMemo(()=>{let C=T4(d,l);return C==null?null:{location:{pathname:C,search:h,hash:f,state:m,key:v},navigationType:s}},[l,d,h,f,m,v,s]);return w==null?null:p.createElement(rf.Provider,{value:c},p.createElement(sf.Provider,{children:n,value:w}))}function vI(t){let{children:e,location:n}=t;return sI(D1(e),n)}new Promise(()=>{});function D1(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let o=[...e,s];if(r.type===p.Fragment){n.push.apply(n,D1(r.props.children,o));return}r.type!==O1&&pt(!1),!r.props.index||!r.props.children||pt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=D1(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M1(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function _I(t,e){let n=M1(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(o=>{n.append(s,o)})}),n}const wI="6";try{window.__reactRouterVersion=wI}catch{}const xI="startTransition",p2=g8[xI];function CI(t){let{basename:e,children:n,future:r,window:s}=t,o=p.useRef();o.current==null&&(o.current=NT({window:s,v5Compat:!0}));let i=o.current,[a,l]=p.useState({action:i.action,location:i.location}),{v7_startTransition:c}=r||{},d=p.useCallback(h=>{c&&p2?p2(()=>l(h)):l(h)},[l,c]);return p.useLayoutEffect(()=>i.listen(d),[i,d]),p.createElement(yI,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var m2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(m2||(m2={}));var g2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(g2||(g2={}));function bI(t){let e=p.useRef(M1(t)),n=p.useRef(!1),r=U0(),s=p.useMemo(()=>_I(r.search,n.current?null:e.current),[r.search]),o=ye(),i=p.useCallback((a,l)=>{const c=M1(typeof a=="function"?a(s):a);n.current=!0,o("?"+c,l)},[o,s]);return[s,i]}const kI="_container_1a1ax_1",SI={container:kI},EI="_container_1k8xw_1",TI="_loader_1k8xw_12",y2={container:EI,loader:TI},v2={default:{name:"default",icon_color:"#0040F9",first_color:"#0040F9",second_color:"#C3F82B",third_color:"#FF4365",gradient_first_color:"#0040F9",gradient_second_color:"#C3F82B",light_color:"#C3F82B",block_first_color:"#0040F9",block_second_color:"#C3F82B",block_third_color:"#FF4365",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#0A0B10",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},genery:{name:"genery",icon_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",gradient_first_color:"#2400FF",gradient_second_color:"#00C2FF",light_color:"#C3F82B",block_first_color:"linear-gradient(70deg, #2400FF 0%, #00C2FF 100%)",block_second_color:"linear-gradient(70deg, #C3F82B 0%, #00FF66 100%)",block_third_color:"linear-gradient(70deg, #FF4365 0%, #AD00FF 100%)",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#0A0B10",shadow_color:"#10232f12",loader_first_color:"#444453",loader_second_color:"#2D2D37",text_first_color:"#FFFFFF",text_second_color:"#0A0B10",text_third_color:"#FFFFFF",arrow_background_color:"#131318",element_first_color:"#1C1C23",element_second_color:"#3A3A47",active_element_color:"#1D1D22",casino_first_color:"#007350",casino_second_color:"#730015",casino_third_color:"#030001",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},kyrgyzstan:{name:"kyrgyzstan",icon_color:"#E3010F",first_color:"#FEF400",second_color:"#E3010F",third_color:"#FEF400",gradient_first_color:"#FEF400",gradient_second_color:"#E3010F",light_color:"#C3F82B",block_first_color:"#E3010F",block_second_color:"#FEF400",block_third_color:"#FEF400",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#DEDDDD",loader_second_color:"#A6A6A6",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#A6A6A6",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"},winter_2024:{name:"winter_2024",icon_color:"#85B6FF",first_color:"#85AFED",second_color:"#A7C0E5",third_color:"#A7C0E5",gradient_first_color:"#85AFED",gradient_second_color:"#CBE0FF",light_color:"green",block_first_color:"#85AFED",block_second_color:"#A7C0E5",block_third_color:"#CBE0FF",block_border_color:"none",block_arrow_first_color:"none",block_arrow_second_color:"none",block_arrow_third_color:"none",background_color:"#FCFCFC",shadow_color:"#10232f12",loader_first_color:"#85AFED",loader_second_color:"#CBE0FF",text_first_color:"#0A0B10",text_second_color:"#0A0B10",text_third_color:"#A6A6A6",arrow_background_color:"#131318",element_first_color:"#DEDDDD",element_second_color:"#ECECEC",active_element_color:"#ECECEC",casino_first_color:"#2FDBA7",casino_second_color:"#DB2F2F",casino_third_color:"#717171",casino_wheel_first_color:"#1C1C23",casino_wheel_second_color:"#25252F"}},B=p.createContext();function II({children:t}){const e=localStorage.getItem("theme")||"default",[n,r]=p.useState(e);p.useEffect(()=>{localStorage.setItem("theme",n)},[n]);const s=a=>{v2[a]&&r(a)},[o,i]=p.useState({iconColor:"#000000",titleColor:"#000000",arrowColor:"#000000",backgroundColor:"#FFFFFF",activeButton:1});return u.jsx(B.Provider,{value:{theme:v2[n],setThemeById:s,elementColors:o,setElementColors:i},children:t})}function L4({color:t}){const{theme:e,elementColors:n,setElementColors:r}=p.useContext(B);return p.useEffect(()=>{r({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowColor:e.text_first_color,arrowLink:"#/menu",isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!1,isFooter:!1,footerBackground:e.background_color,activeElementIndex:2}),document.body.style.background=e.background_color},[e]),u.jsx("div",{className:y2.container,children:u.jsx("div",{className:y2.loader,children:u.jsx("svg",{width:"50",height:"73",viewBox:"0 0 50 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M39.7767 0.312248C40.2216 0.571102 40.5658 0.973727 40.7532 1.45435C40.9407 1.93497 40.9601 2.46517 40.8085 2.95835L32.6225 29.6566H47.7265C48.1703 29.6564 48.6045 29.7867 48.9755 30.0314C49.3464 30.2761 49.6379 30.6244 49.8138 31.0334C49.9898 31.4425 50.0425 31.8942 49.9656 32.333C49.8887 32.7718 49.6854 33.1784 49.3809 33.5025L13.0186 72.2816C12.6668 72.6571 12.1986 72.902 11.6904 72.9762C11.1821 73.0505 10.6638 72.9497 10.2199 72.6905C9.77606 72.4312 9.43275 72.0286 9.24599 71.5484C9.05922 71.0682 9.04001 70.5387 9.19148 70.0461L17.3776 43.3433H2.27355C1.82968 43.3435 1.39547 43.2132 1.02453 42.9685C0.653591 42.7238 0.362153 42.3755 0.186196 41.9665C0.0102386 41.5574 -0.0425346 41.1056 0.0343904 40.6668C0.111315 40.2281 0.31457 39.8215 0.619066 39.4973L36.9814 0.718287C37.3328 0.343267 37.8003 0.0985916 38.3078 0.0240443C38.8153 -0.0505029 39.333 0.0494621 39.7767 0.307685V0.312248Z",fill:t})})})})}var _2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},NI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],l=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},D4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,i||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||c==null||h==null)throw new AI;const f=o<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PI=function(t){const e=O4(t);return D4.encodeByteArray(e,!0)},qd=function(t){return PI(t).replace(/\./g,"")},M4=function(t){try{return D4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=()=>jI().__FIREBASE_DEFAULTS__,LI=()=>{if(typeof process>"u"||typeof _2>"u")return;const t=_2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&M4(t[1]);return e&&JSON.parse(e)},af=()=>{try{return RI()||LI()||OI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$4=t=>{var e,n;return(n=(e=af())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},F4=t=>{const e=$4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},B4=()=>{var t;return(t=af())===null||t===void 0?void 0:t.config},U4=t=>{var e;return(e=af())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qd(JSON.stringify(n)),qd(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function $I(){var t;const e=(t=af())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UI(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function VI(){try{return typeof indexedDB=="object"}catch{return!1}}function zI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="FirebaseError";class Sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HI,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?qI(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Sr(s,a,r)}}function qI(t,e){return t.replace(WI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const WI=/\{\$([^}]+)}/g;function GI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(w2(o)&&w2(i)){if(!Wd(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function w2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function dl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function KI(t,e){const n=new YI(t,e);return n.subscribe.bind(n)}class YI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QI(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=qp),s.error===void 0&&(s.error=qp),s.complete===void 0&&(s.complete=qp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new DI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JI(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const i=this.instances.get(s);return i&&e(i,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XI(t){return t===co?void 0:t}function JI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const tN={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},nN=xe.INFO,rN={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},sN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=rN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=nN,this._logHandler=sN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const oN=(t,e)=>e.some(n=>t instanceof n);let x2,C2;function iN(){return x2||(x2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aN(){return C2||(C2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z4=new WeakMap,$1=new WeakMap,H4=new WeakMap,Wp=new WeakMap,z0=new WeakMap;function lN(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Ls(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&z4.set(n,t)}).catch(()=>{}),z0.set(e,t),e}function cN(t){if($1.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});$1.set(t,e)}let F1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uN(t){F1=t(F1)}function dN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gp(this),e,...n);return H4.set(r,e.sort?e.sort():[e]),Ls(r)}:aN().includes(t)?function(...e){return t.apply(Gp(this),e),Ls(z4.get(this))}:function(...e){return Ls(t.apply(Gp(this),e))}}function hN(t){return typeof t=="function"?dN(t):(t instanceof IDBTransaction&&cN(t),oN(t,iN())?new Proxy(t,F1):t)}function Ls(t){if(t instanceof IDBRequest)return lN(t);if(Wp.has(t))return Wp.get(t);const e=hN(t);return e!==t&&(Wp.set(t,e),z0.set(e,t)),e}const Gp=t=>z0.get(t);function fN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Ls(i);return r&&i.addEventListener("upgradeneeded",l=>{r(Ls(i.result),l.oldVersion,l.newVersion,Ls(i.transaction),l)}),n&&i.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const pN=["get","getKey","getAll","getAllKeys","count"],mN=["put","add","delete","clear"],Kp=new Map;function b2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pN.includes(n)))return;const o=async function(i,...a){const l=this.transaction(i,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Kp.set(e,o),o}uN(t=>({...t,get:(e,n,r)=>b2(e,n)||t.get(e,n,r),has:(e,n)=>!!b2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const B1="@firebase/app",k2="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new V0("@firebase/app"),vN="@firebase/app-compat",_N="@firebase/analytics-compat",wN="@firebase/analytics",xN="@firebase/app-check-compat",CN="@firebase/app-check",bN="@firebase/auth",kN="@firebase/auth-compat",SN="@firebase/database",EN="@firebase/database-compat",TN="@firebase/functions",IN="@firebase/functions-compat",NN="@firebase/installations",AN="@firebase/installations-compat",PN="@firebase/messaging",jN="@firebase/messaging-compat",RN="@firebase/performance",LN="@firebase/performance-compat",ON="@firebase/remote-config",DN="@firebase/remote-config-compat",MN="@firebase/storage",$N="@firebase/storage-compat",FN="@firebase/firestore",BN="@firebase/firestore-compat",UN="firebase",VN="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="[DEFAULT]",zN={[B1]:"fire-core",[vN]:"fire-core-compat",[wN]:"fire-analytics",[_N]:"fire-analytics-compat",[CN]:"fire-app-check",[xN]:"fire-app-check-compat",[bN]:"fire-auth",[kN]:"fire-auth-compat",[SN]:"fire-rtdb",[EN]:"fire-rtdb-compat",[TN]:"fire-fn",[IN]:"fire-fn-compat",[NN]:"fire-iid",[AN]:"fire-iid-compat",[PN]:"fire-fcm",[jN]:"fire-fcm-compat",[RN]:"fire-perf",[LN]:"fire-perf-compat",[ON]:"fire-rc",[DN]:"fire-rc-compat",[MN]:"fire-gcs",[$N]:"fire-gcs-compat",[FN]:"fire-fst",[BN]:"fire-fst-compat","fire-js":"fire-js",[UN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Map,V1=new Map;function HN(t,e){try{t.container.addComponent(e)}catch(n){Mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $o(t){const e=t.name;if(V1.has(e))return Mo.debug(`There were multiple attempts to register component ${e}.`),!1;V1.set(e,t);for(const n of Gd.values())HN(n,t);return!0}function lf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Os=new jc("app","Firebase",qN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=VN;function q4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:U1,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Os.create("bad-app-name",{appName:String(s)});if(n||(n=B4()),!n)throw Os.create("no-options");const o=Gd.get(s);if(o){if(Wd(n,o.options)&&Wd(r,o.config))return o;throw Os.create("duplicate-app",{appName:s})}const i=new eN(s);for(const l of V1.values())i.addComponent(l);const a=new WN(n,r,i);return Gd.set(s,a),a}function H0(t=U1){const e=Gd.get(t);if(!e&&t===U1&&B4())return q4();if(!e)throw Os.create("no-app",{appName:t});return e}function gr(t,e,n){var r;let s=(r=zN[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),i=e.match(/\s|\//);if(o||i){const a=[`Unable to register library "${s}" with version "${e}":`];o&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mo.warn(a.join(" "));return}$o(new Us(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN="firebase-heartbeat-database",KN=1,oc="firebase-heartbeat-store";let Yp=null;function W4(){return Yp||(Yp=fN(GN,KN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oc)}}}).catch(t=>{throw Os.create("idb-open",{originalErrorMessage:t.message})})),Yp}async function YN(t){try{return await(await W4()).transaction(oc).objectStore(oc).get(G4(t))}catch(e){if(e instanceof Sr)Mo.warn(e.message);else{const n=Os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mo.warn(n.message)}}}async function S2(t,e){try{const r=(await W4()).transaction(oc,"readwrite");await r.objectStore(oc).put(e,G4(t)),await r.done}catch(n){if(n instanceof Sr)Mo.warn(n.message);else{const r=Os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Mo.warn(r.message)}}}function G4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=1024,ZN=30*24*60*60*1e3;class XN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=E2();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=ZN}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E2(),{heartbeatsToSend:n,unsentEntries:r}=JN(this._heartbeatsCache.heartbeats),s=qd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function E2(){return new Date().toISOString().substring(0,10)}function JN(t,e=QN){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),T2(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),T2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VI()?zI().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await YN(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return S2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return S2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function T2(t){return qd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){$o(new Us("platform-logger",e=>new gN(e),"PRIVATE")),$o(new Us("heartbeat",e=>new XN(e),"PRIVATE")),gr(B1,k2,t),gr(B1,k2,"esm2017"),gr("fire-js","")}tA("");function q0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function K4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nA=K4,Y4=new jc("auth","Firebase",K4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new V0("@firebase/auth");function rA(t,...e){Kd.logLevel<=xe.WARN&&Kd.warn(`Auth (${Jo}): ${t}`,...e)}function ad(t,...e){Kd.logLevel<=xe.ERROR&&Kd.error(`Auth (${Jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,...e){throw W0(t,...e)}function yr(t,...e){return W0(t,...e)}function sA(t,e,n){const r=Object.assign(Object.assign({},nA()),{[e]:n});return new jc("auth","Firebase",r).create(e,{appName:t.name})}function W0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Y4.create(t,...e)}function oe(t,e,...n){if(!t)throw W0(e,...n)}function Rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ad(e),new Error(e)}function Gr(t,e){t||Rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oA(){return I2()==="http:"||I2()==="https:"}function I2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oA()||FI()||"connection"in navigator)?navigator.onLine:!0}function aA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gr(n>e,"Short delay should be less than long delay!"),this.isMobile=MI()||BI()}get(){return iA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t,e){Gr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=new Lc(3e4,6e4);function Ia(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Na(t,e,n,r,s={}){return Z4(t,s,async()=>{let o={},i={};r&&(e==="GET"?i=r:o={body:JSON.stringify(r)});const a=Rc(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Q4.fetch()(X4(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function Z4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lA),e);try{const s=new uA(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const i=await o.json();if("needConfirmation"in i)throw Tu(t,"account-exists-with-different-credential",i);if(o.ok&&!("errorMessage"in i))return i;{const a=o.ok?i.errorMessage:i.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw Tu(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw Tu(t,"user-disabled",i);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw sA(t,d,c);er(t,d)}}catch(s){if(s instanceof Sr)throw s;er(t,"network-request-failed",{message:String(s)})}}async function Oc(t,e,n,r,s={}){const o=await Na(t,e,n,r,s);return"mfaPendingCredential"in o&&er(t,"multi-factor-auth-required",{_serverResponse:o}),o}function X4(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?G0(t.config,s):`${t.config.apiScheme}://${s}`}class uA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),cA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=yr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(t,e){return Na(t,"POST","/v1/accounts:delete",e)}async function hA(t,e){return Na(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fA(t,e=!1){const n=Ae(t),r=await n.getIdToken(e),s=K0(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,i=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:Il(Qp(s.auth_time)),issuedAtTime:Il(Qp(s.iat)),expirationTime:Il(Qp(s.exp)),signInProvider:i||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Qp(t){return Number(t)*1e3}function K0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{const s=M4(n);return s?JSON.parse(s):(ad("Failed to decode base64 JWT payload"),null)}catch(s){return ad("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function pA(t){const e=K0(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sr&&mA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function mA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ic(t,hA(n,{idToken:r}));oe(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const i=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?_A(o.providerUserInfo):[],a=vA(t.providerData,i),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new J4(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function yA(t){const e=Ae(t);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vA(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function _A(t){return t.map(e=>{var{providerId:n}=e,r=q0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(t,e){const n=await Z4(t,{},async()=>{const r=Rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,i=X4(t,s,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Q4.fetch()(i,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await wA(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,i=new ac;return r&&(oe(typeof r=="string","internal-error",{appName:e}),i.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),i.accessToken=s),o&&(oe(typeof o=="number","internal-error",{appName:e}),i.expirationTime=o),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ac,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class To{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=q0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new J4(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ic(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fA(this,e)}reload(){return yA(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new To(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ic(this,dA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,i,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(i=n.photoURL)!==null&&i!==void 0?i:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:x,isAnonymous:b,providerData:S,stsTokenManager:T}=n;oe(y&&T,e,"internal-error");const k=ac.fromJSON(this.name,T);oe(typeof y=="string",e,"internal-error"),os(h,e.name),os(f,e.name),oe(typeof x=="boolean",e,"internal-error"),oe(typeof b=="boolean",e,"internal-error"),os(m,e.name),os(v,e.name),os(w,e.name),os(C,e.name),os(_,e.name),os(g,e.name);const E=new To({uid:y,auth:e,email:f,emailVerified:x,displayName:h,isAnonymous:b,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:k,createdAt:_,lastLoginAt:g});return S&&Array.isArray(S)&&(E.providerData=S.map(N=>Object.assign({},N))),C&&(E._redirectEventId=C),E}static async _fromIdTokenResponse(e,n,r=!1){const s=new ac;s.updateFromServerResponse(n);const o=new To({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yd(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Map;function Lr(t){Gr(t instanceof Function,"Expected a class definition");let e=N2.get(t);return e?(Gr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eb.type="NONE";const A2=eb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t,e,n){return`firebase:${t}:${e}:${n}`}class Hi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=ld(this.userKey,s.apiKey,o),this.fullPersistenceKey=ld("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?To._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hi(Lr(A2),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=s[0]||Lr(A2);const i=ld(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(i);if(d){const h=To._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Hi(o,e,r):(o=l[0],a&&await o._set(i,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(i)}catch{}})),new Hi(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ob(e))return"Blackberry";if(ib(e))return"Webos";if(Y0(e))return"Safari";if((e.includes("chrome/")||nb(e))&&!e.includes("edge/"))return"Chrome";if(sb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tb(t=Gt()){return/firefox\//i.test(t)}function Y0(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nb(t=Gt()){return/crios\//i.test(t)}function rb(t=Gt()){return/iemobile/i.test(t)}function sb(t=Gt()){return/android/i.test(t)}function ob(t=Gt()){return/blackberry/i.test(t)}function ib(t=Gt()){return/webos/i.test(t)}function cf(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xA(t=Gt()){var e;return cf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CA(){return UI()&&document.documentMode===10}function ab(t=Gt()){return cf(t)||sb(t)||ib(t)||ob(t)||/windows phone/i.test(t)||rb(t)}function bA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t,e=[]){let n;switch(t){case"Browser":n=P2(Gt());break;case"Worker":n=`${P2(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}async function cb(t,e){return Na(t,"GET","/v2/recaptchaConfig",Ia(t,e))}function j2(t){return t!==void 0&&t.enterprise!==void 0}class ub{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function db(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=yr("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",kA().appendChild(r)})}function SA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const EA="https://www.google.com/recaptcha/enterprise.js?render=",TA="recaptcha-enterprise",IA="NO_RECAPTCHA";class hb{constructor(e){this.type=TA,this.auth=Aa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(i,a)=>{cb(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new ub(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,i(c.siteKey)}}).catch(l=>{a(l)})})}function s(o,i,a){const l=window.grecaptcha;j2(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{i(c)}).catch(()=>{i(IA)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,i)=>{r(this.auth).then(a=>{if(!n&&j2(window.grecaptcha))s(a,o,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}db(EA+a).then(()=>{s(a,o,i)}).catch(l=>{i(l)})}}).catch(a=>{i(a)})})}}async function Qd(t,e,n,r=!1){const s=new hb(t);let o;try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const i=Object.assign({},e);return r?Object.assign(i,{captchaResp:o}):Object.assign(i,{captchaResponse:o}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((i,a)=>{try{const l=e(o);i(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new R2(this),this.idTokenSubscription=new R2(this),this.beforeStateQueue=new NA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Y4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Hi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(s=l.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(i){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ae(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}async initializeRecaptchaConfig(){const e=await cb(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new ub(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new hb(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Hi.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n),i=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(i,this,"internal-error"),i.then(()=>o(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rA(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Aa(t){return Ae(t)}class R2{constructor(e){this.auth=e,this.observer=null,this.addObserver=KI(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t,e){const n=lf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Wd(o,e??{}))return s;er(s,"already-initialized")}return n.initialize({options:e})}function jA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RA(t,e,n){const r=Aa(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=fb(e),{host:i,port:a}=LA(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${i}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:i,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})}),OA()}function fb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LA(t){const e=fb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:L2(r.substr(o.length+1))}}else{const[o,i]=r.split(":");return{host:o,port:L2(i)}}}function L2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function OA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function DA(t,e){return Na(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(t,e){return Oc(t,"POST","/v1/accounts:signInWithPassword",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MA(t,e){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",Ia(t,e))}async function $A(t,e){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Q0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await Qd(e,r,"signInWithPassword");return Zp(e,s)}else return Zp(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const o=await Qd(e,r,"signInWithPassword");return Zp(e,o)}else return Promise.reject(s)});case"emailLink":return MA(e,{email:this._email,oobCode:this._password});default:er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return DA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return $A(e,{idToken:n,email:this._email,oobCode:this._password});default:er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qi(t,e){return Oc(t,"POST","/v1/accounts:signInWithIdp",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="http://localhost";class Fo extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=q0(n,["providerId","signInMethod"]);if(!r||!s)return null;const i=new Fo(r,s);return i.idToken=o.idToken||void 0,i.accessToken=o.accessToken||void 0,i.secret=o.secret,i.nonce=o.nonce,i.pendingToken=o.pendingToken||null,i}_getIdTokenResponse(e){const n=this.buildRequest();return qi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qi(e,n)}buildRequest(){const e={requestUri:FA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UA(t){const e=ul(dl(t)).link,n=e?ul(dl(e)).deep_link_id:null,r=ul(dl(t)).deep_link_id;return(r?ul(dl(r)).link:null)||r||n||e||t}class Z0{constructor(e){var n,r,s,o,i,a;const l=ul(dl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=BA((s=l.mode)!==null&&s!==void 0?s:null);oe(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(i=l.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=UA(e);try{return new Z0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.providerId=Pa.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Z0.parseLink(n);return oe(r,"argument-error"),lc._fromEmailAndCode(e,r.code,r.tenantId)}}Pa.PROVIDER_ID="password";Pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends pb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Dc{constructor(){super("facebook.com")}static credential(e){return Fo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vs.credential(n,r)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Dc{constructor(){super("github.com")}static credential(e){return Fo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Dc{constructor(){super("twitter.com")}static credential(e,n){return Fo._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ws.credential(n,r)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t,e){return Oc(t,"POST","/v1/accounts:signUp",Ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await To._fromIdTokenResponse(e,r,s),i=O2(r);return new Bo({user:o,providerId:i,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=O2(r);return new Bo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function O2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends Sr{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Zd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Zd(e,n,r,s)}}function mb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Zd._fromErrorAndOperation(t,o,e,r):o})}async function VA(t,e,n=!1){const r=await ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const o=await ic(t,mb(r,s,e,t),n);oe(o.idToken,r,"internal-error");const i=K0(o.idToken);oe(i,r,"internal-error");const{sub:a}=i;return oe(t.uid===a,r,"user-mismatch"),Bo._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&er(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(t,e,n=!1){const r="signIn",s=await mb(t,r,e),o=await Bo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function HA(t,e){return gb(Aa(t),e)}async function qA(t,e,n){var r;const s=Aa(t),o={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let i;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await Qd(s,o,"signUpPassword");i=Xp(s,c)}else i=Xp(s,o).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await Qd(s,o,"signUpPassword");return Xp(s,d)}else return Promise.reject(c)});const a=await i.catch(c=>Promise.reject(c)),l=await Bo._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function WA(t,e,n){return HA(Ae(t),Pa.credential(e,n))}function GA(t,e,n,r){return Ae(t).onIdTokenChanged(e,n,r)}function KA(t,e,n){return Ae(t).beforeAuthStateChanged(e,n)}function YA(t,e,n,r){return Ae(t).onAuthStateChanged(e,n,r)}function QA(t){return Ae(t).signOut()}const Xd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xd,"1"),this.storage.removeItem(Xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){const t=Gt();return Y0(t)||cf(t)}const XA=1e3,JA=10;class vb extends yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ZA()&&bA(),this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(r);if(e.newValue!==i)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const i=this.storage.getItem(r);!n&&this.localCache[r]===i||this.notifyListeners(r,i)},o=this.storage.getItem(r);CA()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,JA):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const eP=vb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b extends yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_b.type="SESSION";const wb=_b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,i=this.handlersMap[s];if(!(i!=null&&i.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(i).map(async c=>c(n.origin,o)),l=await tP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,i;return new Promise((a,l)=>{const c=X0("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);i={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function rP(t){vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function sP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iP(){return xb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firebaseLocalStorageDb",aP=1,Jd="firebaseLocalStorage",bb="fbase_key";class Mc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function df(t,e){return t.transaction([Jd],e?"readwrite":"readonly").objectStore(Jd)}function lP(){const t=indexedDB.deleteDatabase(Cb);return new Mc(t).toPromise()}function H1(){const t=indexedDB.open(Cb,aP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jd,{keyPath:bb})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jd)?e(r):(r.close(),await lP(),e(await H1()))})})}async function D2(t,e,n){const r=df(t,!0).put({[bb]:e,value:n});return new Mc(r).toPromise()}async function cP(t,e){const n=df(t,!1).get(e),r=await new Mc(n).toPromise();return r===void 0?null:r.value}function M2(t,e){const n=df(t,!0).delete(e);return new Mc(n).toPromise()}const uP=800,dP=3;class kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await H1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(iP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sP(),!this.activeServiceWorker)return;this.sender=new nP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await H1();return await D2(e,Xd,"1"),await M2(e,Xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>D2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=df(s,!1).getAll();return new Mc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kb.type="LOCAL";const hP=kb;new Lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t,e){return e?Lr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends Q0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pP(t){return gb(t.auth,new J0(t),t.bypassAuthState)}function mP(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),zA(n,new J0(t),t.bypassAuthState)}async function gP(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),VA(n,new J0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pP;case"linkViaPopup":case"linkViaRedirect":return gP;case"reauthViaPopup":case"reauthViaRedirect":return mP;default:er(this.auth,"internal-error")}}resolve(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP=new Lc(2e3,1e4);class ji extends Sb{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,ji.currentPopupAction&&ji.currentPopupAction.cancel(),ji.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Gr(this.filter.length===1,"Popup operations only handle one event");const e=X0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ji.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yP.get())};e()}}ji.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="pendingRedirect",cd=new Map;class _P extends Sb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cd.get(this.auth._key());if(!e){try{const r=await wP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cd.set(this.auth._key(),e)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wP(t,e){const n=bP(e),r=CP(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xP(t,e){cd.set(t._key(),e)}function CP(t){return Lr(t._redirectPersistence)}function bP(t){return ld(vP,t.config.apiKey,t.name)}async function kP(t,e,n=!1){const r=Aa(t),s=fP(r,e),i=await new _P(r,s,n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=10*60*1e3;class EP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Eb(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SP&&this.cachedEventUids.clear(),this.cachedEventUids.has($2(e))}saveEventToCache(e){this.cachedEventUids.add($2(e)),this.lastProcessedEventTime=Date.now()}}function $2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Eb({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eb(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t,e={}){return Na(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AP=/^https?/;async function PP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IP(t);for(const n of e)try{if(jP(n))return}catch{}er(t,"unauthorized-domain")}function jP(t){const e=z1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&i.hostname===r}if(!AP.test(n))return!1;if(NP.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new Lc(3e4,6e4);function F2(){const t=vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LP(t){return new Promise((e,n)=>{var r,s,o;function i(){F2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F2(),n(yr(t,"network-request-failed"))},timeout:RP.get()})}if(!((s=(r=vr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=vr().gapi)===null||o===void 0)&&o.load)i();else{const a=SA("iframefcb");return vr()[a]=()=>{gapi.load?i():n(yr(t,"network-request-failed"))},db(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ud=null,e})}let ud=null;function OP(t){return ud=ud||LP(t),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DP=new Lc(5e3,15e3),MP="__/auth/iframe",$P="emulator/auth/iframe",FP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UP(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?G0(e,$P):`https://${t.config.authDomain}/${MP}`,r={apiKey:e.apiKey,appName:t.name,v:Jo},s=BP.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Rc(r).slice(1)}`}async function VP(t){const e=await OP(t),n=vr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:UP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const i=yr(t,"network-request-failed"),a=vr().setTimeout(()=>{o(i)},DP.get());function l(){vr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{o(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HP=500,qP=600,WP="_blank",GP="http://localhost";class B2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KP(t,e,n,r=HP,s=qP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),i=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zP),{width:r.toString(),height:s.toString(),top:o,left:i}),c=Gt().toLowerCase();n&&(a=nb(c)?WP:n),tb(c)&&(e=e||GP,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,v])=>`${f}${m}=${v},`,"");if(xA(c)&&a!=="_self")return YP(e||"",a),new B2(null);const h=window.open(e||"",a,d);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new B2(h)}function YP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QP="__/auth/handler",ZP="emulator/auth/handler",XP=encodeURIComponent("fac");async function U2(t,e,n,r,s,o){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Jo,eventId:s};if(e instanceof pb){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",GI(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof Dc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${XP}=${encodeURIComponent(l)}`:"";return`${JP(t)}?${Rc(a).slice(1)}${c}`}function JP({config:t}){return t.emulator?G0(t,ZP):`https://${t.authDomain}/${QP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="webStorageSupport";class ej{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wb,this._completeRedirectFn=kP,this._overrideRedirectResult=xP}async _openPopup(e,n,r,s){var o;Gr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await U2(e,n,r,z1(),s);return KP(e,i,X0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await U2(e,n,r,z1(),s);return rP(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(Gr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VP(e),r=new EP(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jp,{type:Jp},s=>{var o;const i=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Jp];i!==void 0&&n(!!i),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ab()||Y0()||cf()}}const tj=ej;var V2="@firebase/auth",z2="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function sj(t){$o(new Us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=r.options;oe(i&&!i.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lb(t)},c=new AA(r,s,o,l);return jA(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$o(new Us("auth-internal",e=>{const n=Aa(e.getProvider("auth").getImmediate());return(r=>new nj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(V2,z2,rj(t)),gr(V2,z2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=5*60,ij=U4("authIdTokenMaxAge")||oj;let H2=null;const aj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ij)return;const s=n==null?void 0:n.token;H2!==s&&(H2=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function lj(t=H0()){const e=lf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PA(t,{popupRedirectResolver:tj,persistence:[hP,eP,wb]}),r=U4("authTokenSyncURL");if(r){const o=aj(r);KA(n,o,()=>o(n.currentUser)),GA(n,i=>o(i))}const s=$4("auth");return s&&RA(n,`http://${s}`),n}sj("Browser");var cj="firebase",uj="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(cj,uj,"app");var dj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,ey=ey||{},ae=dj||self;function hf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ff(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function hj(t,e,n){return t.call.apply(t.bind,arguments)}function fj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Ut(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ut=hj:Ut=fj,Ut.apply(null,arguments)}function Iu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,o){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[s].apply(r,i)}}function Zs(){this.s=this.s,this.o=this.o}var pj=0;Zs.prototype.s=!1;Zs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),pj!=0)};Zs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ty(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function q2(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(hf(r)){const s=t.length||0,o=r.length||0;t.length=s+o;for(let i=0;i<o;i++)t[s+i]=r[i]}else t.push(r)}}function Vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Vt.prototype.h=function(){this.defaultPrevented=!0};var mj=function(){if(!ae.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ae.addEventListener("test",()=>{},e),ae.removeEventListener("test",()=>{},e)}catch{}return t}();function cc(t){return/^[\s\xa0]*$/.test(t)}function pf(){var t=ae.navigator;return t&&(t=t.userAgent)?t:""}function ur(t){return pf().indexOf(t)!=-1}function ny(t){return ny[" "](t),t}ny[" "]=function(){};function gj(t,e){var n=cR;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var yj=ur("Opera"),ia=ur("Trident")||ur("MSIE"),Ib=ur("Edge"),q1=Ib||ia,Nb=ur("Gecko")&&!(pf().toLowerCase().indexOf("webkit")!=-1&&!ur("Edge"))&&!(ur("Trident")||ur("MSIE"))&&!ur("Edge"),vj=pf().toLowerCase().indexOf("webkit")!=-1&&!ur("Edge");function Ab(){var t=ae.document;return t?t.documentMode:void 0}var W1;e:{var em="",tm=function(){var t=pf();if(Nb)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ib)return/Edge\/([\d\.]+)/.exec(t);if(ia)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(vj)return/WebKit\/(\S+)/.exec(t);if(yj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tm&&(em=tm?tm[1]:""),ia){var nm=Ab();if(nm!=null&&nm>parseFloat(em)){W1=String(nm);break e}}W1=em}var G1;if(ae.document&&ia){var W2=Ab();G1=W2||parseInt(W1,10)||void 0}else G1=void 0;var _j=G1;function uc(t,e){if(Vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Nb){e:{try{ny(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:wj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&uc.$.h.call(this)}}xt(uc,Vt);var wj={2:"touch",3:"pen",4:"mouse"};uc.prototype.h=function(){uc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var mf="closure_listenable_"+(1e6*Math.random()|0),xj=0;function Cj(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++xj,this.fa=this.ia=!1}function gf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ry(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function bj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Pb(t){const e={};for(const n in t)e[n]=t[n];return e}const G2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jb(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let o=0;o<G2.length;o++)n=G2[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function yf(t){this.src=t,this.g={},this.h=0}yf.prototype.add=function(t,e,n,r,s){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var i=Y1(t,e,r,s);return-1<i?(e=t[i],n||(e.ia=!1)):(e=new Cj(e,this.src,o,!!r,s),e.ia=n,t.push(e)),e};function K1(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Tb(r,e),o;(o=0<=s)&&Array.prototype.splice.call(r,s,1),o&&(gf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Y1(t,e,n,r){for(var s=0;s<t.length;++s){var o=t[s];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return s}return-1}var sy="closure_lm_"+(1e6*Math.random()|0),rm={};function Rb(t,e,n,r,s){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Rb(t,e[o],n,r,s);return null}return n=Db(n),t&&t[mf]?t.O(e,n,ff(r)?!!r.capture:!1,s):kj(t,e,n,!1,r,s)}function kj(t,e,n,r,s,o){if(!e)throw Error("Invalid event type");var i=ff(s)?!!s.capture:!!s,a=iy(t);if(a||(t[sy]=a=new yf(t)),n=a.add(e,n,r,i,o),n.proxy)return n;if(r=Sj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)mj||(s=i),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Ob(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Sj(){function t(n){return e.call(t.src,t.listener,n)}const e=Ej;return t}function Lb(t,e,n,r,s){if(Array.isArray(e))for(var o=0;o<e.length;o++)Lb(t,e[o],n,r,s);else r=ff(r)?!!r.capture:!!r,n=Db(n),t&&t[mf]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Y1(o,n,r,s),-1<n&&(gf(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=iy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Y1(e,n,r,s)),(n=-1<t?e[t]:null)&&oy(n))}function oy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[mf])K1(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ob(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iy(e))?(K1(n,t),n.h==0&&(n.src=null,e[sy]=null)):gf(t)}}}function Ob(t){return t in rm?rm[t]:rm[t]="on"+t}function Ej(t,e){if(t.fa)t=!0;else{e=new uc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&oy(t),t=n.call(r,e)}return t}function iy(t){return t=t[sy],t instanceof yf?t:null}var sm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Db(t){return typeof t=="function"?t:(t[sm]||(t[sm]=function(e){return t.handleEvent(e)}),t[sm])}function wt(){Zs.call(this),this.i=new yf(this),this.S=this,this.J=null}xt(wt,Zs);wt.prototype[mf]=!0;wt.prototype.removeEventListener=function(t,e,n,r){Lb(this,t,e,n,r)};function Tt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Vt(e,t);else if(e instanceof Vt)e.target=e.target||t;else{var s=e;e=new Vt(r,t),jb(e,s)}if(s=!0,n)for(var o=n.length-1;0<=o;o--){var i=e.g=n[o];s=Nu(i,r,!0,e)&&s}if(i=e.g=t,s=Nu(i,r,!0,e)&&s,s=Nu(i,r,!1,e)&&s,n)for(o=0;o<n.length;o++)i=e.g=n[o],s=Nu(i,r,!1,e)&&s}wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gf(n[r]);delete t.g[e],t.h--}}this.J=null};wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Nu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,o=0;o<e.length;++o){var i=e[o];if(i&&!i.fa&&i.capture==n){var a=i.listener,l=i.la||i.src;i.ia&&K1(t.i,i),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var ay=ae.JSON.stringify;class Tj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Ij(){var t=ly;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Nj{constructor(){this.h=this.g=null}add(e,n){const r=Mb.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Mb=new Tj(()=>new Aj,t=>t.reset());class Aj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Pj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function jj(t){ae.setTimeout(()=>{throw t},0)}let dc,hc=!1,ly=new Nj,$b=()=>{const t=ae.Promise.resolve(void 0);dc=()=>{t.then(Rj)}};var Rj=()=>{for(var t;t=Ij();){try{t.h.call(t.g)}catch(n){jj(n)}var e=Mb;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}hc=!1};function vf(t,e){wt.call(this),this.h=t||1,this.g=e||ae,this.j=Ut(this.qb,this),this.l=Date.now()}xt(vf,wt);H=vf.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tt(this,"tick"),this.ga&&(cy(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function cy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){vf.$.N.call(this),cy(this),delete this.g};function uy(t,e,n){if(typeof t=="function")n&&(t=Ut(t,n));else if(t&&typeof t.handleEvent=="function")t=Ut(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ae.setTimeout(t,e||0)}function Fb(t){t.g=uy(()=>{t.g=null,t.i&&(t.i=!1,Fb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Lj extends Zs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fb(this)}N(){super.N(),this.g&&(ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fc(t){Zs.call(this),this.h=t,this.g={}}xt(fc,Zs);var K2=[];function Bb(t,e,n,r){Array.isArray(n)||(n&&(K2[0]=n.toString()),n=K2);for(var s=0;s<n.length;s++){var o=Rb(e,n[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Ub(t){ry(t.g,function(e,n){this.g.hasOwnProperty(n)&&oy(e)},t),t.g={}}fc.prototype.N=function(){fc.$.N.call(this),Ub(this)};fc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function _f(){this.g=!0}_f.prototype.Ea=function(){this.g=!1};function Oj(t,e,n,r,s,o){t.info(function(){if(t.g)if(o)for(var i="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");i=2<=h.length&&h[1]=="type"?i+(d+"="+c+"&"):i+(d+"=redacted&")}}else i=null;else i=o;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+i})}function Dj(t,e,n,r,s,o,i){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+o+" "+i})}function Ri(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+$j(t,n)+(r?" "+r:"")})}function Mj(t,e){t.info(function(){return"TIMEOUT: "+e})}_f.prototype.info=function(){};function $j(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var o=s[0];if(o!="noop"&&o!="stop"&&o!="close")for(var i=1;i<s.length;i++)s[i]=""}}}}return ay(n)}catch{return e}}var ei={},Y2=null;function wf(){return Y2=Y2||new wt}ei.Ta="serverreachability";function Vb(t){Vt.call(this,ei.Ta,t)}xt(Vb,Vt);function pc(t){const e=wf();Tt(e,new Vb(e))}ei.STAT_EVENT="statevent";function zb(t,e){Vt.call(this,ei.STAT_EVENT,t),this.stat=e}xt(zb,Vt);function en(t){const e=wf();Tt(e,new zb(e,t))}ei.Ua="timingevent";function Hb(t,e){Vt.call(this,ei.Ua,t),this.size=e}xt(Hb,Vt);function $c(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ae.setTimeout(function(){t()},e)}var xf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},qb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dy(){}dy.prototype.h=null;function Q2(t){return t.h||(t.h=t.i())}function Wb(){}var Fc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hy(){Vt.call(this,"d")}xt(hy,Vt);function fy(){Vt.call(this,"c")}xt(fy,Vt);var Q1;function Cf(){}xt(Cf,dy);Cf.prototype.g=function(){return new XMLHttpRequest};Cf.prototype.i=function(){return{}};Q1=new Cf;function Bc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new fc(this),this.P=Fj,t=q1?125:void 0,this.V=new vf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Gb}function Gb(){this.i=null,this.g="",this.h=!1}var Fj=45e3,Z1={},eh={};H=Bc.prototype;H.setTimeout=function(t){this.P=t};function X1(t,e,n){t.L=1,t.v=kf(Kr(e)),t.s=n,t.S=!0,Kb(t,null)}function Kb(t,e){t.G=Date.now(),Uc(t),t.A=Kr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),nk(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Gb,t.g=bk(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Lj(Ut(t.Pa,t,t.g),t.O)),Bb(t.U,t.g,"readystatechange",t.nb),e=t.I?Pb(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),pc(),Oj(t.j,t.u,t.A,t.m,t.W,t.s)}H.nb=function(t){t=t.target;const e=this.M;e&&dr(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const d=dr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||q1||this.g&&(this.h.h||this.g.ja()||ew(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?pc(3):pc(2)),bf(this);var n=this.g.da();this.ca=n;t:if(Yb(this)){var r=ew(this.g);t="";var s=r.length,o=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),Nl(this);var i="";break t}this.h.i=new ae.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,i=this.h.g}else i=this.g.ja();if(this.i=n==200,Dj(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cc(a)){var c=a;break t}}c=null}if(n=c)Ri(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,J1(this,n);else{this.i=!1,this.o=3,en(12),_o(this),Nl(this);break e}}this.S?(Qb(this,d,i),q1&&this.i&&d==3&&(Bb(this.U,this.V,"tick",this.mb),this.V.start())):(Ri(this.j,this.m,i,null),J1(this,i)),d==4&&_o(this),this.i&&!this.J&&(d==4?_k(this.l,this):(this.i=!1,Uc(this)))}else iR(this.g),n==400&&0<i.indexOf("Unknown SID")?(this.o=3,en(12)):(this.o=0,en(13)),_o(this),Nl(this)}}}catch{}finally{}};function Yb(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Qb(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=Bj(t,n),s==eh){e==4&&(t.o=4,en(14),r=!1),Ri(t.j,t.m,null,"[Incomplete Response]");break}else if(s==Z1){t.o=4,en(15),Ri(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ri(t.j,t.m,s,null),J1(t,s);Yb(t)&&s!=eh&&s!=Z1&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,en(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_y(e),e.M=!0,en(11))):(Ri(t.j,t.m,n,"[Invalid Chunked Response]"),_o(t),Nl(t))}H.mb=function(){if(this.g){var t=dr(this.g),e=this.g.ja();this.C<e.length&&(bf(this),Qb(this,t,e),this.i&&t!=4&&Uc(this))}};function Bj(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?eh:(n=Number(e.substring(n,r)),isNaN(n)?Z1:(r+=1,r+n>e.length?eh:(e=e.slice(r,r+n),t.C=r+n,e)))}H.cancel=function(){this.J=!0,_o(this)};function Uc(t){t.Y=Date.now()+t.P,Zb(t,t.P)}function Zb(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=$c(Ut(t.lb,t),e)}function bf(t){t.B&&(ae.clearTimeout(t.B),t.B=null)}H.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Mj(this.j,this.A),this.L!=2&&(pc(),en(17)),_o(this),this.o=2,Nl(this)):Zb(this,this.Y-t)};function Nl(t){t.l.H==0||t.J||_k(t.l,t)}function _o(t){bf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,cy(t.V),Ub(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function J1(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||eg(n.i,t))){if(!t.K&&eg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)rh(n),Tf(n);else break e;vy(n),en(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=$c(Ut(n.ib,n),6e3));if(1>=ok(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wo(n,11)}else if((t.K||n.g==t)&&rh(n),!cc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var o=r.i;o.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(py(o,o.h),o.h=null))}if(r.F){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Le(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var i=t;if(r.wa=Ck(r,r.J?r.pa:null,r.Y),i.K){ik(r.i,i);var a=i,l=r.L;l&&a.setTimeout(l),a.B&&(bf(a),Uc(a)),r.g=i}else yk(r);0<n.j.length&&If(n)}else c[0]!="stop"&&c[0]!="close"||wo(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?wo(n,7):yy(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}pc(4)}catch{}}function Uj(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(hf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Vj(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(hf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Xb(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(hf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Vj(t),r=Uj(t),s=r.length,o=0;o<s;o++)e.call(void 0,r[o],n&&n[o],t)}var Jb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var o=t[n].substring(0,r);s=t[n].substring(r+1)}else o=t[n];e(o,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Io(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Io){this.h=t.h,th(this,t.j),this.s=t.s,this.g=t.g,nh(this,t.m),this.l=t.l;var e=t.i,n=new mc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Z2(this,n),this.o=t.o}else t&&(e=String(t).match(Jb))?(this.h=!1,th(this,e[1]||"",!0),this.s=hl(e[2]||""),this.g=hl(e[3]||"",!0),nh(this,e[4]),this.l=hl(e[5]||"",!0),Z2(this,e[6]||"",!0),this.o=hl(e[7]||"")):(this.h=!1,this.i=new mc(null,this.h))}Io.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fl(e,X2,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fl(e,X2,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fl(n,n.charAt(0)=="/"?Wj:qj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fl(n,Kj)),t.join("")};function Kr(t){return new Io(t)}function th(t,e,n){t.j=n?hl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function nh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Z2(t,e,n){e instanceof mc?(t.i=e,Yj(t.i,t.h)):(n||(e=fl(e,Gj)),t.i=new mc(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function kf(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Hj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Hj(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var X2=/[#\/\?@]/g,qj=/[#\?:]/g,Wj=/[#\?]/g,Gj=/[#\?@]/g,Kj=/#/g;function mc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xs(t){t.g||(t.g=new Map,t.h=0,t.i&&zj(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=mc.prototype;H.add=function(t,e){Xs(this),this.i=null,t=ja(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ek(t,e){Xs(t),e=ja(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function tk(t,e){return Xs(t),e=ja(t,e),t.g.has(e)}H.forEach=function(t,e){Xs(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};H.ta=function(){Xs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let o=0;o<s.length;o++)n.push(e[r])}return n};H.Z=function(t){Xs(this);let e=[];if(typeof t=="string")tk(this,t)&&(e=e.concat(this.g.get(ja(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return Xs(this),this.i=null,t=ja(this,t),tk(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function nk(t,e,n){ek(t,e),0<n.length&&(t.i=null,t.g.set(ja(t,e),ty(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),i=this.Z(r);for(r=0;r<i.length;r++){var s=o;i[r]!==""&&(s+="="+encodeURIComponent(String(i[r]))),t.push(s)}}return this.i=t.join("&")};function ja(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Yj(t,e){e&&!t.j&&(Xs(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(ek(this,r),nk(this,s,n))},t)),t.j=e}var Qj=class{constructor(t,e){this.g=t,this.map=e}};function rk(t){this.l=t||Zj,ae.PerformanceNavigationTiming?(t=ae.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ae.g&&ae.g.Ka&&ae.g.Ka()&&ae.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Zj=10;function sk(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ok(t){return t.h?1:t.g?t.g.size:0}function eg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function py(t,e){t.g?t.g.add(e):t.h=e}function ik(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}rk.prototype.cancel=function(){if(this.i=ak(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ak(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ty(t.i)}var Xj=class{stringify(t){return ae.JSON.stringify(t,void 0)}parse(t){return ae.JSON.parse(t,void 0)}};function Jj(){this.g=new Xj}function eR(t,e,n){const r=n||"";try{Xb(t,function(s,o){let i=s;ff(s)&&(i=ay(s)),e.push(r+o+"="+encodeURIComponent(i))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function tR(t,e){const n=new _f;if(ae.Image){const r=new Image;r.onload=Iu(Au,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Iu(Au,n,r,"TestLoadImage: error",!1,e),r.onabort=Iu(Au,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Iu(Au,n,r,"TestLoadImage: timeout",!1,e),ae.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Au(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Vc(t){this.l=t.fc||null,this.j=t.ob||!1}xt(Vc,dy);Vc.prototype.g=function(){return new Sf(this.l,this.j)};Vc.prototype.i=function(t){return function(){return t}}({});function Sf(t,e){wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=my,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xt(Sf,wt);var my=0;H=Sf.prototype;H.open=function(t,e){if(this.readyState!=my)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gc(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ae).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zc(this)),this.readyState=my};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gc(this)),this.g&&(this.readyState=3,gc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ae.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lk(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function lk(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zc(this):gc(this),this.readyState==3&&lk(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,zc(this))};H.Ya=function(t){this.g&&(this.response=t,zc(this))};H.ka=function(){this.g&&zc(this)};function zc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gc(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Sf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var nR=ae.JSON.parse;function tt(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ck,this.L=this.M=!1}xt(tt,wt);var ck="",rR=/^https?$/i,sR=["POST","PUT"];H=tt.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Q1.g(),this.C=this.u?Q2(this.u):Q2(Q1),this.g.onreadystatechange=Ut(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){J2(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),s=ae.FormData&&t instanceof ae.FormData,!(0<=Tb(sR,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,i]of n)this.g.setRequestHeader(o,i);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hk(this),0<this.B&&((this.L=oR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ut(this.ua,this)):this.A=uy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){J2(this,o)}};function oR(t){return ia&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof ey<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))};function J2(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,uk(t),Ef(t)}function uk(t){t.F||(t.F=!0,Tt(t,"complete"),Tt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),Ef(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ef(this,!0)),tt.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?dk(this):this.kb())};H.kb=function(){dk(this)};function dk(t){if(t.h&&typeof ey<"u"&&(!t.C[1]||dr(t)!=4||t.da()!=2)){if(t.v&&dr(t)==4)uy(t.La,0,t);else if(Tt(t,"readystatechange"),dr(t)==4){t.h=!1;try{const i=t.da();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=i===0){var s=String(t.I).match(Jb)[1]||null;!s&&ae.self&&ae.self.location&&(s=ae.self.location.protocol.slice(0,-1)),r=!rR.test(s?s.toLowerCase():"")}n=r}if(n)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var o=2<dr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",uk(t)}}finally{Ef(t)}}}}function Ef(t,e){if(t.g){hk(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch{}}}function hk(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ae.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function dr(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),nR(e)}};function ew(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ck:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function iR(t){const e={};t=(t.g&&2<=dr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(cc(t[r]))continue;var n=Pj(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[s]||[];e[s]=o,o.push(n)}bj(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function fk(t){let e="";return ry(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function gy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=fk(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Le(t,e,n))}function Ya(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pk(t){this.Ga=0,this.j=[],this.l=new _f,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ya("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ya("baseRetryDelayMs",5e3,t),this.hb=Ya("retryDelaySeedMs",1e4,t),this.eb=Ya("forwardChannelMaxRetries",2,t),this.xa=Ya("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new rk(t&&t.concurrentRequestLimit),this.Ja=new Jj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=pk.prototype;H.ra=8;H.H=1;function yy(t){if(mk(t),t.H==3){var e=t.W++,n=Kr(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),Hc(t,n),e=new Bc(t,t.l,e),e.L=2,e.v=kf(Kr(n)),n=!1,ae.navigator&&ae.navigator.sendBeacon)try{n=ae.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ae.Image&&(new Image().src=e.v,n=!0),n||(e.g=bk(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Uc(e)}xk(t)}function Tf(t){t.g&&(_y(t),t.g.cancel(),t.g=null)}function mk(t){Tf(t),t.u&&(ae.clearTimeout(t.u),t.u=null),rh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ae.clearTimeout(t.m),t.m=null)}function If(t){if(!sk(t.i)&&!t.m){t.m=!0;var e=t.Na;dc||$b(),hc||(dc(),hc=!0),ly.add(e,t),t.C=0}}function aR(t,e){return ok(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=$c(Ut(t.Na,t,e),wk(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Bc(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Pb(o),jb(o,this.U)):o=this.U),this.o!==null||this.O||(s.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gk(this,s,e),n=Kr(this.I),Le(n,"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),Hc(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(fk(o)))+"&"+e:this.o&&gy(n,this.o,o)),py(this.i,s),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),s.aa=!0,X1(s,n,null)):X1(s,n,e),this.H=2}}else this.H==3&&(t?tw(this,t):this.j.length==0||sk(this.i)||tw(this))};function tw(t,e){var n;e?n=e.m:n=t.W++;const r=Kr(t.I);Le(r,"SID",t.K),Le(r,"RID",n),Le(r,"AID",t.V),Hc(t,r),t.o&&t.s&&gy(r,t.o,t.s),n=new Bc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=gk(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),py(t.i,n),X1(n,r,e)}function Hc(t,e){t.na&&ry(t.na,function(n,r){Le(e,r,n)}),t.h&&Xb({},function(n,r){Le(e,r,n)})}function gk(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ut(t.h.Va,t.h,t):null;e:{var s=t.j;let o=-1;for(;;){const i=["count="+n];o==-1?0<n?(o=s[0].g,i.push("ofs="+o)):o=0:i.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const d=s[l].map;if(c-=o,0>c)o=Math.max(0,s[l].g-100),a=!1;else try{eR(d,i,"req"+c+"_")}catch{r&&r(d)}}if(a){r=i.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function yk(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;dc||$b(),hc||(dc(),hc=!0),ly.add(e,t),t.A=0}}function vy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=$c(Ut(t.Ma,t),wk(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,vk(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$c(Ut(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,en(10),Tf(this),vk(this))};function _y(t){t.B!=null&&(ae.clearTimeout(t.B),t.B=null)}function vk(t){t.g=new Bc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Kr(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),Hc(t,e),t.o&&t.s&&gy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=kf(Kr(e)),n.s=null,n.S=!0,Kb(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Tf(this),vy(this),en(19))};function rh(t){t.v!=null&&(ae.clearTimeout(t.v),t.v=null)}function _k(t,e){var n=null;if(t.g==e){rh(t),_y(t),t.g=null;var r=2}else if(eg(t.i,e))n=e.F,ik(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=wf(),Tt(r,new Hb(r,n)),If(t)}else yk(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&aR(t,e)||r==2&&vy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:wo(t,5);break;case 4:wo(t,10);break;case 3:wo(t,6);break;default:wo(t,2)}}}function wk(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ut(t.pb,t);n||(n=new Io("//www.google.com/images/cleardot.gif"),ae.location&&ae.location.protocol=="http"||th(n,"https"),kf(n)),tR(n.toString(),r)}else en(2);t.H=0,t.h&&t.h.za(e),xk(t),mk(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),en(2)):(this.l.info("Failed to ping google.com"),en(1))};function xk(t){if(t.H=0,t.ma=[],t.h){const e=ak(t.i);(e.length!=0||t.j.length!=0)&&(q2(t.ma,e),q2(t.ma,t.j),t.i.i.length=0,ty(t.j),t.j.length=0),t.h.ya()}}function Ck(t,e,n){var r=n instanceof Io?Kr(n):new Io(n);if(r.g!="")e&&(r.g=e+"."+r.g),nh(r,r.m);else{var s=ae.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new Io(null);r&&th(o,r),e&&(o.g=e),s&&nh(o,s),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Le(r,n,e),Le(r,"VER",t.ra),Hc(t,r),r}function bk(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new tt(new Vc({ob:!0})):new tt(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function kk(){}H=kk.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function sh(){if(ia&&!(10<=Number(_j)))throw Error("Environmental error: no available transport.")}sh.prototype.g=function(t,e){return new In(t,e)};function In(t,e){wt.call(this),this.g=new pk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!cc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ra(this)}xt(In,wt);In.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;en(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Ck(t,null,t.Y),If(t)};In.prototype.close=function(){yy(this.g)};In.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=ay(t),t=n);e.j.push(new Qj(e.fb++,t)),e.H==3&&If(e)};In.prototype.N=function(){this.g.h=null,delete this.j,yy(this.g),delete this.g,In.$.N.call(this)};function Sk(t){hy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}xt(Sk,hy);function Ek(){fy.call(this),this.status=1}xt(Ek,fy);function Ra(t){this.g=t}xt(Ra,kk);Ra.prototype.Ba=function(){Tt(this.g,"a")};Ra.prototype.Aa=function(t){Tt(this.g,new Sk(t))};Ra.prototype.za=function(t){Tt(this.g,new Ek)};Ra.prototype.ya=function(){Tt(this.g,"b")};function lR(){this.blockSize=-1}function tr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}xt(tr,lR);tr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function om(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var o=t.g[3],i=e+(o^n&(s^o))+r[0]+3614090360&4294967295;e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[1]+3905402710&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[2]+606105819&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[3]+3250441966&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[4]+4118548399&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[5]+1200080426&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[6]+2821735955&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[7]+4249261313&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[8]+1770035416&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[9]+2336552879&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[10]+4294925233&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[11]+2304563134&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(o^n&(s^o))+r[12]+1804603682&4294967295,e=n+(i<<7&4294967295|i>>>25),i=o+(s^e&(n^s))+r[13]+4254626195&4294967295,o=e+(i<<12&4294967295|i>>>20),i=s+(n^o&(e^n))+r[14]+2792965006&4294967295,s=o+(i<<17&4294967295|i>>>15),i=n+(e^s&(o^e))+r[15]+1236535329&4294967295,n=s+(i<<22&4294967295|i>>>10),i=e+(s^o&(n^s))+r[1]+4129170786&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[6]+3225465664&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[11]+643717713&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[0]+3921069994&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[5]+3593408605&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[10]+38016083&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[15]+3634488961&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[4]+3889429448&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[9]+568446438&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[14]+3275163606&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[3]+4107603335&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[8]+1163531501&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(s^o&(n^s))+r[13]+2850285829&4294967295,e=n+(i<<5&4294967295|i>>>27),i=o+(n^s&(e^n))+r[2]+4243563512&4294967295,o=e+(i<<9&4294967295|i>>>23),i=s+(e^n&(o^e))+r[7]+1735328473&4294967295,s=o+(i<<14&4294967295|i>>>18),i=n+(o^e&(s^o))+r[12]+2368359562&4294967295,n=s+(i<<20&4294967295|i>>>12),i=e+(n^s^o)+r[5]+4294588738&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[8]+2272392833&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[11]+1839030562&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[14]+4259657740&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[1]+2763975236&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[4]+1272893353&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[7]+4139469664&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[10]+3200236656&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[13]+681279174&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[0]+3936430074&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[3]+3572445317&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[6]+76029189&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(n^s^o)+r[9]+3654602809&4294967295,e=n+(i<<4&4294967295|i>>>28),i=o+(e^n^s)+r[12]+3873151461&4294967295,o=e+(i<<11&4294967295|i>>>21),i=s+(o^e^n)+r[15]+530742520&4294967295,s=o+(i<<16&4294967295|i>>>16),i=n+(s^o^e)+r[2]+3299628645&4294967295,n=s+(i<<23&4294967295|i>>>9),i=e+(s^(n|~o))+r[0]+4096336452&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[7]+1126891415&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[14]+2878612391&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[5]+4237533241&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[12]+1700485571&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[3]+2399980690&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[10]+4293915773&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[1]+2240044497&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[8]+1873313359&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[15]+4264355552&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[6]+2734768916&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[13]+1309151649&4294967295,n=s+(i<<21&4294967295|i>>>11),i=e+(s^(n|~o))+r[4]+4149444226&4294967295,e=n+(i<<6&4294967295|i>>>26),i=o+(n^(e|~s))+r[11]+3174756917&4294967295,o=e+(i<<10&4294967295|i>>>22),i=s+(e^(o|~n))+r[2]+718787259&4294967295,s=o+(i<<15&4294967295|i>>>17),i=n+(o^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(i<<21&4294967295|i>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+o&4294967295}tr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,o=0;o<e;){if(s==0)for(;o<=n;)om(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[s++]=t.charCodeAt(o++),s==this.blockSize){om(this,r),s=0;break}}else for(;o<e;)if(r[s++]=t[o++],s==this.blockSize){om(this,r),s=0;break}}this.h=s,this.i+=e};tr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var o=t[s]|0;r&&o==e||(n[s]=o,r=!1)}this.g=n}var cR={};function wy(t){return-128<=t&&128>t?gj(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function hr(t){if(isNaN(t)||!isFinite(t))return Wi;if(0>t)return St(hr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=tg;return new Ee(e,0)}function Tk(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return St(Tk(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=hr(Math.pow(e,8)),r=Wi,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),i=parseInt(t.substring(s,s+o),e);8>o?(o=hr(Math.pow(e,o)),r=r.R(o).add(hr(i))):(r=r.R(n),r=r.add(hr(i)))}return r}var tg=4294967296,Wi=wy(0),ng=wy(1),nw=wy(16777216);H=Ee.prototype;H.ea=function(){if(Mn(this))return-St(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:tg+r)*e,e*=tg}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Or(this))return"0";if(Mn(this))return"-"+St(this).toString(t);for(var e=hr(Math.pow(t,6)),n=this,r="";;){var s=ih(n,e).g;n=oh(n,s.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Or(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Or(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Mn(t){return t.h==-1}H.X=function(t){return t=oh(this,t),Mn(t)?-1:Or(t)?0:1};function St(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(ng)}H.abs=function(){return Mn(this)?St(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var o=r+(this.D(s)&65535)+(t.D(s)&65535),i=(o>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=i>>>16,o&=65535,i&=65535,n[s]=i<<16|o}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function oh(t,e){return t.add(St(e))}H.R=function(t){if(Or(this)||Or(t))return Wi;if(Mn(this))return Mn(t)?St(this).R(St(t)):St(St(this).R(t));if(Mn(t))return St(this.R(St(t)));if(0>this.X(nw)&&0>t.X(nw))return hr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var o=this.D(r)>>>16,i=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=i*l,Pu(n,2*r+2*s),n[2*r+2*s+1]+=o*l,Pu(n,2*r+2*s+1),n[2*r+2*s+1]+=i*a,Pu(n,2*r+2*s+1),n[2*r+2*s+2]+=o*a,Pu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function Pu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Qa(t,e){this.g=t,this.h=e}function ih(t,e){if(Or(e))throw Error("division by zero");if(Or(t))return new Qa(Wi,Wi);if(Mn(t))return e=ih(St(t),e),new Qa(St(e.g),St(e.h));if(Mn(e))return e=ih(t,St(e)),new Qa(St(e.g),e.h);if(30<t.g.length){if(Mn(t)||Mn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ng,r=e;0>=r.X(t);)n=rw(n),r=rw(r);var s=ui(n,1),o=ui(r,1);for(r=ui(r,2),n=ui(n,2);!Or(r);){var i=o.add(r);0>=i.X(t)&&(s=s.add(n),o=i),r=ui(r,1),n=ui(n,1)}return e=oh(t,s.R(e)),new Qa(s,e)}for(s=Wi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=hr(n),i=o.R(e);Mn(i)||0<i.X(t);)n-=r,o=hr(n),i=o.R(e);Or(o)&&(o=ng),s=s.add(o),t=oh(t,i)}return new Qa(s,t)}H.gb=function(t){return ih(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function rw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function ui(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],o=0;o<r;o++)s[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ee(s,t.h)}sh.prototype.createWebChannel=sh.prototype.g;In.prototype.send=In.prototype.u;In.prototype.open=In.prototype.m;In.prototype.close=In.prototype.close;xf.NO_ERROR=0;xf.TIMEOUT=8;xf.HTTP_ERROR=6;qb.COMPLETE="complete";Wb.EventType=Fc;Fc.OPEN="a";Fc.CLOSE="b";Fc.ERROR="c";Fc.MESSAGE="d";wt.prototype.listen=wt.prototype.O;tt.prototype.listenOnce=tt.prototype.P;tt.prototype.getLastError=tt.prototype.Sa;tt.prototype.getLastErrorCode=tt.prototype.Ia;tt.prototype.getStatus=tt.prototype.da;tt.prototype.getResponseJson=tt.prototype.Wa;tt.prototype.getResponseText=tt.prototype.ja;tt.prototype.send=tt.prototype.ha;tt.prototype.setWithCredentials=tt.prototype.Oa;tr.prototype.digest=tr.prototype.l;tr.prototype.reset=tr.prototype.reset;tr.prototype.update=tr.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=hr;Ee.fromString=Tk;var uR=function(){return new sh},dR=function(){return wf()},im=xf,hR=qb,fR=ei,sw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},pR=Vc,ju=Wb,mR=tt,gR=tr,Gi=Ee;const ow="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new V0("@firebase/firestore");function iw(){return Uo.logLevel}function X(t,...e){if(Uo.logLevel<=xe.DEBUG){const n=e.map(xy);Uo.debug(`Firestore (${La}): ${t}`,...n)}}function Yr(t,...e){if(Uo.logLevel<=xe.ERROR){const n=e.map(xy);Uo.error(`Firestore (${La}): ${t}`,...n)}}function aa(t,...e){if(Uo.logLevel<=xe.WARN){const n=e.map(xy);Uo.warn(`Firestore (${La}): ${t}`,...n)}}function xy(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function Me(t,e){t||ie()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class vR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _R{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $r,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),i()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $r)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new Ik(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Ot(e)}}class wR{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class xR{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new wR(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bR{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.T;return this.T=o.token,X("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?s(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.T=n.token,new CR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=kR(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%e.length))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function la(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new mt(0,0))}static max(){return new le(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(),r===void 0?r=e.length-n:r>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return yc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=e.get(s),i=n.get(s);if(o<i)return-1;if(o>i)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oe extends yc{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const SR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends yc{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return SR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new $t(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new G($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new G($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new G($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Oe.fromString(e))}static fromName(e){return new ee(Oe.fromString(e).popFirst(5))}static empty(){return new ee(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Oe(e.slice()))}}function ER(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=le.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Vs(s,ee.empty(),e)}function TR(t){return new Vs(t.readTime,t.key,-1)}class Vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vs(le.min(),ee.empty(),-1)}static max(){return new Vs(le.max(),ee.empty(),-1)}}function IR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qc(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==NR)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},l=>r(l))}),i=!0,o===s&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(s=>s?V.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(d=>{i[c]=d,++a,a===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new V((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function Wc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Cy.ct=-1;function Nf(t){return t==null}function ah(t){return t===0&&1/t==-1/0}function PR(t){return typeof t=="number"&&Number.isInteger(t)&&!ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ti(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ak(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new Ye(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new Ye(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??kt.RED,this.left=s??kt.EMPTY,this.right=o??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new kt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return kt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(t,e,n,r,s){return this}insert(t,e,n){return new kt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lw(this.data.getIterator())}getIteratorFrom(e){return new lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new kn([])}unionWith(e){let n=new zt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Pk("Invalid base64 string: "+s):s}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const jR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(Me(!!t),typeof t=="string"){let e=0;const n=jR.exec(t);if(Me(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vo(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ky(t){const e=t.mapValue.fields.__previous_value__;return by(e)?ky(e):e}function vc(t){const e=zs(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,r,s,o,i,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class _c{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new _c("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof _c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu={mapValue:{}};function zo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?by(t)?4:LR(t)?9007199254740991:10:ie()}function xr(t,e){if(t===e)return!0;const n=zo(t);if(n!==zo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=zs(r.timestampValue),i=zs(s.timestampValue);return o.seconds===i.seconds&&o.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Vo(r.bytesValue).isEqual(Vo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return at(r.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return at(r.integerValue)===at(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=at(r.doubleValue),i=at(s.doubleValue);return o===i?ah(o)===ah(i):isNaN(o)&&isNaN(i)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:return function(r,s){const o=r.mapValue.fields||{},i=s.mapValue.fields||{};if(aw(o)!==aw(i))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(i[a]===void 0||!xr(o[a],i[a])))return!1;return!0}(t,e);default:return ie()}}function wc(t,e){return(t.values||[]).find(n=>xr(n,e))!==void 0}function ca(t,e){if(t===e)return 0;const n=zo(t),r=zo(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(s,o){const i=at(s.integerValue||s.doubleValue),a=at(o.integerValue||o.doubleValue);return i<a?-1:i>a?1:i===a?0:isNaN(i)?isNaN(a)?0:-1:1}(t,e);case 3:return cw(t.timestampValue,e.timestampValue);case 4:return cw(vc(t),vc(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(s,o){const i=Vo(s),a=Vo(o);return i.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const i=s.split("/"),a=o.split("/");for(let l=0;l<i.length&&l<a.length;l++){const c=Ce(i[l],a[l]);if(c!==0)return c}return Ce(i.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const i=Ce(at(s.latitude),at(o.latitude));return i!==0?i:Ce(at(s.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const i=s.values||[],a=o.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ca(i[l],a[l]);if(c)return c}return Ce(i.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Lu.mapValue&&o===Lu.mapValue)return 0;if(s===Lu.mapValue)return 1;if(o===Lu.mapValue)return-1;const i=s.fields||{},a=Object.keys(i),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let d=0;d<a.length&&d<c.length;++d){const h=Ce(a[d],c[d]);if(h!==0)return h;const f=ca(i[a[d]],l[c[d]]);if(f!==0)return f}return Ce(a.length,c.length)}(t.mapValue,e.mapValue);default:throw ie()}}function cw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=zs(t),r=zs(e),s=Ce(n.seconds,r.seconds);return s!==0?s:Ce(n.nanos,r.nanos)}function ua(t){return rg(t)}function rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=zs(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Vo(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ee.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",o=!0;for(const i of r.values||[])o?o=!1:s+=",",s+=rg(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let o="{",i=!0;for(const a of s)i?i=!1:o+=",",o+=`${a}:${rg(r.fields[a])}`;return o+"}"}(t.mapValue):ie();var e,n}function uw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sg(t){return!!t&&"integerValue"in t}function Sy(t){return!!t&&"arrayValue"in t}function dw(t){return!!t&&"nullValue"in t}function hw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dd(t){return!!t&&"mapValue"in t}function Al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ti(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Al(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function LR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(n)}setAll(e){let n=$t.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=Al(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];dd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ti(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new un(Al(this.value))}}function jk(t){const e=[];return ti(t.fields,(n,r)=>{const s=new $t([n]);if(dd(r)){const o=jk(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,le.min(),le.min(),le.min(),un.empty(),0)}static newFoundDocument(e,n,r,s){return new Mt(e,1,n,le.min(),r,s,0)}static newNoDocument(e,n){return new Mt(e,2,n,le.min(),le.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,le.min(),le.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function fw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(i.referenceValue),n.key):r=ca(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function pw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n="asc"){this.field=e,this.dir=n}}function OR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{}class ct extends Rk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MR(e,n,r):n==="array-contains"?new BR(e,r):n==="in"?new UR(e,r):n==="not-in"?new VR(e,r):n==="array-contains-any"?new zR(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $R(e,r):new FR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ca(n,this.value)):n!==null&&zo(this.value)===zo(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class nr extends Rk{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new nr(e,n)}matches(e){return Lk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Lk(t){return t.op==="and"}function Ok(t){return DR(t)&&Lk(t)}function DR(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function og(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+ua(t.value);if(Ok(t))return t.filters.map(e=>og(e)).join(",");{const e=t.filters.map(n=>og(n)).join(",");return`${t.op}(${e})`}}function Dk(t,e){return t instanceof ct?function(n,r){return r instanceof ct&&n.op===r.op&&n.field.isEqual(r.field)&&xr(n.value,r.value)}(t,e):t instanceof nr?function(n,r){return r instanceof nr&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,o,i)=>s&&Dk(o,r.filters[i]),!0):!1}(t,e):void ie()}function Mk(t){return t instanceof ct?function(e){return`${e.field.canonicalString()} ${e.op} ${ua(e.value)}`}(t):t instanceof nr?function(e){return e.op.toString()+" {"+e.getFilters().map(Mk).join(" ,")+"}"}(t):"Filter"}class MR extends ct{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class $R extends ct{constructor(e,n){super(e,"in",n),this.keys=$k("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FR extends ct{constructor(e,n){super(e,"not-in",n),this.keys=$k("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $k(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class BR extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Sy(n)&&wc(n.arrayValue,this.value)}}class UR extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wc(this.value.arrayValue,n)}}class VR extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wc(this.value.arrayValue,n)}}class zR extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Sy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.dt=null}}function mw(t,e=null,n=[],r=[],s=null,o=null,i=null){return new HR(t,e,n,r,s,o,i)}function Ey(t){const e=de(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>og(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ua(r)).join(",")),e.dt=n}return e.dt}function Ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Dk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pw(t.startAt,e.startAt)&&pw(t.endAt,e.endAt)}function ig(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}}function qR(t,e,n,r,s,o,i,a){return new Oa(t,e,n,r,s,o,i,a)}function Af(t){return new Oa(t)}function gw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Iy(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Pf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Fk(t){return t.collectionGroup!==null}function Yi(t){const e=de(t);if(e.wt===null){e.wt=[];const n=Pf(e),r=Iy(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Ki(n)),e.wt.push(new Ki($t.keyField(),"asc"));else{let s=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(s=!0);if(!s){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ki($t.keyField(),o))}}}return e.wt}function Qr(t){const e=de(t);if(!e._t)if(e.limitType==="F")e._t=mw(e.path,e.collectionGroup,Yi(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const o of Yi(e)){const i=o.dir==="desc"?"asc":"desc";n.push(new Ki(o.field,i))}const r=e.endAt?new lh(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new lh(e.startAt.position,e.startAt.inclusive):null;e._t=mw(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function ag(t,e){e.getFirstInequalityField(),Pf(t);const n=t.filters.concat([e]);return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function lg(t,e,n){return new Oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jf(t,e){return Ty(Qr(t),Qr(e))&&t.limitType===e.limitType}function Bk(t){return`${Ey(Qr(t))}|lt:${t.limitType}`}function cg(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Mk(r)).join(", ")}]`),Nf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ua(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ua(r)).join(",")),`Target(${n})`}(Qr(t))}; limitType=${t.limitType})`}function Rf(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ee.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of Yi(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,o,i){const a=fw(s,o,i);return s.inclusive?a<=0:a<0}(n.startAt,Yi(n),r)||n.endAt&&!function(s,o,i){const a=fw(s,o,i);return s.inclusive?a>=0:a>0}(n.endAt,Yi(n),r))}(t,e)}function WR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Uk(t){return(e,n)=>{let r=!1;for(const s of Yi(t)){const o=GR(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function GR(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(s,o,i){const a=o.data.field(s),l=i.data.field(s);return a!==null&&l!==null?ca(a,l):ie()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ti(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return Ak(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Ye(ee.comparator);function Zr(){return KR}const Vk=new Ye(ee.comparator);function pl(...t){let e=Vk;for(const n of t)e=e.insert(n.key,n);return e}function zk(t){let e=Vk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xo(){return Pl()}function Hk(){return Pl()}function Pl(){return new Da(t=>t.toString(),(t,e)=>t.isEqual(e))}const YR=new Ye(ee.comparator),QR=new zt(ee.comparator);function ve(...t){let e=QR;for(const n of t)e=e.add(n);return e}const ZR=new zt(Ce);function XR(){return ZR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function Wk(t){return{integerValue:""+t}}function JR(t,e){return PR(e)?Wk(e):qk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(){this._=void 0}}function eL(t,e,n){return t instanceof ch?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&by(s)&&(s=ky(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof da?Kk(t,e):t instanceof ha?Yk(t,e):function(r,s){const o=Gk(r,s),i=yw(o)+yw(r.gt);return sg(o)&&sg(r.gt)?Wk(i):qk(r.serializer,i)}(t,e)}function tL(t,e,n){return t instanceof da?Kk(t,e):t instanceof ha?Yk(t,e):n}function Gk(t,e){return t instanceof uh?sg(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ch extends Lf{}class da extends Lf{constructor(e){super(),this.elements=e}}function Kk(t,e){const n=Qk(e);for(const r of t.elements)n.some(s=>xr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ha extends Lf{constructor(e){super(),this.elements=e}}function Yk(t,e){let n=Qk(e);for(const r of t.elements)n=n.filter(s=>!xr(s,r));return{arrayValue:{values:n}}}class uh extends Lf{constructor(e,n){super(),this.serializer=e,this.gt=n}}function yw(t){return at(t.integerValue||t.doubleValue)}function Qk(t){return Sy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.field=e,this.transform=n}}function nL(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof da&&r instanceof da||n instanceof ha&&r instanceof ha?la(n.elements,r.elements,xr):n instanceof uh&&r instanceof uh?xr(n.gt,r.gt):n instanceof ch&&r instanceof ch}(t.transform,e.transform)}class rL{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Of{}function Xk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ny(t.key,Bn.none()):new Gc(t.key,t.data,Bn.none());{const n=t.data,r=un.empty();let s=new zt($t.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new Js(t.key,r,new kn(s.toArray()),Bn.none())}}function sL(t,e,n){t instanceof Gc?function(r,s,o){const i=r.value.clone(),a=_w(r.fieldTransforms,s,o.transformResults);i.setAll(a),s.convertToFoundDocument(o.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Js?function(r,s,o){if(!hd(r.precondition,s))return void s.convertToUnknownDocument(o.version);const i=_w(r.fieldTransforms,s,o.transformResults),a=s.data;a.setAll(Jk(r)),a.setAll(i),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function jl(t,e,n,r){return t instanceof Gc?function(s,o,i,a){if(!hd(s.precondition,o))return i;const l=s.value.clone(),c=ww(s.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Js?function(s,o,i,a){if(!hd(s.precondition,o))return i;const l=ww(s.fieldTransforms,a,o),c=o.data;return c.setAll(Jk(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),i===null?null:i.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,i){return hd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):i}(t,e,n)}function oL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=Gk(r.transform,s||null);o!=null&&(n===null&&(n=un.empty()),n.set(r.field,o))}return n||null}function vw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&la(n,r,(s,o)=>nL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gc extends Of{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Js extends Of{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Jk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _w(t,e,n){const r=new Map;Me(t.length===n.length);for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,tL(i,a,n[s]))}return r}function ww(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,eL(o,i,e))}return r}class Ny extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iL extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&sL(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Hk();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const l=Xk(i,a);l!==null&&r.set(s.key,l),i.isValidDocument()||i.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(n,r)=>vw(n,r))&&la(this.baseMutations,e.baseMutations,(n,r)=>vw(n,r))}}class Ay{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length);let s=YR;const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Ay(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,_e;function uL(t){switch(t){default:return ie();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function e9(t){if(t===void 0)return Yr("GRPC error has no .code"),$.UNKNOWN;switch(t){case it.OK:return $.OK;case it.CANCELLED:return $.CANCELLED;case it.UNKNOWN:return $.UNKNOWN;case it.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case it.INTERNAL:return $.INTERNAL;case it.UNAVAILABLE:return $.UNAVAILABLE;case it.UNAUTHENTICATED:return $.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case it.NOT_FOUND:return $.NOT_FOUND;case it.ALREADY_EXISTS:return $.ALREADY_EXISTS;case it.PERMISSION_DENIED:return $.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case it.ABORTED:return $.ABORTED;case it.OUT_OF_RANGE:return $.OUT_OF_RANGE;case it.UNIMPLEMENTED:return $.UNIMPLEMENTED;case it.DATA_LOSS:return $.DATA_LOSS;default:return ie()}}(_e=it||(it={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ou}static getOrCreateInstance(){return Ou===null&&(Ou=new Py),Ou}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ou=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Gi([4294967295,4294967295],0);function xw(t){const e=dL().encode(t),n=new gR;return n.update(e),new Uint8Array(n.digest())}function Cw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([s,o],0)]}class jy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ml(`Invalid padding: ${n}`);if(r<0)throw new ml(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ml(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Gi.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(Gi.fromNumber(r)));return s.compare(hL)===1&&(s=new Gi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=xw(e),[r,s]=Cw(n);for(let o=0;o<this.hashCount;o++){const i=this.Et(r,s,o);if(!this.At(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new jy(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.It===0)return;const n=xw(e),[r,s]=Cw(n);for(let o=0;o<this.hashCount;o++){const i=this.Et(r,s,o);this.Rt(i)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Df(le.min(),s,new Ye(Ce),Zr(),ve())}}class Kc{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kc(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class t9{constructor(e,n){this.targetId=e,this.Vt=n}}class n9{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class bw{constructor(){this.St=0,this.Dt=Sw(),this.Ct=Kt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ve(),n=ve(),r=ve();return this.Dt.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ie()}}),new Kc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=Sw()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class fL{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Zr(),this.zt=kw(),this.Wt=new Ye(Ce)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,o=this.se(r);if(o){const i=o.target;if(ig(i))if(s===0){const a=new ee(i.path);this.Yt(r,a,Mt.newNoDocument(a,le.min()))}else Me(s===1);else{const a=this.ie(r);if(a!==s){const l=this.re(e,a);if(l!==0){this.ee(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=Py.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,d,h){var f,m,v,w,C,_;const g={localCacheCount:d,existenceFilterCount:h.count},y=h.unchangedNames;return y&&(g.bloomFilter={applied:c===0,hashCount:(f=y==null?void 0:y.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(w=(v=(m=y==null?void 0:y.bits)===null||m===void 0?void 0:m.bitmap)===null||v===void 0?void 0:v.length)!==null&&w!==void 0?w:0,padding:(_=(C=y==null?void 0:y.bits)===null||C===void 0?void 0:C.padding)!==null&&_!==void 0?_:0}),g}(l,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:i=0},hashCount:a=0}=r;let l,c;try{l=Vo(o).toUint8Array()}catch(d){if(d instanceof Pk)return aa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw d}try{c=new jy(l,i,a)}catch(d){return aa(d instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",d),1}return c.It===0?1:s!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(o=>{const i=this.Gt.ue(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;n.vt(a)||(this.Yt(e,o,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((o,i)=>{const a=this.se(i);if(a){if(o.current&&ig(a.target)){const l=new ee(a.target.path);this.jt.get(l)!==null||this.ae(i,l)||this.Yt(i,l,Mt.newNoDocument(l,e))}o.Mt&&(n.set(i,o.Ot()),o.Ft())}});let r=ve();this.zt.forEach((o,i)=>{let a=!0;i.forEachWhile(l=>{const c=this.se(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.jt.forEach((o,i)=>i.setReadTime(e));const s=new Df(e,n,this.Wt,this.jt,r);return this.jt=Zr(),this.zt=kw(),this.Wt=new Ye(Ce),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new bw,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new zt(Ce),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new bw),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function kw(){return new Ye(ee.comparator)}function Sw(){return new Ye(ee.comparator)}const pL={asc:"ASCENDING",desc:"DESCENDING"},mL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gL={and:"AND",or:"OR"};class yL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ug(t,e){return t.useProto3Json||Nf(e)?e:{value:e}}function dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vL(t,e){return dh(t,e.toTimestamp())}function _r(t){return Me(!!t),le.fromTimestamp(function(e){const n=zs(e);return new mt(n.seconds,n.nanos)}(t))}function Ry(t,e){return function(n){return new Oe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function s9(t){const e=Oe.fromString(t);return Me(l9(e)),e}function dg(t,e){return Ry(t.databaseId,e.path)}function am(t,e){const n=s9(e);if(n.get(1)!==t.databaseId.projectId)throw new G($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(o9(n))}function hg(t,e){return Ry(t.databaseId,e)}function _L(t){const e=s9(t);return e.length===4?Oe.emptyPath():o9(e)}function fg(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o9(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ew(t,e,n){return{name:dg(t,e),fields:n.value.mapValue.fields}}function wL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(Me(c===void 0||typeof c=="string"),Kt.fromBase64String(c||"")):(Me(c===void 0||c instanceof Uint8Array),Kt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(l){const c=l.code===void 0?$.UNKNOWN:e9(l.code);return new G(c,l.message||"")}(i);n=new n9(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=am(t,r.document.name),o=_r(r.document.updateTime),i=r.document.createTime?_r(r.document.createTime):le.min(),a=new un({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(s,o,i,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new fd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=am(t,r.document),o=r.readTime?_r(r.readTime):le.min(),i=Mt.newNoDocument(s,o),a=r.removedTargetIds||[];n=new fd([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=am(t,r.document),o=r.removedTargetIds||[];n=new fd([],o,s,null)}else{if(!("filter"in e))return ie();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new cL(s,o),a=r.targetId;n=new t9(a,i)}}return n}function xL(t,e){let n;if(e instanceof Gc)n={update:Ew(t,e.key,e.value)};else if(e instanceof Ny)n={delete:dg(t,e.key)};else if(e instanceof Js)n={update:Ew(t,e.key,e.data),updateMask:AL(e.fieldMask)};else{if(!(e instanceof iL))return ie();n={verify:dg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const i=o.transform;if(i instanceof ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(i instanceof da)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:i.elements}};if(i instanceof ha)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:i.elements}};if(i instanceof uh)return{fieldPath:o.field.canonicalString(),increment:i.gt};throw ie()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:vL(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie()}(t,e.precondition)),n}function CL(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?_r(r.updateTime):_r(s);return o.isEqual(le.min())&&(o=_r(s)),new rL(o,r.transformResults||[])}(n,e))):[]}function bL(t,e){return{documents:[hg(t,e.path)]}}function kL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=hg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return a9(nr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:vi(d.field),direction:TL(d.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const i=ug(t,e.limit);var a;return i!==null&&(n.structuredQuery.limit=i),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function SL(t){let e=_L(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(d){const h=i9(d);return h instanceof nr&&Ok(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=n.orderBy.map(d=>function(h){return new Ki(_i(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(d)));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Nf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new lh(f,h)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const h=!d.before,f=d.values||[];return new lh(f,h)}(n.endAt)),qR(e,s,i,o,a,"F",l,c)}function EL(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function i9(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=_i(e.unaryFilter.field);return ct.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=_i(e.unaryFilter.field);return ct.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_i(e.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_i(e.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(e){return ct.create(_i(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return nr.create(e.compositeFilter.filters.map(n=>i9(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ie()}}(e.compositeFilter.op))}(t):ie()}function TL(t){return pL[t]}function IL(t){return mL[t]}function NL(t){return gL[t]}function vi(t){return{fieldPath:t.canonicalString()}}function _i(t){return $t.fromServerFormat(t.fieldPath)}function a9(t){return t instanceof ct?function(e){if(e.op==="=="){if(hw(e.value))return{unaryFilter:{field:vi(e.field),op:"IS_NAN"}};if(dw(e.value))return{unaryFilter:{field:vi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hw(e.value))return{unaryFilter:{field:vi(e.field),op:"IS_NOT_NAN"}};if(dw(e.value))return{unaryFilter:{field:vi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vi(e.field),op:IL(e.op),value:e.value}}}(t):t instanceof nr?function(e){const n=e.getFilters().map(r=>a9(r));return n.length===1?n[0]:{compositeFilter:{op:NL(e.op),filters:n}}}(t):ie()}function AL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function l9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,s,o=le.min(),i=le.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.fe=e}}function jL(t){const e=SL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.rn=new LL}addToCollectionParentIndex(e,n){return this.rn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Vs.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class LL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new zt(Oe.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new fa(0)}static Mn(){return new fa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.changes=new Da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&jl(r.mutation,s,kn.empty(),mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const s=xo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=pl();return o.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=Zr();const i=Pl(),a=Pl();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof Js)?o=o.insert(c.key,c):d!==void 0?(i.set(c.key,d.mutation.getFieldMask()),jl(d.mutation,c,d.mutation.getFieldMask(),mt.now())):i.set(c.key,kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,d)=>i.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new DL(d,(h=i.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pl();let s=new Ye((i,a)=>i-a),o=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||kn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||ve()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=Hk();d.forEach(f=>{if(!o.has(f)){const m=Xk(n.get(f),r.get(f));m!==null&&h.set(f,m),o=o.add(f)}}),i.push(this.documentOverlayCache.saveOverlays(e,c,h))}return V.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):V.resolve(xo());let a=-1,l=o;return i.next(c=>V.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ve())).next(d=>({batchId:a,changes:zk(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=pl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let o=pl();return this.indexManager.getCollectionParents(e,s).next(i=>V.forEach(i,a=>{const l=function(c,d){return new Oa(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(o=>{s.forEach((a,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,Mt.newInvalidDocument(c)))});let i=pl();return o.forEach((a,l)=>{const c=s.get(a);c!==void 0&&jl(c.mutation,l,kn.empty(),mt.now()),Rf(n,l)&&(i=i.insert(a,l))}),i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return V.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:_r(r.createTime)}),V.resolve()}getNamedQuery(e,n){return V.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:jL(r.bundledQuery),readTime:_r(r.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.overlays=new Ye(ee.comparator),this.ls=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xo();return V.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.we(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const s=xo(),o=n.length+1,i=new ee(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&s.set(l.getKey(),l)}return V.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Ye((c,d)=>c-d);const i=this.overlays.getIterator();for(;i.hasNext();){const c=i.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=xo(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=xo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return V.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new lL(n,r));let o=this.ls.get(n);o===void 0&&(o=ve(),this.ls.set(n,o)),this.ls.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.fs=new zt(yt.ds),this.ws=new zt(yt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new yt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new yt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ee(new Oe([])),r=new yt(n,e),s=new yt(n,e+1),o=[];return this.ws.forEachInRange([r,s],i=>{this.ys(i),o.push(i.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ee(new Oe([])),r=new yt(n,e),s=new yt(n,e+1);let o=ve();return this.ws.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new yt(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ee.comparator(e.key,n.key)||Ce(e.As,n.As)}static _s(e,n){return Ce(e.As,n.As)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new zt(yt.ds)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new aL(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.Rs=this.Rs.add(new yt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(i)}lookupMutationBatch(e,n){return V.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),o=s<0?0:s;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),s=new yt(n,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,s],i=>{const a=this.Ps(i.As);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(Ce);return n.forEach(s=>{const o=new yt(s,0),i=new yt(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,i],a=>{r=r.add(a.As)})}),V.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const i=new yt(new ee(o),0);let a=new zt(Ce);return this.Rs.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.As)),!0)},i),V.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return V.forEach(n.mutations,s=>{const o=new yt(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new yt(n,0),s=this.Rs.firstAfterOrEqual(r);return V.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.Ds=e,this.docs=new Ye(ee.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Mt.newInvalidDocument(s))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Zr();const i=n.path,a=new ee(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!i.isPrefixOf(c.path))break;c.path.length>i.length+1||IR(TR(d),r)<=0||(s.has(d.key)||Rf(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,s){ie()}Cs(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new VL(this)}getSize(e){return V.resolve(this.size)}}class VL extends OL{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.persistence=e,this.xs=new Da(n=>Ey(n),Ty),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ly,this.targetCount=0,this.Ms=fa.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),V.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new fa(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Fn(n),V.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.xs.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),V.waitFor(o).next(()=>s)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.$s={},this.overlays={},this.Os=new Cy(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new zL(this),this.indexManager=new RL,this.remoteDocumentCache=function(r){return new UL(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new PL(n),this.qs=new $L(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new BL(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new qL(this.Os.next());return this.referenceDelegate.Us(),r(s).next(o=>this.referenceDelegate.Ks(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Gs(e,n){return V.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class qL extends AR{constructor(e){super(),this.currentSequenceNumber=e}}class Oy{constructor(e){this.persistence=e,this.Qs=new Ly,this.js=null}static zs(e){return new Oy(e)}get Ws(){if(this.js)return this.js;throw ie()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),V.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Ws,r=>{const s=ee.fromPath(r);return this.Hs(e,s).next(o=>{o||n.removeEntry(s,le.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return V.or([()=>V.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=ve(),s=ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Dy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(o=>o||this.Gi(e,n,s,r)).next(o=>o||this.Qi(e,n))}Ki(e,n){if(gw(n))return V.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=lg(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=ve(...o);return this.Ui.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.zi(n,c,i,l.readTime)?this.Ki(e,lg(n,null,"F")):this.Wi(e,c,n,l)}))})))}Gi(e,n,r,s){return gw(n)||s.isEqual(le.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(o=>{const i=this.ji(n,o);return this.zi(n,i,r,s)?this.Qi(e,n):(iw()<=xe.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),cg(n)),this.Wi(e,i,n,ER(s,-1)))})}ji(e,n){let r=new zt(Uk(e));return n.forEach((s,o)=>{Rf(e,o)&&(r=r.add(o))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Qi(e,n){return iw()<=xe.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",cg(n)),this.Ui.getDocumentsMatchingQuery(e,n,Vs.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new Ye(Ce),this.Yi=new Da(o=>Ey(o),Ty),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ML(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function KL(t,e,n,r){return new GL(t,e,n,r)}async function c9(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let l=ve();for(const c of s){i.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({er:c,removedBatchIds:i,addedBatchIds:a}))})})}function YL(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Zi.newChangeBuffer({trackRemovals:!0});return function(i,a,l,c){const d=l.batch,h=d.keys();let f=V.resolve();return h.forEach(m=>{f=f.next(()=>c.getEntry(a,m)).next(v=>{const w=l.docVersions.get(m);Me(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,l),v.isValidDocument()&&(v.setReadTime(l.commitVersion),c.addEntry(v)))})}),f.next(()=>i.mutationQueue.removeMutationBatch(a,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(i){let a=ve();for(let l=0;l<i.mutationResults.length;++l)i.mutationResults[l].transformResults.length>0&&(a=a.add(i.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function u9(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function QL(t,e){const n=de(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.Bs.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Bs.addMatchingKeys(o,d.addedDocuments,h)));let m=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(Kt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(h,m),function(v,w,C){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,m,d)&&a.push(n.Bs.updateTargetData(o,m))});let l=Zr(),c=ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(ZL(o,i,e.documentUpdates).next(d=>{l=d.nr,c=d.sr})),!r.isEqual(le.min())){const d=n.Bs.getLastRemoteSnapshotVersion(o).next(h=>n.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.Ji=s,o))}function ZL(t,e,n){let r=ve(),s=ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=Zr();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(le.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{nr:i,sr:s}})}function XL(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JL(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(o=>o?(s=o,V.resolve(s)):n.Bs.allocateTargetId(r).next(i=>(s=new Ss(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function pg(t,e,n){const r=de(t),s=r.Ji.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Wc(i))throw i;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function Tw(t,e,n){const r=de(t);let s=le.min(),o=ve();return r.persistence.runTransaction("Execute query","readonly",i=>function(a,l,c){const d=de(a),h=d.Yi.get(c);return h!==void 0?V.resolve(d.Ji.get(h)):d.Bs.getTargetData(l,c)}(r,i,Qr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(i,a.targetId).next(l=>{o=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(i,e,n?s:le.min(),n?o:ve())).next(a=>(eO(r,WR(e),a),{documents:a,ir:o})))}function eO(t,e,n){let r=t.Xi.get(e)||le.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Xi.set(e,r)}class Iw{constructor(){this.activeTargetIds=XR()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tO{constructor(){this.Hr=new Iw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Iw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Du=null;function lm(){return Du===null?Du=268435456+Math.round(2147483648*Math.random()):Du++,"0x"+Du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class oO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,o){const i=lm(),a=this.To(e,n);X("RestConnection",`Sending RPC '${e}' ${i}:`,a,r);const l={};return this.Eo(l,s,o),this.Ao(e,a,l,r).then(c=>(X("RestConnection",`Received RPC '${e}' ${i}: `,c),c),c=>{throw aa("RestConnection",`RPC '${e}' ${i} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,s,o,i){return this.Io(e,n,r,s,o)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+La,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}To(e,n){const r=rO[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const o=lm();return new Promise((i,a)=>{const l=new mR;l.setWithCredentials(!0),l.listenOnce(hR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case im.NO_ERROR:const d=l.getResponseJson();X(jt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),i(d);break;case im.TIMEOUT:X(jt,`RPC '${e}' ${o} timed out`),a(new G($.DEADLINE_EXCEEDED,"Request time out"));break;case im.HTTP_ERROR:const h=l.getStatus();if(X(jt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const v=function(w){const C=w.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(C)>=0?C:$.UNKNOWN}(m.status);a(new G(v,m.message))}else a(new G($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new G($.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{X(jt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(s);X(jt,`RPC '${e}' ${o} sending request:`,s),l.send(n,"POST",c,r,15)})}Ro(e,n,r){const s=lm(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=uR(),a=dR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new pR({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");X(jt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=i.createWebChannel(d,l);let f=!1,m=!1;const v=new sO({ro:C=>{m?X(jt,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(f||(X(jt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),X(jt,`RPC '${e}' stream ${s} sending:`,C),h.send(C))},oo:()=>h.close()}),w=(C,_,g)=>{C.listen(_,y=>{try{g(y)}catch(x){setTimeout(()=>{throw x},0)}})};return w(h,ju.EventType.OPEN,()=>{m||X(jt,`RPC '${e}' stream ${s} transport opened.`)}),w(h,ju.EventType.CLOSE,()=>{m||(m=!0,X(jt,`RPC '${e}' stream ${s} transport closed`),v.wo())}),w(h,ju.EventType.ERROR,C=>{m||(m=!0,aa(jt,`RPC '${e}' stream ${s} transport errored:`,C),v.wo(new G($.UNAVAILABLE,"The operation could not be completed")))}),w(h,ju.EventType.MESSAGE,C=>{var _;if(!m){const g=C.data[0];Me(!!g);const y=g,x=y.error||((_=y[0])===null||_===void 0?void 0:_.error);if(x){X(jt,`RPC '${e}' stream ${s} received error:`,x);const b=x.status;let S=function(k){const E=it[k];if(E!==void 0)return e9(E)}(b),T=x.message;S===void 0&&(S=$.INTERNAL,T="Unknown error status: "+b+" with message "+x.message),m=!0,v.wo(new G(S,T)),h.close()}else X(jt,`RPC '${e}' stream ${s} received:`,g),v._o(g)}}),w(a,fR.STAT_EVENT,C=>{C.stat===sw.PROXY?X(jt,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===sw.NOPROXY&&X(jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{v.fo()},0),v}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t){return new yL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n,r=1e3,s=1.5,o=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h9{constructor(e,n,r,s,o,i,a,l){this.ii=e,this.$o=r,this.Oo=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new d9(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new G($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iO extends h9{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=wL(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?_r(o.readTime):le.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=fg(this.serializer),n.addTarget=function(s,o){let i;const a=o.target;if(i=ig(a)?{documents:bL(s,a)}:{query:kL(s,a)},i.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){i.resumeToken=r9(s,o.resumeToken);const l=ug(s,o.expectedCount);l!==null&&(i.expectedCount=l)}else if(o.snapshotVersion.compareTo(le.min())>0){i.readTime=dh(s,o.snapshotVersion.toTimestamp());const l=ug(s,o.expectedCount);l!==null&&(i.expectedCount=l)}return i}(this.serializer,e);const r=EL(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=fg(this.serializer),n.removeTarget=e,this.Wo(n)}}class aO extends h9{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=CL(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.cu(r,n)}return Me(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=fg(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xL(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new G($.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Io(e,n,r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G($.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.vo(e,n,r,o,i,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G($.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class cO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Yr(n),this.mu=!1):X("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(i=>{r.enqueueAndForget(async()=>{ni(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=de(a);l.vu.add(4),await Yc(l),l.bu.set("Unknown"),l.vu.delete(4),await $f(l)}(this))})}),this.bu=new cO(r,s)}}async function $f(t){if(ni(t))for(const e of t.Ru)await e(!0)}async function Yc(t){for(const e of t.Ru)await e(!1)}function f9(t,e){const n=de(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Fy(n)?$y(n):Ma(n).Ko()&&My(n,e))}function p9(t,e){const n=de(t),r=Ma(n);n.Au.delete(e),r.Ko()&&m9(n,e),n.Au.size===0&&(r.Ko()?r.jo():ni(n)&&n.bu.set("Unknown"))}function My(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ma(t).su(e)}function m9(t,e){t.Vu.qt(e),Ma(t).iu(e)}function $y(t){t.Vu=new fL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ma(t).start(),t.bu.gu()}function Fy(t){return ni(t)&&!Ma(t).Uo()&&t.Au.size>0}function ni(t){return de(t).vu.size===0}function g9(t){t.Vu=void 0}async function dO(t){t.Au.forEach((e,n)=>{My(t,e)})}async function hO(t,e){g9(t),Fy(t)?(t.bu.Iu(e),$y(t)):t.bu.set("Unknown")}async function fO(t,e,n){if(t.bu.set("Online"),e instanceof n9&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const i of s.targetIds)r.Au.has(i)&&(await r.remoteSyncer.rejectListen(i,o),r.Au.delete(i),r.Vu.removeTarget(i))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof fd?t.Vu.Ht(e):e instanceof t9?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(le.min()))try{const r=await u9(t.localStore);n.compareTo(r)>=0&&await function(s,o){const i=s.Vu.ce(o);return i.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.Au.get(l);c&&s.Au.set(l,c.withResumeToken(a.resumeToken,o))}}),i.targetMismatches.forEach((a,l)=>{const c=s.Au.get(a);if(!c)return;s.Au.set(a,c.withResumeToken(Kt.EMPTY_BYTE_STRING,c.snapshotVersion)),m9(s,a);const d=new Ss(c.target,a,l,c.sequenceNumber);My(s,d)}),s.remoteSyncer.applyRemoteEvent(i)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!Wc(e))throw e;t.vu.add(1),await Yc(t),t.bu.set("Offline"),n||(n=()=>u9(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await $f(t)})}function y9(t,e){return e().catch(n=>hh(t,n,e))}async function Ff(t){const e=de(t),n=Hs(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;pO(e);)try{const s=await XL(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,mO(e,s)}catch(s){await hh(e,s)}v9(e)&&_9(e)}function pO(t){return ni(t)&&t.Eu.length<10}function mO(t,e){t.Eu.push(e);const n=Hs(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function v9(t){return ni(t)&&!Hs(t).Uo()&&t.Eu.length>0}function _9(t){Hs(t).start()}async function gO(t){Hs(t).hu()}async function yO(t){const e=Hs(t);for(const n of t.Eu)e.uu(n.mutations)}async function vO(t,e,n){const r=t.Eu.shift(),s=Ay.from(r,e,n);await y9(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ff(t)}async function _O(t,e){e&&Hs(t).ou&&await async function(n,r){if(s=r.code,uL(s)&&s!==$.ABORTED){const o=n.Eu.shift();Hs(n).Qo(),await y9(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Ff(n)}var s}(t,e),v9(t)&&_9(t)}async function Aw(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=ni(n);n.vu.add(3),await Yc(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await $f(n)}async function wO(t,e){const n=de(t);e?(n.vu.delete(2),await $f(n)):e||(n.vu.add(2),await Yc(n),n.bu.set("Unknown"))}function Ma(t){return t.Su||(t.Su=function(e,n,r){const s=de(e);return s.fu(),new iO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:dO.bind(null,t),ao:hO.bind(null,t),nu:fO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Fy(t)?$y(t):t.bu.set("Unknown")):(await t.Su.stop(),g9(t))})),t.Su}function Hs(t){return t.Du||(t.Du=function(e,n,r){const s=de(e);return s.fu(),new aO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:gO.bind(null,t),ao:_O.bind(null,t),au:yO.bind(null,t),cu:vO.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Ff(t)):(await t.Du.stop(),t.Eu.length>0&&(X("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new By(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uy(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),Wc(t))return new G($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=pl(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new Qi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(){this.Cu=new Ye(ee.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ie():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class pa{constructor(e,n,r,s,o,i,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new pa(e,n,Qi.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Nu=void 0,this.listeners=[]}}class CO{constructor(){this.queries=new Da(e=>Bk(e),jf),this.onlineState="Unknown",this.ku=new Set}}async function Vy(t,e){const n=de(t),r=e.query;let s=!1,o=n.queries.get(r);if(o||(s=!0,o=new xO),s)try{o.Nu=await n.onListen(r)}catch(i){const a=Uy(i,`Initialization of query '${cg(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Mu(n.onlineState),o.Nu&&e.$u(o.Nu)&&Hy(n)}async function zy(t,e){const n=de(t),r=e.query;let s=!1;const o=n.queries.get(r);if(o){const i=o.listeners.indexOf(e);i>=0&&(o.listeners.splice(i,1),s=o.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function bO(t,e){const n=de(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.listeners)a.$u(s)&&(r=!0);i.Nu=s}}r&&Hy(n)}function kO(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const o of s.listeners)o.onError(n);r.queries.delete(e)}function Hy(t){t.ku.forEach(e=>{e.next()})}class qy{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e){this.key=e}}class x9{constructor(e){this.key=e}}class SO{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ve(),this.mutatedKeys=ve(),this.tc=Uk(e),this.ec=new Qi(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new Pw,s=n?n.ec:this.ec;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),m=Rf(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let C=!1;f&&m?f.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),C=!0):this.rc(f,m)||(r.track({type:2,doc:m}),C=!0,(l&&this.tc(m,l)>0||c&&this.tc(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),C=!0):f&&!m&&(r.track({type:1,doc:f}),C=!0,(l||c)&&(a=!0)),C&&(m?(i=i.add(m),o=w?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ec:i,ic:r,zi:a,mutatedKeys:o}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((c,d)=>function(h,f){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return m(h)-m(f)}(c.type,d.type)||this.tc(c.doc,d.doc)),this.oc(r);const i=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,o.length!==0||l?{snapshot:new pa(this.query,e.ec,s,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:i}:{cc:i}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Pw,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ve(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new x9(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new w9(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ve();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return pa.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class EO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TO{constructor(e){this.key=e,this.fc=!1}}class IO{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.dc={},this.wc=new Da(a=>Bk(a),jf),this._c=new Map,this.mc=new Set,this.gc=new Ye(ee.comparator),this.yc=new Map,this.Ic=new Ly,this.Tc={},this.Ec=new Map,this.Ac=fa.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function NO(t,e){const n=FO(t);let r,s;const o=n.wc.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),s=o.view.lc();else{const i=await JL(n.localStore,Qr(e)),a=n.sharedClientState.addLocalQueryTarget(i.targetId);r=i.targetId,s=await AO(n,e,r,a==="current",i.resumeToken),n.isPrimaryClient&&f9(n.remoteStore,i)}return s}async function AO(t,e,n,r,s){t.Rc=(h,f,m)=>async function(v,w,C,_){let g=w.view.sc(C);g.zi&&(g=await Tw(v.localStore,w.query,!1).then(({documents:b})=>w.view.sc(b,g)));const y=_&&_.targetChanges.get(w.targetId),x=w.view.applyChanges(g,v.isPrimaryClient,y);return Rw(v,w.targetId,x.cc),x.snapshot}(t,h,f,m);const o=await Tw(t.localStore,e,!0),i=new SO(e,o.ir),a=i.sc(o.documents),l=Kc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=i.applyChanges(a,t.isPrimaryClient,l);Rw(t,n,c.cc);const d=new EO(e,n,i);return t.wc.set(e,d),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function PO(t,e){const n=de(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(o=>!jf(o,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await pg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),p9(n.remoteStore,r.targetId),mg(n,r.targetId)}).catch(qc)):(mg(n,r.targetId),await pg(n.localStore,r.targetId,!0))}async function jO(t,e,n){const r=BO(t);try{const s=await function(o,i){const a=de(o),l=mt.now(),c=i.reduce((f,m)=>f.add(m.key),ve());let d,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let m=Zr(),v=ve();return a.Zi.getEntries(f,c).next(w=>{m=w,m.forEach((C,_)=>{_.isValidDocument()||(v=v.add(C))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,m)).next(w=>{d=w;const C=[];for(const _ of i){const g=oL(_,d.get(_.key).overlayedDocument);g!=null&&C.push(new Js(_.key,g,jk(g.value.mapValue),Bn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,C,i)}).next(w=>{h=w;const C=w.applyToLocalDocumentSet(d,v);return a.documentOverlayCache.saveOverlays(f,w.batchId,C)})}).then(()=>({batchId:h.batchId,changes:zk(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,i,a){let l=o.Tc[o.currentUser.toKey()];l||(l=new Ye(Ce)),l=l.insert(i,a),o.Tc[o.currentUser.toKey()]=l}(r,s.batchId,n),await Qc(r,s.changes),await Ff(r.remoteStore)}catch(s){const o=Uy(s,"Failed to persist write");n.reject(o)}}async function C9(t,e){const n=de(t);try{const r=await QL(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.yc.get(o);i&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?i.fc=!0:s.modifiedDocuments.size>0?Me(i.fc):s.removedDocuments.size>0&&(Me(i.fc),i.fc=!1))}),await Qc(n,r,e)}catch(r){await qc(r)}}function jw(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((o,i)=>{const a=i.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(o,i){const a=de(o);a.onlineState=i;let l=!1;a.queries.forEach((c,d)=>{for(const h of d.listeners)h.Mu(i)&&(l=!0)}),l&&Hy(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function RO(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),o=s&&s.key;if(o){let i=new Ye(ee.comparator);i=i.insert(o,Mt.newNoDocument(o,le.min()));const a=ve().add(o),l=new Df(le.min(),new Map,new Ye(Ce),i,a);await C9(r,l),r.gc=r.gc.remove(o),r.yc.delete(e),Wy(r)}else await pg(r.localStore,e,!1).then(()=>mg(r,e,n)).catch(qc)}async function LO(t,e){const n=de(t),r=e.batch.batchId;try{const s=await YL(n.localStore,e);k9(n,r,null),b9(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qc(n,s)}catch(s){await qc(s)}}async function OO(t,e,n){const r=de(t);try{const s=await function(o,i){const a=de(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,i).next(d=>(Me(d!==null),c=d.keys(),a.mutationQueue.removeMutationBatch(l,d))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,i)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);k9(r,e,n),b9(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qc(r,s)}catch(s){await qc(s)}}function b9(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function k9(t,e,n){const r=de(t);let s=r.Tc[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function mg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||S9(t,r)})}function S9(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(p9(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Wy(t))}function Rw(t,e,n){for(const r of n)r instanceof w9?(t.Ic.addReference(r.key,e),DO(t,r)):r instanceof x9?(X("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||S9(t,r.key)):ie()}function DO(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(X("SyncEngine","New document in limbo: "+n),t.mc.add(r),Wy(t))}function Wy(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ee(Oe.fromString(e)),r=t.Ac.next();t.yc.set(r,new TO(n)),t.gc=t.gc.insert(n,r),f9(t.remoteStore,new Ss(Qr(Af(n.path)),r,"TargetPurposeLimboResolution",Cy.ct))}}async function Qc(t,e,n){const r=de(t),s=[],o=[],i=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{i.push(r.Rc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const d=Dy.Li(l.targetId,c);o.push(d)}}))}),await Promise.all(i),r.dc.nu(s),await async function(a,l){const c=de(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(l,h=>V.forEach(h.Fi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>V.forEach(h.Bi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Wc(d))throw d;X("LocalStore","Failed to update sequence numbers: "+d)}for(const d of l){const h=d.targetId;if(!d.fromCache){const f=c.Ji.get(h),m=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(m);c.Ji=c.Ji.insert(h,v)}}}(r.localStore,o))}async function MO(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await c9(n.localStore,e);n.currentUser=e,function(s,o){s.Ec.forEach(i=>{i.forEach(a=>{a.reject(new G($.CANCELLED,o))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qc(n,r.er)}}function $O(t,e){const n=de(t),r=n.yc.get(e);if(r&&r.fc)return ve().add(r.key);{let s=ve();const o=n._c.get(e);if(!o)return s;for(const i of o){const a=n.wc.get(i);s=s.unionWith(a.view.nc)}return s}}function FO(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=C9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$O.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RO.bind(null,e),e.dc.nu=bO.bind(null,e.eventManager),e.dc.Pc=kO.bind(null,e.eventManager),e}function BO(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,e),e}class Lw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Mf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return KL(this.persistence,new WL,e.initialUser,this.serializer)}createPersistence(e){return new HL(Oy.zs,this.serializer)}createSharedClientState(e){return new tO}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class UO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MO.bind(null,this.syncEngine),await wO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new CO}createDatastore(e){const n=Mf(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new oO(s));var s;return function(o,i,a,l){return new lO(o,i,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,o=a=>jw(this.syncEngine,a,0),i=Nw.D()?new Nw:new nO,new uO(n,r,s,o,i);var n,r,s,o,i}createSyncEngine(e,n){return function(r,s,o,i,a,l,c){const d=new IO(r,s,o,i,a,l);return c&&(d.vc=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=de(e);X("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await Yc(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ot.UNAUTHENTICATED,this.clientId=Nk.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Uy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function um(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await c9(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ow(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HO(t);X("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Aw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,o)=>Aw(e.remoteStore,o)),t._onlineComponents=e}function zO(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function HO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await um(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zO(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await um(t,new Lw)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await um(t,new Lw);return t._offlineComponents}async function E9(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await Ow(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await Ow(t,new UO))),t._onlineComponents}function qO(t){return E9(t).then(e=>e.syncEngine)}async function fh(t){const e=await E9(t),n=e.eventManager;return n.onListen=NO.bind(null,e.syncEngine),n.onUnlisten=PO.bind(null,e.syncEngine),n}function WO(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const c=new Gy({next:h=>{o.enqueueAndForget(()=>zy(s,d));const f=h.docs.has(i);!f&&h.fromCache?l.reject(new G($.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&a&&a.source==="server"?l.reject(new G($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new qy(Af(i.path),c,{includeMetadataChanges:!0,Ku:!0});return Vy(s,d)}(await fh(t),t.asyncQueue,e,n,r)),r.promise}function GO(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,i,a,l){const c=new Gy({next:h=>{o.enqueueAndForget(()=>zy(s,d)),h.fromCache&&a.source==="server"?l.reject(new G($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),d=new qy(i,c,{includeMetadataChanges:!0,Ku:!0});return Vy(s,d)}(await fh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(t,e,n){if(!n)throw new G($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KO(t,e,n,r){if(e===!0&&r===!0)throw new G($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mw(t){if(!ee.isDocumentKey(t))throw new G($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $w(t){if(ee.isDocumentKey(t))throw new G($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function gn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bf(t);throw new G($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T9((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Uf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fw(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new yR;switch(n.type){case"firstParty":return new xR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new G($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Dw.get(e);n&&(X("ComponentProvider","Removing Datastore"),Dw.delete(e),n.terminate())}(this),Promise.resolve()}}function YO(t,e,n,r={}){var s;const o=(t=gn(t,Uf))._getSettings(),i=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==i&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:i,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ot.MOCK_USER;else{a=V4(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new G($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ot(c)}t._authCredentials=new vR(new Ik(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}}class eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class Ds extends eo{constructor(e,n,r){super(e,n,Af(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new ee(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function Cr(t,e,...n){if(t=Ae(t),I9("collection","path",e),t instanceof Uf){const r=Oe.fromString(e,...n);return $w(r),new Ds(t,null,r)}{if(!(t instanceof Ht||t instanceof Ds))throw new G($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return $w(r),new Ds(t.firestore,null,r)}}function J(t,e,...n){if(t=Ae(t),arguments.length===1&&(e=Nk.A()),I9("doc","path",e),t instanceof Uf){const r=Oe.fromString(e,...n);return Mw(r),new Ht(t,null,new ee(r))}{if(!(t instanceof Ht||t instanceof Ds))throw new G($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return Mw(r),new Ht(t.firestore,t instanceof Ds?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new d9(this,"async_queue_retry"),this.Xc=()=>{const n=cm();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=cm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new $r;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Wc(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(o){let i=o.message||"";return o.stack&&(i=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),i}(r);throw Yr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=By.createAndSchedule(this,e,n,r,o=>this.na(o));return this.zc.push(s),s}Zc(){this.Wc&&ie()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Bw(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}let Xr=class extends Uf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new QO,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||N9(this),this._firestoreClient.terminate()}};function ZO(t,e){const n=typeof t=="object"?t:H0(),r=typeof t=="string"?t:"(default)",s=lf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=F4("firestore");o&&YO(s,...o)}return s}function Vf(t){return t._firestoreClient||N9(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function N9(t){var e,n,r;const s=t._freezeSettings(),o=function(i,a,l,c){return new RR(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,T9(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new VO(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ma(Kt.fromBase64String(e))}catch(n){throw new G($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ma(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=/^__.*__$/;class JO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gc(e,this.data,n,this.fieldTransforms)}}class A9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function P9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class Hf{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return ph(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(P9(this.ca)&&XO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class eD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mf(e)}ya(e,n,r,s=!1){return new Hf({ca:e,methodName:n,ga:r,path:$t.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(t){const e=t._freezeSettings(),n=Mf(t._databaseId);return new eD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function j9(t,e,n,r,s,o={}){const i=t.ya(o.merge||o.mergeFields?2:0,e,n,s);Yy("Data must be an object, but it was:",i,r);const a=L9(r,i);let l,c;if(o.merge)l=new kn(i.fieldMask),c=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const f=gg(e,h,n);if(!i.contains(f))throw new G($.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);D9(d,f)||d.push(f)}l=new kn(d),c=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=i.fieldTransforms;return new JO(new un(a),l,c)}class Wf extends Zc{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wf}}function R9(t,e,n){return new Hf({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class tD extends Zc{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=R9(this,e,!0),r=this.pa.map(o=>ri(o,n)),s=new da(r);return new Zk(e.path,s)}isEqual(e){return this===e}}class nD extends Zc{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=R9(this,e,!0),r=this.pa.map(o=>ri(o,n)),s=new ha(r);return new Zk(e.path,s)}isEqual(e){return this===e}}function rD(t,e,n,r){const s=t.ya(1,e,n);Yy("Data must be an object, but it was:",s,r);const o=[],i=un.empty();ti(r,(l,c)=>{const d=Qy(e,l,n);c=Ae(c);const h=s.da(d);if(c instanceof Wf)o.push(d);else{const f=ri(c,h);f!=null&&(o.push(d),i.set(d,f))}});const a=new kn(o);return new A9(i,a,s.fieldTransforms)}function sD(t,e,n,r,s,o){const i=t.ya(1,e,n),a=[gg(e,r,n)],l=[s];if(o.length%2!=0)throw new G($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(gg(e,o[f])),l.push(o[f+1]);const c=[],d=un.empty();for(let f=a.length-1;f>=0;--f)if(!D9(c,a[f])){const m=a[f];let v=l[f];v=Ae(v);const w=i.da(m);if(v instanceof Wf)c.push(m);else{const C=ri(v,w);C!=null&&(c.push(m),d.set(m,C))}}const h=new kn(c);return new A9(d,h,i.fieldTransforms)}function oD(t,e,n,r=!1){return ri(n,t.ya(r?4:3,e))}function ri(t,e){if(O9(t=Ae(t)))return Yy("Unsupported field value:",e,t),L9(t,e);if(t instanceof Zc)return function(n,r){if(!P9(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let o=0;for(const i of n){let a=ri(i,r.wa(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Ae(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return JR(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=mt.fromDate(n);return{timestampValue:dh(r.serializer,s)}}if(n instanceof mt){const s=new mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dh(r.serializer,s)}}if(n instanceof Ky)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ma)return{bytesValue:r9(r.serializer,n._byteString)};if(n instanceof Ht){const s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ry(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Bf(n)}`)}(t,e)}function L9(t,e){const n={};return Ak(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ti(t,(r,s)=>{const o=ri(s,e.ha(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function O9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Ky||t instanceof ma||t instanceof Ht||t instanceof Zc)}function Yy(t,e,n){if(!O9(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Bf(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function gg(t,e,n){if((e=Ae(e))instanceof zf)return e._internalPath;if(typeof e=="string")return Qy(t,e);throw ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const iD=new RegExp("[~\\*/\\[\\]]");function Qy(t,e,n){if(e.search(iD)>=0)throw ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zf(...e.split("."))._internalPath}catch{throw ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ph(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||i)&&(l+=" (found",o&&(l+=` in field ${r}`),i&&(l+=` in document ${s}`),l+=")"),new G($.INVALID_ARGUMENT,a+t+l)}function D9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aD extends M9{data(){return super.data()}}function Zy(t,e){return typeof e=="string"?Qy(t,e):e instanceof zf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class F9 extends Xy{}function Xc(t,e,...n){let r=[];e instanceof Xy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(a=>a instanceof ev).length,i=s.filter(a=>a instanceof Jy).length;if(o>1||o>0&&i>0)throw new G($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Jy extends F9{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Jy(e,n,r)}_apply(e){const n=this._parse(e);return B9(e._query,n),new eo(e.firestore,e.converter,ag(e._query,n))}_parse(e){const n=qf(e.firestore);return function(s,o,i,a,l,c,d){let h;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new G($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Vw(d,c);const f=[];for(const m of d)f.push(Uw(a,s,m));h={arrayValue:{values:f}}}else h=Uw(a,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Vw(d,c),h=oD(i,o,d,c==="in"||c==="not-in");return ct.create(l,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ev extends Xy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ev(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const i=s.getFlattenedFilters();for(const a of i)B9(o,a),o=ag(o,a)}(e._query,n),new eo(e.firestore,e.converter,ag(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tv extends F9{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tv(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new G($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new G($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Ki(s,o);return function(a,l){if(Iy(a)===null){const c=Pf(a);c!==null&&U9(a,c,l.field)}}(r,i),i}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Oa(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Jc(t,e="asc"){const n=e,r=Zy("orderBy",t);return tv._create(r,n)}function Uw(t,e,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new G($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fk(e)&&n.indexOf("/")!==-1)throw new G($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!ee.isDocumentKey(r))throw new G($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return uw(t,new ee(r))}if(n instanceof Ht)return uw(t,n._key);throw new G($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(n)}.`)}function Vw(t,e){if(!Array.isArray(t)||t.length===0)throw new G($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function B9(t,e){if(e.isInequality()){const r=Pf(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new G($.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const o=Iy(t);o!==null&&U9(t,s,o)}const n=function(r,s){for(const o of r)for(const i of o.getFlattenedFilters())if(s.indexOf(i.op)>=0)return i.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function U9(t,e,n){if(!n.isEqual(e))throw new G($.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class lD{convertValue(e,n="none"){switch(zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ti(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Ky(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ky(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const n=zs(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);Me(l9(r));const s=new _c(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return s.isEqual(n)||Yr(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class z9 extends M9{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class pd extends z9{data(e={}){return super.data(e)}}class H9{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new pd(this._firestore,this._userDataWriter,r.key,r,new gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(i=>{const a=new pd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new gl(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);return i.doc,{type:"added",doc:a,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(i=>s||i.type!==3).map(i=>{const a=new pd(r._firestore,r._userDataWriter,i.doc.key,i.doc,new gl(r._snapshot.mutatedKeys.has(i.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return i.type!==0&&(l=o.indexOf(i.doc.key),o=o.delete(i.doc.key)),i.type!==1&&(o=o.add(i.doc),c=o.indexOf(i.doc.key)),{type:cD(i.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t){t=gn(t,Ht);const e=gn(t.firestore,Xr);return WO(Vf(e),t._key).then(n=>W9(e,t,n))}class nv extends lD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function uD(t){t=gn(t,eo);const e=gn(t.firestore,Xr),n=Vf(e),r=new nv(e);return $9(t._query),GO(n,t._query).then(s=>new H9(e,r,t,s))}function gt(t,e,n){t=gn(t,Ht);const r=gn(t.firestore,Xr),s=V9(t.converter,e,n);return Kf(r,[j9(qf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Bn.none())])}function qs(t,e,n,...r){t=gn(t,Ht);const s=gn(t.firestore,Xr),o=qf(s);let i;return i=typeof(e=Ae(e))=="string"||e instanceof zf?sD(o,"updateDoc",t._key,e,n,r):rD(o,"updateDoc",t._key,e),Kf(s,[i.toMutation(t._key,Bn.exists(!0))])}function q9(t){return Kf(gn(t.firestore,Xr),[new Ny(t._key,Bn.none())])}function Gf(t,e){const n=gn(t.firestore,Xr),r=J(t),s=V9(t.converter,e);return Kf(n,[j9(qf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then(()=>r)}function $a(t,...e){var n,r,s;t=Ae(t);let o={includeMetadataChanges:!1},i=0;typeof e[i]!="object"||Bw(e[i])||(o=e[i],i++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Bw(e[i])){const h=e[i];e[i]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[i+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[i+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,d;if(t instanceof Ht)c=gn(t.firestore,Xr),d=Af(t._key.path),l={next:h=>{e[i]&&e[i](W9(c,t,h))},error:e[i+1],complete:e[i+2]};else{const h=gn(t,eo);c=gn(h.firestore,Xr),d=h._query;const f=new nv(c);l={next:m=>{e[i]&&e[i](new H9(c,f,h,m))},error:e[i+1],complete:e[i+2]},$9(t._query)}return function(h,f,m,v){const w=new Gy(v),C=new qy(f,w,m);return h.asyncQueue.enqueueAndForget(async()=>Vy(await fh(h),C)),()=>{w.Dc(),h.asyncQueue.enqueueAndForget(async()=>zy(await fh(h),C))}}(Vf(c),d,a,l)}function Kf(t,e){return function(n,r){const s=new $r;return n.asyncQueue.enqueueAndForget(async()=>jO(await qO(n),r,s)),s.promise}(Vf(t),e)}function W9(t,e,n){const r=n.docs.get(e._key),s=new nv(t);return new z9(t,s,e._key,r,new gl(n.hasPendingWrites,n.fromCache),e.converter)}function uo(...t){return new tD("arrayUnion",t)}function dD(...t){return new nD("arrayRemove",t)}(function(t,e=!0){(function(n){La=n})(Jo),$o(new Us("firestore",(n,{instanceIdentifier:r,options:s})=>{const o=n.getProvider("app").getImmediate(),i=new Xr(new _R(n.getProvider("auth-internal")),new bR(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new G($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _c(a.options.projectId,l)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),i._setSettings(s),i},"PUBLIC").setMultipleInstances(!0)),gr(ow,"3.13.0",t),gr(ow,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="firebasestorage.googleapis.com",K9="storageBucket",hD=2*60*1e3,fD=10*60*1e3,pD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe extends Sr{constructor(e,n,r=0){super(dm(e),`Firebase Storage: ${n} (${dm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $e;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($e||($e={}));function dm(t){return"storage/"+t}function rv(){const t="An unknown error occurred, please check the error payload for server response.";return new Qe($e.UNKNOWN,t)}function mD(t){return new Qe($e.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function gD(t){return new Qe($e.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function yD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe($e.UNAUTHENTICATED,t)}function vD(){return new Qe($e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function _D(t){return new Qe($e.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Y9(){return new Qe($e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Q9(){return new Qe($e.CANCELED,"User canceled the upload/download.")}function wD(t){return new Qe($e.INVALID_URL,"Invalid URL '"+t+"'.")}function xD(t){return new Qe($e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CD(){return new Qe($e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+K9+"' property when initializing the app?")}function Z9(){return new Qe($e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bD(){return new Qe($e.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function kD(){return new Qe($e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function SD(t){return new Qe($e.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yg(t){return new Qe($e.INVALID_ARGUMENT,t)}function X9(){return new Qe($e.APP_DELETED,"The Firebase app was deleted.")}function ED(t){return new Qe($e.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rl(t,e){return new Qe($e.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Za(t){throw new Qe($e.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(r.path==="")return r;throw xD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+s+i,"i"),l={bucket:1,path:3};function c(x){x.path_=decodeURIComponent(x.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),v={bucket:1,path:3},w=n===G9?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",_=new RegExp(`^https?://${w}/${s}/${C}`,"i"),y=[{regex:a,indices:l,postModify:o},{regex:m,indices:v,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<y.length;x++){const b=y[x],S=b.regex.exec(e);if(S){const T=S[b.indices.bucket];let k=S[b.indices.path];k||(k=""),r=new Sn(T,k),b.postModify(r);break}}if(r==null)throw wD(e);return r}}class TD{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t,e,n){let r=1,s=null,o=null,i=!1,a=0;function l(){return a===2}let c=!1;function d(...C){c||(c=!0,e.apply(null,C))}function h(C){s=setTimeout(()=>{s=null,t(m,l())},C)}function f(){o&&clearTimeout(o)}function m(C,..._){if(c){f();return}if(C){f(),d.call(null,C,..._);return}if(l()||i){f(),d.call(null,C,..._);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let v=!1;function w(C){v||(v=!0,f(),!c&&(s!==null?(C||(a=2),clearTimeout(s),h(0)):C||(a=1)))}return h(0),o=setTimeout(()=>{i=!0,w(!0)},n),w}function ND(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){return t!==void 0}function PD(t){return typeof t=="function"}function jD(t){return typeof t=="object"&&!Array.isArray(t)}function Yf(t){return typeof t=="string"||t instanceof String}function zw(t){return sv()&&t instanceof Blob}function sv(){return typeof Blob<"u"&&!$I()}function Hw(t,e,n,r){if(r<e)throw yg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw yg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function J9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(No||(No={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,s,o,i,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Mu(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const i=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(i),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(i),this.pendingConnection_=null;const a=o.getErrorCode()===No.NO_ERROR,l=o.getStatus();if(!a||e7(l,this.additionalRetryCodes_)&&this.retry){const d=o.getErrorCode()===No.ABORT;r(!1,new Mu(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Mu(c,o))})},n=(r,s)=>{const o=this.resolve_,i=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());AD(l)?o(l):o()}catch(l){i(l)}else if(a!==null){const l=rv();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(s.canceled){const l=this.appDelete_?X9():Q9();i(l)}else{const l=Y9();i(l)}};this.canceled_?n(!1,new Mu(!1,null,!0)):this.backoffId_=ID(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ND(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function OD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function MD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $D(t,e,n,r,s,o,i=!0){const a=J9(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return DD(c,e),LD(c,n),OD(c,o),MD(c,r),new RD(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function BD(...t){const e=FD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(sv())return new Blob(t);throw new Qe($e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function UD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t){if(typeof atob>"u")throw SD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hm{constructor(e,n){this.data=e,this.contentType=n||null}}function zD(t,e){switch(t){case fr.RAW:return new hm(t7(e));case fr.BASE64:case fr.BASE64URL:return new hm(n7(t,e));case fr.DATA_URL:return new hm(qD(e),WD(e))}throw rv()}function t7(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,i=t.charCodeAt(++n);r=65536|(o&1023)<<10|i&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function HD(t){let e;try{e=decodeURIComponent(t)}catch{throw Rl(fr.DATA_URL,"Malformed data URL.")}return t7(e)}function n7(t,e){switch(t){case fr.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Rl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case fr.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Rl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=VD(e)}catch(s){throw s.message.includes("polyfill")?s:Rl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class r7{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rl(fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=GD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function qD(t){const e=new r7(t);return e.base64?n7(fr.BASE64,e.rest):HD(e.rest)}function WD(t){return new r7(t).contentType}function GD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){let r=0,s="";zw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(zw(this.data_)){const r=this.data_,s=UD(r,e,n);return s===null?null:new Nr(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Nr(r,!0)}}static getBlob(...e){if(sv()){const n=e.map(r=>r instanceof Nr?r.data_:r);return new Nr(BD.apply(null,n))}else{const n=e.map(i=>Yf(i)?zD(fr.RAW,i).data:i.data_);let r=0;n.forEach(i=>{r+=i.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(i=>{for(let a=0;a<i.length;a++)s[o++]=i[a]}),new Nr(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(t){let e;try{e=JSON.parse(t)}catch{return null}return jD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YD(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function o7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t,e){return e}class Qt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||QD}}let $u=null;function ZD(t){return!Yf(t)||t.length<2?t:o7(t)}function Qf(){if($u)return $u;const t=[];t.push(new Qt("bucket")),t.push(new Qt("generation")),t.push(new Qt("metageneration")),t.push(new Qt("name","fullPath",!0));function e(o,i){return ZD(i)}const n=new Qt("name");n.xform=e,t.push(n);function r(o,i){return i!==void 0?Number(i):i}const s=new Qt("size");return s.xform=r,t.push(s),t.push(new Qt("timeCreated")),t.push(new Qt("updated")),t.push(new Qt("md5Hash",null,!0)),t.push(new Qt("cacheControl",null,!0)),t.push(new Qt("contentDisposition",null,!0)),t.push(new Qt("contentEncoding",null,!0)),t.push(new Qt("contentLanguage",null,!0)),t.push(new Qt("contentType",null,!0)),t.push(new Qt("metadata","customMetadata",!0)),$u=t,$u}function XD(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new Sn(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function JD(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const i=n[o];r[i.local]=i.xform(r,e[i.server])}return XD(r,t),r}function i7(t,e,n){const r=s7(e);return r===null?null:JD(t,r,n)}function eM(t,e,n,r){const s=s7(e);if(s===null||!Yf(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const i=encodeURIComponent;return o.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+i(d)+"/o/"+i(h),m=Fa(f,n,r),v=J9({alt:"media",token:c});return m+v})[0]}function a7(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class si{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t){if(!t)throw rv()}function ov(t,e){function n(r,s){const o=i7(t,s,e);return Fr(o!==null),o}return n}function tM(t,e){function n(r,s){const o=i7(t,s,e);return Fr(o!==null),eM(o,s,t.host,t._protocol)}return n}function eu(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=vD():s=yD():n.getStatus()===402?s=gD(t.bucket):n.getStatus()===403?s=_D(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function iv(t){const e=eu(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=mD(t.path)),o.serverResponse=s.serverResponse,o}return n}function l7(t,e,n){const r=e.fullServerUrl(),s=Fa(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new si(s,o,ov(t,n),i);return a.errorHandler=iv(e),a}function nM(t,e,n){const r=e.fullServerUrl(),s=Fa(r,t.host,t._protocol),o="GET",i=t.maxOperationRetryTime,a=new si(s,o,tM(t,n),i);return a.errorHandler=iv(e),a}function rM(t,e){const n=e.fullServerUrl(),r=Fa(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function i(l,c){}const a=new si(r,s,i,o);return a.successCodes=[200,204],a.errorHandler=iv(e),a}function sM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function c7(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=sM(null,e)),r}function u7(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let x=0;x<2;x++)y=y+Math.random().toString().slice(2);return y}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const c=c7(e,r,s),d=a7(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=Nr.getBlob(h,r,f);if(m===null)throw Z9();const v={name:c.fullPath},w=Fa(o,t.host,t._protocol),C="POST",_=t.maxUploadRetryTime,g=new si(w,C,ov(t,n),_);return g.urlParams=v,g.headers=i,g.body=m.uploadData(),g.errorHandler=eu(e),g}class mh{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function av(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Fr(!1)}return Fr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function oM(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),i=c7(e,r,s),a={name:i.fullPath},l=Fa(o,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":i.contentType,"Content-Type":"application/json; charset=utf-8"},h=a7(i,n),f=t.maxUploadRetryTime;function m(w){av(w);let C;try{C=w.getResponseHeader("X-Goog-Upload-URL")}catch{Fr(!1)}return Fr(Yf(C)),C}const v=new si(l,c,m,f);return v.urlParams=a,v.headers=d,v.body=h,v.errorHandler=eu(e),v}function iM(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function o(c){const d=av(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Fr(!1)}h||Fr(!1);const f=Number(h);return Fr(!isNaN(f)),new mh(f,r.size(),d==="final")}const i="POST",a=t.maxUploadRetryTime,l=new si(n,i,o,a);return l.headers=s,l.errorHandler=eu(e),l}const qw=256*1024;function aM(t,e,n,r,s,o,i,a){const l=new mh(0,0);if(i?(l.current=i.current,l.total=i.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw bD();const c=l.total-l.current;let d=c;s>0&&(d=Math.min(d,s));const h=l.current,f=h+d;let m="";d===0?m="finalize":c===d?m="upload, finalize":m="upload";const v={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,f);if(w===null)throw Z9();function C(x,b){const S=av(x,["active","final"]),T=l.current+d,k=r.size();let E;return S==="final"?E=ov(e,o)(x,b):E=null,new mh(T,k,S==="final",E)}const _="POST",g=e.maxUploadRetryTime,y=new si(n,_,C,g);return y.headers=v,y.body=w.uploadData(),y.progressCallback=a||null,y.errorHandler=eu(t),y}const ln={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fm(t){switch(t){case"running":case"pausing":case"canceling":return ln.RUNNING;case"paused":return ln.PAUSED;case"success":return ln.SUCCESS;case"canceled":return ln.CANCELED;case"error":return ln.ERROR;default:return ln.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,n,r){if(PD(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class cM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=No.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=No.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=No.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Za("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Za("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Za("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Za("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Za("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class uM extends cM{initXhr(){this.xhr_.responseType="text"}}function Ar(){return new uM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Qf(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals($e.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(e7(s.status,[]))if(o)s=Y9();else{this.sleepTime=Math.max(this.sleepTime*2,pD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals($e.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,o)=>{this._resolve=s,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=oM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ar,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=iM(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(s,Ar,n,r);this._request=o,o.getPromise().then(i=>{i=i,this._request=void 0,this._updateProgress(i.current),this._needToFetchStatus=!1,i.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=qw*this._chunkMultiplier,n=new mh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,o)=>{let i;try{i=aM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(i,Ar,s,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){qw*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=l7(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Ar,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=u7(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Ar,e,n);this._request=s,s.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Q9(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=fm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const o=new lM(n||void 0,r||void 0,s||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(fm(this._state)){case ln.SUCCESS:di(this._resolve.bind(null,this.snapshot))();break;case ln.CANCELED:case ln.ERROR:const n=this._reject;di(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(fm(this._state)){case ln.RUNNING:case ln.PAUSED:e.next&&di(e.next.bind(e,this.snapshot))();break;case ln.SUCCESS:e.complete&&di(e.complete.bind(e))();break;case ln.CANCELED:case ln.ERROR:e.error&&di(e.error.bind(e,this._error))();break;default:e.error&&di(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ho(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o7(this._location.path)}get storage(){return this._service}get parent(){const e=KD(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new Ho(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ED(e)}}function hM(t,e,n){t._throwIfRoot("uploadBytes");const r=u7(t.storage,t._location,Qf(),new Nr(e,!0),n);return t.storage.makeRequestWithTokens(r,Ar).then(s=>({metadata:s,ref:t}))}function fM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new dM(t,new Nr(e),n)}function pM(t){t._throwIfRoot("getMetadata");const e=l7(t.storage,t._location,Qf());return t.storage.makeRequestWithTokens(e,Ar)}function mM(t){t._throwIfRoot("getDownloadURL");const e=nM(t.storage,t._location,Qf());return t.storage.makeRequestWithTokens(e,Ar).then(n=>{if(n===null)throw kD();return n})}function gM(t){t._throwIfRoot("deleteObject");const e=rM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,Ar)}function yM(t,e){const n=YD(t._location.path,e),r=new Sn(t._location.bucket,n);return new Ho(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){return/^[A-Za-z]+:\/\//.test(t)}function _M(t,e){return new Ho(t,e)}function d7(t,e){if(t instanceof lv){const n=t;if(n._bucket==null)throw CD();const r=new Ho(n,n._bucket);return e!=null?d7(r,e):r}else return e!==void 0?yM(t,e):t}function wM(t,e){if(e&&vM(e)){if(t instanceof lv)return _M(t,e);throw yg("To use ref(service, url), the first argument must be a Storage instance.")}else return d7(t,e)}function Ww(t,e){const n=e==null?void 0:e[K9];return n==null?null:Sn.makeFromBucketSpec(n,t)}function xM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:V4(s,t.app.options.projectId))}class lv{constructor(e,n,r,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=G9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hD,this._maxUploadRetryTime=fD,this._requests=new Set,s!=null?this._bucket=Sn.makeFromBucketSpec(s,this._host):this._bucket=Ww(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=Ww(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ho(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new TD(X9());{const i=$D(e,this._appId,r,s,n,this._firebaseVersion,o);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Gw="@firebase/storage",Kw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7="storage";function qo(t,e,n){return t=Ae(t),hM(t,e,n)}function CM(t,e,n){return t=Ae(t),fM(t,e,n)}function bM(t){return t=Ae(t),pM(t)}function Jr(t){return t=Ae(t),mM(t)}function kM(t){return t=Ae(t),gM(t)}function br(t,e){return t=Ae(t),wM(t,e)}function SM(t=H0(),e){t=Ae(t);const r=lf(t,h7).getImmediate({identifier:e}),s=F4("storage");return s&&EM(r,...s),r}function EM(t,e,n,r={}){xM(t,e,n,r)}function TM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new lv(n,r,s,e,Jo)}function IM(){$o(new Us(h7,TM,"PUBLIC").setMultipleInstances(!0)),gr(Gw,Kw,""),gr(Gw,Kw,"esm2017")}IM();const NM={apiKey:"AIzaSyBBlQca3oj1efZEEjTu1XSmMHRcbGX_Hj8",authDomain:"genery-c83e3.firebaseapp.com",projectId:"genery-c83e3",storageBucket:"genery-c83e3.appspot.com",messagingSenderId:"179227356988",appId:"1:179227356988:web:31e0070216dbb4bf673839"},cv=q4(NM),f7=lj(cv),K=ZO(cv),kr=SM(cv),p7=p.createContext(),AM=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(""),o=f7;p.useEffect(()=>{const a=YA(o,l=>{l?(async()=>{const d=J(K,"users",l.uid,"info","preferences"),h=await ce(d);if(h.exists()){const f=h.data();console.log(f),n({_id:l.uid,avatar:f.photo,name:f.name,cover:f.cover,mainGroup:f.mainGroup})}else console.log("No such document!")})():n(null)});return()=>{a()}},[]);const i=p.useMemo(()=>({authUser:e,setAuthUser:n,ga:o}),[e]);return u.jsx(p7.Provider,{value:i,children:t})},he=()=>p.useContext(p7);function PM(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B),{authUser:s}=he();let o;const i=ye();return p.useEffect(()=>{s?o="/menu":o="/about";const a=setTimeout(()=>{i(o)},3e3);return()=>clearTimeout(a)},[i]),u.jsx("div",{className:SI.container,children:u.jsx(L4,{color:t.icon_color})})}const Xa={"input-container":"_input-container_oontd_1","input-inside":"_input-inside_oontd_10","show-button":"_show-button_oontd_26"};function Ao({type:t,placeholder:e,onInputChange:n,backgroundColor:r,textColor:s}){const{theme:o,elementColors:i,setElementColors:a}=p.useContext(B),[l,c]=p.useState(!1),[d,h]=p.useState(!1),[f,m]=p.useState(!1),v=()=>{c(!l)},w=[u.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M15 10.4C13.9874 10.4 13.0162 10.7793 12.3001 11.4544C11.5841 12.1295 11.1818 13.0452 11.1818 14C11.1818 14.9548 11.5841 15.8705 12.3001 16.5456C13.0162 17.2207 13.9874 17.6 15 17.6C16.0126 17.6 16.9838 17.2207 17.6999 16.5456C18.4159 15.8705 18.8182 14.9548 18.8182 14C18.8182 13.0452 18.4159 12.1295 17.6999 11.4544C16.9838 10.7793 16.0126 10.4 15 10.4ZM15 20C13.3123 20 11.6936 19.3679 10.5002 18.2426C9.30682 17.1174 8.63636 15.5913 8.63636 14C8.63636 12.4087 9.30682 10.8826 10.5002 9.75736C11.6936 8.63214 13.3123 8 15 8C16.6877 8 18.3064 8.63214 19.4998 9.75736C20.6932 10.8826 21.3636 12.4087 21.3636 14C21.3636 15.5913 20.6932 17.1174 19.4998 18.2426C18.3064 19.3679 16.6877 20 15 20ZM15 5C8.63636 5 3.20182 8.732 1 14C3.20182 19.268 8.63636 23 15 23C21.3636 23 26.7982 19.268 29 14C26.7982 8.732 21.3636 5 15 5Z",fill:o.text_first_color})})],C=[u.jsx("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M14.7836 10.2632L18.8182 14.0884V13.8947C18.8182 12.9316 18.4159 12.0079 17.6999 11.3268C16.9838 10.6458 16.0126 10.2632 15 10.2632H14.7836ZM9.31091 11.2316L11.2836 13.1079C11.22 13.3621 11.1818 13.6163 11.1818 13.8947C11.1818 14.8579 11.5841 15.7816 12.3001 16.4627C13.0162 17.1437 13.9874 17.5263 15 17.5263C15.28 17.5263 15.56 17.49 15.8273 17.4295L17.8 19.3058C16.9473 19.7053 16.0055 19.9474 15 19.9474C13.3123 19.9474 11.6936 19.3097 10.5002 18.1746C9.30682 17.0395 8.63636 15.5 8.63636 13.8947C8.63636 12.9384 8.89091 12.0426 9.31091 11.2316ZM2.27273 4.53737L5.17455 7.29737L5.74727 7.84211C3.64727 9.41579 1.99273 11.4737 1 13.8947C3.20182 19.2089 8.63636 22.9737 15 22.9737C16.9727 22.9737 18.8564 22.6105 20.5745 21.9568L21.1218 22.4653L24.8382 26L26.4545 24.4626L3.88909 3M15 7.84211C16.6877 7.84211 18.3064 8.47979 19.4998 9.61488C20.6932 10.75 21.3636 12.2895 21.3636 13.8947C21.3636 14.6695 21.1982 15.42 20.9055 16.0979L24.6345 19.6447C26.5436 18.1316 28.0709 16.1463 29 13.8947C26.7982 8.58053 21.3636 4.81579 15 4.81579C13.2182 4.81579 11.5127 5.11842 9.90909 5.66316L12.6709 8.26579C13.3964 7.99947 14.1727 7.84211 15 7.84211Z",fill:o.text_first_color})})];let _=[u.jsx("div",{className:Xa["input-container"],children:u.jsx("input",{className:Xa["input-inside"],type:t,placeholder:e,onChange:n,style:{backgroundColor:r,color:s,caretColor:o.first_color,borderColor:o.first_color,outline:"none"},onFocus:()=>m(!0),onBlur:()=>m(!1)})})];return t==="password"&&(_=[u.jsxs("div",{className:Xa["input-container"],children:[u.jsx("input",{className:Xa["input-inside"],type:l?"text":"password",placeholder:e,onChange:n,style:{backgroundColor:r,color:s,caretColor:o.first_color,borderColor:o.first_color,outline:"none"},onFocus:()=>m(!0),onBlur:()=>m(!1)}),u.jsx("button",{className:Xa["show-button"],onClick:v,children:l?C:w},"")]})]),_}const jM="_container_bxems_1",RM="_greeting_bxems_22",LM="_error_bxems_54",or={container:jM,"auth-form":"_auth-form_bxems_12",greeting:RM,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:LM,"button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"},Yw=[{src:"avatars/1.png"},{src:"avatars/2.png"},{src:"avatars/3.png"},{src:"avatars/4.png"},{src:"avatars/5.png"},{src:"avatars/6.png"},{src:"avatars/7.png"},{src:"avatars/8.png"},{src:"avatars/9.png"},{src:"avatars/10.png"},{src:"avatars/11.png"},{src:"avatars/12.png"},{src:"avatars/13.png"},{src:"avatars/14.png"},{src:"avatars/15.png"},{src:"avatars/16.png"},{src:"avatars/17.png"},{src:"avatars/18.png"},{src:"avatars/19.png"},{src:"avatars/20.png"}];function OM(){const t=()=>{const g=Math.floor(Math.random()*Yw.length);return Yw[g].src},{theme:e,setElementColors:n}=p.useContext(B),[r,s]=p.useState(),[o,i]=p.useState(),[a,l]=p.useState(),[c,d]=p.useState(),{authUser:h,setAuthUser:f,ga:m}=he(),[v,w]=p.useState(t()),C=ye();p.useEffect(()=>{n({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!1,arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!1,footerBackground:e.background_color,activeElementIndex:3,background:e.background_color}),document.body.style.background=e.background_color},[e]);function _(g){if(g.preventDefault(),!r&&!o&&!a){d(" email  ");return}else if(r)if(a){if(!o){d(" ");return}}else{d(" ");return}else{d(" email");return}(async()=>{try{const b=(await qA(m,r,o)).user;console.log(b);const S=J(K,"users",b.uid,"info","preferences");await gt(S,{uid:b.uid,name:a,photo:v,cover:"blue",biography:"",boughtThemes:["default"],boughtColors:["default"],boughtEmojies:[],censorState:!0,balance:1e3,followers:[]},{merge:!0}),console.log("Profile updated successfully"),localStorage.setItem("censor",!0),localStorage.setItem("theme","default"),s(""),i(""),l("")}catch(x){d(x.message),console.error("Error creating user or updating profile: ",x)}})()}return p.useEffect(()=>{h&&C("/menu")},[h]),u.jsx("div",{className:or.container,children:u.jsxs("form",{className:or["auth-form"],children:[u.jsxs("div",{className:or.greeting,children:[u.jsx("h2",{className:or["greeting-title"],style:{color:e.text_first_color},children:" "}),u.jsx("h3",{className:or["greeting-text"],style:{color:e.text_first_color},children:"    "})]}),u.jsxs("div",{className:or["input-container"],children:[u.jsx("div",{className:or.error,style:{color:e.gradient_first_color},children:c}),u.jsx(Ao,{type:"email",placeholder:" email",onInputChange:g=>s(g.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),u.jsx(Ao,{type:"text",placeholder:" ",onInputChange:g=>l(g.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color}),u.jsx(Ao,{type:"password",placeholder:" ",onInputChange:g=>i(g.target.value),backgroundColor:e.element_first_color,textColor:e.text_first_color,placeholderColor:e.text_second_color})]}),u.jsxs("div",{className:or["button-container"],children:[u.jsxs("button",{onClick:_,className:or["continue-button"],style:{background:e.first_color},children:["",u.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),u.jsx("button",{className:or["create-account"],style:{color:e.text_first_color},onClick:()=>C("/sign-in"),children:"  ? "})]})]})})}const DM="_container_bxems_1",MM="_greeting_bxems_22",$M="_error_bxems_54",qn={container:DM,"auth-form":"_auth-form_bxems_12",greeting:MM,"greeting-title":"_greeting-title_bxems_31","greeting-text":"_greeting-text_bxems_37","input-container":"_input-container_bxems_44",error:$M,"forgot-password":"_forgot-password_bxems_65","button-container":"_button-container_bxems_77","continue-button":"_continue-button_bxems_84","create-account":"_create-account_bxems_104"};function m7(){const{authUser:t,ga:e}=he(),{theme:n,setElementColors:r}=p.useContext(B),[s,o]=p.useState(""),[i,a]=p.useState(""),[l,c]=p.useState(""),d=ye(),h={"auth/invalid-login-credentials":" email  "};p.useEffect(()=>{r({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!1,arrowColor:n.text_first_color,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!1,footerBackground:n.background_color,activeElementIndex:3,background:n.background_color}),document.body.style.background=n.background_color},[n]);function f(m){m.preventDefault(),!s&&!i?c(" email  "):s?i||c(" "):c(" email"),WA(e,s,i).then(()=>{const v=userCredential.user;console.log(v),o(""),a("")}).then(()=>{console.log("Profile updated successfully")}).catch(v=>{const w=h[v.code]||" ";c(w)})}return p.useEffect(()=>{t&&d("/menu")},[t]),u.jsx("div",{className:qn.container,children:u.jsxs("form",{className:qn["auth-form"],children:[u.jsxs("div",{className:qn.greeting,children:[u.jsx("h2",{className:qn["greeting-title"],style:{color:n.text_first_color},children:""}),u.jsx("h3",{className:qn["greeting-text"],style:{color:n.text_first_color},children:"  , ,   "})]}),u.jsxs("div",{className:qn["input-container"],children:[u.jsx("div",{className:qn.error,style:{color:n.gradient_first_color},children:l}),u.jsx(Ao,{type:"email",placeholder:" email",onInputChange:m=>o(m.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),u.jsx(Ao,{type:"password",placeholder:" ",onInputChange:m=>a(m.target.value),backgroundColor:n.element_first_color,textColor:n.text_first_color,placeholderColor:n.text_second_color}),u.jsx("button",{className:qn["forgot-password"],style:{color:n.text_first_color},children:" ?"})]}),u.jsxs("div",{className:qn["button-container"],children:[u.jsxs("button",{onClick:f,className:qn["continue-button"],style:{background:n.first_color},children:["",u.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.79289 8.77817C1.40237 9.16869 1.40237 9.80186 1.79289 10.1924C2.18342 10.5829 2.81658 10.5829 3.20711 10.1924L1.79289 8.77817ZM11.9853 0.999994C11.9853 0.447709 11.5376 -6.22126e-06 10.9853 -5.7998e-06L1.98528 -6.01053e-06C1.433 -6.01053e-06 0.985281 0.447709 0.985281 0.999994C0.985281 1.55228 1.433 1.99999 1.98528 1.99999L9.98528 1.99999L9.98528 9.99999C9.98528 10.5523 10.433 11 10.9853 11C11.5376 11 11.9853 10.5523 11.9853 9.99999L11.9853 0.999994ZM3.20711 10.1924L11.6924 1.7071L10.2782 0.292887L1.79289 8.77817L3.20711 10.1924Z",fill:"white"})})]}),u.jsx("button",{className:qn["create-account"],style:{color:n.text_first_color},onClick:()=>d("/sign-up"),children:" ? "})]})]})})}var g7={},y7={},Zf={},v7={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(v7);var FM="Expected a function",Qw=NaN,BM="[object Symbol]",UM=/^\s+|\s+$/g,VM=/^[-+]0x[0-9a-f]+$/i,zM=/^0b[01]+$/i,HM=/^0o[0-7]+$/i,qM=parseInt,WM=typeof Ve=="object"&&Ve&&Ve.Object===Object&&Ve,GM=typeof self=="object"&&self&&self.Object===Object&&self,KM=WM||GM||Function("return this")(),YM=Object.prototype,QM=YM.toString,ZM=Math.max,XM=Math.min,pm=function(){return KM.Date.now()};function JM(t,e,n){var r,s,o,i,a,l,c=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(FM);e=Zw(e)||0,vg(n)&&(d=!!n.leading,h="maxWait"in n,o=h?ZM(Zw(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function m(S){var T=r,k=s;return r=s=void 0,c=S,i=t.apply(k,T),i}function v(S){return c=S,a=setTimeout(_,e),d?m(S):i}function w(S){var T=S-l,k=S-c,E=e-T;return h?XM(E,o-k):E}function C(S){var T=S-l,k=S-c;return l===void 0||T>=e||T<0||h&&k>=o}function _(){var S=pm();if(C(S))return g(S);a=setTimeout(_,w(S))}function g(S){return a=void 0,f&&r?m(S):(r=s=void 0,i)}function y(){a!==void 0&&clearTimeout(a),c=0,r=l=s=a=void 0}function x(){return a===void 0?i:g(pm())}function b(){var S=pm(),T=C(S);if(r=arguments,s=this,l=S,T){if(a===void 0)return v(l);if(h)return a=setTimeout(_,e),m(l)}return a===void 0&&(a=setTimeout(_,e)),i}return b.cancel=y,b.flush=x,b}function vg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function e$(t){return!!t&&typeof t=="object"}function t$(t){return typeof t=="symbol"||e$(t)&&QM.call(t)==BM}function Zw(t){if(typeof t=="number")return t;if(t$(t))return Qw;if(vg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(UM,"");var n=zM.test(t);return n||HM.test(t)?qM(t.slice(2),n?2:8):VM.test(t)?Qw:+t}var n$=JM,_7={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)e.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(_7);var Xf=_7.exports,z={},uv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(p);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(uv);Object.defineProperty(z,"__esModule",{value:!0});z.checkSpecKeys=z.checkNavigable=z.changeSlide=z.canUseDOM=z.canGoNext=void 0;z.clamp=x7;z.extractObject=void 0;z.filterSettings=y$;z.validSettings=z.swipeStart=z.swipeMove=z.swipeEnd=z.slidesOnRight=z.slidesOnLeft=z.slideHandler=z.siblingDirection=z.safePreventDefault=z.lazyStartIndex=z.lazySlidesOnRight=z.lazySlidesOnLeft=z.lazyEndIndex=z.keyHandler=z.initializedState=z.getWidth=z.getTrackLeft=z.getTrackCSS=z.getTrackAnimateCSS=z.getTotalSlides=z.getSwipeDirection=z.getSlideCount=z.getRequiredLazySlides=z.getPreClones=z.getPostClones=z.getOnDemandLazySlides=z.getNavigableIndexes=z.getHeight=void 0;var r$=w7(p),s$=w7(uv);function w7(t){return t&&t.__esModule?t:{default:t}}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function Xw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xw(Object(n),!0).forEach(function(r){o$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o$(t,e,n){return e=i$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i$(t){var e=a$(t,"string");return xc(e)=="symbol"?e:String(e)}function a$(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x7(t,e,n){return Math.max(e,Math.min(t,n))}var Zi=z.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},C7=z.getOnDemandLazySlides=function(e){for(var n=[],r=b7(e),s=k7(e),o=r;o<s;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n};z.getRequiredLazySlides=function(e){for(var n=[],r=b7(e),s=k7(e),o=r;o<s;o++)n.push(o);return n};var b7=z.lazyStartIndex=function(e){return e.currentSlide-l$(e)},k7=z.lazyEndIndex=function(e){return e.currentSlide+c$(e)},l$=z.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},c$=z.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},_g=z.getWidth=function(e){return e&&e.offsetWidth||0},S7=z.getHeight=function(e){return e&&e.offsetHeight||0},E7=z.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,s,o,i;return r=e.startX-e.curX,s=e.startY-e.curY,o=Math.atan2(s,r),i=Math.round(o*180/Math.PI),i<0&&(i=360-Math.abs(i)),i<=45&&i>=0||i<=360&&i>=315?"left":i>=135&&i<=225?"right":n===!0?i>=35&&i<=135?"up":"down":"vertical"},T7=z.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};z.extractObject=function(e,n){var r={};return n.forEach(function(s){return r[s]=e[s]}),r};z.initializedState=function(e){var n=r$.default.Children.count(e.children),r=e.listRef,s=Math.ceil(_g(r)),o=e.trackRef&&e.trackRef.node,i=Math.ceil(_g(o)),a;if(e.vertical)a=s;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=s/100),a=Math.ceil((s-l)/e.slidesToShow)}var c=r&&S7(r.querySelector('[data-index="0"]')),d=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var f=e.lazyLoadedList||[],m=C7(Be(Be({},e),{},{currentSlide:h,lazyLoadedList:f}));f=f.concat(m);var v={slideCount:n,slideWidth:a,listWidth:s,trackWidth:i,currentSlide:h,slideHeight:c,listHeight:d,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(v.autoplaying="playing"),v};z.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,s=e.fade,o=e.infinite,i=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,f=e.slidesToShow,m=e.useCSS,v=e.lazyLoadedList;if(n&&r)return{};var w=i,C,_,g,y={},x={},b=o?i:x7(i,0,a-1);if(s){if(!o&&(i<0||i>=a))return{};i<0?w=i+a:i>=a&&(w=i-a),l&&v.indexOf(w)<0&&(v=v.concat(w)),y={animating:!0,currentSlide:w,lazyLoadedList:v,targetSlide:w},x={animating:!1,targetSlide:w}}else C=w,w<0?(C=w+a,o?a%h!==0&&(C=a-a%h):C=0):!T7(e)&&w>c?w=C=c:d&&w>=a?(w=o?a:a-1,C=o?0:a-1):w>=a&&(C=w-a,o?a%h!==0&&(C=0):C=a-f),!o&&w+f>=a&&(C=a-f),_=yh(Be(Be({},e),{},{slideIndex:w})),g=yh(Be(Be({},e),{},{slideIndex:C})),o||(_===g&&(w=C),_=g),l&&(v=v.concat(C7(Be(Be({},e),{},{currentSlide:w})))),m?(y={animating:!0,currentSlide:C,trackStyle:I7(Be(Be({},e),{},{left:_})),lazyLoadedList:v,targetSlide:b},x={animating:!1,currentSlide:C,trackStyle:gh(Be(Be({},e),{},{left:g})),swipeLeft:null,targetSlide:b}):y={currentSlide:C,trackStyle:gh(Be(Be({},e),{},{left:g})),lazyLoadedList:v,targetSlide:b};return{state:y,nextState:x}};z.changeSlide=function(e,n){var r,s,o,i,a,l=e.slidesToScroll,c=e.slidesToShow,d=e.slideCount,h=e.currentSlide,f=e.targetSlide,m=e.lazyLoad,v=e.infinite;if(i=d%l!==0,r=i?0:(d-h)%l,n.message==="previous")o=r===0?l:c-r,a=h-o,m&&!v&&(s=h-o,a=s===-1?d-1:s),v||(a=f-l);else if(n.message==="next")o=r===0?l:r,a=h+o,m&&!v&&(a=(h+l)%d+r),v||(a=f+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,v){var w=f$(Be(Be({},e),{},{targetSlide:a}));a>n.currentSlide&&w==="left"?a=a-d:a<n.currentSlide&&w==="right"&&(a=a+d)}}else n.message==="index"&&(a=Number(n.index));return a};z.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};z.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Zi(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};z.swipeMove=function(e,n){var r=n.scrolling,s=n.animating,o=n.vertical,i=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,c=n.currentSlide,d=n.edgeFriction,h=n.edgeDragged,f=n.onEdge,m=n.swiped,v=n.swiping,w=n.slideCount,C=n.slidesToScroll,_=n.infinite,g=n.touchObject,y=n.swipeEvent,x=n.listHeight,b=n.listWidth;if(!r){if(s)return Zi(e);o&&i&&a&&Zi(e);var S,T={},k=yh(n);g.curX=e.touches?e.touches[0].pageX:e.clientX,g.curY=e.touches?e.touches[0].pageY:e.clientY,g.swipeLength=Math.round(Math.sqrt(Math.pow(g.curX-g.startX,2)));var E=Math.round(Math.sqrt(Math.pow(g.curY-g.startY,2)));if(!a&&!v&&E>10)return{scrolling:!0};a&&(g.swipeLength=E);var N=(l?-1:1)*(g.curX>g.startX?1:-1);a&&(N=g.curY>g.startY?1:-1);var A=Math.ceil(w/C),I=E7(n.touchObject,a),j=g.swipeLength;return _||(c===0&&(I==="right"||I==="down")||c+1>=A&&(I==="left"||I==="up")||!T7(n)&&(I==="left"||I==="up"))&&(j=g.swipeLength*d,h===!1&&f&&(f(I),T.edgeDragged=!0)),!m&&y&&(y(I),T.swiped=!0),o?S=k+j*(x/b)*N:l?S=k-j*N:S=k+j*N,a&&(S=k+j*N),T=Be(Be({},T),{},{touchObject:g,swipeLeft:S,trackStyle:gh(Be(Be({},n),{},{left:S}))}),Math.abs(g.curX-g.startX)<Math.abs(g.curY-g.startY)*.8||g.swipeLength>10&&(T.swiping=!0,Zi(e)),T}};z.swipeEnd=function(e,n){var r=n.dragging,s=n.swipe,o=n.touchObject,i=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,c=n.listHeight,d=n.swipeToSlide,h=n.scrolling,f=n.onSwipe,m=n.targetSlide,v=n.currentSlide,w=n.infinite;if(!r)return s&&Zi(e),{};var C=l?c/a:i/a,_=E7(o,l),g={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!o.swipeLength)return g;if(o.swipeLength>C){Zi(e),f&&f(_);var y,x,b=w?v:m;switch(_){case"left":case"up":x=b+ex(n),y=d?Jw(n,x):x,g.currentDirection=0;break;case"right":case"down":x=b-ex(n),y=d?Jw(n,x):x,g.currentDirection=1;break;default:y=b}g.triggerSlideHandler=y}else{var S=yh(n);g.trackStyle=I7(Be(Be({},n),{},{left:S}))}return g};var u$=z.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,s=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=s+e.slidesToScroll,s+=Math.min(e.slidesToScroll,e.slidesToShow);return o},Jw=z.checkNavigable=function(e,n){var r=u$(e),s=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=s;break}s=r[o]}return n},ex=z.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,s=e.listRef,o=s.querySelectorAll&&s.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(l){if(e.vertical){if(l.offsetTop+S7(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+_g(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var i=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-i)||1;return a}else return e.slidesToScroll},dv=z.checkSpecKeys=function(e,n){return n.reduce(function(r,s){return r&&e.hasOwnProperty(s)},!0)?null:console.error("Keys Missing:",e)},gh=z.getTrackCSS=function(e){dv(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,s=e.slideCount+2*e.slidesToShow;e.vertical?r=s*e.slideHeight:n=h$(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var i=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=Be(Be({},o),{},{WebkitTransform:i,transform:a,msTransform:l})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n),r&&(o.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},I7=z.getTrackAnimateCSS=function(e){dv(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=gh(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},yh=z.getTrackLeft=function(e){if(e.unslick)return 0;dv(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,s=e.infinite,o=e.centerMode,i=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,m=e.fade,v=e.vertical,w=0,C,_,g=0;if(m||e.slideCount===1)return 0;var y=0;if(s?(y=-md(e),i%l!==0&&n+l>i&&(y=-(n>i?a-(n-i):i%l)),o&&(y+=parseInt(a/2))):(i%l!==0&&n+l>i&&(y=a-i%l),o&&(y=parseInt(a/2))),w=y*c,g=y*f,v?C=n*f*-1+g:C=n*c*-1+w,h===!0){var x,b=r&&r.node;if(x=n+md(e),_=b&&b.childNodes[x],C=_?_.offsetLeft*-1:0,o===!0){x=s?n+md(e):n,_=b&&b.children[x],C=0;for(var S=0;S<x;S++)C-=b&&b.children[S]&&b.children[S].offsetWidth;C-=parseInt(e.centerPadding),C+=_&&(d-_.offsetWidth)/2}}return C},md=z.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},d$=z.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},h$=z.getTotalSlides=function(e){return e.slideCount===1?1:md(e)+e.slideCount+d$(e)},f$=z.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+p$(e)?"left":"right":e.targetSlide<e.currentSlide-m$(e)?"right":"left"},p$=z.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,o=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),s&&n%2===0&&(i+=1),i}return s?0:n-1},m$=z.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,s=e.rtl,o=e.centerPadding;if(r){var i=(n-1)/2+1;return parseInt(o)>0&&(i+=1),!s&&n%2===0&&(i+=1),i}return s?n-1:0};z.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var g$=z.validSettings=Object.keys(s$.default);function y$(t){return g$.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var Jf={};Object.defineProperty(Jf,"__esModule",{value:!0});Jf.Track=void 0;var hs=N7(p),mm=N7(Xf),gm=z;function N7(t){return t&&t.__esModule?t:{default:t}}function ga(t){"@babel/helpers - typeof";return ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ga(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function v$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P7(r.key),r)}}function w$(t,e,n){return e&&_$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xg(t,e)}function xg(t,e){return xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},xg(t,e)}function C$(t){var e=A7();return function(){var r=vh(t),s;if(e){var o=vh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return b$(this,s)}}function b$(t,e){if(e&&(ga(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cg(t)}function Cg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A7=function(){return!!t})()}function vh(t){return vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vh(t)}function tx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(n),!0).forEach(function(r){bg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bg(t,e,n){return e=P7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P7(t){var e=k$(t,"string");return ga(e)=="symbol"?e:String(e)}function k$(t,e){if(ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ym=function(e){var n,r,s,o,i;e.rtl?i=e.slideCount-1-e.index:i=e.index,s=i<0||i>=e.slideCount,e.centerMode?(o=Math.floor(e.slidesToShow/2),r=(i-e.currentSlide)%e.slideCount===0,i>e.currentSlide-o-1&&i<=e.currentSlide+o&&(n=!0)):n=e.currentSlide<=i&&i<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=i===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":s,"slick-current":l}},S$=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},vm=function(e,n){return e.key||n},E$=function(e){var n,r=[],s=[],o=[],i=hs.default.Children.count(e.children),a=(0,gm.lazyStartIndex)(e),l=(0,gm.lazyEndIndex)(e);return hs.default.Children.forEach(e.children,function(c,d){var h,f={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=c:h=hs.default.createElement("div",null);var m=S$(on(on({},e),{},{index:d})),v=h.props.className||"",w=ym(on(on({},e),{},{index:d}));if(r.push(hs.default.cloneElement(h,{key:"original"+vm(h,d),"data-index":d,className:(0,mm.default)(w,v),tabIndex:"-1","aria-hidden":!w["slick-active"],style:on(on({outline:"none"},h.props.style||{}),m),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&e.fade===!1){var C=i-d;C<=(0,gm.getPreClones)(e)&&(n=-C,n>=a&&(h=c),w=ym(on(on({},e),{},{index:n})),s.push(hs.default.cloneElement(h,{key:"precloned"+vm(h,n),"data-index":n,tabIndex:"-1",className:(0,mm.default)(w,v),"aria-hidden":!w["slick-active"],style:on(on({},h.props.style||{}),m),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(f)}}))),n=i+d,n<l&&(h=c),w=ym(on(on({},e),{},{index:n})),o.push(hs.default.cloneElement(h,{key:"postcloned"+vm(h,n),"data-index":n,tabIndex:"-1",className:(0,mm.default)(w,v),"aria-hidden":!w["slick-active"],style:on(on({},h.props.style||{}),m),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(f)}}))}}),e.rtl?s.concat(r,o).reverse():s.concat(r,o)};Jf.Track=function(t){x$(n,t);var e=C$(n);function n(){var r;v$(this,n);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o)),bg(Cg(r),"node",null),bg(Cg(r),"handleRef",function(a){r.node=a}),r}return w$(n,[{key:"render",value:function(){var s=E$(this.props),o=this.props,i=o.onMouseEnter,a=o.onMouseOver,l=o.onMouseLeave,c={onMouseEnter:i,onMouseOver:a,onMouseLeave:l};return hs.default.createElement("div",wg({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),s)}}]),n}(hs.default.PureComponent);var ep={};function ya(t){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(t)}Object.defineProperty(ep,"__esModule",{value:!0});ep.Dots=void 0;var Fu=j7(p),T$=j7(Xf),nx=z;function j7(t){return t&&t.__esModule?t:{default:t}}function rx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function I$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rx(Object(n),!0).forEach(function(r){N$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N$(t,e,n){return e=R7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R7(r.key),r)}}function j$(t,e,n){return e&&P$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R7(t){var e=R$(t,"string");return ya(e)=="symbol"?e:String(e)}function R$(t,e){if(ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function L$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kg(t,e)}function kg(t,e){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},kg(t,e)}function O$(t){var e=L7();return function(){var r=_h(t),s;if(e){var o=_h(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return D$(this,s)}}function D$(t,e){if(e&&(ya(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M$(t)}function M$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L7=function(){return!!t})()}function _h(t){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_h(t)}var $$=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};ep.Dots=function(t){L$(n,t);var e=O$(n);function n(){return A$(this,n),e.apply(this,arguments)}return j$(n,[{key:"clickHandler",value:function(s,o){o.preventDefault(),this.props.clickHandler(s)}},{key:"render",value:function(){for(var s=this.props,o=s.onMouseEnter,i=s.onMouseOver,a=s.onMouseLeave,l=s.infinite,c=s.slidesToScroll,d=s.slidesToShow,h=s.slideCount,f=s.currentSlide,m=$$({slideCount:h,slidesToScroll:c,slidesToShow:d,infinite:l}),v={onMouseEnter:o,onMouseOver:i,onMouseLeave:a},w=[],C=0;C<m;C++){var _=(C+1)*c-1,g=l?_:(0,nx.clamp)(_,0,h-1),y=g-(c-1),x=l?y:(0,nx.clamp)(y,0,h-1),b=(0,T$.default)({"slick-active":l?f>=x&&f<=g:f===x}),S={message:"dots",index:C,slidesToScroll:c,currentSlide:f},T=this.clickHandler.bind(this,S);w=w.concat(Fu.default.createElement("li",{key:C,className:b},Fu.default.cloneElement(this.props.customPaging(C),{onClick:T})))}return Fu.default.cloneElement(this.props.appendDots(w),I$({className:this.props.dotsClass},v))}}]),n}(Fu.default.PureComponent);var va={};function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}Object.defineProperty(va,"__esModule",{value:!0});va.PrevArrow=va.NextArrow=void 0;var Xi=D7(p),O7=D7(Xf),F$=z;function D7(t){return t&&t.__esModule?t:{default:t}}function wh(){return wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wh.apply(this,arguments)}function sx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sx(Object(n),!0).forEach(function(r){B$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B$(t,e,n){return e=F7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F7(r.key),r)}}function $7(t,e,n){return e&&U$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F7(t){var e=V$(t,"string");return _a(e)=="symbol"?e:String(e)}function V$(t,e){if(_a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function B7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sg(t,e)}function Sg(t,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Sg(t,e)}function U7(t){var e=V7();return function(){var r=Ch(t),s;if(e){var o=Ch(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return z$(this,s)}}function z$(t,e){if(e&&(_a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H$(t)}function H$(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V7=function(){return!!t})()}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ch(t)}va.PrevArrow=function(t){B7(n,t);var e=U7(n);function n(){return M7(this,n),e.apply(this,arguments)}return $7(n,[{key:"clickHandler",value:function(s,o){o&&o.preventDefault(),this.props.clickHandler(s,o)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-prev":!0},o=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(s["slick-disabled"]=!0,o=null);var i={key:"0","data-role":"none",className:(0,O7.default)(s),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Xi.default.cloneElement(this.props.prevArrow,xh(xh({},i),a)):l=Xi.default.createElement("button",wh({key:"0",type:"button"},i)," ","Previous"),l}}]),n}(Xi.default.PureComponent);va.NextArrow=function(t){B7(n,t);var e=U7(n);function n(){return M7(this,n),e.apply(this,arguments)}return $7(n,[{key:"clickHandler",value:function(s,o){o&&o.preventDefault(),this.props.clickHandler(s,o)}},{key:"render",value:function(){var s={"slick-arrow":!0,"slick-next":!0},o=this.clickHandler.bind(this,{message:"next"});(0,F$.canGoNext)(this.props)||(s["slick-disabled"]=!0,o=null);var i={key:"1","data-role":"none",className:(0,O7.default)(s),style:{display:"block"},onClick:o},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Xi.default.cloneElement(this.props.nextArrow,xh(xh({},i),a)):l=Xi.default.createElement("button",wh({key:"1",type:"button"},i)," ","Next"),l}}]),n}(Xi.default.PureComponent);var z7=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(s,o){return s[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),s=this.__entries__[r];return s&&s[1]},e.prototype.set=function(n,r){var s=t(this.__entries__,n);~s?this.__entries__[s][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,s=t(r,n);~s&&r.splice(s,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var s=0,o=this.__entries__;s<o.length;s++){var i=o[s];n.call(r,i[1],i[0])}},e}()}(),Eg=typeof window<"u"&&typeof document<"u"&&window.document===document,bh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),q$=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(bh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),W$=2;function G$(t,e){var n=!1,r=!1,s=0;function o(){n&&(n=!1,t()),r&&a()}function i(){q$(o)}function a(){var l=Date.now();if(n){if(l-s<W$)return;r=!0}else n=!0,r=!1,setTimeout(i,e);s=l}return a}var K$=20,Y$=["top","right","bottom","left","width","height","size","weight"],Q$=typeof MutationObserver<"u",Z$=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=G$(this.refresh.bind(this),K$)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Eg||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Q$?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Eg||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,s=Y$.some(function(o){return!!~r.indexOf(o)});s&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),H7=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var s=r[n];Object.defineProperty(t,s,{value:e[s],enumerable:!1,writable:!1,configurable:!0})}return t},wa=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||bh},q7=tp(0,0,0,0);function kh(t){return parseFloat(t)||0}function ox(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,s){var o=t["border-"+s+"-width"];return r+kh(o)},0)}function X$(t){for(var e=["top","right","bottom","left"],n={},r=0,s=e;r<s.length;r++){var o=s[r],i=t["padding-"+o];n[o]=kh(i)}return n}function J$(t){var e=t.getBBox();return tp(0,0,e.width,e.height)}function eF(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return q7;var r=wa(t).getComputedStyle(t),s=X$(r),o=s.left+s.right,i=s.top+s.bottom,a=kh(r.width),l=kh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=ox(r,"left","right")+o),Math.round(l+i)!==n&&(l-=ox(r,"top","bottom")+i)),!nF(t)){var c=Math.round(a+o)-e,d=Math.round(l+i)-n;Math.abs(c)!==1&&(a-=c),Math.abs(d)!==1&&(l-=d)}return tp(s.left,s.top,a,l)}var tF=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof wa(t).SVGGraphicsElement}:function(t){return t instanceof wa(t).SVGElement&&typeof t.getBBox=="function"}}();function nF(t){return t===wa(t).document.documentElement}function rF(t){return Eg?tF(t)?J$(t):eF(t):q7}function sF(t){var e=t.x,n=t.y,r=t.width,s=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,i=Object.create(o.prototype);return H7(i,{x:e,y:n,width:r,height:s,top:n,right:e+r,bottom:s+n,left:e}),i}function tp(t,e,n,r){return{x:t,y:e,width:n,height:r}}var oF=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=tp(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=rF(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),iF=function(){function t(e,n){var r=sF(n);H7(this,{target:e,contentRect:r})}return t}(),aF=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new z7,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof wa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new oF(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof wa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new iF(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),W7=typeof WeakMap<"u"?new WeakMap:new z7,G7=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Z$.getInstance(),r=new aF(e,n,this);W7.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){G7.prototype[t]=function(){var e;return(e=W7.get(this))[t].apply(e,arguments)}});var lF=function(){return typeof bh.ResizeObserver<"u"?bh.ResizeObserver:G7}();const cF=Object.freeze(Object.defineProperty({__proto__:null,default:lF},Symbol.toStringTag,{value:"Module"})),uF=e8(cF);Object.defineProperty(Zf,"__esModule",{value:!0});Zf.InnerSlider=void 0;var Zt=tu(p),dF=tu(v7),hF=tu(n$),fF=tu(Xf),ze=z,pF=Jf,mF=ep,ix=va,gF=tu(uF);function tu(t){return t&&t.__esModule?t:{default:t}}function Wo(t){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wo(t)}function Sh(){return Sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sh.apply(this,arguments)}function yF(t,e){if(t==null)return{};var n=vF(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vF(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ax(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(n),!0).forEach(function(r){pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _F(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y7(r.key),r)}}function xF(t,e,n){return e&&wF(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tg(t,e)}function Tg(t,e){return Tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Tg(t,e)}function bF(t){var e=K7();return function(){var r=Eh(t),s;if(e){var o=Eh(this).constructor;s=Reflect.construct(r,arguments,o)}else s=r.apply(this,arguments);return kF(this,s)}}function kF(t,e){if(e&&(Wo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fe(t)}function fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K7=function(){return!!t})()}function Eh(t){return Eh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eh(t)}function pe(t,e,n){return e=Y7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y7(t){var e=SF(t,"string");return Wo(e)=="symbol"?e:String(e)}function SF(t,e){if(Wo(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Zf.InnerSlider=function(t){CF(n,t);var e=bF(n);function n(r){var s;_F(this,n),s=e.call(this,r),pe(fe(s),"listRefHandler",function(i){return s.list=i}),pe(fe(s),"trackRefHandler",function(i){return s.track=i}),pe(fe(s),"adaptHeight",function(){if(s.props.adaptiveHeight&&s.list){var i=s.list.querySelector('[data-index="'.concat(s.state.currentSlide,'"]'));s.list.style.height=(0,ze.getHeight)(i)+"px"}}),pe(fe(s),"componentDidMount",function(){if(s.props.onInit&&s.props.onInit(),s.props.lazyLoad){var i=(0,ze.getOnDemandLazySlides)(re(re({},s.props),s.state));i.length>0&&(s.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(i)}}),s.props.onLazyLoad&&s.props.onLazyLoad(i))}var a=re({listRef:s.list,trackRef:s.track},s.props);s.updateState(a,!0,function(){s.adaptHeight(),s.props.autoplay&&s.autoPlay("update")}),s.props.lazyLoad==="progressive"&&(s.lazyLoadTimer=setInterval(s.progressiveLazyLoad,1e3)),s.ro=new gF.default(function(){s.state.animating?(s.onWindowResized(!1),s.callbackTimers.push(setTimeout(function(){return s.onWindowResized()},s.props.speed))):s.onWindowResized()}),s.ro.observe(s.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=s.props.pauseOnFocus?s.onSlideFocus:null,l.onblur=s.props.pauseOnFocus?s.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",s.onWindowResized):window.attachEvent("onresize",s.onWindowResized)}),pe(fe(s),"componentWillUnmount",function(){s.animationEndCallback&&clearTimeout(s.animationEndCallback),s.lazyLoadTimer&&clearInterval(s.lazyLoadTimer),s.callbackTimers.length&&(s.callbackTimers.forEach(function(i){return clearTimeout(i)}),s.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",s.onWindowResized):window.detachEvent("onresize",s.onWindowResized),s.autoplayTimer&&clearInterval(s.autoplayTimer),s.ro.disconnect()}),pe(fe(s),"componentDidUpdate",function(i){if(s.checkImagesLoad(),s.props.onReInit&&s.props.onReInit(),s.props.lazyLoad){var a=(0,ze.getOnDemandLazySlides)(re(re({},s.props),s.state));a.length>0&&(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),s.props.onLazyLoad&&s.props.onLazyLoad(a))}s.adaptHeight();var l=re(re({listRef:s.list,trackRef:s.track},s.props),s.state),c=s.didPropsChange(i);c&&s.updateState(l,c,function(){s.state.currentSlide>=Zt.default.Children.count(s.props.children)&&s.changeSlide({message:"index",index:Zt.default.Children.count(s.props.children)-s.props.slidesToShow,currentSlide:s.state.currentSlide}),s.props.autoplay?s.autoPlay("update"):s.pause("paused")})}),pe(fe(s),"onWindowResized",function(i){s.debouncedResize&&s.debouncedResize.cancel(),s.debouncedResize=(0,hF.default)(function(){return s.resizeWindow(i)},50),s.debouncedResize()}),pe(fe(s),"resizeWindow",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(s.track&&s.track.node);if(a){var l=re(re({listRef:s.list,trackRef:s.track},s.props),s.state);s.updateState(l,i,function(){s.props.autoplay?s.autoPlay("update"):s.pause("paused")}),s.setState({animating:!1}),clearTimeout(s.animationEndCallback),delete s.animationEndCallback}}),pe(fe(s),"updateState",function(i,a,l){var c=(0,ze.initializedState)(i);i=re(re(re({},i),c),{},{slideIndex:c.currentSlide});var d=(0,ze.getTrackLeft)(i);i=re(re({},i),{},{left:d});var h=(0,ze.getTrackCSS)(i);(a||Zt.default.Children.count(s.props.children)!==Zt.default.Children.count(i.children))&&(c.trackStyle=h),s.setState(c,l)}),pe(fe(s),"ssrInit",function(){if(s.props.variableWidth){var i=0,a=0,l=[],c=(0,ze.getPreClones)(re(re(re({},s.props),s.state),{},{slideCount:s.props.children.length})),d=(0,ze.getPostClones)(re(re(re({},s.props),s.state),{},{slideCount:s.props.children.length}));s.props.children.forEach(function(T){l.push(T.props.style.width),i+=T.props.style.width});for(var h=0;h<c;h++)a+=l[l.length-1-h],i+=l[l.length-1-h];for(var f=0;f<d;f++)i+=l[f];for(var m=0;m<s.state.currentSlide;m++)a+=l[m];var v={width:i+"px",left:-a+"px"};if(s.props.centerMode){var w="".concat(l[s.state.currentSlide],"px");v.left="calc(".concat(v.left," + (100% - ").concat(w,") / 2 ) ")}return{trackStyle:v}}var C=Zt.default.Children.count(s.props.children),_=re(re(re({},s.props),s.state),{},{slideCount:C}),g=(0,ze.getPreClones)(_)+(0,ze.getPostClones)(_)+C,y=100/s.props.slidesToShow*g,x=100/g,b=-x*((0,ze.getPreClones)(_)+s.state.currentSlide)*y/100;s.props.centerMode&&(b+=(100-x*y/100)/2);var S={width:y+"%",left:b+"%"};return{slideWidth:x+"%",trackStyle:S}}),pe(fe(s),"checkImagesLoad",function(){var i=s.list&&s.list.querySelectorAll&&s.list.querySelectorAll(".slick-slide img")||[],a=i.length,l=0;Array.prototype.forEach.call(i,function(c){var d=function(){return++l&&l>=a&&s.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(f){h(f),c.parentNode.focus()}}c.onload||(s.props.lazyLoad?c.onload=function(){s.adaptHeight(),s.callbackTimers.push(setTimeout(s.onWindowResized,s.props.speed))}:(c.onload=d,c.onerror=function(){d(),s.props.onLazyLoadError&&s.props.onLazyLoadError()}))})}),pe(fe(s),"progressiveLazyLoad",function(){for(var i=[],a=re(re({},s.props),s.state),l=s.state.currentSlide;l<s.state.slideCount+(0,ze.getPostClones)(a);l++)if(s.state.lazyLoadedList.indexOf(l)<0){i.push(l);break}for(var c=s.state.currentSlide-1;c>=-(0,ze.getPreClones)(a);c--)if(s.state.lazyLoadedList.indexOf(c)<0){i.push(c);break}i.length>0?(s.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(i)}}),s.props.onLazyLoad&&s.props.onLazyLoad(i)):s.lazyLoadTimer&&(clearInterval(s.lazyLoadTimer),delete s.lazyLoadTimer)}),pe(fe(s),"slideHandler",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=s.props,c=l.asNavFor,d=l.beforeChange,h=l.onLazyLoad,f=l.speed,m=l.afterChange,v=s.state.currentSlide,w=(0,ze.slideHandler)(re(re(re({index:i},s.props),s.state),{},{trackRef:s.track,useCSS:s.props.useCSS&&!a})),C=w.state,_=w.nextState;if(C){d&&d(v,C.currentSlide);var g=C.lazyLoadedList.filter(function(y){return s.state.lazyLoadedList.indexOf(y)<0});h&&g.length>0&&h(g),!s.props.waitForAnimate&&s.animationEndCallback&&(clearTimeout(s.animationEndCallback),m&&m(v),delete s.animationEndCallback),s.setState(C,function(){c&&s.asNavForIndex!==i&&(s.asNavForIndex=i,c.innerSlider.slideHandler(i)),_&&(s.animationEndCallback=setTimeout(function(){var y=_.animating,x=yF(_,["animating"]);s.setState(x,function(){s.callbackTimers.push(setTimeout(function(){return s.setState({animating:y})},10)),m&&m(C.currentSlide),delete s.animationEndCallback})},f))})}}),pe(fe(s),"changeSlide",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=re(re({},s.props),s.state),c=(0,ze.changeSlide)(l,i);if(!(c!==0&&!c)&&(a===!0?s.slideHandler(c,a):s.slideHandler(c),s.props.autoplay&&s.autoPlay("update"),s.props.focusOnSelect)){var d=s.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),pe(fe(s),"clickHandler",function(i){s.clickable===!1&&(i.stopPropagation(),i.preventDefault()),s.clickable=!0}),pe(fe(s),"keyHandler",function(i){var a=(0,ze.keyHandler)(i,s.props.accessibility,s.props.rtl);a!==""&&s.changeSlide({message:a})}),pe(fe(s),"selectHandler",function(i){s.changeSlide(i)}),pe(fe(s),"disableBodyScroll",function(){var i=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=i}),pe(fe(s),"enableBodyScroll",function(){window.ontouchmove=null}),pe(fe(s),"swipeStart",function(i){s.props.verticalSwiping&&s.disableBodyScroll();var a=(0,ze.swipeStart)(i,s.props.swipe,s.props.draggable);a!==""&&s.setState(a)}),pe(fe(s),"swipeMove",function(i){var a=(0,ze.swipeMove)(i,re(re(re({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));a&&(a.swiping&&(s.clickable=!1),s.setState(a))}),pe(fe(s),"swipeEnd",function(i){var a=(0,ze.swipeEnd)(i,re(re(re({},s.props),s.state),{},{trackRef:s.track,listRef:s.list,slideIndex:s.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,s.setState(a),l!==void 0&&(s.slideHandler(l),s.props.verticalSwiping&&s.enableBodyScroll())}}),pe(fe(s),"touchEnd",function(i){s.swipeEnd(i),s.clickable=!0}),pe(fe(s),"slickPrev",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"previous"})},0))}),pe(fe(s),"slickNext",function(){s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"next"})},0))}),pe(fe(s),"slickGoTo",function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i=Number(i),isNaN(i))return"";s.callbackTimers.push(setTimeout(function(){return s.changeSlide({message:"index",index:i,currentSlide:s.state.currentSlide},a)},0))}),pe(fe(s),"play",function(){var i;if(s.props.rtl)i=s.state.currentSlide-s.props.slidesToScroll;else if((0,ze.canGoNext)(re(re({},s.props),s.state)))i=s.state.currentSlide+s.props.slidesToScroll;else return!1;s.slideHandler(i)}),pe(fe(s),"autoPlay",function(i){s.autoplayTimer&&clearInterval(s.autoplayTimer);var a=s.state.autoplaying;if(i==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(i==="leave"){if(a==="paused"||a==="focused")return}else if(i==="blur"&&(a==="paused"||a==="hovered"))return;s.autoplayTimer=setInterval(s.play,s.props.autoplaySpeed+50),s.setState({autoplaying:"playing"})}),pe(fe(s),"pause",function(i){s.autoplayTimer&&(clearInterval(s.autoplayTimer),s.autoplayTimer=null);var a=s.state.autoplaying;i==="paused"?s.setState({autoplaying:"paused"}):i==="focused"?(a==="hovered"||a==="playing")&&s.setState({autoplaying:"focused"}):a==="playing"&&s.setState({autoplaying:"hovered"})}),pe(fe(s),"onDotsOver",function(){return s.props.autoplay&&s.pause("hovered")}),pe(fe(s),"onDotsLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),pe(fe(s),"onTrackOver",function(){return s.props.autoplay&&s.pause("hovered")}),pe(fe(s),"onTrackLeave",function(){return s.props.autoplay&&s.state.autoplaying==="hovered"&&s.autoPlay("leave")}),pe(fe(s),"onSlideFocus",function(){return s.props.autoplay&&s.pause("focused")}),pe(fe(s),"onSlideBlur",function(){return s.props.autoplay&&s.state.autoplaying==="focused"&&s.autoPlay("blur")}),pe(fe(s),"render",function(){var i=(0,fF.default)("slick-slider",s.props.className,{"slick-vertical":s.props.vertical,"slick-initialized":!0}),a=re(re({},s.props),s.state),l=(0,ze.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=s.props.pauseOnHover;l=re(re({},l),{},{onMouseEnter:c?s.onTrackOver:null,onMouseLeave:c?s.onTrackLeave:null,onMouseOver:c?s.onTrackOver:null,focusOnSelect:s.props.focusOnSelect&&s.clickable?s.selectHandler:null});var d;if(s.props.dots===!0&&s.state.slideCount>=s.props.slidesToShow){var h=(0,ze.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=s.props.pauseOnDotsHover;h=re(re({},h),{},{clickHandler:s.changeSlide,onMouseEnter:f?s.onDotsLeave:null,onMouseOver:f?s.onDotsOver:null,onMouseLeave:f?s.onDotsLeave:null}),d=Zt.default.createElement(mF.Dots,h)}var m,v,w=(0,ze.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);w.clickHandler=s.changeSlide,s.props.arrows&&(m=Zt.default.createElement(ix.PrevArrow,w),v=Zt.default.createElement(ix.NextArrow,w));var C=null;s.props.vertical&&(C={height:s.state.listHeight});var _=null;s.props.vertical===!1?s.props.centerMode===!0&&(_={padding:"0px "+s.props.centerPadding}):s.props.centerMode===!0&&(_={padding:s.props.centerPadding+" 0px"});var g=re(re({},C),_),y=s.props.touchMove,x={className:"slick-list",style:g,onClick:s.clickHandler,onMouseDown:y?s.swipeStart:null,onMouseMove:s.state.dragging&&y?s.swipeMove:null,onMouseUp:y?s.swipeEnd:null,onMouseLeave:s.state.dragging&&y?s.swipeEnd:null,onTouchStart:y?s.swipeStart:null,onTouchMove:s.state.dragging&&y?s.swipeMove:null,onTouchEnd:y?s.touchEnd:null,onTouchCancel:s.state.dragging&&y?s.swipeEnd:null,onKeyDown:s.props.accessibility?s.keyHandler:null},b={className:i,dir:"ltr",style:s.props.style};return s.props.unslick&&(x={className:"slick-list"},b={className:i}),Zt.default.createElement("div",b,s.props.unslick?"":m,Zt.default.createElement("div",Sh({ref:s.listRefHandler},x),Zt.default.createElement(pF.Track,Sh({ref:s.trackRefHandler},l),s.props.children)),s.props.unslick?"":v,s.props.unslick?"":d)}),s.list=null,s.track=null,s.state=re(re({},dF.default),{},{currentSlide:s.props.initialSlide,targetSlide:s.props.initialSlide?s.props.initialSlide:0,slideCount:Zt.default.Children.count(s.props.children)}),s.callbackTimers=[],s.clickable=!0,s.debouncedResize=null;var o=s.ssrInit();return s.state=re(re({},s.state),o),s}return xF(n,[{key:"didPropsChange",value:function(s){for(var o=!1,i=0,a=Object.keys(this.props);i<a.length;i++){var l=a[i];if(!s.hasOwnProperty(l)){o=!0;break}if(!(Wo(s[l])==="object"||typeof s[l]=="function"||isNaN(s[l]))&&s[l]!==this.props[l]){o=!0;break}}return o||Zt.default.Children.count(this.props.children)!==Zt.default.Children.count(s.children)}}]),n}(Zt.default.Component);var EF=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},TF=EF,IF=TF,NF=function(t){var e=/[height|width]$/;return e.test(t)},lx=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,s){var o=t[r];r=IF(r),NF(r)&&typeof o=="number"&&(o=o+"px"),o===!0?e+=r:o===!1?e+="not "+r:e+="("+r+": "+o+")",s<n.length-1&&(e+=" and ")}),e},AF=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=lx(n),r<t.length-1&&(e+=", ")}),e):lx(t)},PF=AF,_m,cx;function jF(){if(cx)return _m;cx=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},_m=t,_m}var wm,ux;function Q7(){if(ux)return wm;ux=1;function t(r,s){var o=0,i=r.length,a;for(o;o<i&&(a=s(r[o],o),a!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return wm={isFunction:n,isArray:e,each:t},wm}var xm,dx;function RF(){if(dx)return xm;dx=1;var t=jF(),e=Q7().each;function n(r,s){this.query=r,this.isUnconditional=s,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(i){o.mql=i.currentTarget||i,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var s=new t(r);this.handlers.push(s),this.matches()&&s.on()},removeHandler:function(r){var s=this.handlers;e(s,function(o,i){if(o.equals(r))return o.destroy(),!s.splice(i,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(s){s[r]()})}},xm=n,xm}var Cm,hx;function LF(){if(hx)return Cm;hx=1;var t=RF(),e=Q7(),n=e.each,r=e.isFunction,s=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(i,a,l){var c=this.queries,d=l&&this.browserIsIncapable;return c[i]||(c[i]=new t(i,d)),r(a)&&(a={match:a}),s(a)||(a=[a]),n(a,function(h){r(h)&&(h={match:h}),c[i].addHandler(h)}),this},unregister:function(i,a){var l=this.queries[i];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[i])),this}},Cm=o,Cm}var bm,fx;function OF(){if(fx)return bm;fx=1;var t=LF();return bm=new t,bm}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(p),n=Zf,r=i(PF),s=i(uv),o=z;function i(E){return E&&E.__esModule?E:{default:E}}function a(E){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},a(E)}function l(){return l=Object.assign?Object.assign.bind():function(E){for(var N=1;N<arguments.length;N++){var A=arguments[N];for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(E[I]=A[I])}return E},l.apply(this,arguments)}function c(E,N){var A=Object.keys(E);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(E);N&&(I=I.filter(function(j){return Object.getOwnPropertyDescriptor(E,j).enumerable})),A.push.apply(A,I)}return A}function d(E){for(var N=1;N<arguments.length;N++){var A=arguments[N]!=null?arguments[N]:{};N%2?c(Object(A),!0).forEach(function(I){b(E,I,A[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(A)):c(Object(A)).forEach(function(I){Object.defineProperty(E,I,Object.getOwnPropertyDescriptor(A,I))})}return E}function h(E,N){if(!(E instanceof N))throw new TypeError("Cannot call a class as a function")}function f(E,N){for(var A=0;A<N.length;A++){var I=N[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,S(I.key),I)}}function m(E,N,A){return N&&f(E.prototype,N),Object.defineProperty(E,"prototype",{writable:!1}),E}function v(E,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),N&&w(E,N)}function w(E,N){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,j){return I.__proto__=j,I},w(E,N)}function C(E){var N=y();return function(){var I=x(E),j;if(N){var R=x(this).constructor;j=Reflect.construct(I,arguments,R)}else j=I.apply(this,arguments);return _(this,j)}}function _(E,N){if(N&&(a(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(E)}function g(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function y(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y=function(){return!!E})()}function x(E){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},x(E)}function b(E,N,A){return N=S(N),N in E?Object.defineProperty(E,N,{value:A,enumerable:!0,configurable:!0,writable:!0}):E[N]=A,E}function S(E){var N=T(E,"string");return a(N)=="symbol"?N:String(N)}function T(E,N){if(a(E)!="object"||!E)return E;var A=E[Symbol.toPrimitive];if(A!==void 0){var I=A.call(E,N);if(a(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(E)}var k=(0,o.canUseDOM)()&&OF();t.default=function(E){v(A,E);var N=C(A);function A(I){var j;return h(this,A),j=N.call(this,I),b(g(j),"innerSliderRefHandler",function(R){return j.innerSlider=R}),b(g(j),"slickPrev",function(){return j.innerSlider.slickPrev()}),b(g(j),"slickNext",function(){return j.innerSlider.slickNext()}),b(g(j),"slickGoTo",function(R){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return j.innerSlider.slickGoTo(R,O)}),b(g(j),"slickPause",function(){return j.innerSlider.pause("paused")}),b(g(j),"slickPlay",function(){return j.innerSlider.autoPlay("play")}),j.state={breakpoint:null},j._responsiveMediaHandlers=[],j}return m(A,[{key:"media",value:function(j,R){k.register(j,R),this._responsiveMediaHandlers.push({query:j,handler:R})}},{key:"componentDidMount",value:function(){var j=this;if(this.props.responsive){var R=this.props.responsive.map(function(M){return M.breakpoint});R.sort(function(M,L){return M-L}),R.forEach(function(M,L){var P;L===0?P=(0,r.default)({minWidth:0,maxWidth:M}):P=(0,r.default)({minWidth:R[L-1]+1,maxWidth:M}),(0,o.canUseDOM)()&&j.media(P,function(){j.setState({breakpoint:M})})});var O=(0,r.default)({minWidth:R.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(O,function(){j.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(j){k.unregister(j.query,j.handler)})}},{key:"render",value:function(){var j=this,R,O;this.state.breakpoint?(O=this.props.responsive.filter(function(Pe){return Pe.breakpoint===j.state.breakpoint}),R=O[0].settings==="unslick"?"unslick":d(d(d({},s.default),this.props),O[0].settings)):R=d(d({},s.default),this.props),R.centerMode&&(R.slidesToScroll>1,R.slidesToScroll=1),R.fade&&(R.slidesToShow>1,R.slidesToScroll>1,R.slidesToShow=1,R.slidesToScroll=1);var M=e.default.Children.toArray(this.props.children);M=M.filter(function(Pe){return typeof Pe=="string"?!!Pe.trim():!!Pe}),R.variableWidth&&(R.rows>1||R.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),R.variableWidth=!1);for(var L=[],P=null,D=0;D<M.length;D+=R.rows*R.slidesPerRow){for(var F=[],q=D;q<D+R.rows*R.slidesPerRow;q+=R.slidesPerRow){for(var te=[],ne=q;ne<q+R.slidesPerRow&&(R.variableWidth&&M[ne].props.style&&(P=M[ne].props.style.width),!(ne>=M.length));ne+=1)te.push(e.default.cloneElement(M[ne],{key:100*D+10*q+ne,tabIndex:-1,style:{width:"".concat(100/R.slidesPerRow,"%"),display:"inline-block"}}));F.push(e.default.createElement("div",{key:10*D+q},te))}R.variableWidth?L.push(e.default.createElement("div",{key:D,style:{width:P}},F)):L.push(e.default.createElement("div",{key:D},F))}if(R==="unslick"){var ue="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ue},M)}else L.length<=R.slidesToShow&&!R.infinite&&(R.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(R)),L)}}]),A}(e.default.Component)})(y7);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(y7);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(g7);const DF=Bh(g7);function MF(t){const{className:e,style:n,onClick:r}=t;return u.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function $F(t){const{className:e,style:n,onClick:r}=t;return u.jsx("div",{className:e,style:{...n,display:"none"},onClick:r})}function FF(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),[r,s]=p.useState(0);p.useEffect(()=>{const i=document.querySelector(".slick-active"),a=parseInt(i.getAttribute("data-index")),l=["#C3F82B","#FF4365","#0040F9"],c={0:{iconColor:"#0A0B10",titleColor:"#0A0B10",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},1:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0},2:{iconColor:"#ffffff",titleColor:"#ffffff",showArrow:!1,arrowColor:"#0000FF",isBackground:!1,backgroundColor:"#FFFF00",isHeader:!0}};document.body.style.background=l[a],document.body.style.transition="0.5s",n(c[a])},[r]);const o={customPaging:function(i){return u.jsx("a",{children:u.jsx("div",{className:"dots"})})},dots:!0,dotsClass:"slick-dots slick-thumb",infinite:!0,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:1,slidesToScroll:1,nextArrow:u.jsx(MF,{}),prevArrow:u.jsx($F,{}),afterChange:i=>{s(i)}};return u.jsx("div",{className:"slider_container",children:u.jsxs(DF,{...o,children:[u.jsx("div",{children:u.jsxs("div",{className:"info_container",children:[u.jsx("div",{className:"image_container",children:u.jsx("img",{src:"1.png"})}),u.jsx("h2",{className:"title black",children:". . ."}),u.jsx("h3",{className:"text black",children:"       ."})]})}),u.jsx("div",{children:u.jsxs("div",{className:"info_container",children:[u.jsx("div",{className:"image_container",children:u.jsx("img",{src:"2.png"})}),u.jsx("h2",{className:"title white",children:" -   "}),u.jsx("h3",{className:"text white",children:"      "})]})}),u.jsx("div",{children:u.jsxs("div",{className:"info_container",children:[u.jsx("div",{className:"image_container",children:u.jsx("img",{src:"3.png"})}),u.jsx("h2",{className:"title white",children:"   . "}),u.jsx("h3",{className:"text white",children:"   ,     ,    "})]})})]})})}const BF="_button_rb0y4_1",UF="_arrow_rb0y4_18",px={button:BF,arrow:UF};function VF({linkTo:t,name:e}){const n=ye(),r=()=>{n(t)};return u.jsxs("button",{className:px.button,onClick:r,children:[e,u.jsx("div",{className:px.arrow,children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:"white"})})})]})}const zF="_container_8awvt_1",HF="_button_container_8awvt_13",mx={container:zF,button_container:HF};function qF({setHeaderColor:t}){const{authUser:e,ga:n}=he();ye();const[r,s]=p.useState(0);return u.jsxs("div",{className:mx.container,children:[u.jsx(FF,{}),u.jsx("div",{className:mx.button_container,children:u.jsx(VF,{name:"",linkTo:"/sign-in"})})]})}const WF="_block_is8th_1",GF="_info_is8th_17",KF="_title_is8th_24",YF="_text_is8th_30",hi={block:WF,info:GF,title:KF,text:YF,"arrow-container":"_arrow-container_is8th_36","circle-arrow":"_circle-arrow_is8th_43"};function Yn({backgroundColor:t,isBorder:e,borderColor:n,textColor:r,name:s,description:o,linkTo:i,arrowBackgroundColor:a,arrowColor:l}){const c=ye(),d=()=>{c(i)};return u.jsxs("div",{className:hi.block,style:{background:t,transition:"0.5s ease",border:e?`2px solid ${n}`:"none"},onClick:d,children:[u.jsxs("div",{className:hi.info,children:[u.jsx("div",{className:hi.title,style:{color:r},children:s}),u.jsxs("div",{className:hi.text,style:{color:r},children:[" ",o," "]})]}),u.jsx("div",{className:hi["arrow-container"],children:u.jsx("div",{className:hi["circle-arrow"],style:{background:a},children:u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:l})})})})]})}const QF="_container_1rsta_1",ZF={container:QF},Ja={"block-body":"_block-body_1az4j_1","block-name":"_block-name_1az4j_10","block-text":"_block-text_1az4j_15","block-arrow":"_block-arrow_1az4j_21","circle-arrow":"_circle-arrow_1az4j_29"};function XF({name:t,text:e,circleColor:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(B);return u.jsxs("div",{className:Ja["block-body"],style:{background:r.element_first_color},children:[u.jsx("div",{className:Ja["block-name"],style:{color:r.text_first_color},children:t}),u.jsx("div",{className:Ja["block-text"],style:{color:r.text_first_color},children:e}),u.jsx("div",{className:Ja["block-arrow"],children:u.jsx("div",{className:Ja["circle-arrow"],style:{background:n},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.text_first_color})})})})]})}const gx=["   -  ,  . - . ","     . - . "," : ' '. - . ","  : ' '. - . ","    ."," . (P.S.   ). - . ","  -  . . "," .  .  . -. . ","  ,  .","-.","  ."," ."," ."," .kg"," - ,  - ,  - . - . ","! - . ","    .","   ,  .",'"  ?". - "   ". - "!".',"      ,     .",",   ?"," ?        .","    .   ' '  ,        .  ,   -   !","  - !","  ,   .","   ,     - . ","   -  .","  ,  - work,  walk -  .",":     ."," ,    .","    . - . ",":    -  ! - . ","  ! - . "," ,  ! - . ","     ,    .","  ,     !"," 5  ,  25 !","   -  !"," -  !","      ,      !","   ,  ! - . ","  ,   !","   ,   !",",   !","    ,    !","    -  !","    ,       !","  - .   - ! - . ","  ,   ...","  ! - . ","  ,    !","    ,      - . ","    ,     !"," ,   ! - . ",",   ! - . ","     !","  ! - . ",":   ,  !     ,  ! - . ",":   ,    ! - . "," ,   -  .","  ,   ","       ","  -  ","  ,   ","  ,   "," -   ,   ,   ",",     -    ,    ,     ","  ,  ","   - . ","    ,  ! - . ","    ! - . ","     ,      - . ","     7 ! - . "," ?   ...","     , ,      ","  ","     ! - . ","  ///","    ,    ","   ,    !","  ,  ,   ","     ,        -",":      - . "];function JF(){const[t,e]=p.useState(""),{authUser:n}=he();ye();const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(B),a=()=>{const c=Math.floor(Math.random()*gx.length);return gx[c]},l=async()=>{const c=await a();e(c),localStorage.setItem("dailyQuote",c),localStorage.setItem("quoteDate",new Date().toISOString())};return p.useEffect(()=>{const c=localStorage.getItem("dailyQuote"),d=localStorage.getItem("quoteDate"),h=new Date().toISOString().split("T")[0];c&&d&&d.split("T")[0]===h?e(c):l();const f=setInterval(l,24*60*60*1e3);return()=>clearInterval(f)},[]),p.useEffect(()=>{i({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:0,background:r.background_color}),document.body.style.background=r.background_color},[B]),u.jsxs("div",{className:ZF.container,children:[u.jsx(XF,{name:" ",text:t,circleColor:r.block_arrow_first_color}),u.jsx(Yn,{name:"",description:"   ",backgroundColor:r.block_first_color,isBorder:!0,borderColor:r.block_border_color,textColor:r.text_first_color,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_first_color,linkTo:"/updates"}),u.jsx(Yn,{name:" ",description:" ?",backgroundColor:r.block_second_color,isBorder:!1,borderColor:r.block_border_color,textColor:r.text_second_color,arrowColor:r.text_second_color,arrowBackgroundColor:r.block_arrow_second_color,linkTo:"/game-menu"}),u.jsx(Yn,{name:"",description:"  ?",backgroundColor:r.block_third_color,isBorder:!1,borderColor:r.block_border_color,textColor:r.text_first_color,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_third_color,linkTo:`/timetable/${n.mainGroup}`}),u.jsx(Yn,{name:"",description:" ",backgroundColor:r.block_first_color,isBorder:!0,borderColor:r.block_border_color,textColor:r.text_first_color,isCircleArrow:!1,arrowColor:r.text_first_color,arrowBackgroundColor:r.block_arrow_first_color,linkTo:"/shop"})]})}const eB="_container_6lq07_2",tB="_categories_6lq07_149",nB="_active_6lq07_169",rB="_greeting_6lq07_212",sB="_image_0_6lq07_337",oB="_image_1_6lq07_353",iB="_image_2_6lq07_369",aB="_image_3_6lq07_385",lB="_image_4_6lq07_401",cB="_moveGradient_6lq07_1",uB="_moveGradientHigh_6lq07_1",He={container:eB,"background-cover":"_background-cover_6lq07_12","input-container":"_input-container_6lq07_25","message-action":"_message-action_6lq07_37","add-file":"_add-file_6lq07_45","input-body":"_input-body_6lq07_64","smile-button":"_smile-button_6lq07_76","input-message":"_input-message_6lq07_97","send-button":"_send-button_6lq07_116","emoji-panel":"_emoji-panel_6lq07_135",categories:tB,"emoji-category":"_emoji-category_6lq07_157",active:nB,"emojies-container":"_emojies-container_6lq07_173","category-name":"_category-name_6lq07_180","emojies-body":"_emojies-body_6lq07_188","emojies-content":"_emojies-content_6lq07_196","messages-container":"_messages-container_6lq07_204",greeting:rB,"greeting-title":"_greeting-title_6lq07_220","greeting-text":"_greeting-text_6lq07_230","data-container":"_data-container_6lq07_240","message-body":"_message-body_6lq07_252","images-body":"_images-body_6lq07_262","images-wrapper_1":"_images-wrapper_1_6lq07_267","images-wrapper_2":"_images-wrapper_2_6lq07_281","images-wrapper_3":"_images-wrapper_3_6lq07_295","images-wrapper_4":"_images-wrapper_4_6lq07_309","images-wrapper_5":"_images-wrapper_5_6lq07_323",image_0:sB,image_1:oB,image_2:iB,image_3:aB,image_4:lB,"user-container":"_user-container_6lq07_431","user-photo":"_user-photo_6lq07_439","user-name":"_user-name_6lq07_452","message-text":"_message-text_6lq07_457","skeleton-high":"_skeleton-high_6lq07_473",moveGradient:cB,"skeleton-meduim":"_skeleton-meduim_6lq07_494","skeleton-small":"_skeleton-small_6lq07_515",moveGradientHigh:uB},yx={default:{name:"default",img:"themes/default/preview.png"},genery:{name:"genery",img:"themes/genery/preview.png"},kyrgyzstan:{name:"kyrgyzstan",img:"themes/kyrgyzstan/preview.png"},winter_2024:{name:"winter_2024",img:"themes/winter_2024/preview.png"}},np=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),rp=p.createContext({}),sp=p.createContext(null),hv=typeof document<"u",fv=hv?p.useLayoutEffect:p.useEffect,Z7=p.createContext({strict:!1}),pv=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dB="framerAppearId",X7="data-"+pv(dB),hB={useManualTiming:!1};class vx{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function fB(t){let e=new vx,n=new vx,r=0,s=!1,o=!1;const i=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const h=d&&s,f=h?e:n;return c&&i.add(l),f.add(l)&&h&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),i.delete(l)},process:l=>{if(s){o=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];i.has(d)&&(a.schedule(d),t()),d(l)}s=!1,o&&(o=!1,a.process(l))}};return a}const Bu=["read","resolveKeyframes","update","preRender","render","postRender"],pB=40;function J7(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=Bu.reduce((h,f)=>(h[f]=fB(()=>n=!0),h),{}),i=h=>{o[h].process(s)},a=()=>{const h=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(h-s.timestamp,pB),1),s.timestamp=h,s.isProcessing=!0,Bu.forEach(i),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:Bu.reduce((h,f)=>{const m=o[f];return h[f]=(v,w=!1,C=!1)=>(n||l(),m.schedule(v,w,C)),h},{}),cancel:h=>Bu.forEach(f=>o[f].cancel(h)),state:s,steps:o}}const{schedule:mv}=J7(queueMicrotask,!1);function Li(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const eS=p.createContext({});let _x=!1;function mB(t,e,n,r,s){const{visualElement:o}=p.useContext(rp),i=p.useContext(Z7),a=p.useContext(sp),l=p.useContext(np).reducedMotion,c=p.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=p.useContext(eS);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&yB(c.current,n,s,h),p.useInsertionEffect(()=>{d&&d.update(n,a)});const f=p.useRef(!!(n[X7]&&!window.HandoffComplete));return fv(()=>{d&&(d.updateFeatures(),mv.render(d.render),f.current&&d.animationState&&d.animationState.animateChanges())}),p.useEffect(()=>{d&&(!f.current&&d.animationState&&d.animationState.animateChanges(),f.current&&(f.current=!1,_x||(_x=!0,queueMicrotask(gB))))}),d}function gB(){window.HandoffComplete=!0}function yB(t,e,n,r){const{layoutId:s,layout:o,drag:i,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:tS(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!i||a&&Li(a),visualElement:t,scheduleRender:()=>t.scheduleRender(),animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function tS(t){if(t)return t.options.allowProjection!==!1?t.projection:tS(t.parent)}function vB(t,e,n){return p.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Li(n)&&(n.current=r))},[e])}function Cc(t){return typeof t=="string"||Array.isArray(t)}function op(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yv=["initial",...gv];function ip(t){return op(t.animate)||yv.some(e=>Cc(t[e]))}function nS(t){return!!(ip(t)||t.variants)}function _B(t,e){if(ip(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Cc(n)?n:void 0,animate:Cc(r)?r:void 0}}return t.inherit!==!1?e:{}}function wB(t){const{initial:e,animate:n}=_B(t,p.useContext(rp));return p.useMemo(()=>({initial:e,animate:n}),[wx(e),wx(n)])}function wx(t){return Array.isArray(t)?t.join(" "):t}const xx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xa={};for(const t in xx)xa[t]={isEnabled:e=>xx[t].some(n=>!!e[n])};function xB(t){for(const e in t)xa[e]={...xa[e],...t[e]}}const bc=p.createContext({}),CB=Symbol.for("motionComponentSymbol"),qt=t=>t;let rS=qt;function bB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&xB(t);function o(a,l){let c;const d={...p.useContext(np),...a,layoutId:kB(a)},{isStatic:h}=d,f=wB(a),m=r(a,h);if(!h&&hv){SB();const v=EB(d);c=v.MeasureLayout,f.visualElement=mB(s,m,d,e,v.ProjectionNode)}return u.jsxs(rp.Provider,{value:f,children:[c&&f.visualElement?u.jsx(c,{visualElement:f.visualElement,...d}):null,n(s,a,vB(m,f.visualElement,l),m,h,f.visualElement)]})}const i=p.forwardRef(o);return i[CB]=s,i}function kB({layoutId:t}){const e=p.useContext(bc).id;return e&&t!==void 0?e+"-"+t:t}function SB(t,e){p.useContext(Z7).strict}function EB(t){const{drag:e,layout:n}=xa;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function TB(t){function e(r,s={}){return bB(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const IB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vv(t){return typeof t!="string"||t.includes("-")?!1:!!(IB.indexOf(t)>-1||/[A-Z]/u.test(t))}const Th={};function NB(t){Object.assign(Th,t)}const nu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oi=new Set(nu);function sS(t,{layout:e,layoutId:n}){return oi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Th[t]||t==="opacity")}const Ft=t=>!!(t&&t.getVelocity),AB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PB=nu.length;function jB(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let o="";for(let i=0;i<PB;i++){const a=nu[i];if(t[a]!==void 0){const l=AB[a]||a;o+=`${l}(${t[a]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,r?"":o):n&&r&&(o="none"),o}const oS=t=>e=>typeof e=="string"&&e.startsWith(t),iS=oS("--"),RB=oS("var(--"),_v=t=>RB(t)?LB.test(t.split("/*")[0].trim()):!1,LB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,OB=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ws=(t,e,n)=>n>e?e:n<t?t:n,Ba={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ll={...Ba,transform:t=>Ws(0,1,t)},Uu={...Ba,default:1},Ol=t=>Math.round(t*1e5)/1e5,wv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,DB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,MB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu;function ru(t){return typeof t=="string"}const su=t=>({test:e=>ru(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cs=su("deg"),wr=su("%"),se=su("px"),$B=su("vh"),FB=su("vw"),Cx={...wr,parse:t=>wr.parse(t)/100,transform:t=>wr.transform(t*100)},bx={...Ba,transform:Math.round},aS={borderWidth:se,borderTopWidth:se,borderRightWidth:se,borderBottomWidth:se,borderLeftWidth:se,borderRadius:se,radius:se,borderTopLeftRadius:se,borderTopRightRadius:se,borderBottomRightRadius:se,borderBottomLeftRadius:se,width:se,maxWidth:se,height:se,maxHeight:se,size:se,top:se,right:se,bottom:se,left:se,padding:se,paddingTop:se,paddingRight:se,paddingBottom:se,paddingLeft:se,margin:se,marginTop:se,marginRight:se,marginBottom:se,marginLeft:se,rotate:cs,rotateX:cs,rotateY:cs,rotateZ:cs,scale:Uu,scaleX:Uu,scaleY:Uu,scaleZ:Uu,skew:cs,skewX:cs,skewY:cs,distance:se,translateX:se,translateY:se,translateZ:se,x:se,y:se,z:se,perspective:se,transformPerspective:se,opacity:Ll,originX:Cx,originY:Cx,originZ:se,zIndex:bx,backgroundPositionX:se,backgroundPositionY:se,fillOpacity:Ll,strokeOpacity:Ll,numOctaves:bx};function xv(t,e,n,r){const{style:s,vars:o,transform:i,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const h in e){const f=e[h];if(iS(h)){o[h]=f;continue}const m=aS[h],v=OB(f,m);if(oi.has(h)){if(l=!0,i[h]=v,!d)continue;f!==(m.default||0)&&(d=!1)}else h.startsWith("origin")?(c=!0,a[h]=v):s[h]=v}if(e.transform||(l||r?s.transform=jB(t.transform,n,d,r):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;s.transformOrigin=`${h} ${f} ${m}`}}const Cv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lS(t,e,n){for(const r in e)!Ft(e[r])&&!sS(r,n)&&(t[r]=e[r])}function BB({transformTemplate:t},e,n){return p.useMemo(()=>{const r=Cv();return xv(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function UB(t,e,n){const r=t.style||{},s={};return lS(s,r,t),Object.assign(s,BB(t,e,n)),s}function VB(t,e,n){const r={},s=UB(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const zB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ih(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||zB.has(t)}let cS=t=>!Ih(t);function HB(t){t&&(cS=e=>e.startsWith("on")?!Ih(e):t(e))}try{HB(require("@emotion/is-prop-valid").default)}catch{}function qB(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(cS(s)||n===!0&&Ih(s)||!e&&!Ih(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function kx(t,e,n){return typeof t=="string"?t:se.transform(e+n*t)}function WB(t,e,n){const r=kx(e,t.x,t.width),s=kx(n,t.y,t.height);return`${r} ${s}`}const GB={offset:"stroke-dashoffset",array:"stroke-dasharray"},KB={offset:"strokeDashoffset",array:"strokeDasharray"};function YB(t,e,n=1,r=0,s=!0){t.pathLength=1;const o=s?GB:KB;t[o.offset]=se.transform(-r);const i=se.transform(e),a=se.transform(n);t[o.array]=`${i} ${a}`}function bv(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:o,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},d,h,f){if(xv(t,c,d,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:v,dimensions:w}=t;m.transform&&(w&&(v.transform=m.transform),delete m.transform),w&&(s!==void 0||o!==void 0||v.transform)&&(v.transformOrigin=WB(w,s!==void 0?s:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&YB(m,i,a,l,!1)}const uS=()=>({...Cv(),attrs:{}}),kv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QB(t,e,n,r){const s=p.useMemo(()=>{const o=uS();return bv(o,e,{enableHardwareAcceleration:!1},kv(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};lS(o,t.style,t),s.style={...o,...s.style}}return s}function ZB(t=!1){return(n,r,s,{latestValues:o},i)=>{const l=(vv(n)?QB:VB)(r,o,i,n),c=qB(r,typeof n=="string",t),d=n!==p.Fragment?{...c,...l,ref:s}:{},{children:h}=r,f=p.useMemo(()=>Ft(h)?h.get():h,[h]);return p.createElement(n,{...d,children:f})}}function dS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const hS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fS(t,e,n,r){dS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(hS.has(s)?s:pv(s),e.attrs[s])}function Sv(t,e,n){var r;const{style:s}=t,o={};for(const i in s)(Ft(s[i])||e.style&&Ft(e.style[i])||sS(i,t)||((r=n==null?void 0:n.getValue(i))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[i]=s[i]);return o}function pS(t,e,n){const r=Sv(t,e,n);for(const s in t)if(Ft(t[s])||Ft(e[s])){const o=nu.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=t[s]}return r}function Sx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ev(t,e,n,r){if(typeof e=="function"){const[s,o]=Sx(r);e=e(n!==void 0?n:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=Sx(r);e=e(n!==void 0?n:t.custom,s,o)}return e}function Tv(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ig=t=>Array.isArray(t),XB=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),JB=t=>Ig(t)?t[t.length-1]||0:t;function gd(t){const e=Ft(t)?t.get():t;return XB(e)?e.toValue():e}function eU({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,o){const i={latestValues:tU(r,s,o,t),renderState:e()};return n&&(i.mount=a=>n(r,a,i)),i}const mS=t=>(e,n)=>{const r=p.useContext(rp),s=p.useContext(sp),o=()=>eU(t,e,r,s);return n?o():Tv(o)};function tU(t,e,n,r){const s={},o=r(t,{});for(const f in o)s[f]=gd(o[f]);let{initial:i,animate:a}=t;const l=ip(t),c=nS(t);e&&c&&!l&&t.inherit!==!1&&(i===void 0&&(i=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||i===!1;const h=d?a:i;return h&&typeof h!="boolean"&&!op(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const v=Ev(t,m);if(!v)return;const{transitionEnd:w,transition:C,..._}=v;for(const g in _){let y=_[g];if(Array.isArray(y)){const x=d?y.length-1:0;y=y[x]}y!==null&&(s[g]=y)}for(const g in w)s[g]=w[g]}),s}const{schedule:be,cancel:es,state:bt,steps:km}=J7(typeof requestAnimationFrame<"u"?requestAnimationFrame:qt,!0),nU={useVisualState:mS({scrapeMotionValuesFromProps:pS,createRenderState:uS,onMount:(t,e,{renderState:n,latestValues:r})=>{be.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),be.render(()=>{bv(n,r,{enableHardwareAcceleration:!1},kv(e.tagName),t.transformTemplate),fS(e,n)})}})},rU={useVisualState:mS({scrapeMotionValuesFromProps:Sv,createRenderState:Cv})};function sU(t,{forwardMotionProps:e=!1},n,r){return{...vv(t)?nU:rU,preloadedFeatures:n,useRender:ZB(e),createVisualElement:r,Component:t}}function Dr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const gS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function ap(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const oU=t=>e=>gS(e)&&t(e,ap(e));function Br(t,e,n,r){return Dr(t,e,oU(n),r)}const iU=(t,e)=>n=>e(t(n)),Ur=(...t)=>t.reduce(iU);function yS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Ex=yS("dragHorizontal"),Tx=yS("dragVertical");function vS(t){let e=!1;if(t==="y")e=Tx();else if(t==="x")e=Ex();else{const n=Ex(),r=Tx();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function _S(){const t=vS(!0);return t?(t(),!1):!0}class to{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Ix(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",s=(o,i)=>{if(o.pointerType==="touch"||_S())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&be.postRender(()=>l(o,i))};return Br(t.current,n,s,{passive:!t.getProps()[r]})}class aU extends to{mount(){this.unmount=Ur(Ix(this.node,!0),Ix(this.node,!1))}unmount(){}}class lU extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ur(Dr(this.node.current,"focus",()=>this.onFocus()),Dr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wS=(t,e)=>e?t===e?!0:wS(t,e.parentElement):!1;function Sm(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,ap(n))}class cU extends to{constructor(){super(...arguments),this.removeStartListeners=qt,this.removeEndListeners=qt,this.removeAccessibleListeners=qt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Br(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!wS(this.node.current,a.target)?d:c;f&&be.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),i=Br(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ur(o,i),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const i=a=>{a.key!=="Enter"||!this.checkPressEnd()||Sm("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&be.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Dr(this.node.current,"keyup",i),Sm("down",(a,l)=>{this.startPress(a,l)})},n=Dr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Sm("cancel",(o,i)=>this.cancelPress(o,i))},s=Dr(this.node.current,"blur",r);this.removeAccessibleListeners=Ur(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&be.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_S()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&be.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Br(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Dr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ur(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Ng=new WeakMap,Em=new WeakMap,uU=t=>{const e=Ng.get(t.target);e&&e(t)},dU=t=>{t.forEach(uU)};function hU({root:t,...e}){const n=t||document;Em.has(n)||Em.set(n,{});const r=Em.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(dU,{root:t,...e})),r[s]}function fU(t,e,n){const r=hU(e);return Ng.set(t,n),r.observe(t),()=>{Ng.delete(t),r.unobserve(t)}}const pU={some:0,all:1};class mU extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:o}=e,i={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:pU[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return fU(this.node.current,i,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gU(e,n))&&this.startObserver()}unmount(){}}function gU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yU={inView:{Feature:mU},tap:{Feature:cU},focus:{Feature:lU},hover:{Feature:aU}};function xS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function lp(t,e,n){const r=t.getProps();return Ev(r,e,n!==void 0?n:r.custom,t)}const Ms=t=>t*1e3,Vr=t=>t/1e3,vU={type:"spring",stiffness:500,damping:25,restSpeed:10},_U=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wU={type:"keyframes",duration:.8},xU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CU=(t,{keyframes:e})=>e.length>2?wU:oi.has(t)?t.startsWith("scale")?_U(e[1]):vU:xU;function bU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function Iv(t,e){return t[e]||t.default||t}const kU=t=>t!==null;function cp(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(kU),o=e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}let yd;function SU(){yd=void 0}const $s={now:()=>(yd===void 0&&$s.set(bt.isProcessing||hB.useManualTiming?bt.timestamp:performance.now()),yd),set:t=>{yd=t,queueMicrotask(SU)}},CS=t=>/^0[^.\s]+$/u.test(t);function EU(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||CS(t):!0}const bS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),TU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IU(t){const e=TU.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function kS(t,e,n=1){const[r,s]=IU(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const i=o.trim();return bS(i)?parseFloat(i):i}return _v(s)?kS(s,e,n+1):s}const NU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Nx=t=>t===Ba||t===se,Ax=(t,e)=>parseFloat(t.split(", ")[e]),Px=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Ax(s[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?Ax(o[1],t):0}},AU=new Set(["x","y","z"]),PU=nu.filter(t=>!AU.has(t));function jU(t){const e=[];return PU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ca={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Px(4,13),y:Px(5,14)};Ca.translateX=Ca.x;Ca.translateY=Ca.y;const SS=t=>e=>e.test(t),RU={test:t=>t==="auto",parse:t=>t},ES=[Ba,se,wr,cs,FB,$B,RU],jx=t=>ES.find(SS(t)),Po=new Set;let Ag=!1,Pg=!1;function TS(){if(Pg){const t=Array.from(Po).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=jU(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([o,i])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(i)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Pg=!1,Ag=!1,Po.forEach(t=>t.complete()),Po.clear()}function IS(){Po.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Pg=!0)})}function LU(){IS(),TS()}class Nv{constructor(e,n,r,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Po.add(this),Ag||(Ag=!0,be.read(IS),be.resolveKeyframes(TS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const i=s==null?void 0:s.get(),a=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),s&&i===void 0&&s.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Po.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Po.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Av=(t,e)=>n=>!!(ru(n)&&MB.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),NS=(t,e,n)=>r=>{if(!ru(r))return r;const[s,o,i,a]=r.match(wv);return{[t]:parseFloat(s),[e]:parseFloat(o),[n]:parseFloat(i),alpha:a!==void 0?parseFloat(a):1}},OU=t=>Ws(0,255,t),Tm={...Ba,transform:t=>Math.round(OU(t))},Co={test:Av("rgb","red"),parse:NS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Tm.transform(t)+", "+Tm.transform(e)+", "+Tm.transform(n)+", "+Ol(Ll.transform(r))+")"};function DU(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const jg={test:Av("#"),parse:DU,transform:Co.transform},Oi={test:Av("hsl","hue"),parse:NS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+wr.transform(Ol(e))+", "+wr.transform(Ol(n))+", "+Ol(Ll.transform(r))+")"},Lt={test:t=>Co.test(t)||jg.test(t)||Oi.test(t),parse:t=>Co.test(t)?Co.parse(t):Oi.test(t)?Oi.parse(t):jg.parse(t),transform:t=>ru(t)?t:t.hasOwnProperty("red")?Co.transform(t):Oi.transform(t)};function MU(t){var e,n;return isNaN(t)&&ru(t)&&(((e=t.match(wv))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(DB))===null||n===void 0?void 0:n.length)||0)>0}const AS="number",PS="color",$U="var",FU="var(",Rx="${}",BU=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let o=0;const a=e.replace(BU,l=>(Lt.test(l)?(r.color.push(o),s.push(PS),n.push(Lt.parse(l))):l.startsWith(FU)?(r.var.push(o),s.push($U),n.push(l)):(r.number.push(o),s.push(AS),n.push(parseFloat(l))),++o,Rx)).split(Rx);return{values:n,split:a,indexes:r,types:s}}function jS(t){return kc(t).values}function RS(t){const{split:e,types:n}=kc(t),r=e.length;return s=>{let o="";for(let i=0;i<r;i++)if(o+=e[i],s[i]!==void 0){const a=n[i];a===AS?o+=Ol(s[i]):a===PS?o+=Lt.transform(s[i]):o+=s[i]}return o}}const UU=t=>typeof t=="number"?0:t;function VU(t){const e=jS(t);return RS(t)(e.map(UU))}const Gs={test:MU,parse:jS,createTransformer:RS,getAnimatableNone:VU},zU=new Set(["brightness","contrast","saturate","opacity"]);function HU(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wv)||[];if(!r)return t;const s=n.replace(r,"");let o=zU.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+s+")"}const qU=/\b([a-z-]*)\(.*?\)/gu,Rg={...Gs,getAnimatableNone:t=>{const e=t.match(qU);return e?e.map(HU).join(" "):t}},WU={...aS,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:Rg,WebkitFilter:Rg},Pv=t=>WU[t];function LS(t,e){let n=Pv(t);return n!==Rg&&(n=Gs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GU=new Set(["auto","none","0"]);function KU(t,e,n){let r=0,s;for(;r<t.length&&!s;){const o=t[r];typeof o=="string"&&!GU.has(o)&&kc(o).values.length&&(s=t[r]),r++}if(s&&n)for(const o of e)t[o]=LS(n,s)}class OS extends Nv{constructor(e,n,r,s){super(e,n,r,s,s==null?void 0:s.owner,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),_v(c))){const d=kS(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!NU.has(r)||e.length!==2)return;const[s,o]=e,i=jx(s),a=jx(o);if(i!==a)if(Nx(i)&&Nx(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)EU(e[s])&&r.push(s);r.length&&KU(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ca[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const i=s.length-1,a=s[i];s[i]=Ca[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function DS(t){let e;return()=>(e===void 0&&(e=t()),e)}const Lx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gs.test(t)||t==="0")&&!t.startsWith("url("));function YU(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function QU(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],i=Lx(s,e),a=Lx(o,e);return!i||!a?!1:YU(t)||n==="spring"&&r}class MS{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:o,repeatType:i,...a},this.updateFinishedPromise()}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&LU(),this._resolved}onKeyframesResolved(e,n){this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:o,delay:i,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!QU(e,r,s,o))if(i)this.options.duration=0;else{l==null||l(cp(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function $S(t,e){return e?t*(1e3/e):0}const ZU=5;function FS(t,e,n){const r=Math.max(e-ZU,0);return $S(n-t(r),e-r)}const Ox=.001,XU=.01,JU=10,eV=.05,tV=1;function nV({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,o,i=1-e;i=Ws(eV,tV,i),t=Ws(XU,JU,Vr(t)),i<1?(s=c=>{const d=c*i,h=d*t,f=d-n,m=Lg(c,i),v=Math.exp(-h);return Ox-f/m*v},o=c=>{const h=c*i*t,f=h*n+n,m=Math.pow(i,2)*Math.pow(c,2)*t,v=Math.exp(-h),w=Lg(Math.pow(c,2),i);return(-s(c)+Ox>0?-1:1)*((f-m)*v)/w}):(s=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-.001+d*h},o=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=sV(s,o,a);if(t=Ms(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:i*2*Math.sqrt(r*c),duration:t}}}const rV=12;function sV(t,e,n){let r=n;for(let s=1;s<rV;s++)r=r-t(r)/e(r);return r}function Lg(t,e){return t*Math.sqrt(1-e*e)}const oV=["duration","bounce"],iV=["stiffness","damping","mass"];function Dx(t,e){return e.some(n=>t[n]!==void 0)}function aV(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Dx(t,iV)&&Dx(t,oV)){const n=nV(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function BS({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],o=t[t.length-1],i={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=aV({...r,velocity:-Vr(r.velocity||0)}),m=h||0,v=l/(2*Math.sqrt(a*c)),w=o-s,C=Vr(Math.sqrt(a/c)),_=Math.abs(w)<5;n||(n=_?.01:2),e||(e=_?.005:.5);let g;if(v<1){const y=Lg(C,v);g=x=>{const b=Math.exp(-v*C*x);return o-b*((m+v*C*w)/y*Math.sin(y*x)+w*Math.cos(y*x))}}else if(v===1)g=y=>o-Math.exp(-C*y)*(w+(m+C*w)*y);else{const y=C*Math.sqrt(v*v-1);g=x=>{const b=Math.exp(-v*C*x),S=Math.min(y*x,300);return o-b*((m+v*C*w)*Math.sinh(S)+y*w*Math.cosh(S))/y}}return{calculatedDuration:f&&d||null,next:y=>{const x=g(y);if(f)i.done=y>=d;else{let b=m;y!==0&&(v<1?b=FS(g,y,x):b=0);const S=Math.abs(b)<=n,T=Math.abs(o-x)<=e;i.done=S&&T}return i.value=i.done?o:x,i}}}function Mx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},m=k=>a!==void 0&&k<a||l!==void 0&&k>l,v=k=>a===void 0?l:l===void 0||Math.abs(a-k)<Math.abs(l-k)?a:l;let w=n*e;const C=h+w,_=i===void 0?C:i(C);_!==C&&(w=_-h);const g=k=>-w*Math.exp(-k/r),y=k=>_+g(k),x=k=>{const E=g(k),N=y(k);f.done=Math.abs(E)<=c,f.value=f.done?_:N};let b,S;const T=k=>{m(f.value)&&(b=k,S=BS({keyframes:[f.value,v(f.value)],velocity:FS(y,k,f.value),damping:s,stiffness:o,restDelta:c,restSpeed:d}))};return T(0),{calculatedDuration:null,next:k=>{let E=!1;return!S&&b===void 0&&(E=!0,x(k),T(k)),b!==void 0&&k>=b?S.next(k-b):(!E&&x(k),f)}}}const US=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,lV=1e-7,cV=12;function uV(t,e,n,r,s){let o,i,a=0;do i=e+(n-e)/2,o=US(i,r,s)-t,o>0?n=i:e=i;while(Math.abs(o)>lV&&++a<cV);return i}function ou(t,e,n,r){if(t===e&&n===r)return qt;const s=o=>uV(o,0,1,t,n);return o=>o===0||o===1?o:US(s(o),e,r)}const dV=ou(.42,0,1,1),hV=ou(0,0,.58,1),VS=ou(.42,0,.58,1),fV=t=>Array.isArray(t)&&typeof t[0]!="number",zS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,HS=t=>e=>1-t(1-e),jv=t=>1-Math.sin(Math.acos(t)),qS=HS(jv),pV=zS(jv),WS=ou(.33,1.53,.69,.99),Rv=HS(WS),mV=zS(Rv),gV=t=>(t*=2)<1?.5*Rv(t):.5*(2-Math.pow(2,-10*(t-1))),yV={linear:qt,easeIn:dV,easeInOut:VS,easeOut:hV,circIn:jv,circInOut:pV,circOut:qS,backIn:Rv,backInOut:mV,backOut:WS,anticipate:gV},$x=t=>{if(Array.isArray(t)){rS(t.length===4);const[e,n,r,s]=t;return ou(e,n,r,s)}else if(typeof t=="string")return yV[t];return t},Sc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},We=(t,e,n)=>t+(e-t)*n;function Im(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,o=0,i=0;if(!e)s=o=i=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Im(l,a,t+1/3),o=Im(l,a,t),i=Im(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:r}}function Nh(t,e){return n=>n>0?e:t}const Nm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},_V=[jg,Co,Oi],wV=t=>_V.find(e=>e.test(t));function Fx(t){const e=wV(t);if(!e)return!1;let n=e.parse(t);return e===Oi&&(n=vV(n)),n}const Bx=(t,e)=>{const n=Fx(t),r=Fx(e);if(!n||!r)return Nh(t,e);const s={...n};return o=>(s.red=Nm(n.red,r.red,o),s.green=Nm(n.green,r.green,o),s.blue=Nm(n.blue,r.blue,o),s.alpha=We(n.alpha,r.alpha,o),Co.transform(s))},Og=new Set(["none","hidden"]);function xV(t,e){return Og.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function CV(t,e){return n=>We(t,e,n)}function Lv(t){return typeof t=="number"?CV:typeof t=="string"?_v(t)?Nh:Lt.test(t)?Bx:SV:Array.isArray(t)?GS:typeof t=="object"?Lt.test(t)?Bx:bV:Nh}function GS(t,e){const n=[...t],r=n.length,s=t.map((o,i)=>Lv(o)(o,e[i]));return o=>{for(let i=0;i<r;i++)n[i]=s[i](o);return n}}function bV(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Lv(t[s])(t[s],e[s]));return s=>{for(const o in r)n[o]=r[o](s);return n}}function kV(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const i=e.types[o],a=t.indexes[i][s[i]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[o]=l,s[i]++}return r}const SV=(t,e)=>{const n=Gs.createTransformer(e),r=kc(t),s=kc(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Og.has(t)&&!s.values.length||Og.has(e)&&!r.values.length?xV(t,e):Ur(GS(kV(r,s),s.values),n):Nh(t,e)};function KS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?We(t,e,n):Lv(t)(t,e)}function EV(t,e,n){const r=[],s=n||KS,o=t.length-1;for(let i=0;i<o;i++){let a=s(t[i],t[i+1]);if(e){const l=Array.isArray(e)?e[i]||qt:e;a=Ur(l,a)}r.push(a)}return r}function TV(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const o=t.length;if(rS(o===e.length),o===1)return()=>e[0];if(o===2&&t[0]===t[1])return()=>e[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const i=EV(e,r,s),a=i.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=Sc(t[d],t[d+1],c);return i[d](h)};return n?c=>l(Ws(t[0],t[o-1],c)):l}function IV(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sc(0,e,r);t.push(We(n,1,s))}}function NV(t){const e=[0];return IV(e,t.length-1),e}function AV(t,e){return t.map(n=>n*e)}function PV(t,e){return t.map(()=>e||VS).splice(0,t.length-1)}function Ah({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=fV(r)?r.map($x):$x(r),o={done:!1,value:e[0]},i=AV(n&&n.length===e.length?n:NV(e),t),a=TV(i,e,{ease:Array.isArray(s)?s:PV(e,s)});return{calculatedDuration:t,next:l=>(o.value=a(l),o.done=l>=t,o)}}const Ux=2e4;function jV(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ux;)e+=n,r=t.next(e);return e>=Ux?1/0:e}const RV=t=>{const e=({timestamp:n})=>t(n);return{start:()=>be.update(e,!0),stop:()=>es(e),now:()=>bt.isProcessing?bt.timestamp:$s.now()}},LV={decay:Mx,inertia:Mx,tween:Ah,keyframes:Ah,spring:BS},OV=t=>t/100;class Ov extends MS{constructor({KeyframeResolver:e=Nv,...n}){super(n),this.holdTime=null,this.startTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()};const{name:r,motionValue:s,keyframes:o}=this.options,i=(a,l)=>this.onKeyframesResolved(a,l);r&&s&&s.owner?this.resolver=s.owner.resolveKeyframes(o,i,r,s):this.resolver=new e(o,i,r,s),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=this.options,a=LV[n]||Ah;let l,c;a!==Ah&&typeof e[0]!="number"&&(l=Ur(OV,KS(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});o==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-i})),d.calculatedDuration===null&&(d.calculatedDuration=jV(d));const{calculatedDuration:h}=d,f=h+s,m=f*(r+1)-s;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:i,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return o.next(0);const{delay:f,repeat:m,repeatType:v,repeatDelay:w,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const _=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?_<0:_>d;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,x=o;if(m){const k=Math.min(this.currentTime,d)/h;let E=Math.floor(k),N=k%1;!N&&k>=1&&(N=1),N===1&&E--,E=Math.min(E,m+1),!!(E%2)&&(v==="reverse"?(N=1-N,w&&(N-=w/h)):v==="mirror"&&(x=i)),y=Ws(0,1,N)*h}const b=g?{done:!1,value:l[0]}:x.next(y);a&&(b.value=a(b.value));let{done:S}=b;!g&&c!==null&&(S=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return T&&s!==void 0&&(b.value=cp(l,this.options,s)),C&&C(b.value),T&&this.finish(),b}get duration(){const{resolved:e}=this;return e?Vr(e.calculatedDuration):0}get time(){return Vr(this.currentTime)}set time(e){e=Ms(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=RV,onPlay:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:(!this.startTime||this.state==="finished")&&(this.startTime=r),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const YS=t=>Array.isArray(t)&&typeof t[0]=="number";function QS(t){return!!(!t||typeof t=="string"&&t in Dv||YS(t)||Array.isArray(t)&&t.every(QS))}const yl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Dv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yl([0,.65,.55,1]),circOut:yl([.55,0,1,.45]),backIn:yl([.31,.01,.66,-.59]),backOut:yl([.33,1.53,.69,.99])};function DV(t){return ZS(t)||Dv.easeOut}function ZS(t){if(t)return YS(t)?yl(t):Array.isArray(t)?t.map(DV):Dv[t]}function MV(t,e,n,{delay:r=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=ZS(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"})}const $V=DS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),FV=new Set(["opacity","clipPath","filter","transform"]),Ph=10,BV=2e4;function UV(t){return t.type==="spring"||t.name==="backgroundColor"||!QS(t.ease)}function VV(t,e){const n=new Ov({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let o=0;for(;!r.done&&o<BV;)r=n.sample(o),s.push(r.value),o+=Ph;return{times:void 0,keyframes:s,duration:o-Ph,ease:"linear"}}class Vx extends MS{constructor(e){super(e);const{name:n,motionValue:r,keyframes:s}=this.options;this.resolver=new OS(s,(o,i)=>this.onKeyframesResolved(o,i),n,r),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:s=300,times:o,ease:i,type:a,motionValue:l,name:c}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(UV(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,...v}=this.options,w=VV(e,v);e=w.keyframes,e.length===1&&(e[1]=e[0]),s=w.duration,o=w.times,i=w.ease,a="keyframes"}const d=MV(l.owner.current,c,e,{...this.options,duration:s,times:o,ease:i});return d.startTime=$s.now(),this.pendingTimeline?(d.timeline=this.pendingTimeline,this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(cp(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:o,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Vr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Vr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ms(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return qt;const{animation:r}=n;r.timeline=e,r.onfinish=null}return qt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:o,ease:i,times:a}=e;if(!(n.playState==="idle"||n.playState==="finished")){if(this.time){const{motionValue:l,onUpdate:c,onComplete:d,...h}=this.options,f=new Ov({...h,keyframes:r,duration:s,type:o,ease:i,times:a,isGenerator:!0}),m=Ms(this.time);l.setWithVelocity(f.sample(m-Ph).value,f.sample(m).value,Ph)}this.cancel()}}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:o,damping:i,type:a}=e;return $V()&&r&&FV.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!s&&o!=="mirror"&&i!==0&&a!=="inertia"}}function zV(t,e){let n;const r=()=>{const{currentTime:s}=e,i=(s===null?0:s.value)/100;n!==i&&t(i),n=i};return be.update(r,!0),()=>es(r)}const HV=DS(()=>window.ScrollTimeline!==void 0);class qV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e){const n=this.animations.map(r=>{if(HV()&&r.attachTimeline)r.attachTimeline(e);else return r.pause(),zV(s=>{r.time=r.duration*s},e)});return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}const Mv=(t,e,n,r={},s,o)=>i=>{const a=Iv(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ms(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{i(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:s};bU(a)||(d={...d,...CU(t,d)}),d.duration&&(d.duration=Ms(d.duration)),d.repeatDelay&&(d.repeatDelay=Ms(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!o&&e.get()!==void 0){const f=cp(d.keyframes,a);if(f!==void 0)return be.update(()=>{d.onUpdate(f),d.onComplete()}),new qV([])}return!o&&Vx.supports(d)?new Vx(d):new Ov(d)};function jh(t){return!!(Ft(t)&&t.add)}function $v(t,e){t.indexOf(e)===-1&&t.push(e)}function Fv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Bv{constructor(){this.subscriptions=[]}add(e){return $v(this.subscriptions,e),()=>Fv(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const zx=30,WV=t=>!isNaN(parseFloat(t));class GV{constructor(e,n={}){this.version="11.2.11",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const o=$s.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=$s.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Bv);const r=this.events[e].add(n);return e==="change"?()=>{r(),be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=$s.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>zx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,zx);return $S(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ba(t,e){return new GV(t,e)}function KV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ba(n))}function YV(t,e){const n=lp(t,e);let{transitionEnd:r={},transition:s={},...o}=n||{};o={...o,...r};for(const i in o){const a=JB(o[i]);KV(t,i,a)}}function XS(t){return t.getProps()[X7]}function QV({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function JS(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var o;let{transition:i=t.getDefaultTransition(),transitionEnd:a,...l}=e;const c=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const m=t.getValue(f,(o=t.latestValues[f])!==null&&o!==void 0?o:null),v=l[f];if(v===void 0||h&&QV(h,f))continue;const w={delay:n,elapsed:0,...Iv(i||{},f)};let C=!1;if(window.HandoffAppearAnimations){const g=XS(t);if(g){const y=window.HandoffAppearAnimations(g,f,m,be);y!==null&&(w.elapsed=y,C=!0)}}m.start(Mv(f,m,v,t.shouldReduceMotion&&oi.has(f)?{type:!1}:w,t,C));const _=m.animation;_&&(jh(c)&&(c.add(f),_.then(()=>c.remove(f))),d.push(_))}return a&&Promise.all(d).then(()=>{be.update(()=>{a&&YV(t,a)})}),d}function Dg(t,e,n={}){var r;const s=lp(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const i=s?()=>Promise.all(JS(t,s,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=o;return ZV(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[c,d]=l==="beforeChildren"?[i,a]:[a,i];return c().then(()=>d())}else return Promise.all([i(),a(n.delay)])}function ZV(t,e,n=0,r=0,s=1,o){const i=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(XV).forEach((c,d)=>{c.notify("AnimationStart",e),i.push(Dg(c,e,{...o,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(i)}function XV(t,e){return t.sortNodePosition(e)}function JV(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(o=>Dg(t,o,n));r=Promise.all(s)}else if(typeof e=="string")r=Dg(t,e,n);else{const s=typeof e=="function"?lp(t,e,n.custom):e;r=Promise.all(JS(t,s,n))}return r.then(()=>{be.postRender(()=>{t.notify("AnimationComplete",e)})})}const ez=[...gv].reverse(),tz=gv.length;function nz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JV(t,n,r)))}function rz(t){let e=nz(t),n=Hx(),r=!0;const s=l=>(c,d)=>{var h;const f=lp(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:v,...w}=f;c={...c,...w,...v}}return c};function o(l){e=l(t)}function i(l){const c=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let m={},v=1/0;for(let C=0;C<tz;C++){const _=ez[C],g=n[_],y=c[_]!==void 0?c[_]:d[_],x=Cc(y),b=_===l?g.isActive:null;b===!1&&(v=C);let S=y===d[_]&&y!==c[_]&&x;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),g.protectedKeys={...m},!g.isActive&&b===null||!y&&!g.prevProp||op(y)||typeof y=="boolean")continue;let k=sz(g.prevProp,y)||_===l&&g.isActive&&!S&&x||C>v&&x,E=!1;const N=Array.isArray(y)?y:[y];let A=N.reduce(s(_),{});b===!1&&(A={});const{prevResolvedValues:I={}}=g,j={...I,...A},R=O=>{k=!0,f.has(O)&&(E=!0,f.delete(O)),g.needsAnimating[O]=!0;const M=t.getValue(O);M&&(M.liveStyle=!1)};for(const O in j){const M=A[O],L=I[O];if(m.hasOwnProperty(O))continue;let P=!1;Ig(M)&&Ig(L)?P=!xS(M,L):P=M!==L,P?M!=null?R(O):f.add(O):M!==void 0&&f.has(O)?R(O):g.protectedKeys[O]=!0}g.prevProp=y,g.prevResolvedValues=A,g.isActive&&(m={...m,...A}),r&&t.blockInitialAnimation&&(k=!1),k&&(!S||E)&&h.push(...N.map(O=>({animation:O,options:{type:_}})))}if(f.size){const C={};f.forEach(_=>{const g=t.getBaseTarget(_),y=t.getValue(_);y&&(y.liveStyle=!0),C[_]=g??null}),h.push({animation:C})}let w=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=i(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:i,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=Hx(),r=!0}}}function sz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xS(e,t):!1}function so(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hx(){return{animate:so(!0),whileInView:so(),whileHover:so(),whileTap:so(),whileDrag:so(),whileFocus:so(),exit:so()}}class oz extends to{constructor(e){super(e),e.animationState||(e.animationState=rz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();op(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let iz=0;class az extends to{constructor(){super(...arguments),this.id=iz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lz={animation:{Feature:oz},exit:{Feature:az}},qx=(t,e)=>Math.abs(t-e);function cz(t,e){const n=qx(t.x,e.x),r=qx(t.y,e.y);return Math.sqrt(n**2+r**2)}class e6{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Pm(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=cz(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:w}=bt;this.history.push({...v,timestamp:w});const{onStart:C,onMove:_}=this.handlers;f||(C&&C(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Am(f,this.transformPagePoint),be.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Pm(h.type==="pointercancel"?this.lastMoveEventInfo:Am(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,C),v&&v(h,C)},!gS(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const i=ap(e),a=Am(i,this.transformPagePoint),{point:l}=a,{timestamp:c}=bt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Pm(a,this.history)),this.removeListeners=Ur(Br(this.contextWindow,"pointermove",this.handlePointerMove),Br(this.contextWindow,"pointerup",this.handlePointerUp),Br(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),es(this.updatePoint)}}function Am(t,e){return e?{point:e(t.point)}:t}function Wx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pm({point:t},e){return{point:t,delta:Wx(t,t6(e)),offset:Wx(t,uz(e)),velocity:dz(e,.1)}}function uz(t){return t[0]}function t6(t){return t[t.length-1]}function dz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=t6(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ms(e)));)n--;if(!r)return{x:0,y:0};const o=Vr(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function Nn(t){return t.max-t.min}function Mg(t,e=0,n=.01){return Math.abs(t-e)<=n}function Gx(t,e,n,r=.5){t.origin=r,t.originPoint=We(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),(Mg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=We(n.min,n.max,t.origin)-t.originPoint,(Mg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Dl(t,e,n,r){Gx(t.x,e.x,n.x,r?r.originX:void 0),Gx(t.y,e.y,n.y,r?r.originY:void 0)}function Kx(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function hz(t,e,n){Kx(t.x,e.x,n.x),Kx(t.y,e.y,n.y)}function Yx(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function Ml(t,e,n){Yx(t.x,e.x,n.x),Yx(t.y,e.y,n.y)}function fz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?We(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?We(n,t,r.max):Math.min(t,n)),t}function Qx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function pz(t,{top:e,left:n,bottom:r,right:s}){return{x:Qx(t.x,n,s),y:Qx(t.y,e,r)}}function Zx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function mz(t,e){return{x:Zx(t.x,e.x),y:Zx(t.y,e.y)}}function gz(t,e){let n=.5;const r=Nn(t),s=Nn(e);return s>r?n=Sc(e.min,e.max-r,t.min):r>s&&(n=Sc(t.min,t.max-s,e.min)),Ws(0,1,n)}function yz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $g=.35;function vz(t=$g){return t===!1?t=0:t===!0&&(t=$g),{x:Xx(t,"left","right"),y:Xx(t,"top","bottom")}}function Xx(t,e,n){return{min:Jx(t,e),max:Jx(t,n)}}function Jx(t,e){return typeof t=="number"?t:t[e]||0}const e3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Di=()=>({x:e3(),y:e3()}),t3=()=>({min:0,max:0}),rt=()=>({x:t3(),y:t3()});function Ln(t){return[t("x"),t("y")]}function n6({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function _z({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jm(t){return t===void 0||t===1}function Fg({scale:t,scaleX:e,scaleY:n}){return!jm(t)||!jm(e)||!jm(n)}function ho(t){return Fg(t)||r6(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function r6(t){return n3(t.x)||n3(t.y)}function n3(t){return t&&t!=="0%"}function Rh(t,e,n){const r=t-n,s=e*r;return n+s}function r3(t,e,n,r,s){return s!==void 0&&(t=Rh(t,s,r)),Rh(t,n,r)+e}function Bg(t,e=0,n=1,r,s){t.min=r3(t.min,e,n,r,s),t.max=r3(t.max,e,n,r,s)}function s6(t,{x:e,y:n}){Bg(t.x,e.translate,e.scale,e.originPoint),Bg(t.y,n.translate,n.scale,n.originPoint)}function xz(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let o,i;for(let a=0;a<s;a++){o=n[a],i=o.projectionDelta;const l=o.instance;l&&l.style&&l.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Mi(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,s6(t,i)),r&&ho(o.latestValues)&&Mi(t,o.latestValues))}e.x=s3(e.x),e.y=s3(e.y)}function s3(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function fs(t,e){t.min=t.min+e,t.max=t.max+e}function o3(t,e,[n,r,s]){const o=e[s]!==void 0?e[s]:.5,i=We(t.min,t.max,o);Bg(t,e[n],e[r],i,e.scale)}const Cz=["x","scaleX","originX"],bz=["y","scaleY","originY"];function Mi(t,e){o3(t.x,e,Cz),o3(t.y,e,bz)}function o6(t,e){return n6(wz(t.getBoundingClientRect(),e))}function kz(t,e,n){const r=o6(t,n),{scroll:s}=e;return s&&(fs(r.x,s.offset.x),fs(r.y,s.offset.y)),r}const i6=({current:t})=>t?t.ownerDocument.defaultView:null,Sz=new WeakMap;class Ez{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ap(d,"page").point)},o=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=vS(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ln(C=>{let _=this.getAxisMotionValue(C).get()||0;if(wr.test(_)){const{projection:g}=this.visualElement;if(g&&g.layout){const y=g.layout.layoutBox[C];y&&(_=Nn(y)*(parseFloat(_)/100))}}this.originPoint[C]=_}),v&&be.postRender(()=>v(d,h));const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},i=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:w}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:C}=h;if(m&&this.currentDirection===null){this.currentDirection=Tz(C),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,C),this.updateAxis("y",h.point,C),this.visualElement.render(),w&&w(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Ln(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new e6(e,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:i6(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&be.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Vu(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(i=fz(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Li(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=pz(s.layoutBox,n):this.constraints=!1,this.elastic=vz(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ln(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=yz(s.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Li(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=kz(r,s.root,this.visualElement.getTransformPagePoint());let i=mz(s.layout.layoutBox,o);if(n){const a=n(_z(i));this.hasMutatedConstraints=!!a,a&&(i=n6(a))}return i}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Ln(d=>{if(!Vu(d,n,this.currentDirection))return;let h=l&&l[d]||{};i&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Mv(e,r,0,n,this.visualElement))}stopAnimation(){Ln(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ln(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ln(n=>{const{drag:r}=this.getProps();if(!Vu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(n);if(s&&s.layout){const{min:i,max:a}=s.layout.layoutBox[n];o.set(e[n]-We(i,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Li(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ln(i=>{const a=this.getAxisMotionValue(i);if(a&&this.constraints!==!1){const l=a.get();s[i]=gz({min:l,max:l},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ln(i=>{if(!Vu(i,e,null))return;const a=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];a.set(We(l,c,s[i]))})}addListeners(){if(!this.visualElement.current)return;Sz.set(this.visualElement,this);const e=this.visualElement.current,n=Br(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Li(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),be.read(r);const i=Dr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ln(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=$g,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function Vu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Tz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Iz extends to{constructor(e){super(e),this.removeGroupControls=qt,this.removeListeners=qt,this.controls=new Ez(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const i3=t=>(e,n)=>{t&&be.postRender(()=>t(e,n))};class Nz extends to{constructor(){super(...arguments),this.removePointerDownListener=qt}onPointerDown(e){this.session=new e6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:i6(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:i3(e),onStart:i3(n),onMove:r,onEnd:(o,i)=>{delete this.session,s&&be.postRender(()=>s(o,i))}}}mount(){this.removePointerDownListener=Br(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Az(){const t=p.useContext(sp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=p.useId();return p.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const el={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(se.test(t))t=parseFloat(t);else return t;const n=a3(t,e.target.x),r=a3(t,e.target.y);return`${n}% ${r}%`}},Pz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Gs.parse(t);if(s.length>5)return r;const o=Gs.createTransformer(t),i=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+i]/=a,s[1+i]/=l;const c=We(a,l,.5);return typeof s[2+i]=="number"&&(s[2+i]/=c),typeof s[3+i]=="number"&&(s[3+i]/=c),o(s)}};class jz extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=e;NB(Rz),o&&(n.group&&n.group.add(o),r&&r.register&&s&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,s||e.layoutDependency!==n||n===void 0?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||be.postRender(()=>{const a=i.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a6(t){const[e,n]=Az(),r=p.useContext(bc);return u.jsx(jz,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(eS),isPresent:e,safeToRemove:n})}const Rz={borderRadius:{...el,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:el,borderTopRightRadius:el,borderBottomLeftRadius:el,borderBottomRightRadius:el,boxShadow:Pz},l6=["TopLeft","TopRight","BottomLeft","BottomRight"],Lz=l6.length,l3=t=>typeof t=="string"?parseFloat(t):t,c3=t=>typeof t=="number"||se.test(t);function Oz(t,e,n,r,s,o){s?(t.opacity=We(0,n.opacity!==void 0?n.opacity:1,Dz(r)),t.opacityExit=We(e.opacity!==void 0?e.opacity:1,0,Mz(r))):o&&(t.opacity=We(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let i=0;i<Lz;i++){const a=`border${l6[i]}Radius`;let l=u3(e,a),c=u3(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||c3(l)===c3(c)?(t[a]=Math.max(We(l3(l),l3(c),r),0),(wr.test(c)||wr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=We(e.rotate||0,n.rotate||0,r))}function u3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Dz=c6(0,.5,qS),Mz=c6(.5,.95,qt);function c6(t,e,n){return r=>r<t?0:r>e?1:n(Sc(t,e,r))}function d3(t,e){t.min=e.min,t.max=e.max}function Rn(t,e){d3(t.x,e.x),d3(t.y,e.y)}function h3(t,e,n,r,s){return t-=e,t=Rh(t,1/n,r),s!==void 0&&(t=Rh(t,1/s,r)),t}function $z(t,e=0,n=1,r=.5,s,o=t,i=t){if(wr.test(e)&&(e=parseFloat(e),e=We(i.min,i.max,e/100)-i.min),typeof e!="number")return;let a=We(o.min,o.max,r);t===o&&(a-=e),t.min=h3(t.min,e,n,a,s),t.max=h3(t.max,e,n,a,s)}function f3(t,e,[n,r,s],o,i){$z(t,e[n],e[r],e[s],e.scale,o,i)}const Fz=["x","scaleX","originX"],Bz=["y","scaleY","originY"];function p3(t,e,n,r){f3(t.x,e,Fz,n?n.x:void 0,r?r.x:void 0),f3(t.y,e,Bz,n?n.y:void 0,r?r.y:void 0)}function m3(t){return t.translate===0&&t.scale===1}function u6(t){return m3(t.x)&&m3(t.y)}function Uz(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function d6(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function g3(t){return Nn(t.x)/Nn(t.y)}class Vz{constructor(){this.members=[]}add(e){$v(this.members,e),e.scheduleRender()}remove(e){if(Fv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function y3(t,e,n){let r="";const s=t.x.translate/e.x,o=t.y.translate/e.y,i=(n==null?void 0:n.z)||0;if((s||o||i)&&(r=`translate3d(${s}px, ${o}px, ${i}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const zz=(t,e)=>t.depth-e.depth;class Hz{constructor(){this.children=[],this.isDirty=!1}add(e){$v(this.children,e),this.isDirty=!0}remove(e){Fv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zz),this.isDirty=!1,this.children.forEach(e)}}function qz(t,e){const n=$s.now(),r=({timestamp:s})=>{const o=s-n;o>=e&&(es(r),t(o-e))};return be.read(r,!0),()=>es(r)}function Wz(t){window.MotionDebug&&window.MotionDebug.record(t)}function Gz(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Kz(t,e,n){const r=Ft(t)?t:ba(t);return r.start(Mv("",r,e,n)),r.animation}const Rm=["","X","Y","Z"],Yz={visibility:"hidden"},v3=1e3;let Qz=0;const fo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Lm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function h6(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return!1;const{visualElement:e}=t.options;return e?XS(e)?!0:t.parent&&!t.parent.hasCheckedOptimisedAppear?h6(t.parent):!1:!1}function f6({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(i={},a=e==null?void 0:e()){this.id=Qz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fo.totalNodes=fo.resolvedTargetDeltas=fo.recalculatedProjection=0,this.nodes.forEach(Jz),this.nodes.forEach(sH),this.nodes.forEach(oH),this.nodes.forEach(eH),Wz(fo)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Hz)}addEventListener(i,a){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Bv),this.eventHandlers.get(i).add(a)}notifyListeners(i,...a){const l=this.eventHandlers.get(i);l&&l.notify(...a)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Gz(i),this.instance=i;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=qz(f,250),vd.hasAnimatedSinceResize&&(vd.hasAnimatedSinceResize=!1,this.nodes.forEach(w3))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||uH,{onLayoutAnimationStart:C,onLayoutAnimationComplete:_}=d.getProps(),g=!this.targetLayout||!d6(this.targetLayout,v)||m,y=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const x={...Iv(w,"layout"),onPlay:C,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else f||w3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,es(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iH),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.HandoffCancelAllAnimations&&h6(this)&&window.HandoffCancelAllAnimations(),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_3);return}this.isUpdating||this.nodes.forEach(nH),this.isUpdating=!1,this.nodes.forEach(rH),this.nodes.forEach(Zz),this.nodes.forEach(Xz),this.clearAllSnapshots();const a=$s.now();bt.delta=Ws(0,1e3/60,a-bt.timestamp),bt.timestamp=a,bt.isProcessing=!0,km.update.process(bt),km.preRender.process(bt),km.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tH),this.sharedNodes.forEach(aH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!u6(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&(a||ho(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return i&&(l=this.removeTransform(l)),dH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return rt();const a=i.measureViewportBox(),{scroll:l}=this.root;return l&&(fs(a.x,l.offset.x),fs(a.y,l.offset.y)),a}removeElementScroll(i){const a=rt();Rn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;if(c!==this.root&&d&&h.layoutScroll){if(d.isRoot){Rn(a,i);const{scroll:f}=this.root;f&&(fs(a.x,-f.offset.x),fs(a.y,-f.offset.y))}fs(a.x,d.offset.x),fs(a.y,d.offset.y)}}return a}applyTransform(i,a=!1){const l=rt();Rn(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mi(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ho(d.latestValues)&&Mi(l,d.latestValues)}return ho(this.latestValues)&&Mi(l,this.latestValues),l}removeTransform(i){const a=rt();Rn(a,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ho(c.latestValues))continue;Fg(c.latestValues)&&c.updateSnapshot();const d=rt(),h=c.measurePageBox();Rn(d,h),p3(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return ho(this.latestValues)&&p3(a,this.latestValues),a}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ml(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rn(this.target,this.layout.layoutBox),s6(this.target,this.targetDelta)):Rn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ml(this.relativeTargetOrigin,this.target,m.target),Rn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Fg(this.parent.latestValues)||r6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Rn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;xz(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Di(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Di(),this.projectionDeltaWithTransform=Di());const w=this.projectionTransform;Dl(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=y3(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),fo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Di();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=rt(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=m!==v,C=this.getStack(),_=!C||C.members.length<=1,g=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(cH));this.animationProgress=0;let y;this.mixTargetDelta=x=>{const b=x/1e3;x3(h.x,i.x,b),x3(h.y,i.y,b),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ml(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lH(this.relativeTarget,this.relativeTargetOrigin,f,b),y&&Uz(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=rt()),Rn(y,this.relativeTarget)),w&&(this.animationValues=d,Oz(d,c,this.latestValues,b,g,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(es(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=be.update(()=>{vd.hasAnimatedSinceResize=!0,this.currentAnimation=Kz(0,v3,{...i,onUpdate:a=>{this.mixTargetDelta(a),i.onUpdate&&i.onUpdate(a)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=i;if(!(!a||!l||!c)){if(this!==i&&this.layout&&c&&p6(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||rt();const h=Nn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+h;const f=Nn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+f}Rn(a,l),Mi(a,d),Dl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(i,a){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Vz),this.sharedNodes.get(i).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:a}=this.options;return a?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:a}=this.options;return a?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let a=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Lm("z",i,c,this.animationValues);for(let d=0;d<Rm.length;d++)Lm(`rotate${Rm[d]}`,i,c,this.animationValues),Lm(`skew${Rm[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}getProjectionStyles(i){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Yz;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=gd(i==null?void 0:i.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=gd(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!ho(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=y3(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in Th){if(f[w]===void 0)continue;const{correct:C,applyTo:_}=Th[w],g=c.transform==="none"?f[w]:C(f[w],h);if(_){const y=_.length;for(let x=0;x<y;x++)c[_[x]]=g}else c[w]=g}return this.options.layoutId&&(c.pointerEvents=h===this?gd(i==null?void 0:i.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var a;return(a=i.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(_3),this.root.sharedNodes.clear()}}}function Zz(t){t.updateLayout()}function Xz(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:o}=t.options,i=n.source!==t.layout.source;o==="size"?Ln(h=>{const f=i?n.measuredBox[h]:n.layoutBox[h],m=Nn(f);f.min=r[h].min,f.max=f.min+m}):p6(o,n.layoutBox,r)&&Ln(h=>{const f=i?n.measuredBox[h]:n.layoutBox[h],m=Nn(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Di();Dl(a,r,n.layoutBox);const l=Di();i?Dl(l,t.applyTransform(s,!0),n.measuredBox):Dl(l,r,n.layoutBox);const c=!u6(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=rt();Ml(v,n.layoutBox,f.layoutBox);const w=rt();Ml(w,r,m.layoutBox),d6(v,w)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Jz(t){fo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function eH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function tH(t){t.clearSnapshot()}function _3(t){t.clearMeasurements()}function nH(t){t.isLayoutDirty=!1}function rH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function w3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sH(t){t.resolveTargetDelta()}function oH(t){t.calcProjection()}function iH(t){t.resetSkewAndRotation()}function aH(t){t.removeLeadSnapshot()}function x3(t,e,n){t.translate=We(e.translate,0,n),t.scale=We(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function C3(t,e,n,r){t.min=We(e.min,n.min,r),t.max=We(e.max,n.max,r)}function lH(t,e,n,r){C3(t.x,e.x,n.x,r),C3(t.y,e.y,n.y,r)}function cH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const uH={duration:.45,ease:[.4,0,.1,1]},b3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),k3=b3("applewebkit/")&&!b3("chrome/")?Math.round:qt;function S3(t){t.min=k3(t.min),t.max=k3(t.max)}function dH(t){S3(t.x),S3(t.y)}function p6(t,e,n){return t==="position"||t==="preserve-aspect"&&!Mg(g3(e),g3(n),.2)}const hH=f6({attachResizeListener:(t,e)=>Dr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Om={current:void 0},m6=f6({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Om.current){const t=new hH({});t.mount(window),t.setOptions({layoutScroll:!0}),Om.current=t}return Om.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),fH={pan:{Feature:Nz},drag:{Feature:Iz,ProjectionNode:m6,MeasureLayout:a6}},Ug={current:null},g6={current:!1};function pH(){if(g6.current=!0,!!hv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ug.current=t.matches;t.addListener(e),e()}else Ug.current=!1}function mH(t,e,n){const{willChange:r}=e;for(const s in e){const o=e[s],i=n[s];if(Ft(o))t.addValue(s,o),jh(r)&&r.add(s);else if(Ft(i))t.addValue(s,ba(o,{owner:t})),jh(r)&&r.remove(s);else if(i!==o)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(o):a.hasAnimated||a.set(o)}else{const a=t.getStaticValue(s);t.addValue(s,ba(a!==void 0?a:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const E3=new WeakMap,gH=[...ES,Lt,Gs],yH=t=>gH.find(SS(t)),T3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],vH=yv.length;class _H{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},a={}){this.resolveKeyframes=(f,m,v,w)=>new this.KeyframeResolver(f,m,v,w,this),this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>be.render(this.render,!1,!0);const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=ip(n),this.isVariantNode=nS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];l[f]!==void 0&&Ft(m)&&(m.set(l[f],!1),jh(d)&&d.add(f))}}mount(e){this.current=e,E3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),g6.current||pH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ug.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){E3.delete(this.current),this.projection&&this.projection.unmount(),es(this.notifyUpdate),es(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){const r=oi.has(e),s=n.on("change",i=>{this.latestValues[e]=i,this.props.onUpdate&&be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xa){const n=xa[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<T3.length;r++){const s=T3[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=e[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=mH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<vH;r++){const s=yv[r],o=this.props[s];(Cc(o)||o===!1)&&(n[s]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ba(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(bS(s)||CS(s))?s=parseFloat(s):!yH(s)&&Gs.test(n)&&(s=LS(e,n)),this.setBaseTarget(e,Ft(s)?s.get():s)),Ft(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const i=Ev(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);i&&(s=i[e])}if(r&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ft(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Bv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class y6 extends _H{constructor(){super(...arguments),this.KeyframeResolver=OS}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function wH(t){return window.getComputedStyle(t)}class xH extends y6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(oi.has(n)){const r=Pv(n);return r&&r.default||0}else{const r=wH(e),s=(iS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return o6(e,n)}build(e,n,r,s){xv(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Sv(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ft(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){dS(e,n,r,s)}}class CH extends y6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(oi.has(n)){const r=Pv(n);return r&&r.default||0}return n=hS.has(n)?n:pv(n),e.getAttribute(n)}measureInstanceViewportBox(){return rt()}scrapeMotionValuesFromProps(e,n,r){return pS(e,n,r)}build(e,n,r,s){bv(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){fS(e,n,r,s)}mount(e){this.isSVGTag=kv(e.tagName),super.mount(e)}}const bH=(t,e)=>vv(t)?new CH(e,{enableHardwareAcceleration:!1}):new xH(e,{allowProjection:t!==p.Fragment,enableHardwareAcceleration:!0}),kH={layout:{ProjectionNode:m6,MeasureLayout:a6}},SH={...lz,...yU,...fH,...kH},ot=TB((t,e)=>sU(t,e,SH,bH));function v6(){const t=p.useRef(!1);return fv(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function _6(){const t=v6(),[e,n]=p.useState(0),r=p.useCallback(()=>{t.current&&n(e+1)},[e]);return[p.useCallback(()=>be.postRender(r),[r]),e]}class EH extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function TH({children:t,isPresent:e}){const n=p.useId(),r=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=p.useContext(np);return p.useInsertionEffect(()=>{const{width:i,height:a,top:l,left:c}=s.current;if(e||!r.current||!i||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return o&&(d.nonce=o),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),u.jsx(EH,{isPresent:e,childRef:r,sizeRef:s,children:p.cloneElement(t,{ref:r})})}const Dm=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:o,mode:i})=>{const a=Tv(IH),l=p.useId(),c=p.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),o?[Math.random()]:[n]);return p.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),p.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),i==="popLayout"&&(t=u.jsx(TH,{isPresent:n,children:t})),u.jsx(sp.Provider,{value:c,children:t})};function IH(){return new Map}function NH(t){return p.useEffect(()=>()=>t(),[])}const po=t=>t.key||"";function AH(t,e){t.forEach(n=>{const r=po(n);e.set(r,n)})}function PH(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const jH=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:i="sync"})=>{const a=p.useContext(bc).forceRender||_6()[0],l=v6(),c=PH(t);let d=c;const h=p.useRef(new Map).current,f=p.useRef(d),m=p.useRef(new Map).current,v=p.useRef(!0);if(fv(()=>{v.current=!1,AH(c,m),f.current=d}),NH(()=>{v.current=!0,m.clear(),h.clear()}),v.current)return u.jsx(u.Fragment,{children:d.map(g=>u.jsx(Dm,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:i,children:g},po(g)))});d=[...d];const w=f.current.map(po),C=c.map(po),_=w.length;for(let g=0;g<_;g++){const y=w[g];C.indexOf(y)===-1&&!h.has(y)&&h.set(y,void 0)}return i==="wait"&&h.size&&(d=[]),h.forEach((g,y)=>{if(C.indexOf(y)!==-1)return;const x=m.get(y);if(!x)return;const b=w.indexOf(y);let S=g;if(!S){const T=()=>{h.delete(y);const k=Array.from(m.keys()).filter(E=>!C.includes(E));if(k.forEach(E=>m.delete(E)),f.current=c.filter(E=>{const N=po(E);return N===y||k.includes(N)}),!h.size){if(l.current===!1)return;a(),r&&r()}};S=u.jsx(Dm,{isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:o,mode:i,children:x},po(x)),h.set(y,S)}d.splice(b,0,S)}),d=d.map(g=>{const y=g.key;return h.has(y)?g:u.jsx(Dm,{isPresent:!0,presenceAffectsLayout:o,mode:i,children:g},po(g))}),u.jsx(u.Fragment,{children:h.size?d:d.map(g=>p.cloneElement(g))})},RH=p.createContext(null),LH=t=>!t.isLayoutDirty&&t.willUpdate(!1);function I3(){const t=new Set,e=new WeakMap,n=()=>t.forEach(LH);return{add:r=>{t.add(r),e.set(r,r.addEventListener("willUpdate",n))},remove:r=>{t.delete(r);const s=e.get(r);s&&(s(),e.delete(r)),n()},dirty:n}}const w6=t=>t===!0,OH=t=>w6(t===!0)||t==="id",DH=({children:t,id:e,inherit:n=!0})=>{const r=p.useContext(bc),s=p.useContext(RH),[o,i]=_6(),a=p.useRef(null),l=r.id||s;a.current===null&&(OH(n)&&l&&(e=e?l+"-"+e:l),a.current={id:e,group:w6(n)&&r.group||I3()});const c=p.useMemo(()=>({...a.current,forceRender:o}),[i]);return u.jsx(bc.Provider,{value:c,children:t})};function x6(t){const e=Tv(()=>ba(t)),{isStatic:n}=p.useContext(np);if(n){const[,r]=p.useState(t);p.useEffect(()=>e.on("change",r),[])}return e}var C6={},Uv={},Vv={};Object.defineProperty(Vv,"__esModule",{value:!0});var N3="html",A3="head",zu="body",MH=/<([a-zA-Z]+[0-9]?)/,P3=/<head[^]*>/i,j3=/<body[^]*>/i,Lh=function(t,e){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Vg=function(t,e){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},R3=typeof window=="object"&&window.DOMParser;if(typeof R3=="function"){var $H=new R3,FH="text/html";Vg=function(t,e){return e&&(t="<".concat(e,">").concat(t,"</").concat(e,">")),$H.parseFromString(t,FH)},Lh=Vg}if(typeof document=="object"&&document.implementation){var Hu=document.implementation.createHTMLDocument();Lh=function(t,e){if(e){var n=Hu.documentElement.querySelector(e);return n&&(n.innerHTML=t),Hu}return Hu.documentElement.innerHTML=t,Hu}}var qu=typeof document=="object"&&document.createElement("template"),zg;qu&&qu.content&&(zg=function(t){return qu.innerHTML=t,qu.content.childNodes});function BH(t){var e,n,r=t.match(MH),s=r&&r[1]?r[1].toLowerCase():"";switch(s){case N3:{var o=Vg(t);if(!P3.test(t)){var i=o.querySelector(A3);(e=i==null?void 0:i.parentNode)===null||e===void 0||e.removeChild(i)}if(!j3.test(t)){var i=o.querySelector(zu);(n=i==null?void 0:i.parentNode)===null||n===void 0||n.removeChild(i)}return o.querySelectorAll(N3)}case A3:case zu:{var a=Lh(t).querySelectorAll(s);return j3.test(t)&&P3.test(t)?a[0].parentNode.childNodes:a}default:{if(zg)return zg(t);var i=Lh(t,zu).querySelector(zu);return i.childNodes}}}Vv.default=BH;var ka={},zv={},Hv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(Hv);var me={},no=Ve&&Ve.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),$l=Ve&&Ve.__assign||function(){return $l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},$l.apply(this,arguments)};Object.defineProperty(me,"__esModule",{value:!0});me.cloneNode=me.hasChildren=me.isDocument=me.isDirective=me.isComment=me.isText=me.isCDATA=me.isTag=me.Element=me.Document=me.CDATA=me.NodeWithChildren=me.ProcessingInstruction=me.Comment=me.Text=me.DataNode=me.Node=void 0;var yn=Hv,qv=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),Wv(this,e)},t}();me.Node=qv;var up=function(t){no(e,t);function e(n){var r=t.call(this)||this;return r.data=n,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(qv);me.DataNode=up;var b6=function(t){no(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=yn.ElementType.Text,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(up);me.Text=b6;var k6=function(t){no(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=yn.ElementType.Comment,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(up);me.Comment=k6;var S6=function(t){no(e,t);function e(n,r){var s=t.call(this,r)||this;return s.name=n,s.type=yn.ElementType.Directive,s}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(up);me.ProcessingInstruction=S6;var dp=function(t){no(e,t);function e(n){var r=t.call(this)||this;return r.children=n,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(qv);me.NodeWithChildren=dp;var E6=function(t){no(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=yn.ElementType.CDATA,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(dp);me.CDATA=E6;var T6=function(t){no(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=yn.ElementType.Root,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(dp);me.Document=T6;var I6=function(t){no(e,t);function e(n,r,s,o){s===void 0&&(s=[]),o===void 0&&(o=n==="script"?yn.ElementType.Script:n==="style"?yn.ElementType.Style:yn.ElementType.Tag);var i=t.call(this,s)||this;return i.name=n,i.attribs=r,i.type=o,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var s,o;return{name:r,value:n.attribs[r],namespace:(s=n["x-attribsNamespace"])===null||s===void 0?void 0:s[r],prefix:(o=n["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),e}(dp);me.Element=I6;function N6(t){return(0,yn.isTag)(t)}me.isTag=N6;function A6(t){return t.type===yn.ElementType.CDATA}me.isCDATA=A6;function P6(t){return t.type===yn.ElementType.Text}me.isText=P6;function j6(t){return t.type===yn.ElementType.Comment}me.isComment=j6;function R6(t){return t.type===yn.ElementType.Directive}me.isDirective=R6;function L6(t){return t.type===yn.ElementType.Root}me.isDocument=L6;function UH(t){return Object.prototype.hasOwnProperty.call(t,"children")}me.hasChildren=UH;function Wv(t,e){e===void 0&&(e=!1);var n;if(P6(t))n=new b6(t.data);else if(j6(t))n=new k6(t.data);else if(N6(t)){var r=e?Mm(t.children):[],s=new I6(t.name,$l({},t.attribs),r);r.forEach(function(l){return l.parent=s}),t.namespace!=null&&(s.namespace=t.namespace),t["x-attribsNamespace"]&&(s["x-attribsNamespace"]=$l({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(s["x-attribsPrefix"]=$l({},t["x-attribsPrefix"])),n=s}else if(A6(t)){var r=e?Mm(t.children):[],o=new E6(r);r.forEach(function(c){return c.parent=o}),n=o}else if(L6(t)){var r=e?Mm(t.children):[],i=new T6(r);r.forEach(function(c){return c.parent=i}),t["x-mode"]&&(i["x-mode"]=t["x-mode"]),n=i}else if(R6(t)){var a=new S6(t.name,t.data);t["x-name"]!=null&&(a["x-name"]=t["x-name"],a["x-publicId"]=t["x-publicId"],a["x-systemId"]=t["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}me.cloneNode=Wv;function Mm(t){for(var e=t.map(function(r){return Wv(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}(function(t){var e=Ve&&Ve.__createBinding||(Object.create?function(a,l,c,d){d===void 0&&(d=c);var h=Object.getOwnPropertyDescriptor(l,c);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(a,d,h)}:function(a,l,c,d){d===void 0&&(d=c),a[d]=l[c]}),n=Ve&&Ve.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&e(l,a,c)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=Hv,s=me;n(me,t);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},i=function(){function a(l,c,d){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(d=c,c=o),typeof l=="object"&&(c=l,l=void 0),this.callback=l??null,this.options=c??o,this.elementCB=d??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,c){var d=this.options.xmlMode?r.ElementType.Tag:void 0,h=new s.Element(l,c,void 0,d);this.addNode(h),this.tagStack.push(h)},a.prototype.ontext=function(l){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=l,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var d=new s.Text(l);this.addNode(d),this.lastNode=d}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var c=new s.Comment(l);this.addNode(c),this.lastNode=c},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new s.Text(""),c=new s.CDATA([l]);this.addNode(c),l.parent=c,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,c){var d=new s.ProcessingInstruction(l,c);this.addNode(d)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var c=this.tagStack[this.tagStack.length-1],d=c.children[c.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),c.children.push(l),d&&(l.prev=d,d.next=l),l.parent=c,this.lastNode=null},a}();t.DomHandler=i,t.default=i})(zv);var O6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{})})(O6);Object.defineProperty(ka,"__esModule",{value:!0});ka.formatDOM=ka.formatAttributes=void 0;var Wu=zv,VH=O6;function zH(t){return VH.CASE_SENSITIVE_TAG_NAMES_MAP[t]}function D6(t){for(var e={},n=0,r=t.length;n<r;n++){var s=t[n];e[s.name]=s.value}return e}ka.formatAttributes=D6;function HH(t){t=t.toLowerCase();var e=zH(t);return e||t}function M6(t,e,n){e===void 0&&(e=null);for(var r=[],s,o=0,i=t.length;o<i;o++){var a=t[o];switch(a.nodeType){case 1:{var l=HH(a.nodeName);s=new Wu.Element(l,D6(a.attributes)),s.children=M6(l==="template"?a.content.childNodes:a.childNodes,s);break}case 3:s=new Wu.Text(a.nodeValue);break;case 8:s=new Wu.Comment(a.nodeValue);break;default:continue}var c=r[o-1]||null;c&&(c.next=s),s.parent=e,s.prev=c,s.next=null,r.push(s)}return n&&(s=new Wu.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),s.next=r[0]||null,s.parent=e,r.unshift(s),r[1]&&(r[1].prev=r[0])),r}ka.formatDOM=M6;var qH=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uv,"__esModule",{value:!0});var WH=qH(Vv),GH=ka,KH=/<(![a-zA-Z\s]+)>/;function YH(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];var e=t.match(KH),n=e?e[1]:void 0;return(0,GH.formatDOM)((0,WH.default)(t),null,n)}Uv.default=YH;var hp={},rr={},fp={},QH=0;fp.SAME=QH;var ZH=1;fp.CAMELCASE=ZH;fp.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const $6=0,ro=1,pp=2,mp=3,Gv=4,F6=5,B6=6;function XH(t){return Nt.hasOwnProperty(t)?Nt[t]:null}function sn(t,e,n,r,s,o,i){this.acceptsBooleans=e===pp||e===mp||e===Gv,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}const Nt={},JH=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];JH.forEach(t=>{Nt[t]=new sn(t,$6,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,e])=>{Nt[t]=new sn(t,ro,!1,e,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(t=>{Nt[t]=new sn(t,pp,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{Nt[t]=new sn(t,pp,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{Nt[t]=new sn(t,mp,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(t=>{Nt[t]=new sn(t,mp,!0,t,null,!1,!1)});["capture","download"].forEach(t=>{Nt[t]=new sn(t,Gv,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(t=>{Nt[t]=new sn(t,B6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(t=>{Nt[t]=new sn(t,F6,!1,t.toLowerCase(),null,!1,!1)});const Kv=/[\-\:]([a-z])/g,Yv=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const e=t.replace(Kv,Yv);Nt[e]=new sn(e,ro,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const e=t.replace(Kv,Yv);Nt[e]=new sn(e,ro,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(t=>{const e=t.replace(Kv,Yv);Nt[e]=new sn(e,ro,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(t=>{Nt[t]=new sn(t,ro,!1,t.toLowerCase(),null,!1,!1)});const eq="xlinkHref";Nt[eq]=new sn("xlinkHref",ro,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(t=>{Nt[t]=new sn(t,ro,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:tq,SAME:nq,possibleStandardNames:L3}=fp,rq=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",sq=rq+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",oq=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+sq+"]*$")),iq=Object.keys(L3).reduce((t,e)=>{const n=L3[e];return n===nq?t[e]=e:n===tq?t[e.toLowerCase()]=e:t[e]=n,t},{});rr.BOOLEAN=mp;rr.BOOLEANISH_STRING=pp;rr.NUMERIC=F6;rr.OVERLOADED_BOOLEAN=Gv;rr.POSITIVE_NUMERIC=B6;rr.RESERVED=$6;rr.STRING=ro;rr.getPropertyInfo=XH;rr.isCustomAttribute=oq;rr.possibleStandardNames=iq;var Qv={},Zv={},O3=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,aq=/\n/g,lq=/^\s*/,cq=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,uq=/^:\s*/,dq=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,hq=/^[;\s]*/,fq=/^\s+|\s+$/g,pq=`
`,D3="/",M3="*",mo="",mq="comment",gq="declaration",yq=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function s(v){var w=v.match(aq);w&&(n+=w.length);var C=v.lastIndexOf(pq);r=~C?v.length-C:r+v.length}function o(){var v={line:n,column:r};return function(w){return w.position=new i(v),c(),w}}function i(v){this.start=v,this.end={line:n,column:r},this.source=e.source}i.prototype.content=t;function a(v){var w=new Error(e.source+":"+n+":"+r+": "+v);if(w.reason=v,w.filename=e.source,w.line=n,w.column=r,w.source=t,!e.silent)throw w}function l(v){var w=v.exec(t);if(w){var C=w[0];return s(C),t=t.slice(C.length),w}}function c(){l(lq)}function d(v){var w;for(v=v||[];w=h();)w!==!1&&v.push(w);return v}function h(){var v=o();if(!(D3!=t.charAt(0)||M3!=t.charAt(1))){for(var w=2;mo!=t.charAt(w)&&(M3!=t.charAt(w)||D3!=t.charAt(w+1));)++w;if(w+=2,mo===t.charAt(w-1))return a("End of comment missing");var C=t.slice(2,w-2);return r+=2,s(C),t=t.slice(w),r+=2,v({type:mq,comment:C})}}function f(){var v=o(),w=l(cq);if(w){if(h(),!l(uq))return a("property missing ':'");var C=l(dq),_=v({type:gq,property:$3(w[0].replace(O3,mo)),value:C?$3(C[0].replace(O3,mo)):mo});return l(hq),_}}function m(){var v=[];d(v);for(var w;w=f();)w!==!1&&(v.push(w),d(v));return v}return c(),m()};function $3(t){return t?t.replace(fq,mo):mo}var vq=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zv,"__esModule",{value:!0});var _q=vq(yq);function wq(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,_q.default)(t),s=typeof e=="function";return r.forEach(function(o){if(o.type==="declaration"){var i=o.property,a=o.value;s?e(i,a,o):a&&(n=n||{},n[i]=a)}}),n}Zv.default=wq;var gp={};Object.defineProperty(gp,"__esModule",{value:!0});gp.camelCase=void 0;var xq=/^--[a-zA-Z0-9-]+$/,Cq=/-([a-z])/g,bq=/^[^-]+$/,kq=/^-(webkit|moz|ms|o|khtml)-/,Sq=/^-(ms)-/,Eq=function(t){return!t||bq.test(t)||xq.test(t)},Tq=function(t,e){return e.toUpperCase()},F3=function(t,e){return"".concat(e,"-")},Iq=function(t,e){return e===void 0&&(e={}),Eq(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(Sq,F3):t=t.replace(kq,F3),t.replace(Cq,Tq))};gp.camelCase=Iq;var Nq=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Aq=Nq(Zv),Pq=gp;function Hg(t,e){var n={};return!t||typeof t!="string"||(0,Aq.default)(t,function(r,s){r&&s&&(n[(0,Pq.camelCase)(r,e)]=s)}),n}Hg.default=Hg;var jq=Hg;(function(t){var e=Ve&&Ve.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var n=p,r=e(jq),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(d,h){return d.includes("-")?!s.has(d):!!(h&&typeof h.is=="string")}t.isCustomComponent=o;var i={reactCompat:!0};function a(d,h){if(typeof d=="string"){if(!d.trim()){h.style={};return}try{h.style=(0,r.default)(d,i)}catch{h.style={}}}}t.setStyleProp=a,t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(d){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(d.name)};t.canTextBeChildOfNode=l;var c=function(d){return d};t.returnFirstArg=c})(Qv);Object.defineProperty(hp,"__esModule",{value:!0});var vl=rr,B3=Qv,Rq=["checked","value"],Lq=["input","select","textarea"],Oq={reset:!0,submit:!0};function Dq(t,e){t===void 0&&(t={});var n={},r=!!(t.type&&Oq[t.type]);for(var s in t){var o=t[s];if((0,vl.isCustomAttribute)(s)){n[s]=o;continue}var i=s.toLowerCase(),a=U3(i);if(a){var l=(0,vl.getPropertyInfo)(a);switch(Rq.includes(a)&&Lq.includes(e)&&!r&&(a=U3("default"+i)),n[a]=o,l&&l.type){case vl.BOOLEAN:n[a]=!0;break;case vl.OVERLOADED_BOOLEAN:o===""&&(n[a]=!0);break}continue}B3.PRESERVE_CUSTOM_ATTRIBUTES&&(n[s]=o)}return(0,B3.setStyleProp)(t.style,n),n}hp.default=Dq;function U3(t){return vl.possibleStandardNames[t]}var Xv={},Mq=Ve&&Ve.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xv,"__esModule",{value:!0});var $m=p,$q=Mq(hp),Fl=Qv,Fq={cloneElement:$m.cloneElement,createElement:$m.createElement,isValidElement:$m.isValidElement};function U6(t,e){e===void 0&&(e={});for(var n=[],r=typeof e.replace=="function",s=e.transform||Fl.returnFirstArg,o=e.library||Fq,i=o.cloneElement,a=o.createElement,l=o.isValidElement,c=t.length,d=0;d<c;d++){var h=t[d];if(r){var f=e.replace(h,d);if(l(f)){c>1&&(f=i(f,{key:f.key||d})),n.push(s(f,h,d));continue}}if(h.type==="text"){var m=!h.data.trim().length;if(m&&h.parent&&!(0,Fl.canTextBeChildOfNode)(h.parent)||e.trim&&m)continue;n.push(s(h.data,h,d));continue}var v=h,w={};Bq(v)?((0,Fl.setStyleProp)(v.attribs.style,v.attribs),w=v.attribs):v.attribs&&(w=(0,$q.default)(v.attribs,v.name));var C=void 0;switch(h.type){case"script":case"style":h.children[0]&&(w.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?w.defaultValue=h.children[0].data:h.children&&h.children.length&&(C=U6(h.children,e));break;default:continue}c>1&&(w.key=d),n.push(s(a(h.name,w,C),h,d))}return n.length===1?n[0]:n}Xv.default=U6;function Bq(t){return Fl.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&(0,Fl.isCustomComponent)(t.name,t.attribs)}(function(t){var e=Ve&&Ve.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var n=e(Uv);t.htmlToDOM=n.default;var r=e(hp);t.attributesToProps=r.default;var s=e(Xv);t.domToReact=s.default;var o=zv;Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return o.Text}});var i={lowerCaseAttributeNames:!1};function a(l,c){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,s.default)((0,n.default)(l,(c==null?void 0:c.htmlparser2)||i),c):[]}t.default=a})(C6);const V3=Bh(C6),Go=V3.default||V3;function Uq({messages:t,backgroundColor:e,textColor:n,date:r,photoClick:s}){console.log(t.photos);const o=(h,f)=>{s(h,f)},{authUser:i}=he(),{theme:a,setThemeById:l,elementColors:c,setElementColors:d}=p.useContext(B);return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:He["data-container"],style:{background:e,color:n},children:r}),t.map((h,f)=>u.jsxs("div",{className:He["message-body"],children:[u.jsxs("div",{className:He["user-container"],children:[u.jsx("div",{className:He["user-photo"],children:h.isUser?u.jsx("img",{src:i.avatar,className:He["user-avatar"]}):u.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{"stop-color":a.gradient_first_color}),u.jsx("stop",{offset:"1","stop-color":a.gradient_second_color})]})})]})}),u.jsx("div",{className:He["user-name"],style:{color:n},children:h.isUser?h.userName:"Genery"})]}),h.photos&&u.jsx("div",{className:He["images-body"],children:u.jsx("div",{className:He[`images-wrapper_${h.photos.length}`],children:h.photos.map((m,v)=>u.jsx(ot.div,{className:He[`image_${v}`],whileTap:{scale:1.5},children:u.jsx("img",{src:m,onClick:()=>o(h.photos,v)})}))})}),u.jsx("div",{className:He["message-text"],style:{color:n},children:Go(h.text)})]},f))]})}function Vq({textColor:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=p.useContext(B);return u.jsxs("div",{className:He["message-body"],children:[u.jsxs("div",{className:He["user-container"],children:[u.jsx("div",{className:He["user-photo"],children:u.jsxs("svg",{width:"16",height:"20",viewBox:"0 0 16 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M8.82134 7.91657C8.95883 7.52469 9.54127 7.52469 9.67875 7.91657L10.4849 10.2168C10.6624 10.7224 10.9613 11.1818 11.3581 11.5586C11.7549 11.9354 12.2386 12.2192 12.7709 12.3875L15.1907 13.1535C15.6031 13.2841 15.6031 13.8375 15.1907 13.9681L12.7697 14.734C12.2375 14.9026 11.7539 15.1867 11.3573 15.5637C10.9608 15.9407 10.6621 16.4002 10.4849 16.906L9.67875 19.205C9.64911 19.2908 9.5917 19.3655 9.51472 19.4185C9.43773 19.4715 9.3451 19.5 9.25005 19.5C9.15499 19.5 9.06236 19.4715 8.98538 19.4185C8.90839 19.3655 8.85098 19.2908 8.82134 19.205L8.01518 16.9048C7.83786 16.3993 7.53908 15.9399 7.14251 15.5632C6.74595 15.1864 6.26248 14.9025 5.73042 14.734L3.30943 13.9681C3.21912 13.9399 3.14047 13.8854 3.08471 13.8122C3.02895 13.7391 2.99893 13.6511 2.99893 13.5608C2.99893 13.4705 3.02895 13.3825 3.08471 13.3093C3.14047 13.2362 3.21912 13.1816 3.30943 13.1535L5.73042 12.3875C6.26248 12.219 6.74595 11.9352 7.14251 11.5584C7.53908 11.1816 7.83786 10.7223 8.01518 10.2168L8.82134 7.91657ZM3.99311 1.86148C4.01103 1.81005 4.04556 1.7653 4.09178 1.73358C4.138 1.70186 4.19356 1.68479 4.25058 1.68479C4.3076 1.68479 4.36316 1.70186 4.40939 1.73358C4.45561 1.7653 4.49013 1.81005 4.50805 1.86148L4.99175 3.24136C5.20798 3.85649 5.71543 4.33861 6.36286 4.54405L7.8152 5.00362C7.86933 5.02064 7.91643 5.05345 7.94981 5.09736C7.98319 5.14128 8.00116 5.19407 8.00116 5.24824C8.00116 5.30241 7.98319 5.35521 7.94981 5.39912C7.91643 5.44304 7.86933 5.47584 7.8152 5.49287L6.36286 5.95243C6.04355 6.05351 5.7534 6.22385 5.51541 6.44997C5.27743 6.67608 5.09814 6.95175 4.99175 7.25513L4.50805 8.63501C4.49013 8.68643 4.45561 8.73118 4.40939 8.7629C4.36316 8.79462 4.3076 8.81169 4.25058 8.81169C4.19356 8.81169 4.138 8.79462 4.09178 8.7629C4.04556 8.73118 4.01103 8.68643 3.99311 8.63501L3.50941 7.25513C3.40303 6.95175 3.22374 6.67608 2.98575 6.44997C2.74776 6.22385 2.45762 6.05351 2.13831 5.95243L0.685964 5.49287C0.631838 5.47584 0.584736 5.44304 0.551352 5.39912C0.517969 5.35521 0.5 5.30241 0.5 5.24824C0.5 5.19407 0.517969 5.14128 0.551352 5.09736C0.584736 5.05345 0.631838 5.02064 0.685964 5.00362L2.13831 4.54405C2.45762 4.44297 2.74776 4.27263 2.98575 4.04652C3.22374 3.8204 3.40303 3.54474 3.50941 3.24136L3.99311 1.86148ZM12.8284 0.615785C12.8408 0.581972 12.8639 0.552652 12.8946 0.531901C12.9252 0.511151 12.962 0.5 12.9996 0.5C13.0373 0.5 13.074 0.511151 13.1047 0.531901C13.1354 0.552652 13.1585 0.581972 13.1709 0.615785L13.4933 1.53491C13.6371 1.94579 13.9758 2.2676 14.4082 2.40417L15.3756 2.71054C15.4112 2.72227 15.4421 2.74423 15.4639 2.77339C15.4858 2.80255 15.4975 2.83744 15.4975 2.87323C15.4975 2.90902 15.4858 2.94392 15.4639 2.97307C15.4421 3.00223 15.4112 3.0242 15.3756 3.03592L14.4082 3.3423C14.1951 3.40966 14.0015 3.52329 13.8427 3.67418C13.6838 3.82508 13.5642 4.00907 13.4933 4.21155L13.1709 5.13068C13.1585 5.16449 13.1354 5.19381 13.1047 5.21456C13.074 5.23531 13.0373 5.24646 12.9996 5.24646C12.962 5.24646 12.9252 5.23531 12.8946 5.21456C12.8639 5.19381 12.8408 5.16449 12.8284 5.13068L12.5059 4.21155C12.435 4.00907 12.3154 3.82508 12.1566 3.67418C11.9978 3.52329 11.8042 3.40966 11.591 3.3423L10.6249 3.03592C10.5893 3.0242 10.5584 3.00223 10.5366 2.97307C10.5148 2.94392 10.503 2.90902 10.503 2.87323C10.503 2.83744 10.5148 2.80255 10.5366 2.77339C10.5584 2.74423 10.5893 2.72227 10.6249 2.71054L11.5923 2.40417C12.0247 2.2676 12.3635 1.94579 12.5072 1.53491L12.8284 0.615785Z",fill:"url(#paint0_linear_2006_8484)"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"paint0_linear_2006_8484",x1:"0.5",y1:"15.6651",x2:"15.9873",y2:"14.9843",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{"stop-color":e.first_color}),u.jsx("stop",{offset:"1","stop-color":e.element_first_color})]})})]})}),u.jsx("div",{className:He["user-name"],style:{color:t},children:"Genery"})]}),u.jsx("div",{className:He["skeleton-high"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),u.jsx("div",{className:He["skeleton-meduim"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}}),u.jsx("div",{className:He["skeleton-small"],style:{"--first-color":e.gradient_first_color,"--second-color":e.gradient_second_color}})]})}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=["user","model","function","system"];var ar;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(ar||(ar={}));var lr;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(lr||(lr={}));var H3;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(H3||(H3={}));var q3;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(q3||(q3={}));var Oh;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(Oh||(Oh={}));var W3;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(W3||(W3={}));var G3;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(G3||(G3={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K3;(function(t){t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(K3||(K3={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class fi extends Jt{constructor(e,n){super(e),this.response=n}}class Y3 extends Jt{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class _d extends Jt{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zq="https://generativelanguage.googleapis.com",Hq="v1beta",qq="0.10.0",Wq="genai-js";var Ko;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ko||(Ko={}));class V6{constructor(e,n,r,s,o){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=o}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Hq;let o=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||zq}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function Gq(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${Wq}/${qq}`),e.join(" ")}async function Kq(t){const e=new Headers;e.append("Content-Type","application/json"),e.append("x-goog-api-client",Gq(t.requestOptions)),e.append("x-goog-api-key",t.apiKey);let n=t.requestOptions.customHeaders;if(n){if(!(n instanceof Headers))try{n=new Headers(n)}catch(r){throw new _d(`unable to convert customHeaders value ${JSON.stringify(n)} to Headers: ${r.message}`)}for(const[r,s]of n.entries()){if(r==="x-goog-api-key")throw new _d(`Cannot set reserved header name ${r}`);if(r==="x-goog-api-client")throw new _d(`Header name ${r} can only be set using the apiClient field`);e.append(r,s)}}return e}async function Yq(t,e,n,r,s,o){const i=new V6(t,e,n,r,o);return{url:i.toString(),fetchOptions:Object.assign(Object.assign({},Zq(o)),{method:"POST",headers:await Kq(i),body:s})}}async function iu(t,e,n,r,s,o){return Qq(t,e,n,r,s,o,fetch)}async function Qq(t,e,n,r,s,o,i=fetch){const a=new V6(t,e,n,r,o);let l;try{const c=await Yq(t,e,n,r,s,o);if(l=await i(c.url,c.fetchOptions),!l.ok){let d="",h;try{const f=await l.json();d=f.error.message,f.error.details&&(d+=` ${JSON.stringify(f.error.details)}`,h=f.error.details)}catch{}throw new Y3(`Error fetching from ${a.toString()}: [${l.status} ${l.statusText}] ${d}`,l.status,l.statusText,h)}}catch(c){let d=c;throw c instanceof Y3||c instanceof _d||(d=new Jt(`Error fetching from ${a.toString()}: ${c.message}`),d.stack=c.stack),d}return l}function Zq(t){const e={};if((t==null?void 0:t.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),t.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),wd(t.candidates[0]))throw new fi(`${ps(t)}`,t);return Xq(t)}else if(t.promptFeedback)throw new fi(`Text not available. ${ps(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),wd(t.candidates[0]))throw new fi(`${ps(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Q3(t)[0]}else if(t.promptFeedback)throw new fi(`Function call not available. ${ps(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),wd(t.candidates[0]))throw new fi(`${ps(t)}`,t);return Q3(t)}else if(t.promptFeedback)throw new fi(`Function call not available. ${ps(t)}`,t)},t}function Xq(t){var e,n,r,s;return!((s=(r=(n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r[0])===null||s===void 0)&&s.text?t.candidates[0].content.parts.map(({text:o})=>o).join(""):""}function Q3(t){var e,n,r,s;const o=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const i of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)i.functionCall&&o.push(i.functionCall);if(o.length>0)return o}const Jq=[Oh.RECITATION,Oh.SAFETY];function wd(t){return!!t.finishReason&&Jq.includes(t.finishReason)}function ps(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const o=t.candidates[0];wd(o)&&(s+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(s+=`: ${o.finishMessage}`))}return s}function Ec(t){return this instanceof Ec?(this.v=t,this):new Ec(t)}function eW(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(f){r[f]&&(s[f]=function(m){return new Promise(function(v,w){o.push([f,m,v,w])>1||a(f,m)})})}function a(f,m){try{l(r[f](m))}catch(v){h(o[0][3],v)}}function l(f){f.value instanceof Ec?Promise.resolve(f.value.v).then(c,d):h(o[0][2],f)}function c(f){a("next",f)}function d(f){a("throw",f)}function h(f,m){f(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function tW(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=sW(e),[r,s]=n.tee();return{stream:rW(r),response:nW(s)}}async function nW(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return Jv(oW(e));e.push(s)}}function rW(t){return eW(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield Ec(n.read());if(s)break;yield yield Ec(Jv(r))}})}function sW(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return o();function o(){return e.read().then(({value:i,done:a})=>{if(a){if(s.trim()){r.error(new Jt("Failed to parse stream"));return}r.close();return}s+=i;let l=s.match(Z3),c;for(;l;){try{c=JSON.parse(l[1])}catch{r.error(new Jt(`Error parsing JSON response: "${l[1]}"`));return}r.enqueue(c),s=s.substring(l[0].length),l=s.match(Z3)}return o()})}}})}function oW(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t)if(r.candidates)for(const s of r.candidates){const o=s.index;if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:s.index}),n.candidates[o].citationMetadata=s.citationMetadata,n.candidates[o].finishReason=s.finishReason,n.candidates[o].finishMessage=s.finishMessage,n.candidates[o].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[o].content||(n.candidates[o].content={role:s.content.role||"user",parts:[]});const i={};for(const a of s.content.parts)a.text&&(i.text=a.text),a.functionCall&&(i.functionCall=a.functionCall),Object.keys(i).length===0&&(i.text=""),n.candidates[o].content.parts.push(i)}}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z6(t,e,n,r){const s=await iu(e,Ko.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return tW(s)}async function H6(t,e,n,r){const o=await(await iu(e,Ko.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:Jv(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Dh(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return iW(e)}function iW(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const o of t)"functionResponse"in o?(n.parts.push(o),s=!0):(e.parts.push(o),r=!0);if(r&&s)throw new Jt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new Jt("No content is provided for sending chat message.");return r?e:n}function Fm(t){let e;return t.contents?e=t:e={contents:[Dh(t)]},t.systemInstruction&&(e.systemInstruction=q6(t.systemInstruction)),e}function aW(t){return typeof t=="string"||Array.isArray(t)?{content:Dh(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=["text","inlineData","functionCall","functionResponse"],lW={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},J3={user:["model"],function:["model"],model:["user","function"],system:[]};function cW(t){let e;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new Jt(`First content should be with role 'user', got ${r}`);if(!z3.includes(r))throw new Jt(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(z3)}`);if(!Array.isArray(s))throw new Jt("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Jt("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0};for(const a of s)for(const l of X3)l in a&&(o[l]+=1);const i=lW[r];for(const a of X3)if(!i.includes(a)&&o[a]>0)throw new Jt(`Content with role '${r}' can't contain '${a}' part`);if(e&&!J3[r].includes(e.role))throw new Jt(`Content with role '${r}' can't follow '${e.role}'. Valid previous roles: ${JSON.stringify(J3)}`);e=n}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="SILENT_ERROR";class uW{constructor(e,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(cW(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r,s,o,i;await this._sendPromise;const a=Dh(e),l={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,contents:[...this._history,a]};let c;return this._sendPromise=this._sendPromise.then(()=>H6(this._apiKey,this.model,l,this.requestOptions)).then(d=>{var h;if(d.response.candidates&&d.response.candidates.length>0){this._history.push(a);const f=Object.assign({parts:[],role:"model"},(h=d.response.candidates)===null||h===void 0?void 0:h[0].content);this._history.push(f)}else{const f=ps(d.response);f&&console.warn(`sendMessage() was unsuccessful. ${f}. Inspect response object for details.`)}c=d}),await this._sendPromise,c}async sendMessageStream(e){var n,r,s,o,i;await this._sendPromise;const a=Dh(e),l={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(i=this.params)===null||i===void 0?void 0:i.systemInstruction,contents:[...this._history,a]},c=z6(this._apiKey,this.model,l,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>c).catch(d=>{throw new Error(eC)}).then(d=>d.response).then(d=>{if(d.candidates&&d.candidates.length>0){this._history.push(a);const h=Object.assign({},d.candidates[0].content);h.role||(h.role="model"),this._history.push(h)}else{const h=ps(d);h&&console.warn(`sendMessageStream() was unsuccessful. ${h}. Inspect response object for details.`)}}).catch(d=>{d.message!==eC&&console.error(d)}),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dW(t,e,n,r){return(await iu(e,Ko.COUNT_TOKENS,t,!1,JSON.stringify(Object.assign(Object.assign({},n),{model:e})),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hW(t,e,n,r){return(await iu(e,Ko.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function fW(t,e,n,r){const s=n.requests.map(i=>Object.assign(Object.assign({},i),{model:e}));return(await iu(e,Ko.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,n,r){this.apiKey=e,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=q6(n.systemInstruction),this.requestOptions=r||{}}async generateContent(e){const n=Fm(e);return H6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}async generateContentStream(e){const n=Fm(e);return z6(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},n),this.requestOptions)}startChat(e){return new uW(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},e),this.requestOptions)}async countTokens(e){const n=Fm(e);return dW(this.apiKey,this.model,n,this.requestOptions)}async embedContent(e){const n=aW(e);return hW(this.apiKey,this.model,n,this.requestOptions)}async batchEmbedContents(e){return fW(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Jt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new pW(this.apiKey,e,n)}}async function gW(t){return{inlineData:{data:await new Promise(n=>{const r=new FileReader;r.onloadend=()=>n(r.result.split(",")[1]),r.readAsDataURL(t)}),mimeType:t.type}}}async function yW(t,e){const n=localStorage.getItem("censor")==="true";let r;n?r=[{category:ar.HARM_CATEGORY_HARASSMENT,threshold:lr.BLOCK_LOW_AND_ABOVE},{category:ar.HARM_CATEGORY_HATE_SPEECH,threshold:lr.BLOCK_LOW_AND_ABOVE},{category:ar.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:lr.BLOCK_LOW_AND_ABOVE},{category:ar.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:lr.BLOCK_LOW_AND_ABOVE}]:r=[{category:ar.HARM_CATEGORY_HARASSMENT,threshold:lr.BLOCK_NONE},{category:ar.HARM_CATEGORY_HATE_SPEECH,threshold:lr.BLOCK_NONE},{category:ar.HARM_CATEGORY_SEXUALLY_EXPLICIT,threshold:lr.BLOCK_NONE},{category:ar.HARM_CATEGORY_DANGEROUS_CONTENT,threshold:lr.BLOCK_NONE}];const s=e.length>0?"gemini-2.0-flash-exp":"gemini-1.0-pro",o="AIzaSyDXQzULiPw4hRAKK7iRUrJCIXkMZmwmDfc",a=new mW(o).getGenerativeModel({model:s}),l={temperature:.5,topK:1,topP:1,maxOutputTokens:2048};let c;n?c=[{text:"input: !    ?"},{text:"output:  , .   ?"},{text:`input: ${t}`}]:c=[{text:"input: "},{text:"output: , ,  "},{text:"input:  "},{text:"output:  , "},{text:"input:     "},{text:`output: , , :
" -   !"`},{text:"input:      "},{text:"output: ?    "},{text:"input:      "},{text:`output: , ,  ,  :
  `},{text:"input: ,     "},{text:"output:   ,  https://arxiv.org/abs/2005.14165 "},{text:"input:     ,  ?"},{text:"output:  + .   ,     ? "},{text:`input: ${t}`}],console.log(c);const d=await Promise.all(e.map(gW));let h;e.length>0?h=await a.generateContent([t,...d]):h=await a.generateContent({contents:[{role:"user",parts:c}],generationConfig:l,safetySettings:r});const f=h.response;return console.log(f.text()),[f.text(),!1]}const _n={"input-container":"_input-container_1mttu_1","button-circle":"_button-circle_1mttu_28","input-message-body":"_input-message-body_1mttu_45","image-previewer":"_image-previewer_1mttu_56","image-wrapper":"_image-wrapper_1mttu_66","remove-image":"_remove-image_1mttu_81","image-no-select":"_image-no-select_1mttu_102","input-message-wrapper":"_input-message-wrapper_1mttu_111","emoji-button":"_emoji-button_1mttu_120","message-input":"_message-input_1mttu_138","send-button":"_send-button_1mttu_171","emoji-img":"_emoji-img_1mttu_188"},vW="_show_esoz4_22",_W="_categories_esoz4_27",wW="_emoji_esoz4_2",Wn={"emoji-panel":"_emoji-panel_esoz4_2",show:vW,categories:_W,"emoji-category":"_emoji-category_esoz4_50","emojies-container":"_emojies-container_esoz4_69","category-name":"_category-name_esoz4_78","emojies-body":"_emojies-body_esoz4_86","emojies-content":"_emojies-content_esoz4_95",emoji:wW,"emoji-img":"_emoji-img_esoz4_116","emoji-img-text":"_emoji-img-text_esoz4_124"},tC=[{name:"smiles",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M7.99985 15C8.84985 15.63 9.88485 16 10.9998 16C12.1148 16 13.1498 15.63 13.9998 15" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M14.9998 9.50003C14.9998 10.328 14.5518 11 13.9998 11C13.4478 11 12.9998 10.328 12.9998 9.50003C12.9998 8.67203 13.4478 8.00003 13.9998 8.00003C14.5518 8.00003 14.9998 8.67203 14.9998 9.50003Z" fill="{theme.text_first_color}"/>
                <path d="M7.99994 11C8.55222 11 8.99994 10.3285 8.99994 9.50003C8.99994 8.6716 8.55222 8.00003 7.99994 8.00003C7.44765 8.00003 6.99994 8.6716 6.99994 9.50003C6.99994 10.3285 7.44765 11 7.99994 11Z" fill="{theme.text_first_color}"/>
            </svg>
         
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"animals",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="30" height="23" viewBox="0 0 30 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M24.94 8.924C26.4954 10.7636 26.172 13.0148 26.172 15C26.172 20.4684 18.7982 22 15 22C11.2018 22 3.82798 20.4684 3.82798 15C3.82798 13.0148 3.50458 10.7636 5.05998 8.924M24.94 8.924C24.667 8.602 24.338 8.294 23.9376 8M24.94 8.924C25.92 9.4882 26.1706 7.377 26.172 6.6868V4.0632C26.172 1.7882 24.6082 1 23.267 1C21.9272 1 19.2448 3.1882 18.3516 3.1882C17.2792 3.1882 17.072 2.9684 15 2.9684C12.928 2.9684 12.7208 3.1882 11.6484 3.1882C10.7552 3.1882 8.07278 1 6.73298 1C5.39178 1 3.82798 1.7882 3.82798 4.0632V6.6882C3.83078 7.377 4.07998 9.4882 5.05998 8.924M5.05998 8.924C5.33298 8.602 5.66198 8.294 6.06238 8" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                <path d="M16.1564 16.4C16.1564 16.6422 15.651 16.8382 15.0266 16.8382C14.4036 16.8382 13.8982 16.6422 13.8982 16.4C13.8982 16.1578 14.4036 15.9632 15.0266 15.9632C15.651 15.9632 16.1564 16.1592 16.1564 16.4ZM19.9 13.0316C19.9 13.635 19.5962 14.125 19.2224 14.125C18.8486 14.125 18.5448 13.635 18.5448 13.0316C18.5448 12.4268 18.8486 11.9382 19.2224 11.9382C19.5962 11.9382 19.9 12.4296 19.9 13.0316ZM11.5 13.0316C11.5 13.635 11.1962 14.125 10.8224 14.125C10.4486 14.125 10.1448 13.635 10.1448 13.0316C10.1448 12.4268 10.4486 11.9382 10.8224 11.9382C11.1962 11.9382 11.5 12.4296 11.5 13.0316Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M29 15.6566C28.3238 15.2184 25.388 14.125 24.2582 14.125M26.7418 19.1566C26.0642 18.7184 24.4836 17.625 23.3538 17.625M1 15.6566C1.6776 15.2184 4.612 14.125 5.7418 14.125M3.2582 19.1566C3.9358 18.7184 5.5164 17.625 6.6462 17.625" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"food",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="21" height="24" viewBox="0 0 21 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.4286 7.28573C8.86121 7.28573 1 4.1632 1 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 12C1 19.8368 5.71835 23 7.28571 23C8.85308 23 8.86121 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28573C11.9959 7.28573 19.8571 4.1632 19.8571 12" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M19.8653 11.9879C19.8653 19.8247 15.1388 23 13.5714 23C12.0041 23 11.9959 21.4286 10.4286 21.4286" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4285 7.28571C10.4285 2.58362 7.28568 1 7.28568 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C10.4286 1.01626 13.5755 2.56736 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.4286 7.28571C15.1306 5.71835 16.7102 4.13473 15.1428 1" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>

        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"exercise",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 11C21 16.523 16.523 21 11 21C5.477 21 1 16.523 1 11C1 5.477 5.477 1 11 1C16.523 1 21 5.477 21 11Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M4 4C7.99 7.52 8.01 14.462 4 18M18 18C13.99 14.462 14.01 7.52 18 4" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"transport",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="25" height="19" viewBox="0 0 25 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22.3341 8.30094H23.4404C23.7495 8.30094 24 8.55146 24 8.8605V8.8605C24 9.16954 23.7495 9.42006 23.4404 9.42006H23.167C22.707 9.42006 22.3341 9.79299 22.3341 10.253V16C22.3341 17.1046 21.4387 18 20.3341 18H18.601C17.9535 18 17.4286 17.4751 17.4286 16.8276V16.8276C17.4286 16.1801 16.9037 15.6552 16.2562 15.6552H12.5H8.74385C8.09634 15.6552 7.57143 16.1801 7.57143 16.8276V16.8276C7.57143 17.4751 7.04652 18 6.39902 18H4.66592C3.56136 18 2.66592 17.1046 2.66592 16V10.253C2.66592 9.79299 2.293 9.42006 1.83297 9.42006H1.55957C1.25054 9.42006 1.00001 9.16954 1.00001 8.8605V8.8605C1.00001 8.55146 1.25054 8.30094 1.55957 8.30094H2.66592M22.3341 8.30094L19.2752 2.11364C18.938 1.43164 18.2431 1 17.4823 1H12.5H7.51769C6.7569 1 6.062 1.43164 5.72483 2.11364L2.66592 8.30094M22.3341 8.30094H2.66592" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <circle cx="6.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
                <circle cx="18.5" cy="12.5" r="1.5" fill="{theme.text_first_color}"/>
            </svg>
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"objects",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.501 18.5012C6.501 17.7872 6.501 17.4312 6.462 17.1942C6.34 16.4312 6.319 16.3822 5.832 15.7822C5.68 15.5952 5.12 15.0942 4 14.0902C2.86788 13.0776 2.06988 11.7452 1.71159 10.2692C1.3533 8.79316 1.45161 7.24315 1.9935 5.82422C2.53539 4.4053 3.49533 3.18434 4.7463 2.3229C5.99727 1.46147 7.48031 1.00015 8.99919 1C10.5181 0.999848 12.0012 1.46086 13.2523 2.32205C14.5035 3.18324 15.4637 4.404 16.0058 5.82282C16.548 7.24164 16.6466 8.79164 16.2886 10.2677C15.9306 11.7438 15.1329 13.0764 14.001 14.0892C12.88 15.0932 12.32 15.5952 12.169 15.7812C11.682 16.3812 11.661 16.4302 11.538 17.1932C11.5 17.4302 11.5 17.7872 11.5 18.5002H6.5C6.5 19.4352 6.5 19.9022 6.701 20.2502C6.83265 20.4782 7.02199 20.6676 7.25 20.7992C7.598 21.0002 8.065 21.0002 9 21.0002C9.935 21.0002 10.402 21.0002 10.751 20.8002C10.979 20.6686 11.1684 20.4792 11.3 20.2512C11.501 19.9032 11.501 19.4362 11.501 18.5012" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                <path d="M9.00001 16.0002V14.0002M9.00001 14.0002C9.35106 14.0002 9.69593 13.9077 9.99996 13.7322C10.304 13.5567 10.5565 13.3042 10.732 13.0002M9.00001 14.0002C8.64895 14.0002 8.30408 13.9077 8.00005 13.7322C7.69602 13.5567 7.44355 13.3042 7.26801 13.0002" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"flags",emojiIcon:!1,isCustom:!0,fontFamily:"Noto Color Emoji",icon:`
            <svg width="18" height="22" viewBox="0 0 18 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 12.9675C2.06816 11.9163 3.50427 11.3274 5 11.3274C6.49573 11.3274 7.93184 11.9163 9 12.9675C10.0682 14.0188 11.5043 14.6076 13 14.6076C14.4957 14.6076 15.9318 14.0188 17 12.9675V2.6401C15.9318 3.69136 14.4957 4.28019 13 4.28019C11.5043 4.28019 10.0682 3.69136 9 2.6401C7.93184 1.58884 6.49573 1 5 1C3.50427 1 2.06816 1.58884 1 2.6401V12.9675ZM1 12.9675V21" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        `,isImgEmoji:!1,emojis:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},{name:"genery",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/genery/icon.png",isImgEmoji:!0,emojis:["emojies/genery/1.png","emojies/genery/2.png","emojies/genery/3.png","emojies/genery/4.png","emojies/genery/5.png","emojies/genery/6.png","emojies/genery/7.png","emojies/genery/8.png","emojies/genery/9.png","emojies/genery/10.png","emojies/genery/11.png","emojies/genery/12.png","emojies/genery/13.png","emojies/genery/14.png","emojies/genery/15.png","emojies/genery/16.png","emojies/genery/17.png","emojies/genery/18.png","emojies/genery/19.png","emojies/genery/20.png","emojies/genery/21.png","emojies/genery/22.png","emojies/genery/23.png","emojies/genery/24.png"]},{name:"kyrgyzstan",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/kyrgyzstan/icon.png",isImgEmoji:!0,emojis:["emojies/kyrgyzstan/1.png","emojies/kyrgyzstan/2.png","emojies/kyrgyzstan/3.png","emojies/kyrgyzstan/4.png","emojies/kyrgyzstan/5.png","emojies/kyrgyzstan/6.png","emojies/kyrgyzstan/7.png","emojies/kyrgyzstan/8.png","emojies/kyrgyzstan/9.png","emojies/kyrgyzstan/10.png","emojies/kyrgyzstan/11.png","emojies/kyrgyzstan/12.png"]},{name:"winter_2024",emojiIcon:!1,emojiIconImg:!0,isCustom:!0,fontFamily:"Noto Color Emoji",icon:"emojies/winter_2024/icon.png",isImgEmoji:!0,emojis:["emojies/winter_2024/1.png","emojies/winter_2024/2.png","emojies/winter_2024/3.png","emojies/winter_2024/4.png","emojies/winter_2024/5.png","emojies/winter_2024/6.png","emojies/winter_2024/7.png","emojies/winter_2024/8.png","emojies/winter_2024/9.png","emojies/winter_2024/10.png","emojies/winter_2024/11.png","emojies/winter_2024/12.png"]}];function xW({isShow:t,isImages:e,isTop:n,marginTop:r,onEmojiSelect:s}){const{theme:o,setThemeById:i,elementColors:a,setElementColors:l}=p.useContext(B),{authUser:c}=he(),[d,h]=p.useState(tC[0].name),[f,m]=p.useState(["smiles","animals","food","exercise","transport","objects","flags"]),v=p.useRef({}),w=p.useRef(),C=p.useRef(),[_,g]=p.useState(),[y,x]=p.useState([]);p.useEffect(()=>{g(r)},[r]);const b=(k,E)=>{if(h(k),v.current[k]&&C.current){const N=v.current[k].offsetTop-C.current.offsetTop;C.current.scrollTo({top:N,behavior:"smooth"})}},S=(k,E,N)=>{s(k,E,N)};p.useEffect(()=>{(async()=>{if(c&&c._id){const E=J(K,"users",c._id,"info","preferences"),N=await ce(E);if(N.exists()){const A=N.data();m(I=>[...I,...A.boughtEmojies])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const T=f?tC.filter(k=>f.includes(k.name)):[];return p.useEffect(()=>{const k=N=>{w.current&&(w.current.scrollLeft+=N.deltaY/5)},E=w.current;return E&&E.addEventListener("wheel",k),()=>{E&&E.removeEventListener("wheel",k)}},[]),p.useEffect(()=>{const k={root:C.current,rootMargin:"0px",threshold:Array.from({length:101},(A,I)=>I/100)},E=new IntersectionObserver(A=>{A.forEach(I=>{I.isIntersecting&&h(I.target.getAttribute("data-category"))})},k),N=Object.values(v.current);return N.forEach(A=>{E.observe(A)}),()=>{N.forEach(A=>{E.unobserve(A)})}},[]),u.jsxs("div",{className:`${Wn["emoji-panel"]} ${t?Wn.show:""}`,style:{background:o.element_first_color,bottom:n?"auto":"50px",top:n?`${r}`:"auto",transformOrigin:n?"top left":"bottom left",boxShadow:`0 5px 10px 5px ${o.shadow_color}`},children:[u.jsx("style",{children:`
                    div::-webkit-scrollbar {
                      width: 6px; /*   */
                    }

                    /*    */
                    div::-webkit-scrollbar-thumb {
                      background-color: ${o.text_second_color}; /*   */
                      border-radius: 5px; /*    */
                      cursor: pointer;
                    }

                    /*    */
                    div::-webkit-scrollbar-track {
                      border-radius: 0 0 50px 0;
                      background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                    }
                `}),u.jsx("div",{className:Wn.categories,style:{},ref:w,children:T.map(k=>{const E=k.icon.replace(/{theme.text_first_color}/g,o.text_first_color);return u.jsx("button",{className:Wn["emoji-category"],onClick:()=>b(k.name,k.isCustom),onMouseEnter:N=>{N.currentTarget.style.background=o.element_second_color},onMouseLeave:N=>{N.currentTarget.style.background=d===k.name?o.element_second_color:"none"},style:{background:d===k.name?o.element_second_color:"none","--font":k.fontFamily},children:k.emojiIcon?k.icon:k.emojiIconImg?u.jsx("img",{src:k.icon,className:Wn["emoji-img"]}):Go(E)},k.name)})}),u.jsx("div",{className:Wn["emojies-container"],ref:C,children:T.map(k=>u.jsxs("div",{className:Wn["emojies-body"],"data-category":k.name,ref:E=>v.current[k.name]=E,children:[u.jsx("h2",{className:Wn["category-name"],style:{color:o.text_first_color},children:k.name}),u.jsx("div",{className:Wn["emojies-content"],children:k.emojis.map((E,N)=>k.isImgEmoji?u.jsx("img",{src:E,className:Wn["emoji-img-text"],onClick:()=>S(E,k.isImgEmoji,k.fontFamily),onMouseEnter:A=>{A.currentTarget.style.background=o.element_second_color},onMouseLeave:A=>{A.currentTarget.style.background="none"}},N):u.jsx("span",{className:Wn.emoji,style:{fontFamily:k.fontFamily},onClick:()=>S(E,k.isImgEmoji,k.fontFamily),onMouseEnter:A=>{A.currentTarget.style.background=o.element_second_color},onMouseLeave:A=>{A.currentTarget.style.background="none"},children:E},N))})]},k.name))})]})}const nC={"notif-area":"_notif-area_1bj00_1","notif-body":"_notif-body_1bj00_14"};function Yt({text:t,isShow:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(B),o={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,top:"70%"},hidden:{opacity:1,top:"100%"}};return u.jsx(ot.div,{className:nC["notif-area"],animate:e?"open":"closed",variants:o,transition:{duration:.3},children:u.jsx(ot.div,{className:nC["notif-body"],variants:o,initial:"hidden",animate:e?"show":"hidden",transition:{duration:.4},style:{background:n.element_first_color,color:n.text_first_color},children:t})})}function e_({isPanelTop:t,placeholder:e,onSend:n}){const{theme:r,setElementColors:s}=p.useContext(B),o=p.useRef(null);p.useRef(null);const[i,a]=p.useState(""),[l,c]=p.useState(!1),[d,h]=p.useState([]),f=p.useRef(),m=p.useRef(null),[v,w]=p.useState(50),[C,_]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(C.isShow){const k=setTimeout(()=>{_({isShow:!1})},1e3);return()=>clearTimeout(k)}},[C]),p.useEffect(()=>{if(i===""){o.current.style.height="auto",m.current.style.height="10px",w(50);return}const k=parseInt(m.current.style.height.replace("px",""),10);k>40&&t&&(k>90?w(120):w(`${k+20}px`))},[i]);const g=()=>{i===""&&d.length===0||(n(i,d),a(""),h([]),c(!1),m.current.style.lineHeight="30px",m.current.style.height="10px",o.current.style.height="auto")},y=k=>{k.key==="Enter"&&(k.preventDefault(),g())},x=(k,E,N)=>{let A;if(E){A=`<img class="${_n["emoji-img"]}" src="${k}" style="width: 22px; height: 22px"/>`,a(i+A+"");return}const I=`<span class="${_n.emoji}" style="font-family: ${N}">${k}</span>`;a(i+I+"")},b=k=>{let E=k.target.innerHTML;a(E)};p.useEffect(()=>{if(d.length>0){w(160);return}w(50)},[d]);const S=k=>{w(I=>I+100);const E=k.target.files;if(E.length>5){_({isShow:!0,text:"    - 5"});return}for(let I=0;I<E.length;I++){const j=E[I];if(!j.type.startsWith("image/")){_({isShow:!0,text:` ${j.name}   .   .`});return}}if(E.length>5)return;Array.from(k.target.files).forEach(I=>{console.log(I),h(j=>[...j,I])}),f.current.value=""},T=k=>{h(E=>E.filter((N,A)=>A!==k))};return p.useEffect(()=>{const k=document.createRange();k.selectNodeContents(m.current),k.collapse(!1);const E=window.getSelection();E.removeAllRanges(),E.addRange(k)},[i]),p.useEffect(()=>{const k=N=>{m.current&&(m.current.scrollTop+=N.deltaY)},E=m.current;return E&&E.addEventListener("wheel",k),()=>{E&&E.removeEventListener("wheel",k)}},[]),u.jsx(u.Fragment,{children:u.jsxs("section",{className:_n["input-container"],children:[u.jsx(Yt,{isShow:C.isShow,text:C.text}),u.jsx(xW,{isShow:l,isTop:t,marginTop:`${v}px`,isImages:d.length>0&&!0,onEmojiSelect:x}),u.jsxs("button",{className:_n["button-circle"],style:{background:r.element_first_color},onClick:()=>document.getElementById("file-input").click(),children:[u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:r.text_first_color,"stroke-width":"2","stroke-linecap":"round"})}),u.jsx("input",{type:"file",id:"file-input",multiple:!0,ref:f,style:{display:"none"},onChange:S})]}),u.jsxs("div",{className:_n["input-message-body"],style:{background:r.element_first_color},children:[d.length>0&&u.jsx("div",{className:_n["image-previewer"],children:d.map((k,E)=>u.jsxs("div",{className:_n["image-wrapper"],children:[u.jsx("button",{className:_n["remove-image"],onClick:()=>T(E),children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:r.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})}),u.jsx("div",{className:_n["image-no-select"]}),k&&u.jsx("img",{src:URL.createObjectURL(k),alt:"Preview"})]},E))}),u.jsxs("div",{className:_n["input-message-wrapper"],ref:o,style:{alignItems:t?"flex-end":"flex-start"},children:[u.jsx("button",{className:_n["emoji-button"],onClick:()=>c(!l),children:u.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z",stroke:r.text_first_color,"stroke-width":"2"}),u.jsx("path",{d:"M8.25049 15.5C9.13085 16.1525 10.2028 16.5357 11.3576 16.5357C12.5125 16.5357 13.5844 16.1525 14.4648 15.5",stroke:r.text_first_color,"stroke-width":"2","stroke-linecap":"round"}),u.jsx("path",{d:"M15.5006 9.80356C15.5006 10.6611 15.0366 11.3571 14.4649 11.3571C13.8932 11.3571 13.4292 10.6611 13.4292 9.80356C13.4292 8.94599 13.8932 8.24999 14.4649 8.24999C15.0366 8.24999 15.5006 8.94599 15.5006 9.80356Z",fill:r.text_first_color}),u.jsx("path",{d:"M8.25007 11.3571C8.82208 11.3571 9.28578 10.6616 9.28578 9.80356C9.28578 8.94555 8.82208 8.24999 8.25007 8.24999C7.67806 8.24999 7.21436 8.94555 7.21436 9.80356C7.21436 10.6616 7.67806 11.3571 8.25007 11.3571Z",fill:r.text_first_color})]})}),u.jsx("div",{ref:m,className:_n["message-input"],contentEditable:!0,onInput:b,onKeyPress:y,"data-placeholder":e,dangerouslySetInnerHTML:{__html:i},suppressContentEditableWarning:!0,style:{color:r.text_first_color,caretColor:r.first_color,"--placeholder-color":r.text_third_color}}),u.jsx("button",{className:_n["send-button"],style:{background:r.first_color},onClick:g,children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M2.20711 11.2071C1.81658 11.5976 1.18342 11.5976 0.792893 11.2071C0.402369 10.8166 0.402369 10.1834 0.792893 9.79289L2.20711 11.2071ZM10.5 0.5C11.0523 0.5 11.5 0.947715 11.5 1.5L11.5 10.5C11.5 11.0523 11.0523 11.5 10.5 11.5C9.94772 11.5 9.5 11.0523 9.5 10.5L9.5 2.5L1.5 2.5C0.947715 2.5 0.5 2.05228 0.5 1.5C0.5 0.947715 0.947715 0.5 1.5 0.5L10.5 0.5ZM0.792893 9.79289L9.79289 0.792893L11.2071 2.20711L2.20711 11.2071L0.792893 9.79289Z",fill:r.text_first_color})})})]})]})]})})}const CW="_animated_1wmka_14",bW="_show_1wmka_32",kW="_close_1wmka_74",SW="_download_1wmka_82",an={"viewer-area":"_viewer-area_1wmka_1",animated:CW,"image-view":"_image-view_1wmka_18","viewer-actions":"_viewer-actions_1wmka_21","prev-button":"_prev-button_1wmka_26","next-button":"_next-button_1wmka_29",show:bW,"viewer-button":"_viewer-button_1wmka_63",close:kW,download:SW,"image-wrapper":"_image-wrapper_1wmka_89","image-view-bg":"_image-view-bg_1wmka_157","image-no-select":"_image-no-select_1wmka_172"};function ii({isShow:t,images:e,index:n,onClose:r}){const{theme:s,setElementColors:o}=p.useContext(B),[i,a]=p.useState(n),[l,c]=p.useState([]),[d,h]=p.useState(!1),f=x6(0);p.useEffect(()=>{console.log(e);let x=[];Array.isArray(e)?c(e):(x.push(e),c(x),console.log(x))},[e]),p.useEffect(()=>{a(n)},[n]);const m=()=>{a(x=>x===l.length-1?0:x+1)},v=()=>{a(x=>x===0?l.length-1:x-1)},w=()=>{h(!0)},C=()=>{h(!1),f.get()<-50?a(x=>x===0?l.length-1:x-1):f.get()>50&&a(x=>x===l.length-1?0:x+1),f.set(0)},_=x=>{const b=decodeURIComponent(x),S=b.indexOf("post_photos/"),T=b.indexOf("?alt=media");if(S===-1||T===-1)throw new Error("     URL");return b.substring(S,T)},g=()=>{const x=l[i],b=document.createElement("a");console.log("URL:",x);const S=".png";if(x.startsWith("blob:"))console.log("Downloading blob URL"),b.href=x,b.download=S,document.body.appendChild(b),b.click(),document.body.removeChild(b);else if(x.startsWith("https://firebasestorage.googleapis.com")){console.log("Downloading from Firebase Storage");try{const T=_(x);Jr(br(kr,T)).then(k=>{console.log("Firebase download URL:",k),fetch(k).then(E=>{if(!E.ok)throw new Error("Network response was not ok.");return E.blob()}).then(E=>{console.log("Blob:",E);const N=window.URL.createObjectURL(E);console.log("Blob URL:",N),b.href=N,b.download=S,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(N)}).catch(E=>{console.error("Error fetching file:",E)})}).catch(k=>{console.error("Error getting download URL from Firebase:",k)})}catch(T){console.error("Error converting Firebase URL:",T)}}else console.log("Downloading from other URL"),b.href=x,b.download=S,document.body.appendChild(b),b.click(),document.body.removeChild(b)},y={enter:{opacity:0,x:90,scale:.5,transition:{duration:.2}},center:{opacity:1,x:0,scale:1,transition:{duration:.2}},exit:{opacity:0,x:-90,scale:.5,transition:{duration:.2}}};return u.jsxs("div",{className:`${an["viewer-area"]} ${an.animated} ${t?an.show:""}`,children:[u.jsxs("div",{className:an["viewer-actions"],children:[u.jsx("button",{className:`${an["viewer-button"]} ${an.download}`,onClick:g,children:u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M8.5 1C8.5 0.447715 8.05228 2.41411e-08 7.5 0C6.94772 -2.41411e-08 6.5 0.447715 6.5 1L8.5 1ZM6.79289 14.435C7.18342 14.8256 7.81658 14.8256 8.20711 14.435L14.5711 8.07107C14.9616 7.68054 14.9616 7.04738 14.5711 6.65685C14.1805 6.26633 13.5474 6.26633 13.1569 6.65685L7.5 12.3137L1.84315 6.65685C1.45262 6.26633 0.819456 6.26633 0.428932 6.65685C0.0384075 7.04738 0.0384075 7.68054 0.428932 8.07107L6.79289 14.435ZM6.5 1L6.5 13.7279L8.5 13.7279L8.5 1L6.5 1Z",fill:s.text_first_color})})}),u.jsx("button",{className:`${an["viewer-button"]} ${an.close}`,onClick:r,children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:s.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]}),u.jsxs("div",{className:an["image-wrapper"],children:[l.length>1&&u.jsx("button",{className:an["prev-button"],onClick:v,children:u.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M14.3638 6.36395C14.9161 6.36395 15.3638 6.81167 15.3638 7.36395C15.3638 7.91624 14.9161 8.36395 14.3638 8.36395L14.3638 6.36395ZM0.92874 8.07106C0.538216 7.68053 0.538216 7.04737 0.92874 6.65684L7.2927 0.292884C7.68323 -0.0976401 8.31639 -0.09764 8.70692 0.292884C9.09744 0.683409 9.09744 1.31657 8.70692 1.7071L3.05006 7.36395L8.70691 13.0208C9.09744 13.4113 9.09744 14.0445 8.70691 14.435C8.31639 14.8255 7.68322 14.8255 7.2927 14.435L0.92874 8.07106ZM14.3638 8.36395L1.63585 8.36395L1.63585 6.36395L14.3638 6.36395L14.3638 8.36395Z",fill:s.text_first_color})})}),u.jsx(ot.div,{className:an["image-view"],variants:y,style:{x:f},drag:"x",dragConstraints:{left:0,right:0},onDragStart:w,onDragEnd:C,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween"},children:u.jsxs("div",{className:an["image-view-bg"],children:[u.jsx("div",{className:an["image-no-select"]}),u.jsx("img",{src:l&&l[i]},l[i])]})},l[i]),l.length>1&&u.jsx("button",{className:an["next-button"],onClick:m,children:u.jsx("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 9C0.447715 9 0 8.55228 0 8C0 7.44772 0.447715 7 1 7L1 9ZM14.435 7.29289C14.8256 7.68342 14.8256 8.31658 14.435 8.70711L8.07107 15.0711C7.68054 15.4616 7.04738 15.4616 6.65685 15.0711C6.26633 14.6805 6.26633 14.0474 6.65685 13.6569L12.3137 8L6.65685 2.34315C6.26633 1.95262 6.26633 1.31946 6.65685 0.928932C7.04738 0.538408 7.68054 0.538408 8.07107 0.928932L14.435 7.29289ZM1 7L13.7279 7V9L1 9L1 7Z",fill:s.text_first_color})})})]})]})}function EW(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B),[s,o]=p.useState(""),[i,a]=p.useState({}),[l,c]=p.useState(),{authUser:d}=he();p.useRef(null);const h=p.useRef(null),[f,m]=p.useState(!1),[v,w]=p.useState(!0);p.useEffect(()=>{w(Object.keys(i).length===0)},[i]);const[C,_]=p.useState({isShow:!1,images:[],index:null}),g=ye();p.useEffect(()=>{h.current&&window.scrollTo(0,1e6)},[i]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>g("/menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[B]),p.useEffect(()=>{const S=$a(Xc(Cr(K,"users",d._id,"messages"),Jc("timestamp","asc")),T=>{const k={};T.forEach(E=>{const N=E.data(),A=new Date(N.timestamp),I=N.isUser,j=A.toLocaleDateString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric"});k[j]||(k[j]=[]);const R={...N,isUser:I,userName:d.name};k[j].push(R)}),a(k)});return()=>{S()}},[]);const y=async(S,T)=>{try{const k=new Date().toISOString();await Gf(Cr(K,"users",d._id,"messages"),{text:S.text,timestamp:k,isUser:T,userName:d.name,photos:S.images}),console.log("Message saved successfully.")}catch(k){console.error("Error adding document: ",k)}},x=async(S,T)=>{try{const k=new Date().toISOString();let E=[];for(const R of T){const O=br(kr,`messenger_photos/${d._id}/${k}_${R.name}`);await qo(O,R);const M=await Jr(O);E.push(M)}await y({text:S,images:E},!0),c(!0);const[A,I]=await yW(S,T);await y({text:A,images:[]},I),c(!1)}catch(k){console.error("Error handling send: ",k),c(!1)}finally{c(!1)}},b=(S,T)=>{_({isShow:!0,images:S,index:T})};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:He["background-cover"],style:{background:t.background_color},children:u.jsx(e_,{placeholder:"",isPanelTop:!1,onSend:x})}),u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),u.jsxs("div",{className:He.container,children:[u.jsx(ii,{isShow:C.isShow,images:C.images,index:C.index,onClose:()=>_({isShow:!1})}),u.jsxs("div",{className:He["messages-container"],ref:h,style:{background:t.background_color},children:[v?u.jsxs("div",{className:He.greeting,children:[u.jsxs("div",{className:He["greeting-title"],style:{background:`linear-gradient(90deg,${t.gradient_first_color} 0%,${t.gradient_second_color} 50%)`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:[", ",d.name,"!"]}),u.jsx("div",{className:He["greeting-text"],style:{color:t.text_second_color},children:"   ?"})]}):Object.keys(i).map(S=>u.jsx(Uq,{date:S,messages:i[S],textColor:t.text_first_color,backgroundColor:t.element_first_color,photoClick:b},S)),l&&u.jsx(Vq,{textColor:t.text_first_color},"loading")]})]})]})}const TW="_container_r65pq_1",IW="_week_r65pq_11",NW="_day_r65pq_20",AW="_edit_r65pq_92",PW="_circle_r65pq_121",jW="_button_r65pq_131",Te={container:TW,week:IW,day:NW,"day-date":"_day-date_r65pq_35","lessons-container":"_lessons-container_r65pq_40","lesson-body":"_lesson-body_r65pq_49","lesson-circle":"_lesson-circle_r65pq_60","lesson-name":"_lesson-name_r65pq_69","lesson-time":"_lesson-time_r65pq_74","lesson-room":"_lesson-room_r65pq_79","info-body":"_info-body_r65pq_85",edit:AW,"add-body":"_add-body_r65pq_112",circle:PW,button:jW};function RW({color:t,backgroundColor:e,textColor:n,lessonName:r,lessonTimeStart:s,lessonTimeEnd:o,lessonRoom:i,arrowColor:a}){const{theme:l,elementColors:c,setElementColors:d}=p.useContext(B),[h,f]=p.useState("var(--first-color)"),[m,v]=p.useState("var(--text-first-color)");return u.jsxs("div",{className:Te["lesson-body"],style:{background:e},children:[u.jsx("circle",{className:Te["lesson-circle"],style:{background:t},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.29289 10.7071C9.68342 11.0976 10.3166 11.0976 10.7071 10.7071C11.0976 10.3166 11.0976 9.68342 10.7071 9.29289L9.29289 10.7071ZM1 4.72575e-08C0.447715 -3.74211e-07 -3.74211e-07 0.447715 4.72575e-08 1L-1.63477e-07 10C-1.63477e-07 10.5523 0.447715 11 1 11C1.55228 11 2 10.5523 2 10L2 2L10 2C10.5523 2 11 1.55228 11 1C11 0.447715 10.5523 -1.63477e-07 10 -1.63477e-07L1 4.72575e-08ZM10.7071 9.29289L1.70711 0.292893L0.292893 1.70711L9.29289 10.7071L10.7071 9.29289Z",fill:a})})}),u.jsxs("div",{className:Te["lesson-info"],children:[u.jsx("div",{className:Te["lesson-name"],style:{color:n},children:r}),u.jsx("div",{className:Te["lesson-time"],style:{color:n},children:`${s} - ${o}`})]}),u.jsx("div",{className:Te["lesson-room"],style:{color:n},children:i})]})}const LW="_area_1d870_1",OW="_body_1d870_14",DW="_header_1d870_21",MW="_line_1d870_30",$W="_title_1d870_35",FW="_close_1d870_40",BW="_border_1d870_59",UW="_circle_1d870_71",VW="_text_1d870_80",zW="_progress_1d870_119",Ie={area:LW,body:OW,header:DW,line:MW,title:$W,close:FW,"add-area":"_add-area_1d870_51",border:BW,circle:UW,text:VW,"file-body":"_file-body_1d870_85","file-wrapper":"_file-wrapper_1d870_96","remove-button":"_remove-button_1d870_104","file-info":"_file-info_1d870_109","progress-bar":"_progress-bar_1d870_119",progress:zW,"input-container":"_input-container_1d870_128","input-body":"_input-body_1d870_136","error-container":"_error-container_1d870_154","color-container":"_color-container_1d870_164","circles-container":"_circles-container_1d870_174","color-circle":"_color-circle_1d870_184","active-circle":"_active-circle_1d870_194","button-container":"_button-container_1d870_201","main-button":"_main-button_1d870_209"},au=[{name:"default",colors:["#0040F9","#C3F82B","#FF4365"]},{name:"genery",colors:["linear-gradient(75deg, #2400FF 0%, #00C2FF 80%)","linear-gradient(75deg, #C3F82B 0%, #00FF66 80%)","linear-gradient(75deg, #FF4365 0%, #AD00FF 80%)"]},{name:"kyrgyzstan",colors:["#E3010F","#FEF400"]},{name:"winter_2024",colors:["#CBE0FF","#85AFED"]}];function HW({id:t,isShow:e,close:n}){const{theme:r,elementColors:s,setElementColors:o}=p.useContext(B),[i,a]=p.useState([]),{authUser:l}=he(),[c,d]=p.useState(r.first_color),[h,f]=p.useState(""),[m,v]=p.useState(),[w,C]=p.useState(!1),[_,g]=p.useState(0),[y,x]=p.useState({isShow:!1,text:""}),[b,S]=p.useState({isShow:!1,text:""}),T={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};p.useEffect(()=>{(async()=>{if(l&&l._id){const M=J(K,"users",l._id,"info","preferences"),L=await ce(M);if(L.exists()){const P=L.data();a(D=>[...D,...P.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[l]);const k=i?au.filter(O=>i.includes(O.name)):[],E=async()=>{if(h.length<3){x({isShow:!0,text:"    3 "});return}else x({isShow:!1,text:""});if(m)S({isShow:!1,text:""});else{S({isShow:!0,text:" "});return}C(!0);try{const O=br(kr,`groups_files/${t}/${m.name}`);try{await bM(O),S({isShow:!0,text:"     "}),C(!1);return}catch(L){if(L.code==="storage/object-not-found")console.log("File does not exist, proceeding with upload.");else{console.error("Error checking file existence:",L),S({isShow:!0,text:"    "}),C(!1);return}}const M=CM(O,m);M.on("state_changed",L=>{const P=L.bytesTransferred/L.totalBytes*100;g(P)},L=>{console.error("Error uploading file:",L),S({isShow:!0,text:"   "}),C(!1)},async()=>{const L=await Jr(M.snapshot.ref),P={color:c,link:L,name:h},D=J(K,"groups",t,"info","downloads"),F=await ce(D);let q=[];F.exists()&&(q=F.data().files||[]),q.push(P),await gt(D,{files:q},{merge:!0}),C(!1),f(""),v(null),d(r.first_color),n()})}catch(O){console.error("Error uploading file:",O),S({isShow:!0,text:"   "}),C(!1)}finally{f(""),v(null),d(r.first_color)}},N=O=>{v(O.target.files[0])},A=()=>{document.getElementById("fileInput").click()},I=()=>{v(null)},j=()=>{f(""),v(null),d(r.first_color),n()};function R(O){if(!O)return!1;let M,L,P;if(O.startsWith("#"))if(O.length===4)M=parseInt(O[1]+O[1],16),L=parseInt(O[2]+O[2],16),P=parseInt(O[3]+O[3],16);else if(O.length===7)M=parseInt(O.slice(1,3),16),L=parseInt(O.slice(3,5),16),P=parseInt(O.slice(5,7),16);else return!1;else if(O.startsWith("rgb")){const F=O.substring(O.indexOf("(")+1,O.lastIndexOf(")")).split(",").map(Number);if(F.length===3)M=F[0],L=F[1],P=F[2];else return!1}else{const F=document.createElement("div");F.style.color=O,document.body.appendChild(F);const q=window.getComputedStyle(F).color;if(document.body.removeChild(F),q.startsWith("rgb")){const te=q.substring(q.indexOf("(")+1,q.lastIndexOf(")")).split(",").map(Number);if(te.length===3)M=te[0],L=te[1],P=te[2];else return!1}else return!1}return(M*299+L*587+P*114)/1e3>180}return u.jsx(ot.div,{className:Ie.area,animate:e?"open":"closed",variants:T,transition:{duration:.1},children:u.jsxs(ot.section,{className:Ie.body,style:{background:r.element_first_color},animate:e?"show":"hidden",variants:T,transition:{duration:.5},children:[u.jsxs("header",{className:Ie.header,children:[u.jsx("div",{className:Ie.title,style:{color:r.text_third_color},children:" "}),u.jsx("button",{className:Ie.close,style:{background:r.element_second_color},onClick:j,children:u.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})})]}),u.jsx("line",{className:Ie.line,style:{background:r.element_second_color}}),u.jsxs("div",{className:Ie["add-area"],children:[m?u.jsxs("div",{className:Ie["file-body"],style:{border:`1px solid ${r.element_second_color}`},children:[u.jsxs("div",{className:Ie["file-wrapper"],children:[u.jsx("button",{className:Ie["remove-button"],style:{background:r.element_second_color,color:r.text_first_color,border:"none",borderRadius:"3px",cursor:"pointer"},onClick:I,children:u.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:r.text_first_color,"stroke-linecap":"round"})})}),u.jsxs("div",{className:Ie["file-info"],style:{color:r.text_first_color},children:[u.jsx("div",{children:m.name}),u.jsxs("div",{children:[(m.size/(1024*1024)).toFixed(2)," MB"]})]})]}),w&&u.jsx("div",{className:Ie["progress-bar"],style:{background:r.element_second_color},children:u.jsx("div",{className:Ie.progress,style:{background:r.first_color,width:`${_}%`}})})]}):u.jsxs("div",{className:Ie.border,style:{border:`1px solid ${r.element_second_color}`},onClick:A,children:[u.jsx("div",{className:Ie.circle,style:{background:r.element_second_color},children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9 1.5L9 9M9 16.5L9 9M9 9L16.5 9M9 9L1.5 9",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})})}),u.jsx("div",{className:Ie.text,style:{color:r.text_third_color},children:"    300"})]}),u.jsx("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:N})]}),b.isShow&&u.jsx("div",{className:Ie["error-container"],style:{color:r.text_first_color},children:b.text}),u.jsx("div",{className:Ie["input-container"],children:u.jsx("input",{className:Ie["input-body"],placeholder:"",style:{background:r.element_second_color,color:r.text_first_color,caretColor:r.first_color,"--placeholder-color":r.text_third_color},value:h,onInput:O=>f(O.target.value)})}),y.isShow&&u.jsx("div",{className:Ie["error-container"],style:{color:r.text_first_color},children:y.text}),u.jsxs("div",{className:Ie["color-container"],children:[u.jsx("div",{className:Ie.title,style:{color:r.text_first_color},children:" "}),u.jsx("div",{className:Ie["circles-container"],children:k.map(O=>u.jsx(u.Fragment,{children:O.colors.map((M,L)=>u.jsx("div",{className:Ie["color-circle"],style:{background:M},onClick:()=>d(M),children:c===M&&u.jsx("div",{className:Ie["active-circle"],style:{borderColor:R(M)?"#0A0B10":"#fff"}})},L))}))})]}),u.jsx("div",{className:Ie["button-container"],children:u.jsx("button",{className:Ie["main-button"],style:{background:r.first_color,color:r.text_first_color},onClick:E,children:""})})]})})}function qW({color:t,backgroundColor:e,textColor:n,arrowColor:r,lessonName:s,lessonTimeStart:o,lessonTimeEnd:i,lessonRoom:a,onRemove:l}){const{theme:c,elementColors:d,setElementColors:h}=p.useContext(B),[f,m]=p.useState("var(--first-color)"),[v,w]=p.useState("var(--text-first-color)");return u.jsxs("div",{className:Te["lesson-body"],style:{background:e},children:[u.jsx("circle",{className:Te["lesson-circle"],style:{background:t},onClick:l,children:u.jsx("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M11.8031 1.1967L6.49984 6.5M1.19654 11.8033L6.49984 6.5M6.49984 6.5L11.8031 11.8033M6.49984 6.5L1.19654 1.1967",stroke:r,"stroke-width":"2","stroke-linecap":"round"})})}),u.jsxs("div",{className:Te["lesson-info"],children:[u.jsx("div",{className:Te["lesson-name"],style:{color:n},children:s}),u.jsx("div",{className:Te["lesson-time"],style:{color:n},children:`${o} - ${i}`})]}),u.jsx("div",{className:Te["lesson-room"],style:{color:n},children:a})]})}const is={"notif-area":"_notif-area_gbq6r_1","notif-body":"_notif-body_gbq6r_14","notif-info":"_notif-info_gbq6r_25","notif-title":"_notif-title_gbq6r_34","notif-text":"_notif-text_gbq6r_43","button-container":"_button-container_gbq6r_52","first-button":"_first-button_gbq6r_60","second-button":"_second-button_gbq6r_85"};function ai({title:t,text:e,isShow:n,firstButtonName:r,secondButtonName:s,firstButtonOnClick:o,secondButtonOnClick:i}){const{theme:a,elementColors:l,setElementColors:c}=p.useContext(B),d={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};return u.jsx(ot.div,{className:is["notif-area"],animate:n?"open":"closed",variants:d,transition:{duration:.1},children:u.jsxs(ot.div,{className:is["notif-body"],style:{background:a.element_first_color},animate:n?"show":"hidden",variants:d,transition:{duration:.5},children:[u.jsxs("div",{className:is["notif-info"],children:[u.jsx("div",{className:is["notif-title"],style:{color:a.text_first_color},children:t}),u.jsx("div",{className:is["notif-text"],style:{color:a.text_first_color},children:e})]}),u.jsxs("div",{className:is["button-container"],children:[u.jsx("button",{className:is["first-button"],style:{background:a.element_second_color,color:a.text_first_color},onClick:o,children:r}),u.jsx("button",{className:is["second-button"],style:{background:a.first_color,color:a.text_first_color},onClick:i,children:s})]})]})})}const WW="_area_1s5gc_1",GW="_body_1s5gc_14",KW="_header_1s5gc_21",YW="_line_1s5gc_30",QW="_title_1s5gc_35",ZW="_close_1s5gc_40",Fe={area:WW,body:GW,header:KW,line:YW,title:QW,close:ZW,"input-container":"_input-container_1s5gc_128","input-body":"_input-body_1s5gc_136","time-container":"_time-container_1s5gc_154","input-wrapper":"_input-wrapper_1s5gc_164","error-container":"_error-container_1s5gc_172","color-container":"_color-container_1s5gc_182","circles-container":"_circles-container_1s5gc_192","color-circle":"_color-circle_1s5gc_202","active-circle":"_active-circle_1s5gc_212","button-container":"_button-container_1s5gc_219","main-button":"_main-button_1s5gc_227"};function XW({activeDay:t,id:e,isShow:n,close:r}){const{theme:s,elementColors:o,setElementColors:i}=p.useContext(B),[a,l]=p.useState([]),{authUser:c}=he(),[d,h]=p.useState(s.first_color),[f,m]=p.useState(""),[v,w]=p.useState(),[C,_]=p.useState(""),[g,y]=p.useState(""),[x,b]=p.useState(""),[S,T]=p.useState([]),[k,E]=p.useState({isShow:!1,text:""}),[N,A]=p.useState({isShow:!1,text:""}),I={open:{opacity:1,visibility:"visible"},closed:{opacity:0,visibility:"hidden"},show:{opacity:1,transform:"translate(0, 0)"},hidden:{opacity:0,transform:"translate(0, 100%)"}};p.useEffect(()=>{(async()=>{if(c&&c._id){const P=J(K,"users",c._id,"info","preferences"),D=await ce(P);if(D.exists()){const F=D.data();l(q=>[...q,...F.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[c]);const j=a?au.filter(L=>a.includes(L.name)):[],R=async()=>{if(f.length<3){E({isShow:!0,text:"    3 "});return}else E({isShow:!1,text:""});try{const L=J(K,"groups",e,"info","timetable"),P=await ce(L);if(P.exists()){const F=P.data().timetable||[],q={name:f,timeStart:C,timeEnd:g,room:x,color:d};F[t]?F[t].lessons.push(q):F[t]={day:"",lessons:[q]},await gt(L,{timetable:F},{merge:!0}),T(F),m(""),_(""),y(""),b(""),h(s.first_color),r()}else console.log("No such document!"),T([])}catch(L){console.error("Error adding lesson:",L)}finally{m(""),_(""),y(""),b(""),h(s.first_color)}},O=()=>{m(""),w(null),h(s.first_color),r()};function M(L){if(!L)return!1;let P,D,F;if(L.startsWith("#"))if(L.length===4)P=parseInt(L[1]+L[1],16),D=parseInt(L[2]+L[2],16),F=parseInt(L[3]+L[3],16);else if(L.length===7)P=parseInt(L.slice(1,3),16),D=parseInt(L.slice(3,5),16),F=parseInt(L.slice(5,7),16);else return!1;else if(L.startsWith("rgb")){const te=L.substring(L.indexOf("(")+1,L.lastIndexOf(")")).split(",").map(Number);if(te.length===3)P=te[0],D=te[1],F=te[2];else return!1}else{const te=document.createElement("div");te.style.color=L,document.body.appendChild(te);const ne=window.getComputedStyle(te).color;if(document.body.removeChild(te),ne.startsWith("rgb")){const ue=ne.substring(ne.indexOf("(")+1,ne.lastIndexOf(")")).split(",").map(Number);if(ue.length===3)P=ue[0],D=ue[1],F=ue[2];else return!1}else return!1}return(P*299+D*587+F*114)/1e3>180}return u.jsx(ot.div,{className:Fe.area,animate:n?"open":"closed",variants:I,transition:{duration:.1},children:u.jsxs(ot.section,{className:Fe.body,style:{background:s.element_first_color},animate:n?"show":"hidden",variants:I,transition:{duration:.5},children:[u.jsxs("header",{className:Fe.header,children:[u.jsx("div",{className:Fe.title,style:{color:s.text_third_color},children:" "}),u.jsx("button",{className:Fe.close,style:{background:s.element_second_color},onClick:O,children:u.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.01281 0.987419L5.00023 5M0.987648 9.01258L5.00023 5M5.00023 5L9.01281 9.01258M5.00023 5L0.987648 0.987419",stroke:s.text_first_color,"stroke-linecap":"round"})})})]}),u.jsx("line",{className:Fe.line,style:{background:s.element_second_color}}),u.jsx("div",{className:Fe["input-container"],children:u.jsx("input",{className:Fe["input-body"],placeholder:"",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:f,onInput:L=>m(L.target.value)})}),k.isShow&&u.jsx("div",{className:Fe["error-container"],style:{color:s.text_first_color},children:k.text}),u.jsxs("div",{className:Fe["time-container"],children:[u.jsx("div",{className:Fe.title,style:{color:s.text_first_color},children:" "}),u.jsxs("div",{className:Fe["input-wrapper"],children:[u.jsx("input",{className:Fe["input-body"],placeholder:"",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:C,onInput:L=>_(L.target.value)}),u.jsx("line",{className:Fe.line,style:{background:s.element_second_color}}),u.jsx("input",{className:Fe["input-body"],placeholder:"",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:g,onInput:L=>y(L.target.value)})]})]}),u.jsx("div",{className:Fe["input-container"],children:u.jsx("input",{className:Fe["input-body"],placeholder:"",style:{background:s.element_second_color,color:s.text_first_color,caretColor:s.first_color,"--placeholder-color":s.text_third_color},value:x,onInput:L=>b(L.target.value)})}),u.jsxs("div",{className:Fe["color-container"],children:[u.jsx("div",{className:Fe.title,style:{color:s.text_first_color},children:" "}),u.jsx("div",{className:Fe["circles-container"],children:j.map(L=>u.jsx(u.Fragment,{children:L.colors.map((P,D)=>u.jsx("div",{className:Fe["color-circle"],style:{background:P},onClick:()=>h(P),children:d===P&&u.jsx("div",{className:Fe["active-circle"],style:{borderColor:M(P)?"#0A0B10":"#fff"}})},D))}))})]}),u.jsx("div",{className:Fe["button-container"],children:u.jsx("button",{className:Fe["main-button"],style:{background:s.first_color,color:s.text_first_color},onClick:R,children:""})})]})})}const rC=[{day:"",lessons:[]},{day:"",lessons:[]},{day:"",lessons:[]},{day:"",lessons:[]},{day:"",lessons:[]},{day:"",lessons:[]},{day:"",lessons:[]}];function JW({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(B),[o,i]=p.useState([]),[a,l]=p.useState(0),[c,d]=p.useState(),[h,f]=p.useState(),[m,v]=p.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[w,C]=p.useState(),{authUser:_}=he();ye(),p.useEffect(()=>{(async()=>{try{const k=J(K,"groups",t,"info","info"),E=await ce(k);if(E.exists()){const N=E.data();C(N.owner)}else console.error("Group not found")}catch(k){console.error("Error fetching group data:",k)}finally{}})()},[t]);const g=async()=>{if(t)try{const T=J(K,"groups",t,"info","timetable"),k=await ce(T);if(k.exists()){const E=k.data();i(E.timetable),console.log(E.timetable)}else console.log("No such document! Creating a new one with initial data."),await gt(T,{timetable:rC}),i(rC)}catch(T){console.error("Error fetching group data:",T),i([])}else console.error("ID   "),i([])};p.useEffect(()=>{g()},[t]),p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:()=>e(),isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[B]);const y=(T,k)=>{const E=[...o];E[T].lessons.splice(k,1),i(E);const N=J(K,"groups",t,"info","timetable");gt(N,{timetable:E},{merge:!0})},x=async()=>{await g(),f(!1)};function b(T){if(!T)return!1;let k,E,N;if(T.startsWith("#"))if(T.length===4)k=parseInt(T[1]+T[1],16),E=parseInt(T[2]+T[2],16),N=parseInt(T[3]+T[3],16);else if(T.length===7)k=parseInt(T.slice(1,3),16),E=parseInt(T.slice(3,5),16),N=parseInt(T.slice(5,7),16);else return!1;else if(T.startsWith("rgb")){const I=T.substring(T.indexOf("(")+1,T.lastIndexOf(")")).split(",").map(Number);if(I.length===3)k=I[0],E=I[1],N=I[2];else return!1}else{const I=document.createElement("div");I.style.color=T,document.body.appendChild(I);const j=window.getComputedStyle(I).color;if(document.body.removeChild(I),j.startsWith("rgb")){const R=j.substring(j.indexOf("(")+1,j.lastIndexOf(")")).split(",").map(Number);if(R.length===3)k=R[0],E=R[1],N=R[2];else return!1}else return!1}return(k*299+E*587+N*114)/1e3>180}const S=T=>{const k=new Date,E=k.getDay(),N=E===0?6:E-1,A=T-N,I=new Date(k);return I.setDate(k.getDate()+A),I.toLocaleDateString("ru-RU",{day:"numeric"})};return u.jsxs(u.Fragment,{children:[u.jsx(ai,{title:m.title,text:m.text,isShow:m.isShow,firstButtonName:m.firstButtonName,secondButtonName:m.secondButtonName,firstButtonOnClick:m.firstButtonOnClick,secondButtonOnClick:m.secondButtonOnClick}),u.jsx(XW,{activeDay:a,id:t,isShow:h,close:x}),u.jsx("div",{className:Te.week,children:o&&o.length>0&&o.map((T,k)=>u.jsxs("div",{onClick:()=>l(k),className:`${Te.day} ${a===k?Te.active:""}`,style:{background:a===k?n.first_color:n.element_first_color,color:n.text_first_color},children:[T.day,u.jsx("div",{className:Te["day-date"],children:S(k)})]},k))}),u.jsxs("div",{className:Te["lessons-container"],children:[o&&o.length>0&&o[a]&&u.jsxs(u.Fragment,{children:[o[a].lessons.map((T,k)=>u.jsx(qW,{color:T.color,backgroundColor:n.element_first_color,circleBackgroundColor:n.first_color,arrowColor:b(T.color)?"#0A0B10":"#fff",textColor:n.text_first_color,lessonName:T.name,lessonTimeStart:T.timeStart,lessonTimeEnd:T.timeEnd,lessonRoom:T.room,onRemove:()=>y(a,k)},k)),u.jsx("div",{className:Te["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>f(!0),children:u.jsx("div",{className:Te.circle,style:{background:n.element_first_color},children:u.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})})]}),u.jsx("button",{className:Te.button,style:{background:n.first_color,color:n.text_first_color},onClick:e,children:""})]})]})}function eG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),{id:r}=ns(),[s,o]=p.useState(),[i,a]=p.useState([]),[l,c]=p.useState(),{authUser:d}=he(),h=ye(),[f,m]=p.useState(!1);p.useEffect(()=>{const y=new Date().getDay(),x=y===0?6:y-1;i&&i.length>0&&i[x]?o(x):i&&i.length>0&&o(0)},[i]),p.useEffect(()=>{(async()=>{try{const x=J(K,"groups",r,"info","info"),b=await ce(x);if(b.exists()){const S=b.data();c(S.owner)}else console.error("Group not found")}catch(x){console.error("Error fetching group data:",x)}finally{}})()},[r]);const v=async()=>{if(r)try{const y=J(K,"groups",r,"info","timetable"),x=await ce(y);if(x.exists()){const b=x.data();a(b.timetable),console.log(b.timetable)}else console.log("No such document!"),a([])}catch(y){console.error("Error fetching group data:",y),a([])}else console.error("ID   "),a([])};p.useEffect(()=>{v()},[r]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${r}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[B]);const w=()=>{m(!0)},C=async()=>{m(!1),await v()};function _(y){if(!y)return!1;let x,b,S;if(y.startsWith("#"))if(y.length===4)x=parseInt(y[1]+y[1],16),b=parseInt(y[2]+y[2],16),S=parseInt(y[3]+y[3],16);else if(y.length===7)x=parseInt(y.slice(1,3),16),b=parseInt(y.slice(3,5),16),S=parseInt(y.slice(5,7),16);else return!1;else if(y.startsWith("rgb")){const k=y.substring(y.indexOf("(")+1,y.lastIndexOf(")")).split(",").map(Number);if(k.length===3)x=k[0],b=k[1],S=k[2];else return!1}else{const k=document.createElement("div");k.style.color=y,document.body.appendChild(k);const E=window.getComputedStyle(k).color;if(document.body.removeChild(k),E.startsWith("rgb")){const N=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(N.length===3)x=N[0],b=N[1],S=N[2];else return!1}else return!1}return(x*299+b*587+S*114)/1e3>180}const g=y=>{const x=new Date,b=x.getDay(),S=b===0?6:b-1,T=y-S,k=new Date(x);return k.setDate(x.getDate()+T),k.toLocaleDateString("ru-RU",{day:"numeric"})};return u.jsx("div",{className:Te.container,children:f?u.jsx(JW,{id:r,handleEdit:C}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:Te.week,children:i&&i.length>0&&i.map((y,x)=>u.jsxs("div",{onClick:()=>o(x),className:`${Te.day} ${s===x?Te.active:""}`,style:{background:s===x?t.first_color:t.element_first_color,color:t.text_first_color},children:[y.day,u.jsx("div",{className:Te["day-date"],children:g(x)})]},x))}),u.jsx("div",{className:Te["lessons-container"],children:i&&i.length>0&&i[s]?i[s].lessons.map((y,x)=>u.jsx(RW,{color:y.color,backgroundColor:t.element_first_color,circleBackgroundColor:t.first_color,arrowColor:_(y.color)?"#0A0B10":"#fff",textColor:t.text_first_color,lessonName:y.name,lessonTimeStart:y.timeStart,lessonTimeEnd:y.timeEnd,lessonRoom:y.room},x)):u.jsx("div",{className:Te["info-body"],style:{color:t.text_first_color},children:"   ..."})}),l&&l===d._id&&u.jsx("button",{className:Te.edit,style:{background:t.first_color},onClick:w,children:u.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_first_color})})})]})})}const tG="_container_1ue5g_1",xs={container:tG,"category-name":"_category-name_1ue5g_12","contact-category":"_contact-category_1ue5g_17","category-container":"_category-container_1ue5g_23","item-body":"_item-body_1ue5g_30","item-icon":"_item-icon_1ue5g_43","item-name":"_item-name_1ue5g_51","item-info":"_item-info_1ue5g_56","item-circle":"_item-circle_1ue5g_64"},nG=[{category:"",items:[{name:"",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 21V27.6667C31 28.5507 30.6488 29.3986 30.0237 30.0237C29.3986 30.6488 28.5507 31 27.6667 31H4.33333C3.44928 31 2.60143 30.6488 1.97631 30.0237C1.35119 29.3986 1 28.5507 1 27.6667V21M7.66667 12.6667L16 21M16 21L24.3333 12.6667M16 21V1" stroke="{theme.text_first_color}" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"/downloads",category:"second"},{name:"",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16 31C24.2845 31 31 24.2845 31 16C31 7.7155 24.2845 1 16 1C7.7155 1 1 7.7155 1 16C1 24.2845 7.7155 31 16 31Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linejoin="round"/>
                        <path d="M16.0059 7V16.0075L22.3651 22.3675" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
            `,link:"/timetable",category:"first"},{name:"",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 27C1 24.8783 1.73974 22.8434 3.05648 21.3431C4.37323 19.8429 6.15912 19 8.02128 19H23.9787C25.8409 19 27.6268 19.8429 28.9435 21.3431C30.2603 22.8434 31 24.8783 31 27C31 28.0609 30.6301 29.0783 29.9718 29.8284C29.3134 30.5786 28.4204 31 27.4894 31H4.51064C3.57956 31 2.68661 30.5786 2.02824 29.8284C1.36987 29.0783 1 28.0609 1 27Z" stroke="{theme.text_first_color}" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M16 13C19.3137 13 22 10.3137 22 7C22 3.68629 19.3137 1 16 1C12.6863 1 10 3.68629 10 7C10 10.3137 12.6863 13 16 13Z" stroke="{theme.text_first_color}" stroke-width="2"/>
                    </svg>
            `,link:"/profile",category:"first"}]},{category:"",items:[{name:"",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3.196 28.804C5.395 31 8.929 31 16 31C23.071 31 26.6065 31 28.8025 28.8025C31 26.608 31 23.071 31 16C31 8.929 31 5.3935 28.8025 3.196C26.608 1 23.071 1 16 1C8.929 1 5.3935 1 3.196 3.196C1 5.395 1 8.929 1 16C1 23.071 1 26.608 3.196 28.804Z" stroke="{theme.text_first_color}" stroke-width="1.5"/>
                        <path d="M25 10.75H19M25 19.75H19M25 24.25H19M13 10.75H10M10 10.75H7M10 10.75V7.75M10 10.75V13.75M12.25 19.75L10 22M10 22L7.75 24.25M10 22L7.75 19.75M10 22L12.25 24.25" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>`,link:"/cashback",category:"third"},{name:"Goosling",icon:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M31 31L23.7617 23.7617M23.7617 23.7617C24.9999 22.5236 25.982 21.0537 26.6521 19.436C27.3222 17.8183 27.667 16.0845 27.667 14.3335C27.667 12.5825 27.3222 10.8487 26.6521 9.23101C25.982 7.61331 24.9999 6.14343 23.7617 4.9053C22.5236 3.66717 21.0537 2.68503 19.436 2.01495C17.8183 1.34488 16.0845 1 14.3335 1C12.5825 1 10.8487 1.34488 9.23101 2.01495C7.61331 2.68503 6.14343 3.66717 4.9053 4.9053C2.40478 7.40582 1 10.7973 1 14.3335C1 17.8698 2.40478 21.2612 4.9053 23.7617C7.40582 26.2623 10.7973 27.667 14.3335 27.667C17.8698 27.667 21.2612 26.2623 23.7617 23.7617Z" stroke="{theme.text_first_color}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>`,link:"https://ridgeld.github.io/causegenerator.github.io/rayn_gosling.html",category:"first"}]},{category:"",items:[{name:"Telegram",icon:`<svg width="36" height="30" viewBox="0 0 36 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M32.271 0.205239C32.7136 0.0235109 33.1981 -0.039166 33.674 0.0237315C34.1499 0.086629 34.5998 0.272802 34.9769 0.562873C35.354 0.852943 35.6445 1.23631 35.8182 1.67306C35.9918 2.10982 36.0423 2.584 35.9644 3.04625L31.902 27.083C31.508 29.4016 28.9001 30.7312 26.7202 29.5763C24.8968 28.6101 22.1886 27.1214 19.7526 25.5681C18.5347 24.7906 14.8037 22.3008 15.2622 20.5291C15.6563 19.0142 21.9253 13.3217 25.5076 9.93735C26.9137 8.6077 26.2724 7.84066 24.612 9.06373C20.487 12.1004 13.8687 16.7184 11.6799 18.0183C9.74905 19.1645 8.74242 19.3602 7.53876 19.1645C5.34281 18.8081 3.30627 18.2559 1.64408 17.5833C-0.602028 16.6747 -0.492768 13.6625 1.64229 12.7853L32.271 0.205239Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://t.me/genery_dm",category:"contact"},{name:"Vk",icon:`<svg width="36" height="21" viewBox="0 0 36 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M34.5534 20.9983H30.6117C29.121 20.9983 28.6719 19.8127 25.9997 17.1872C23.6644 14.9772 22.678 14.7024 22.0873 14.7024C21.2703 14.7024 21.0475 14.9229 21.0475 16.027V19.5074C21.0475 20.4488 20.7365 21 18.2319 21C15.8021 20.8397 13.4458 20.1149 11.3571 18.8852C9.26844 17.6556 7.50717 15.9563 6.21837 13.9273C3.15822 10.1874 1.02898 5.79801 0 1.10816C0 0.528092 0.224552 0.00230128 1.35077 0.00230128H5.28907C6.30128 0.00230128 6.66575 0.444983 7.06303 1.46773C8.97518 6.99362 12.2381 11.8004 13.563 11.8004C14.0708 11.8004 14.2919 11.5799 14.2919 10.3366V4.64452C14.1243 2.0478 12.72 1.829 12.72 0.889361C12.7378 0.641461 12.8533 0.410126 13.0419 0.244493C13.2306 0.0788594 13.4776 -0.00802255 13.7305 0.00230128H19.9212C20.7676 0.00230128 21.0475 0.416149 21.0475 1.41006V9.09339C21.0475 9.92278 21.4102 10.1975 21.6658 10.1975C22.1737 10.1975 22.564 9.92278 23.4951 9.01028C25.4907 6.62045 27.1212 3.95789 28.335 1.10646C28.4593 0.764109 28.6942 0.47106 29.0039 0.27201C29.3135 0.0729603 29.681 -0.021163 30.0503 0.00399725H33.9903C35.1718 0.00399725 35.4223 0.584064 35.1718 1.41176C33.7388 4.56382 31.9656 7.55588 29.8827 10.3366C29.4578 10.9727 29.2885 11.3034 29.8827 12.0497C30.2731 12.6298 31.655 13.7627 32.5825 14.8398C33.9333 16.1627 35.0543 17.6926 35.9025 19.3684C36.241 20.4471 35.6779 20.9983 34.5534 20.9983Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://vk.com/generatordm",category:"contact"},{name:"X",icon:`<svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.2786 12.7995L28.1143 0H23.7243L16.2171 9.7755L9.55714 0H0L11.1514 16.365L0.671429 30H5.06286L13.2129 19.395L20.4429 30H30L18.2786 12.7995ZM14.8786 17.2245L12.8143 14.196L4.8 2.4405H8.1L14.5686 11.916L16.63 14.946L25.2271 27.5595H21.9271L14.8786 17.2245Z" fill="{theme.text_first_color}"/>
                    </svg>`,link:"https://x.com/GeneryDM",category:"contact"}]}];function rG({name:t,textColor:e,icon:n,link:r,category:s}){const{theme:o,setThemeById:i,elementColors:a,setElementColors:l}=p.useContext(B),[c,d]=p.useState(o.text_first_color),[h,f]=p.useState(o.first_color),[m,v]=p.useState(o.text_first_color),w=ye(),{authUser:C}=he(),_=x=>{if(x.includes("https:"))window.location.href=x;else{if(x==="/timetable"){w(`/timetable/${C.mainGroup}`);return}if(x==="/downloads"){w(`/download/${C.mainGroup}`);return}w(x)}},g={first:{circle:o.first_color,icon:o.text_first_color},second:{circle:o.second_color,icon:o.text_second_color},third:{circle:o.third_color,icon:o.text_first_color},contact:{circle:o.element_first_color,icon:o.text_first_color}};p.useEffect(()=>{s in g?(f(g[s].circle),v(g[s].icon)):(f(o.first_color),v(o.second_color))},[s]);const y=n.replace(/{theme.text_first_color}/g,o.text_first_color);return u.jsxs("div",{className:xs["item-body"],style:{border:`2px solid ${o.element_first_color}`},onClick:()=>_(r),children:[u.jsxs("div",{className:xs["item-info"],children:[u.jsx("div",{className:xs["item-icon"],children:Go(y)}),u.jsx("div",{className:xs["item-name"],style:{color:e},children:t})]}),u.jsx("div",{className:xs["item-circle"],style:{background:h},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:m})})})]})}function sG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B);return p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[t]),u.jsxs("div",{className:xs.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),nG.map((s,o)=>u.jsxs(u.Fragment,{children:[u.jsx("div",{className:xs[`${s.category===""?"contact-category":"category-name"}`],style:{color:t.text_first_color},children:s.category},o),u.jsx("div",{className:xs["category-container"],children:s.items.map((i,a)=>u.jsx(rG,{name:i.name,textColor:t.text_first_color,category:i.category,icon:i.icon,link:i.link},a))})]}))]})}const oG="_container_t3zkr_2",iG="_hashtags_t3zkr_159",aG="_image_0_t3zkr_437",lG="_image_1_t3zkr_453",cG="_image_2_t3zkr_469",uG="_image_3_t3zkr_485",dG="_image_4_t3zkr_501",hG="_emoji_t3zkr_517",ke={container:oG,"post-body":"_post-body_t3zkr_13","post-body-empty":"_post-body-empty_t3zkr_22","post-info":"_post-info_t3zkr_32","post-author":"_post-author_t3zkr_41","author-photo":"_author-photo_t3zkr_49","author-photo-empty":"_author-photo-empty_t3zkr_65","author-name":"_author-name_t3zkr_75","author-name-empty":"_author-name-empty_t3zkr_81","post-delete":"_post-delete_t3zkr_88","post-more":"_post-more_t3zkr_97","post-date":"_post-date_t3zkr_104","post-data":"_post-data_t3zkr_114","post-photo":"_post-photo_t3zkr_124","post-text":"_post-text_t3zkr_136","post-text-empty":"_post-text-empty_t3zkr_148",hashtags:iG,"post-buttons":"_post-buttons_t3zkr_163","post-actions":"_post-actions_t3zkr_170","action-like":"_action-like_t3zkr_179","action-send":"_action-send_t3zkr_198","input-container":"_input-container_t3zkr_212","message-action":"_message-action_t3zkr_224","add-file":"_add-file_t3zkr_232","input-body":"_input-body_t3zkr_251","image-preview":"_image-preview_t3zkr_261","remove-image":"_remove-image_t3zkr_274","input-component":"_input-component_t3zkr_293","smile-button":"_smile-button_t3zkr_304","input-message":"_input-message_t3zkr_325","send-button":"_send-button_t3zkr_344","images-body":"_images-body_t3zkr_363","images-wrapper_1":"_images-wrapper_1_t3zkr_367","images-wrapper_2":"_images-wrapper_2_t3zkr_381","images-wrapper_3":"_images-wrapper_3_t3zkr_395","images-wrapper_4":"_images-wrapper_4_t3zkr_409","images-wrapper_5":"_images-wrapper_5_t3zkr_423",image_0:aG,image_1:lG,image_2:cG,image_3:uG,image_4:dG,emoji:hG},fG="_body_unqzg_1",tl={body:fG,"item-body":"_item-body_unqzg_17","item-info":"_item-info_unqzg_28","item-icon":"_item-icon_unqzg_35","item-name":"_item-name_unqzg_44"},pG=[{name:"",icon:`
            <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 6V16H3V6H11ZM9.5 0H4.5L3.5 1H0V3H14V1H10.5L9.5 0ZM13 4H1V16C1 17.1 1.9 18 3 18H11C12.1 18 13 17.1 13 16V4Z" fill="{theme.text_first_color}"/>
            </svg>
        `,borderRadius:"15px",id:"delete"}];function mG({isShow:t,onClick:e}){const{theme:n,setElementColors:r}=p.useContext(B),s=i=>{e(i)},o={open:{opacity:1,scale:1},closed:{opacity:0,scale:0}};return u.jsx(ot.div,{className:tl.body,animate:t?"open":"closed",variants:o,transition:{duration:.1},style:{background:n.element_second_color,boxShadow:`0 5px 10px 5px ${n.shadow_color}`},children:pG.map((i,a)=>{const l=i.icon.replace(/{theme.text_first_color}/g,n.text_first_color);return u.jsx("div",{className:tl["item-body"],onClick:()=>s(i.id),onMouseEnter:c=>{c.currentTarget.style.background=n.active_element_color},onMouseLeave:c=>{c.currentTarget.style.background="none"},children:u.jsxs("div",{className:tl["item-info"],children:[u.jsx("div",{className:tl["item-icon"],children:Go(l)}),u.jsx("div",{className:tl["item-name"],style:{color:n.text_first_color},children:i.name})]})},a)})})}function yp({postId:t,userPhoto:e,groupOwnerId:n,userId:r,userName:s,postData:o,postText:i,postPhotos:a,likesArray:l,photoClick:c,postAction:d}){const h=ye(),[f,m]=p.useState(!1),{theme:v,setThemeById:w,elementColors:C,setElementColors:_}=p.useContext(B),{authUser:g}=he();console.log(a);const[y,x]=p.useState(!1);p.useEffect(()=>{g&&l.includes(g._id)&&m(!0)},[g._id]);const b=async()=>{const I=J(K,"posts",t);f?(await qs(I,{likesArray:dD(g._id)}),m(!1)):(await qs(I,{likesArray:uo(g._id)}),m(!0))},S=I=>{d(I,t),x(!1)},T=(I,j)=>{c(I,j)},k=I=>typeof I=="string"?I.replace(/(#[\w--_]+)/g,j=>`<div class="${ke.hashtags}">${j}</div>`).split(/(<div class=".*?">.*?<\/div>)/g).map((j,R)=>j.startsWith("<div")?Go(j):j):I,E=I=>{if(typeof I=="string")return k(I);if(bo.isValidElement(I)){const j=bo.Children.map(I.props.children,E);return bo.cloneElement(I,{children:j})}return I},N=I=>{const j=Go(I);return E(j)},A=()=>{h(n?`/group/${r}`:`/profile/${r}`)};return u.jsxs("div",{className:ke["post-body"],style:{"--hashtag-color":v.icon_color},children:[u.jsx(mG,{isShow:y,onClick:S}),u.jsxs("div",{className:ke["post-info"],children:[u.jsxs("div",{className:ke["post-author"],onClick:()=>A(),children:[u.jsx("div",{className:ke["author-photo"],children:u.jsx("img",{src:e,className:ke["user-avatar"]})}),u.jsx("div",{className:ke["author-name"],style:{color:v.text_first_color},children:s})]}),r===g._id||n===g._id&&u.jsx("div",{className:ke["post-delete"],onClick:()=>x(!y),children:u.jsxs("div",{className:ke["post-more"],children:[u.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:v.text_first_color})}),u.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:v.text_first_color})}),u.jsx("svg",{width:"5",height:"5",viewBox:"0 0 5 5",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:v.text_first_color})})]})})]}),u.jsxs("div",{className:ke["post-data"],children:[a&&u.jsx("div",{className:ke["images-body"],children:u.jsx("div",{className:ke[`images-wrapper_${a.length}`],children:a.map((I,j)=>u.jsx(ot.div,{className:ke[`image_${j}`],whileTap:{scale:1.5},children:u.jsx("img",{src:I,onClick:()=>T(a,j)})}))})}),i&&u.jsx("div",{className:ke["post-text"],style:{color:v.text_first_color},children:N(i)})]}),u.jsxs("div",{className:ke["post-actions"],children:[u.jsx("div",{className:ke["post-date"],style:{color:v.text_first_color},children:o}),u.jsxs("div",{className:ke["post-buttons"],children:[u.jsx("div",{className:ke["like-count"],style:{color:v.text_first_color},children:l.length}),u.jsx("div",{className:ke["action-like"],style:{background:v.third_color},onClick:b,children:u.jsx(ot.svg,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 32",fill:"none",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},whileTap:{scale:3,opacity:.5},children:f?u.jsx(ot.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",fill:v.text_first_color},"heart-filled"):u.jsx(ot.path,{d:"M32.175 17.0824L18.0158 31L3.85639 17.0824C2.92246 16.1805 2.18681 15.0964 1.69577 13.8984C1.20474 12.7004 0.968955 11.4145 1.00327 10.1216C1.03758 8.82878 1.34126 7.55698 1.89515 6.3863C2.44906 5.21564 3.24119 4.17148 4.22167 3.31958C5.20216 2.46766 6.34977 1.82646 7.59221 1.43635C8.83465 1.04624 10.145 0.915671 11.4408 1.05285C12.7367 1.19004 13.9898 1.59201 15.1213 2.23346C16.2529 2.87491 17.2384 3.74194 18.0158 4.77994C18.7964 3.74948 19.783 2.89001 20.9139 2.25538C22.0446 1.62074 23.2952 1.22458 24.5873 1.09168C25.8796 0.958777 27.1854 1.09201 28.4233 1.48303C29.6612 1.87405 30.8045 2.51445 31.7815 3.36414C32.7585 4.21383 33.5483 5.25452 34.1015 6.42108C34.6546 7.58763 34.9592 8.85495 34.9962 10.1437C35.0331 11.4325 34.8015 12.7149 34.3162 13.9108C33.8307 15.1066 33.1018 16.1903 32.175 17.0936",stroke:v.text_first_color,strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"},"heart-outline")})}),u.jsx("div",{className:ke["action-send"],style:{background:v.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:v.text_first_color})})})]})]})]})}const sC={"circle-skeleton":"_circle-skeleton_1fo8g_2","rect-skeleton":"_rect-skeleton_1fo8g_20"};function Cn({width:t,height:e,shape:n}){const{theme:r,setElementColors:s}=p.useContext(B),o=()=>u.jsx("div",{className:sC["circle-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}}),i=()=>u.jsx("div",{className:sC["rect-skeleton"],style:{width:t,height:e,"--first-color":r.loader_first_color,"--second-color":r.loader_second_color}});return u.jsx(u.Fragment,{children:n==="rect"?i():o()})}function Bt(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B);return u.jsxs("div",{className:ke["post-body-empty"],style:{background:t.element_first_color},children:[u.jsxs("div",{className:ke["post-info"],children:[u.jsxs("div",{className:ke["post-author"],children:[u.jsx("div",{className:ke["author-photo-empty"],children:u.jsx(Cn,{width:"100%",height:"100%",shape:"circle"})}),u.jsx("div",{className:ke["author-name"],style:{color:t.text_first_color},children:u.jsx(Cn,{width:"50%",height:"15px",shape:"rect"})})]}),u.jsx("div",{className:ke["post-date"],style:{color:t.text_first_color},children:u.jsx(Cn,{width:"30%",height:"15px",shape:"rect"})})]}),u.jsx("div",{className:ke["post-data"],children:u.jsxs("div",{className:ke["post-text-empty"],children:[u.jsx(Cn,{width:"100%",height:"15px",shape:"rect"}),u.jsx(Cn,{width:"90%",height:"15px",shape:"rect"})]})})]})}function gG(){const[t,e]=p.useState([]),n=ye();p.useRef(null);const{theme:r,elementColors:s,setElementColors:o}=p.useContext(B),{authUser:i}=he(),[a,l]=p.useState(!0),[c,d]=p.useState({isShow:!1,images:[],index:null}),[h,f]=p.useState({isShow:!1,text:""}),[m,v]=p.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""});p.useEffect(()=>{if(h.isShow){const b=setTimeout(()=>{f({isShow:!1})},1e3);return()=>clearTimeout(b)}},[h]),p.useEffect(()=>{o({iconColor:r.icon_color,titleColor:r.text_first_color,showArrow:!1,arrowColor:r.text_first_color,arrowLink:()=>n("/menu"),isHeaderBackground:!0,headerBackground:r.background_color,isHeader:!0,isFooter:!0,footerBackground:r.background_color,activeElementIndex:3}),document.body.style.background=r.background_color},[B]),p.useEffect(()=>{const b=$a(Xc(Cr(K,"posts"),Jc("timestamp","desc")),S=>{const T=[];S.forEach(k=>{const E=k.data(),N=new Date(E.timestamp),A=E.likesArray,I=N.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});T.push({id:k.id,userId:E.userId,groupOwnerId:E.groupOwnerId,userName:E.userName,userPhoto:E.userPhoto,postText:E.text,postPhoto:E.photos,postData:I,likesArray:A})}),e(T),l(!1)});return()=>{b()}},[]);const w=async(b,S)=>{try{const T=new Date().toISOString();let k=[];for(const E of S){const N=br(kr,`post_photos/${i._id}/${T}_${E.name}`);await qo(N,E);const A=await Jr(N);k.push(A)}await C(b,k)}catch(T){console.error("Error handling send: ",T)}},C=async(b,S)=>{try{const T=new Date().toISOString();await Gf(Cr(K,"posts"),{photos:S,text:b,timestamp:T,userId:i._id,userName:i.name,userPhoto:i.avatar,likesArray:[]}),console.log("Message saved successfully.")}catch(T){console.error("Error adding document: ",T)}},_=(b,S)=>{d({isShow:!0,images:b,index:S})},g=()=>{v({isShow:!1})},y=async b=>{v({isShow:!1});try{await q9(J(K,"posts",b))}catch(S){console.error("Error deleting post: ",S)}finally{f({isShow:!0,text:" "})}},x=(b,S)=>{switch(b){case"delete":return v({isShow:!0,title:" ",text:"    ?",firstButtonName:"",secondButtonName:"",firstButtonOnClick:g,secondButtonOnClick:()=>y(S)});default:return v({isShow:!0,title:"",text:"",firstButtonName:"",secondButtonName:"",firstButtonOnClick:null,secondButtonOnClick:null})}};return u.jsxs("div",{className:ke.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${r.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),u.jsx(ii,{isShow:c.isShow,images:c.images,index:c.index,onClose:()=>d({isShow:!1})}),u.jsx(e_,{placeholder:"   ?",isPanelTop:!0,onSend:w}),u.jsx(ai,{title:m.title,text:m.text,isShow:m.isShow,firstButtonName:m.firstButtonName,secondButtonName:m.secondButtonName,firstButtonOnClick:m.firstButtonOnClick,secondButtonOnClick:m.secondButtonOnClick}),u.jsx(Yt,{isShow:h.isShow,text:h.text}),a?u.jsxs(u.Fragment,{children:[u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{})]}):t.map(b=>u.jsx(yp,{postId:b.id,userId:b.userId,groupOwnerId:b.groupOwnerId,userName:b.userName,userPhoto:b.userPhoto,postData:b.postData,postText:b.postText,postPhotos:b.postPhoto,likesArray:b.likesArray,photoClick:_,postAction:x},b.id))]})}const yG="_container_osqo7_1",Xe={container:yG,"category-container":"_category-container_osqo7_12","category-name":"_category-name_osqo7_21","item-body":"_item-body_osqo7_30","item-info":"_item-info_osqo7_39","item-icon":"_item-icon_osqo7_47","item-name":"_item-name_osqo7_55","check-box":"_check-box_osqo7_60","check-box-circle":"_check-box-circle_osqo7_81","themes-body":"_themes-body_osqo7_89","themes-name":"_themes-name_osqo7_100","themes-container":"_themes-container_osqo7_109","theme-body":"_theme-body_osqo7_117","theme-active":"_theme-active_osqo7_134","block-body":"_block-body_osqo7_150","block-title":"_block-title_osqo7_161","block-text":"_block-text_osqo7_166","block-arrow":"_block-arrow_osqo7_171"},vG=[{category:"",items:[{name:"",icon:`
                <svg width="31" height="31" viewBox="0 0 31 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4.86667 5.6418C2.46706 8.22887 1 11.6931 1 15.5C1 23.5081 7.49187 30 15.5 30C19.3069 30 22.7711 28.5329 25.3582 26.1333M4.86667 5.6418C7.51484 2.78674 11.2988 1 15.5 1C23.5081 1 30 7.49187 30 15.5C30 19.7012 28.2133 23.4852 25.3582 26.1333M4.86667 5.6418L25.3582 26.1333" stroke="{theme.text_first_color}" stroke-width="2"/>
                </svg>                                                                
            `}]}];function _G({itemName:t,itemIcon:e,authUserCensor:n,onCensorChange:r}){console.log(` : ${n}`);const{theme:s,setThemeById:o,elementColors:i,setElementColors:a}=p.useContext(B),l=()=>{if(t===""){const d=!n;console.log(`   : ${d}`),r(d)}},c=e.replace(/{theme.text_first_color}/g,s.text_first_color);return u.jsxs("div",{className:Xe["item-body"],style:{background:s.element_first_color},children:[u.jsxs("div",{className:Xe["item-info"],children:[u.jsx("div",{className:Xe["item-icon"],children:Go(c)}),u.jsx("div",{className:Xe["item-name"],style:{color:s.text_first_color},children:t})]}),u.jsx("div",{className:Xe["check-box"],style:{background:n&&t===""?s.first_color:s.element_second_color},onClick:l,children:u.jsx("div",{className:Xe["check-box-circle"],style:{background:s.text_first_color,marginLeft:n&&t===""?"29px":"0"}})})]})}function wG({name:t,img:e,activeTheme:n,onThemeChange:r}){const{theme:s,elementColors:o,setElementColors:i}=p.useContext(B),a=()=>{r(t)};return u.jsxs("div",{className:Xe["theme-body"],style:{border:n===t?`2px solid ${s.gradient_first_color}`:"none"},onClick:a,children:[u.jsx("img",{src:e,alt:t}),n===t&&u.jsx("div",{className:Xe["theme-active"],style:{background:s.first_color},children:u.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.14645 4.64645C0.951184 4.84171 0.951184 5.15829 1.14645 5.35355C1.34171 5.54882 1.65829 5.54882 1.85355 5.35355L1.14645 4.64645ZM6 1C6 0.723858 5.77614 0.5 5.5 0.5L1 0.5C0.723858 0.5 0.5 0.723858 0.5 1C0.5 1.27614 0.723858 1.5 1 1.5L5 1.5L5 5.5C5 5.77614 5.22386 6 5.5 6C5.77614 6 6 5.77614 6 5.5L6 1ZM1.85355 5.35355L5.85355 1.35355L5.14645 0.646447L1.14645 4.64645L1.85355 5.35355Z",fill:s.text_first_color})})})]})}function xG(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B),s=localStorage.getItem("censor")==="true",[o,i]=p.useState(s);console.log(`   ${s}`);const{authUser:a}=he(),[l,c]=p.useState([]),[d,h]=p.useState({isShow:!1,text:""}),f=ye();p.useEffect(()=>{if(d.isShow){const C=setTimeout(()=>{h({isShow:!1})},1e3);return()=>clearTimeout(C)}},[d]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>f("/list-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{(async()=>{if(a&&a._id){const _=J(K,"users",a._id,"info","preferences"),g=await ce(_);if(g.exists()){const y=g.data();c(y.boughtThemes)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const m=l?l.filter(C=>yx[C]).map(C=>yx[C]):[],v=async C=>{e(C),h({isShow:!0,text:` : ${C}`})},w=C=>{i(C),localStorage.setItem("censor",C)};return u.jsxs("div",{className:Xe.container,children:[u.jsx(Yt,{text:d.text,isShow:d.isShow}),vG.map(C=>u.jsxs("div",{className:Xe["category-container"],style:{color:t.text_first_color},children:[u.jsx("div",{className:Xe["category-name"],children:C.category}),C.items.map(_=>u.jsx(_G,{itemIcon:_.icon,itemName:_.name,authUserCensor:o,onCensorChange:w}))]})),u.jsxs("div",{className:Xe["category-container"],style:{color:t.text_first_color},children:[u.jsx("div",{className:Xe["category-name"],style:{color:t.text_first_color},children:""}),u.jsxs("div",{className:Xe["themes-body"],style:{background:t.element_first_color},children:[u.jsx("div",{className:Xe["themes-name"],style:{color:t.text_first_color},children:" :"}),u.jsx("div",{className:Xe["themes-container"],children:m.map(C=>u.jsx(wG,{img:C.img,name:C.name,activeTheme:t.name,onThemeChange:v}))})]})]}),u.jsxs("div",{className:Xe["category-container"],children:[u.jsx("div",{className:Xe["category-name"],style:{color:t.text_first_color},children:""}),u.jsxs("div",{className:Xe["block-body"],style:{background:t.element_first_color},children:[u.jsx("div",{className:Xe["block-title"],style:{color:t.text_first_color},children:"Rigeld INC"}),u.jsx("div",{className:Xe["block-text"],style:{color:t.text_first_color},children:"Genery 5.2.6"}),u.jsx("div",{className:Xe["block-arrow"],children:u.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:t.text_first_color})})})]})]})]})}const CG="_container_1wjrk_1",nl={container:CG,"block-body":"_block-body_1wjrk_11","block-name":"_block-name_1wjrk_20","block-text":"_block-text_1wjrk_25","block-price":"_block-price_1wjrk_30"},bG="_button_rb0y4_1",kG="_arrow_rb0y4_18",oC={button:bG,arrow:kG};function SG({name:t,backgroundColor:e,textColor:n,onButtonClick:r}){return u.jsxs("button",{className:oC.button,style:{background:e,color:n},onClick:r,children:[t,u.jsx("div",{className:oC.arrow,children:u.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.29289 9.53553C0.902369 9.92606 0.902369 10.5592 1.29289 10.9497C1.68342 11.3403 2.31658 11.3403 2.70711 10.9497L1.29289 9.53553ZM11.4853 1.75736C11.4853 1.20508 11.0376 0.75736 10.4853 0.75736L1.48528 0.75736C0.932997 0.75736 0.485281 1.20508 0.485281 1.75736C0.485281 2.30965 0.932997 2.75736 1.48528 2.75736L9.48528 2.75736L9.48528 10.7574C9.48528 11.3096 9.933 11.7574 10.4853 11.7574C11.0376 11.7574 11.4853 11.3096 11.4853 10.7574L11.4853 1.75736ZM2.70711 10.9497L11.1924 2.46447L9.77817 1.05025L1.29289 9.53553L2.70711 10.9497Z",fill:n})})})]})}function EG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),[r,s]=p.useState("0 c"),[o,i]=p.useState(""),[a,l]=p.useState(""),[c,d]=p.useState(!1),h=ye(),f=()=>{d(!0),o!==" "&&a!==" "&&s(o*a+" ")};return p.useEffect(()=>{if(c){const m=setTimeout(()=>{d(!1)},1e3);return()=>clearTimeout(m)}},[c]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>h("/list-menu"),arrowColor:t.background_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]),u.jsxs("div",{className:nl.container,children:[u.jsxs("div",{className:nl["block-body"],style:{background:t.element_first_color},children:[u.jsx("div",{className:nl["block-name"],style:{color:t.text_first_color},children:"1X "}),u.jsx("div",{className:nl["block-text"],style:{color:t.text_first_color},children:"  :"}),u.jsx("div",{className:nl["block-price"],style:{color:t.text_first_color},children:r})]}),u.jsx(Ao,{type:"number",placeholder:"  ",onInputChange:m=>i(m.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},1),u.jsx(Ao,{type:"number",placeholder:"  ",onInputChange:m=>l(m.target.value),backgroundColor:t.element_first_color,textColor:t.text_first_color,placeholderColor:t.text_second_color},2),u.jsx(SG,{name:"",backgroundColor:t.first_color,textColor:t.text_first_color,onButtonClick:f})]})}const TG="_container_1uk81_1",IG="_hidden_1uk81_123",Je={container:TG,"category-container":"_category-container_1uk81_12","balance-container":"_balance-container_1uk81_19","image-cover":"_image-cover_1uk81_26","no-select":"_no-select_1uk81_37","back-image":"_back-image_1uk81_47","text-image":"_text-image_1uk81_51","items-container":"_items-container_1uk81_56","card-body":"_card-body_1uk81_64","card-photo-body":"_card-photo-body_1uk81_77","card-photo":"_card-photo_1uk81_77","card-info":"_card-info_1uk81_90","card-name":"_card-name_1uk81_98","card-label":"_card-label_1uk81_103","card-action":"_card-action_1uk81_113",hidden:IG,"card-price":"_card-price_1uk81_128","card-buy":"_card-buy_1uk81_137","buy-button":"_buy-button_1uk81_153","button-price":"_button-price_1uk81_167"},NG=[{category:"winter_2024",img:"shop/winter_2024/cover.png",textImg:"shop/winter_2024/text-img.png",items:[{id:"winter_2024",category:"theme",img:"shop/winter_2024/img-1.png",name:" ",label:" 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"colors",img:"shop/winter_2024/img-2.png",name:" ",label:" 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"emojies",img:"shop/winter_2024/img-3.png",name:" ",label:" 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0},{id:"winter_2024",category:"all",img:"shop/winter_2024/img-4.png",name:" ",label:" 2024",labelTextColor:"#fff",labelColor:"#85AFED",isFree:!0,price:0}]},{category:"kyrgyzstan",img:"shop/kyrgyzstan/cover.png",textImg:"shop/kyrgyzstan/text-img.png",items:[{id:"kyrgyzstan",category:"theme",img:"shop/kyrgyzstan/img-2.png",name:"",label:" ",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"emojies",img:"shop/kyrgyzstan/img-1.png",name:"",label:" ",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"colors",img:"shop/kyrgyzstan/img-3.png",name:" ",label:" ",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0},{id:"kyrgyzstan",category:"all",img:"shop/kyrgyzstan/img-4.png",name:' ""',label:" ",labelTextColor:"#fff",labelColor:"#E3010F",isFree:!0,price:0}]},{category:"genery",img:"shop/genery/cover.png",textImg:"shop/genery/text-img.png",items:[{id:"genery",category:"theme",img:"shop/genery/img-1.png",name:"",label:"1  ",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:1e3},{id:"genery",img:"shop/genery/img-2.png",category:"colors",name:" ",label:"1  ",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:250},{id:"genery",img:"shop/genery/img-3.png",category:"emojies",name:" ",label:"1  ",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:500},{id:"genery",img:"shop/genery/img-4.png",category:"all",name:" Genery",label:"1  ",labelTextColor:"#fff",labelColor:"linear-gradient(90deg, #2400FF 1%, #00C2FF 100%)",isFree:!0,price:0}]}];function AG({img:t,textImg:e}){return u.jsxs("div",{className:Je["image-cover"],children:[u.jsx("div",{className:Je["no-select"]}),u.jsx("img",{src:t,className:Je["back-image"]}),u.jsx("img",{src:e,className:Je["text-image"]})]})}const iC={"coin-outer":"_coin-outer_1t7ga_1","coin-inner":"_coin-inner_1t7ga_10"};function Mh({color:t}){return u.jsx("div",{className:iC["coin-outer"],style:{background:t},children:u.jsx("div",{className:iC["coin-inner"]})})}function PG({category:t,id:e,photo:n,name:r,label:s,labelTextColor:o,labelColor:i,isBought:a,isFree:l,price:c,onBuyItem:d}){const{theme:h,elementColors:f,setElementColors:m}=p.useContext(B);return u.jsxs("div",{className:Je["card-body"],style:{background:h.element_first_color},children:[u.jsxs("div",{className:Je["card-photo-body"],style:{background:h.background_color},children:[u.jsx("div",{className:Je["no-select"]}),u.jsx("img",{src:n,className:Je["card-photo"]})]}),u.jsxs("div",{className:Je["card-info"],children:[u.jsx("div",{className:Je["card-name"],style:{color:h.text_first_color},children:r}),u.jsx("div",{className:Je["card-label"],style:{background:i,color:o},children:s})]}),u.jsxs("div",{className:Je["card-action"],children:[u.jsx("div",{className:Je["card-price"],style:{color:h.text_first_color},children:a?"":l?"":u.jsxs(u.Fragment,{children:[c,u.jsx(Mh,{color:h.first_color})]})}),u.jsx("div",{className:Je["card-arrow"],children:u.jsx("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M2.20711 10.7071C1.81658 11.0976 1.18342 11.0976 0.792893 10.7071C0.402369 10.3166 0.402369 9.68342 0.792893 9.29289L2.20711 10.7071ZM10.5 4.72575e-08C11.0523 -3.74211e-07 11.5 0.447715 11.5 1L11.5 10C11.5 10.5523 11.0523 11 10.5 11C9.94772 11 9.5 10.5523 9.5 10L9.5 2L1.5 2C0.947715 2 0.5 1.55228 0.5 1C0.5 0.447715 0.947715 -1.63477e-07 1.5 -1.63477e-07L10.5 4.72575e-08ZM0.792893 9.29289L9.79289 0.292893L11.2071 1.70711L2.20711 10.7071L0.792893 9.29289Z",fill:h.text_first_color})})})]}),!a&&u.jsx("div",{className:`${Je["card-buy"]} ${Je.hidden}`,children:u.jsx("button",{className:Je["buy-button"],style:{background:h.first_color,color:h.text_first_color},onClick:()=>d(t,e,c),children:l?u.jsx(u.Fragment,{children:""}):u.jsxs(u.Fragment,{children:[" ",u.jsxs("div",{className:Je["button-price"],children:[c,u.jsx(Mh,{color:h.text_first_color})]})]})})})]})}const Gu={"score-container":"_score-container_71jb4_1","name-body":"_name-body_71jb4_9","count-body":"_count-body_71jb4_22","balance-body":"_balance-body_71jb4_35"};function lu({name:t,count:e,isBalance:n}){const{theme:r,elementColors:s,setElementColors:o}=p.useContext(B);return u.jsxs("div",{className:Gu["score-container"],children:[u.jsx("div",{className:Gu["name-body"],style:{background:r.element_first_color,color:r.text_first_color},children:t}),u.jsx("div",{className:Gu["count-body"],style:{background:r.element_first_color,color:r.text_first_color},children:n?u.jsxs("div",{className:Gu["balance-body"],style:{color:r.text_first_color},children:[e,u.jsx(Mh,{color:r.first_color})]}):e})]})}function jG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),[r,s]=p.useState({isShow:!1,text:""}),[o,i]=p.useState([]),[a,l]=p.useState([]),[c,d]=p.useState([]),[h,f]=p.useState(""),[m,v]=p.useState(0),{authUser:w}=he(),C=ye();p.useEffect(()=>{if(r.isShow){const x=setTimeout(()=>{s({isShow:!1})},1e3);return()=>clearTimeout(x)}},[r]),p.useEffect(()=>{(async()=>{if(w&&w._id){const b=J(K,"users",w._id,"info","preferences"),S=await ce(b);if(S.exists()){const T=S.data();v(T.balance),i(T.boughtThemes),l(T.boughtColors),d(T.boughtEmojies)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[m,o,a,c]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>C("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[B]);const _=async x=>{if(w&&w._id)try{const b=J(K,"users",w._id,"info","preferences");await qs(b,{balance:x}),console.log(`Balance updated to ${x}`)}catch(b){console.error("Error updating balance:",b)}else console.error("authUser or authUser._id is undefined")},g=async(x,b,S)=>{const T=J(K,"users",w._id,"info","preferences");if(m<S){s({isShow:!0,text:"     "});return}v(m-S),_(m-S);let k={},E="";switch(x){case"colors":k={boughtColors:uo(b)},E=`  : ${b}`;break;case"emojies":k={boughtEmojies:uo(b)},E=`   : ${b}`;break;case"theme":k={boughtThemes:uo(b)},E=`  : ${b}`;break;case"all":k={boughtColors:uo(b),boughtEmojies:uo(b),boughtThemes:uo(b)},E=`  : ${b}`;break;default:return}await qs(T,k),s({isShow:!0,text:E})},y=(x,b)=>{switch(x){case"colors":return a.includes(b);case"theme":return o.includes(b);case"emojies":return c.includes(b);case"all":return a.includes(b)&&o.includes(b)&&c.includes(b);default:return!1}};return u.jsxs("div",{className:Je.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),u.jsx(Yt,{isShow:r.isShow,text:r.text}),u.jsx("div",{className:Je["balance-container"],style:{background:t.background_color},children:u.jsx(lu,{name:"",isBalance:!0,count:m})}),NG.map(x=>u.jsxs("div",{className:Je["category-container"],children:[u.jsx(AG,{img:x.img,textImg:x.textImg}),u.jsx("div",{className:Je["items-container"],children:x.items.map((b,S)=>u.jsx(PG,{category:b.category,id:b.id,photo:b.img,name:b.name,label:b.label,labelTextColor:b.labelTextColor,labelColor:b.labelColor,isBought:y(b.category,b.id),isFree:b.isFree,price:b.price,onBuyItem:g},S))})]}))]})}const RG="_container_1lamj_1",LG="_area_1lamj_9",OG="_table_1lamj_19",DG="_item_1lamj_28",MG="_circle_1lamj_40",$G="_spin_1lamj_51",pi={container:RG,area:LG,table:OG,item:DG,circle:MG,spin:$G},FG=t=>[{grid:"row",size:"1/4",name:0,isZero:!0,isCircle:!1,background:t.casino_first_color,border:"20px 0 0 20px",circleColor:""},{grid:"column",size:"",name:3,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:6,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:9,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:12,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:15,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:18,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:21,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:24,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:27,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:30,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:33,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:36,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"1st",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 20px 0 0",circleColor:t.casino_third_color},{grid:"column",size:"",name:2,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:5,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:8,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:11,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:14,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:17,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:20,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:23,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:26,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:29,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:32,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:35,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:"2nd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:1,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:4,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:7,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:10,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:13,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:16,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:19,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:22,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:25,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:28,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:31,isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"",name:34,isZero:!1,isCircle:!0,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"",name:"3rd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 20px",circleColor:t.casino_third_color},{grid:"column",size:"2/8",name:"1-18",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"8/14",name:"19-36",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:""},{grid:"column",size:"2/5",name:"even",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0 0 0 20px",circleColor:t.casino_second_color},{grid:"column",size:"5/8",name:"red",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_second_color},{grid:"column",size:"8/11",name:"black",isZero:!1,isCircle:!0,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color},{grid:"column",size:"11/14",name:"odd",isZero:!1,isCircle:!1,background:t.casino_first_color,border:"0",circleColor:t.casino_third_color}],BG="_overlay_usz7u_1",UG="_animated_usz7u_14",VG="_wheel_usz7u_18",zG="_show_usz7u_24",HG="_spin_usz7u_47",qG="_arrow_usz7u_66",mi={overlay:BG,animated:UG,wheel:VG,show:zG,spin:HG,arrow:qG};function WG(t,e){const n=r=>{if(r>=t.length){e();return}const s=document.createElement("script");s.src=t[r],s.async=!0,s.onload=()=>n(r+1),document.body.appendChild(s)};n(0)}function GG({isShow:t,onStop:e}){const[n,r]=p.useState(null),s=p.useRef(null);getComputedStyle(document.documentElement);const{theme:o,elementColors:i,setElementColors:a}=p.useContext(B),[l,c]=p.useState(125),[d,h]=p.useState(100),[f,m]=p.useState("center"),v=()=>{window.innerWidth<=700?(c(125),h(100),m("outer")):(c(155),h(100),m("center"))};p.useEffect(()=>(v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)}),[]),p.useEffect(()=>{const C=["https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js","script/Winwheel.min.js"],_={green:o.casino_first_color,red:o.casino_second_color,black:o.casino_third_color};WG(C,()=>{const g=new Winwheel({canvasId:s.current.id,numSegments:37,outerRadius:l,innerRadius:d,textFontSize:12,textOrientation:"curved",textAlignment:f,segments:[{fillStyle:_.green,text:"0",textFillStyle:o.text_first_color},{fillStyle:_.red,text:"32",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"15",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"19",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"4",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"21",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"2",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"25",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"17",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"34",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"6",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"27",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"13",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"36",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"11",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"30",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"8",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"23",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"10",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"5",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"24",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"16",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"33",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"1",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"20",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"14",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"31",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"9",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"22",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"18",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"29",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"7",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"28",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"12",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"35",textFillStyle:o.text_third_color},{fillStyle:_.red,text:"3",textFillStyle:o.text_first_color},{fillStyle:_.black,text:"26",textFillStyle:o.text_third_color}],animation:{type:"spinToStop",duration:5,spins:8,callbackFinished:e}});r(g)})},[t]);const w=()=>{n&&n.startAnimation()};return u.jsx("div",{className:`${mi.overlay} ${mi.animated} ${t?mi.show:""}`,children:u.jsxs("div",{className:mi.wheel,style:{background:o.casino_first_color,border:`10px solid ${o.element_second_color}`},children:[u.jsx("canvas",{ref:s,id:"canvas",width:"310",height:"310",children:"Canvas not supported, use another browser."}),u.jsx("div",{className:mi.arrow,children:u.jsx("svg",{width:"40",height:"18",viewBox:"0 0 40 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M40 0L20 18L0 0H40Z",fill:o.element_second_color})})}),u.jsx("button",{className:mi.spin,style:{background:o.element_first_color,border:`10px solid ${o.element_second_color}`,color:o.text_first_color},onClick:w,children:""})]})})}const aC={"chip-body":"_chip-body_n5j63_1","chip-inner":"_chip-inner_n5j63_12"};function KG({price:t}){return u.jsx("div",{className:aC["chip-body"],children:u.jsx("div",{className:aC["chip-inner"],children:t})})}const YG={0:["green"],1:["red","1-18","odd"],2:["black","1-18","even"],3:["red","1-18","odd"],4:["black","1-18","even"],5:["red","1-18","odd"],6:["black","1-18","even"],7:["red","1-18","odd"],8:["black","1-18","even"],9:["red","1-18","odd"],10:["black","1-18","even"],11:["black","1-18","odd"],12:["red","1-18","even"],13:["black","1-18","odd"],14:["red","1-18","even"],15:["black","1-18","odd"],16:["red","1-18","even"],17:["black","1-18","odd"],18:["red","1-18","even"],19:["red","19-36","odd"],20:["black","19-36","even"],21:["red","19-36","odd"],22:["black","19-36","even"],23:["red","19-36","odd"],24:["black","19-36","even"],25:["red","19-36","odd"],26:["black","19-36","even"],27:["red","19-36","odd"],28:["black","19-36","even"],29:["black","19-36","odd"],30:["red","19-36","even"],31:["black","19-36","odd"],32:["red","19-36","even"],33:["black","19-36","odd"],34:["red","19-36","even"],35:["black","19-36","odd"],36:["red","19-36","even"]};function QG(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),r=FG(t),s=ye(),[o,i]=p.useState(!1),{authUser:a}=he(),[l,c]=p.useState(0),[d,h]=p.useState([]),[f,m]=p.useState(0),[v,w]=p.useState(!1),[C,_]=p.useState(null),[g,y]=p.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[x,b]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(x.isShow){const j=setTimeout(()=>{b({isShow:!1})},1e3);return()=>clearTimeout(j)}},[x]);const S=()=>{y({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),i(!1),h([]),m(0),w(!1)},T=()=>{s("/menu")},k=()=>{i(!0)};p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{(async()=>{if(a&&a._id){const R=J(K,"users",a._id,"info","preferences"),O=await ce(R);if(O.exists()){const M=O.data();console.log(M),c(M.balance<100?1e3:M.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[a]);const E=async j=>{if(a&&a._id)try{const R=J(K,"users",a._id,"info","preferences");await qs(R,{balance:j}),console.log(`Balance updated to ${j}`)}catch(R){console.error("Error updating balance:",R)}else console.error("authUser or authUser._id is undefined")},N=j=>{if(l<100){b({isShow:!0,text:"     "});return}h(R=>{if(R.some(M=>M.item===j)){const M=R.filter(L=>L.item!==j);return c(l+100),M}else{const M=[...R,{item:j,bet:100}];return c(l-100),M}})},A=j=>{w(!0),_(Number(j.text)),console.log(Number(j.text))};p.useEffect(()=>{console.log(d),v&&I(C)},[d,v]);const I=j=>{const R=YG[j];let O=0,M=0;d.forEach(P=>{(P.item===j||R.includes(P.item))&&(M+=P.bet)});const L=d.some(P=>P.item===j);if(console.log("Base bet:",M),console.log("Has number bet:",L),L)O=M*4;else{const P=d.filter(D=>R.includes(D.item)).length;O=M*P}m(O),c(l+O),E(l+O),y({isShow:!0,title:" ",text:`  : ${O}`,firstButtonName:"",secondButtonName:"",firstButtonOnClick:T,secondButtonOnClick:S})};return u.jsxs("div",{className:pi.container,children:[u.jsx(ai,{title:g.title,text:g.text,isShow:g.isShow,firstButtonName:g.firstButtonName,secondButtonName:g.secondButtonName,firstButtonOnClick:g.firstButtonOnClick,secondButtonOnClick:g.secondButtonOnClick}),u.jsx(Yt,{isShow:x.isShow,text:x.text}),u.jsx(GG,{isShow:o,onStop:A}),u.jsxs("div",{className:pi.area,children:[u.jsx(lu,{name:"",isBalance:!0,count:l}),u.jsxs("div",{className:pi.table,children:[r.map(j=>u.jsxs("div",{className:pi.item,style:{background:j.isZero?j.background:"transparent",gridColumn:j.grid==="column"?j.size:"",gridRow:j.grid==="row"?j.size:"",border:`1px solid ${t.element_first_color}`,borderRadius:j.border,color:t.text_first_color},onClick:()=>N(j.name),children:[d.some(R=>R.item===j.name)&&u.jsx(KG,{price:100}),j.isCircle?u.jsx("div",{className:pi.circle,style:{background:j.circleColor,color:t.text_first_color},children:j.name}):j.name]},j.name)),u.jsx("button",{className:pi.spin,style:{background:t.element_first_color,color:t.text_first_color},onClick:k,children:""})]})]})]})}const ZG="_container_1vtou_1",XG="_title_1vtou_36",JG="_text_1vtou_27",Er={container:ZG,"update-body":"_update-body_1vtou_12","update-data":"_update-data_1vtou_22","text-container":"_text-container_1vtou_27",title:XG,text:JG},eK=[{data:"19.01.2025",corrections:"     "},{data:"16.01.2025",update:"    .     .   .     .      .",corrections:"         ."},{data:"31.08.2024",update:'   : ""'},{data:"29.08.2024",update:"        "},{data:"19.08.2024",update:"       .    .    ,        .       .",corrections:"   ."},{data:"03.07.2024",update:"   -  ."},{data:"29.06.2024",update:"  .",corrections:'      ""'},{data:"27.06.2024",update:`  : GCOIN TAP.
  : .`,corrections:"       ."},{data:"25.06.2024",update:`  .
    .
  .
       .
  (  ).
  .
    5     .
  (   1000 ).
     .
  .
   ,    , 
   .
  .
  (   )
   , ,    
      (     ).
  (   ,      .
    "".`,corrections:`     .
     (    ,  +400 ,      : odd/even, red/black, 1-18/19-36 -     +100 .`},{data:"14.02.2024",update:` 2  .
 5  .
 5  .
    .
     .`,corrections:`  .
      .`},{data:"21.01.2024",update:`   .
   .`,corrections:`    .
      .`},{data:"19.12.2023",update:`  - .
 :  ,  .
   -  .
   .`},{data:"11.12.2023",update:"  - 2048"},{data:"04.12.2023",update:"  - "},{data:"03.12.2023",update:"      "},{data:"02.12.2023",update:`    .
  .`},{data:"11.11.2023",update:" 2  .",corrections:"    ."},{data:"28.10.2023",update:`  .
     .
 20  .
 10  .`,corrections:`  .
    GENERY.
  .
    .
   .
   .
   .
  .
   .`},{data:"29.09.2023",update:`   .
   .`,corrections:" ."},{data:"04.09.2023",update:`   .
 5  .
 100  .
   .
  .`,corrections:"   ."},{data:"01.08.2023",update:` 2 .
   .`,corrections:" ."},{data:"19.07.2023",update:`  .
    .
   .
  .`},{data:"15.07.2023",update:`     .
   .`,corrections:"   ."},{data:"30.06.2023",update:`      .
   .`,corrections:'    " "'},{data:"11.06.2023",update:`   .
    70.`},{data:"02.06.2023",update:`  .
 100   .`},{data:"05.05.2023",update:`   .
      .
 5  .`},{data:"03.05.2023",corrections:`    
    .
      .`},{data:"01.05.2023",update:` 5      .
     `},{data:"30.04.2023",update:"     ."},{data:"30.04.2023",update:`  .
    .`,corrections:"     ."},{data:"28.04.2023",update:`   .
  30     .`,corrections:"    :  ,   ."},{data:"28.04.2023",update:"   .",corrections:"      ."},{data:"28.04.2023",update:"   .",corrections:"      ."},{data:"28.04.2023",update:`        .
 : , , .
  .`},{data:"26.04.2023",update:`     .
      .`},{data:"26.04.2023",update:`   
   /   .`},{data:"26.04.2023",update:`        .
 36     .`}];function tK({data:t,update:e,corrections:n}){const{theme:r,elementColors:s,setElementColors:o}=p.useContext(B),i=e?e.split(`
`):[],a=n?n.split(`
`):[];return u.jsxs("div",{className:Er["update-body"],style:{background:r.element_first_color},children:[u.jsx("div",{className:Er["update-data"],style:{color:r.text_first_color},children:t}),e&&u.jsxs("div",{className:Er["text-container"],children:[u.jsx("div",{className:Er.title,style:{color:r.text_first_color},children:" :"}),u.jsx("div",{className:Er.text,style:{color:r.text_first_color},children:i.map((l,c)=>u.jsxs(bo.Fragment,{children:[l,u.jsx("br",{})]},c))})]}),n&&u.jsxs("div",{className:Er["text-container"],children:[u.jsx("div",{className:Er.title,style:{color:r.text_first_color},children:":"}),u.jsx("div",{className:Er.text,style:{color:r.text_first_color},children:a.map((l,c)=>u.jsxs(bo.Fragment,{children:[l,u.jsx("br",{})]},c))})]})]})}function nK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),r=ye();return p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>r("/menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[B]),u.jsxs("div",{className:Er.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),eK.map(s=>u.jsx(tK,{data:s.data,update:s.update,corrections:s.corrections}))]})}const rK="_container_1qgb1_1",sK="_title_1qgb1_12",oK="_circle_1qgb1_47",iK="_edit_1qgb1_93",aK="_button_1qgb1_113",ht={container:rK,title:sK,"files-container":"_files-container_1qgb1_18","download-body":"_download-body_1qgb1_28","add-body":"_add-body_1qgb1_38",circle:oK,"download-name":"_download-name_1qgb1_57","download-name-empty":"_download-name-empty_1qgb1_63","download-button":"_download-button_1qgb1_70","download-button-empty":"_download-button-empty_1qgb1_87",edit:iK,button:aK};function lK({color:t,name:e,url:n,id:r}){const{theme:s,elementColors:o,setElementColors:i}=p.useContext(B),a=(l,c)=>{const d=new XMLHttpRequest;d.responseType="blob",d.onload=h=>{const f=d.response,m=document.createElement("a");m.href=window.URL.createObjectURL(f),m.download=c,document.body.appendChild(m),m.click(),document.body.removeChild(m)},d.open("GET",l),d.send()};return u.jsxs("div",{className:ht["download-body"],style:{border:`2px solid ${s.element_first_color}`},children:[u.jsx("div",{className:ht["download-name"],style:{color:s.text_first_color},children:e}),u.jsx("button",{className:ht["download-button"],style:{background:t},onClick:l=>{l.preventDefault(),a(n,e)},children:u.jsx("svg",{width:"16",height:"15",viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9 1C9 0.447715 8.55228 2.41411e-08 8 0C7.44772 -2.41411e-08 7 0.447715 7 1L9 1ZM7.29289 14.435C7.68342 14.8256 8.31658 14.8256 8.70711 14.435L15.0711 8.07107C15.4616 7.68054 15.4616 7.04738 15.0711 6.65685C14.6805 6.26633 14.0474 6.26633 13.6569 6.65685L8 12.3137L2.34315 6.65685C1.95262 6.26633 1.31946 6.26633 0.928932 6.65685C0.538408 7.04738 0.538408 7.68054 0.928932 8.07107L7.29289 14.435ZM7 1L7 13.7279L9 13.7279L9 1L7 1Z",fill:s.text_first_color})})})]})}function $h(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B);return u.jsxs("div",{className:ht["download-body"],style:{border:`2px solid ${t.element_first_color}`},children:[u.jsx("div",{className:ht["download-name-empty"],style:{color:t.text_first_color},children:u.jsx(Cn,{width:"100%",height:"18px",shape:"rect"})}),u.jsx("div",{className:ht["download-button-empty"],children:u.jsx(Cn,{width:"32px",height:"32px",shape:"circle"})})]})}function cK({color:t,name:e,url:n,id:r,onDelete:s}){const{theme:o,elementColors:i,setElementColors:a}=p.useContext(B);return u.jsxs("div",{className:ht["download-body"],style:{border:`2px solid ${o.element_first_color}`},children:[u.jsx("div",{className:ht["download-name"],style:{color:o.text_first_color},children:e}),u.jsx("button",{className:ht["download-button"],style:{background:t},onClick:s,children:u.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:o.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function uK({id:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(B),[o,i]=p.useState([]),[a,l]=p.useState(),[c,d]=p.useState(),[h,f]=p.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[m,v]=p.useState(),{authUser:w}=he();ye(),p.useEffect(()=>{(async()=>{try{const b=J(K,"groups",t,"info","info"),S=await ce(b);if(S.exists()){const T=S.data();v(T.owner)}else console.error("Group not found")}catch(b){console.error("Error fetching group data:",b)}finally{}})()},[t]);const C=async()=>{if(t)try{const x=J(K,"groups",t,"info","downloads"),b=await ce(x);if(b.exists()){const S=b.data();i(S.files||[]),console.log(S.files)}else console.log("No such document!"),i([])}catch(x){console.error("Error fetching group data:",x),i([])}finally{l(!1)}else console.error("ID   "),i([]),l(!1)};p.useEffect(()=>{C()},[t]),p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowColor:n.text_first_color,arrowLink:e,isHeaderBackground:!0,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:2,background:n.background_color}),document.body.style.background=n.background_color},[B]);const _=x=>{f({isShow:!0,title:" ",text:`     ${x.name}?`,firstButtonName:"",firstButtonOnClick:()=>f({isShow:!1}),secondButtonName:"",secondButtonOnClick:()=>g(x)})},g=async x=>{if(!x||!x.link){console.error("Invalid file or file URL:",x);return}f({isShow:!1});try{const b=x.link;console.log("File URL:",b);let T=b.replace("https://firebasestorage.googleapis.com/v0/b/genery-c83e3.appspot.com/o/","");T=decodeURIComponent(T);const[k]=T.split("?");console.log("File Path:",k);const E=br(kr,k);await kM(E),console.log("File deleted from Firebase Storage");const N=J(K,"groups",t,"info","downloads"),A=await ce(N);if(A.exists()){const j=(A.data().files||[]).filter(R=>R.link!==b);await gt(N,{files:j},{merge:!0}),i(j),console.log("File deleted from Firestore")}else console.log("No such document in Firestore!")}catch(b){console.error("Error deleting file:",b)}},y=async()=>{await C(),d(!1)};return u.jsxs(u.Fragment,{children:[u.jsx(ai,{title:h.title,text:h.text,isShow:h.isShow,firstButtonName:h.firstButtonName,secondButtonName:h.secondButtonName,firstButtonOnClick:h.firstButtonOnClick,secondButtonOnClick:h.secondButtonOnClick}),u.jsx(HW,{id:t,isShow:c,close:y}),u.jsx("div",{className:ht.title,style:{color:n.text_first_color},children:""}),u.jsx("div",{className:ht["files-container"],children:a?u.jsxs(u.Fragment,{children:[u.jsx($h,{}),u.jsx($h,{})]}):u.jsxs(u.Fragment,{children:[o.map(x=>u.jsx(cK,{color:x.color,name:x.name,url:x.link,id:t,onDelete:()=>_(x)},x.name)),u.jsx("div",{className:ht["add-body"],style:{border:`1px solid ${n.element_first_color}`,background:n.background_color},onClick:()=>d(!0),children:u.jsx("div",{className:ht.circle,style:{background:n.element_first_color},children:u.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M8.5 1L8.5 8.5M8.5 16L8.5 8.5M8.5 8.5L16 8.5M8.5 8.5L1 8.5",stroke:n.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})}),u.jsx("button",{className:ht.button,style:{background:n.first_color,color:n.text_first_color},onClick:e,children:""})]})})]})}function dK(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),[r,s]=p.useState([]),[o,i]=p.useState(),{id:a}=ns(),[l,c]=p.useState(),{authUser:d}=he(),h=ye(),[f,m]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const g=J(K,"groups",a,"info","info"),y=await ce(g);if(y.exists()){const x=y.data();c(x.owner)}else console.error("Group not found")}catch(g){console.error("Error fetching group data:",g)}finally{}})()},[a]);const v=async()=>{if(a)try{const _=J(K,"groups",a,"info","downloads"),g=await ce(_);if(g.exists()){const y=g.data();s(y.files||[]),console.log(y.files)}else console.log("No such document!"),s([])}catch(_){console.error("Error fetching group data:",_),s([])}finally{i(!1)}else console.error("ID   "),s([]),i(!1)};p.useEffect(()=>{v()},[a]),p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>h(`/group/${a}`),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2,background:t.background_color}),document.body.style.background=t.background_color},[B]);const w=()=>{m(!0)},C=()=>{m(!1)};return u.jsx("div",{className:ht.container,children:f?u.jsx(uK,{id:a,handleEdit:C}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:ht.title,style:{color:t.text_first_color},children:""}),u.jsx("div",{className:ht["files-container"],children:o?u.jsxs(u.Fragment,{children:[u.jsx($h,{}),u.jsx($h,{})]}):r.length>0?r.map(_=>u.jsx(lK,{color:_.color,name:_.name,url:_.link,id:a},_.name)):u.jsx("div",{className:ht["info-body"],style:{color:t.text_first_color},children:"   ..."})}),l&&l===d._id&&u.jsx("button",{className:ht.edit,style:{background:t.first_color},onClick:w,children:u.jsx("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M0 13.6571V16.5278C0 16.7923 0.20775 17 0.472158 17H3.34288C3.46564 17 3.5884 16.9528 3.67339 16.8584L13.9853 6.55586L10.4441 3.01468L0.141648 13.3172C0.0472159 13.4116 0 13.5249 0 13.6571ZM16.7238 3.81735C16.8114 3.72998 16.8808 3.62621 16.9282 3.51198C16.9756 3.39774 17 3.27528 17 3.1516C17 3.02793 16.9756 2.90547 16.9282 2.79123C16.8808 2.67699 16.8114 2.57322 16.7238 2.48586L14.5141 0.27616C14.4268 0.188618 14.323 0.119166 14.2088 0.0717788C14.0945 0.0243917 13.9721 0 13.8484 0C13.7247 0 13.6023 0.0243917 13.488 0.0717788C13.3738 0.119166 13.27 0.188618 13.1827 0.27616L11.4546 2.00426L14.9957 5.54544L16.7238 3.81735Z",fill:t.text_first_color})})})]})})}const hK="_container_143zk_2",fK="_cover_143zk_22",pK="_label_143zk_189",Q={container:hK,"profile-container":"_profile-container_143zk_13","cover-container":"_cover-container_143zk_22",cover:fK,"cover-pattern":"_cover-pattern_143zk_41","user-photo":"_user-photo_143zk_49","change-photo-button":"_change-photo-button_143zk_68","user-actions":"_user-actions_143zk_86","user-info":"_user-info_143zk_92","user-name":"_user-name_143zk_99","circle-button":"_circle-button_143zk_104","user-biography":"_user-biography_143zk_121","button-container":"_button-container_143zk_126","quit-button":"_quit-button_143zk_135","colors-container":"_colors-container_143zk_152","color-circle":"_color-circle_143zk_162","active-circle":"_active-circle_143zk_172","input-data-container":"_input-data-container_143zk_179",label:pK,"input-data":"_input-data_143zk_179","item-body":"_item-body_143zk_205","item-icon":"_item-icon_143zk_218","item-name":"_item-name_143zk_226","item-info":"_item-info_143zk_233","item-circle":"_item-circle_143zk_241","posts-container":"_posts-container_143zk_258"};function mK({fetchUserPreferences:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(B),{authUser:o}=he(),[i,a]=p.useState(o.name),[l,c]=p.useState(o.biography),[d,h]=p.useState(!0),[f,m]=p.useState(null),[v,w]=p.useState(o.cover),[C,_]=p.useState([]),[g,y]=p.useState({isShow:!1,text:""});p.useEffect(()=>{(async()=>{if(o&&o._id){const N=J(K,"users",o._id,"info","preferences"),A=await ce(N);if(A.exists()){const I=A.data();console.log(I),a(I.name),c(I.biography),w(I.cover),_(j=>[...j,...I.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const x=C?au.filter(E=>C.includes(E.name)):[];p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{if(g.isShow){const E=setTimeout(()=>{y({isShow:!1})},1500);return()=>clearTimeout(E)}},[g.isShow]);const b=E=>{E.target.files[0]&&(m(E.target.files[0]),console.log(E.target.files[0]))},S=E=>{w(E)},T=async()=>{let E=null;const N=new Date().toISOString();if(f){const A=br(kr,`users_photo/${o._id}/${N}_${f.name}`);await qo(A,f),E=await Jr(A)}if(o&&o._id){const A=J(K,"users",o._id,"info","preferences");try{await gt(A,{name:i,biography:l,photo:f?E:o.avatar,cover:v},{merge:!0}),await t(),e()}catch(I){console.error("Error updating document: ",I)}}};function k(E){if(!E)return!1;let N,A,I;if(E.startsWith("#"))if(E.length===4)N=parseInt(E[1]+E[1],16),A=parseInt(E[2]+E[2],16),I=parseInt(E[3]+E[3],16);else if(E.length===7)N=parseInt(E.slice(1,3),16),A=parseInt(E.slice(3,5),16),I=parseInt(E.slice(5,7),16);else return!1;else if(E.startsWith("rgb")){const R=E.substring(E.indexOf("(")+1,E.lastIndexOf(")")).split(",").map(Number);if(R.length===3)N=R[0],A=R[1],I=R[2];else return!1}else{const R=document.createElement("div");R.style.color=E,document.body.appendChild(R);const O=window.getComputedStyle(R).color;if(document.body.removeChild(R),O.startsWith("rgb")){const M=O.substring(O.indexOf("(")+1,O.lastIndexOf(")")).split(",").map(Number);if(M.length===3)N=M[0],A=M[1],I=M[2];else return!1}else return!1}return(N*299+A*587+I*114)/1e3>180}return u.jsxs("div",{className:Q["profile-container"],children:[u.jsx(Yt,{isShow:g.isShow,text:g.text}),u.jsx("div",{className:Q["cover-container"],children:u.jsx("div",{className:Q.cover,style:{background:v},children:u.jsx("div",{className:Q["cover-pattern"]})})}),u.jsxs("div",{className:Q["user-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[u.jsx("button",{className:Q["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),u.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),u.jsx("img",{src:f?URL.createObjectURL(f):o.avatar}),u.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:b})]}),u.jsx("div",{className:Q["colors-container"],style:{background:n.element_first_color},children:x.map(E=>u.jsx(u.Fragment,{children:E.colors.map((N,A)=>u.jsx("div",{className:Q["color-circle"],style:{background:N},onClick:()=>S(N),children:v===N&&u.jsx("div",{className:Q["active-circle"],style:{borderColor:k(N)?"#0A0B10":"#fff"}})},A))}))}),u.jsxs("div",{className:Q["user-actions"],style:{background:n.element_first_color},children:[u.jsxs("div",{className:Q["input-data-container"],children:[u.jsx("div",{className:Q.label,style:{color:n.first_color},children:""}),u.jsx("input",{type:"text",value:i,className:Q["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>a(E.target.value)})]}),u.jsxs("div",{className:Q["input-data-container"],children:[u.jsx("div",{className:Q.label,style:{color:n.first_color},children:" "}),u.jsx("input",{type:"text",value:l,className:Q["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:E=>c(E.target.value)})]}),u.jsx("div",{className:Q["button-container"],children:u.jsx("button",{className:Q["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:T,children:""})})]})]})}function gK({id:t}){const{theme:e,elementColors:n,setElementColors:r}=p.useContext(B),{authUser:s,ga:o}=he(),[i,a]=p.useState({name:s.name,biography:s.biography,photo:s.avatar}),l=ye(),[c,d]=p.useState(!1),[h,f]=p.useState({isShow:!1,text:""}),[m,v]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{r({iconColor:e.text_first_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>l("/list-menu"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const w=async()=>{if(s&&s._id){const y=J(K,"users",s._id,"info","preferences"),x=await ce(y);if(x.exists()){const b=x.data();console.log(b),a({name:b.name,biography:b.biography,photo:b.photo,cover:b.cover,balance:b.balance,followers:b.followers})}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{w()},[]);const C=()=>{navigator.clipboard.writeText(s._id).then(()=>{f({isShow:!0,text:"id    "})}).catch(y=>{f({isShow:!0,text:`   id ${y}`})})};p.useEffect(()=>{if(h.isShow){const y=setTimeout(()=>{f({isShow:!1})},1500);return()=>clearTimeout(y)}},[h.isShow]);const _=()=>{d(!1),f({isShow:!0,text:"  "})},g=y=>{v({isShow:!0,images:y,index:0})};return u.jsxs("div",{className:Q.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),u.jsx(ii,{isShow:m.isShow,images:m.images,index:m.index,onClose:()=>v({isShow:!1})}),c?u.jsx(mK,{handleEdit:_,fetchUserPreferences:w}):u.jsxs("div",{className:Q["profile-container"],children:[u.jsx(Yt,{isShow:h.isShow,text:h.text}),u.jsx("div",{className:Q["cover-container"],children:u.jsx("div",{className:Q.cover,style:{background:i.cover},children:u.jsx("div",{className:Q["cover-pattern"]})})}),u.jsx("div",{className:Q["user-photo"],style:{borderColor:e.background_color},children:u.jsx("img",{src:i.photo,onClick:()=>g(i.photo)})}),u.jsxs("div",{className:Q["user-actions"],style:{background:e.element_first_color},children:[u.jsxs("div",{className:Q["user-info"],children:[u.jsx("div",{className:Q["user-name"],style:{color:e.text_first_color},children:i.name}),u.jsx("button",{className:Q["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:C,children:"#"})]}),u.jsx("div",{className:Q["user-biography"],style:{color:e.text_first_color},children:i.biography}),u.jsxs("div",{className:Q["button-container"],children:[u.jsx("button",{className:Q["quit-button"],style:{background:e.element_second_color,color:e.text_first_color},onClick:()=>QA(o),children:""}),u.jsx("button",{className:Q["circle-button"],style:{color:e.text_first_color,background:e.first_color},onClick:()=>d(!0),children:u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:e.text_first_color})})})]})]}),u.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${e.element_first_color}`},children:[u.jsx("div",{className:Q["item-info"],children:u.jsxs("div",{className:Q["item-name"],style:{color:e.text_first_color},children:[":  ",i.balance," ",u.jsx(Mh,{color:e.first_color})]})}),u.jsx("div",{className:Q["item-circle"],style:{background:e.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),u.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l(`/subscribers/${t}?isGroup=false`),children:[u.jsx("div",{className:Q["item-info"],children:u.jsxs("div",{className:Q["item-name"],style:{color:e.text_first_color},children:[": ",i.followers?i.followers.length:0]})}),u.jsx("div",{className:Q["item-circle"],style:{background:e.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),u.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>l("/settings"),children:[u.jsxs("div",{className:Q["item-info"],children:[u.jsx("div",{className:Q["item-icon"],children:u.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.0001 1C16.7522 1 17.4936 1.05571 18.2158 1.16286L19.3043 4.46066C20.2579 4.7328 21.1643 5.12065 22.0043 5.60921L25.1328 4.10067C26.2406 4.95137 27.2263 5.95421 28.0578 7.07705L26.4935 10.1777C26.9671 11.0263 27.3399 11.9391 27.5949 12.8991L30.8734 14.0412C31.0541 15.4276 31.0418 16.8324 30.837 18.2154L27.5392 19.304C27.2689 20.2478 26.8831 21.1547 26.3906 22.004L27.8992 25.1325C27.0473 26.2406 26.0456 27.225 24.9228 28.0574L21.8221 26.4932C20.9644 26.9722 20.0502 27.3422 19.1008 27.5946L17.9586 30.8731C16.5722 31.0537 15.1675 31.0415 13.7844 30.8367L12.6959 27.5389C11.752 27.2686 10.8452 26.8828 9.9959 26.3903L6.86738 27.8989C5.75923 27.047 4.77484 26.0453 3.94243 24.9225L5.50669 21.8218C5.02886 20.9635 4.65892 20.0495 4.40528 19.1004L1.12676 17.9562C0.946317 16.5704 0.958576 15.1664 1.16318 13.7841L4.46099 12.6955C4.73313 11.742 5.12098 10.8356 5.60954 9.99557L4.10099 6.86705C4.95285 5.75891 5.95455 4.77451 7.07738 3.9421L10.178 5.50636C11.0358 5.02737 11.95 4.65737 12.8994 4.40495L14.0437 1.12643C14.6924 1.04203 15.3459 0.999799 16.0001 1Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),u.jsx("path",{d:"M16.0002 22.4282C19.5506 22.4282 22.4287 19.5501 22.4287 15.9998C22.4287 12.4494 19.5506 9.57129 16.0002 9.57129C12.4499 9.57129 9.57178 12.4494 9.57178 15.9998C9.57178 19.5501 12.4499 22.4282 16.0002 22.4282Z",stroke:e.text_first_color,"stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}),u.jsx("div",{className:Q["item-name"],style:{color:e.text_first_color},children:""})]}),u.jsx("div",{className:Q["item-circle"],style:{background:e.second_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.background_color})})})]})]})]})}function yK({id:t}){const{authUser:e}=he(),{theme:n,elementColors:r,setElementColors:s}=p.useContext(B),[o,i]=p.useState({isShow:!0}),[a,l]=p.useState({isShow:!1,text:""}),c=ye(),[d,h]=p.useState([]),[f,m]=p.useState(!1),[v,w]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>c("/posts"),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{C()},[t]);const C=async()=>{if(t){const S=J(K,"users",t,"info","preferences"),T=await ce(S);if(T.exists()){const k=T.data();console.log(k),i({id:k.uid,isUser:!0,name:k.name,biography:k.biography,photo:k.photo,cover:k.cover,followers:k.followers||[]})}else console.log("No such document!"),i({isUser:!1,name:"  ",biography:""})}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{if(a.isShow){const S=setTimeout(()=>{l({isShow:!1})},1500);return()=>clearTimeout(S)}},[a.isShow]),p.useEffect(()=>{const S=$a(Xc(Cr(K,"posts"),Jc("timestamp","desc")),T=>{const k=[];T.forEach(E=>{const N=E.data();if(N.userId===t){const A=new Date(N.timestamp),I=N.likesArray,j=A.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});k.push({id:E.id,userId:N.userId,userName:N.userName,groupOwnerId:N.groupOwnerId,userPhoto:N.userPhoto,postText:N.text,postPhoto:N.photos,postData:j,likesArray:I})}}),h(k),m(!1)});return()=>{S()}},[t]);const _=(S,T)=>{w({isShow:!0,images:S,index:T})},g=(S,T)=>{switch(S){case"delete":return setAlertProp({isShow:!0,title:" ",text:"    ?",firstButtonName:"",secondButtonName:"",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(T)});default:return setAlertProp({isShow:!0,title:"",text:"",firstButtonName:"",secondButtonName:"",firstButtonOnClick:null,secondButtonOnClick:null})}},y=S=>{w({isShow:!0,images:S,index:0})},x=async()=>{if(e._id){const S=J(K,"users",t,"info","preferences"),T=J(K,"users",e._id,"info","preferences");try{const k=await ce(S),E=await ce(T);if(k.exists()&&E.exists()){const N=k.data(),A=E.data(),I=N.followers||[],j=A.subscribes||[];let R,O;I.includes(e._id)?(R=I.filter(M=>M!==e._id),O=j.filter(M=>M!==t)):(R=[...I,e._id],O=[...j,t]),await gt(S,{followers:R},{merge:!0}),await gt(T,{subscribes:O},{merge:!0}),await C(),console.log("Subscription updated successfully")}else console.error("Group or user document does not exist")}catch(k){console.error("Error updating subscription:",k)}}else console.error("User is not authenticated")},b=()=>{navigator.clipboard.writeText(o.id).then(()=>{l({isShow:!0,text:"id    "})}).catch(S=>{l({isShow:!0,text:`   id ${S}`})})};return u.jsxs("div",{className:Q.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${n.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),u.jsx(ii,{isShow:v.isShow,images:v.images,index:v.index,onClose:()=>w({isShow:!1})}),u.jsx(Yt,{isShow:a.isShow,text:a.text}),u.jsx("div",{className:Q["cover-container"],children:u.jsx("div",{className:Q.cover,style:{background:o.cover},children:u.jsx("div",{className:Q["cover-pattern"]})})}),u.jsx("div",{className:Q["user-photo"],style:{borderColor:n.background_color},children:u.jsx("img",{src:o.photo,onClick:()=>y(o.photo)})}),o.isUser?u.jsxs("div",{className:Q["user-actions"],style:{background:n.element_first_color},children:[u.jsxs("div",{className:Q["user-info"],children:[u.jsx("div",{className:Q["user-name"],style:{color:n.text_first_color},children:o.name}),u.jsx("button",{className:Q["circle-button"],style:{color:"var(--text-first-color)",background:"var(--first-color)"},onClick:b,children:"#"})]}),u.jsx("div",{className:Q["user-biography"],style:{color:n.text_first_color},children:o.biography}),u.jsx("div",{className:Q["button-container"],children:u.jsx("button",{className:Q["quit-button"],style:{background:o.followers.includes(e._id)?n.element_second_color:n.first_color,color:n.text_first_color},onClick:x,children:o.followers&&o.followers.includes(e._id)?"":""})})]}):u.jsx("div",{className:Q["user-actions"],style:{background:n.element_first_color},children:u.jsx("div",{className:Q["user-info"],children:u.jsx("div",{className:Q["user-name"],style:{color:n.text_first_color},children:o.name})})}),u.jsxs("div",{className:Q["item-body"],style:{border:`2px solid ${n.element_first_color}`},onClick:()=>c(`/subscribers/${t}?isGroup=false`),children:[u.jsx("div",{className:Q["item-info"],children:u.jsxs("div",{className:Q["item-name"],style:{color:n.text_first_color},children:[": ",o.followers?o.followers.length:0]})}),u.jsx("div",{className:Q["item-circle"],style:{background:n.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n.text_first_color})})})]}),u.jsx("div",{className:Q["posts-container"],children:f?u.jsxs(u.Fragment,{children:[u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{})]}):d.map(S=>u.jsx(yp,{postId:S.id,groupOwnerId:S.groupOwnerId,userId:S.userId,userName:S.userName,userPhoto:S.userPhoto,postData:S.postData,postText:S.postText,postPhotos:S.postPhoto,likesArray:S.likesArray,photoClick:_,postAction:g},S.id))})]})}function vK(){const{authUser:t}=he(),{id:e}=ns();return!e||e===t._id?u.jsx(gK,{id:t._id}):u.jsx(yK,{id:e})}const _K="_container_j5ace_1",wK={container:_K},rl={"block-body":"_block-body_1qf46_1","block-name":"_block-name_1qf46_10","block-button":"_block-button_1qf46_15","button-circle":"_button-circle_1qf46_25","button-name":"_button-name_1qf46_41"};function xK({name:t,buttonText:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(B);return u.jsxs("div",{className:rl["block-body"],style:{background:r.element_first_color},children:[u.jsx("div",{className:rl["block-name"],style:{color:r.text_first_color},children:t}),u.jsxs("button",{className:rl["block-button"],style:{background:r.first_color},onClick:n,children:[u.jsx("h4",{className:rl["button-name"],style:{color:r.text_first_color},children:e}),u.jsx("div",{className:rl["button-circle"],style:{background:r.text_first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:r.background_color})})})]})]})}const CK="_overlay_1y7wn_1",bK="_line_1y7wn_25",kK="_content_1y7wn_36",as={overlay:CK,"menu-wrapper":"_menu-wrapper_1y7wn_11",line:bK,"content-wrapper":"_content-wrapper_1y7wn_36","menu-title":"_menu-title_1y7wn_46",content:kK,"input-promo":"_input-promo_1y7wn_64","main-button":"_main-button_1y7wn_80"};function SK({isShow:t,setShow:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(B),{authUser:a}=he(),[l,c]=p.useState(Array(6).fill("")),[d,h]=p.useState([]),[f,m]=p.useState(!1),[v,w]=p.useState(!0),[C,_]=p.useState(),[g,y]=p.useState(),x=p.useRef(),b=p.useRef([]),[S,T]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(S.isShow){const O=setTimeout(()=>{T({isShow:!1})},1e3);return()=>clearTimeout(O)}},[S]);const k=x6(0),E={hidden:{opacity:0,visibility:"hidden"},show:{opacity:1,visibility:"visible"},close:{marginTop:"100%"},open:{marginTop:"30%"}},N=(O,M)=>{const L=O.target.value,P=[...l];P[M]=L,c(P),L.length===1&&M<b.current.length-1?b.current[M+1].focus():L.length===0&&M>0&&b.current[M-1].focus();const D=P.filter(F=>F!=="");w(D.length<6)},A=(O,M)=>{const[L,P,D]=O.split(".").map(Number),[F,q]=M.split(":").map(Number);return new Date(D,P-1,L,F,q)},I=async()=>{c(Array(6).fill("")),w(!0);const O=l.join("").toUpperCase(),M=J(K,"promocodes",O),L=await ce(M);if(L.exists()){const P=L.data();A(P.time.data,P.time.time)>new Date?(n("found",P.money),e(!1)):n("time exist",0)}else n("not found",0)},j=()=>{m(!0)},R=()=>{m(!1);const O=k.get();console.log("dragY:",O),x.current&&(O<-70?x.current.style.marginTop="2%":O>10&&O<50?x.current.style.marginTop="3%":O>70&&e(!1)),k.set(0)};return u.jsxs(ot.div,{className:as.overlay,variants:E,initial:"hidden",animate:t?"show":"hidden",children:[u.jsx(Yt,{isShow:S.isShow,text:S.text}),u.jsxs(ot.section,{className:as["menu-wrapper"],style:{y:k,background:r.element_first_color},ref:x,variants:E,initial:"close",animate:t?"open":"close",drag:"y",dragConstraints:{top:window.innerWidth>700?-300:-50,bottom:0},transition:{type:"spring",damping:40,stiffness:400},onDragStart:j,onDragEnd:R,children:[u.jsx("div",{className:as.line,style:{background:r.element_second_color}}),u.jsxs("div",{className:as["content-wrapper"],children:[u.jsx("h3",{className:as["menu-title"],style:{color:r.text_first_color},children:""}),u.jsx("div",{className:as.content,children:l.map((O,M)=>u.jsx("input",{type:"text",className:as["input-promo"],style:{color:r.text_first_color,background:r.element_second_color,"--focusColor":r.gradient_first_color},maxLength:1,value:O,onChange:L=>N(L,M),ref:L=>b.current[M]=L},M))}),u.jsx("button",{className:as["main-button"],style:{background:v?r.element_second_color:r.first_color,color:r.text_first_color},disabled:v,onClick:I,children:""})]})]})]})}function EK(){const{authUser:t}=he(),{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=p.useContext(B),[o,i]=p.useState(!1),[a,l]=p.useState(),[c,d]=p.useState(),h=ye(),[f,m]=p.useState({isShow:!1,text:""});p.useEffect(()=>{if(f.isShow){const _=setTimeout(()=>{m({isShow:!1})},1e3);return()=>clearTimeout(_)}},[f]),p.useEffect(()=>{s({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>h("/group-list"),arrowColor:e.text_first_color,isHeaderBackground:!0,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:0,background:e.background_color}),document.body.style.background=e.background_color},[B]),p.useEffect(()=>{(async()=>{if(t&&t._id){const g=J(K,"users",t._id,"info","preferences"),y=await ce(g);if(y.exists()){const x=y.data();l(x.balance),d(x.promoLastActivated?new Date(x.promoLastActivated):null)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const v=async(_,g)=>{if(t&&t._id){const y=J(K,"users",t._id,"info","preferences"),x=await ce(y),b=new Date;if(x.exists()){const S=x.data(),T=S.promoLastActivated?new Date(S.promoLastActivated):null;if(T&&b-T<24*60*60*1e3){m({isShow:!0,text:"      "});return}}try{await qs(y,{balance:_,promoLastActivated:b.toISOString()}),m({isShow:!0,text:` .     ${g}`}),console.log(`Balance updated to ${_}`)}catch(S){console.error("Error updating balance:",S)}}else console.error("authUser or authUser._id is undefined")},w=(_,g)=>{switch(_){case"not found":return[m({isShow:!0,text:"  "}),i(!1)];case"time exist":return[m({isShow:!0,text:"  "}),i(!1)];case"found":return[v(a+g,g)]}},C=()=>{i(!0)};return u.jsxs("div",{className:wK.container,children:[u.jsx(Yt,{isShow:f.isShow,text:f.text}),u.jsx(SK,{isShow:o,setShow:i,onClick:w}),u.jsx(xK,{name:" ",buttonText:"",onClick:C}),u.jsx(Yn,{name:"",description:" ?",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_first_color,linkTo:"/casino"}),u.jsx(Yn,{name:"GCOIN",description:"  ",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_second_color,linkTo:"/tapcoin"}),u.jsx(Yn,{name:"",description:"   ",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/rocket"}),u.jsx(Yn,{name:"",description:"  ",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/quiz"}),u.jsx(Yn,{name:"Flyppi bird",description:"9/11",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/flippybird"}),u.jsx(Yn,{name:" ",description:" , IQ ",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/rating"}),u.jsx(Yn,{name:" ",description:"  2  ",backgroundColor:e.element_first_color,isBorder:!0,borderColor:e.block_border_color,textColor:e.text_first_color,arrowColor:e.text_first_color,arrowBackgroundColor:e.block_arrow_third_color,linkTo:"/guessline"})]})}const TK=()=>{const t=p.useRef(null),e=p.useRef(null),[n,r]=p.useState(null),s=async()=>{try{const a=await navigator.mediaDevices.getUserMedia({video:!0});t.current.srcObject=a,t.current.play()}catch(a){console.error("Error accessing camera: ",a)}},o=()=>{t.current.srcObject.getTracks().forEach(c=>{c.stop()}),t.current.srcObject=null},i=()=>{e.current.getContext("2d").drawImage(t.current,0,0,e.current.width,e.current.height);const l=e.current.toDataURL("image/png");r(l)};return u.jsxs("div",{children:[u.jsx("video",{ref:t,width:"640",height:"480",autoPlay:!0}),u.jsx("canvas",{ref:e,width:"640",height:"480",style:{display:"none"}}),u.jsxs("div",{children:[u.jsx("button",{onClick:s,children:"Start Camera"}),u.jsx("button",{onClick:i,children:"Capture Photo"}),u.jsx("button",{onClick:o,children:"Stop Camera"})]}),n&&u.jsxs("div",{children:[u.jsx("h2",{children:"Captured Image:"}),u.jsx("img",{src:n,alt:"Captured"})]})]})},IK="_container_1ka4o_1",NK="_coin_1ka4o_34",AK="_limit_1ka4o_120",PK="_icon_1ka4o_126",jK="_data_1ka4o_113",Rt={container:IK,"score-container":"_score-container_1ka4o_12","wrapper-action":"_wrapper-action_1ka4o_17","score-add":"_score-add_1ka4o_26",coin:NK,"control-point-1":"_control-point-1_1ka4o_45","control-point-2":"_control-point-2_1ka4o_55","control-point-3":"_control-point-3_1ka4o_64","control-point-4":"_control-point-4_1ka4o_74","control-point-center":"_control-point-center_1ka4o_84","coin-outer":"_coin-outer_1ka4o_93","coin-inner":"_coin-inner_1ka4o_104","data-container":"_data-container_1ka4o_113",limit:AK,icon:PK,data:jK};function RK(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B),{authUser:s}=he(),[o,i]=p.useState(),[a,l]=p.useState(0),[c,d]=p.useState(),h=p.useRef(),[f,m]=p.useState(0),[v,w]=p.useState([]),C=ye();p.useEffect(()=>{d(a)},[a]),p.useEffect(()=>{(async()=>{if(s&&s._id){const x=J(K,"users",s._id,"info","preferences"),b=await ce(x);if(b.exists()){const S=b.data();i(S.balance),l(S.limit)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]);const _=async y=>{if(s&&s._id)try{const x=J(K,"users",s._id,"info","preferences");await qs(x,{balance:y}),console.log(`Balance updated to ${y}`)}catch(x){console.error("Error updating balance:",x)}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{_(o)},[o]),p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>C("/game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(c<a){const y=setTimeout(()=>{d(c+1)},500);return()=>clearTimeout(y)}},[c]);const g=y=>{if(c<=0)return;i(o+1),d(c-1);const x={x:y.clientX,y:y.clientY,id:Date.now()};w(b=>[...b,x]),setTimeout(()=>{w(b=>b.filter(S=>S.id!==x.id))},10)};return p.useEffect(()=>{h.current&&(h.current.style.transform=`rotateY(${f}deg)`,f&&setTimeout(()=>{m(0)},70))},[f]),u.jsxs("div",{className:Rt.container,children:[u.jsx(jH,{children:v.map(y=>u.jsx(ot.div,{className:Rt["score-add"],initial:{opacity:1,top:y.y-10,left:y.x-10},animate:{opacity:0,top:y.y-40,left:y.x-10},exit:{opacity:0},style:{color:t.text_first_color},children:"+1"},y.id))}),u.jsx("div",{className:Rt["score-container"],children:u.jsx(lu,{name:"",count:o,isBalance:!0})}),u.jsx("div",{className:Rt["wrapper-action"],children:u.jsxs("div",{className:Rt.coin,ref:h,onClick:g,children:[u.jsx("div",{className:Rt["control-point-1"],onClick:()=>m(30)}),u.jsx("div",{className:Rt["control-point-2"],onClick:()=>m(-30)}),u.jsx("div",{className:Rt["control-point-3"],onClick:()=>m(30)}),u.jsx("div",{className:Rt["control-point-4"],onClick:()=>m(-30)}),u.jsx("div",{className:Rt["control-point-center"]}),u.jsx("div",{className:Rt["coin-outer"],style:{background:t.first_color},children:u.jsx("div",{className:Rt["coin-inner"]})})]})}),u.jsx("div",{className:Rt["data-container"],children:u.jsxs("div",{className:Rt.limit,children:[u.jsx("div",{className:Rt.icon,children:u.jsx("svg",{width:"12",height:"18",viewBox:"0 0 12 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9.17925 0.737957C9.28191 0.797057 9.36135 0.88898 9.4046 0.998711C9.44784 1.10844 9.45234 1.22949 9.41735 1.34209L7.52826 7.43758H11.0138C11.1162 7.43754 11.2164 7.46728 11.302 7.52314C11.3876 7.57901 11.4549 7.65854 11.4955 7.75192C11.5361 7.84531 11.5483 7.94846 11.5305 8.04864C11.5128 8.14882 11.4659 8.24164 11.3956 8.31565L3.0043 17.1693C2.9231 17.2551 2.81506 17.311 2.69778 17.3279C2.58049 17.3449 2.46089 17.3219 2.35845 17.2627C2.25601 17.2035 2.17679 17.1116 2.13369 17.0019C2.09059 16.8923 2.08616 16.7714 2.12111 16.6589L4.0102 10.5624H0.524666C0.422234 10.5624 0.322033 10.5327 0.236431 10.4768C0.150829 10.421 0.0835737 10.3414 0.0429683 10.248C0.00236276 10.1547 -0.00981566 10.0515 0.00793624 9.95134C0.0256882 9.85116 0.0725932 9.75833 0.142861 9.68432L8.53417 0.83066C8.61526 0.745039 8.72314 0.689177 8.84025 0.672158C8.95737 0.655138 9.07685 0.677961 9.17925 0.736916V0.737957Z",fill:t.light_color})})}),u.jsx("div",{className:Rt.data,style:{color:t.text_first_color},children:`${c} / ${a}`})]})})]})}const LK="_overlay_1r3zo_2",OK="_container_1r3zo_14",DK="_koeff_1r3zo_36",MK="_action_text_1r3zo_48",$K="_track_1r3zo_59",FK="_rocket_1r3zo_70",BK="_cloud_1r3zo_81",nt={overlay:LK,container:OK,"score-container":"_score-container_1r3zo_24","view-container":"_view-container_1r3zo_29",koeff:DK,action_text:MK,track:$K,"track-bg":"_track-bg_1r3zo_65",rocket:FK,"cloud-container":"_cloud-container_1r3zo_81",cloud:BK,"bet-container":"_bet-container_1r3zo_104","input-container":"_input-container_1r3zo_114","input-button":"_input-button_1r3zo_124","input-bet":"_input-bet_1r3zo_137","add-bet":"_add-bet_1r3zo_154"};function UK(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B),{authUser:s}=he(),[o,i]=p.useState(),[a,l]=p.useState(!1),[c,d]=p.useState(0),[h,f]=p.useState(100),[m,v]=p.useState(""),[w,C]=p.useState(" "),[_,g]=p.useState(!1),[y,x]=p.useState(!1),[b,S]=p.useState(!1),[T,k]=p.useState({isShow:!1,text:""}),[E,N]=p.useState({}),A=ye();p.useEffect(()=>{const P=()=>{window.innerWidth>700?N({stop:{right:-100,top:30},fly:{right:-600,top:-60}}):N({stop:{right:-20,top:120},fly:{right:-150,top:60}})};return P(),window.addEventListener("resize",P),()=>{window.removeEventListener("resize",P)}},[]);const I=p.useRef(),j=(P,D)=>{P=P.replace("#","");let F=parseInt(P.substring(0,2),16),q=parseInt(P.substring(2,4),16),te=parseInt(P.substring(4,6),16);return`rgba(${F}, ${q}, ${te}, ${D})`};p.useEffect(()=>{const P=I.current,D=P.getContext("2d");D.clearRect(0,0,P.width,P.height),D.beginPath(),D.moveTo(0,P.height),D.quadraticCurveTo(250,P.height/2,P.width,0),D.lineTo(P.width,P.height),D.closePath();const F=j(t.gradient_first_color,.5);D.fillStyle=F,D.fill(),D.strokeStyle=t.gradient_first_color,D.lineWidth=2,D.stroke()},[]),p.useEffect(()=>{if(T.isShow){const P=setTimeout(()=>{k({isShow:!1})},1e3);return()=>clearTimeout(P)}},[T]),p.useEffect(()=>{(async()=>{if(s&&s._id){const D=J(K,"users",s._id,"info","preferences"),F=await ce(D);if(F.exists()){const q=F.data();i(q.balance)}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[]),p.useEffect(()=>{if(!_){f(100),S(!1),x(!1),v(""),C(a?"":" ");return}if(_){d(0),v(""),C(" "),x(!0),S(!0),l(!1);const P=2e3+Math.random()*18e3,D=setTimeout(()=>{l(!0),g(!1),S(!1)},P);return()=>clearTimeout(D)}},[_]);const R=async P=>{if(s&&s._id)try{const D=J(K,"users",s._id,"info","preferences");await qs(D,{balance:P}),console.log(`Balance updated to ${P}`)}catch(D){console.error("Error updating balance:",D)}else console.error("authUser or authUser._id is undefined")};p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:()=>A("game-menu"),isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(!b)return;const P=setInterval(()=>{d(D=>parseFloat((D+.01).toFixed(2)))},70);return()=>clearInterval(P)},[b]);const O=P=>{const D=P.target.value;f(D===""?"":parseInt(D,10))},M=()=>{if(h>o){k({isShow:!0,text:"     "});return}i(o-h),R(o-h),g(!0)},L=()=>{k({isShow:!0,text:`  ${Math.floor(h*c)}`}),i(P=>Math.floor(P+h*c)),R(o+Math.floor(h*c)),g(!1)};return u.jsx("div",{className:nt.overlay,children:u.jsxs("div",{className:nt.container,children:[u.jsx(Yt,{text:T.text,isShow:T.isShow}),u.jsx("div",{className:nt["score-container"],children:u.jsx(lu,{name:"",count:o,isBalance:!0})}),u.jsxs("div",{className:nt["view-container"],children:[u.jsx("h3",{className:nt.koeff,style:{color:t.text_first_color},children:`x${c}`}),u.jsx("h4",{className:nt.action_text,style:{color:t.text_first_color},children:w}),u.jsx("div",{className:nt.track,children:u.jsx("canvas",{ref:I,className:nt["track-bg"]})}),u.jsx(ot.div,{variants:E,animate:a?"fly":"stop",className:nt.rocket,transition:{duration:.3},children:u.jsx("img",{src:"rocket.png"})}),u.jsxs("div",{className:nt["cloud-container"],children:[u.jsx("div",{className:nt.cloud,children:u.jsx("img",{src:"cloud_1.png"})}),u.jsx("div",{className:nt.cloud,children:u.jsx("img",{src:"cloud_2.png"})}),u.jsx("div",{className:nt.cloud,children:u.jsx("img",{src:"cloud_3.png"})}),u.jsx("div",{className:nt.cloud,children:u.jsx("img",{src:"cloud_2.png"})}),u.jsx("div",{className:nt.cloud,children:u.jsx("img",{src:"cloud_1.png"})})]})]}),u.jsxs("div",{className:nt["bet-container"],style:{background:t.element_first_color},children:[u.jsxs("div",{className:nt["input-container"],children:[u.jsx("button",{className:nt["input-button"],style:{background:t.element_second_color},onClick:()=>f(P=>P-1),disabled:y,children:u.jsx("svg",{width:"18",height:"4",viewBox:"0 0 18 4",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M16 2H9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})}),u.jsx("input",{type:"number",placeholder:"",min:0,value:h,onChange:O,className:nt["input-bet"],style:{color:t.text_first_color,caretColor:t.first_color,"--placeholderColor":t.text_third_color}}),u.jsx("button",{className:nt["input-button"],style:{background:t.element_second_color},onClick:()=>f(P=>P+1),disabled:y,children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M9 2V9M9 16V9M9 9H16M9 9H2",stroke:t.text_first_color,strokeWidth:"3",strokeLinecap:"round"})})})]}),u.jsx("button",{className:nt["add-bet"],style:{background:t.first_color,color:t.text_first_color},onClick:m===""?M:L,children:m})]})]})})}const VK="_container_1lqg5_1",zK="_title_1lqg5_11",HK="_block_1lqg5_26",dn={container:VK,title:zK,block:HK,"block-info":"_block-info_1lqg5_40","block-name":"_block-name_1lqg5_49","block-label":"_block-label_1lqg5_56","block-arrow":"_block-arrow_1lqg5_65","question-index":"_question-index_1lqg5_74","question-body":"_question-body_1lqg5_85","variants-container":"_variants-container_1lqg5_96","variant-body":"_variant-body_1lqg5_105","variant-name":"_variant-name_1lqg5_115","variant-circle":"_variant-circle_1lqg5_123"},lC={"progress-body":"_progress-body_5eai3_1","progress-line":"_progress-line_5eai3_11"};function qK({color:t,progress:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(B);return u.jsx("section",{className:lC["progress-body"],style:{background:n.element_first_color},children:u.jsx("div",{className:lC["progress-line"],style:{background:t,width:e}})})}function WK({name:t,state:e,onClick:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(B),a={correct:{isBackground:!0,color:r.first_color,svg:u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(-45deg)",isBorder:!1},incorrect:{isBackground:!0,color:r.third_color,svg:u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.13574 8.5C0.583457 8.5 0.135742 8.05228 0.135742 7.5C0.135742 6.94772 0.583457 6.5 1.13574 6.5V8.5ZM14.5708 6.79289C14.9613 7.18342 14.9613 7.81658 14.5708 8.20711L8.20681 14.5711C7.81629 14.9616 7.18312 14.9616 6.7926 14.5711C6.40207 14.1805 6.40207 13.5474 6.7926 13.1569L12.4495 7.5L6.7926 1.84315C6.40207 1.45262 6.40207 0.819456 6.7926 0.428932C7.18312 0.0384079 7.81629 0.0384079 8.20681 0.428932L14.5708 6.79289ZM1.13574 6.5L13.8637 6.5V8.5H1.13574V6.5Z",fill:r.text_first_color})}),transform:"rotate(45deg)",isBorder:!1},base:{isBackground:!1,color:r.element_first_color,svg:"",transform:"none",isBorder:!0}},l=a[e]||a.base;return u.jsxs("section",{variants:a,className:dn["variant-body"],style:{border:`2px solid ${l.color}`},onClick:n,children:[u.jsx("h4",{className:dn["variant-name"],style:{color:r.text_first_color},children:t}),u.jsx("div",{className:dn["variant-circle"],style:{background:l.isBackground?l.color:"none",border:l.isBorder?`2px solid ${r.element_first_color}`:"none",transform:l.transform},children:l.svg})]})}const GK=[{question:"What is the name of Russia's highest military award, often referred to as the 'Hero of the Russian Federation'?",answers:[{name:"Order of Lenin"},{name:"Order of the Red Banner"},{name:"Order of St. George"},{name:"Order of Courage"}],correctAnswerIndex:3},{question:"Which military branch of Russia operates the strategic missile forces responsible for nuclear deterrence?",answers:[{name:"Russian Ground Forces"},{name:"Russian Aerospace Forces"},{name:"Russian Navy"},{name:"Strategic Missile Troops"}],correctAnswerIndex:3},{question:"What is the name of Russia's only aircraft carrier, currently in service with the Russian Navy?",answers:[{name:"Admiral Kuznetsov"},{name:"Admiral Gorshkov"},{name:"Peter the Great"},{name:"Varyag"}],correctAnswerIndex:0},{question:"Which city hosts the headquarters of the Russian Navy's Northern Fleet?",answers:[{name:"Moscow"},{name:"Saint Petersburg"},{name:"Murmansk"},{name:"Sevastopol"}],correctAnswerIndex:2},{question:"In what year was the Russian Federation officially established, marking the modern era of the Russian military?",answers:[{name:"1991"},{name:"1993"},{name:"1995"},{name:"1999"}],correctAnswerIndex:0},{question:"Which Russian military operation annexed Crimea from Ukraine in 2014?",answers:[{name:"Operation Polar Star"},{name:"Operation Arctic Fox"},{name:"Operation Siberian Shield"},{name:"Operation Crimea"}],correctAnswerIndex:3},{question:"What is the name of Russia's main battle tank, known for its formidable firepower and armor?",answers:[{name:"T-72"},{name:"T-80"},{name:"T-90"},{name:"T-14 Armata"}],correctAnswerIndex:3},{question:"Which military exercise series, initiated by Russia, is one of the largest in the world, involving thousands of troops?",answers:[{name:"Exercise Suvorov"},{name:"Exercise Zapad"},{name:"Exercise Kavkaz"},{name:"Exercise Vostok"}],correctAnswerIndex:3},{question:"What is the name of Russia's primary combat aircraft, known for its versatility and role in air superiority?",answers:[{name:"Su-30"},{name:"MiG-31"},{name:"Su-57"},{name:"Tu-160"}],correctAnswerIndex:2},{question:"Which Russian military unit is famous for its demonstration of precision and coordination in military parades?",answers:[{name:"Spetsnaz"},{name:"VDV (Airborne Forces)"},{name:"Marines"},{name:"Presidential Regiment"}],correctAnswerIndex:3},{question:"What is the Russian term for a nuclear-powered ballistic missile submarine?",answers:[{name:"Kirov-class"},{name:"Yasen-class"},{name:"Typhoon-class"},{name:"Akula-class"}],correctAnswerIndex:2},{question:"Which Russian military figure is known as the 'Father of the Russian Navy' for his reforms and modernization efforts?",answers:[{name:"Peter the Great"},{name:"Admiral Kuznetsov"},{name:"Vladimir Putin"},{name:"Admiral Gorshkov"}],correctAnswerIndex:3},{question:"In which conflict did Russia deploy its military forces to support the Syrian government?",answers:[{name:"Libyan Civil War"},{name:"Yemeni Civil War"},{name:"Syrian Civil War"},{name:"Iraqi Civil War"}],correctAnswerIndex:2},{question:"What is the name of Russia's main strategic bomber, capable of carrying nuclear weapons and conducting long-range missions?",answers:[{name:"Tu-95"},{name:"Tu-22M"},{name:"Tu-160"},{name:"Su-24"}],correctAnswerIndex:2},{question:"Which Russian military branch is responsible for space operations and satellite launches?",answers:[{name:"Russian Space Forces"},{name:"Russian Strategic Missile Troops"},{name:"Russian Aerospace Forces"},{name:"Russian Airborne Troops"}],correctAnswerIndex:2},{question:"What is the name of Russia's primary infantry combat vehicle, widely used by its ground forces?",answers:[{name:"BMP-3"},{name:"BTR-80"},{name:"T-14 Armata"},{name:"Kurganets-25"}],correctAnswerIndex:0},{question:"Which military base, located in the Kaliningrad region, serves as a strategic outpost for Russia in Europe?",answers:[{name:"Sevastopol Naval Base"},{name:"Kronstadt Naval Base"},{name:"Luga Air Base"},{name:"Baltiysk Naval Base"}],correctAnswerIndex:3},{question:"What is the name of Russia's main anti-aircraft missile system, designed to defend against aerial threats?",answers:[{name:"S-300"},{name:"S-400"},{name:"Pantsir-S"},{name:"Tor-M2"}],correctAnswerIndex:1},{question:"Which Russian military doctrine emphasizes the use of nuclear weapons in response to conventional threats?",answers:[{name:"Gerasimov Doctrine"},{name:"Primakov Doctrine"},{name:"Makarov Doctrine"},{name:"Putin Doctrine"}],correctAnswerIndex:0},{question:"What is the name of Russia's main armored personnel carrier, widely used for troop transport?",answers:[{name:"BTR-82A"},{name:"BMP-2"},{name:"MT-LB"},{name:"Kurganets-25"}],correctAnswerIndex:0}],KK=[{question:"  15 + 7?",answers:[{name:"21"},{name:"22"},{name:"23"},{name:"24"}],correctAnswerIndex:1},{question:"     5 ,    24  ,     ?",answers:[{name:"110"},{name:"115"},{name:"120"},{name:"125"}],correctAnswerIndex:2},{question:"    12 ,    4  ,     ?",answers:[{name:"1"},{name:"1488"},{name:"8 ."},{name:"8 ."}],correctAnswerIndex:3},{question:"    3  ,    10  ,    ?",answers:[{name:" "},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:3},{question:"    6 ,    4  ,     ?",answers:[{name:"20"},{name:"22"},{name:"24"},{name:"26"}],correctAnswerIndex:2},{question:"      24 ,    3  ,     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"    20 ,    5 ,     ?",answers:[{name:"     "},{name:""},{name:"100"},{name:"34"}],correctAnswerIndex:2},{question:"    10 ,    8 ,     ?",answers:[{name:"70"},{name:"75"},{name:"80"},{name:"85"}],correctAnswerIndex:2},{question:"    8 ,    6 ,     ?",answers:[{name:"42"},{name:"44"},{name:"46"},{name:"48"}],correctAnswerIndex:3},{question:"    3 ,    4 ,     ?",answers:[{name:"8"},{name:"10"},{name:"12"},{name:"14"}],correctAnswerIndex:2},{question:"    4 ,     8  ,      ?",answers:[{name:"24"},{name:"28"},{name:"32"},{name:"36"}],correctAnswerIndex:2},{question:"    5 ,     40 ,     ?",answers:[{name:"180"},{name:"200"},{name:"220"},{name:"240"}],correctAnswerIndex:1},{question:"    5 ,    6 ,     ?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1},{question:"    10 ,    5 ,     ?",answers:[{name:"45"},{name:"50"},{name:"55"},{name:"60"}],correctAnswerIndex:1},{question:"    6 ,    8 .   ?",answers:[{name:"40 "},{name:"45 "},{name:"5 "},{name:"65 "}],correctAnswerIndex:2},{question:"    8 ,    4  ,     ?",answers:[{name:"28"},{name:"30"},{name:"32"},{name:"34"}],correctAnswerIndex:2},{question:"      20 ,    5  ,     ?",answers:[{name:"90"},{name:"100"},{name:"110"},{name:"120"}],correctAnswerIndex:1},{question:"    4 ,    6 ,     ?",answers:[{name:"20"},{name:"24"},{name:"28"},{name:"32"}],correctAnswerIndex:1},{question:"    18 ,    5 ,     ?",answers:[{name:"85"},{name:"90"},{name:"95"},{name:"100"}],correctAnswerIndex:1},{question:"    3 ,     10 ,     ?",answers:[{name:"25"},{name:"30"},{name:"35"},{name:"40"}],correctAnswerIndex:1}],YK=[{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"     ''?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"     ''?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"   : '  '  '  '?",answers:[{name:"  "},{name:"  "}],correctAnswerIndex:0},{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"    : , , , ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:3},{question:"     ''?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"         ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"         - ?",answers:[{name:" -35"},{name:"-29"},{name:" -57"},{name:"-31"}],correctAnswerIndex:0},{question:"          ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"       ?",answers:[{name:"-90"},{name:"-80"},{name:"-72"},{name:""}],correctAnswerIndex:0},{question:"          ?",answers:[{name:""},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"      ,    ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"           ?",answers:[{name:"-400"},{name:"-300"},{name:"-500"},{name:"-200"}],correctAnswerIndex:0},{question:"       ?",answers:[{name:" "},{name:" -160"},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"        - ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"        - ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"      ?",answers:[{name:"-7"},{name:" "},{name:""},{name:" "}],correctAnswerIndex:0},{question:"       ?",answers:[{name:"-95"},{name:"-30"},{name:"-35"},{name:"-22"}],correctAnswerIndex:0},{question:"        - ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"     ?",answers:[{name:""},{name:"-72"},{name:"-90"},{name:""}],correctAnswerIndex:0},{question:"       ?",answers:[{name:""},{name:""},{name:" "},{name:""}],correctAnswerIndex:0},{question:"      - ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"      ?",answers:[{name:"-24"},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"       ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"       ?",answers:[{name:""},{name:""},{name:" "},{name:""}],correctAnswerIndex:0}],QK=[{question:"       ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:2},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:3},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:3},{question:"  ''     ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:2},{question:"   ?",answers:[{name:" "},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"    ?",answers:[{name:" "},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"-     ?",answers:[{name:" "},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"  ?",answers:[{name:""},{name:" "},{name:" "},{name:" "}],correctAnswerIndex:0},{question:"    ?",answers:[{name:""},{name:" "},{name:"  "},{name:" "}],correctAnswerIndex:1},{question:"  ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:" -    ?",answers:[{name:"-"},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:1},{question:"   ?",answers:[{name:"-"},{name:"-"},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ?",answers:[{name:" "},{name:"-"},{name:" "},{name:" "}],correctAnswerIndex:1},{question:"   ?",answers:[{name:""},{name:"-"},{name:"-"},{name:""}],correctAnswerIndex:1},{question:"  ?",answers:[{name:"-"},{name:"-"},{name:"-"},{name:" "}],correctAnswerIndex:2},{question:"  ?",answers:[{name:"-"},{name:"-"},{name:""},{name:""}],correctAnswerIndex:0},{question:"  ?",answers:[{name:"-"},{name:"-"},{name:"-"},{name:"-"}],correctAnswerIndex:3},{question:"   ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:2},{question:"   ?",answers:[{name:""},{name:""},{name:"-"},{name:""}],correctAnswerIndex:1},{question:"    ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0},{question:"   ?",answers:[{name:"-"},{name:" "},{name:""},{name:" "}],correctAnswerIndex:3},{question:"   ?",answers:[{name:""},{name:""},{name:""},{name:""}],correctAnswerIndex:0}];function ZK({mode:t}){const[e,n]=p.useState(""),[r,s]=p.useState(),{authUser:o}=he(),i=p.useRef(null),{theme:a,setThemeById:l,elementColors:c,setElementColors:d}=p.useContext(B),h=ye(),m={english:{questions:GK,timePerQuestion:5},math:{questions:KK,timePerQuestion:20},russian:{questions:YK,timePerQuestion:15},kyrgyz:{questions:QK,timePerQuestion:20}}[t];p.useEffect(()=>{d({iconColor:a.icon_color,titleColor:a.text_first_color,showArrow:!0,arrowLink:()=>h("/quiz"),arrowColor:a.text_first_color,isHeaderBackground:!0,headerBackground:a.background_color,isHeader:!0,isFooter:!1,footerBackground:a.background_color,activeElementIndex:0,background:a.background_color}),document.body.style.background=a.background_color},[B]);const v=(Z,je)=>[...Z].sort(()=>.5-Math.random()).slice(0,je),[w,C]=p.useState([]),[_,g]=p.useState(0),[y,x]=p.useState(new Array(4).fill("base")),[b,S]=p.useState(0),[T,k]=p.useState(0),[E,N]=p.useState(!1),[A,I]=p.useState(!1),[j,R]=p.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[O,M]=p.useState({isShow:!1,images:[],index:null});p.useEffect(()=>{fetch("https://api.ipify.org?format=json").then(Z=>Z.json()).then(Z=>{n(Z.ip)}).catch(Z=>{console.error("Error fetching IP address:",Z)})},[]),p.useEffect(()=>{fetch("https://ipinfo.io/json?token=daabefc348f9fc").then(Z=>Z.json()).then(Z=>{console.log("IP Address:",Z.ip),console.log("City:",Z.city),console.log("Region:",Z.region),console.log("Country:",Z.country),console.log("Location:",Z.loc),console.log("Street:",Z.org),n({ip:Z.ip,city:Z.city,region:Z.region,location:Z.loc})}).catch(Z=>{console.error("Error fetching IP address and location:",Z)})},[]);const L=Z=>["","","","","","","","","","","",""][Z],P=Z=>new Promise((je,Ze)=>{const zn=new Image;zn.src=Z,zn.onload=()=>je(zn),zn.onerror=rs=>Ze(rs)}),D=async Z=>{try{const je=i.current,Ze=je.getContext("2d"),zn=await P("SMO.jpg"),rs=await P("print.png");Ze.drawImage(zn,0,0,je.width,je.height),Ze.font="20px Times New Roman",Ze.fillStyle="#000",Ze.fillText(o.name,145,48);const cu=Math.floor(Math.random()*9001)+1e3;Ze.font="16px Times New Roman",Ze.fillText(` :   ${e.city}, ${e.location}, IP : ${e.ip} `,170,68),Ze.font="20px Times New Roman",Ze.fillText(cu,680,95);const li=new Date;li.setDate(li.getDate()+1);const Y6=li.getDate(),Q6=li.getMonth(),Z6=L(Q6);Ze.fillText(Y6,420,138),Ze.fillText(Z6,470,138),Ze.drawImage(rs,450,140,200,200);const X6=je.toDataURL("image/png");Z(X6,cu)}catch(je){console.error("  :",je)}};p.useEffect(()=>{if(!m)return;const Z=v(m.questions,10);C(Z),k(m.timePerQuestion)},[t]);const F=Z=>{const je=Math.floor(Z/60),Ze=Z%60;return`${je}:${Ze<10?"0":""}${Ze}`};p.useEffect(()=>{let Z;return T>0&&!E&&!A?Z=setInterval(()=>{k(je=>je-1)},1e3):T===0&&!A&&te(),()=>clearInterval(Z)},[T,E,A]),p.useEffect(()=>{w[_]&&(x(new Array(w[_].answers.length).fill("base")),k(m.timePerQuestion),N(!1))},[_,w]);const q=Z=>{var je;if(!E&&!A){const Ze=(je=w[_])==null?void 0:je.correctAnswerIndex,zn=Z===Ze,rs=y.map((cu,li)=>li===Z?zn?"correct":"incorrect":cu);zn||(rs[Ze]="correct"),x(rs),zn&&S(b+5),N(!0),setTimeout(()=>jn(),2e3)}},te=()=>{var Z;if(!E&&!A){const je=(Z=w[_])==null?void 0:Z.correctAnswerIndex;if(je!==void 0){const Ze=y.map((zn,rs)=>rs===je?"correct":"base");x(Ze),N(!0),setTimeout(()=>jn(),2e3)}}},ne=()=>{h("/quiz")},[ue,Pe]=p.useState(!1);p.useEffect(()=>{!O.isShow&&ue&&(R({...j,isShow:!0}),Pe(!1))},[O.isShow]);const jn=async()=>{_<w.length-1?g(_+1):(I(!0),t==="kyrgyz"?b>40?D(Z=>{M({isShow:!0,images:[Z],index:0}),Pe(!0),R({title:" !",text:` !  : ${b}.           !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&D(Z=>{M({isShow:!0,images:[Z],index:0}),Pe(!0),R({title:" !",text:` !  : ${b}.           !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:ne,secondButtonOnClick:vn})}):t==="russian"?b>40?D(Z=>{M({isShow:!0,images:[Z],index:0}),Pe(!0),R({title:" !",text:` !  : ${b}.          , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&D(Z=>{M({isShow:!0,images:[Z],index:0}),Pe(!0),R({title:" !",text:` !  : ${b}.        , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:ne,secondButtonOnClick:vn})}):t==="math"?b>40?D(Z=>{M({isShow:!0,images:[Z],index:0}),Pe(!0),R({title:" !",text:` !  : ${b}.           , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&D(Z=>{M({isShow:!0,images:[Z],index:0}),Pe(!0),R({title:" !",text:` !  : ${b}.         , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:ne,secondButtonOnClick:vn})}):t==="english"&&(b>40?D(Z=>{M({isShow:!0,images:[Z],index:0}),Pe(!0),R({title:" !",text:` !  : ${b}.          , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:ne,secondButtonOnClick:vn})}):b<20&&D(Z=>{M({isShow:!0,images:[Z],index:0}),Pe(!0),R({title:" !",text:` !  : ${b}.        , !`,firstButtonName:"",secondButtonName:" ",firstButtonOnClick:ne,secondButtonOnClick:vn})})))},vn=()=>{I(!1),C(v(m.questions,10)),g(0),x(new Array(4).fill("base")),S(0),k(m.timePerQuestion),N(!1),R({isShow:!1})},K6=(_+1)/w.length*100;return w[_]?u.jsxs("div",{className:dn.container,children:[u.jsx("canvas",{ref:i,width:"816",height:"367",style:{display:"none"}}),u.jsx(ii,{isShow:O.isShow,images:O.images,index:O.index,onClose:()=>M({isShow:!1})}),u.jsx(ai,{title:j.title,text:j.text,isShow:j.isShow,firstButtonName:j.firstButtonName,secondButtonName:j.secondButtonName,firstButtonOnClick:j.firstButtonOnClick,secondButtonOnClick:j.secondButtonOnClick}),u.jsx(lu,{name:"",isBalance:!1,count:F(T)}),u.jsxs("h3",{className:dn["question-index"],style:{color:a.text_first_color},children:[": ",_+1," / ",w.length]}),u.jsx(qK,{color:a.first_color,progress:`${K6}%`}),u.jsx("div",{className:dn["question-body"],style:{color:a.text_first_color},children:w[_].question}),u.jsx("div",{className:dn["variants-container"],children:w[_].answers.map((Z,je)=>u.jsx(WK,{name:Z.name,state:y[je],onClick:()=>q(je)},je))})]}):null}function XK({blockColor:t,name:e,textColor:n,arrowBackground:r,labelColor:s,labelTextColor:o,labelName:i,onClick:a}){const{theme:l,setThemeById:c,elementColors:d,setElementColors:h}=p.useContext(B);return u.jsxs("div",{className:dn.block,style:{background:t},onClick:a,children:[u.jsxs("section",{className:dn["block-info"],children:[u.jsx("h5",{className:dn["block-name"],style:{color:n},children:e}),u.jsx("div",{className:dn["block-label"],style:{background:s,color:o},children:i})]}),u.jsx("div",{className:dn["block-arrow"],style:{background:r},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 -9.62973e-08C10.5523 -9.62973e-08 11 0.447715 11 1V10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10V2H1C0.447716 2 2.84554e-07 1.55228 2.84554e-07 1C2.84554e-07 0.447715 0.447716 -9.62973e-08 1 -9.62973e-08H10ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:n})})})]})}function JK(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B),s=ye(),[o,i]=p.useState(),a=[{blockColor:t.second_color,name:"English",labelName:"5 ",textColor:t.background_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/english")},{blockColor:t.third_color,name:" ",labelName:"20 ",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/kyrgyz")},{blockColor:t.first_color,name:" ",labelName:"15 ",textColor:t.text_first_color,labelcolor:t.text_first_color,labelTextColor:t.background_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/russian")},{blockColor:t.second_color,name:"",labelName:"20 ",textColor:t.background_color,labelcolor:t.background_color,labelTextColor:t.text_first_color,arrowBackground:t.block_arrow_first_color,onClick:()=>s("/quiz/math")}];return p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[B]),u.jsxs("div",{className:dn.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),u.jsx("h4",{className:dn.title,style:{color:t.text_first_color},children:" :"}),a.map((l,c)=>u.jsx(XK,{blockColor:l.blockColor,name:l.name,textColor:l.textColor,labelColor:l.labelcolor,labelName:l.labelName,labelTextColor:l.labelTextColor,arrowBackground:l.arrowBackground,onClick:l.onClick},c))]})}function eY(){const{mode:t}=ns();return t?u.jsx(ZK,{mode:t}):u.jsx(JK,{})}const tY="_container_8l478_2",nY="_add_8l478_31",ls={container:tY,"search-input-container":"_search-input-container_8l478_12","search-container":"_search-container_8l478_23",add:nY,"empty-body":"_empty-body_8l478_51","empty-photo":"_empty-photo_8l478_60","empty-info":"_empty-info_8l478_70","empty-name":"_empty-name_8l478_79"},rY="_container_1qk2k_1",sY="_icon_1qk2k_10",oY="_input_1qk2k_16",Bm={container:rY,icon:sY,input:oY};function W6({value:t,onChange:e,placeholder:n}){const{theme:r,setElementColors:s}=p.useContext(B),[o,i]=p.useState("");return u.jsxs("div",{className:Bm.container,style:{background:r.element_first_color},children:[u.jsx("div",{className:Bm.icon,children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M11.8637 11.7356C12.8296 10.5965 13.4157 9.10026 13.4157 7.46154C13.4157 3.89293 10.6363 1 7.20785 1C3.77935 1 1 3.89293 1 7.46154C1 11.0301 3.77935 13.9231 7.20785 13.9231C9.06196 13.9231 10.7262 13.077 11.8637 11.7356ZM11.8637 11.7356L15 15",stroke:r.text_first_color,"stroke-linejoin":"round"})})}),u.jsx("input",{className:Bm.input,placeholder:n,onChange:e,style:{"--caret-color":r.first_color,"--placeholder-color":r.text_third_color,color:r.text_first_color}})]})}const iY="_body_1amdf_2",aY="_photo_1amdf_11",lY="_info_1amdf_27",cY="_name_1amdf_36",Ku={body:iY,photo:aY,info:lY,name:cY};function G6({id:t,name:e,photo:n,onClick:r}){const{theme:s,setElementColors:o}=p.useContext(B),i=()=>{r(t)};return u.jsxs("div",{className:Ku.body,style:{borderTop:`1px solid ${s.element_first_color}`},onClick:i,children:[u.jsx("div",{className:Ku.photo,children:u.jsx("img",{src:n,alt:""})}),u.jsx("div",{className:Ku.info,children:u.jsx("div",{className:Ku.name,style:{color:s.text_first_color},children:e})})]})}function uY(){const{theme:t,setElementColors:e}=p.useContext(B),{authUser:n}=he(),[r,s]=p.useState([]),[o,i]=p.useState(""),[a,l]=p.useState(!1),c=ye();p.useEffect(()=>{e({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>c("/home"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:1}),document.body.style.background=t.background_color},[t]);const d=async()=>{const v=Cr(K,"groups"),w=await uD(v),C=[];return await Promise.all(w.docs.map(async _=>{const g=_.id,y=J(K,"groups",g,"info","info"),x=await ce(y);if(x.exists()){const b=x.data();C.push({id:g,name:b.name,photo:b.photo,membersCount:b.members?b.members.length:0,isGroup:!0})}})),C.sort((_,g)=>g.membersCount-_.membersCount),C};p.useEffect(()=>{(async()=>{try{l(!0);const w=await d();s([...w])}catch(w){console.error("Error fetching data:",w)}finally{l(!1)}})()},[]);const h=v=>{i(v.target.value)},f=r.filter(v=>v.name.toLowerCase().includes(o.toLowerCase())||v.id.toLowerCase().includes(o.toLowerCase())),m=(v,w)=>{c(w?`/group/${v}`:`/profile/${v}`)};return u.jsxs("div",{className:ls.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color};
                  border-radius: 5px;
                  cursor: pointer;
                }
                ::-webkit-scrollbar-track {
                  background-color: rgba(0, 0, 0, 0.3);
                }
            `}),u.jsx("div",{className:ls["search-input-container"],style:{background:t.background_color},children:u.jsx(W6,{value:o,onChange:h,placeholder:"   "})}),u.jsx("div",{className:ls["search-container"],children:a?Array.from({length:2}).map((v,w)=>u.jsxs("div",{className:ls["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[u.jsx("div",{className:ls["empty-photo"],children:u.jsx(Cn,{height:"30px",width:"30px",shape:"circle"})}),u.jsx("div",{className:ls["empty-info"],children:u.jsx("div",{className:ls["empty-name"],style:{color:t.text_first_color},children:u.jsx(Cn,{height:"10px",width:"100px",shape:"rect"})})})]},w)):f.map((v,w)=>u.jsx(G6,{id:v.id,name:v.name,photo:v.photo,onClick:()=>m(v.id,v.isGroup)},w))}),u.jsx("button",{className:ls.add,style:{background:t.first_color},onClick:()=>c("/create-group"),children:u.jsx("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1 9H9M17 9L9 9M9 9V1M9 9L9 17",stroke:t.text_first_color,strokeWidth:"2",strokeLinecap:"round"})})})]})}const dY="_container_bn3pq_2",hY="_cover_bn3pq_22",fY="_label_bn3pq_189",W={container:dY,"profile-container":"_profile-container_bn3pq_13","cover-container":"_cover-container_bn3pq_22",cover:hY,"cover-pattern":"_cover-pattern_bn3pq_41","group-photo":"_group-photo_bn3pq_49","change-photo-button":"_change-photo-button_bn3pq_68","group-actions":"_group-actions_bn3pq_86","group-info":"_group-info_bn3pq_92","group-name":"_group-name_bn3pq_99","circle-button":"_circle-button_bn3pq_104","group-description":"_group-description_bn3pq_121","button-container":"_button-container_bn3pq_126","quit-button":"_quit-button_bn3pq_135","colors-container":"_colors-container_bn3pq_152","color-circle":"_color-circle_bn3pq_162","active-circle":"_active-circle_bn3pq_172","input-data-container":"_input-data-container_bn3pq_179",label:fY,"input-data":"_input-data_bn3pq_179","item-body":"_item-body_bn3pq_205","item-name":"_item-name_bn3pq_226","item-info":"_item-info_bn3pq_233","item-circle":"_item-circle_bn3pq_241","posts-container":"_posts-container_bn3pq_258"};function pY({fetchGroupData:t,handleEdit:e}){const{theme:n,elementColors:r,setElementColors:s}=p.useContext(B),{authUser:o}=he(),{id:i}=ns(),[a,l]=p.useState(""),[c,d]=p.useState(""),[h,f]=p.useState(!0),[m,v]=p.useState(null),[w,C]=p.useState(""),[_,g]=p.useState([]),[y,x]=p.useState({isShow:!1,text:""}),[b,S]=p.useState([]);p.useEffect(()=>{(async()=>{if(i)try{const I=J(K,"groups",i,"info","info"),j=await ce(I);if(j.exists()){const R=j.data();C(R.cover),l(R.name),d(R.description),S(R),console.log(R)}else console.log("No such document!")}catch(I){console.error("Error fetching group data:",I)}else console.error("ID   ")})()},[i]),p.useEffect(()=>{(async()=>{if(o&&o._id){const I=J(K,"users",o._id,"info","preferences"),j=await ce(I);if(j.exists()){const R=j.data();g(O=>[...O,...R.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[o]);const T=_?au.filter(A=>_.includes(A.name)):[];p.useEffect(()=>{s({iconColor:n.icon_color,titleColor:n.text_first_color,showArrow:!0,arrowLink:()=>e(),arrowColor:n.text_first_color,isHeaderBackground:!1,headerBackground:n.background_color,isHeader:!0,isFooter:!0,footerBackground:n.background_color,activeElementIndex:4}),document.body.style.background=n.background_color},[n]),p.useEffect(()=>{if(y.isShow){const A=setTimeout(()=>{x({isShow:!1})},1500);return()=>clearTimeout(A)}},[y.isShow]);const k=A=>{A.target.files[0]&&(v(A.target.files[0]),console.log(A.target.files[0]))},E=A=>{C(A)},N=async()=>{let A=null;const I=new Date().toISOString();if(m){const j=br(kr,`groups_photo/${i}/${I}_${m.name}`);await qo(j,m),A=await Jr(j)}if(i){const j=J(K,"groups",i,"info","info");try{await gt(j,{name:a,description:c,photo:m?A:b.photo,cover:w},{merge:!0}),await t(),e()}catch(R){console.error("Error updating document: ",R)}}};return u.jsxs("div",{className:W["profile-container"],children:[u.jsx(Yt,{isShow:y.isShow,text:y.text}),u.jsx("div",{className:W["cover-container"],children:u.jsx("div",{className:W.cover,style:{background:w},children:u.jsx("div",{className:W["cover-pattern"]})})}),u.jsxs("div",{className:W["group-photo"],style:{borderColor:n.background_color,background:n.background_color},children:[u.jsx("button",{className:W["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),u.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),u.jsx("img",{src:m?URL.createObjectURL(m):b.photo}),u.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:k})]}),u.jsx("div",{className:W["colors-container"],style:{background:n.element_first_color},children:T.map(A=>u.jsx(u.Fragment,{children:A.colors.map((I,j)=>u.jsx("div",{className:W["color-circle"],style:{background:I},onClick:()=>E(I),children:w===I&&u.jsx("div",{className:W["active-circle"],style:{borderColor:n.text_first_color}})},j))}))}),u.jsxs("div",{className:W["group-actions"],style:{background:n.element_first_color},children:[u.jsxs("div",{className:W["input-data-container"],children:[u.jsx("div",{className:W.label,style:{color:n.first_color},children:""}),u.jsx("input",{type:"text",value:a,className:W["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:A=>l(A.target.value)})]}),u.jsxs("div",{className:W["input-data-container"],children:[u.jsx("div",{className:W.label,style:{color:n.text_first_color},children:" "}),u.jsx("input",{type:"text",value:c,className:W["input-data"],style:{color:n.text_first_color,caretColor:n.first_color},onChange:A=>d(A.target.value)})]}),u.jsx("div",{className:W["button-container"],children:u.jsx("button",{className:W["quit-button"],style:{background:n.first_color,color:n.text_first_color},onClick:N,children:""})})]})]})}function mY(){const{theme:t,setElementColors:e}=p.useContext(B),{authUser:n,ga:r}=he(),[s,o]=p.useState({}),i=ye(),{id:a}=ns(),[l,c]=p.useState(!1),[d,h]=p.useState({isShow:!1,text:""}),[f,m]=p.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[v,w]=p.useState({isShow:!1,images:[],index:null}),[C,_]=p.useState([]),[g,y]=p.useState(!1),[x,b]=p.useState(!1);p.useEffect(()=>{e({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>i("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]);const S=async()=>{if(a)try{const L=J(K,"groups",a,"info","info"),P=await ce(L);if(P.exists()){const D=P.data();o(D),console.log(D)}else console.log("No such document!"),o({isGroup:!1,name:"  ",photo:"1",membersCount:0,owner:null})}catch(L){console.error("Error fetching group data:",L)}else console.error("ID   ")};p.useEffect(()=>{S()},[a]);const T=()=>{navigator.clipboard.writeText(a).then(()=>{h({isShow:!0,text:"ID     "}),console.log(s)}).catch(L=>{h({isShow:!0,text:`   ID: ${L}`})})};p.useEffect(()=>{if(d.isShow){const L=setTimeout(()=>{h({isShow:!1})},1500);return()=>clearTimeout(L)}},[d.isShow]);const k=()=>{c(!1),h({isShow:!0,text:"  "})},E=L=>{w({isShow:!0,images:L,index:0})},N=async()=>{if(n._id){const L=J(K,"groups",a,"info","info"),P=J(K,"users",n._id,"info","preferences");try{const D=await ce(P),F=await ce(L);if(F.exists()){let q;const te=F.data().members||[];te.includes(n._id)?(q=te.filter(ne=>ne!==n._id),D.exists()&&await gt(P,{mainGroup:null},{merge:!0})):(q=[...te,n._id],D.exists()&&await gt(P,{mainGroup:a},{merge:!0})),await gt(L,{members:q},{merge:!0}),await S()}else console.error("No such document!")}catch(D){console.error("Error updating document: ",D)}}};p.useEffect(()=>{const L=$a(Xc(Cr(K,"posts"),Jc("timestamp","desc")),P=>{const D=[];P.forEach(F=>{const q=F.data();if(q.userId===a){const te=new Date(q.timestamp),ne=q.likesArray,ue=te.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});D.push({id:F.id,userId:q.userId,userName:q.userName,groupOwnerId:q.groupOwnerId,userPhoto:q.userPhoto,postText:q.text,postPhoto:q.photos,postData:ue,likesArray:ne})}}),_(D),y(!1)});return()=>{L()}},[a]);const A=async(L,P)=>{try{const D=new Date().toISOString();let F=[];for(const q of P){const te=br(kr,`groups_photo/${a}/${D}_${q.name}`);await qo(te,q);const ne=await Jr(te);F.push(ne)}await I(L,F)}catch(D){console.error("Error handling send: ",D)}},I=async(L,P)=>{try{const D=new Date().toISOString();await Gf(Cr(K,"posts"),{photos:P,text:L,timestamp:D,userId:a,groupOwnerId:s.owner,userName:s.name,userPhoto:s.photo,likesArray:[]}),console.log("Message saved successfully.")}catch(D){console.error("Error adding document: ",D)}},j=(L,P)=>{w({isShow:!0,images:L,index:P})},R=()=>{m({isShow:!1})},O=async L=>{m({isShow:!1});try{await q9(J(K,"posts",L))}catch(P){console.error("Error deleting post: ",P)}finally{h({isShow:!0,text:" "})}},M=(L,P)=>{switch(L){case"delete":return m({isShow:!0,title:" ",text:"    ?",firstButtonName:"",secondButtonName:"",firstButtonOnClick:R,secondButtonOnClick:()=>O(P)});default:return m({isShow:!0,title:"",text:"",firstButtonName:"",secondButtonName:"",firstButtonOnClick:null,secondButtonOnClick:null})}};return u.jsxs("div",{className:W.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),u.jsx(ii,{isShow:v.isShow,images:v.images,index:v.index,onClose:()=>w({isShow:!1})}),u.jsx(ai,{title:f.title,text:f.text,isShow:f.isShow,firstButtonName:f.firstButtonName,secondButtonName:f.secondButtonName,firstButtonOnClick:f.firstButtonOnClick,secondButtonOnClick:f.secondButtonOnClick}),u.jsx(Yt,{isShow:d.isShow,text:d.text}),l?u.jsx(pY,{handleEdit:k,fetchGroupData:S,id:s.userId}):u.jsxs("div",{className:W["profile-container"],children:[u.jsx("div",{className:W["cover-container"],children:u.jsx("div",{className:W.cover,style:{background:s.cover},children:u.jsx("div",{className:W["cover-pattern"]})})}),u.jsx("div",{className:W["group-photo"],style:{borderColor:t.background_color},children:u.jsx("img",{src:s.photo,onClick:()=>E(s.photo)})}),u.jsxs("div",{className:W["group-actions"],style:{background:t.element_first_color},children:[u.jsxs("div",{className:W["group-info"],children:[u.jsx("div",{className:W["group-name"],style:{color:t.text_first_color},children:s.name}),u.jsx("button",{className:W["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:T,children:"#"})]}),u.jsx("div",{className:W["group-description"],style:{color:t.text_first_color},children:s.description}),u.jsxs("div",{className:W["button-container"],children:[u.jsx("button",{className:W["quit-button"],style:{background:s.members&&s.members.includes(n._id)?t.element_second_color:t.first_color,color:t.text_first_color},onClick:N,children:s.members&&s.members.includes(n._id)?"":""}),u.jsx("button",{className:W["circle-button"],style:{color:t.text_first_color,background:t.first_color},onClick:()=>c(!0),children:u.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M14.7563 3.36828C15.0812 3.04333 15.0812 2.50174 14.7563 2.19345L12.8066 0.243716C12.4983 -0.0812387 11.9567 -0.0812387 11.6317 0.243716L10.0986 1.7685L13.2232 4.89307M0 11.8754V15H3.12457L12.34 5.77628L9.21539 2.65171L0 11.8754Z",fill:t.text_first_color})})})]})]}),u.jsxs("div",{className:W["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/subscribers/${a}?isGroup=true`),children:[u.jsx("div",{className:W["item-info"],children:u.jsxs("div",{className:W["item-name"],style:{color:t.text_first_color},children:[": ",s.members?s.members.length:0]})}),u.jsx("div",{className:W["item-circle"],style:{background:t.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),u.jsxs("div",{className:W["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/timetable/${a}`),children:[u.jsx("div",{className:W["item-info"],children:u.jsx("div",{className:W["item-name"],style:{color:t.text_first_color},children:" "})}),u.jsx("div",{className:W["item-circle"],style:{background:t.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),u.jsxs("div",{className:W["item-body"],style:{border:`2px solid ${t.element_first_color}`},onClick:()=>i(`/download/${a}`),children:[u.jsx("div",{className:W["item-info"],children:u.jsx("div",{className:W["item-name"],style:{color:t.text_first_color},children:" "})}),u.jsx("div",{className:W["item-circle"],style:{background:t.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:t.text_first_color})})})]}),u.jsx(e_,{placeholder:" ?",isPanelTop:!1,onSend:A}),u.jsx("div",{className:W["posts-container"],children:g?u.jsxs(u.Fragment,{children:[u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{})]}):C.map(L=>u.jsx(yp,{postId:L.id,groupOwnerId:L.groupOwnerId,userId:L.userId,userName:L.userName,userPhoto:L.userPhoto,postData:L.postData,postText:L.postText,postPhotos:L.postPhoto,likesArray:L.likesArray,photoClick:j,postAction:M},L.id))})]})]})}function gY({id:t}){const{theme:e,setElementColors:n}=p.useContext(B),{authUser:r}=he(),[s,o]=p.useState({name:"",description:"",photo:"",cover:"",balance:0,members:[]}),[i,a]=p.useState({isShow:!1,text:""}),[l,c]=p.useState([]),[d,h]=p.useState(!1),[f,m]=p.useState({isShow:!1,images:[],index:null}),v=ye();p.useEffect(()=>{n({iconColor:e.icon_color,titleColor:e.text_first_color,showArrow:!0,arrowLink:()=>v("/search"),arrowColor:e.text_first_color,isHeaderBackground:!1,headerBackground:e.background_color,isHeader:!0,isFooter:!0,footerBackground:e.background_color,activeElementIndex:4}),document.body.style.background=e.background_color},[e]);const w=async()=>{if(t)try{const y=J(K,"groups",t,"info","info"),x=await ce(y);if(x.exists()){const b=x.data();o(b),console.log(b)}else console.log("No such document!"),o({isGroup:!1,name:"  ",photo:"1",membersCount:0,owner:null})}catch(y){console.error("Error fetching group data:",y)}else console.error("ID   ")};p.useEffect(()=>{w()},[t]),p.useEffect(()=>{if(i.isShow){const y=setTimeout(()=>{a({isShow:!1})},1500);return()=>clearTimeout(y)}},[i.isShow]);const C=async()=>{if(r._id){const y=J(K,"groups",t,"info","info"),x=J(K,"users",r._id,"info","preferences");try{const b=await ce(x),S=await ce(y);if(S.exists()){let T;const k=S.data().members||[];k.includes(r._id)?(T=k.filter(E=>E!==r._id),b.exists()&&await gt(x,{mainGroup:null},{merge:!0})):(T=[...k,r._id],b.exists()&&await gt(x,{mainGroup:t},{merge:!0})),await gt(y,{members:T},{merge:!0}),await w()}else console.error("No such document!")}catch(b){console.error("Error updating document: ",b)}}};p.useEffect(()=>{const y=$a(Xc(Cr(K,"posts"),Jc("timestamp","desc")),x=>{const b=[];x.forEach(S=>{const T=S.data();if(T.userId===t){const k=new Date(T.timestamp),E=T.likesArray,N=k.toLocaleDateString("ru-RU",{day:"2-digit",month:"long"});b.push({id:S.id,userId:T.userId,userName:T.userName,groupOwnerId:T.groupOwnerId,userPhoto:T.userPhoto,postText:T.text,postPhoto:T.photos,postData:N,likesArray:E})}}),c(b),h(!1)});return()=>{y()}},[t]);const _=(y,x)=>{m({isShow:!0,images:y,index:x})},g=(y,x)=>{switch(y){case"delete":return setAlertProp({isShow:!0,title:" ",text:"    ?",firstButtonName:"",secondButtonName:"",firstButtonOnClick:closeAlert,secondButtonOnClick:()=>deletePost(x)});default:return setAlertProp({isShow:!0,title:"",text:"",firstButtonName:"",secondButtonName:"",firstButtonOnClick:null,secondButtonOnClick:null})}};return u.jsxs("div",{className:W.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${e.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),u.jsx(ii,{isShow:f.isShow,images:f.images,index:f.index,onClose:()=>m({isShow:!1})}),u.jsx(Yt,{isShow:i.isShow,text:i.text}),u.jsx("div",{className:W["cover-container"],children:u.jsx("div",{className:W.cover,style:{background:"var(--first-color)"},children:u.jsx("div",{className:W["cover-pattern"]})})}),u.jsx("div",{className:W["group-photo"],style:{borderColor:e.background_color},children:u.jsx("img",{src:s.photo||"/genery/public/1.png",alt:`${s.name} photo`})}),u.jsxs("div",{className:W["group-actions"],style:{background:e.element_first_color},children:[u.jsx("div",{className:W["group-info"],children:u.jsx("div",{className:W["group-name"],style:{color:e.text_first_color},children:s.name})}),u.jsx("div",{className:W["group-biography"],style:{color:e.text_first_color},children:s.description}),u.jsx("div",{className:W["button-container"],children:u.jsx("button",{className:W["quit-button"],style:{background:s.members.includes(r._id)?e.element_second_color:e.first_color,color:e.text_first_color},onClick:C,children:s.members&&s.members.includes(r._id)?"":""})})]}),u.jsxs("div",{className:W["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>v(`/subscribers/${t}?isGroup=true`),children:[u.jsx("div",{className:W["item-info"],children:u.jsxs("div",{className:W["item-name"],style:{color:e.text_first_color},children:[": ",s.members?s.members.length:0]})}),u.jsx("div",{className:W["item-circle"],style:{background:e.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),u.jsxs("div",{className:W["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>v(`/timetable/${t}`),children:[u.jsx("div",{className:W["item-info"],children:u.jsx("div",{className:W["item-name"],style:{color:e.text_first_color},children:" "})}),u.jsx("div",{className:W["item-circle"],style:{background:e.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),u.jsxs("div",{className:W["item-body"],style:{border:`2px solid ${e.element_first_color}`},onClick:()=>v(`/download/${t}`),children:[u.jsx("div",{className:W["item-info"],children:u.jsx("div",{className:W["item-name"],style:{color:e.text_first_color},children:" "})}),u.jsx("div",{className:W["item-circle"],style:{background:e.first_color},children:u.jsx("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M1.70711 10.7071C1.31658 11.0976 0.683418 11.0976 0.292893 10.7071C-0.0976311 10.3166 -0.0976311 9.68342 0.292893 9.29289L1.70711 10.7071ZM10 4.72575e-08C10.5523 -3.74211e-07 11 0.447715 11 1L11 10C11 10.5523 10.5523 11 10 11C9.44772 11 9 10.5523 9 10L9 2L1 2C0.447715 2 2.8711e-07 1.55228 2.8711e-07 1C2.8711e-07 0.447715 0.447715 -1.63477e-07 1 -1.63477e-07L10 4.72575e-08ZM0.292893 9.29289L9.29289 0.292893L10.7071 1.70711L1.70711 10.7071L0.292893 9.29289Z",fill:e.text_first_color})})})]}),u.jsx("div",{className:W["posts-container"],children:d?u.jsxs(u.Fragment,{children:[u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{}),u.jsx(Bt,{})]}):l.map(y=>u.jsx(yp,{postId:y.id,groupOwnerId:y.groupOwnerId,userId:y.userId,userName:y.userName,userPhoto:y.userPhoto,postData:y.postData,postText:y.postText,postPhotos:y.postPhoto,likesArray:y.likesArray,photoClick:_,postAction:g},y.id))})]})}function yY(){const{authUser:t}=he(),{id:e}=ns(),[n,r]=p.useState(null),[s,o]=p.useState(!0);return p.useEffect(()=>{(async()=>{try{const a=J(K,"groups",e,"info","info"),l=await ce(a);if(l.exists()){const c=l.data();r(c.owner)}else console.error("Group not found")}catch(a){console.error("Error fetching group data:",a)}finally{o(!1)}})()},[e]),n===t._id?u.jsx(mY,{id:e}):u.jsx(gY,{id:e})}const vY="_container_1hmv2_2",sl={container:vY,"empty-body":"_empty-body_1hmv2_9","empty-photo":"_empty-photo_1hmv2_18","empty-info":"_empty-info_1hmv2_28","empty-name":"_empty-name_1hmv2_37"};function _Y(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),{authUser:r}=he(),[s,o]=p.useState(!1),[i,a]=p.useState(null),l=ye(),[c,d]=p.useState(),[h,f]=p.useState();p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!1,arrowLink:()=>l("/search"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:2}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{let v;return(async()=>{if(r){const C=J(K,"users",r._id,"info","preferences");v=$a(C,async _=>{if(_.exists()){const g=_.data(),y=g.mainGroup;if(f(g.mainGroup),y){const x=J(K,"groups",y,"info","info"),b=await ce(x);b.exists()?a(b.data()):a({isGroup:!1,name:"  ",photo:"1",membersCount:0,owner:null}),o(!1)}}})}})(),()=>{v&&v()}},[r]);const m=v=>{l(`/group/${v}`)};return u.jsx("div",{className:sl.container,children:s?u.jsxs("div",{className:sl["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[u.jsx("div",{className:sl["empty-photo"],children:u.jsx(Cn,{height:"30px",width:"30px",shape:"circle"})}),u.jsx("div",{className:sl["empty-info"],children:u.jsx("div",{className:sl["empty-name"],style:{color:t.text_first_color},children:u.jsx(Cn,{height:"10px",width:"100px",shape:"rect"})})})]}):i&&u.jsx(G6,{name:i.name,photo:i.photo,id:h,onClick:m})})}const wY="_container_144b8_2",xY="_cover_144b8_22",CY="_label_144b8_189",ut={container:wY,"profile-container":"_profile-container_144b8_13","cover-container":"_cover-container_144b8_22",cover:xY,"cover-pattern":"_cover-pattern_144b8_41","group-photo":"_group-photo_144b8_49","change-photo-button":"_change-photo-button_144b8_68","group-actions":"_group-actions_144b8_86","button-container":"_button-container_144b8_126","quit-button":"_quit-button_144b8_135","colors-container":"_colors-container_144b8_152","color-circle":"_color-circle_144b8_162","active-circle":"_active-circle_144b8_172","input-data-container":"_input-data-container_144b8_179",label:CY,"input-data":"_input-data_144b8_179"};var bY=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};function kY({}){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),{authUser:r}=he(),{id:s}=ns(),[o,i]=p.useState(""),[a,l]=p.useState(""),[c,d]=p.useState(!0),[h,f]=p.useState(null),[m,v]=p.useState("#0040F9"),[w,C]=p.useState([]),[_,g]=p.useState({isShow:!1,text:""}),[y,x]=p.useState([]),b=ye(),S=[t.first_color,t.second_color,t.third_color];p.useEffect(()=>{(async()=>{if(r&&r._id){const j=J(K,"users",r._id,"info","preferences"),R=await ce(j);if(R.exists()){const O=R.data();C(M=>[...M,...O.boughtColors])}else console.log("No such document!")}else console.error("authUser or authUser._id is undefined")})()},[r]);const T=w?au.filter(I=>w.includes(I.name)):[];p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>b("/search"),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t]),p.useEffect(()=>{if(_.isShow){const I=setTimeout(()=>{g({isShow:!1})},1500);return()=>clearTimeout(I)}},[_.isShow]);const k=I=>{I.target.files[0]&&(f(I.target.files[0]),console.log(I.target.files[0]))},E=I=>{v(I)},N=async()=>{let I=null;const j=new Date().toISOString();if(o.length<=3){g({isShow:!0,text:"    3- "});return}if(h){const R=br(kr,`groups_photo/${j}_${h.name}`);await qo(R,h),I=await Jr(R)}else{const R=bY(500,500),O=R.getContext("2d"),M=S[Math.floor(Math.random()*S.length)];O.fillStyle=M,O.fillRect(0,0,R.width,R.height),O.fillStyle="white",O.font="bold 250px Inter",O.textAlign="center",O.textBaseline="middle",O.fillText(o[0].toUpperCase(),R.width/2,R.height/2);const L=await new Promise(D=>R.toBlob(D)),P=br(kr,`groups_photo/${j}_${o}_default.png`);await qo(P,L),I=await Jr(P)}try{const R=Cr(K,"groups"),M=(await Gf(R,{})).id,L=J(K,"groups",M,"info","info");await gt(L,{name:o,description:a,photo:I,cover:m,owner:r._id,members:[r._id]},{merge:!0}),b(`/group/${M}`)}catch(R){console.error("Error creating document: ",R)}};function A(I){if(!I)return!1;let j,R,O;if(I.startsWith("#"))if(I.length===4)j=parseInt(I[1]+I[1],16),R=parseInt(I[2]+I[2],16),O=parseInt(I[3]+I[3],16);else if(I.length===7)j=parseInt(I.slice(1,3),16),R=parseInt(I.slice(3,5),16),O=parseInt(I.slice(5,7),16);else return!1;else if(I.startsWith("rgb")){const L=I.substring(I.indexOf("(")+1,I.lastIndexOf(")")).split(",").map(Number);if(L.length===3)j=L[0],R=L[1],O=L[2];else return!1}else{const L=document.createElement("div");L.style.color=I,document.body.appendChild(L);const P=window.getComputedStyle(L).color;if(document.body.removeChild(L),P.startsWith("rgb")){const D=P.substring(P.indexOf("(")+1,P.lastIndexOf(")")).split(",").map(Number);if(D.length===3)j=D[0],R=D[1],O=D[2];else return!1}else return!1}return(j*299+R*587+O*114)/1e3>180}return u.jsx("div",{className:ut.container,children:u.jsxs("div",{className:ut["profile-container"],children:[u.jsx(Yt,{isShow:_.isShow,text:_.text}),u.jsx("div",{className:ut["cover-container"],children:u.jsx("div",{className:ut.cover,style:{background:m},children:u.jsx("div",{className:ut["cover-pattern"]})})}),u.jsxs("div",{className:ut["group-photo"],style:{borderColor:t.background_color,background:t.background_color},children:[u.jsx("button",{className:ut["change-photo-button"],onClick:()=>document.getElementById("photo-input").click(),children:u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M32.3158 4V9.05263M32.3158 14.1053V9.05263M32.3158 9.05263H37.3684M32.3158 9.05263H27.2632M22.2105 9.05263H12.1053L8.73684 12.4211H4C2.89543 12.4211 2 13.3165 2 14.4211V34C2 35.1046 2.89543 36 4 36H30.3158C31.4204 36 32.3158 35.1046 32.3158 34V19.1579",stroke:"white","stroke-width":"3"}),u.jsx("circle",{cx:"17.1577",cy:"24.2105",r:"6.73684",stroke:"white","stroke-width":"3"})]})}),u.jsx("img",{src:h?URL.createObjectURL(h):y.photo}),u.jsx("input",{type:"file",id:"photo-input",style:{display:"none"},onChange:k})]}),u.jsx("div",{className:ut["colors-container"],style:{background:t.element_first_color},children:T.map(I=>u.jsx(u.Fragment,{children:I.colors.map((j,R)=>u.jsx("div",{className:ut["color-circle"],style:{background:j},onClick:()=>E(j),children:m===j&&u.jsx("div",{className:ut["active-circle"],style:{borderColor:A(j)?"#0A0B10":"#fff"}})},R))}))}),u.jsxs("div",{className:ut["group-actions"],style:{background:t.element_first_color},children:[u.jsxs("div",{className:ut["input-data-container"],children:[u.jsx("div",{className:ut.label,style:{color:t.first_color},children:""}),u.jsx("input",{type:"text",value:o,className:ut["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:I=>i(I.target.value)})]}),u.jsxs("div",{className:ut["input-data-container"],children:[u.jsx("div",{className:ut.label,style:{color:t.first_color},children:""}),u.jsx("input",{type:"text",value:a,className:ut["input-data"],style:{color:t.text_first_color,caretColor:t.first_color},onChange:I=>l(I.target.value)})]}),u.jsx("div",{className:ut["button-container"],children:u.jsx("button",{className:ut["quit-button"],style:{color:t.text_first_color,background:t.first_color},onClick:N,children:""})})]})]})})}const SY="_container_yjc12_1",Um={container:SY,"main-button":"_main-button_yjc12_12"};function EY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B);p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4,background:t.background_color}),document.body.style.background=t.background_color},[B]);const[s,o]=p.useState([[1,2],[3,4]]),[i,a]=p.useState([]),l=v=>v[0].map((C,_)=>v.map(g=>g[_])),c=[[1,2],[3,4]],d=[[1,2,3],[4,5,6]],h=(v,w)=>{const C=v.length,_=v[0].length,g=w.length,y=w[0].length;if(_!==g)throw new Error("   A       B");const x=Array.from({length:C},()=>Array(y).fill(0));for(let b=0;b<C;b++)for(let S=0;S<y;S++)for(let T=0;T<_;T++)x[b][S]+=v[b][T]*w[T][S];return x},f=()=>{console.log(l(d))},m=()=>{console.log(h(c,d))};return u.jsxs("div",{className:Um.container,children:[u.jsx("button",{className:Um["main-button"],style:{background:t.first_color},onClick:f,children:""}),u.jsx("button",{className:Um["main-button"],style:{background:t.first_color},onClick:m,children:""})]})}const TY="_container_1pzp3_1",IY="_game_1pzp3_18",cC={container:TY,game:IY};function NY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B),s=ye();p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/group-list"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[B]);const[o,i]=p.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),a=p.useRef(),[l,c]=p.useState(0),[d,h]=p.useState({width:360,height:500});let f,m=d.width,v=d.height,w;const C=70,_=70,g=d.width/8,y=d.height/2;let x,b={x:g,y,width:C,height:_},S=[];const T=60,k=400,E=d.width,N=0;let A,I,j=-2,R=0,O=.4,M=!1;const L=()=>{const ne=window.innerWidth<768,ue=Math.min(window.innerWidth,360),Pe=ne?700:Math.min(window.innerHeight,100);h({width:ue,height:Pe})};p.useEffect(()=>(window.addEventListener("resize",L),L(),()=>{window.removeEventListener("resize",L)}),[]),p.useEffect(()=>{const ne=a.current;if(!ne)return;f=ne,f.height=v,f.width=m,w=f.getContext("2d"),x=new Image,x.src="flippybird/flappybird.png",x.onload=()=>{w.drawImage(x,b.x,b.y,b.width,b.height)},A=new Image,A.src="flippybird/toppipe.png",I=new Image,I.src="flippybird/bottompipe.png",requestAnimationFrame(P);const ue=setInterval(F,1500);return document.addEventListener("click",q),()=>{clearInterval(ue),document.removeEventListener("click",q)}},[x]);const P=()=>{if(requestAnimationFrame(P),!M){w.clearRect(0,0,f.width,f.height),R+=O,b.y=Math.max(b.y+R,0),w.drawImage(x,b.x,b.y,b.width,b.height),b.y>f.height&&(M=!0);for(let ne=0;ne<S.length;ne++){let ue=S[ne];ue.x+=j,w.drawImage(ue.img,ue.x,ue.y,ue.width,ue.height),!ue.passed&&b.x>ue.x+ue.width&&(c(Pe=>Pe+=.5),ue.passed=!0),te(b,ue)&&(M=!0)}for(;S.length>0&&S[0].x<-60;)S.shift();w.fillStyle="white",w.font="15px sans-serif",M&&i({isShow:!0,title:" !",text:` : ${l}`,firstButtonName:"",secondButtonName:"",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:()=>D()})}},D=()=>{M=!1,b={x:g,y,width:C,height:_},S=[],c(0),i({isShow:!1})},F=()=>{if(M)return;let ne=N-k/4-Math.random()*(k/2),ue=f.height/4,Pe={img:A,x:E,y:ne,width:T,height:k,passed:!1};S.push(Pe);let jn={img:I,x:E,y:ne+k+ue,width:T,height:k,passed:!1};S.push(jn)},q=ne=>{R=-6},te=(ne,ue)=>ne.x<ue.x+ue.width&&ne.x+ne.width>ue.x&&ne.y<ue.y+ue.height&&ne.y+ne.height>ue.y;return u.jsx("div",{className:cC.container,children:u.jsx("iframe",{className:cC.game,src:"https://ridgeld.github.io/game/",allowfullscreen:!0})})}const AY="_container_isjmo_1",PY="_game_isjmo_12",uC={container:AY,game:PY};function jY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B),s=ye();p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[B]);const[o,i]=p.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""});return u.jsx("div",{className:uC.container,children:u.jsx("iframe",{className:uC.game,src:"https://students-rating-private-ridgelds-projects.vercel.app/"})})}const RY="_container_zepfk_2",gi={container:RY,"search-container":"_search-container_zepfk_12","empty-body":"_empty-body_zepfk_40","empty-photo":"_empty-photo_zepfk_49","empty-info":"_empty-info_zepfk_59","empty-name":"_empty-name_zepfk_68"},LY="_body_68fin_2",OY="_photo_68fin_19",DY="_info_68fin_13",MY="_name_68fin_44",yi={body:LY,"info-group":"_info-group_68fin_13",photo:OY,info:DY,name:MY,"delete-button":"_delete-button_68fin_49"};function $Y({id:t,name:e,photo:n,onClick:r,canDelete:s,removeUser:o}){const{theme:i,setElementColors:a}=p.useContext(B),l=d=>{r(t)},c=d=>{d.stopPropagation(),o(t,e)};return u.jsxs("div",{className:yi.body,style:{borderTop:`1px solid ${i.element_first_color}`},onClick:l,children:[u.jsxs("div",{className:yi["info-group"],children:[u.jsx("div",{className:yi.photo,children:u.jsx("img",{src:n,alt:""})}),u.jsx("div",{className:yi.info,children:u.jsx("div",{className:yi.name,style:{color:i.text_first_color},children:e})})]}),s&&u.jsx("button",{className:yi["delete-button"],style:{background:i.element_first_color},onClick:c,children:u.jsx("svg",{width:"14",height:"13",viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M12.3031 1.1967L6.99984 6.5M1.69654 11.8033L6.99984 6.5M6.99984 6.5L12.3031 11.8033M6.99984 6.5L1.69654 1.1967",stroke:i.text_first_color,"stroke-width":"2","stroke-linecap":"round"})})})]})}function FY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),r=ye(),[s]=bI(),{id:o}=ns(),{authUser:i}=he(),a=s.get("isGroup")==="true",[l,c]=p.useState([]),[d,h]=p.useState(""),[f,m]=p.useState(!1),[v,w]=p.useState(!1),[C,_]=p.useState({isShow:!1,text:""}),g=async()=>{try{if(m(!0),!o){console.error("ID     ");return}const S=J(K,a?"groups":"users",o,"info",a?"info":"preferences"),T=await ce(S);if(T.exists()){const k=T.data(),E=a?k.members:k.followers||[];(a?k.owner:k.uid)===i._id&&w(!0);const A=await Promise.all(E.map(async I=>{const j=J(K,"users",I,"info","preferences"),R=await ce(j);if(R.exists()){const O=R.data();return{uid:I,name:O.name||" ",photo:O.photo||""}}return null}));c(A.filter(Boolean))}}catch(S){console.error("  :",S)}finally{m(!1)}};p.useEffect(()=>{n({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:a?()=>r(`/group/${o}`):()=>r(`/profile/${o}`),arrowColor:t.text_first_color,isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!0,footerBackground:t.background_color,activeElementIndex:4}),document.body.style.background=t.background_color},[t,o,a,r]),p.useEffect(()=>{g()},[o,a]);const y=S=>{h(S.target.value)},x=l.filter(S=>S.name.toLowerCase().includes(d.toLowerCase())),b=async(S,T)=>{try{if(a){const k=J(K,"groups",o,"info","info"),E=await ce(k);if(E.exists()){const A=E.data().members.filter(I=>I!==S);await gt(k,{members:A},{merge:!0}),_({isShow:!0,text:`  ${T}   `}),g(),console.log(` ${S}   `)}}else{const k=J(K,"users",o,"info","preferences"),E=await ce(k);if(E.exists()){const A=E.data().subscribers.filter(I=>I!==S);await gt(k,{followers:A},{merge:!0}),_({isShow:!0,text:`  ${T}   `}),g(),console.log(` ${S}   `)}}}catch(k){console.error("   :",k)}};return u.jsxs("div",{className:gi.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                    width: 10px;
                }
                ::-webkit-scrollbar-thumb {
                    background: ${t.first_color};
                    border-radius: 5px;
                }
                ::-webkit-scrollbar-track {
                    background-color: rgba(0, 0, 0, 0.3);
                }
            `}),u.jsx(Yt,{isShow:C.isShow,text:C.text}),u.jsx(W6,{value:d,onChange:y,placeholder:""}),u.jsx("div",{className:gi["search-container"],children:f?Array.from({length:2}).map((S,T)=>u.jsxs("div",{className:gi["empty-body"],style:{borderTop:`1px solid ${t.element_first_color}`},children:[u.jsx("div",{className:gi["empty-photo"],children:u.jsx(Cn,{height:"30px",width:"30px",shape:"circle"})}),u.jsx("div",{className:gi["empty-info"],children:u.jsx("div",{className:gi["empty-name"],style:{color:t.text_first_color},children:u.jsx(Cn,{height:"10px",width:"100px",shape:"rect"})})})]},T)):x.map((S,T)=>u.jsx($Y,{id:S.uid,name:S.name,photo:S.photo,canDelete:v,removeUser:b,onClick:()=>r(`/profile/${S.uid}`)},T))})]})}const BY="_container_1e7tt_1",UY="_board_1e7tt_8",VY="_controls_1e7tt_15",wn={container:BY,board:UY,controls:VY,"input-container":"_input-container_1e7tt_22","input-data":"_input-data_1e7tt_30","check-button":"_check-button_1e7tt_48","show-name-button":"_show-name-button_1e7tt_65","next-button":"_next-button_1e7tt_82","bottom-controls":"_bottom-controls_1e7tt_99","answer-display":"_answer-display_1e7tt_107"},oo=[{id:1,name:"  ",frontalProjection:[{x:2,y:5},{x:8,y:5}],horizontalProjection:[{x:2,y:3},{x:8,y:6}]},{id:2,name:"  ",frontalProjection:[{x:5,y:5}],horizontalProjection:[{x:5,y:2},{x:5,y:6}]},{id:3,name:"  ",frontalProjection:[{x:1,y:3},{x:9,y:7}],horizontalProjection:[{x:1,y:7},{x:9,y:3}]},{id:4,name:"  ",frontalProjection:[{x:3,y:5},{x:4,y:4},{x:5,y:3.5},{x:6,y:3.2},{x:7,y:3.5},{x:8,y:4},{x:9,y:5}],horizontalProjection:[{x:3,y:5},{x:9,y:5}]},{id:5,name:"  ",frontalProjection:[{x:5,y:3},{x:5,y:7}],horizontalProjection:[{x:5,y:4}]},{id:6,name:"  ",frontalProjection:[{x:5,y:3},{x:5,y:7}],horizontalProjection:[{x:5,y:3},{x:5,y:7}]},{id:7,name:"  ",frontalProjection:[{x:4,y:5},{x:9,y:5}],horizontalProjection:[{x:4,y:5},{x:9,y:5}]},{id:8,name:"  ",frontalProjection:[{x:4,y:3},{x:9,y:5}],horizontalProjection:[{x:4,y:3},{x:9,y:5},null,{x:9,y:3},{x:4,y:5}]},{id:9,name:"  ",frontalProjection:[{x:4,y:3},{x:9,y:3},null,{x:4,y:6},{x:9,y:6}],horizontalProjection:[{x:4,y:5},{x:9,y:5}]},{id:10,name:"  ",frontalProjection:[{x:2.5,y:3},{x:1,y:3},{x:1,y:6},{x:2.5,y:6},null,{x:1,y:4.5},{x:2.5,y:4.5},null,{x:3.5,y:3},{x:3.5,y:6},{x:5,y:6},null,{x:6.3,y:3},{x:6,y:3},{x:6,y:6},{x:6.3,y:6},{x:7,y:5.7},{x:7.5,y:5},{x:7.5,y:4},{x:7,y:3.3},{x:6.3,y:3},null,{x:8.5,y:6},{x:9.25,y:3},{x:10,y:6},null,{x:8.75,y:5},{x:9.75,y:5},null,{x:11,y:6},{x:11,y:3},{x:12.5,y:6},{x:12.5,y:3}],horizontalProjection:[{x:1,y:5},{x:2.5,y:5},null,{x:3.5,y:5},{x:5,y:5},null,{x:6,y:5},{x:7.5,y:5},null,{x:8.5,y:5},{x:10,y:5},null,{x:11,y:5},{x:12.5,y:5},null]},{id:11,name:"  ",frontalProjection:[{x:4,y:3},{x:9,y:5}],horizontalProjection:[{x:4,y:3},{x:9,y:3},null,{x:4,y:6},{x:9,y:6}]},{id:12,name:"Z !",frontalProjection:[{x:4,y:3},{x:9,y:3},{x:4,y:6},{x:9,y:6}],horizontalProjection:[{x:4,y:3},{x:6.5,y:6},{x:9,y:3}]},{id:13,name:"  ",frontalProjection:[{x:4,y:6},{x:6.5,y:3},{x:9,y:6},{x:4,y:6}],horizontalProjection:[{x:4,y:3},{x:9,y:5}]},{id:14,name:"  ",frontalProjection:[{x:4,y:5},{x:9,y:5}],horizontalProjection:[{x:4,y:6},{x:4.5,y:5},{x:5.5,y:4.2},{x:6.5,y:4},{x:7.5,y:4.2},{x:8.5,y:5},{x:9,y:6}]},{id:15,name:"  ",frontalProjection:[{x:4,y:3},{x:9,y:6}],horizontalProjection:[{x:4,y:2},{x:9,y:5},null,{x:4,y:4},{x:9,y:7}]},{id:16,name:"  ",frontalProjection:[{x:6,y:7},{x:8,y:7},{x:9.5,y:5},{x:8,y:3},{x:6,y:3},{x:4.5,y:5},{x:6,y:7}],horizontalProjection:[{x:6,y:7},{x:8,y:7},{x:9.5,y:5},{x:8,y:3},{x:6,y:3},{x:4.5,y:5},{x:6,y:7}]}];function zY(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B),s=ye(),o=p.useRef(),[i,a]=p.useState(0),[l,c]=p.useState(0),[d,h]=p.useState(""),[f,m]=p.useState(!1),[v,w]=p.useState(null),[C,_]=p.useState({isShow:!1,title:"",text:"",firstButtonName:"",secondButtonName:""}),[g,y]=p.useState({width:400,height:600});p.useEffect(()=>{r({iconColor:t.icon_color,titleColor:t.text_first_color,showArrow:!0,arrowLink:()=>s("/game-menu"),arrowColor:t.text_first_color,isHeaderBackground:!0,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:0,background:t.background_color}),document.body.style.background=t.background_color},[t]);const x=()=>{const A=window.innerWidth<768,I=A?window.innerWidth-40:600,j=A?350:Math.min(window.innerHeight-100,300);y({width:Math.min(window.innerWidth-40,I),height:j})};p.useEffect(()=>{window.addEventListener("resize",x),x();const A=Math.floor(Math.random()*oo.length);return c(A),()=>{window.removeEventListener("resize",x)}},[]),p.useEffect(()=>{const A=o.current;if(!A)return;const I=A.getContext("2d"),j=20,R=Math.floor(g.width/j),O=Math.floor(g.height/j);I.clearRect(0,0,g.width,g.height),b(I,j,R,O);const M={x:0,y:0,width:g.width,height:g.height/2},L={x:0,y:g.height/2,width:g.width,height:g.height/2};I.beginPath(),I.moveTo(0,g.height/2),I.lineTo(g.width,g.height/2),I.strokeStyle=t.text_first_color,I.lineWidth=2,I.stroke();const P=oo[l];S(I,P.frontalProjection,j,M,t.third_color),S(I,P.horizontalProjection,j,L,t.first_color),I.font="16px Inter",I.fillStyle=t.text_first_color,I.fillText(" ",10,20),I.fillText(" ",10,g.height/2+20)},[g,l]);const b=(A,I,j,R)=>{A.beginPath(),A.strokeStyle=t.element_second_color,A.lineWidth=.5;for(let O=0;O<=j;O++)A.moveTo(O*I,0),A.lineTo(O*I,g.height);for(let O=0;O<=R;O++)A.moveTo(0,O*I),A.lineTo(g.width,O*I);A.stroke()},S=(A,I,j,R,O)=>{if(I.length===0)return;A.strokeStyle=O,A.lineWidth=2,A.fillStyle=O;let M=null;I.forEach((L,P)=>{if(L===null){M=null;return}const D=R.x+L.x*j,F=R.y+L.y*j;M!==null&&(A.beginPath(),A.moveTo(M.x,M.y),A.lineTo(D,F),A.stroke()),A.beginPath(),A.arc(D,F,4,0,Math.PI*2),A.fill(),M={x:D,y:F}})},T=A=>{h(A.target.value),w(null)},k=()=>{const A=oo[l].name.toLowerCase();d.toLowerCase()===A?(w(!0),a(j=>j+1),_({isShow:!0,title:"!",text:"   .",firstButtonName:"",secondButtonName:"",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:E})):(w(!1),_({isShow:!0,title:"!",text:` : ${oo[l].name}`,firstButtonName:"",secondButtonName:"",firstButtonOnClick:()=>s("/game-menu"),secondButtonOnClick:E}))},E=()=>{let A;do A=Math.floor(Math.random()*oo.length);while(A===l&&oo.length>1);c(A),h(""),m(!1),w(null),_({isShow:!1})},N=()=>{m(!0)};return u.jsxs("div",{className:wn.container,children:[u.jsx(ai,{title:C.title,text:C.text,isShow:C.isShow,firstButtonName:C.firstButtonName,secondButtonName:C.secondButtonName,firstButtonOnClick:C.firstButtonOnClick,secondButtonOnClick:C.secondButtonOnClick}),u.jsx("canvas",{ref:o,width:g.width,height:g.height,className:wn.board,style:{background:t.element_first_color}}),f&&u.jsxs("div",{className:wn["answer-display"],style:{background:t.element_first_color,color:t.text_first_color,border:`1px solid ${t.text_first_color}`},children:[": ",oo[l].name]}),u.jsxs("div",{className:wn.controls,children:[u.jsxs("div",{className:wn["input-container"],children:[u.jsx("input",{type:"text",placeholder:"",value:d,className:wn["input-data"],style:{color:t.text_first_color,caretColor:t.first_color,backgroundColor:t.element_first_color,"--placeholder-color":t.text_third_color},onChange:T}),u.jsx("button",{className:wn["check-button"],style:{color:t.text_first_color,background:t.first_color},onClick:k,children:""})]}),u.jsxs("div",{className:wn["bottom-controls"],children:[u.jsx("button",{className:wn["show-name-button"],style:{color:t.text_first_color,background:t.element_first_color},onClick:N,children:" "}),u.jsx("button",{className:wn["next-button"],style:{color:t.text_first_color,background:t.first_color},onClick:E,children:""})]}),v!==null&&!C.isShow&&u.jsx("div",{className:`${wn.result} ${v?wn.correct:wn.incorrect}`,children:v?"!":"!"})]})]})}const HY=[{path:"/",exact:!0,component:u.jsx(PM,{}),auth:!1},{path:"/sign-up",exact:!1,component:u.jsx(OM,{}),auth:!1},{path:"/sign-in",exact:!1,component:u.jsx(m7,{}),auth:!0},{path:"/about",exact:!1,component:u.jsx(qF,{}),auth:!1},{path:"/menu",exact:!0,component:u.jsx(JF,{}),auth:!0},{path:"/messenger",exact:!0,component:u.jsx(EW,{}),auth:!0},{path:"/timetable/:id?",exact:!0,component:u.jsx(eG,{}),auth:!0},{path:"/list-menu",exact:!0,component:u.jsx(sG,{}),auth:!0},{path:"/posts",exact:!0,component:u.jsx(gG,{}),auth:!0},{path:"/settings",exact:!0,component:u.jsx(xG,{}),auth:!0},{path:"/cashback",exact:!0,component:u.jsx(EG,{}),auth:!1},{path:"/shop",exact:!0,component:u.jsx(jG,{}),auth:!0},{path:"/casino",exact:!0,component:u.jsx(QG,{}),auth:!0},{path:"/updates",exact:!0,component:u.jsx(nK,{}),auth:!0},{path:"/download/:id?",exact:!1,component:u.jsx(dK,{}),auth:!0},{path:"/profile/:id?",exact:!1,component:u.jsx(vK,{}),auth:!0},{path:"/game-menu",exact:!0,component:u.jsx(EK,{}),auth:!0},{path:"/tapcoin",exact:!0,component:u.jsx(RK,{}),auth:!0},{path:"/rocket",exact:!0,component:u.jsx(UK,{}),auth:!0},{path:"/quiz/:mode?",exact:!1,component:u.jsx(eY,{}),auth:!0},{path:"/search",exact:!0,component:u.jsx(uY,{}),auth:!0},{path:"/test",exact:!0,component:u.jsx(TK,{}),auth:!0},{path:"/group/:id?",exact:!1,component:u.jsx(yY,{}),auth:!0},{path:"/subscribers/:id?",exact:!1,component:u.jsx(FY,{}),auth:!0},{path:"/group-list",exact:!1,component:u.jsx(_Y,{}),auth:!0},{path:"/create-group",exact:!1,component:u.jsx(kY,{}),auth:!0},{path:"/matrix",exact:!0,component:u.jsx(EY,{}),auth:!1},{path:"/flippybird",exact:!0,component:u.jsx(NY,{}),auth:!1},{path:"/rating",exact:!0,component:u.jsx(jY,{}),auth:!1},{path:"/guessline",exact:!0,component:u.jsx(zY,{}),auth:!1}],qY="_heading_qnxvq_34",ol={"content-wrapper":"_content-wrapper_qnxvq_1","img-wrapper":"_img-wrapper_qnxvq_13","image-no-select":"_image-no-select_qnxvq_26",heading:qY};function WY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B);return p.useEffect(()=>{n({iconColor:t.text_first_color,titleColor:t.text_first_color,showArrow:!0,arrowColor:t.text_first_color,arrowLink:"#/menu",isHeaderBackground:!1,headerBackground:t.background_color,isHeader:!0,isFooter:!1,footerBackground:t.background_color,activeElementIndex:3}),document.body.style.background=t.background_color},[B]),u.jsxs("div",{className:ol.container,children:[u.jsx("style",{children:`
                ::-webkit-scrollbar {
                  width: 10px; /*   */
                }

                /*    */
                ::-webkit-scrollbar-thumb {
                  background: ${t.first_color}; /*   */
                  border-radius: 5px; /*    */
                  cursor: pointer;
                }

                /*    */
                ::-webkit-scrollbar-track {
                  background-color: rgba($color: #000000, $alpha: 0.3); /*   */
                }
            `}),u.jsxs("div",{className:ol["content-wrapper"],style:{background:t.first_color},children:[u.jsxs("div",{className:ol["img-wrapper"],children:[u.jsx("div",{className:ol["image-no-select"]}),u.jsx("img",{src:"4.png"})]}),u.jsx("h3",{className:ol.heading,style:{color:t.text_first_color},children:"  "})]})]})}function GY(){const{theme:t,elementColors:e,setElementColors:n}=p.useContext(B),{authUser:r}=he(),[s,o]=p.useState(!1);return p.useEffect(()=>{const i=f7.onAuthStateChanged(a=>{o(!0)});return()=>i()},[]),s?u.jsx(CI,{children:u.jsxs(vI,{children:[HY.map(i=>u.jsx(O1,{path:i.path,element:i.auth&&!r?u.jsx(m7,{}):i.component,exact:i.exact},i.path)),u.jsx(O1,{path:"*",element:u.jsx(WY,{})})," "]})}):u.jsx(L4,{color:t.icon_color})}function KY(){return u.jsx(AM,{children:u.jsx(GY,{})})}const YY="_header_oh6ql_1",QY="_logo_container_oh6ql_14",ZY="_icon_oh6ql_22",XY="_masked_oh6ql_28",JY="_title_oh6ql_34",eQ="_show_oh6ql_41",tQ="_hide_oh6ql_51",io={header:YY,logo_container:QY,icon:ZY,masked:XY,title:JY,show:eQ,hide:tQ};function nQ(t){const{elementColors:e}=p.useContext(B);return e.isHeader?u.jsxs("div",{className:io.header,style:{background:e.isHeaderBackground?e.headerBackground:"transparent"},children:[u.jsxs("div",{className:io.logo_container,children:[u.jsxs("div",{className:io.icon,children:[u.jsx("div",{className:io.masked,style:{background:e.iconColor}}),u.jsx("svg",{width:"0",height:"0",children:u.jsx("clipPath",{id:"light",children:u.jsx("path",{d:"M9.54642 0.0769926C9.65318 0.14082 9.7358 0.240097 9.78078 0.358606C9.82576 0.477116 9.83043 0.607851 9.79404 0.729455L7.82939 7.31258H11.4543C11.5609 7.31254 11.6651 7.34466 11.7541 7.405C11.8431 7.46533 11.9131 7.55122 11.9553 7.65208C11.9975 7.75293 12.0102 7.86433 11.9917 7.97253C11.9733 8.08072 11.9245 8.18097 11.8514 8.2609L3.12447 17.8229C3.04003 17.9155 2.92766 17.9758 2.80569 17.9941C2.68371 18.0124 2.55932 17.9876 2.45279 17.9237C2.34625 17.8597 2.26386 17.7605 2.21904 17.6421C2.17421 17.5237 2.1696 17.3931 2.20596 17.2716L4.17061 10.6874H0.545652C0.439123 10.6874 0.334914 10.6553 0.245888 10.595C0.156862 10.5346 0.0869167 10.4487 0.044687 10.3479C0.00245728 10.247 -0.0102083 10.1356 0.00825369 10.0274C0.0267157 9.91925 0.0754969 9.819 0.148576 9.73907L8.87553 0.177112C8.95987 0.0846411 9.07206 0.0243103 9.19387 0.00592874C9.31567 -0.0124528 9.43992 0.0121961 9.54642 0.0758676V0.0769926Z"})})})]}),u.jsx("div",{className:io.title,style:{color:e.titleColor},children:"GENERY"})]}),u.jsx("a",{onClick:e.arrowLink,className:e.showArrow?io.show:io.hide,children:u.jsx("svg",{width:"22",height:"16",viewBox:"0 0 22 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M21 9C21.5523 9 22 8.55228 22 8C22 7.44772 21.5523 7 21 7L21 9ZM0.292893 7.2929C-0.0976311 7.68342 -0.097631 8.31658 0.292893 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928933C7.68054 0.538409 7.04738 0.538409 6.65685 0.928933L0.292893 7.2929ZM21 7L1 7L1 9L21 9L21 7Z",fill:e.titleColor})})})]}):null}const rQ="_footer_frqas_1",sQ="_item_frqas_14",Fh={footer:rQ,"item-body":"_item-body_frqas_14",item:sQ,"item-bg":"_item-bg_frqas_34"};function oQ(){const{theme:t,setThemeById:e,elementColors:n,setElementColors:r}=p.useContext(B);return u.jsx(ot.div,{className:Fh["item-bg"],layoutId:"activeItem",style:{background:t.active_element_color}})}function iQ({icon:t,link:e,isActive:n}){const{theme:r,setThemeById:s,elementColors:o,setElementColors:i}=p.useContext(B);return u.jsxs(ot.a,{className:Fh["item-body"],layout:!0,onMouseEnter:a=>{a.currentTarget.style.background=r.active_element_color},onMouseLeave:a=>{a.currentTarget.style.background="none"},href:e,children:[u.jsx("div",{className:Fh.item,children:t}),n&&u.jsx(oQ,{})]})}function aQ(){const{elementColors:t,theme:e}=p.useContext(B),n=[{icon:u.jsx("svg",{width:"26",height:"25",viewBox:"0 0 26 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M24.5 21.4781V12.988C24.5 12.3039 24.359 11.6269 24.0855 10.9982C23.812 10.3696 23.4118 9.80239 22.9092 9.3312L14.7608 1.69353C14.2858 1.24827 13.6557 1 13.0006 1C12.3455 1 11.7154 1.24827 11.2405 1.69353L3.09083 9.3312C2.58822 9.80239 2.188 10.3696 1.91452 10.9982C1.64103 11.6269 1.5 12.3039 1.5 12.988V21.4781C1.5 22.1469 1.76925 22.7884 2.2485 23.2613C2.72776 23.7343 3.37778 24 4.05556 24H21.9444C22.6222 24 23.2722 23.7343 23.7515 23.2613C24.2308 22.7884 24.5 22.1469 24.5 21.4781Z",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),link:"#/menu"},{icon:u.jsx("svg",{width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M19.0976 18.396C20.6844 16.5982 21.6472 14.2366 21.6472 11.6501C21.6472 6.01758 17.0811 1.45151 11.4486 1.45151C5.81607 1.45151 1.25 6.01758 1.25 11.6501C1.25 17.2827 5.81607 21.8487 11.4486 21.8487C14.4947 21.8487 17.2288 20.5133 19.0976 18.396ZM19.0976 18.396L24.25 23.5485",stroke:e.text_first_color,"stroke-width":"2","stroke-linejoin":"round"})}),link:"#/search"},{icon:u.jsx("svg",{width:"26",height:"23",viewBox:"0 0 26 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{d:"M13 13.1C14.1573 13.1 15.2672 12.6364 16.0856 11.8113C16.9039 10.9861 17.3636 9.86695 17.3636 8.7C17.3636 7.53305 16.9039 6.41389 16.0856 5.58873C15.2672 4.76357 14.1573 4.3 13 4.3C11.8427 4.3 10.7328 4.76357 9.91444 5.58873C9.0961 6.41389 8.63636 7.53305 8.63636 8.7C8.63636 9.86695 9.0961 10.9861 9.91444 11.8113C10.7328 12.6364 11.8427 13.1 13 13.1ZM13 13.1C11.264 13.1 9.59918 13.7954 8.37167 15.0331C7.14415 16.2708 6.45455 17.9496 6.45455 19.7V23M13 13.1C14.736 13.1 16.4008 13.7954 17.6283 15.0331C18.8558 16.2708 19.5455 17.9496 19.5455 19.7V23M14.0909 4.3C14.5316 2.4696 16.2891 1 18.4545 1C20.824 1 22.7964 2.969 22.8182 5.4C22.7964 7.831 20.824 9.8 18.4545 9.8M18.4545 9.8H17.3636M18.4545 9.8C22.0415 9.8 25 12.7546 25 16.4V18.6M11.9091 4.3C11.4684 2.4696 9.71091 1 7.54545 1C5.176 1 3.20364 2.969 3.18182 5.4C3.20364 7.831 5.176 9.8 7.54545 9.8M7.54545 9.8H8.63636M7.54545 9.8C3.95855 9.8 1 12.7546 1 16.4V18.6",stroke:e.text_first_color,"stroke-width":"2"})}),link:"#/group-list"},{icon:u.jsxs("svg",{width:"26",height:"27",viewBox:"0 0 26 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M16.8333 7.74997H16.8461M14.9167 24.3611H5.33333C4.31667 24.3611 3.34165 23.9572 2.62276 23.2383C1.90387 22.5194 1.5 21.5444 1.5 20.5278V5.19442C1.5 4.17775 1.90387 3.20273 2.62276 2.48384C3.34165 1.76495 4.31667 1.36108 5.33333 1.36108H20.6667C21.6833 1.36108 22.6584 1.76495 23.3772 2.48384C24.0961 3.20273 24.5 4.17775 24.5 5.19442V13.5",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M1.5 17.9721L7.88889 11.5832C9.07467 10.4422 10.5364 10.4422 11.7222 11.5832L16.8333 16.6944",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M15.5557 15.4167L16.8334 14.1389C17.6883 13.3173 18.6862 13.0873 19.619 13.4489M21.9446 17.9723L19.389 21.8056H24.5001L21.9446 25.6389",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),link:"#/posts"},{icon:u.jsxs("svg",{width:"26",height:"17",viewBox:"0 0 26 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M1 1.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),u.jsx("path",{d:"M1 8.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"}),u.jsx("path",{d:"M1 15.5H25",stroke:e.text_first_color,strokeWidth:"2",strokeLinecap:"round"})]}),link:"#/list-menu"}];return t.isFooter&&u.jsx("div",{className:Fh.footer,style:{background:t.footerBackground},children:u.jsx(DH,{id:"footer",children:n.map((r,s)=>u.jsx(iQ,{icon:r.icon,link:r.link,isActive:s===t.activeElementIndex},s))})})}const lQ="_wrapper_u6s2n_1",cQ="_content_u6s2n_12",dC={wrapper:lQ,content:cQ};function uQ({children:t}){const{theme:e,setThemeById:n,elementColors:r,setElementColors:s}=p.useContext(B),[o,i]=p.useState(e.background_color);return p.useEffect(()=>{i(r.background)},[r]),u.jsxs(u.Fragment,{children:[u.jsx(nQ,{}),u.jsx("div",{className:dC.wrapper,children:u.jsx("div",{className:dC.content,children:t})}),u.jsx(aQ,{})]})}IT.createRoot(document.getElementById("main")).render(u.jsx(bo.StrictMode,{children:u.jsx(II,{children:u.jsx(uQ,{children:u.jsx(KY,{})})})}));
